/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={4184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},6010:(t,e,n)=>{"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.r(e),n.d(e,{default:()=>i})},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function i(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(t)?u?l.arrayMerge(t,n,l):function(t,e,n){var i={};return n.isMergeableObject(t)&&o(t).forEach((function(e){i[e]=r(t[e],n)})),o(e).forEach((function(o){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(a(t,o)&&n.isMergeableObject(e[o])?i[o]=function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(o,n)(t[o],e[o],n):i[o]=r(e[o],n))})),i}(t,n,l):r(n,l)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return s(t,n,e)}),{})};var l=s;t.exports=l},6998:function(t){t.exports=function(t,e){if(null==e&&(e={fuzzy:!0}),/youtu\.?be/.test(t)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(t))return r[n].exec(t)[1];if(e.fuzzy){var i=t.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},9090:t=>{function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function n(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=t,r.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?e:n)(a,i),a.onload||e(a,i),o.appendChild(a)}},2307:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",p="[object Promise]",y="[object RegExp]",v="[object Set]",g="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[a]=S[_]=S[s]=S[b]=S[l]=S[u]=S[c]=S[f]=S[h]=S[d]=S[y]=S[v]=S[g]=S[m]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,k=E||C||Function("return this")(),P=e&&!e.nodeType&&e,T=P&&t&&!t.nodeType&&t,R=T&&T.exports===P,A=R&&E.process,O=function(){try{return A&&A.binding&&A.binding("util")}catch(t){}}(),I=O&&O.isTypedArray;function M(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function D(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function L(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var j,F,N,U=Array.prototype,B=Function.prototype,z=Object.prototype,W=k["__core-js_shared__"],G=B.toString,q=z.hasOwnProperty,V=(j=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",H=z.toString,X=RegExp("^"+G.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=R?k.Buffer:void 0,K=k.Symbol,Z=k.Uint8Array,Q=z.propertyIsEnumerable,J=U.splice,$=K?K.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=Y?Y.isBuffer:void 0,nt=(F=Object.keys,N=Object,function(t){return F(N(t))}),rt=Tt(k,"DataView"),it=Tt(k,"Map"),ot=Tt(k,"Promise"),at=Tt(k,"Set"),st=Tt(k,"WeakMap"),lt=Tt(Object,"create"),ut=It(rt),ct=It(it),ft=It(ot),ht=It(at),dt=It(st),pt=K?K.prototype:void 0,yt=pt?pt.valueOf:void 0;function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function bt(t){var e=this.__data__=new gt(t);this.size=e.size}function wt(t,e){for(var n=t.length;n--;)if(Mt(t[n][0],e))return n;return-1}function xt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$&&$ in Object(t)?function(t){var e=q.call(t,$),n=t[$];try{t[$]=void 0;var r=!0}catch(t){}var i=H.call(t);return r&&(e?t[$]=n:delete t[$]),i}(t):function(t){return H.call(t)}(t)}function St(t){return Bt(t)&&xt(t)==o}function Et(t,e,n,r,i){return t===e||(null==t||null==e||!Bt(t)&&!Bt(e)?t!=t&&e!=e:function(t,e,n,r,i,c){var p=Lt(t),m=Lt(e),w=p?a:At(t),x=m?a:At(e),S=(w=w==o?d:w)==d,E=(x=x==o?d:x)==d,C=w==x;if(C&&jt(t)){if(!jt(e))return!1;p=!0,S=!1}if(C&&!S)return c||(c=new bt),p||zt(t)?Ct(t,e,n,r,i,c):function(t,e,n,r,i,o,a){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!o(new Z(t),new Z(e)));case s:case l:case h:return Mt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case y:case g:return t==e+"";case f:var c=D;case v:var d=1&r;if(c||(c=L),t.size!=e.size&&!d)return!1;var p=a.get(t);if(p)return p==e;r|=2,a.set(t,e);var m=Ct(c(t),c(e),r,i,o,a);return a.delete(t),m;case"[object Symbol]":if(yt)return yt.call(t)==yt.call(e)}return!1}(t,e,w,n,r,i,c);if(!(1&n)){var k=S&&q.call(t,"__wrapped__"),P=E&&q.call(e,"__wrapped__");if(k||P){var T=k?t.value():t,R=P?e.value():e;return c||(c=new bt),i(T,R,n,r,c)}}return!!C&&(c||(c=new bt),function(t,e,n,r,i,o){var a=1&n,s=kt(t),l=s.length;if(l!=kt(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:q.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<l;){var p=t[c=s[u]],y=e[c];if(r)var v=a?r(y,p,c,e,t,o):r(p,y,c,t,e,o);if(!(void 0===v?p===y||i(p,y,n,r,o):v)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,r,i,c))}(t,e,n,r,Et,i))}function Ct(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,f=!0,h=2&n?new _t:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var y=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(h){if(!M(e,(function(t,e){if(a=e,!h.has(a)&&(d===t||i(d,t,n,r,o)))return h.push(e);var a}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function kt(t){return function(t,e,n){var r=e(t);return Lt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Wt,Rt)}function Pt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Tt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ut(t)||function(t){return!!V&&V in t}(t))&&(Ft(t)?X:w).test(It(t))}(n)?n:void 0}vt.prototype.clear=function(){this.__data__=lt?lt(null):{},this.size=0},vt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vt.prototype.get=function(t){var e=this.__data__;if(lt){var n=e[t];return n===r?void 0:n}return q.call(e,t)?e[t]:void 0},vt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:q.call(e,t)},vt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lt&&void 0===e?r:e,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=wt(e,t);return!(n<0||(n==e.length-1?e.pop():J.call(e,n,1),--this.size,0))},gt.prototype.get=function(t){var e=this.__data__,n=wt(e,t);return n<0?void 0:e[n][1]},gt.prototype.has=function(t){return wt(this.__data__,t)>-1},gt.prototype.set=function(t,e){var n=this.__data__,r=wt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new vt,map:new(it||gt),string:new vt}},mt.prototype.delete=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return Pt(this,t).get(t)},mt.prototype.has=function(t){return Pt(this,t).has(t)},mt.prototype.set=function(t,e){var n=Pt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,r),this},_t.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new gt,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof gt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};var Rt=tt?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];l=s,Q.call(t,l)&&(a[o++]=s)}var l;return a}(tt(t)))}:function(){return[]},At=xt;function Ot(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function It(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mt(t,e){return t===e||t!=t&&e!=e}(rt&&At(new rt(new ArrayBuffer(1)))!=b||it&&At(new it)!=f||ot&&At(ot.resolve())!=p||at&&At(new at)!=v||st&&At(new st)!=m)&&(At=function(t){var e=xt(t),n=e==d?t.constructor:void 0,r=n?It(n):"";if(r)switch(r){case ut:return b;case ct:return f;case ft:return p;case ht:return v;case dt:return m}return e});var Dt=St(function(){return arguments}())?St:function(t){return Bt(t)&&q.call(t,"callee")&&!Q.call(t,"callee")},Lt=Array.isArray,jt=et||function(){return!1};function Ft(t){if(!Ut(t))return!1;var e=xt(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Nt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ut(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Bt(t){return null!=t&&"object"==typeof t}var zt=I?function(t){return function(e){return t(e)}}(I):function(t){return Bt(t)&&Nt(t.length)&&!!S[xt(t)]};function Wt(t){return null!=(e=t)&&Nt(e.length)&&!Ft(e)?function(t,e){var n=Lt(t),r=!n&&Dt(t),i=!n&&!r&&jt(t),o=!n&&!r&&!i&&zt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!q.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ot(u,l))||s.push(u);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||z))return nt(t);var e,n,r=[];for(var i in Object(t))q.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t);var e}t.exports=function(t,e){return Et(t,e)}},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),h=!n&&!c&&!f&&l(t),d=n||c||f||h,p=d?r(t.length,String):[],y=p.length;for(var v in t)!e&&!u.call(t,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||p.push(v);return p}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(t,e){return t&&r(e,i(e),t)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t,e){return t&&r(e,i(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),l=n(4626),u=n(278),c=n(8805),f=n(1911),h=n(8234),d=n(6904),p=n(4160),y=n(3824),v=n(9148),g=n(8517),m=n(1469),_=n(4144),b=n(6688),w=n(3218),x=n(2928),S=n(3674),E=n(1704),C="[object Arguments]",k="[object Function]",P="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[P]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[k]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,R,A,O,I){var M,D=1&n,L=2&n,j=4&n;if(R&&(M=O?R(e,A,O,I):R(e)),void 0!==M)return M;if(!w(e))return e;var F=m(e);if(F){if(M=y(e),!D)return u(e,M)}else{var N=p(e),U=N==k||"[object GeneratorFunction]"==N;if(_(e))return l(e,D);if(N==P||N==C||U&&!O){if(M=L||U?{}:g(e),!D)return L?f(e,s(M,e)):c(e,a(M,e))}else{if(!T[N])return O?e:{};M=v(e,N,D)}}I||(I=new r);var B=I.get(e);if(B)return B;I.set(e,M),x(e)?e.forEach((function(r){M.add(t(r,n,R,r,e,I))})):b(e)&&e.forEach((function(r,i){M.set(i,t(r,n,R,i,e,I))}));var z=F?void 0:(j?L?d:h:L?E:S)(e);return i(z||e,(function(r,i){z&&(r=e[i=r]),o(M,i,t(r,n,R,i,e,I))})),M}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function t(e,n,o,a,s){var l=-1,u=e.length;for(o||(o=i),s||(s=[]);++l<u;){var c=e[l];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,v,g){var m=l(t),_=l(e),b=m?h:s(t),w=_?h:s(e),x=(b=b==f?d:b)==d,S=(w=w==f?d:w)==d,E=b==w;if(E&&u(t)){if(!u(e))return!1;m=!0,x=!1}if(E&&!x)return g||(g=new r),m||c(t)?i(t,e,n,y,v,g):o(t,e,b,n,y,v,g);if(!(1&n)){var C=x&&p.call(t,"__wrapped__"),k=S&&p.call(e,"__wrapped__");if(C||k){var P=C?t.value():t,T=k?e.value():e;return g||(g=new r),v(P,T,n,y,g)}}return!!E&&(g||(g=new r),a(t,e,n,y,v,g))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],f=t[c],h=u[1];if(l&&u[2]){if(void 0===f&&!(c in t))return!1}else{var d=new r;if(o)var p=o(f,h,c,t,e,d);if(!(void 0===p?i(h,f,3,o,d):p))return!1}}return!0}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2689:(t,e,n)=>{var r=n(9932),i=n(7786),o=n(7206),a=n(9199),s=n(1131),l=n(1717),u=n(5022),c=n(6557),f=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return f(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[c];var h=-1;e=r(e,l(o));var d=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return s(d,(function(t,e){return u(t,e,n)}))}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),o=n(61);t.exports=function(t,e){return o(i(t,e,r),t+"")}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),o=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},1131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,u=e==e,c=r(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(t,e){return r(t,i(t),e)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(t,e){return r(t,i(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},8777:(t,e,n)=>{var r=n(852),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=l.get(t),d=l.get(e);if(h&&d)return h==e&&d==t;var p=-1,y=!0,v=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<c;){var g=t[p],m=e[p];if(a)var _=u?a(m,g,p,e,t,l):a(g,m,p,t,e,l);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(g===t||s(g,t,n,a,l)))return v.push(e)}))){y=!1;break}}else if(g!==m&&!s(g,m,n,a,l)){y=!1;break}}return l.delete(t),l.delete(e),y}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=l),t.size!=e.size&&!p)return!1;var y=h.get(t);if(y)return y==e;r|=2,h.set(t,e);var v=a(d(t),d(e),r,u,f,h);return h.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var f=c;f--;){var h=u[f];if(!(l?h in e:i.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var y=!0;s.set(t,e),s.set(e,t);for(var v=l;++f<c;){var g=t[h=u[f]],m=e[h];if(o)var _=l?o(m,g,h,e,t,s):o(g,m,h,t,e,s);if(!(void 0===_?g===m||a(g,m,n,o,s):_)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(y=!1)}return s.delete(t),s.delete(e),y}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),o=n(1704);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",y=u(r),v=u(i),g=u(o),m=u(a),_=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=f||a&&b(new a)!=h||s&&b(new s)!=d)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return p;case v:return c;case g:return f;case m:return h;case _:return d}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,f=!1;++u<c;){var h=l(e[u]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++u!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(h,c)&&(o(t)||i(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),o=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},3279:(t,e,n)=>{var r=n(3218),i=n(7771),o=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,u,c,f,h,d,p=0,y=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=l,r=u;return l=u=void 0,p=e,f=t.apply(r,n)}function _(t){return p=t,h=setTimeout(w,e),y?m(t):f}function b(t){var n=t-d;return void 0===d||n>=e||n<0||v&&t-p>=c}function w(){var t=i();if(b(t))return x(t);h=setTimeout(w,function(t){var n=e-(t-d);return v?s(n,c-(t-p)):n}(t))}function x(t){return h=void 0,g&&l?m(t):(l=u=void 0,f)}function S(){var t=i(),n=b(t);if(l=arguments,u=this,d=t,n){if(void 0===h)return _(d);if(v)return clearTimeout(h),h=setTimeout(w,e),m(d)}return void 0===h&&(h=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(y=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,e):c,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=d=u=h=void 0},S.flush=function(){return void 0===h?f:x(i())},S}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},7398:(t,e,n)=>{var r=n(5639).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},7037:(t,e,n)=>{var r=n(4239),i=n(1469),o=n(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):i(t)}},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},4885:t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},3063:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469),s=n(4885);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},9734:(t,e,n)=>{var r=n(1078),i=n(2689),o=n(5976),a=n(6612),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((i=t[n])===(o=e[n])||r(i)&&r(o)))return!1;var i,o;return!0}const o=function(t,e){var n;void 0===e&&(e=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&e(i,o)||(r=t.apply(this,i),a=!0,n=this,o=i),r}}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,l=i(t),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(e){s=e(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},8783:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,r=e.target,i=e.rel,o=e.enabled,s=void 0===o||o;(0,a.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,a.removeNullCharacters)(n);s?t.href=t.title=l:(t.href="",t.title="Disabled: ".concat(l),t.onclick=function(){return!1});var u="";switch(r){case R.NONE:break;case R.SELF:u="_self";break;case R.BLANK:u="_blank";break;case R.PARENT:u="_parent";break;case R.TOP:u="_top"}t.target=u,t.rel="string"==typeof i?i:b},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getFilenameFromUrl=function(t){var e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)},e.getPdfFilenameFromUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(A(t))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(t){}return o||e},e.getXfaPageViewport=function(t,e){var n=e.scale,r=void 0===n?1:n,i=e.rotation,o=void 0===i?0:i,a=t.attributes.style,s=a.width,l=a.height,u=[0,0,parseInt(s),parseInt(l)];return new P({viewBox:u,scale:r,rotation:o})},e.isDataScheme=A,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=M,e.loadScript=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),n(t)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)}))},e.StatTimer=e.RenderingCancelledException=e.PDFDateString=e.PageViewport=e.LinkTarget=e.DOMSVGFactory=e.DOMStandardFontDataFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=e.DEFAULT_LINK_REL=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4),s=n(114);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var b="noopener noreferrer nofollow";e.DEFAULT_LINK_REL=b;var w=function(t){y(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.ownerDocument,o=void 0===i?globalThis.document:i;return h(this,n),(t=e.call(this))._document=o,t}return p(n,[{key:"_createCanvas",value:function(t,e){var n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}]),n}(s.BaseCanvasFactory);function x(t){return S.apply(this,arguments)}function S(){return S=f(o.default.mark((function t(e){var n,r,i=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!M(e,document.baseURI)){t.next=21;break}return t.next=4,fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:if(!n){t.next=15;break}return t.t1=Uint8Array,t.next=11,r.arrayBuffer();case 11:t.t2=t.sent,t.t0=new t.t1(t.t2),t.next=20;break;case 15:return t.t3=a.stringToBytes,t.next=18,r.text();case 18:t.t4=t.sent,t.t0=(0,t.t3)(t.t4);case 20:return t.abrupt("return",t.t0);case 21:return t.abrupt("return",new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e;if((200===i.status||0===i.status)&&(n&&i.response?e=new Uint8Array(i.response):!n&&i.responseText&&(e=(0,a.stringToBytes)(i.responseText)),e))return void t(e);r(new Error(i.statusText))}},i.send(null)})));case 22:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}e.DOMCanvasFactory=w;var E=function(t){y(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t,e){return x(t,this.isCompressed).then((function(t){return{cMapData:t,compressionType:e}}))}}]),n}(s.BaseCMapReaderFactory);e.DOMCMapReaderFactory=E;var C=function(t){y(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t){return x(t,!0)}}]),n}(s.BaseStandardFontDataFactory);e.DOMStandardFontDataFactory=C;var k=function(t){y(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"_createSVG",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}]),n}(s.BaseSVGFactory);e.DOMSVGFactory=k;var P=function(){function t(e){var n=e.viewBox,r=e.scale,i=e.rotation,o=e.offsetX,a=void 0===o?0:o,s=e.offsetY,l=void 0===s?0:s,u=e.dontFlip,c=void 0!==u&&u;h(this,t),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=l;var f,d,p,y,v,g,m,_,b=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:f=-1,d=0,p=0,y=1;break;case 90:f=0,d=1,p=1,y=0;break;case 270:f=0,d=-1,p=-1,y=0;break;case 0:f=1,d=0,p=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(p=-p,y=-y),0===f?(v=Math.abs(w-n[1])*r+a,g=Math.abs(b-n[0])*r+l,m=Math.abs(n[3]-n[1])*r,_=Math.abs(n[2]-n[0])*r):(v=Math.abs(b-n[0])*r+a,g=Math.abs(w-n[1])*r+l,m=Math.abs(n[2]-n[0])*r,_=Math.abs(n[3]-n[1])*r),this.transform=[f*r,d*r,p*r,y*r,v-f*r*b-p*r*w,g-d*r*b-y*r*w],this.width=m,this.height=_}return p(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,r=void 0===n?this.scale:n,i=e.rotation,o=void 0===i?this.rotation:i,a=e.offsetX,s=void 0===a?this.offsetX:a,l=e.offsetY,u=void 0===l?this.offsetY:l,c=e.dontFlip,f=void 0!==c&&c;return new t({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:s,offsetY:u,dontFlip:f})}},{key:"convertToViewportPoint",value:function(t,e){return a.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=a.Util.applyTransform([t[0],t[1]],this.transform),n=a.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return a.Util.applyInverseTransform([t,e],this.transform)}}]),t}();e.PageViewport=P;var T=function(t){y(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).type=r,i}return n}(a.BaseException);e.RenderingCancelledException=T;var R={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(t){for(var e=t.length,n=0;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}e.LinkTarget=R;var O,I=function(){function t(){h(this,t),this.started=Object.create(null),this.times=[]}return p(t,[{key:"time",value:function(t){t in this.started&&(0,a.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,a.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,r=l(this.times);try{for(r.s();!(t=r.n()).done;){var i=t.value.name;i.length>n&&(n=i.length)}}catch(t){r.e(t)}finally{r.f()}var o,a=l(this.times);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.end-s.start;e.push("".concat(s.name.padEnd(n)," ").concat(u,"ms\n"))}}catch(t){a.e(t)}finally{a.f()}return e.join("")}}]),t}();function M(t,e){try{var n=(e?new URL(t,e):new URL(t)).protocol;return"http:"===n||"https:"===n}catch(t){return!1}}e.StatTimer=I;var D=function(){function t(){h(this,t)}return p(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,a.isString)(t))return null;O||(O=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=O.exec(t);if(!e)return null;var n=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;var l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;var u=e[7]||"Z",c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;var f=parseInt(e[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===u?(o+=c,s+=f):"+"===u&&(o-=c,s-=f),new Date(Date.UTC(n,r,i,o,s,l))}}]),t}();e.PDFDateString=D},(t,e,n)=>{"use strict";t.exports=n(3)},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===y){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=f(t,e,n);if("normal"===l.type){if(r=n.done?y:d,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=y,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",y="completed",v={};function g(){}function m(){}function _(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(A([])));x&&x!==n&&i.call(x,a)&&(b=x);var S=_.prototype=g.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,l){var u=f(t[o],t,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===r(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,l)}))}l(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=f(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function A(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return m.prototype=_,u(S,"constructor",_),u(_,"constructor",m),m.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},E(C.prototype),u(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=R,e.arraysToBytes=function(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var n=0,r=0;r<e;r++)n+=R(t[r]);for(var i=0,o=new Uint8Array(n),a=0;a<e;a++){var s=t[a];s instanceof Uint8Array||(s="string"==typeof s?T(s):new Uint8Array(s));var l=s.byteLength;o.set(s,i),i+=l}return o},e.assert=g,e.bytesToString=function(t){g(null!==t&&"object"===a(t)&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var r=[],i=0;i<e;i+=n){var o=Math.min(i+n,e),s=t.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")},e.createObjectURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!n)return URL.createObjectURL(new Blob([t],{type:e}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(e,";base64,"),o=0,a=t.length;o<a;o+=3){var s=255&t[o],l=255&t[o+1],u=255&t[o+2],c=s>>2,f=(3&s)<<4|l>>4,h=o+1<a?(15&l)<<2|u>>6:64,d=o+2<a?63&u:64;i+=r[c]+r[f]+r[h]+r[d]}return i},e.createPromiseCapability=function(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise((function(n,r){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,r(t)}})),t},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{var n=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(function(t){return"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)}))},e.getModificationDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return e.join("")},e.getVerbosityLevel=function(){return p},e.info=function(t){p>=d.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===a(t)&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.isBool=function(t){return"boolean"==typeof t},e.isNum=function(t){return"number"==typeof t},e.isSameOrigin=function(t,e){var n;try{if(!(n=new URL(t)).origin||"null"===n.origin)return!1}catch(t){return!1}var r=new URL(e,n);return n.origin===r.origin},e.isString=function(t){return"string"==typeof t},e.objectFromMap=function(t){var e,n,r=Object.create(null),o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(o.s();!(e=o.n()).done;){var a=(n=e.value,2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n)||i(n,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1];r[s]=l}}catch(t){o.e(t)}finally{o.f()}return r},e.objectSize=function(t){return Object.keys(t).length},e.removeNullCharacters=function(t){return"string"!=typeof t?(y("The argument for removeNullCharacters must be a string."),t):t.replace(P,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(p=t)},e.shadow=m,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=T,e.stringToPDFString=function(t){var e=t.length,n=[];if("þ"===t[0]&&"ÿ"===t[1])for(var r=2;r<e;r+=2)n.push(String.fromCharCode(t.charCodeAt(r)<<8|t.charCodeAt(r+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i+1)<<8|t.charCodeAt(i)));else for(var o=0;o<e;++o){var a=L[t.charCodeAt(o)];n.push(a?String.fromCharCode(a):t.charAt(o))}return n.join("")},e.stringToUTF16BEString=function(t){for(var e=["þÿ"],n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);e.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return e.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.unreachable=v,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=y,e.VerbosityLevel=e.Util=e.UNSUPPORTED_FEATURES=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,n(5),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var d={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=d,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=d.WARNINGS;function y(t){p>=d.WARNINGS&&console.log("Warning: ".concat(t))}function v(t){throw new Error(t)}function g(t,e){t||v(e)}function m(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var _=function(){function t(e){this.constructor===t&&v("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=_;var b=function(t){l(n,t);var e=c(n);function n(t,r){var i;return s(this,n),(i=e.call(this,t)).code=r,i}return n}(_);e.PasswordException=b;var w=function(t){l(n,t);var e=c(n);function n(t,r){var i;return s(this,n),(i=e.call(this,t)).details=r,i}return n}(_);e.UnknownErrorException=w;var x=function(t){l(n,t);var e=c(n);function n(){return s(this,n),e.apply(this,arguments)}return n}(_);e.InvalidPDFException=x;var S=function(t){l(n,t);var e=c(n);function n(){return s(this,n),e.apply(this,arguments)}return n}(_);e.MissingPDFException=S;var E=function(t){l(n,t);var e=c(n);function n(t,r){var i;return s(this,n),(i=e.call(this,t)).status=r,i}return n}(_);e.UnexpectedResponseException=E;var C=function(t){l(n,t);var e=c(n);function n(){return s(this,n),e.apply(this,arguments)}return n}(_);e.FormatError=C;var k=function(t){l(n,t);var e=c(n);function n(){return s(this,n),e.apply(this,arguments)}return n}(_);e.AbortException=k;var P=/\x00/g;function T(t){g("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function R(t){return void 0!==t.length?t.length:(g(void 0!==t.byteLength,"arrayByteLength - invalid argument."),t.byteLength)}var A={get value(){return m(this,"value",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}};e.IsLittleEndianCached=A;var O={get value(){return m(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};e.IsEvalSupportedCached=O;var I,M=(I=Array(256).keys(),function(t){if(Array.isArray(t))return o(t)}(I)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(I)||i(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t.toString(16).padStart(2,"0")})),D=function(){function t(){s(this,t)}var e,n;return e=t,n=[{key:"makeHexColor",value:function(t,e,n){return"#".concat(M[t]).concat(M[e]).concat(M[n])}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),o=t.applyTransform([e[0],e[3]],n),a=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],a[0]),Math.min(r[1],i[1],o[1],a[1]),Math.max(r[0],i[0],o[0],a[0]),Math.max(r[1],i[1],o[1],a[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,s=Math.sqrt(Math.pow(n+o,2)-4*(n*o-i*r))/2,l=a+s||1,u=a-s||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),o=[e[1],e[3],n[1],n[3]].sort(r),a=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0]?(a[0]=i[1],a[2]=i[2],o[0]===e[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===e[1]?(a[1]=o[1],a[3]=o[2],a):null):null}}],null&&r(e.prototype,null),n&&r(e,n),t}();e.Util=D;var L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(t,e,n)=>{"use strict";var r=n(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(t){return Buffer.from(t,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(t){return Buffer.from(t,"base64").toString("binary")}),!globalThis.DOMMatrix&&r.isNodeJS&&(globalThis.DOMMatrix=n(53)),Object.fromEntries||n(54),globalThis.Promise.allSettled||(globalThis.Promise=n(85)),function(){var t=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(t){t.close()}}),t=!0}catch(t){}t||(globalThis.ReadableStream=n(113).ReadableStream)}())},(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var r=!("object"!==("undefined"==typeof process?"undefined":n(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},(t,e,n)=>{n(8),t.exports=n(10)},(t,e,n)=>{n(9)({global:!0},{globalThis:n(10)})},(t,e,n)=>{var r=n(10),i=n(11).f,o=n(26),a=n(29),s=n(30),l=n(40),u=n(52);t.exports=function(t,e){var n,c,f,h,d,p=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(h=e[c],f=t.noTargetGet?(d=i(n,c))&&d.value:n[c],!u(y?c:p+(v?".":"#")+c,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;l(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,c,h,t)}}},t=>{var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof __webpack_require__.g&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(t,e,n)=>{var r=n(12),i=n(14),o=n(15),a=n(16),s=n(20),l=n(22),u=n(24),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(l(t,e))return o(!i.f.call(t,e),t[e])}},(t,e,n)=>{var r=n(13);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},(t,e,n)=>{var r=n(17),i=n(19);t.exports=function(t){return r(i(t))}},(t,e,n)=>{var r=n(13),i=n(18),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},(t,e,n)=>{var r=n(21);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},(t,e,n)=>{var r=n(23),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},(t,e,n)=>{var r=n(19);t.exports=function(t){return Object(r(t))}},(t,e,n)=>{var r=n(12),i=n(13),o=n(25);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},(t,e,n)=>{var r=n(10),i=n(21),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},(t,e,n)=>{var r=n(12),i=n(27),o=n(15);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},(t,e,n)=>{var r=n(12),i=n(24),o=n(28),a=n(20),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},(t,e,n)=>{var r=n(21);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},(t,e,n)=>{var r=n(10),i=n(26),o=n(22),a=n(30),s=n(31),l=n(33),u=l.get,c=l.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var l,u=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(l=c(n)).source||(l.source=f.join("string"==typeof e?e:""))),t!==r?(u?!d&&t[e]&&(h=!0):delete t[e],h?t[e]=n:i(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},(t,e,n)=>{var r=n(10),i=n(26);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},(t,e,n)=>{var r=n(32),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},(t,e,n)=>{var r=n(10),i=n(30),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},(t,e,n)=>{var r,i,o,a=n(34),s=n(10),l=n(21),u=n(26),c=n(22),f=n(32),h=n(35),d=n(39),p="Object already initialized",y=s.WeakMap;if(a||f.state){var v=f.state||(f.state=new y),g=v.get,m=v.has,_=v.set;r=function(t,e){if(m.call(v,t))throw new TypeError(p);return e.facade=t,_.call(v,t,e),e},i=function(t){return g.call(v,t)||{}},o=function(t){return m.call(v,t)}}else{var b=h("state");d[b]=!0,r=function(t,e){if(c(t,b))throw new TypeError(p);return e.facade=t,u(t,b,e),e},i=function(t){return c(t,b)?t[b]:{}},o=function(t){return c(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},(t,e,n)=>{var r=n(10),i=n(31),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},(t,e,n)=>{var r=n(36),i=n(38),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},(t,e,n)=>{var r=n(37),i=n(32);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},t=>{t.exports={}},(t,e,n)=>{var r=n(22),i=n(41),o=n(11),a=n(27);t.exports=function(t,e){for(var n=i(e),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(t,c)||s(t,c,l(e,c))}}},(t,e,n)=>{var r=n(42),i=n(44),o=n(51),a=n(28);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},(t,e,n)=>{var r=n(43),i=n(10),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},(t,e,n)=>{var r=n(10);t.exports=r},(t,e,n)=>{var r=n(45),i=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},(t,e,n)=>{var r=n(22),i=n(16),o=n(46).indexOf,a=n(39);t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},(t,e,n)=>{var r=n(16),i=n(47),o=n(49),a=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},(t,e,n)=>{var r=n(48),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},(t,e,n)=>{var r=n(48),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(t,e,n)=>{var r=n(13),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=l&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},(t,e,n)=>{"use strict";var r,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}o=function(){var t=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.setIdentity(),t&&t.length&&this.setMatrixValue(t)},e={isIdentity:{configurable:!0},is2D:{configurable:!0}};e.isIdentity.get=function(){var t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44},e.isIdentity.set=function(t){this.isIdentity=t},e.is2D.get=function(){var t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44},e.is2D.set=function(t){this.is2D=t},Object.defineProperties(t.prototype,e);var n=t.prototype;function r(e,n,r){var i=new t;return i.m41=e,i.e=e,i.m42=n,i.f=n,i.m43=r,i}function i(e,n,r){var i=new t,o=e*Math.PI/180,a=n*Math.PI/180,s=r*Math.PI/180,l=Math.cos(o),u=-Math.sin(o),c=Math.cos(a),f=-Math.sin(a),h=Math.cos(s),d=-Math.sin(s),p=c*h,y=-c*d;i.m11=p,i.a=p,i.m12=y,i.b=y,i.m13=f;var v=u*f*h+l*d;i.m21=v,i.c=v;var g=l*h-u*f*d;return i.m22=g,i.d=g,i.m23=-u*c,i.m31=u*d-l*f*h,i.m32=u*h+l*f*d,i.m33=l*c,i}function o(e,n,r,i){var o=new t,a=i*Math.PI/360,s=Math.sin(a),l=Math.cos(a),u=s*s,c=Math.sqrt(e*e+n*n+r*r),f=0,h=0,d=1;0!==c&&(f=e/c,h=n/c,d=r/c);var p=f*f,y=h*h,v=d*d,g=1-2*(y+v)*u;o.m11=g,o.a=g;var m=2*(e*n*u+r*s*l);o.m12=m,o.b=m,o.m13=2*(e*r*u-n*s*l);var _=2*(n*e*u-r*s*l);o.m21=_,o.c=_;var b=1-2*(v+p)*u;return o.m22=b,o.d=b,o.m23=2*(n*r*u+e*s*l),o.m31=2*(r*e*u+n*s*l),o.m32=2*(r*n*u-e*s*l),o.m33=1-2*(p+y)*u,o.m14=0,o.m24=0,o.m34=0,o.m41=0,o.e=0,o.m42=0,o.f=0,o.m43=0,o.m44=1,o}function a(e,n,r){var i=new t;return i.m11=e,i.a=e,i.m22=n,i.d=n,i.m33=r,i}function s(e){var n=e*Math.PI/180,r=new t,i=Math.tan(n);return r.m21=i,r.c=i,r}function l(e){var n=e*Math.PI/180,r=new t,i=Math.tan(n);return r.m12=i,r.b=i,r}function u(e,n){var r=n.m11*e.m11+n.m12*e.m21+n.m13*e.m31+n.m14*e.m41,i=n.m11*e.m12+n.m12*e.m22+n.m13*e.m32+n.m14*e.m42,o=n.m11*e.m13+n.m12*e.m23+n.m13*e.m33+n.m14*e.m43,a=n.m11*e.m14+n.m12*e.m24+n.m13*e.m34+n.m14*e.m44,s=n.m21*e.m11+n.m22*e.m21+n.m23*e.m31+n.m24*e.m41,l=n.m21*e.m12+n.m22*e.m22+n.m23*e.m32+n.m24*e.m42,u=n.m21*e.m13+n.m22*e.m23+n.m23*e.m33+n.m24*e.m43,c=n.m21*e.m14+n.m22*e.m24+n.m23*e.m34+n.m24*e.m44,f=n.m31*e.m11+n.m32*e.m21+n.m33*e.m31+n.m34*e.m41,h=n.m31*e.m12+n.m32*e.m22+n.m33*e.m32+n.m34*e.m42,d=n.m31*e.m13+n.m32*e.m23+n.m33*e.m33+n.m34*e.m43,p=n.m31*e.m14+n.m32*e.m24+n.m33*e.m34+n.m34*e.m44,y=n.m41*e.m11+n.m42*e.m21+n.m43*e.m31+n.m44*e.m41,v=n.m41*e.m12+n.m42*e.m22+n.m43*e.m32+n.m44*e.m42,g=n.m41*e.m13+n.m42*e.m23+n.m43*e.m33+n.m44*e.m43,m=n.m41*e.m14+n.m42*e.m24+n.m43*e.m34+n.m44*e.m44;return new t([r,s,f,y,i,l,h,v,o,u,d,g,a,c,p,m])}function c(t,e){var n=Array.from(e);if(16===n.length){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],y=n[12],v=n[13],g=n[14],m=n[15];t.m11=r,t.a=r,t.m21=i,t.c=i,t.m31=o,t.m41=a,t.e=a,t.m12=s,t.b=s,t.m22=l,t.d=l,t.m32=u,t.m42=c,t.f=c,t.m13=f,t.m23=h,t.m33=d,t.m43=p,t.m14=y,t.m24=v,t.m34=g,t.m44=m}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var _=n[0],b=n[1],w=n[2],x=n[3],S=n[4],E=n[5];t.m11=_,t.a=_,t.m12=b,t.b=b,t.m21=w,t.c=w,t.m22=x,t.d=x,t.m14=S,t.e=S,t.m24=E,t.f=E}return t}return n.setMatrixValue=function(e){var n=this;if(!e||!e.length)return n;if(e.length&&"string"==typeof e[0]&&e[0].length){var r,i,o=String(e[0]).trim();if("none"===o)return n;if(r=o.slice(0,o.indexOf("(")),i=o.slice("matrix"===r?7:9,-1).split(",").map((function(t){return Math.abs(t)<1e-6?0:+t})),!([6,16].indexOf(i.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");c(n,i)}else e[0]instanceof t?c(n,e[0].toArray()):Array.isArray(e[0])?c(n,e[0]):Array.isArray(e)&&c(n,e);return n},n.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},n.toArray=function(t){var e=this;return e.is2D?[e.a,e.b,e.c,e.d,e.e,e.f]:t?[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]:[e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44]},n.multiply=function(t){return u(this,t)},n.translate=function(t,e,n){var i=e,o=n;return null==o&&(o=0),null==i&&(i=0),u(this,r(t,i,o))},n.scale=function(t,e,n){var r=e,i=n;return null==r&&(r=t),null==i&&(i=t),u(this,a(t,r,i))},n.rotate=function(t,e,n){var r=t,o=e,a=n;return null==o&&(o=0),null==a&&(a=r,r=0),u(this,i(r,o,a))},n.rotateAxisAngle=function(t,e,n,r){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return u(this,o(t,e,n,r))},n.skewX=function(t){return u(this,s(t))},n.skewY=function(t){return u(this,l(t))},n.setIdentity=function(){return c(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},n.transformPoint=function(t){var e=r(t.x,t.y,t.z);return e.m44=t.w||1,{x:(e=this.multiply(e)).m41,y:e.m42,z:e.m43,w:e.m44}},n.transform=function(t){var e=this,n=e.m11*t.x+e.m12*t.y+e.m13*t.z+e.m14*t.w,r=e.m21*t.x+e.m22*t.y+e.m23*t.z+e.m24*t.w,i=e.m31*t.x+e.m32*t.y+e.m33*t.z+e.m34*t.w,o=e.m41*t.x+e.m42*t.y+e.m43*t.z+e.m44*t.w;return{x:n/o,y:r/o,z:i/o,w:o}},t.Translate=r,t.Rotate=i,t.RotateAxisAngle=o,t.Scale=a,t.SkewX=s,t.SkewY=l,t.Multiply=u,t.fromMatrix=function(e){return new t([e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44])},t.fromArray=function(e){return c(new t,e)},t.feedFromArray=c,t},"object"===a(e)?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},(t,e,n)=>{n(55),n(75);var r=n(43);t.exports=r.Object.fromEntries},(t,e,n)=>{"use strict";var r=n(16),i=n(56),o=n(66),a=n(33),s=n(67),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=s(Array,"Array",(function(t,e){u(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},(t,e,n)=>{var r=n(57),i=n(62),o=n(27),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},(t,e,n)=>{var r=n(10),i=n(36),o=n(22),a=n(38),s=n(58),l=n(61),u=i("wks"),c=r.Symbol,f=l?c:c&&c.withoutSetter||a;t.exports=function(t){return o(u,t)&&(s||"string"==typeof u[t])||(s&&o(c,t)?u[t]=c[t]:u[t]=f("Symbol."+t)),u[t]}},(t,e,n)=>{var r=n(59),i=n(13);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},(t,e,n)=>{var r,i,o=n(10),a=n(60),s=o.process,l=s&&s.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},(t,e,n)=>{var r=n(42);t.exports=r("navigator","userAgent")||""},(t,e,n)=>{var r=n(58);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(t,e,n)=>{var r,i=n(28),o=n(63),a=n(50),s=n(39),l=n(65),u=n(25),c=n(35)("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};s[c]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[c]=t):n=d(),void 0===e?n:o(n,e)}},(t,e,n)=>{var r=n(12),i=n(27),o=n(28),a=n(64);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,l=0;s>l;)i.f(t,n=r[l++],e[n]);return t}},(t,e,n)=>{var r=n(45),i=n(50);t.exports=Object.keys||function(t){return r(t,i)}},(t,e,n)=>{var r=n(42);t.exports=r("document","documentElement")},t=>{t.exports={}},(t,e,n)=>{"use strict";var r=n(9),i=n(68),o=n(70),a=n(73),s=n(72),l=n(26),u=n(29),c=n(57),f=n(37),h=n(66),d=n(69),p=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=c("iterator"),g="keys",m="values",_="entries",b=function(){return this};t.exports=function(t,e,n,c,d,w,x){i(n,e,c);var S,E,C,k=function(t){if(t===d&&O)return O;if(!y&&t in R)return R[t];switch(t){case g:case m:case _:return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",T=!1,R=t.prototype,A=R[v]||R["@@iterator"]||d&&R[d],O=!y&&A||k(d),I="Array"==e&&R.entries||A;if(I&&(S=o(I.call(new t)),p!==Object.prototype&&S.next&&(f||o(S)===p||(a?a(S,p):"function"!=typeof S[v]&&l(S,v,b)),s(S,P,!0,!0),f&&(h[P]=b))),d==m&&A&&A.name!==m&&(T=!0,O=function(){return A.call(this)}),f&&!x||R[v]===O||l(R,v,O),h[e]=O,d)if(E={values:k(m),keys:w?O:k(g),entries:k(_)},x)for(C in E)(y||T||!(C in R))&&u(R,C,E[C]);else r({target:e,proto:!0,forced:y||T},E);return E}},(t,e,n)=>{"use strict";var r=n(69).IteratorPrototype,i=n(62),o=n(15),a=n(72),s=n(66),l=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,u,!1,!0),s[u]=l,t}},(t,e,n)=>{"use strict";var r,i,o,a=n(13),s=n(70),l=n(26),u=n(22),c=n(57),f=n(37),h=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0);var p=null==r||a((function(){var t={};return r[h].call(t)!==t}));p&&(r={}),f&&!p||u(r,h)||l(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},(t,e,n)=>{var r=n(22),i=n(23),o=n(35),a=n(71),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},(t,e,n)=>{var r=n(13);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},(t,e,n)=>{var r=n(27).f,i=n(22),o=n(57)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},(t,e,n)=>{var r=n(28),i=n(74);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},(t,e,n)=>{var r=n(21);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},(t,e,n)=>{var r=n(9),i=n(76),o=n(84);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},(t,e,n)=>{var r=n(28),i=n(77),o=n(47),a=n(78),s=n(80),l=n(83),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var c,f,h,d,p,y,v,g=n&&n.that,m=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=a(e,g,1+m+b),x=function(t){return c&&l(c),new u(!0,t)},S=function(t){return m?(r(t),b?w(t[0],t[1],x):w(t[0],t[1])):b?w(t,x):w(t)};if(_)c=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(i(f)){for(h=0,d=o(t.length);d>h;h++)if((p=S(t[h]))&&p instanceof u)return p;return new u(!1)}c=f.call(t)}for(y=c.next;!(v=y.call(c)).done;){try{p=S(v.value)}catch(t){throw l(c),t}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},(t,e,n)=>{var r=n(57),i=n(66),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},(t,e,n)=>{var r=n(79);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},(t,e,n)=>{var r=n(81),i=n(66),o=n(57)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},(t,e,n)=>{var r=n(82),i=n(18),o=n(57)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},(t,e,n)=>{var r={};r[n(57)("toStringTag")]="z",t.exports="[object z]"===String(r)},(t,e,n)=>{var r=n(28);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},(t,e,n)=>{"use strict";var r=n(20),i=n(27),o=n(15);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},(t,e,n)=>{n(86),n(87),n(89),n(106),n(107),n(108),n(109),n(111);var r=n(43);t.exports=r.Promise},(t,e,n)=>{"use strict";var r=n(9),i=n(70),o=n(73),a=n(62),s=n(26),l=n(15),u=n(76),c=function(t,e){var n=this;if(!(n instanceof c))return new c(t,e);o&&(n=o(new Error(void 0),i(n))),void 0!==e&&s(n,"message",String(e));var r=[];return u(t,r.push,{that:r}),s(n,"errors",r),n};c.prototype=a(Error.prototype,{constructor:l(5,c),message:l(5,""),name:l(5,"AggregateError")}),r({global:!0},{AggregateError:c})},(t,e,n)=>{var r=n(82),i=n(29),o=n(88);r||i(Object.prototype,"toString",o,{unsafe:!0})},(t,e,n)=>{"use strict";var r=n(82),i=n(81);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},(t,e,n)=>{"use strict";var r,i,o,a,s=n(9),l=n(37),u=n(10),c=n(42),f=n(90),h=n(29),d=n(91),p=n(73),y=n(72),v=n(92),g=n(21),m=n(79),_=n(93),b=n(31),w=n(76),x=n(94),S=n(95),E=n(96).set,C=n(99),k=n(101),P=n(103),T=n(102),R=n(104),A=n(33),O=n(52),I=n(57),M=n(105),D=n(98),L=n(59),j=I("species"),F="Promise",N=A.get,U=A.set,B=A.getterFor(F),z=f&&f.prototype,W=f,G=z,q=u.TypeError,V=u.document,H=u.process,X=T.f,Y=X,K=!!(V&&V.createEvent&&u.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,Q="unhandledrejection",J=!1,$=O(F,(function(){var t=b(W),e=t!==String(W);if(!e&&66===L)return!0;if(l&&!G.finally)return!0;if(L>=51&&/native code/.test(t))return!1;var n=new W((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[j]=r,!(J=n.then((function(){}))instanceof r)||!e&&M&&!Z})),tt=$||!x((function(t){W.all(t).catch((function(){}))})),et=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;C((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,l,u=n[o++],c=i?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{c?(i||(2===t.rejection&&at(t),t.rejection=1),!0===c?a=r:(d&&d.enter(),a=c(r),d&&(d.exit(),l=!0)),a===u.promise?h(q("Promise-chain cycle")):(s=et(a))?s.call(a,f,h):f(a)):h(r)}catch(t){d&&!l&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},rt=function(t,e,n){var r,i;K?((r=V.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!Z&&(i=u["on"+t])?i(r):t===Q&&P("Unhandled promise rejection",n)},it=function(t){E.call(u,(function(){var e,n=t.facade,r=t.value;if(ot(t)&&(e=R((function(){D?H.emit("unhandledRejection",r,n):rt(Q,n,r)})),t.rejection=D||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){E.call(u,(function(){var e=t.facade;D?H.emit("rejectionHandled",e):rt("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(r){t(e,r,n)}},lt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},ut=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw q("Promise can't be resolved itself");var r=et(e);r?C((function(){var n={done:!1};try{r.call(e,st(ut,n,t),st(lt,n,t))}catch(e){lt(n,e,t)}})):(t.value=e,t.state=1,nt(t,!1))}catch(e){lt({done:!1},e,t)}}};if($&&(G=(W=function(t){_(this,W,F),m(t),r.call(this);var e=N(this);try{t(st(ut,e),st(lt,e))}catch(t){lt(e,t)}}).prototype,(r=function(t){U(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(G,{then:function(t,e){var n=B(this),r=X(S(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&nt(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=N(t);this.promise=t,this.resolve=st(ut,e),this.reject=st(lt,e)},T.f=X=function(t){return t===W||t===o?new i(t):Y(t)},!l&&"function"==typeof f&&z!==Object.prototype)){a=z.then,J||(h(z,"then",(function(t,e){var n=this;return new W((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),h(z,"catch",G.catch,{unsafe:!0}));try{delete z.constructor}catch(t){}p&&p(z,G)}s({global:!0,wrap:!0,forced:$},{Promise:W}),y(W,F,!1,!0),v(F),o=c(F),s({target:F,stat:!0,forced:$},{reject:function(t){var e=X(this);return e.reject.call(void 0,t),e.promise}}),s({target:F,stat:!0,forced:l||$},{resolve:function(t){return k(l&&this===o?W:this,t)}}),s({target:F,stat:!0,forced:tt},{all:function(t){var e=this,n=X(e),r=n.resolve,i=n.reject,o=R((function(){var n=m(e.resolve),o=[],a=0,s=1;w(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=X(e),r=n.reject,i=R((function(){var i=m(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},(t,e,n)=>{var r=n(10);t.exports=r.Promise},(t,e,n)=>{var r=n(29);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},(t,e,n)=>{"use strict";var r=n(42),i=n(27),o=n(57),a=n(12),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},(t,e,n)=>{var r=n(57)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},(t,e,n)=>{var r=n(28),i=n(79),o=n(57)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},(t,e,n)=>{var r,i,o,a=n(10),s=n(13),l=n(78),u=n(65),c=n(25),f=n(97),h=n(98),d=a.location,p=a.setImmediate,y=a.clearImmediate,v=a.process,g=a.MessageChannel,m=a.Dispatch,_=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},x=function(t){return function(){w(t)}},S=function(t){w(t.data)},E=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&y||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(_),_},y=function(t){delete b[t]},h?r=function(t){v.nextTick(x(t))}:m&&m.now?r=function(t){m.now(x(t))}:g&&!f?(o=(i=new g).port2,i.port1.onmessage=S,r=l(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(E)?(r=E,a.addEventListener("message",S,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),w(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:p,clear:y}},(t,e,n)=>{var r=n(60);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},(t,e,n)=>{var r=n(18),i=n(10);t.exports="process"==r(i.process)},(t,e,n)=>{var r,i,o,a,s,l,u,c,f=n(10),h=n(11).f,d=n(96).set,p=n(97),y=n(100),v=n(98),g=f.MutationObserver||f.WebKitMutationObserver,m=f.document,_=f.process,b=f.Promise,w=h(f,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(v&&(t=_.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},p||v||y||!g||!m?b&&b.resolve?((u=b.resolve(void 0)).constructor=b,c=u.then,a=function(){c.call(u,r)}):a=v?function(){_.nextTick(r)}:function(){d.call(f,r)}:(s=!0,l=m.createTextNode(""),new g(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},(t,e,n)=>{var r=n(60);t.exports=/web0s(?!.*chrome)/i.test(r)},(t,e,n)=>{var r=n(28),i=n(21),o=n(102);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},(t,e,n)=>{"use strict";var r=n(79),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},(t,e,n)=>{var r=n(10);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},t=>{t.exports="object"==typeof window},(t,e,n)=>{"use strict";var r=n(9),i=n(79),o=n(102),a=n(104),s=n(76);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,l=n.reject,u=a((function(){var n=i(e.resolve),o=[],a=0,l=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),l++,n.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--l||r(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--l||r(o))}))})),--l||r(o)}));return u.error&&l(u.value),n.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(79),o=n(42),a=n(102),s=n(104),l=n(76),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,f=s((function(){var n=i(e.resolve),a=[],s=0,f=1,h=!1;l(t,(function(t){var i=s++,l=!1;a.push(void 0),f++,n.call(e,t).then((function(t){l||h||(h=!0,r(t))}),(function(t){l||h||(l=!0,a[i]=t,--f||c(new(o("AggregateError"))(a,u)))}))})),--f||c(new(o("AggregateError"))(a,u))}));return f.error&&c(f.value),n.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(37),o=n(90),a=n(13),s=n(42),l=n(95),u=n(101),c=n(29);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof o){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&c(o.prototype,"finally",f,{unsafe:!0})}},(t,e,n)=>{"use strict";var r=n(110).charAt,i=n(33),o=n(67),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},(t,e,n)=>{var r=n(48),i=n(19),o=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},(t,e,n)=>{var r=n(10),i=n(112),o=n(55),a=n(26),s=n(57),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var f in i){var h=r[f],d=h&&h.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(t){d[l]=c}if(d[u]||a(d,u,f),i[f])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(t){d[p]=o[p]}}}},t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e){!function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function n(){}var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0;function i(t){return"object"==typeof t&&null!==t||"function"==typeof t}var o=n,a=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(a),u=Promise.reject.bind(a);function c(t){return new a(t)}function f(t){return l(t)}function h(t){return u(t)}function d(t,e,n){return s.call(t,e,n)}function p(t,e,n){d(d(t,e,n),void 0,o)}function y(t,e){p(t,e)}function v(t,e){p(t,void 0,e)}function g(t,e,n){return d(t,e,n)}function m(t){d(t,void 0,o)}var _=function(){var t=r&&r.queueMicrotask;if("function"==typeof t)return t;var e=f(void 0);return function(t){return d(e,t)}}();function b(t,e,n){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,n)}function w(t,e,n){try{return f(b(t,e,n))}catch(t){return h(t)}}var x=function(){function t(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var e=this._back,n=e;16383===e._elements.length&&(n={_elements:[],_next:void 0}),e._elements.push(t),n!==e&&(this._back=n,e._next=n),++this._size},t.prototype.shift=function(){var t=this._front,e=t,n=this._cursor,r=n+1,i=t._elements,o=i[n];return 16384===r&&(e=t._next,r=0),--this._size,this._cursor=r,t!==e&&(this._front=e),i[n]=void 0,o},t.prototype.forEach=function(t){for(var e=this._cursor,n=this._front,r=n._elements;!(e===r.length&&void 0===n._next||e===r.length&&(e=0,0===(r=(n=n._next)._elements).length));)t(r[e]),++e},t.prototype.peek=function(){var t=this._front,e=this._cursor;return t._elements[e]},t}();function S(t,e){t._ownerReadableStream=e,e._reader=t,"readable"===e._state?P(t):"closed"===e._state?function(t){P(t),A(t)}(t):T(t,e._storedError)}function E(t,e){return Cn(t._ownerReadableStream,e)}function C(t){"readable"===t._ownerReadableStream._state?R(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,e){T(t,e)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function k(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function P(t){t._closedPromise=c((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n}))}function T(t,e){P(t),R(t,e)}function R(t,e){void 0!==t._closedPromise_reject&&(m(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function A(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}var O=e("[[AbortSteps]]"),I=e("[[ErrorSteps]]"),M=e("[[CancelSteps]]"),D=e("[[PullSteps]]"),L=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},j=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function F(t,e){if(void 0!==t&&("object"!=typeof(n=t)&&"function"!=typeof n))throw new TypeError(e+" is not an object.");var n}function N(t,e){if("function"!=typeof t)throw new TypeError(e+" is not a function.")}function U(t,e){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(e+" is not an object.")}function B(t,e,n){if(void 0===t)throw new TypeError("Parameter "+e+" is required in '"+n+"'.")}function z(t,e,n){if(void 0===t)throw new TypeError(e+" is required in '"+n+"'.")}function W(t){return Number(t)}function G(t){return 0===t?0:t}function q(t,e){var n=Number.MAX_SAFE_INTEGER,r=Number(t);if(r=G(r),!L(r))throw new TypeError(e+" is not a finite number");if((r=function(t){return G(j(t))}(r))<0||r>n)throw new TypeError(e+" is outside the accepted range of 0 to "+n+", inclusive");return L(r)&&0!==r?r:0}function V(t,e){if(!Sn(t))throw new TypeError(e+" is not a ReadableStream.")}function H(t){return new $(t)}function X(t,e){t._reader._readRequests.push(e)}function Y(t,e,n){var r=t._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(e)}function K(t){return t._reader._readRequests.length}function Z(t){var e=t._reader;return void 0!==e&&!!tt(e)}var Q,J,$=function(){function t(t){if(B(t,1,"ReadableStreamDefaultReader"),V(t,"First parameter"),En(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");S(this,t),this._readRequests=new x}return Object.defineProperty(t.prototype,"closed",{get:function(){return tt(this)?this._closedPromise:h(nt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),tt(this)?void 0===this._ownerReadableStream?h(k("cancel")):E(this,t):h(nt("cancel"))},t.prototype.read=function(){if(!tt(this))return h(nt("read"));if(void 0===this._ownerReadableStream)return h(k("read from"));var t,e,n=c((function(n,r){t=n,e=r}));return et(this,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(t){return e(t)}}),n},t.prototype.releaseLock=function(){if(!tt(this))throw nt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},t}();function tt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof $}function et(t,e){var n=t._ownerReadableStream;n._disturbed=!0,"closed"===n._state?e._closeSteps():"errored"===n._state?e._errorSteps(n._storedError):n._readableStreamController[D](e)}function nt(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties($.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty($.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof e.asyncIterator&&((Q={})[e.asyncIterator]=function(){return this},J=Q,Object.defineProperty(J,e.asyncIterator,{enumerable:!1}));var rt=function(){function t(t,e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=e}return t.prototype.next=function(){var t=this,e=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise},t.prototype.return=function(t){var e=this,n=function(){return e._returnSteps(t)};return this._ongoingPromise?g(this._ongoingPromise,n,n):n()},t.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var e,n,r=this._reader;if(void 0===r._ownerReadableStream)return h(k("iterate"));var i=c((function(t,r){e=t,n=r}));return et(r,{_chunkSteps:function(n){t._ongoingPromise=void 0,_((function(){return e({value:n,done:!1})}))},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,C(r),e({value:void 0,done:!0})},_errorSteps:function(e){t._ongoingPromise=void 0,t._isFinished=!0,C(r),n(e)}}),i},t.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var e=this._reader;if(void 0===e._ownerReadableStream)return h(k("finish iterating"));if(!this._preventCancel){var n=E(e,t);return C(e),g(n,(function(){return{value:t,done:!0}}))}return C(e),f({value:t,done:!0})},t}(),it={next:function(){return ot(this)?this._asyncIteratorImpl.next():h(at("next"))},return:function(t){return ot(this)?this._asyncIteratorImpl.return(t):h(at("return"))}};function ot(t){if(!i(t))return!1;if(!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof rt}catch(t){return!1}}function at(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==J&&Object.setPrototypeOf(it,J);var st=Number.isNaN||function(t){return t!=t};function lt(t){return t.slice()}function ut(t,e,n,r,i){new Uint8Array(t).set(new Uint8Array(n,r,i),e)}function ct(t,e,n){if(t.slice)return t.slice(e,n);var r=n-e,i=new ArrayBuffer(r);return ut(i,0,t,e,r),i}function ft(t){var e=ct(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function ht(t){var e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function dt(t,e,n){if("number"!=typeof(r=n)||st(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;t._queue.push({value:e,size:n}),t._queueTotalSize+=n}function pt(t){t._queue=new x,t._queueTotalSize=0}var yt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"view",{get:function(){if(!mt(this))throw Bt("view");return this._view},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!mt(this))throw Bt("respond");if(B(t,1,"respond"),t=q(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Ft(this._associatedReadableByteStreamController,t)},t.prototype.respondWithNewView=function(t){if(!mt(this))throw Bt("respondWithNewView");if(B(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");t.buffer,Nt(this._associatedReadableByteStreamController,t)},t}();Object.defineProperties(yt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(yt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var vt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"byobRequest",{get:function(){if(!gt(this))throw zt("byobRequest");return Lt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!gt(this))throw zt("desiredSize");return jt(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!gt(this))throw zt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");It(this)},t.prototype.enqueue=function(t){if(!gt(this))throw zt("enqueue");if(B(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be enqueued to");Mt(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!gt(this))throw zt("error");Dt(this,t)},t.prototype[M]=function(t){bt(this),pt(this);var e=this._cancelAlgorithm(t);return Ot(this),e},t.prototype[D]=function(t){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var n=this._queue.shift();this._queueTotalSize-=n.byteLength,kt(this);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}else{var i=this._autoAllocateChunkSize;if(void 0!==i){var o=void 0;try{o=new ArrayBuffer(i)}catch(e){return void t._errorSteps(e)}var a={buffer:o,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}X(e,t),_t(this)}},t}();function gt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof vt}function mt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof yt}function _t(t){(function(t){var e=t._controlledReadableByteStream;return"readable"===e._state&&!t._closeRequested&&!!t._started&&(!!(Z(e)&&K(e)>0)||!!(Vt(e)&&qt(e)>0)||jt(t)>0)})(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,_t(t))}),(function(e){Dt(t,e)}))))}function bt(t){Pt(t),t._pendingPullIntos=new x}function wt(t,e){var n=!1;"closed"===t._state&&(n=!0);var r=xt(e);"default"===e.readerType?Y(t,r,n):function(t,e,n){var r=t._reader._readIntoRequests.shift();n?r._closeSteps(e):r._chunkSteps(e)}(t,r,n)}function xt(t){var e=t.bytesFilled,n=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/n)}function St(t,e,n,r){t._queue.push({buffer:e,byteOffset:n,byteLength:r}),t._queueTotalSize+=r}function Et(t,e){var n=e.elementSize,r=e.bytesFilled-e.bytesFilled%n,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),o=e.bytesFilled+i,a=o-o%n,s=i,l=!1;a>r&&(s=a-e.bytesFilled,l=!0);for(var u=t._queue;s>0;){var c=u.peek(),f=Math.min(s,c.byteLength),h=e.byteOffset+e.bytesFilled;ut(e.buffer,h,c.buffer,c.byteOffset,f),c.byteLength===f?u.shift():(c.byteOffset+=f,c.byteLength-=f),t._queueTotalSize-=f,Ct(0,f,e),s-=f}return l}function Ct(t,e,n){n.bytesFilled+=e}function kt(t){0===t._queueTotalSize&&t._closeRequested?(Ot(t),kn(t._controlledReadableByteStream)):_t(t)}function Pt(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function Tt(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var e=t._pendingPullIntos.peek();Et(t,e)&&(At(t),wt(t._controlledReadableByteStream,e))}}function Rt(t,e){var n=t._pendingPullIntos.peek();Pt(t),"closed"===t._controlledReadableByteStream._state?function(t,e){var n=t._controlledReadableByteStream;if(Vt(n))for(;qt(n)>0;)wt(n,At(t))}(t):function(t,e,n){if(Ct(0,e,n),!(n.bytesFilled<n.elementSize)){At(t);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,o=ct(n.buffer,i-r,i);St(t,o,0,o.byteLength)}n.bytesFilled-=r,wt(t._controlledReadableByteStream,n),Tt(t)}}(t,e,n),_t(t)}function At(t){return t._pendingPullIntos.shift()}function Ot(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function It(t){var e=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===e._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Dt(t,n),n}Ot(t),kn(e)}}function Mt(t,e){var n=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===n._state){var r=e.buffer,i=e.byteOffset,o=e.byteLength,a=r;if(t._pendingPullIntos.length>0){var s=t._pendingPullIntos.peek();s.buffer,s.buffer=s.buffer}Pt(t),Z(n)?0===K(n)?St(t,a,i,o):Y(n,new Uint8Array(a,i,o),!1):Vt(n)?(St(t,a,i,o),Tt(t)):St(t,a,i,o),_t(t)}}function Dt(t,e){var n=t._controlledReadableByteStream;"readable"===n._state&&(bt(t),pt(t),Ot(t),Pn(n,e))}function Lt(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){var e=t._pendingPullIntos.peek(),n=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(yt.prototype);(function(t,e,n){t._associatedReadableByteStreamController=e,t._view=n})(r,t,n),t._byobRequest=r}return t._byobRequest}function jt(t){var e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function Ft(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===e)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+e>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,Rt(t,e)}function Nt(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===e.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+e.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");n.buffer=e.buffer,Rt(t,e.byteLength)}function Ut(t,e,n,r,i,o,a){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,pt(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,e._autoAllocateChunkSize=a,e._pendingPullIntos=new x,t._readableStreamController=e,p(f(n()),(function(){e._started=!0,_t(e)}),(function(t){Dt(e,t)}))}function Bt(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function zt(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Wt(t){return new Ht(t)}function Gt(t,e){t._reader._readIntoRequests.push(e)}function qt(t){return t._reader._readIntoRequests.length}function Vt(t){var e=t._reader;return void 0!==e&&!!Xt(e)}Object.defineProperties(vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(vt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Ht=function(){function t(t){if(B(t,1,"ReadableStreamBYOBReader"),V(t,"First parameter"),En(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!gt(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");S(this,t),this._readIntoRequests=new x}return Object.defineProperty(t.prototype,"closed",{get:function(){return Xt(this)?this._closedPromise:h(Kt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Xt(this)?void 0===this._ownerReadableStream?h(k("cancel")):E(this,t):h(Kt("cancel"))},t.prototype.read=function(t){if(!Xt(this))return h(Kt("read"));if(!ArrayBuffer.isView(t))return h(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return h(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return h(new TypeError("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this._ownerReadableStream)return h(k("read from"));var e,n,r=c((function(t,r){e=t,n=r}));return Yt(this,t,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(t){return e({value:t,done:!0})},_errorSteps:function(t){return n(t)}}),r},t.prototype.releaseLock=function(){if(!Xt(this))throw Kt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},t}();function Xt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Ht}function Yt(t,e,n){var r=t._ownerReadableStream;r._disturbed=!0,"errored"===r._state?n._errorSteps(r._storedError):function(t,e,n){var r=t._controlledReadableByteStream,i=1;e.constructor!==DataView&&(i=e.constructor.BYTES_PER_ELEMENT);var o=e.constructor,a=e.buffer,s={buffer:a,bufferByteLength:a.byteLength,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(s),void Gt(r,n);if("closed"!==r._state){if(t._queueTotalSize>0){if(Et(t,s)){var l=xt(s);return kt(t),void n._chunkSteps(l)}if(t._closeRequested){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");return Dt(t,u),void n._errorSteps(u)}}t._pendingPullIntos.push(s),Gt(r,n),_t(t)}else{var c=new o(s.buffer,s.byteOffset,0);n._closeSteps(c)}}(r._readableStreamController,e,n)}function Kt(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Zt(t,e){var n=t.highWaterMark;if(void 0===n)return e;if(st(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Qt(t){return t.size||function(){return 1}}function Jt(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark,r=null==t?void 0:t.size;return{highWaterMark:void 0===n?void 0:W(n),size:void 0===r?void 0:$t(r,e+" has member 'size' that")}}function $t(t,e){return N(t,e),function(e){return W(t(e))}}function te(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function ee(t,e,n){return N(t,n),function(){return w(t,e,[])}}function ne(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function re(t,e,n){return N(t,n),function(n,r){return w(t,e,[n,r])}}function ie(t,e){if(!ue(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(Ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Ht.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var oe="function"==typeof AbortController;var ae=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:U(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=null==t?void 0:t.abort,r=null==t?void 0:t.close,i=null==t?void 0:t.start,o=null==t?void 0:t.type,a=null==t?void 0:t.write;return{abort:void 0===n?void 0:te(n,t,e+" has member 'abort' that"),close:void 0===r?void 0:ee(r,t,e+" has member 'close' that"),start:void 0===i?void 0:ne(i,t,e+" has member 'start' that"),write:void 0===a?void 0:re(a,t,e+" has member 'write' that"),type:o}}(t,"First parameter");if(le(this),void 0!==r.type)throw new RangeError("Invalid type is specified");var i=Qt(n);!function(t,e,n,r){var i=Object.create(Pe.prototype),o=function(){},a=function(){return f(void 0)},s=function(){return f(void 0)},l=function(){return f(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.write&&(a=function(t){return e.write(t,i)}),void 0!==e.close&&(s=function(){return e.close()}),void 0!==e.abort&&(l=function(t){return e.abort(t)}),Re(t,i,o,a,s,l,n,r)}(this,r,Zt(n,1),i)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!ue(this))throw je("locked");return ce(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ue(this)?ce(this)?h(new TypeError("Cannot abort a stream that already has a writer")):fe(this,t):h(je("abort"))},t.prototype.close=function(){return ue(this)?ce(this)?h(new TypeError("Cannot close a stream that already has a writer")):ve(this)?h(new TypeError("Cannot close an already-closing stream")):he(this):h(je("close"))},t.prototype.getWriter=function(){if(!ue(this))throw je("getWriter");return se(this)},t}();function se(t){return new _e(t)}function le(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new x,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function ue(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof ae}function ce(t){return void 0!==t._writer}function fe(t,e){var n;if("closed"===t._state||"errored"===t._state)return f(void 0);t._writableStreamController._abortReason=e,null===(n=t._writableStreamController._abortController)||void 0===n||n.abort();var r=t._state;if("closed"===r||"errored"===r)return f(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;"erroring"===r&&(i=!0,e=void 0);var o=c((function(n,r){t._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:e,_wasAlreadyErroring:i}}));return t._pendingAbortRequest._promise=o,i||pe(t,e),o}function he(t){var e=t._state;if("closed"===e||"errored"===e)return h(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var n,r=c((function(e,n){var r={_resolve:e,_reject:n};t._closeRequest=r})),i=t._writer;return void 0!==i&&t._backpressure&&"writable"===e&&Ye(i),dt(n=t._writableStreamController,ke,0),Ie(n),r}function de(t,e){"writable"!==t._state?ye(t):pe(t,e)}function pe(t,e){var n=t._writableStreamController;t._state="erroring",t._storedError=e;var r=t._writer;void 0!==r&&Se(r,e),!function(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&n._started&&ye(t)}function ye(t){t._state="errored",t._writableStreamController[I]();var e=t._storedError;if(t._writeRequests.forEach((function(t){t._reject(e)})),t._writeRequests=new x,void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(e),void ge(t);p(t._writableStreamController[O](n._reason),(function(){n._resolve(),ge(t)}),(function(e){n._reject(e),ge(t)}))}else ge(t)}function ve(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function ge(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);var e=t._writer;void 0!==e&&We(e,t._storedError)}function me(t,e){var n=t._writer;void 0!==n&&e!==t._backpressure&&(e?function(t){qe(t)}(n):Ye(n)),t._backpressure=e}Object.defineProperties(ae.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(ae.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});var _e=function(){function t(t){if(B(t,1,"WritableStreamDefaultWriter"),ie(t,"First parameter"),ce(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var e,n=t._state;if("writable"===n)!ve(t)&&t._backpressure?qe(this):He(this),Be(this);else if("erroring"===n)Ve(this,t._storedError),Be(this);else if("closed"===n)He(this),Be(e=this),Ge(e);else{var r=t._storedError;Ve(this,r),ze(this,r)}}return Object.defineProperty(t.prototype,"closed",{get:function(){return be(this)?this._closedPromise:h(Ne("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!be(this))throw Ne("desiredSize");if(void 0===this._ownerWritableStream)throw Ue("desiredSize");return t=this._ownerWritableStream,"errored"===(e=t._state)||"erroring"===e?null:"closed"===e?0:Oe(t._writableStreamController);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return be(this)?this._readyPromise:h(Ne("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),be(this)?void 0===this._ownerWritableStream?h(Ue("abort")):function(t,e){return fe(t._ownerWritableStream,e)}(this,t):h(Ne("abort"))},t.prototype.close=function(){if(!be(this))return h(Ne("close"));var t=this._ownerWritableStream;return void 0===t?h(Ue("close")):ve(t)?h(new TypeError("Cannot close an already-closing stream")):we(this)},t.prototype.releaseLock=function(){if(!be(this))throw Ne("releaseLock");void 0!==this._ownerWritableStream&&Ee(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),be(this)?void 0===this._ownerWritableStream?h(Ue("write to")):Ce(this,t):h(Ne("write"))},t}();function be(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof _e}function we(t){return he(t._ownerWritableStream)}function xe(t,e){"pending"===t._closedPromiseState?We(t,e):function(t,e){ze(t,e)}(t,e)}function Se(t,e){"pending"===t._readyPromiseState?Xe(t,e):function(t,e){Ve(t,e)}(t,e)}function Ee(t){var e=t._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Se(t,n),xe(t,n),e._writer=void 0,t._ownerWritableStream=void 0}function Ce(t,e){var n=t._ownerWritableStream,r=n._writableStreamController,i=function(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){return Me(t,e),1}}(r,e);if(n!==t._ownerWritableStream)return h(Ue("write to"));var o=n._state;if("errored"===o)return h(n._storedError);if(ve(n)||"closed"===o)return h(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return h(n._storedError);var a=function(t){return c((function(e,n){var r={_resolve:e,_reject:n};t._writeRequests.push(r)}))}(n);return function(t,e,n){try{dt(t,e,n)}catch(e){return void Me(t,e)}var r=t._controlledWritableStream;ve(r)||"writable"!==r._state||me(r,De(t)),Ie(t)}(r,e,i),a}Object.defineProperties(_e.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(_e.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var ke={},Pe=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"abortReason",{get:function(){if(!Te(this))throw Fe("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signal",{get:function(){if(!Te(this))throw Fe("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Te(this))throw Fe("error");"writable"===this._controlledWritableStream._state&&Le(this,t)},t.prototype[O]=function(t){var e=this._abortAlgorithm(t);return Ae(this),e},t.prototype[I]=function(){pt(this)},t}();function Te(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof Pe}function Re(t,e,n,r,i,o,a,s){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._abortReason=void 0,e._abortController=function(){if(oe)return new AbortController}(),e._started=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._writeAlgorithm=r,e._closeAlgorithm=i,e._abortAlgorithm=o;var l=De(e);me(t,l),p(f(n()),(function(){e._started=!0,Ie(e)}),(function(n){e._started=!0,de(t,n)}))}function Ae(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Oe(t){return t._strategyHWM-t._queueTotalSize}function Ie(t){var e=t._controlledWritableStream;if(t._started&&void 0===e._inFlightWriteRequest)if("erroring"!==e._state){if(0!==t._queue.length){var n=t._queue.peek().value;n===ke?function(t){var e=t._controlledWritableStream;(function(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0})(e),ht(t);var n=t._closeAlgorithm();Ae(t),p(n,(function(){!function(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";var e=t._writer;void 0!==e&&Ge(e)}(e)}),(function(t){!function(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),de(t,e)}(e,t)}))}(t):function(t,e){var n=t._controlledWritableStream;(function(t){t._inFlightWriteRequest=t._writeRequests.shift()})(n),p(t._writeAlgorithm(e),(function(){!function(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}(n);var e=n._state;if(ht(t),!ve(n)&&"writable"===e){var r=De(t);me(n,r)}Ie(t)}),(function(e){"writable"===n._state&&Ae(t),function(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,de(t,e)}(n,e)}))}(t,n)}}else ye(e)}function Me(t,e){"writable"===t._controlledWritableStream._state&&Le(t,e)}function De(t){return Oe(t)<=0}function Le(t,e){var n=t._controlledWritableStream;Ae(t),pe(n,e)}function je(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Fe(t){return new TypeError("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Ne(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ue(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Be(t){t._closedPromise=c((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n,t._closedPromiseState="pending"}))}function ze(t,e){Be(t),We(t,e)}function We(t,e){void 0!==t._closedPromise_reject&&(m(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Ge(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function qe(t){t._readyPromise=c((function(e,n){t._readyPromise_resolve=e,t._readyPromise_reject=n})),t._readyPromiseState="pending"}function Ve(t,e){qe(t),Xe(t,e)}function He(t){qe(t),Ye(t)}function Xe(t,e){void 0!==t._readyPromise_reject&&(m(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function Ye(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Pe.prototype,{error:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Pe.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Ke="undefined"!=typeof DOMException?DOMException:void 0;var Ze,Qe=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ke)?Ke:((Ze=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(Ze.prototype,"constructor",{value:Ze,writable:!0,configurable:!0}),Ze);function Je(t,e,r,i,o,a){var s=H(t),l=se(e);t._disturbed=!0;var u=!1,g=f(void 0);return c((function(_,b){var w,x,S,E;if(void 0!==a){if(w=function(){var n=new Qe("Aborted","AbortError"),r=[];i||r.push((function(){return"writable"===e._state?fe(e,n):f(void 0)})),o||r.push((function(){return"readable"===t._state?Cn(t,n):f(void 0)})),R((function(){return Promise.all(r.map((function(t){return t()})))}),!0,n)},a.aborted)return void w();a.addEventListener("abort",w)}if(T(t,s._closedPromise,(function(t){i?A(!0,t):R((function(){return fe(e,t)}),!0,t)})),T(e,l._closedPromise,(function(e){o?A(!0,e):R((function(){return Cn(t,e)}),!0,e)})),x=t,S=s._closedPromise,E=function(){r?A():R((function(){return function(t){var e=t._ownerWritableStream,n=e._state;return ve(e)||"closed"===n?f(void 0):"errored"===n?h(e._storedError):we(t)}(l)}))},"closed"===x._state?E():y(S,E),ve(e)||"closed"===e._state){var k=new TypeError("the destination writable stream closed before all data could be piped to it");o?A(!0,k):R((function(){return Cn(t,k)}),!0,k)}function P(){var t=g;return d(g,(function(){return t!==g?P():void 0}))}function T(t,e,n){"errored"===t._state?n(t._storedError):v(e,n)}function R(t,n,r){function i(){p(t(),(function(){return O(n,r)}),(function(t){return O(!0,t)}))}u||(u=!0,"writable"!==e._state||ve(e)?i():y(P(),i))}function A(t,n){u||(u=!0,"writable"!==e._state||ve(e)?O(t,n):y(P(),(function(){return O(t,n)})))}function O(t,e){Ee(l),C(s),void 0!==a&&a.removeEventListener("abort",w),t?b(e):_(void 0)}m(c((function(t,e){!function r(i){i?t():d(u?f(!0):d(l._readyPromise,(function(){return c((function(t,e){et(s,{_chunkSteps:function(e){g=d(Ce(l,e),void 0,n),t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:e})}))})),r,e)}(!1)})))}))}var $e=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!tn(this))throw fn("desiredSize");return ln(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!tn(this))throw fn("close");if(!un(this))throw new TypeError("The stream is not in a state that permits close");on(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!tn(this))throw fn("enqueue");if(!un(this))throw new TypeError("The stream is not in a state that permits enqueue");return an(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!tn(this))throw fn("error");sn(this,t)},t.prototype[M]=function(t){pt(this);var e=this._cancelAlgorithm(t);return rn(this),e},t.prototype[D]=function(t){var e=this._controlledReadableStream;if(this._queue.length>0){var n=ht(this);this._closeRequested&&0===this._queue.length?(rn(this),kn(e)):en(this),t._chunkSteps(n)}else X(e,t),en(this)},t}();function tn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof $e}function en(t){nn(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,en(t))}),(function(e){sn(t,e)}))))}function nn(t){var e=t._controlledReadableStream;return!!un(t)&&!!t._started&&(!!(En(e)&&K(e)>0)||ln(t)>0)}function rn(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function on(t){if(un(t)){var e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(rn(t),kn(e))}}function an(t,e){if(un(t)){var n=t._controlledReadableStream;if(En(n)&&K(n)>0)Y(n,e,!1);else{var r=void 0;try{r=t._strategySizeAlgorithm(e)}catch(e){throw sn(t,e),e}try{dt(t,e,r)}catch(e){throw sn(t,e),e}}en(t)}}function sn(t,e){var n=t._controlledReadableStream;"readable"===n._state&&(pt(t),rn(t),Pn(n,e))}function ln(t){var e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function un(t){var e=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===e}function cn(t,e,n,r,i,o,a){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=a,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,t._readableStreamController=e,p(f(n()),(function(){e._started=!0,en(e)}),(function(t){sn(e,t)}))}function fn(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function hn(t,e){return gt(t._readableStreamController)?function(t){var e,n,r,i,o,a=H(t),s=!1,l=!1,u=!1,h=c((function(t){o=t}));function d(t){v(t._closedPromise,(function(e){t===a&&(Dt(r._readableStreamController,e),Dt(i._readableStreamController,e),l&&u||o(void 0))}))}function p(){Xt(a)&&(C(a),d(a=H(t))),et(a,{_chunkSteps:function(e){_((function(){s=!1;var n=e,a=e;if(!l&&!u)try{a=ft(e)}catch(e){return Dt(r._readableStreamController,e),Dt(i._readableStreamController,e),void o(Cn(t,e))}l||Mt(r._readableStreamController,n),u||Mt(i._readableStreamController,a)}))},_closeSteps:function(){s=!1,l||It(r._readableStreamController),u||It(i._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Ft(r._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Ft(i._readableStreamController,0),l&&u||o(void 0)},_errorSteps:function(){s=!1}})}function y(e,n){tt(a)&&(C(a),d(a=Wt(t)));var c=n?i:r,f=n?r:i;Yt(a,e,{_chunkSteps:function(e){_((function(){s=!1;var r=n?u:l;if(n?l:u)r||Nt(c._readableStreamController,e);else{var i=void 0;try{i=ft(e)}catch(e){return Dt(c._readableStreamController,e),Dt(f._readableStreamController,e),void o(Cn(t,e))}r||Nt(c._readableStreamController,e),Mt(f._readableStreamController,i)}}))},_closeSteps:function(t){s=!1;var e=n?u:l,r=n?l:u;e||It(c._readableStreamController),r||It(f._readableStreamController),void 0!==t&&(e||Nt(c._readableStreamController,t),!r&&f._readableStreamController._pendingPullIntos.length>0&&Ft(f._readableStreamController,0)),e&&r||o(void 0)},_errorSteps:function(){s=!1}})}function g(){if(s)return f(void 0);s=!0;var t=Lt(r._readableStreamController);return null===t?p():y(t._view,!1),f(void 0)}function m(){if(s)return f(void 0);s=!0;var t=Lt(i._readableStreamController);return null===t?p():y(t._view,!0),f(void 0)}function b(r){if(l=!0,e=r,u){var i=lt([e,n]),a=Cn(t,i);o(a)}return h}function w(r){if(u=!0,n=r,l){var i=lt([e,n]),a=Cn(t,i);o(a)}return h}function x(){}return r=wn(x,g,b),i=wn(x,m,w),d(a),[r,i]}(t):function(t,e){var n,r,i,o,a,s=H(t),l=!1,u=!1,h=!1,d=c((function(t){a=t}));function p(){return l||(l=!0,et(s,{_chunkSteps:function(t){_((function(){l=!1;var e=t,n=t;u||an(i._readableStreamController,e),h||an(o._readableStreamController,n)}))},_closeSteps:function(){l=!1,u||on(i._readableStreamController),h||on(o._readableStreamController),u&&h||a(void 0)},_errorSteps:function(){l=!1}})),f(void 0)}function y(e){if(u=!0,n=e,h){var i=lt([n,r]),o=Cn(t,i);a(o)}return d}function g(e){if(h=!0,r=e,u){var i=lt([n,r]),o=Cn(t,i);a(o)}return d}function m(){}return i=bn(m,p,y),o=bn(m,p,g),v(s._closedPromise,(function(t){sn(i._readableStreamController,t),sn(o._readableStreamController,t),u&&h||a(void 0)})),[i,o]}(t)}function dn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function pn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function yn(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function vn(t,e){if("bytes"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function gn(t,e){if("byob"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function mn(t,e){F(t,e);var n=null==t?void 0:t.preventAbort,r=null==t?void 0:t.preventCancel,i=null==t?void 0:t.preventClose,o=null==t?void 0:t.signal;return void 0!==o&&function(t,e){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new TypeError(e+" is not an AbortSignal.")}(o,e+" has member 'signal' that"),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(i),signal:o}}Object.defineProperties($e.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty($e.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var _n=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:U(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=t,r=null==n?void 0:n.autoAllocateChunkSize,i=null==n?void 0:n.cancel,o=null==n?void 0:n.pull,a=null==n?void 0:n.start,s=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:q(r,e+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:dn(i,n,e+" has member 'cancel' that"),pull:void 0===o?void 0:pn(o,n,e+" has member 'pull' that"),start:void 0===a?void 0:yn(a,n,e+" has member 'start' that"),type:void 0===s?void 0:vn(s,e+" has member 'type' that")}}(t,"First parameter");if(xn(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,e,n){var r=Object.create(vt.prototype),i=function(){},o=function(){return f(void 0)},a=function(){return f(void 0)};void 0!==e.start&&(i=function(){return e.start(r)}),void 0!==e.pull&&(o=function(){return e.pull(r)}),void 0!==e.cancel&&(a=function(t){return e.cancel(t)});var s=e.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ut(t,r,i,o,a,n,s)}(this,r,Zt(n,0))}else{var i=Qt(n);!function(t,e,n,r){var i=Object.create($e.prototype),o=function(){},a=function(){return f(void 0)},s=function(){return f(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.pull&&(a=function(){return e.pull(i)}),void 0!==e.cancel&&(s=function(t){return e.cancel(t)}),cn(t,i,o,a,s,n,r)}(this,r,Zt(n,1),i)}}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!Sn(this))throw Tn("locked");return En(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sn(this)?En(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):Cn(this,t):h(Tn("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Sn(this))throw Tn("getReader");return void 0===function(t,e){F(t,e);var n=null==t?void 0:t.mode;return{mode:void 0===n?void 0:gn(n,e+" has member 'mode' that")}}(t,"First parameter").mode?H(this):Wt(this)},t.prototype.pipeThrough=function(t,e){if(void 0===e&&(e={}),!Sn(this))throw Tn("pipeThrough");B(t,1,"pipeThrough");var n=function(t,e){F(t,e);var n=null==t?void 0:t.readable;z(n,"readable","ReadableWritablePair"),V(n,e+" has member 'readable' that");var r=null==t?void 0:t.writable;return z(r,"writable","ReadableWritablePair"),ie(r,e+" has member 'writable' that"),{readable:n,writable:r}}(t,"First parameter"),r=mn(e,"Second parameter");if(En(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ce(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(Je(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable},t.prototype.pipeTo=function(t,e){if(void 0===e&&(e={}),!Sn(this))return h(Tn("pipeTo"));if(void 0===t)return h("Parameter 1 is required in 'pipeTo'.");if(!ue(t))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=mn(e,"Second parameter")}catch(t){return h(t)}return En(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ce(t)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Je(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},t.prototype.tee=function(){if(!Sn(this))throw Tn("tee");return lt(hn(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Sn(this))throw Tn("values");return e=this,n=function(t,e){F(t,e);var n=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(n)}}(t,"First parameter").preventCancel,r=H(e),i=new rt(r,n),(o=Object.create(it))._asyncIteratorImpl=i,o;var e,n,r,i,o},t}();function bn(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var o=Object.create(_n.prototype);return xn(o),cn(o,Object.create($e.prototype),t,e,n,r,i),o}function wn(t,e,n){var r=Object.create(_n.prototype);return xn(r),Ut(r,Object.create(vt.prototype),t,e,n,0,void 0),r}function xn(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Sn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof _n}function En(t){return void 0!==t._reader}function Cn(t,e){if(t._disturbed=!0,"closed"===t._state)return f(void 0);if("errored"===t._state)return h(t._storedError);kn(t);var r=t._reader;return void 0!==r&&Xt(r)&&(r._readIntoRequests.forEach((function(t){t._closeSteps(void 0)})),r._readIntoRequests=new x),g(t._readableStreamController[M](e),n)}function kn(t){t._state="closed";var e=t._reader;void 0!==e&&(A(e),tt(e)&&(e._readRequests.forEach((function(t){t._closeSteps()})),e._readRequests=new x))}function Pn(t,e){t._state="errored",t._storedError=e;var n=t._reader;void 0!==n&&(R(n,e),tt(n)?(n._readRequests.forEach((function(t){t._errorSteps(e)})),n._readRequests=new x):(n._readIntoRequests.forEach((function(t){t._errorSteps(e)})),n._readIntoRequests=new x))}function Tn(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Rn(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark;return z(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:W(n)}}Object.defineProperties(_n.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(_n.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof e.asyncIterator&&Object.defineProperty(_n.prototype,e.asyncIterator,{value:_n.prototype.values,writable:!0,configurable:!0});var An=function(t){return t.byteLength};Object.defineProperty(An,"name",{value:"size",configurable:!0});var On=function(){function t(t){B(t,1,"ByteLengthQueuingStrategy"),t=Rn(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Mn(this))throw In("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!Mn(this))throw In("size");return An},enumerable:!1,configurable:!0}),t}();function In(t){return new TypeError("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Mn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")&&t instanceof On}Object.defineProperties(On.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(On.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Dn=function(){return 1};Object.defineProperty(Dn,"name",{value:"size",configurable:!0});var Ln=function(){function t(t){B(t,1,"CountQueuingStrategy"),t=Rn(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Fn(this))throw jn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!Fn(this))throw jn("size");return Dn},enumerable:!1,configurable:!0}),t}();function jn(t){return new TypeError("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Fn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")&&t instanceof Ln}function Nn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function Un(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function Bn(t,e,n){return N(t,n),function(n,r){return w(t,e,[n,r])}}Object.defineProperties(Ln.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Ln.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var zn=function(){function t(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),void 0===n&&(n={}),void 0===t&&(t=null);var r=Jt(e,"Second parameter"),i=Jt(n,"Third parameter"),o=function(t,e){F(t,e);var n=null==t?void 0:t.flush,r=null==t?void 0:t.readableType,i=null==t?void 0:t.start,o=null==t?void 0:t.transform,a=null==t?void 0:t.writableType;return{flush:void 0===n?void 0:Nn(n,t,e+" has member 'flush' that"),readableType:r,start:void 0===i?void 0:Un(i,t,e+" has member 'start' that"),transform:void 0===o?void 0:Bn(o,t,e+" has member 'transform' that"),writableType:a}}(t,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");var a,s=Zt(i,0),l=Qt(i),u=Zt(r,1),d=Qt(r);(function(t,e,n,r,i,o){function a(){return e}function s(e){return function(t,e){var n=t._transformStreamController;return t._backpressure?g(t._backpressureChangePromise,(function(){var r=t._writable;if("erroring"===r._state)throw r._storedError;return Zn(n,e)})):Zn(n,e)}(t,e)}function l(e){return function(t,e){return Gn(t,e),f(void 0)}(t,e)}function u(){return function(t){var e=t._readable,n=t._transformStreamController,r=n._flushAlgorithm();return Yn(n),g(r,(function(){if("errored"===e._state)throw e._storedError;on(e._readableStreamController)}),(function(n){throw Gn(t,n),e._storedError}))}(t)}function c(){return function(t){return Vn(t,!1),t._backpressureChangePromise}(t)}function h(e){return qn(t,e),f(void 0)}t._writable=function(t,e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var a=Object.create(ae.prototype);return le(a),Re(a,Object.create(Pe.prototype),t,e,n,r,i,o),a}(a,s,u,l,n,r),t._readable=bn(a,c,h,i,o),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,Vn(t,!0),t._transformStreamController=void 0})(this,c((function(t){a=t})),u,d,s,l),function(t,e){var n=Object.create(Hn.prototype),r=function(t){try{return Kn(n,t),f(void 0)}catch(t){return h(t)}},i=function(){return f(void 0)};void 0!==e.transform&&(r=function(t){return e.transform(t,n)}),void 0!==e.flush&&(i=function(){return e.flush(n)}),function(t,e,n,r){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=n,e._flushAlgorithm=r}(t,n,r,i)}(this,o),void 0!==o.start?a(o.start(this._transformStreamController)):a(void 0)}return Object.defineProperty(t.prototype,"readable",{get:function(){if(!Wn(this))throw Jn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){if(!Wn(this))throw Jn("writable");return this._writable},enumerable:!1,configurable:!0}),t}();function Wn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof zn}function Gn(t,e){sn(t._readable._readableStreamController,e),qn(t,e)}function qn(t,e){Yn(t._transformStreamController),Me(t._writable._writableStreamController,e),t._backpressure&&Vn(t,!1)}function Vn(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=c((function(e){t._backpressureChangePromise_resolve=e})),t._backpressure=e}Object.defineProperties(zn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(zn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});var Hn=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Xn(this))throw Qn("desiredSize");return ln(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Xn(this))throw Qn("enqueue");Kn(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Xn(this))throw Qn("error");var e;e=t,Gn(this._controlledTransformStream,e)},t.prototype.terminate=function(){if(!Xn(this))throw Qn("terminate");var t;on((t=this._controlledTransformStream)._readable._readableStreamController),qn(t,new TypeError("TransformStream terminated"))},t}();function Xn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof Hn}function Yn(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function Kn(t,e){var n=t._controlledTransformStream,r=n._readable._readableStreamController;if(!un(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{an(r,e)}catch(t){throw qn(n,t),n._readable._storedError}(function(t){return!nn(t)})(r)!==n._backpressure&&Vn(n,!0)}function Zn(t,e){return g(t._transformAlgorithm(e),void 0,(function(e){throw Gn(t._controlledTransformStream,e),e}))}function Qn(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Jn(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}Object.defineProperties(Hn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Hn.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=On,t.CountQueuingStrategy=Ln,t.ReadableByteStreamController=vt,t.ReadableStream=_n,t.ReadableStreamBYOBReader=Ht,t.ReadableStreamBYOBRequest=yt,t.ReadableStreamDefaultController=$e,t.ReadableStreamDefaultReader=$,t.TransformStream=zn,t.TransformStreamDefaultController=Hn,t.WritableStream=ae,t.WritableStreamDefaultController=Pe,t.WritableStreamDefaultWriter=_e,Object.defineProperty(t,"__esModule",{value:!0})}(e)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSVGFactory=e.BaseStandardFontDataFactory=e.BaseCMapReaderFactory=e.BaseCanvasFactory=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function a(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,l,"next",t)}function l(t){a(o,r,i,s,l,"throw",t)}s(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var f=function(){function t(){l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return c(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(t,e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}]),t}();e.BaseCanvasFactory=f;var h=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n,i=e.isCompressed,a=void 0!==i&&i;l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=a}var e;return c(t,[{key:"fetch",value:(e=s(i.default.mark((function t(e){var n,r,a,s=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return r=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE,t.abrupt("return",this._fetchData(r,a).catch((function(t){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"","CMap at: ").concat(r))})));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}();e.BaseCMapReaderFactory=h;var d=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n;l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}var e;return c(t,[{key:"fetch",value:(e=s(i.default.mark((function t(e){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.filename,this.baseUrl){t.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){t.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),t.abrupt("return",this._fetchData(r).catch((function(t){throw new Error("Unable to load font data at: ".concat(r))})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}();e.BaseStandardFontDataFactory=d;var p=function(){function t(){l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}return c(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width","".concat(t,"px")),n.setAttribute("height","".concat(e,"px")),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),n}},{key:"createElement",value:function(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(t){(0,o.unreachable)("Abstract method `_createSVG` called.")}}]),t}();e.BaseSVGFactory=p},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(116),_node_utils=__w_pdfjs_require__(117),_annotation_storage=__w_pdfjs_require__(118),_canvas=__w_pdfjs_require__(119),_worker_options=__w_pdfjs_require__(121),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(122),_metadata=__w_pdfjs_require__(123),_optional_content_config=__w_pdfjs_require__(124),_transport_stream=__w_pdfjs_require__(125);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){asyncGeneratorStep(o,r,i,a,s,"next",t)}function s(t){asyncGeneratorStep(o,r,i,a,s,"throw",t)}a(void 0)}))}}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if("string"==typeof t||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var r=Object.create(null),i=null,o=null;for(var a in e){var s=e[a];switch(a){case"url":if("undefined"!=typeof window)try{r[a]=new URL(s,window.location).href;continue}catch(t){(0,_util.warn)('Cannot create valid URL: "'.concat(t,'".'))}else if("string"==typeof s||s instanceof URL){r[a]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=s;continue;case"worker":o=s;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&s instanceof Buffer)r[a]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"==typeof s)r[a]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[a]=new Uint8Array(s)}else r[a]=new Uint8Array(s)}continue}r[a]=s}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var l={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=o}var u=n.docId;return o.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(o,r,i,u),e=new Promise((function(t){var e;i?e=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(e=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(e)}));return Promise.all([t,e]).then((function(t){var e=_slicedToArray(t,2),i=e[0],a=e[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(u,i,o.port);s.postMessageTransfers=o.postMessageTransfers;var l=new WorkerTransport(s,n,a,r);n._transport=l,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(t,e,n,r){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename),t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.10.377",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null}).then((function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})))}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var t=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)}))}}]),t}()),nextDocumentId,PDFDataRangeTransport=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(t){r.e(t)}finally{r.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(t,e)}catch(t){i.e(t)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(e._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(t){r.e(t)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,n=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(t){n.e(t)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){_classCallCheck(this,t),this._pdfInfo=e,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}})}return _createClass(t,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}var e;return _createClass(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,r=void 0===n?this.rotate:n,i=t.offsetX,o=void 0===i?0:i,a=t.offsetY,s=void 0===a?0:a,l=t.dontFlip,u=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:o,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?null:e,r="display"===n||"print"===n?n:null;return this._annotationsPromise&&this._annotationsIntent===r||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,r),this._annotationsIntent=r),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(e=_asyncToGenerator(_regenerator.default.mark((function t(){var e;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(t){var e,n=this,r=t.canvasContext,i=t.viewport,o=t.intent,a=void 0===o?"display":o,s=t.renderInteractiveForms,l=void 0!==s&&s,u=t.transform,c=void 0===u?null:u,f=t.imageLayer,h=void 0===f?null:f,d=t.canvasFactory,p=void 0===d?null:d,y=t.background,v=void 0===y?null:y,g=t.includeAnnotationStorage,m=void 0!==g&&g,_=t.optionalContentConfigPromise,b=void 0===_?null:_;this._stats&&this._stats.time("Overall");var w="print"===a?"print":"display";this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());var x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);var S=p||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),E=m?this._transport.annotationStorage.serializable:null;x.displayReadyCapability||(x.displayReadyCapability=(0,_util.createPromiseCapability)(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:w,renderInteractiveForms:!0===l,annotationStorage:E}));var C=function(t){x.renderTasks.delete(k),(n.cleanupAfterRender||"print"===w)&&(n.pendingCleanup=!0),n._tryCleanup(),t?(k.capability.reject(t),n._abortOperatorList({intentState:x,reason:t})):k.capability.resolve(),n._stats&&(n._stats.timeEnd("Rendering"),n._stats.timeEnd("Overall"))},k=new InternalRenderTask({callback:C,params:{canvasContext:r,viewport:i,transform:c,imageLayer:h,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:S,useRequestAnimationFrame:"print"!==w,pdfBug:this._pdfBug});((e=x).renderTasks||(e.renderTasks=new Set)).add(k);var P=k.task;return Promise.all([x.displayReadyCapability.promise,b]).then((function(t){var e=_slicedToArray(t,2),r=e[0],i=e[1];n.pendingCleanup?C():(n._stats&&n._stats.time("Rendering"),k.initializeGraphics({transparency:r,optionalContentConfig:i}),k.operatorListChanged())})).catch(C),P}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e;function r(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(i))}var i,o,a="oplist-".concat("print"===n?"print":"display"),s=this._intentStates.get(a);return s||(s=Object.create(null),this._intentStates.set(a,s)),s.opListReadCapability||((i=Object.create(null)).operatorListChanged=r,s.opListReadCapability=(0,_util.createPromiseCapability)(),((o=s).renderTasks||(o.renderTasks=new Set)).add(i),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:a})),s.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.normalizeWhitespace,n=void 0!==e&&e,r=t.disableCombineTextItems,i=void 0!==r&&r,o=t.includeMarkedContent,a=void 0!==o&&o,s=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i,includeMarkedContent:!0===a},{highWaterMark:s,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.streamTextContent(t);return new Promise((function(t,n){var r=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){r.read().then((function(n){var r,o=n.value;n.done?t(i):(Object.assign(i.styles,o.styles),(r=i.items).push.apply(r,_toConsumableArray(o.items)),e())}),n)}()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t,e=[],n=_createForOfIteratorHelper(this._intentStates);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),i=r[0],o=r[1];if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!i.startsWith("oplist-")){var a,s=_createForOfIteratorHelper(o.renderTasks);try{for(s.s();!(a=s.n()).done;){var l=a.value;e.push(l.completed),l.cancel()}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){n.e(t)}finally{n.f()}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var e,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.renderTasks,o=r.operatorList;if(i.size>0||!o.lastChunk)return!1}}catch(t){n.e(t)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;var i,o=_createForOfIteratorHelper(e.renderTasks);try{for(o.s();!(i=o.n()).done;)i.value.operatorListChanged()}catch(t){o.e(t)}finally{o.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),r=this._intentStates.get(t.intent);r.streamReader=n,function t(){n.read().then((function(n){var i=n.value;n.done?r.streamReader=null:e._transport.destroyed||(e._renderPageChunk(i,r),t())}),(function(t){if(r.streamReader=null,!e._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;var n,i=_createForOfIteratorHelper(r.renderTasks);try{for(i.s();!(n=i.n()).done;)n.value.operatorListChanged()}catch(t){i.e(t)}finally{i.f()}e._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(t);else{if(!r.opListReadCapability)throw t;r.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,r=t.reason,i=t.force,o=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"===_typeof(r)&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!o){if(n.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){e._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(null==r?void 0:r.message)),n.streamReader=null,!this._transport.destroyed){var a,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(a=s.n()).done;){var l=_slicedToArray(a.value,2),u=l[0];if(l[1]===n){this._intentStates.delete(u);break}}}catch(t){s.e(t)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){_classCallCheck(this,t),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(t,e){var n=this,r=new WeakMap,i={data:function t(n){if("function"==typeof n||"symbol"===_typeof(n)||n instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==n?void 0:n.toString()));if("object"!==_typeof(n)||null===n)return n;if(r.has(n))return r.get(n);var i,o;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return o=null!=e&&e.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,o),o;if(n instanceof Map){o=new Map,r.set(n,o);var a,s=_createForOfIteratorHelper(n);try{for(s.s();!(a=s.n()).done;){var l=_slicedToArray(a.value,2),u=l[0],c=l[1];o.set(u,t(c))}}catch(t){s.e(t)}finally{s.f()}return o}if(n instanceof Set){o=new Set,r.set(n,o);var f,h=_createForOfIteratorHelper(n);try{for(h.s();!(f=h.n()).done;){var d=f.value;o.add(t(d))}}catch(t){h.e(t)}finally{h.f()}return o}for(var p in o=Array.isArray(n)?[]:Object.create(null),r.set(n,o),n){for(var y,v=void 0,g=n;!(v=Object.getOwnPropertyDescriptor(g,p));)g=Object.getPrototypeOf(g);void 0!==v.value&&("function"!=typeof v.value||null!==(y=n.hasOwnProperty)&&void 0!==y&&y.call(n,p))&&(o[p]=t(v.value))}return o}(t)};this._deferred.then((function(){var t,e=_createForOfIteratorHelper(n._listeners);try{for(e.s();!(t=e.n()).done;)t.value.call(n,i)}catch(t){e.e(t)}finally{e.f()}}))}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{var e;t=null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler}catch(t){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref13=_asyncToGenerator(_regenerator.default.mark((function _callee2(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context2.next=3;break}return _context2.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context2.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context2.abrupt("return",worker.WorkerMessageHandler);case 6:return _context2.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context2.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context2.stop()}}),_callee2)})));return function(){return _ref13.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){var e="importScripts('"+t+"');";return URL.createObjectURL(new Blob([e]))}var PDFWorker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=void 0===n?null:n,i=e.port,o=void 0===i?null:i,a=e.verbosity,s=void 0===a?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,t),o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return pdfWorkerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(t,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var n=new Worker(e),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},o=function(){t._webWorker||i()};n.addEventListener("error",o),r.on("test",(function(e){n.removeEventListener("error",o),t.destroyed?i():e?(t._messageHandler=r,t._port=n,t._webWorker=n,e.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),r.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(e){if(n.removeEventListener("error",o),t.destroyed)i();else try{a()}catch(e){t._setupFakeWorker()}}));var a=function(){var e=new Uint8Array([t.postMessageTransfers?255:0]);try{r.send("test",e,[e.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,r.send("test",e)}};return void a()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(e){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;t._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);e.setup(i,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);t._messageHandler=o,t._readyCapability.resolve(),o.send("configure",{verbosity:t.verbosity})}})).catch((function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new t(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),t}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function t(e,n,r,i){_classCallCheck(this,t),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(t,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e,n=[],r=_createForOfIteratorHelper(this.pageCache);try{for(r.s();!(e=r.n()).done;){var i=e.value;i&&n.push(i._destroy())}}catch(t){r.e(t)}finally{r.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then((function(){t.commonObjs.clear(),t.fontLoader.clear(),t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(function(e){var r=(0,_util.createPromiseCapability)(),i=t._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(t._lastProgress&&n.onProgress&&n.onProgress(t._lastProgress),i.onProgress=function(t){n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),e.on("GetRangeReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=t._networkStream.getRangeReader(e.begin,e.end);r?(n.onPull=function(){r.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){r.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}):n.close()})),e.on("GetDoc",(function(e){var r=e.pdfInfo;t._numPages=r.numPages,t._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":e=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":e=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":e=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":e=new _util.UnknownErrorException(t.message,t.details)}e instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),n._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(t._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(e){t._passwordCapability.resolve({password:e})}),e.code)}catch(e){t._passwordCapability.reject(e)}else t._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return t._passwordCapability.promise})),e.on("DataLoaded",(function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){t.destroyed||t.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)})),e.on("commonobj",(function(n){var r;if(!t.destroyed){var i=_slicedToArray(n,3),o=i[0],a=i[1],s=i[2];if(!t.commonObjs.has(o))switch(a){case"Font":var l=t._params;if("error"in s){var u=s.error;(0,_util.warn)("Error during font loading: ".concat(u)),t.commonObjs.resolve(o,u);break}var c=null;l.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(c={registerFont:function(t,e){globalThis.FontInspector.fontAdded(t,e)}});var f=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:c});t.fontLoader.bind(f).catch((function(t){return e.sendWithPromise("FontFallback",{id:o})})).finally((function(){!l.fontExtraProperties&&f.data&&(f.data=null),t.commonObjs.resolve(o,f)}));break;case"FontPath":case"Image":t.commonObjs.resolve(o,s);break;default:throw new Error("Got unknown common object type ".concat(a))}}})),e.on("obj",(function(e){var n;if(!t.destroyed){var r=_slicedToArray(e,4),i=r[0],o=r[1],a=r[2],s=r[3],l=t.pageCache[o];if(!l.objs.has(i))switch(a){case"Image":l.objs.resolve(i,s),(null==s||null===(n=s.data)||void 0===n?void 0:n.length)>8e6&&(l.cleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,s);break;default:throw new Error("Got unknown object type ".concat(a))}}})),e.on("DocProgress",(function(e){t.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),e.on("FetchStandardFontData",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"_onUnsupportedFeature",value:function(t){var e=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(t){if(e.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,t,e,e._params.ownerDocument,e._params.pdfBug);return e.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(){var t,e,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null}).finally((function(){n.annotationStorage.resetModified()}))}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new _optional_content_config.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(e){var n,r,i,o;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(n=null===(r=t._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(o=t._fullReader)||void 0===o?void 0:o.contentLength)&&void 0!==i?i:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark((function t(){var e,n,r,i,o=arguments;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]&&o[0],t.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){t.next=5;break}return t.abrupt("return");case 5:n=0,r=this.pageCache.length;case 6:if(!(n<r)){t.next=16;break}if(i=this.pageCache[n]){t.next=10;break}return t.abrupt("continue",13);case 10:if(i.cleanup()){t.next=13;break}throw new Error("startCleanup: Page ".concat(n+1," is currently rendering."));case 13:n++,t.next=6;break;case 16:this.commonObjs.clear(),e||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var n=this._objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=this._objs[t];return(null==e?void 0:e.resolved)||!1}},{key:"resolve",value:function(t,e){var n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}(),InternalRenderTask=function(){var t=new WeakSet,e=function(){function e(t){var n=t.callback,r=t.params,i=t.objs,o=t.commonObjs,a=t.operatorList,s=t.pageIndex,l=t.canvasFactory,u=t.useRequestAnimationFrame,c=void 0!==u&&u,f=t.pdfBug,h=void 0!==f&&f;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=l,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var n;return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(e){var n,r=e.transparency,i=void 0!==r&&r,o=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var a=this.params,s=a.canvasContext,l=a.viewport,u=a.transform,c=a.imageLayer,f=a.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,c,o),this.gfx.beginDrawing({transform:u,viewport:l,transparency:i,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(n=_asyncToGenerator(_regenerator.default.mark((function e(){return _regenerator.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]),e}();return e}(),version="2.10.377";exports.version=version;var build="156762c48";exports.build=build},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4);function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var v,g=function(){function t(e){var n=e.docId,r=e.onUnsupportedFeature,i=e.ownerDocument,o=void 0===i?globalThis.document:i;e.styleElement,d(this,t),this.constructor===t&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=o,this.nativeFontFaces=[],this.styleElement=null}var e,n;return y(t,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}},{key:"insertRule",value:function(t){var e=this.styleElement;e||((e=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function(){var t,e=f(this.nativeFontFaces);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._document.fonts.delete(n)}}catch(t){e.e(t)}finally{e.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(e=o.default.mark((function t(e){var n,r,i=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.attached&&!e.missingFile){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!this.isFontLoadingAPISupported){t.next=19;break}if(!(n=e.createNativeFontFace())){t.next=18;break}return this.addNativeFontFace(n),t.prev=7,t.next=10,n.loaded;case 10:t.next=18;break;case 12:throw t.prev=12,t.t0=t.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 18:return t.abrupt("return");case 19:if(!(r=e.createFontFaceRule())){t.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,new Promise((function(t){var n=i._queueLoadingCallback(t);i._prepareFontLoadEvent([r],[e],n)}));case 26:case"end":return t.stop()}}),t,this,[[7,12]])})),n=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(t){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var t,e=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(t,e,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),t}();e.FontLoader=v,e.FontLoader=v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=u(e);if(n){var i=u(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return l(this,t)});function i(t){var e;return d(this,i),(e=r.call(this,t)).loadingContext={requests:[],nextRequestId:0},e.loadTestFontId=0,e}return y(i,[{key:"isSyncFontLoadingSupported",get:function(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(t=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function(t){var e=this.loadingContext,n={id:"pdfjs-font-loading-".concat(e.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){var t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(t,e,n){var r,i,o=this;function s(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function l(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}var u=this._document.createElement("canvas");u.width=1,u.height=1;var c=u.getContext("2d"),h=0,d="lt".concat(Date.now()).concat(this.loadTestFontId++),p=this._loadTestFont,y=1482184792,v=s(p=l(p,976,d.length,d),16);for(r=0,i=d.length-3;r<i;r+=4)v=v-y+s(d,r)|0;r<d.length&&(v=v-y+s(d+"XXX",r)|0),p=l(p,16,4,(0,a.string32)(v));var g="url(data:font/opentype;base64,".concat(btoa(p),");"),m='@font-face {font-family:"'.concat(d,'";src:').concat(g,"}");this.insertRule(m);var _,b=[],w=f(e);try{for(w.s();!(_=w.n()).done;){var x=_.value;b.push(x.loadedName)}}catch(t){w.e(t)}finally{w.f()}b.push(d);var S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(var E=0,C=b;E<C.length;E++){var k=C[E],P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=k,S.appendChild(P)}this._document.body.appendChild(S),function t(e,n){if(++h>30)return(0,a.warn)("Load test font never loaded."),void n();c.font="30px "+e,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(d,(function(){o._document.body.removeChild(S),n.complete()}))}}]),i}(g);var m=function(){function t(e,n){var r=n.isEvalSupported,i=void 0===r||r,o=n.disableFontFace,a=void 0!==o&&o,s=n.ignoreErrors,l=void 0!==s&&s,u=n.onUnsupportedFeature,c=n.fontRegistry,f=void 0===c?null:c;for(var h in d(this,t),this.compiledGlyphs=Object.create(null),e)this[h]=e[h];this.isEvalSupported=!1!==i,this.disableFontFace=!0===a,this.ignoreErrors=!0===l,this._onUnsupportedFeature=u,this.fontRegistry=f}return y(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var t;if(this.cssFontInfo){var e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var t,e=(0,a.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");");if(this.cssFontInfo){var r="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(r+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),t='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(r,"src:").concat(n,"}")}else t='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,n),t}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(t,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){var r,i=[],o=f(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=void 0!==s.args?s.args.join(","):"";i.push("c.",s.cmd,"(",l,");\n")}}catch(t){o.e(t)}finally{o.f()}return this.compiledGlyphs[e]=new Function("c","size",i.join(""))}return this.compiledGlyphs[e]=function(t,e){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;"scale"===o.cmd&&(o.args=[e,-e]),t[o.cmd].apply(t,o.args)}}catch(t){i.e(t)}finally{i.f()}}}}]),t}();e.FontFaceObject=m},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCMapReaderFactory=e.NodeCanvasFactory=void 0;var i=n(114),o=n(6),a=n(4);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=y;var v=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=v;var g=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(e.NodeStandardFontDataFactory=g,o.isNodeJS){var m=function(t){return new Promise((function(e,n){__webpack_require__(2767).readFile(t,(function(t,r){!t&&r?e(new Uint8Array(r)):n(new Error(t))}))}))};e.NodeCanvasFactory=y=function(t){u(n,t);var e=f(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_createCanvas",value:function(t,e){return __webpack_require__(4601).createCanvas(t,e)}}]),n}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=v=function(t){u(n,t);var e=f(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(t,e){return m(t).then((function(t){return{cMapData:t,compressionType:e}}))}}]),n}(i.BaseCMapReaderFactory),e.NodeStandardFontDataFactory=g=function(t){u(n,t);var e=f(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(t){return m(t)}}]),n}(i.BaseStandardFontDataFactory)}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var r=n(4);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}var e,n;return e=t,(n=[{key:"getValue",value:function(t,e){var n=this._storage.get(t);return void 0!==n?n:e}},{key:"setValue",value:function(t,e){var n,r,o=this._storage.get(t),a=!1;if(void 0!==o)for(var s=0,l=Object.entries(e);s<l.length;s++){var u=(n=l[s],r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],f=u[1];o[c]!==f&&(a=!0,o[c]=f)}else this._storage.set(t,e),a=!0;a&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}}])&&o(e.prototype,n),t}();e.AnnotationStorage=a},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(4),i=n(120);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=4096,p=16;function y(t){if(!t.mozCurrentTransform){t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._originalResetTransform=t.resetTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"lineWidth");t._setLineWidth=e.set,t._getLineWidth=e.get,Object.defineProperty(t,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(t){}Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=c(this._transformMatrix,6),e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=e*i-n*r,l=n*r-e*i;return[i/s,n/l,r/l,e/s,(i*o-r*a)/l,(n*o-e*a)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]*=t,n[1]*=t,n[2]*=e,n[3]*=e,this._originalScale(t,e)},t.transform=function(e,n,r,i,o,a){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*o+s[2]*a+s[4],s[1]*o+s[3]*a+s[5]],t._originalTransform(e,n,r,i,o,a)},t.setTransform=function(e,n,r,i,o,a){this._transformMatrix=[e,n,r,i,o,a],t._originalSetTransform(e,n,r,i,o,a)},t.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],t._originalResetTransform()},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*-n+r[2]*e,r[1]*-n+r[3]*e,r[4],r[5]],this._originalRotate(t)}}}var v=function(){function t(e){s(this,t),this.canvasFactory=e,this.cache=Object.create(null)}return u(t,[{key:"getCanvas",value:function(t,e,n,r){var i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),r&&y(i.context),i}},{key:"clear",value:function(){for(var t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}]),t}(),g=function(){function t(){s(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return u(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),m=function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var i,o,a,s,l,u,c,f,h,d=e.height,y=e.width,v=d%p,g=(d-v)/p,m=0===v?g:g+1,_=t.createImageData(y,p),b=0,w=e.data,x=_.data;if(n)switch(n.length){case 1:u=n[0],c=n[0],f=n[0],h=n[0];break;case 4:u=n[0],c=n[1],f=n[2],h=n[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){var S=w.byteLength,E=new Uint32Array(x.buffer,0,x.byteLength>>2),C=E.length,k=y+7>>3,P=4294967295,T=r.IsLittleEndianCached.value?4278190080:255;if(h&&255===h[0]&&0===h[255]){var R=[T,P];P=R[0],T=R[1]}for(o=0;o<m;o++){for(s=o<g?p:v,i=0,a=0;a<s;a++){for(var A=S-b,O=0,I=A>k?y:8*A-7,M=-8&I,D=0,L=0;O<M;O+=8)L=w[b++],E[i++]=128&L?P:T,E[i++]=64&L?P:T,E[i++]=32&L?P:T,E[i++]=16&L?P:T,E[i++]=8&L?P:T,E[i++]=4&L?P:T,E[i++]=2&L?P:T,E[i++]=1&L?P:T;for(;O<I;O++)0===D&&(L=w[b++],D=128),E[i++]=L&D?P:T,D>>=1}for(;i<C;)E[i++]=0;t.putImageData(_,0,o*p)}}else if(e.kind===r.ImageKind.RGBA_32BPP){var j=!!(u||c||f);for(a=0,l=y*p*4,o=0;o<g;o++){if(x.set(w.subarray(b,b+l)),b+=l,j)for(var F=0;F<l;F+=4)u&&(x[F+0]=u[x[F+0]]),c&&(x[F+1]=c[x[F+1]]),f&&(x[F+2]=f[x[F+2]]);t.putImageData(_,0,a),a+=p}if(o<m){if(l=y*v*4,x.set(w.subarray(b,b+l)),j)for(var N=0;N<l;N+=4)u&&(x[N+0]=u[x[N+0]]),c&&(x[N+1]=c[x[N+1]]),f&&(x[N+2]=f[x[N+2]]);t.putImageData(_,0,a)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));var U=!!(u||c||f);for(l=y*(s=p),o=0;o<m;o++){for(o>=g&&(l=y*(s=v)),i=0,a=l;a--;)x[i++]=w[b++],x[i++]=w[b++],x[i++]=w[b++],x[i++]=255;if(U)for(var B=0;B<i;B+=4)u&&(x[B+0]=u[x[B+0]]),c&&(x[B+1]=c[x[B+1]]),f&&(x[B+2]=f[x[B+2]]);t.putImageData(_,0,o*p)}}}}function e(t,e){for(var n=e.height,r=e.width,i=n%p,o=(n-i)/p,a=0===i?o:o+1,s=t.createImageData(r,p),l=0,u=e.data,c=s.data,f=0;f<a;f++){for(var h=f<o?p:i,d=3,y=0;y<h;y++)for(var v=void 0,g=0,m=0;m<r;m++)g||(v=u[l++],g=128),c[d]=v&g?0:255,d+=4,g>>=1;t.putImageData(s,0,f*p)}}function n(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==t[o]&&(e[o]=t[o])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function l(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function f(t,e,n,r){for(var i=t.length,o=3;o<i;o+=4){var a=t[o];if(0===a)t[o-3]=e,t[o-2]=n,t[o-1]=r;else if(a<255){var s=255-a;t[o-3]=t[o-3]*a+e*s>>8,t[o-2]=t[o-2]*a+n*s>>8,t[o-1]=t[o-1]*a+r*s>>8}}}function h(t,e,n){for(var r=t.length,i=3;i<r;i+=4){var o=n?n[t[i]]:t[i];e[i]=e[i]*o*.00392156862745098|0}}function m(t,e,n){for(var r=t.length,i=3;i<r;i+=4){var o=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[o>>8]>>8:e[i]*o>>16}}function _(t,e,n){var r=e.canvas,i=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY),function(t,e,n,r,i,o,a){var s,l=!!o,u=l?o[0]:0,c=l?o[1]:0,d=l?o[2]:0;s="Luminosity"===i?m:h;for(var p=Math.min(r,Math.ceil(1048576/n)),y=0;y<r;y+=p){var v=Math.min(p,r-y),g=t.getImageData(0,y,n,v),_=e.getImageData(0,y,n,v);l&&f(g.data,u,c,d),s(g.data,_.data,a),t.putImageData(_,0,y)}}(i,n,r.width,r.height,e.subtype,e.backdrop,e.transferMap),t.drawImage(r,0,0)}var b=["butt","round","square"],w=["miter","round","bevel"],x={},S={},E=function(){function f(t,e,n,r,i,o){s(this,f),this.ctx=t,this.current=new g,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,t&&y(t),this._cachedGetSinglePixelWidth=null}return u(f,[{key:"beginDrawing",value:function(t){var e=t.transform,n=t.viewport,r=t.transparency,i=void 0!==r&&r,o=t.background,a=void 0===o?null:o,s=this.ctx.canvas.width,u=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=a||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,u),this.ctx.restore(),i){var c=this.cachedCanvases.getCanvas("transparent",s,u,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(t,e,n,i){var o=t.argsArray,s=t.fnArray,l=e||0,u=o.length;if(u===l)return l;for(var c,f=u-l>10&&"function"==typeof n,h=f?Date.now()+15:0,d=0,p=this.commonObjs,y=this.objs;;){if(void 0!==i&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if((c=s[l])!==r.OPS.dependency)this[c].apply(this,o[l]);else{var v,g=a(o[l]);try{for(g.s();!(v=g.n()).done;){var m=v.value,_=m.startsWith("g_")?p:y;if(!_.has(m))return _.get(m,n),l}}catch(t){g.e(t)}finally{g.f()}}if(++l===u)return l;if(f&&++d>10){if(Date.now()>h)return n(),l;d=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(t,e){for(var n,r,i=t.width,o=t.height,a=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=i,u=o,c="prescale1";a>2&&l>1||s>2&&u>1;){var f=l,h=u;a>2&&l>1&&(a/=l/(f=Math.ceil(l/2))),s>2&&u>1&&(s/=u/(h=Math.ceil(u/2))),(r=(n=this.cachedCanvases.getCanvas(c,f,h)).context).clearRect(0,0,f,h),r.drawImage(t,0,0,l,u,0,0,f,h),t=n.canvas,l=f,u=h,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}},{key:"_createMaskCanvas",value:function(t){var n=this.ctx,i=t.width,o=t.height,a=this.current.fillColor,s=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",i,o);e(l.context,t);var u=n.mozCurrentTransform,c=r.Util.transform(u,[1/i,0,0,-1/o,0,0]);c=r.Util.transform(c,[1,0,0,1,0,-o]);var f=r.Util.applyTransform([0,0],c),h=r.Util.applyTransform([i,o],c),d=r.Util.normalizeRect([f[0],f[1],h[0],h[1]]),p=Math.ceil(d[2]-d[0]),y=Math.ceil(d[3]-d[1]),v=this.cachedCanvases.getCanvas("fillCanvas",p,y,!0),g=v.context,m=Math.min(f[0],h[0]),_=Math.min(f[1],h[1]);g.translate(-m,-_),g.transform.apply(g,c);var b=this._scaleImage(l.canvas,g.mozCurrentTransformInverse);g.drawImage(b.img,0,0,b.img.width,b.img.height,0,0,i,o),g.globalCompositeOperation="source-in";var w=r.Util.transform(g.mozCurrentTransformInverse,[1,0,0,1,-m,-_]);return g.fillStyle=s?a.getPattern(n,this,w,!1):a,g.fillRect(0,0,i,o),{canvas:v.canvas,offsetX:Math.round(m),offsetY:Math.round(_)}}},{key:"setLineWidth",value:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=b[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=w[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e],i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=o}}}},{key:"beginSMaskGroup",value:function(){var t=this.current.activeSMask,e=t.canvas.width,r=t.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,e,r,!0),a=this.ctx,s=a.mozCurrentTransform;this.ctx.save();var l=o.context;l.scale(1/t.scaleX,1/t.scaleY),l.translate(-t.offsetX,-t.offsetY),l.transform.apply(l,s),t.startTransformInverse=l.mozCurrentTransformInverse,n(a,l),this.ctx=l,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,t),this.ctx.restore(),this.ctx.save(),n(t,this.ctx),this.current.resumeSMaskCtx=t;var e=r.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()}},{key:"resumeSMaskGroup",value:function(){var t=this.current.resumeSMaskCtx,e=this.ctx;this.ctx=t,this.groupStack.push(e),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,t),this.ctx.restore(),n(t,this.ctx);var e=r.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)}},{key:"save",value:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,e){for(var n=this.ctx,i=this.current,o=i.x,a=i.y,s=0,l=0,u=t.length;s<u;s++)switch(0|t[s]){case r.OPS.rectangle:o=e[l++],a=e[l++];var c=e[l++],f=e[l++],h=o+c,d=a+f;n.moveTo(o,a),0===c||0===f?n.lineTo(h,d):(n.lineTo(h,a),n.lineTo(h,d),n.lineTo(o,d)),n.closePath();break;case r.OPS.moveTo:o=e[l++],a=e[l++],n.moveTo(o,a);break;case r.OPS.lineTo:o=e[l++],a=e[l++],n.lineTo(o,a);break;case r.OPS.curveTo:o=e[l+4],a=e[l+5],n.bezierCurveTo(e[l],e[l+1],e[l+2],e[l+3],o,a),l+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(o,a,e[l],e[l+1],e[l+2],e[l+3]),o=e[l+2],a=e[l+3],l+=4;break;case r.OPS.curveTo3:o=e[l+2],a=e[l+3],n.bezierCurveTo(e[l],e[l+1],o,a,o,a),l+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(o,a)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===o(n)&&null!=n&&n.getPattern){var r=this.getSinglePixelWidth();e.save(),e.strokeStyle=n.getPattern(e,this,e.mozCurrentTransformInverse),e.lineWidth=Math.max(r,this.current.lineWidth),e.stroke(),e.restore()}else{var i=this.getSinglePixelWidth();i<0&&-i>=this.current.lineWidth?(e.save(),e.resetTransform(),e.lineWidth=Math.round(this._combinedScaleFactor),e.stroke(),e.restore()):(e.lineWidth=Math.max(i,this.current.lineWidth),e.stroke())}t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse),r=!0),this.contentVisible&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=x}},{key:"eoClip",value:function(){this.pendingClip=S}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.setTransform.apply(e,r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,e){var n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var o=n.loadedName||"sans-serif",a="normal";n.black?a="900":n.bold&&(a="bold");var s=n.italic?"italic":"normal",l='"'.concat(o,'", ').concat(n.fallbackName),u=e;e<16?u=16:e>100&&(u=100),this.current.fontSizeScale=e/u,this.ctx.font="".concat(s," ").concat(a," ").concat(u,"px ").concat(l)}}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,e,n,i,o){var a,s=this.ctx,l=this.current,u=l.font,c=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,h=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=l.patternFill&&!u.missingFile;(u.disableFontFace||d||p)&&(a=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||p?(s.save(),s.translate(e,n),s.beginPath(),a(s,f),i&&s.setTransform.apply(s,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(o&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(t,e,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(o?(s.save(),s.moveTo(e,n),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(t,0,0),s.restore()):s.strokeText(t,e,n))),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:e,y:n,fontSize:f,addToPath:a})}},{key:"isFontSubpixelAAEnabled",get:function(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var i=e.fontSize;if(0!==i){var o,a=this.ctx,s=e.fontSizeScale,l=e.charSpacing,u=e.wordSpacing,c=e.fontDirection,f=e.textHScale*c,h=t.length,d=n.vertical,p=d?1:-1,y=n.defaultVMetrics,v=i*e.fontMatrix[0],g=e.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;if(a.save(),e.patternFill){a.save();var m=e.fillColor.getPattern(a,this,a.mozCurrentTransformInverse);o=a.mozCurrentTransform,a.restore(),a.fillStyle=m}a.transform.apply(a,e.textMatrix),a.translate(e.x,e.y+e.textRise),c>0?a.scale(f,-1):a.scale(f,1);var _=e.lineWidth,b=!1,w=e.textMatrixScale;if(0===w||0===_){var x=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;x!==r.TextRenderingMode.STROKE&&x!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=(_=this.getSinglePixelWidth())<0)}else _/=w;1!==s&&(a.scale(s,s),_/=s),a.lineWidth=_;var S,E=0;for(S=0;S<h;++S){var C=t[S];if((0,r.isNum)(C))E+=p*C*i/1e3;else{var k=!1,P=(C.isSpace?u:0)+l,T=C.fontChar,R=C.accent,A=void 0,O=void 0,I=C.width;if(d){var M=C.vmetric||y,D=-(C.vmetric?M[1]:.5*I)*v,L=M[2]*v;I=M?-M[0]:I,A=D/s,O=(E+L)/s}else A=E/s,O=0;if(n.remeasure&&I>0){var j=1e3*a.measureText(T).width/i*s;if(I<j&&this.isFontSubpixelAAEnabled){var F=I/j;k=!0,a.save(),a.scale(F,1),A/=F}else I!==j&&(A+=(I-j)/2e3*i/s)}if(this.contentVisible&&(C.isInFont||n.missingFile))if(g&&!R)a.fillText(T,A,O);else if(this.paintChar(T,A,O,o,b),R){var N=A+i*R.offset.x/s,U=O-i*R.offset.y/s;this.paintChar(R.fontChar,N,U,o,b)}E+=d?I*v-P*c:I*v+P*c,k&&a.restore()}}d?e.y-=E:e.x+=E*f,a.restore()}}},{key:"showType3Text",value:function(t){var e,n,i,o,a=this.ctx,s=this.current,l=s.font,u=s.fontSize,c=s.fontDirection,f=l.vertical?1:-1,h=s.charSpacing,d=s.wordSpacing,p=s.textHScale*c,y=s.fontMatrix||r.FONT_IDENTITY_MATRIX,v=t.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,s.textMatrix),a.translate(s.x,s.y),a.scale(p,c),e=0;e<v;++e)if(n=t[e],(0,r.isNum)(n))o=f*n*u/1e3,this.ctx.translate(o,0),s.x+=o*p;else{var g=(n.isSpace?d:0)+h,m=l.charProcOperatorList[n.operatorListId];m?(this.contentVisible&&(this.processingType3=n,this.save(),a.scale(u,u),a.transform.apply(a,y),this.executeOperatorList(m),this.restore()),i=r.Util.applyTransform([n.width,0],y)[0]*u+g,a.translate(i,0),s.x+=i*p):(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}a.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(t,e){}},{key:"setCharWidthAndBounds",value:function(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var e,n=this;if("TilingPattern"===t[0]){var r=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),a={createCanvasGraphics:function(t){return new f(t,n.commonObjs,n.objs,n.canvasFactory)}};e=new i.TilingPattern(t,r,this.ctx,a,o)}else e=this._getPattern(t[1]);return e}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}},{key:"setFillRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){if(this.cachedPatterns.has(t))return this.cachedPatterns.get(t);var e=(0,i.getShadingPattern)(this.objs.get(t));return this.cachedPatterns.set(t,e),e}},{key:"shadingFill",value:function(t){if(this.contentVisible){var e=this.ctx;this.save();var n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse,!0);var i=e.mozCurrentTransformInverse;if(i){var o=e.canvas,a=o.width,s=o.height,l=r.Util.applyTransform([0,0],i),u=r.Util.applyTransform([0,s],i),c=r.Util.applyTransform([a,0],i),f=r.Util.applyTransform([a,s],i),h=Math.min(l[0],u[0],c[0],f[0]),d=Math.min(l[1],u[1],c[1],f[1]),p=Math.max(l[0],u[0],c[0],f[0]),y=Math.max(l[1],u[1],c[1],f[1]);this.ctx.fillRect(h,d,p-h,y-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e)){var n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(t){if(this.contentVisible){this.save();var e=this.ctx;t.isolated||(0,r.info)("TODO: Support non-isolated groups."),t.knockout&&(0,r.warn)("Knockout groups not supported.");var i=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var o=r.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform),a=[0,0,e.canvas.width,e.canvas.height];o=r.Util.intersect(o,a)||[0,0,0,0];var s=Math.floor(o[0]),l=Math.floor(o[1]),u=Math.max(Math.ceil(o[2])-s,1),c=Math.max(Math.ceil(o[3])-l,1),f=1,h=1;u>d&&(f=u/d,u=d),c>d&&(h=c/d,c=d);var p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);var y=this.cachedCanvases.getCanvas(p,u,c,!0),v=y.context;v.scale(1/f,1/h),v.translate(-s,-l),v.transform.apply(v,i),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:s,offsetY:l,scaleX:f,scaleY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,l),e.scale(f,h)),n(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(t,e,n,r){if(this.save(),l(this.ctx),this.current=new g,Array.isArray(e)&&4===e.length){var i=e[2]-e[0],o=e[3]-e[1];this.ctx.rect(e[0],e[1],i,o),this.clip(),this.endPath()}this.transform.apply(this,n),this.transform.apply(this,r)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(t){if(this.contentVisible){var e=this.ctx,n=t.width,r=t.height,i=this.processingType3;if(i&&void 0===i.compiled&&(i.compiled=n<=1e3&&r<=1e3?function(t){var e,n,r,i,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t.width,s=t.height,l=a+1,u=new Uint8Array(l*(s+1)),c=a+7&-8,f=t.data,h=new Uint8Array(c*s),d=0;for(e=0,n=f.length;e<n;e++)for(var p=f[e],y=128;y>0;)h[d++]=p&y?0:255,y>>=1;var v=0;for(0!==h[d=0]&&(u[0]=1,++v),r=1;r<a;r++)h[d]!==h[d+1]&&(u[r]=h[d]?2:1,++v),d++;for(0!==h[d]&&(u[r]=2,++v),e=1;e<s;e++){i=e*l,h[(d=e*c)-c]!==h[d]&&(u[i]=h[d]?1:8,++v);var g=(h[d]?4:0)+(h[d-c]?8:0);for(r=1;r<a;r++)o[g=(g>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0)]&&(u[i+r]=o[g],++v),d++;if(h[d-c]!==h[d]&&(u[i+r]=h[d]?2:4,++v),v>1e3)return null}for(i=e*l,0!==h[d=c*(s-1)]&&(u[i]=8,++v),r=1;r<a;r++)h[d]!==h[d+1]&&(u[i+r]=h[d]?4:8,++v),d++;if(0!==h[d]&&(u[i+r]=4,++v),v>1e3)return null;var m=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=[];for(e=0;v&&e<=s;e++){for(var b=e*l,w=b+a;b<w&&!u[b];)b++;if(b!==w){var x=[b%l,e],S=b,E=u[b];do{var C=m[E];do{b+=C}while(!u[b]);var k=u[b];5!==k&&10!==k?(E=k,u[b]=0):(E=k&51*E>>4,u[b]&=E>>2|E<<2),x.push(b%l,b/l|0),u[b]||--v}while(S!==b);_.push(x),--e}}return function(t){t.save(),t.scale(1/a,-1/s),t.translate(0,-s),t.beginPath();for(var e=0,n=_.length;e<n;e++){var r=_[e];t.moveTo(r[0],r[1]);for(var i=2,o=r.length;i<o;i+=2)t.lineTo(r[i],r[i+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:n,height:r}):null),null!=i&&i.compiled)i.compiled(e);else{var o=this._createMaskCanvas(t),a=o.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(a,o.offsetX,o.offsetY),e.restore()}}}},{key:"paintImageMaskXObjectRepeat",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=this.ctx;s.save();var l=s.mozCurrentTransform;s.transform(e,n,i,o,0,0);var u=this._createMaskCanvas(t);s.setTransform(1,0,0,1,0,0);for(var f=0,h=a.length;f<h;f+=2){var d=r.Util.transform(l,[e,n,i,o,a[f],a[f+1]]),p=r.Util.applyTransform([0,0],d),y=c(p,2),v=y[0],g=y[1];s.drawImage(u.canvas,v,g)}s.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(t){if(this.contentVisible)for(var n=this.ctx,r=this.current.fillColor,i=this.current.patternFill,o=0,a=t.length;o<a;o++){var s=t[o],l=s.width,u=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",l,u),f=c.context;f.save(),e(f,s),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,n.mozCurrentTransformInverse,!1):r,f.fillRect(0,0,l,u),f.restore(),n.save(),n.transform.apply(n,s.transform),n.scale(1,-1),n.drawImage(c.canvas,0,0,l,u,0,-1,1,1),n.restore()}}},{key:"paintImageXObject",value:function(t){if(this.contentVisible){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(t,e,n,i){if(this.contentVisible){var o=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(o){for(var a=o.width,s=o.height,l=[],u=0,c=i.length;u<c;u+=2)l.push({transform:[e,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(o,l)}else(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var n,r=e.width,i=e.height,o=this.ctx;if(this.save(),o.scale(1/r,-1/i),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)n=e;else{var a=this.cachedCanvases.getCanvas("inlineImage",r,i);t(a.context,e,this.current.transferMaps),n=a.canvas}var s=this._scaleImage(n,o.mozCurrentTransformInverse);if(o.drawImage(s.img,0,0,s.paintWidth,s.paintHeight,0,-i,r,i),this.imageLayer){var l=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:e,left:l[0],top:l[1],width:r/o.mozCurrentTransformInverse[0],height:i/o.mozCurrentTransformInverse[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,n){if(this.contentVisible){var r=this.ctx,i=e.width,o=e.height,a=this.cachedCanvases.getCanvas("inlineImage",i,o);t(a.context,e,this.current.transferMaps);for(var s=0,l=n.length;s<l;s++){var u=n[s];if(r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(a.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:i,height:o})}r.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(t){}},{key:"markPointProps",value:function(t,e){}},{key:"beginMarkedContent",value:function(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===S?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransform,e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.pow(t[0],2)+Math.pow(t[2],2),r=Math.pow(t[1],2)+Math.pow(t[3],2),i=Math.sqrt(Math.max(n,r))/e;n!==r&&this._combinedScaleFactor*i>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*i:e>Number.EPSILON?this._cachedGetSinglePixelWidth=i:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}]),f}();for(var C in r.OPS)E.prototype[r.OPS[C]]=E.prototype[C];return E}();e.CanvasGraphics=m},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new g(t);case"Mesh":return new b(t);case"Dummy":return new w}throw new Error("Unknown IR type: ".concat(t[0]))},e.TilingPattern=void 0;var i=n(4);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function y(t,e){if(e&&"undefined"!=typeof Path2D){var n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}}var v=function(){function t(){h(this,t),this.constructor===t&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}return p(t,[{key:"getPattern",value:function(){(0,i.unreachable)("Abstract method `getPattern` called.")}}]),t}(),g=function(t){s(n,t);var e=u(n);function n(t){var r;return h(this,n),(r=e.call(this))._type=t[1],r._bbox=t[2],r._colorStops=t[3],r._p0=t[4],r._p1=t[5],r._r0=t[6],r._r1=t[7],r._matrix=t[8],r._patternCache=null,r}return p(n,[{key:"_createGradient",value:function(t){var e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=o(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addColorStop(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getPattern",value:function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._patternCache)r=this._patternCache;else{if(o)y(t,this._bbox),r=this._createGradient(t);else{var a=e.cachedCanvases.getCanvas("pattern",e.ctx.canvas.width,e.ctx.canvas.height,!0),s=a.context;s.clearRect(0,0,s.canvas.width,s.canvas.height),s.beginPath(),s.rect(0,0,s.canvas.width,s.canvas.height),s.setTransform.apply(s,e.baseTransform),this._matrix&&s.transform.apply(s,this._matrix),y(s,this._bbox),s.fillStyle=this._createGradient(s),s.fill(),r=t.createPattern(a.canvas,"repeat")}this._patternCache=r}if(!o){var l=new DOMMatrix(n);try{r.setTransform(l)}catch(t){(0,i.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==t?void 0:t.message,'".'))}}return r}}]),n}(v);function m(t,e,n,r,i,o,a,s){var l,u=e.coords,c=e.colors,f=t.data,h=4*t.width;u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l),u[r+1]>u[i+1]&&(l=r,r=i,i=l,l=a,a=s,s=l),u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l);var d=(u[n]+e.offsetX)*e.scaleX,p=(u[n+1]+e.offsetY)*e.scaleY,y=(u[r]+e.offsetX)*e.scaleX,v=(u[r+1]+e.offsetY)*e.scaleY,g=(u[i]+e.offsetX)*e.scaleX,m=(u[i+1]+e.offsetY)*e.scaleY;if(!(p>=m))for(var _,b,w,x,S,E,C,k,P=c[o],T=c[o+1],R=c[o+2],A=c[a],O=c[a+1],I=c[a+2],M=c[s],D=c[s+1],L=c[s+2],j=Math.round(p),F=Math.round(m),N=j;N<=F;N++){if(N<v){var U;_=d-(d-y)*(U=N<p?0:(p-N)/(p-v)),b=P-(P-A)*U,w=T-(T-O)*U,x=R-(R-I)*U}else{var B;_=y-(y-g)*(B=N>m?1:v===m?0:(v-N)/(v-m)),b=A-(A-M)*B,w=O-(O-D)*B,x=I-(I-L)*B}var z=void 0;S=d-(d-g)*(z=N<p?0:N>m?1:(p-N)/(p-m)),E=P-(P-M)*z,C=T-(T-D)*z,k=R-(R-L)*z;for(var W=Math.round(Math.min(_,S)),G=Math.round(Math.max(_,S)),q=h*N+4*W,V=W;V<=G;V++)(z=(_-V)/(_-S))<0?z=0:z>1&&(z=1),f[q++]=b-(b-E)*z|0,f[q++]=w-(w-C)*z|0,f[q++]=x-(x-k)*z|0,f[q++]=255}}function _(t,e,n){var r,i,o=e.coords,a=e.colors;switch(e.type){case"lattice":var s=e.verticesPerRow,l=Math.floor(o.length/s)-1,u=s-1;for(r=0;r<l;r++)for(var c=r*s,f=0;f<u;f++,c++)m(t,n,o[c],o[c+1],o[c+s],a[c],a[c+1],a[c+s]),m(t,n,o[c+s+1],o[c+1],o[c+s],a[c+s+1],a[c+1],a[c+s]);break;case"triangles":for(r=0,i=o.length;r<i;r+=3)m(t,n,o[r],o[r+1],o[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}var b=function(t){s(n,t);var e=u(n);function n(t){var r;return h(this,n),(r=e.call(this))._coords=t[2],r._colors=t[3],r._figures=t[4],r._bounds=t[5],r._matrix=t[6],r._bbox=t[7],r._background=t[8],r}return p(n,[{key:"_createMeshCanvas",value:function(t,e,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=a/l,f=s/u,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/f},d=l+4,p=u+4,y=n.getCanvas("mesh",d,p,!1),v=y.context,g=v.createImageData(l,u);if(e)for(var m=g.data,b=0,w=m.length;b<w;b+=4)m[b]=e[0],m[b+1]=e[1],m[b+2]=e[2],m[b+3]=255;var x,S=o(this._figures);try{for(S.s();!(x=S.n()).done;)_(g,x.value,h)}catch(t){S.e(t)}finally{S.f()}return v.putImageData(g,2,2),{canvas:y.canvas,offsetX:r-2*c,offsetY:i-2*f,scaleX:c,scaleY:f}}},{key:"getPattern",value:function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(y(t,this._bbox),o)r=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(r=i.Util.singularValueDecompose2dScale(e.baseTransform),this._matrix){var a=i.Util.singularValueDecompose2dScale(this._matrix);r=[r[0]*a[0],r[1]*a[1]]}var s=this._createMeshCanvas(r,o?null:this._background,e.cachedCanvases);return o||(t.setTransform.apply(t,e.baseTransform),this._matrix&&t.transform.apply(t,this._matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}]),n}(v),w=function(t){s(n,t);var e=u(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(v),x=function(){function t(e,n,r,i,o){h(this,t),this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}return p(t,[{key:"createPatternCanvas",value:function(t){var e=this.operatorList,n=this.bbox,r=this.xstep,o=this.ystep,a=this.paintType,s=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+s);var c=n[0],f=n[1],h=n[2],d=n[3],p=i.Util.singularValueDecompose2dScale(this.matrix),y=i.Util.singularValueDecompose2dScale(this.baseTransform),v=[p[0]*y[0],p[1]*y[1]],g=this.getSizeAndScale(r,this.ctx.canvas.width,v[0]),m=this.getSizeAndScale(o,this.ctx.canvas.height,v[1]),_=t.cachedCanvases.getCanvas("pattern",g.size,m.size,!0),b=_.context,w=u.createCanvasGraphics(b);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,a,l);var x=c,S=f,E=h,C=d;return c<0&&(x=0,E+=Math.abs(c)),f<0&&(S=0,C+=Math.abs(f)),b.translate(-g.scale*x,-m.scale*S),w.transform(g.scale,0,0,m.scale,0,0),this.clipBbox(w,x,S,E,C),w.baseTransform=w.ctx.mozCurrentTransform.slice(),w.executeOperatorList(e),w.endDrawing(),{canvas:_.canvas,scaleX:g.scale,scaleY:m.scale,offsetX:x,offsetY:S}}},{key:"getSizeAndScale",value:function(e,n,r){e=Math.abs(e);var i=Math.max(t.MAX_PATTERN_SIZE,n),o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}},{key:"clipBbox",value:function(t,e,n,r,i){var o=r-e,a=i-n;t.ctx.rect(e,n,o,a),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,e,n){var r=t.ctx,o=t.current;switch(e){case 1:var a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case 2:var s=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new i.FormatError("Unsupported paint type: ".concat(e))}}},{key:"getPattern",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n;r||(o=i.Util.transform(o,e.baseTransform),this.matrix&&(o=i.Util.transform(o,this.matrix)));var a=this.createPatternCanvas(e),s=new DOMMatrix(o);s=(s=s.translate(a.offsetX,a.offsetY)).scale(1/a.scaleX,1/a.scaleY);var l=t.createPattern(a.canvas,"repeat");try{l.setTransform(s)}catch(t){(0,i.warn)('TilingPattern.getPattern: "'.concat(null==t?void 0:t.message,'".'))}return l}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),t}();e.TilingPattern=x},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function a(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t){if("object"!==l(t)||null===t)return t;switch(t.name){case"AbortException":return new o.AbortException(t.message);case"MissingPDFException":return new o.MissingPDFException(t.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new o.UnknownErrorException(t.message,t.details);default:return new o.UnknownErrorException(t.message,t.toString())}}var c=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===i.sourceName)if(e.stream)i._processStreamMessage(e);else if(e.callback){var n=e.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],1===e.callback)o.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");o.reject(u(e.reason))}}else{var a=i.actionHandler[e.action];if(!a)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var s=i.sourceName,l=e.sourceName;new Promise((function(t){t(a(e.data))})).then((function(t){r.postMessage({sourceName:s,targetName:l,callback:1,callbackId:e.callbackId,data:t})}),(function(t){r.postMessage({sourceName:s,targetName:l,callback:2,callbackId:e.callbackId,reason:u(t)})}))}else e.streamId?i._createStreamSink(e):a(e.data)}},r.addEventListener("message",this._onComObjOnMessage)}var e,n,r,l;return e=t,n=[{key:"on",value:function(t,e){var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var r=this.callbackId++,i=(0,o.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(t){i.reject(t)}return i.promise}},{key:"sendWithStream",value:function(t,e,n,r){var i=this,a=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:function(n){var u=(0,o.createPromiseCapability)();return i.streamControllers[a]={controller:n,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:l,action:t,streamId:a,data:e,desiredSize:n.desiredSize},r),u.promise},pull:function(t){var e=(0,o.createPromiseCapability)();return i.streamControllers[a].pullCall=e,c.postMessage({sourceName:s,targetName:l,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var e=(0,o.createPromiseCapability)();return i.streamControllers[a].cancelCall=e,i.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:1,streamId:a,reason:u(t)}),e.promise}},n)}},{key:"_createStreamSink",value:function(t){var e=this,n=this.actionHandler[t.action],r=t.streamId,i=this.sourceName,a=t.sourceName,s=this.comObj,l={enqueue:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=n,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:i,targetName:a,stream:4,streamId:r,chunk:t},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:a,stream:3,streamId:r}),delete e.streamSinks[r])},error:function(t){(0,o.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:a,stream:5,streamId:r,reason:u(t)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,new Promise((function(e){e(n(t.data,l))})).then((function(){s.postMessage({sourceName:i,targetName:a,stream:8,streamId:r,success:!0})}),(function(t){s.postMessage({sourceName:i,targetName:a,stream:8,streamId:r,reason:u(t)})}))}},{key:"_processStreamMessage",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj;switch(t.stream){case 8:t.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(u(t.reason));break;case 7:t.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(u(t.reason));break;case 6:if(!this.streamSinks[e]){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=t.desiredSize;var a=this.streamSinks[t.streamId].onPull;new Promise((function(t){t(a&&a())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,reason:u(t)})}));break;case 4:if((0,o.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(t.chunk);break;case 3:if((0,o.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case 5:(0,o.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(u(t.reason)),this._deleteStreamController(e);break;case 2:t.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(u(t.reason)),this._deleteStreamController(e);break;case 1:if(!this.streamSinks[e])break;var s=this.streamSinks[t.streamId].onCancel;new Promise((function(e){e(s&&s(u(t.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,reason:u(t)})})),this.streamSinks[e].sinkCapability.reject(u(t.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(r=i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(t){return t&&t.promise})));case 2:delete this.streamControllers[e];case 3:case"end":return t.stop()}}),t,this)})),l=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function s(t){a(o,n,i,s,l,"next",t)}function l(t){a(o,n,i,s,l,"throw",t)}s(void 0)}))},function(t){return l.apply(this,arguments)})},{key:"_postMessage",value:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],n&&s(e.prototype,n),t}();e.MessageHandler=c},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(4);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=e.parsedData,r=e.rawData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._metadataMap=n,this._data=r}var e,n;return e=t,(n=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(t){var e;return null!==(e=this._metadataMap.get(t))&&void 0!==e?e:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(this._metadataMap)}},{key:"has",value:function(t){return this._metadataMap.has(t)}}])&&i(e.prototype,n),t}();e.Metadata=o},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(4);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function t(e,n){s(this,t),this.visible=!0,this.name=e,this.intent=n},u=function(){function t(e){if(s(this,t),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var n,r=i(e.groups);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._groups.set(o.id,new l(o.name,o.intent))}}catch(t){r.e(t)}finally{r.f()}if("OFF"===e.baseState){var a,u=i(this._groups);try{for(u.s();!(a=u.n()).done;)a.value.visible=!1}catch(t){u.e(t)}finally{u.f()}}var c,f=i(e.on);try{for(f.s();!(c=f.n()).done;){var h=c.value;this._groups.get(h).visible=!0}}catch(t){f.e(t)}finally{f.f()}var d,p=i(e.off);try{for(p.s();!(d=p.n()).done;){var y=d.value;this._groups.get(y).visible=!1}}catch(t){p.e(t)}finally{p.f()}}}var e,n;return e=t,n=[{key:"_evaluateVisibilityExpression",value:function(t){var e=t.length;if(e<2)return!0;for(var n=t[0],i=1;i<e;i++){var o=t[i],a=void 0;if(Array.isArray(o))a=this._evaluateVisibilityExpression(o);else{if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;a=this._groups.get(o).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}},{key:"isVisible",value:function(t){if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,r.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||"AnyOn"===t.policy){var e,n=i(t.ids);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;if(this._groups.get(o).visible)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}if("AllOn"===t.policy){var a,s=i(t.ids);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!this._groups.has(l))return(0,r.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(t){s.e(t)}finally{s.f()}return!0}if("AnyOff"===t.policy){var u,c=i(t.ids);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(!this._groups.has(f))return(0,r.warn)("Optional content group not found: ".concat(f)),!0;if(!this._groups.get(f).visible)return!0}}catch(t){c.e(t)}finally{c.f()}return!1}if("AllOff"===t.policy){var h,d=i(t.ids);try{for(d.s();!(h=d.n()).done;){var p=h.value;if(!this._groups.has(p))return(0,r.warn)("Optional content group not found: ".concat(p)),!0;if(this._groups.get(p).visible)return!1}}catch(t){d.e(t)}finally{d.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!e:(0,r.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(t){return this._groups.get(t)||null}}],n&&a(e.prototype,n),t}();e.OptionalContentConfig=u},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(1);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var p=function(){function t(e,n){var r=this;f(this,t),(0,o.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;var i=e.initialData;if((null==i?void 0:i.length)>0){var a=new Uint8Array(i).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(t,e){r._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener((function(t,e){r._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(t){r._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){r._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return d(t,[{key:"_onReceiveData",value:function(t){var e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{var n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,o.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function(t){if(void 0===t.total){var e=this._rangeReaders[0];null!=e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{var n=this._fullRequestReader;null!=n&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new y(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new v(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=u(this._rangeReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),t}();e.PDFDataTransportStream=p;var y=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this._stream=e,this._done=r||!1,this._filename=(0,a.isPdfFile)(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var o,s=u(this._queuedChunks);try{for(s.s();!(o=s.n()).done;){var l=o.value;this._loaded+=l.byteLength}}catch(t){s.e(t)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}var e;return d(t,[{key:"_enqueue",value:function(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),t}(),v=function(){function t(e,n,r){f(this,t),this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return d(t,[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),t}()},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(1),o=n(4),a=n(118),s=n(127);function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},l(t,e,n||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}var x=function(){function t(){_(this,t)}return w(t,null,[{key:"create",value:function(t){switch(t.data.annotationType){case o.AnnotationType.LINK:return new E(t);case o.AnnotationType.TEXT:return new C(t);case o.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new P(t);case"Btn":return t.data.radioButton?new R(t):t.data.checkBox?new T(t):new A(t);case"Ch":return new O(t)}return new k(t);case o.AnnotationType.POPUP:return new I(t);case o.AnnotationType.FREETEXT:return new D(t);case o.AnnotationType.LINE:return new L(t);case o.AnnotationType.SQUARE:return new j(t);case o.AnnotationType.CIRCLE:return new F(t);case o.AnnotationType.POLYLINE:return new N(t);case o.AnnotationType.CARET:return new B(t);case o.AnnotationType.INK:return new z(t);case o.AnnotationType.POLYGON:return new U(t);case o.AnnotationType.HIGHLIGHT:return new W(t);case o.AnnotationType.UNDERLINE:return new G(t);case o.AnnotationType.SQUIGGLY:return new q(t);case o.AnnotationType.STRIKEOUT:return new V(t);case o.AnnotationType.STAMP:return new H(t);case o.AnnotationType.FILEATTACHMENT:return new X(t);default:return new S(t)}}}]),t}(),S=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,o=n.ignoreBorder,a=void 0!==o&&o,s=n.createQuadrilaterals,l=void 0!==s&&s;_(this,t),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._mouseState=e.mouseState,i&&(this.container=this._createContainer(a)),l&&(this.quadrilaterals=this._createQuadrilaterals(a))}return w(t,[{key:"_createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data,n=this.page,r=this.viewport,i=document.createElement("section"),a=e.rect[2]-e.rect[0],s=e.rect[3]-e.rect[1];i.setAttribute("data-annotation-id",e.id);var l=o.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(i.style.transform="matrix(".concat(r.transform.join(","),")"),i.style.transformOrigin="".concat(-l[0],"px ").concat(-l[1],"px"),!t&&e.borderStyle.width>0){i.style.borderWidth="".concat(e.borderStyle.width,"px"),e.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(a-=2*e.borderStyle.width,s-=2*e.borderStyle.width);var u=e.borderStyle.horizontalCornerRadius,c=e.borderStyle.verticalCornerRadius;if(u>0||c>0){var f="".concat(u,"px / ").concat(c,"px");i.style.borderRadius=f}switch(e.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}e.color?i.style.borderColor=o.Util.makeHexColor(0|e.color[0],0|e.color[1],0|e.color[2]):i.style.borderWidth=0}return i.style.left="".concat(l[0],"px"),i.style.top="".concat(l[1],"px"),i.style.width="".concat(a,"px"),i.style.height="".concat(s,"px"),i}},{key:"_createQuadrilaterals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var e,n=[],r=this.data.rect,i=v(this.data.quadPoints);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.data.rect=[o[2].x,o[2].y,o[1].x,o[1].y],n.push(this._createContainer(t))}}catch(t){i.e(t)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(t,e){var n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=n.style.height,t.style.width=n.style.width,n.appendChild(t));var r=new M({container:n,trigger:t,color:e.color,title:e.title,modificationDate:e.modificationDate,contents:e.contents,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}},{key:"_renderQuadrilaterals",value:function(t){var e,n=v(this.quadrilaterals);try{for(n.s();!(e=n.n()).done;)e.value.className=t}catch(t){n.e(t)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]),t}(),E=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"]));return e.call(this,t,{isRenderable:r,createQuadrilaterals:!0})}return w(n,[{key:"render",value:function(){var t=this.data,e=this.linkService,n=document.createElement("a");return t.url?(0,i.addLinkAttributes)(n,{url:t.url,target:t.newWindow?i.LinkTarget.BLANK:e.externalLinkTarget,rel:e.externalLinkRel,enabled:e.externalLinkEnabled}):t.action?this._bindNamedAction(n,t.action):t.dest?this._bindLink(n,t.dest):t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(n,t):this._bindLink(n,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(t,e){var r=0===e?n:n.cloneNode();return t.appendChild(r),t})):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.goToDestination(e),!1},(e||""===e)&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}},{key:"_bindJSAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=a[o],s=r.get(i);if(!s)return"continue";t[s]=function(){var t;return null===(t=n.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:n,detail:{id:e.id,name:i}}),!1}},o=0,a=Object.keys(e.actions);o<a.length;o++)i();t.className="internalLink"}}]),n}(S),C=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r})}return w(n,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}]),n}(S),k=function(t){c(n,t);var e=h(n);function n(){return _(this,n),e.apply(this,arguments)}return w(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(t){return navigator.platform.includes("Win")&&t.ctrlKey||navigator.platform.includes("Mac")&&t.metaKey}},{key:"_setEventListener",value:function(t,e,n,r){var i=this;e.includes("mouse")?t.addEventListener(e,(function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(t),shift:t.shiftKey,modifier:i._getKeyModifier(t)}})})):t.addEventListener(e,(function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:t.target.checked}})}))}},{key:"_setEventListeners",value:function(t,e,n){var r,i=v(e);try{for(i.s();!(r=i.n()).done;){var o,a=u(r.value,2),s=a[0],l=a[1];("Action"===l||null!==(o=this.data.actions)&&void 0!==o&&o[l])&&this._setEventListener(t,s,l,n)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_dispatchEventFromSandbox",value:function(t,e){for(var n=this,r=function(t,e,n){var r=n.detail[t];n.target.style[e]=s.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))},i={display:function(t){var e=t.detail.display%2==1;t.target.style.visibility=e?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:function(t){n.annotationStorage.setValue(n.data.id,{print:t.detail.print})},hidden:function(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:t.detail.hidden})},focus:function(t){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:function(t){t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:function(t){r("bgColor","backgroundColor",t)},fillColor:function(t){r("fillColor","backgroundColor",t)},fgColor:function(t){r("fgColor","color",t)},textColor:function(t){r("textColor","color",t)},borderColor:function(t){r("borderColor","borderColor",t)},strokeColor:function(t){r("strokeColor","borderColor",t)}},o=0,a=Object.keys(e.detail);o<a.length;o++){var l=a[o],u=t[l]||i[l];u&&u(e)}}}]),n}(S),P=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue;return e.call(this,t,{isRenderable:r})}return w(n,[{key:"setPropertyOnSiblings",value:function(t,e,n,r){var i,o=this.annotationStorage,a=v(document.getElementsByName(t.name));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s!==t){s[e]=n;var l=Object.create(null);l[r]=n,o.setValue(s.getAttribute("id"),l)}}}catch(t){a.e(t)}finally{a.f()}}},{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){var i=e.getValue(n,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),o=i.valueAsString||i.value||"",a={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(r=document.createElement("textarea")).textContent=o:((r=document.createElement("input")).type="text",r.setAttribute("value",o)),a.userValue=o,r.setAttribute("id",n),r.addEventListener("input",(function(i){e.setValue(n,{value:i.target.value}),t.setPropertyOnSiblings(r,"value",i.target.value,"value")}));var s=function(t){a.formattedValue&&(t.target.value=a.formattedValue),t.target.scrollLeft=0,a.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;r.addEventListener("focus",(function(t){a.userValue&&(t.target.value=a.userValue)})),r.addEventListener("updatefromsandbox",(function(r){var i={value:function(t){a.userValue=t.detail.value||"",e.setValue(n,{value:a.userValue.toString()}),a.formattedValue||(t.target.value=a.userValue)},valueAsString:function(t){a.formattedValue=t.detail.valueAsString||"",t.target!==document.activeElement&&(t.target.value=a.formattedValue),e.setValue(n,{formattedValue:a.formattedValue})},selRange:function(t){var e=u(t.detail.selRange,2),n=e[0],r=e[1];n>=0&&r<t.target.value.length&&t.target.setSelectionRange(n,r)}};t._dispatchEventFromSandbox(i,r)})),r.addEventListener("keydown",(function(e){var r;a.beforeInputValue=e.target.value;var i=-1;"Escape"===e.key?i=0:"Enter"===e.key?i=2:"Tab"===e.key&&(i=3),-1!==i&&(a.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));var c=s;s=null,r.addEventListener("blur",(function(e){var r;t._mouseState.isDown&&(a.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),c(e)})),r.addEventListener("mousedown",(function(t){a.beforeInputValue=t.target.value,a.beforeInputSelectionRange=null})),r.addEventListener("keyup",(function(t){t.target.selectionStart===t.target.selectionEnd&&(a.beforeInputSelectionRange=null)})),r.addEventListener("select",(function(t){a.beforeInputSelectionRange=[t.target.selectionStart,t.target.selectionEnd]})),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&r.addEventListener("input",(function(e){var r,i=-1,o=-1;if(a.beforeInputSelectionRange){var s=u(a.beforeInputSelectionRange,2);i=s[0],o=s[1]}null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:a.beforeInputValue,change:e.data,willCommit:!1,selStart:i,selEnd:o}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}if(s&&r.addEventListener("blur",s),r.disabled=this.data.readOnly,r.name=this.data.fieldName,null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var f=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(f,"px - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function(t){var e=this.data.defaultAppearanceData,n=e.fontSize,r=e.fontColor,i=t.style;n&&(i.fontSize="".concat(n,"px")),i.color=o.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(k),T=function(t){c(n,t);var e=h(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderInteractiveForms})}return w(n,[{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.fieldValue&&(n.exportValue&&n.exportValue===n.fieldValue||!n.exportValue&&"Off"!==n.fieldValue)}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(r,{value:i})),this.container.className="buttonWidgetAnnotation checkBox";var o=document.createElement("input");return o.disabled=n.readOnly,o.type="checkbox",o.name=this.data.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.addEventListener("change",(function(t){var n,i=t.target.name,o=v(document.getElementsByName(i));try{for(o.s();!(n=o.n()).done;){var a=n.value;a!==t.target&&(a.checked=!1,e.setValue(a.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(t){o.e(t)}finally{o.f()}e.setValue(r,{value:t.target.checked})})),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",(function(n){var i={value:function(t){t.target.checked="Off"!==t.detail.value,e.setValue(r,{value:t.target.checked})}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))),this.container.appendChild(o),this.container}}]),n}(k),R=function(t){c(n,t);var e=h(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderInteractiveForms})}return w(n,[{key:"render",value:function(){var t=this;this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;"string"==typeof i&&(i=i!==n.buttonValue,e.setValue(r,{value:i}));var o=document.createElement("input");if(o.disabled=n.readOnly,o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.addEventListener("change",(function(t){var n,i=t.target,o=v(document.getElementsByName(i.name));try{for(o.s();!(n=o.n()).done;){var a=n.value;a!==i&&e.setValue(a.getAttribute("id"),{value:!1})}}catch(t){o.e(t)}finally{o.f()}e.setValue(r,{value:i.checked})})),this.enableScripting&&this.hasJSActions){var a=n.buttonValue;o.addEventListener("updatefromsandbox",(function(n){var i={value:function(t){var n,i=a===t.detail.value,o=v(document.getElementsByName(t.target.name));try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.getAttribute("id");s.checked=l===r&&i,e.setValue(l,{value:s.checked})}}catch(t){o.e(t)}finally{o.f()}}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}return this.container.appendChild(o),this.container}}]),n}(k),A=function(t){c(n,t);var e=h(n);function n(){return _(this,n),e.apply(this,arguments)}return w(n,[{key:"render",value:function(){var t=l(y(n.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}]),n}(E),O=function(t){c(n,t);var e=h(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderInteractiveForms})}return w(n,[{key:"render",value:function(){var t=this;this.container.className="choiceWidgetAnnotation";var e=this.annotationStorage,n=this.data.id;e.getValue(n,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var r=document.createElement("select");r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.setAttribute("id",n),this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0));var i,o=v(this.data.options);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=document.createElement("option");s.textContent=a.displayValue,s.value=a.exportValue,this.data.fieldValue.includes(a.exportValue)&&s.setAttribute("selected",!0),r.appendChild(s)}}catch(t){o.e(t)}finally{o.f()}var l=function(t,e){var n=e?"value":"textContent",r=t.target.options;return t.target.multiple?Array.prototype.filter.call(r,(function(t){return t.selected})).map((function(t){return t[n]})):-1===r.selectedIndex?null:r[r.selectedIndex][n]},u=function(t){var e=t.target.options;return Array.prototype.map.call(e,(function(t){return{displayValue:t.textContent,exportValue:t.value}}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(function(i){var o={value:function(t){var i=r.options,o=t.detail.value,a=new Set(Array.isArray(o)?o:[o]);Array.prototype.forEach.call(i,(function(t){t.selected=a.has(t.value)})),e.setValue(n,{value:l(t,!0)})},multipleSelection:function(t){r.multiple=!0},remove:function(t){var i=r.options,o=t.detail.remove;if(i[o].selected=!1,r.remove(o),i.length>0){var a=Array.prototype.findIndex.call(i,(function(t){return t.selected}));-1===a&&(i[0].selected=!0)}e.setValue(n,{value:l(t,!0),items:u(t)})},clear:function(t){for(;0!==r.length;)r.remove(0);e.setValue(n,{value:null,items:[]})},insert:function(t){var i=t.detail.insert,o=i.index,a=i.displayValue,s=i.exportValue,c=document.createElement("option");c.textContent=a,c.value=s,r.insertBefore(c,r.children[o]),e.setValue(n,{value:l(t,!0),items:u(t)})},items:function(t){for(var i=t.detail.items;0!==r.length;)r.remove(0);var o,a=v(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.displayValue,f=s.exportValue,h=document.createElement("option");h.textContent=c,h.value=f,r.appendChild(h)}}catch(t){a.e(t)}finally{a.f()}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:l(t,!0),items:u(t)})},indices:function(t){var r=new Set(t.detail.indices),i=t.target.options;Array.prototype.forEach.call(i,(function(t,e){t.selected=r.has(e)})),e.setValue(n,{value:l(t,!0)})},editable:function(t){t.target.disabled=!t.detail.editable}};t._dispatchEventFromSandbox(o,i)})),r.addEventListener("input",(function(r){var i,o=l(r,!0),a=l(r,!1);e.setValue(n,{value:o}),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:a,changeEx:o,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(function(t){return t.target.checked}))):r.addEventListener("input",(function(t){e.setValue(n,{value:l(t)})})),this.container.appendChild(r),this.container}}]),n}(k),I=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!(!t.data.title&&!t.data.contents);return e.call(this,t,{isRenderable:r})}return w(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;var n=new M({container:this.container,trigger:Array.from(e),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=this.page,i=o.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),a=i[0]+this.data.parentRect[2]-this.data.parentRect[0],s=i[1];return this.container.style.transformOrigin="".concat(-a,"px ").concat(-s,"px"),this.container.style.left="".concat(a,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(n.render()),this.container}}]),n}(S),M=function(){function t(e){_(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return w(t,[{key:"render",value:function(){var t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;var e=document.createElement("div");e.className="popup";var n=this.color;if(n){var r=.7*(255-n[0])+n[0],a=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];e.style.backgroundColor=o.Util.makeHexColor(0|r,0|a,0|s)}var l=document.createElement("h1");l.textContent=this.title,e.appendChild(l);var u=i.PDFDateString.toDateObject(this.modificationDate);if(u){var c=document.createElement("span");c.textContent="{{date}}, {{time}}",c.dataset.l10nId="annotation_date_string",c.dataset.l10nArgs=JSON.stringify({date:u.toLocaleDateString(),time:u.toLocaleTimeString()}),e.appendChild(c)}var f=this._formatContents(this.contents);e.appendChild(f),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var h,d=v(this.trigger);try{for(d.s();!(h=d.n()).done;){var p=h.value;p.addEventListener("click",this._toggle.bind(this)),p.addEventListener("mouseover",this._show.bind(this,!1)),p.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(t){d.e(t)}finally{d.f()}return e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}},{key:"_formatContents",value:function(t){for(var e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r){var o=n[r];e.appendChild(document.createTextNode(o)),r<i-1&&e.appendChild(document.createElement("br"))}return e}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),t}(),D=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(S),L=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(i,t),this.container}}]),n}(S),j=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(S),F=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(S),N=function(t){c(n,t);var e=h(n);function n(t){var r;_(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return(r=e.call(this,t,{isRenderable:i,ignoreBorder:!0})).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return w(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],i=this.svgFactory.create(n,r),o=[],a=v(e.vertices);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=s.x-e.rect[0],u=e.rect[3]-s.y;o.push(l+","+u)}}catch(t){a.e(t)}finally{a.f()}o=o.join(" ");var c=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",o),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","none"),i.appendChild(c),this.container.append(i),this._createPopup(c,e),this.container}}]),n}(S),U=function(t){c(n,t);var e=h(n);function n(t){var r;return _(this,n),(r=e.call(this,t)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(N),B=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(S),z=function(t){c(n,t);var e=h(n);function n(t){var r;_(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return(r=e.call(this,t,{isRenderable:i,ignoreBorder:!0})).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return w(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],i=this.svgFactory.create(n,r),o=v(e.inkLists);try{for(o.s();!(t=o.n()).done;){var a,s=t.value,l=[],u=v(s);try{for(u.s();!(a=u.n()).done;){var c=a.value,f=c.x-e.rect[0],h=e.rect[3]-c.y;l.push("".concat(f,",").concat(h))}}catch(t){u.e(t)}finally{u.f()}l=l.join(" ");var d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",l),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","none"),this._createPopup(d,e),i.appendChild(d)}}catch(t){o.e(t)}finally{o.f()}return this.container.append(i),this.container}}]),n}(S),W=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return w(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(S),G=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return w(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(S),q=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return w(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(S),V=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0})}return w(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(S),H=function(t){c(n,t);var e=h(n);function n(t){_(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,{isRenderable:r,ignoreBorder:!0})}return w(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(S),X=function(t){c(n,t);var e=h(n);function n(t){var r,a;_(this,n);var s=(a=e.call(this,t,{isRenderable:!0})).data.file,l=s.filename,u=s.content;return a.filename=(0,i.getFilenameFromUrl)(l),a.content=u,null===(r=a.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:p(a),id:(0,o.stringToPDFString)(l),filename:l,content:u}),a}return w(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(t,this.data),this.container.appendChild(t),this.container}},{key:"_download",value:function(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(S),Y=function(){function t(){_(this,t)}return w(t,null,[{key:"render",value:function(t){var e,n=[],r=[],s=v(t.annotations);try{for(s.s();!(e=s.n()).done;){var l=e.value;l&&(l.annotationType!==o.AnnotationType.POPUP?n.push(l):r.push(l))}}catch(t){s.e(t)}finally{s.f()}r.length&&n.push.apply(n,r);for(var u=0,c=n;u<c.length;u++){var f=c[u],h=x.create({data:f,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:!1!==t.renderInteractiveForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new a.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,mouseState:t.mouseState||{isDown:!1}});if(h.isRenderable){var d=h.render();if(f.hidden&&(d.style.visibility="hidden"),Array.isArray(d)){var p,y=v(d);try{for(y.s();!(p=y.n()).done;){var g=p.value;t.div.appendChild(g)}}catch(t){y.e(t)}finally{y.f()}}else h instanceof I?t.div.prepend(d):t.div.appendChild(d)}}}},{key:"update",value:function(t){var e,n="matrix(".concat(t.viewport.transform.join(","),")"),r=v(t.annotations);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=t.div.querySelectorAll('[data-annotation-id="'.concat(i.id,'"]'));if(o){var a,s=v(o);try{for(s.s();!(a=s.n()).done;)a.value.style.transform=n}catch(t){s.e(t)}finally{s.f()}}}}catch(t){r.e(t)}finally{r.f()}t.div.hidden=!1}}]),t}();e.AnnotationLayer=Y},(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"CMYK_G",value:function(t){var e=n(t,4),r=e[0],i=e[1],o=e[2],a=e[3];return["G",1-Math.min(1,.3*r+.59*o+.11*i+a)]}},{key:"G_CMYK",value:function(t){return["CMYK",0,0,0,1-n(t,1)[0]]}},{key:"G_RGB",value:function(t){var e=n(t,1)[0];return["RGB",e,e,e]}},{key:"G_HTML",value:function(t){var e=o(n(t,1)[0]);return"#".concat(e).concat(e).concat(e)}},{key:"RGB_G",value:function(t){var e=n(t,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_HTML",value:function(t){var e=n(t,3),r=e[0],i=e[1],a=e[2],s=o(r),l=o(i),u=o(a);return"#".concat(s).concat(l).concat(u)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(t){var e=n(t,4),r=e[0],i=e[1],o=e[2],a=e[3];return["RGB",1-Math.min(1,r+a),1-Math.min(1,o+a),1-Math.min(1,i+a)]}},{key:"CMYK_HTML",value:function(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function(t){var e=n(t,3),r=1-e[0],i=1-e[1],o=1-e[2];return["CMYK",r,i,o,Math.min(r,i,o)]}}],null&&i(e.prototype,null),r&&i(e,r),t}();e.ColorConverters=a},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(t){var e=new y({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var r=n(4);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=30,l=new Map,u=/^\s+$/g;function c(t,e,n,i){var o=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};t._textDivs.push(o);var c=r.Util.transform(t._viewport.transform,e.transform),f=Math.atan2(c[1],c[0]),h=n[e.fontName];h.vertical&&(f+=Math.PI/2);var d,p,y=Math.hypot(c[2],c[3]),v=y*function(t,e){var n=l.get(t);if(n)return n;e.save(),e.font="".concat(s,"px ").concat(t);var r=e.measureText(""),i=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(i){e.restore();var a=i/(i+o);return l.set(t,a),a}e.strokeStyle="red",e.clearRect(0,0,s,s),e.strokeText("g",0,0);var u=e.getImageData(0,0,s,s).data;o=0;for(var c=u.length-1-3;c>=0;c-=4)if(u[c]>0){o=Math.ceil(c/4/s);break}e.clearRect(0,0,s,s),e.strokeText("A",0,s),i=0;for(var f=0,h=(u=e.getImageData(0,0,s,s).data).length;f<h;f+=4)if(u[f]>0){i=s-Math.floor(f/4/s);break}if(e.restore(),i){var d=i/(i+o);return l.set(t,d),d}return l.set(t,.8),.8}(h.fontFamily,i);0===f?(d=c[4],p=c[5]-v):(d=c[4]+v*Math.sin(f),p=c[5]-v*Math.cos(f)),o.style.left="".concat(d,"px"),o.style.top="".concat(p,"px"),o.style.fontSize="".concat(y,"px"),o.style.fontFamily=h.fontFamily,o.setAttribute("role","presentation"),o.textContent=e.str,o.dir=e.dir,t._fontInspectorEnabled&&(o.dataset.fontName=e.fontName),0!==f&&(a.angle=f*(180/Math.PI));var g=!1;if(e.str.length>1||t._enhanceTextSelection&&u.test(e.str))g=!0;else if(e.transform[0]!==e.transform[3]){var m=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);m!==_&&Math.max(m,_)/Math.min(m,_)>1.5&&(g=!0)}if(g&&(h.vertical?a.canvasWidth=e.height*t._viewport.scale:a.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(o,a),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection&&a.hasText){var b=1,w=0;0!==f&&(b=Math.cos(f),w=Math.sin(f));var x,S,E=(h.vertical?e.height:e.width)*t._viewport.scale,C=y;0!==f?(x=[b,w,-w,b,d,p],S=r.Util.getAxialAlignedBoundingBox([0,0,E,C],x)):S=[d,p,d+E,p+C],t._bounds.push({left:S[0],top:S[1],right:S[2],bottom:S[3],div:o,size:[E,C],m:x})}}function f(t){if(!t._canceled){var e=t._textDivs,n=t._capability,r=e.length;if(r>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var i=0;i<r;i++)t._layoutText(e[i]);t._renderingDone=!0,n.resolve()}}function h(t,e,n){for(var r=0,i=0;i<n;i++){var o=t[e++];o>0&&(r=r?Math.min(o,r):o)}return r}function d(t){for(var e=t._bounds,n=t._viewport,i=function(t,e,n){var r=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));p(t,r);var i,a=new Array(n.length),s=o(r);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.index;a[u]={left:l.x1New,top:0,right:l.x2New,bottom:0}}}catch(t){s.e(t)}finally{s.f()}n.map((function(e,n){var i=a[n],o=r[n];o.x1=e.top,o.y1=t-i.right,o.x2=e.bottom,o.y2=t-i.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),p(e,r);var c,f=o(r);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=h.index;a[d].top=h.x1New,a[d].bottom=h.x2New}}catch(t){f.e(t)}finally{f.f()}return a}(n.width,n.height,e),a=0;a<i.length;a++){var s=e[a].div,l=t._textDivProperties.get(s);if(0!==l.angle){for(var u=i[a],c=e[a],f=c.m,d=f[0],y=f[1],v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],g=new Float64Array(64),m=0,_=v.length;m<_;m++){var b=r.Util.applyTransform(v[m],f);g[m+0]=d&&(u.left-b[0])/d,g[m+4]=y&&(u.top-b[1])/y,g[m+8]=d&&(u.right-b[0])/d,g[m+12]=y&&(u.bottom-b[1])/y,g[m+16]=y&&(u.left-b[0])/-y,g[m+20]=d&&(u.top-b[1])/d,g[m+24]=y&&(u.right-b[0])/-y,g[m+28]=d&&(u.bottom-b[1])/d,g[m+32]=d&&(u.left-b[0])/-d,g[m+36]=y&&(u.top-b[1])/-y,g[m+40]=d&&(u.right-b[0])/-d,g[m+44]=y&&(u.bottom-b[1])/-y,g[m+48]=y&&(u.left-b[0])/y,g[m+52]=d&&(u.top-b[1])/-d,g[m+56]=y&&(u.right-b[0])/y,g[m+60]=d&&(u.bottom-b[1])/-d}var w=1+Math.min(Math.abs(d),Math.abs(y));l.paddingLeft=h(g,32,16)/w,l.paddingTop=h(g,48,16)/w,l.paddingRight=h(g,0,16)/w,l.paddingBottom=h(g,16,16)/w,t._textDivProperties.set(s,l)}else l.paddingLeft=e[a].left-i[a].left,l.paddingTop=e[a].top-i[a].top,l.paddingRight=i[a].right-e[a].right,l.paddingBottom=i[a].bottom-e[a].bottom,t._textDivProperties.set(s,l)}}function p(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var n,r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],i=o(e);try{for(i.s();!(n=i.n()).done;){for(var a=n.value,s=0;s<r.length&&r[s].end<=a.y1;)s++;for(var l=r.length-1;l>=0&&r[l].start>=a.y2;)l--;var u=void 0,c=void 0,f=void 0,h=void 0,d=-1/0;for(f=s;f<=l;f++){c=(u=r[f]).boundary;var p;(p=c.x2>a.x1?c.index>a.index?c.x1New:a.x1:void 0===c.x2New?(c.x2+a.x1)/2:c.x2New)>d&&(d=p)}for(a.x1New=d,f=s;f<=l;f++)void 0===(c=(u=r[f]).boundary).x2New?c.x2>a.x1?c.index>a.index&&(c.x2New=c.x2):c.x2New=d:c.x2New>d&&(c.x2New=Math.max(d,c.x2));var y=[],v=null;for(f=s;f<=l;f++){var g=(c=(u=r[f]).boundary).x2>a.x2?c:a;v===g?y[y.length-1].end=u.end:(y.push({start:u.start,end:u.end,boundary:g}),v=g)}for(r[s].start<a.y1&&(y[0].start=a.y1,y.unshift({start:r[s].start,end:a.y1,boundary:r[s].boundary})),a.y2<r[l].end&&(y[y.length-1].end=a.y2,y.push({start:a.y2,end:r[l].end,boundary:r[l].boundary})),f=s;f<=l;f++)if(void 0===(c=(u=r[f]).boundary).x2New){var m=!1;for(h=s-1;!m&&h>=0&&r[h].start>=c.y1;h--)m=r[h].boundary===c;for(h=l+1;!m&&h<r.length&&r[h].end<=c.y2;h++)m=r[h].boundary===c;for(h=0;!m&&h<y.length;h++)m=y[h].boundary===c;m||(c.x2New=d)}Array.prototype.splice.apply(r,[s,l-s+1].concat(y))}}catch(t){i.e(t)}finally{i.f()}for(var _=0,b=r;_<b.length;_++){var w=b[_].boundary;void 0===w.x2New&&(w.x2New=Math.max(t,w.x2))}}var y=function(){function t(e){var n,i=this,o=e.textContent,a=e.textContentStream,s=e.container,l=e.viewport,u=e.textDivs,c=e.textContentItemsStr,f=e.enhanceTextSelection;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textContent=o,this._textContentStream=a,this._container=s,this._document=s.ownerDocument,this._viewport=l,this._textDivs=u||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!f,this._fontInspectorEnabled=!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){i._layoutTextCtx&&(i._layoutTextCtx.canvas.width=0,i._layoutTextCtx.canvas.height=0,i._layoutTextCtx=null)})).catch((function(){}))}var e,n;return e=t,n=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(t,e){for(var n=0,r=t.length;n<r;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),c(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){var i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id","".concat(t[n].id)),i.appendChild(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(t){var e=this._textDivProperties.get(t),n="";if(0!==e.canvasWidth&&e.hasText){var r=t.style,i=r.fontSize,o=r.fontFamily;i===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(o),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=o);var a=this._layoutTextCtx.measureText(t.textContent).width;a>0&&(e.scale=e.canvasWidth/a,n="scaleX(".concat(e.scale,")"))}if(0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.appendChild(t),e.hasEOL){var s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,r.createPromiseCapability)(),i=Object.create(null),o=this._document.createElement("canvas");if(o.height=o.width=s,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var a=this._textContent.items,l=this._textContent.styles;this._processItems(a,l),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var u=function e(){t._reader.read().then((function(r){var o=r.value;r.done?n.resolve():(Object.assign(i,o.styles),t._processItems(o.items,i),e())}),n.reject)};this._reader=this._textContentStream.getReader(),u()}n.promise.then((function(){i=null,e?t._renderTimer=setTimeout((function(){f(t),t._renderTimer=null}),e):f(t)}),this._capability.reject)}},{key:"expandTextDivs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var e=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var o=this._textDivs[r],a=this._textDivProperties.get(o);a.hasText&&(t?(e.length=0,n.length=0,a.originalTransform&&e.push(a.originalTransform),a.paddingTop>0?(n.push("".concat(a.paddingTop,"px")),e.push("translateY(".concat(-a.paddingTop,"px)"))):n.push(0),a.paddingRight>0?n.push("".concat(a.paddingRight/a.scale,"px")):n.push(0),a.paddingBottom>0?n.push("".concat(a.paddingBottom,"px")):n.push(0),a.paddingLeft>0?(n.push("".concat(a.paddingLeft/a.scale,"px")),e.push("translateX(".concat(-a.paddingLeft/a.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),e.length&&(o.style.transform=e.join(" "))):(o.style.padding=null,o.style.transform=a.originalTransform))}}}}],n&&i(e.prototype,n),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(4),i=n(1),o=n(6);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function t(){d(this,t),(0,r.unreachable)("Not implemented: SVGGraphics")};e.SVGGraphics=p;var y=function(t){if(Number.isInteger(t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)},v=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(y(t[0])," ").concat(y(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(y(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(y(t[4])," ").concat(y(t[5]),")");return"matrix(".concat(y(t[0])," ").concat(y(t[1])," ").concat(y(t[2])," ").concat(y(t[3])," ").concat(y(t[4])," ")+"".concat(y(t[5]),")")},g="normal",m="normal",_="#000000",b=["butt","round","square"],w=["miter","round","bevel"],x=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256),n=0;n<256;n++){for(var i=n,a=0;a<8;a++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;e[n]=i}function s(t,n,r,i){var o=i,a=n.length;r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a,r[o+=4]=255&t.charCodeAt(0),r[o+1]=255&t.charCodeAt(1),r[o+2]=255&t.charCodeAt(2),r[o+3]=255&t.charCodeAt(3),o+=4,r.set(n,o);var s=function(t,n,r){for(var i=-1,o=n;o<r;o++){var a=255&(i^t[o]);i=i>>>8^e[a]}return-1^i}(r,i+4,o+=n.length);r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s}function l(t){var e=t.length,n=65535,r=Math.ceil(e/n),i=new Uint8Array(2+e+5*r+4),o=0;i[o++]=120,i[o++]=156;for(var a=0;e>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(t.subarray(a,a+n),o),o+=n,a+=n,e-=n;i[o++]=1,i[o++]=255&e,i[o++]=e>>8&255,i[o++]=255&~e,i[o++]=(65535&~e)>>8&255,i.set(t.subarray(a),o),o+=t.length-a;var s=function(t,e,n){for(var r=1,i=0,o=0;o<n;++o)i=(i+(r=(r+(255&t[o]))%65521))%65521;return i<<16|r}(t,0,t.length);return i[o++]=s>>24&255,i[o++]=s>>16&255,i[o++]=s>>8&255,i[o++]=255&s,i}return function(e,n,i){return function(e,n,i,a){var u,c,f,h=e.width,d=e.height,p=e.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:c=0,u=1,f=h+7>>3;break;case r.ImageKind.RGB_24BPP:c=2,u=8,f=3*h;break;case r.ImageKind.RGBA_32BPP:c=6,u=8,f=4*h;break;default:throw new Error("invalid format")}for(var y=new Uint8Array((1+f)*d),v=0,g=0,m=0;m<d;++m)y[v++]=0,y.set(p.subarray(g,g+f),v),g+=f,v+=f;if(n===r.ImageKind.GRAYSCALE_1BPP&&a){v=0;for(var _=0;_<d;_++){v++;for(var b=0;b<f;b++)y[v++]^=255}}var w=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,d>>24&255,d>>16&255,d>>8&255,255&d,u,c,0,0,0]),x=function(t){if(!o.isNodeJS)return l(t);try{var e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);var n=__webpack_require__(7324).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return l(t)}(y),S=t.length+36+w.length+x.length,E=new Uint8Array(S),C=0;return E.set(t,C),s("IHDR",w,E,C+=t.length),s("IDATA",x,E,C+=12+w.length),C+=12+x.length,s("IEND",new Uint8Array(0),E,C),(0,r.createObjectURL)(E,"image/png",i)}(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,n,i)}}(),S=function(){function t(){d(this,t),this.fontSizeScale=1,this.fontWeight=m,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return h(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),E=0,C=0,k=0;e.SVGGraphics=p=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in d(this,t),this.svgFactory=new i.DOMSVGFactory,this.current=new S,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[a]]=a}return h(t,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){for(var e=this,n=t.fnArray,i=t.argsArray,o=0,a=n.length;o<a;o++)if(n[o]===r.OPS.dependency){var s,u=l(i[o]);try{var c=function(){var t=s.value,n=t.startsWith("g_")?e.commonObjs:e.objs,r=new Promise((function(e){n.get(t,e)}));e.current.dependencies.push(r)};for(u.s();!(s=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,e,n,i,o,a){var s=[t,e,n,i,o,a];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(t,e){var n=this;this.viewport=e;var i=this._initialize(e);return this.loadDependencies(t).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(t)),i}))}},{key:"convertOpList",value:function(t){for(var e=this._operatorIdMapping,n=t.argsArray,r=t.fnArray,i=[],o=0,a=r.length;o<a;o++){var s=r[o];i.push({fnId:s,fn:e[s],args:n[o]})}return function(t){var e,n=[],r=[],i=l(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(t){i.e(t)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(t){var e,n=l(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.fn,a=i.fnId,s=i.args;switch(0|a){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o))}}}catch(t){n.e(t)}finally{n.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){var a=this.current;a.textMatrix=a.lineMatrix=[t,e,n,r,i,o],a.textMatrixScale=Math.hypot(t,e),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(y(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",y(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=r.IDENTITY_MATRIX,t.lineMatrix=r.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(t,e){var n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(y(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",y(-n.y))}},{key:"showText",value:function(t){var e=this.current,n=e.font,i=e.fontSize;if(0!==i){var o,a=e.fontSizeScale,s=e.charSpacing,u=e.wordSpacing,c=e.fontDirection,f=e.textHScale*c,h=n.vertical,d=h?1:-1,p=n.defaultVMetrics,b=i*e.fontMatrix[0],w=0,x=l(t);try{for(x.s();!(o=x.n()).done;){var S=o.value;if(null!==S)if((0,r.isNum)(S))w+=d*S*i/1e3;else{var E=(S.isSpace?u:0)+s,C=S.fontChar,k=void 0,P=void 0,T=S.width;if(h){var R=void 0,A=S.vmetric||p;R=-(R=S.vmetric?A[1]:.5*T)*b;var O=A[2]*b;T=A?-A[0]:T,k=R/a,P=(w+O)/a}else k=w/a,P=0;(S.isInFont||n.missingFile)&&(e.xcoords.push(e.x+k),h&&e.ycoords.push(-e.y+P),e.tspan.textContent+=C),w+=h?T*b-E*c:T*b+E*c}else w+=c*u}}catch(t){x.e(t)}finally{x.f()}e.tspan.setAttributeNS(null,"x",e.xcoords.map(y).join(" ")),h?e.tspan.setAttributeNS(null,"y",e.ycoords.map(y).join(" ")):e.tspan.setAttributeNS(null,"y",y(-e.y)),h?e.y-=w:e.x+=w*f,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(y(e.fontSize),"px")),e.fontStyle!==g&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==m&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);var I=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE?(e.fillColor!==_&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE){var M=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,M)}var D=e.textMatrix;0!==e.textRise&&((D=D.slice())[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(v(D)," scale(").concat(y(f),", -1)")),e.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=(0,r.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}},{key:"setFont",value:function(t){var e=this.current,n=this.commonObjs.get(t[0]),i=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var a=n.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=n.loadedName,e.fontWeight=o,e.fontStyle=a,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",y(-e.y)),e.xcoords=[],e.ycoords=[]}},{key:"endText",value:function(){var t,e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=b[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=w[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,e,n){this.current.strokeColor=r.Util.makeHexColor(t,e,n)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,e,n){this.current.fillColor=r.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var e=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],i),a=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([e,0],i),l=r.Util.applyTransform([e,n],i),u=Math.min(o[0],a[0],s[0],l[0]),c=Math.min(o[1],a[1],s[1],l[1]),f=Math.max(o[0],a[0],s[0],l[0]),h=Math.max(o[1],a[1],s[1],l[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",u),d.setAttributeNS(null,"y",c),d.setAttributeNS(null,"width",f-u),d.setAttributeNS(null,"height",h-c),d.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var e=t[1],n=t[2],i=t[3]||r.IDENTITY_MATRIX,o=s(t[4],4),l=o[0],u=o[1],c=o[2],f=o[3],h=t[5],d=t[6],p=t[7],y="shading".concat(k++),v=s(r.Util.normalizeRect([].concat(a(r.Util.applyTransform([l,u],i)),a(r.Util.applyTransform([c,f],i)))),4),g=v[0],m=v[1],_=v[2],b=v[3],w=s(r.Util.singularValueDecompose2dScale(i),2),x=h*w[0],S=d*w[1],E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",y),E.setAttributeNS(null,"patternUnits","userSpaceOnUse"),E.setAttributeNS(null,"width",x),E.setAttributeNS(null,"height",S),E.setAttributeNS(null,"x","".concat(g)),E.setAttributeNS(null,"y","".concat(m));var C=this.svg,P=this.transformMatrix,T=this.current.fillColor,R=this.current.strokeColor,A=this.svgFactory.create(_-g,b-m);if(this.svg=A,this.transformMatrix=i,2===p){var O=r.Util.makeHexColor.apply(r.Util,a(e));this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=P,this.current.fillColor=T,this.current.strokeColor=R,E.appendChild(A.childNodes[0]),this.defs.appendChild(E),"url(#".concat(y,")")}},{key:"_makeShadingPattern",value:function(t){switch(t[0]){case"RadialAxial":var e,n="shading".concat(k++),i=t[3];switch(t[1]){case"axial":var o=t[4],a=t[5];(e=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",o[0]),e.setAttributeNS(null,"y1",o[1]),e.setAttributeNS(null,"x2",a[0]),e.setAttributeNS(null,"y2",a[1]);break;case"radial":var s=t[4],u=t[5],c=t[6],f=t[7];(e=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",u[0]),e.setAttributeNS(null,"cy",u[1]),e.setAttributeNS(null,"r",f),e.setAttributeNS(null,"fx",s[0]),e.setAttributeNS(null,"fy",s[1]),e.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var h,d=l(i);try{for(d.s();!(h=d.n()).done;){var p=h.value,y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",p[0]),y.setAttributeNS(null,"stop-color",p[1]),e.appendChild(y)}}catch(t){d.e(t)}finally{d.f()}return this.defs.appendChild(e),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function(t,e){this.current.dashArray=t,this.current.dashPhase=e}},{key:"constructPath",value:function(t,e){var n,i=this.current,o=i.x,a=i.y,s=[],u=0,c=l(t);try{for(c.s();!(n=c.n()).done;)switch(0|n.value){case r.OPS.rectangle:o=e[u++],a=e[u++];var f=e[u++],h=e[u++],d=o+f,p=a+h;s.push("M",y(o),y(a),"L",y(d),y(a),"L",y(d),y(p),"L",y(o),y(p),"Z");break;case r.OPS.moveTo:o=e[u++],a=e[u++],s.push("M",y(o),y(a));break;case r.OPS.lineTo:o=e[u++],a=e[u++],s.push("L",y(o),y(a));break;case r.OPS.curveTo:o=e[u+4],a=e[u+5],s.push("C",y(e[u]),y(e[u+1]),y(e[u+2]),y(e[u+3]),y(o),y(a)),u+=6;break;case r.OPS.curveTo2:s.push("C",y(o),y(a),y(e[u]),y(e[u+1]),y(e[u+2]),y(e[u+3])),o=e[u+2],a=e[u+3],u+=4;break;case r.OPS.curveTo3:o=e[u+2],a=e[u+3],s.push("C",y(e[u]),y(e[u+1]),y(o),y(a),y(o),y(a)),u+=4;break;case r.OPS.closePath:s.push("Z")}}catch(t){c.e(t)}finally{c.f()}s=s.join(" "),i.path&&t.length>0&&t[0]!==r.OPS.rectangle&&t[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(o,a)}},{key:"endPath",value:function(){var t=this.current;if(t.path=null,this.pendingClip)if(t.element){var e="clippath".concat(E++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",v(this.transformMatrix));var r=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),t.activeClipUrl){t.clipGroup=null;var i,o=l(this.extraStack);try{for(o.s();!(i=o.n()).done;)i.value.clipGroup=null}catch(t){o.e(t)}finally{o.f()}n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var t=this.current;if(t.path){var e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=l(t);try{for(n.s();!(e=n.n()).done;){var i=s(e.value,2),o=i[0],a=i[1];switch(o){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o))}}}catch(t){n.e(t)}finally{n.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==e&&r.length>0&&(r=r.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",y(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",y(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",r.map(y).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",y(e*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function(t){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(t,e){var n=t.width,r=t.height,i=x(t,this.forceDataSchema,!!e),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",y(n)),o.setAttributeNS(null,"height",y(r)),this.current.element=o,this.clip("nonzero");var a=this.svgFactory.createElement("svg:image");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",y(-r)),a.setAttributeNS(null,"width",y(n)+"px"),a.setAttributeNS(null,"height",y(r)+"px"),a.setAttributeNS(null,"transform","scale(".concat(y(1/n)," ").concat(y(-1/r),")")),e?e.appendChild(a):this._ensureTransformGroup().appendChild(a)}},{key:"paintImageMaskXObject",value:function(t){var e=this.current,n=t.width,r=t.height,i=e.fillColor;e.maskId="mask".concat(C++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",e.maskId);var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",y(n)),a.setAttributeNS(null,"height",y(r)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){var n=e[2]-e[0],r=e[3]-e[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",e[0]),i.setAttributeNS(null,"y",e[1]),i.setAttributeNS(null,"width",y(n)),i.setAttributeNS(null,"height",y(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",v(t.transform)),e.appendChild(r),this.svg=r,e}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),t}()},(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"setupStorage",value:function(t,e,n,i,o){var a=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(t.textContent=a.value),"print"===o)break;t.addEventListener("input",(function(t){i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn&&t.setAttribute("checked",!0),"print"===o)break;t.addEventListener("change",(function(t){i.setValue(e,{value:t.target.getAttribute("xfaOn")})}))}else{if(null!==a.value&&t.setAttribute("value",a.value),"print"===o)break;t.addEventListener("input",(function(t){i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==a.value){var s,l=r(n.children);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.attributes.value===a.value&&(u.attributes.selected=!0)}}catch(t){l.e(t)}finally{l.f()}}t.addEventListener("input",(function(t){var n=t.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:r})}))}}},{key:"setAttributes",value:function(t,e,r,i){var o=e.attributes;"radio"===o.type&&(o.name="".concat(o.name,"-").concat(i));for(var a=0,s=Object.entries(o);a<s.length;a++){var l=n(s[a],2),u=l[0],c=l[1];null!=c&&"dataId"!==u&&("style"!==u?"textContent"===u?t.textContent=c:"class"===u?t.setAttribute(u,c.join(" ")):t.setAttribute(u,c):Object.assign(t.style,c))}r&&o.dataId&&this.setupStorage(t,o.dataId,e,r)}},{key:"render",value:function(t){var e=t.annotationStorage,i=t.xfa,o=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes(a,i);var s=[[i,-1,a]],l=t.div;l.appendChild(a);var u="matrix(".concat(t.viewport.transform.join(","),")");for(l.style.transform=u,l.setAttribute("class","xfaLayer xfaFont");s.length>0;){var c,f=n(s[s.length-1],3),h=f[0],d=f[1],p=f[2];if(d+1!==h.children.length){var y=h.children[++s[s.length-1][1]];if(null!==y){var v=y.name;if("#text"!==v){var g=void 0;g=null!=y&&null!==(c=y.attributes)&&void 0!==c&&c.xmlns?document.createElementNS(y.attributes.xmlns,v):document.createElement(v),p.appendChild(g),y.attributes&&this.setAttributes(g,y,e,o),y.children&&y.children.length>0?s.push([y,-1,g]):y.value&&g.appendChild(document.createTextNode(y.value))}else p.appendChild(document.createTextNode(y.value))}}else s.pop()}var m,_=r(l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(_.s();!(m=_.n()).done;)m.value.setAttribute("readOnly",!0)}catch(t){_.e(t)}finally{_.f()}}},{key:"update",value:function(t){var e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}],null&&a(e.prototype,null),i&&a(e,i),t}();e.XfaLayer=s},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4),s=n(132);function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){d(o,r,i,a,s,"next",t)}function s(t){d(o,r,i,a,s,"throw",t)}a(void 0)}))}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var _=__webpack_require__(2767),b=__webpack_require__(8251),w=__webpack_require__(7677),x=__webpack_require__(1543),S=/^file:\/\/\/[a-zA-Z]:\//,E=function(){function t(e){var n,r;v(this,t),this.source=e,this.url=(n=e.url,"file:"===(r=x.parse(n)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?x.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return m(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new T(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new O(this,t,e):new R(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}]),t}();e.PDFNodeStream=E;var C=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}var e;return m(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark((function t(){var e,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}(),k=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();var n=e.source;this._isStreamingSupported=!n.disableStream}var e;return m(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark((function t(){var e,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}();function P(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}var T=function(t){l(n,t);var e=c(n);function n(t){var r;v(this,n);var i=function(e){if(404===e.statusCode){var n=new a.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(e);var i=function(t){return r._readableStream.headers[t.toLowerCase()]},o=(0,s.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:t.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=o.allowRangeRequests,u=o.suggestedLength;r._isRangeSupported=l,r._contentLength=u||r._contentLength,r._filename=(0,s.extractFilenameFromHeader)(i)};return(r=e.call(this,t))._request=null,"http:"===r._url.protocol?r._request=b.request(P(r._url,t.httpHeaders),i):r._request=w.request(P(r._url,t.httpHeaders),i),r._request.on("error",(function(t){r._storedError=t,r._headersCapability.reject(t)})),r._request.end(),r}return n}(C),R=function(t){l(n,t);var e=c(n);function n(t,r,i){var o;for(var s in v(this,n),(o=e.call(this,t))._httpHeaders={},t.httpHeaders){var l=t.httpHeaders[s];void 0!==l&&(o._httpHeaders[s]=l)}o._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var u=function(t){if(404!==t.statusCode)o._setReadableStream(t);else{var e=new a.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=e}};return o._request=null,"http:"===o._url.protocol?o._request=b.request(P(o._url,o._httpHeaders),u):o._request=w.request(P(o._url,o._httpHeaders),u),o._request.on("error",(function(t){o._storedError=t})),o._request.end(),o}return n}(k),A=function(t){l(n,t);var e=c(n);function n(t){var r;v(this,n),r=e.call(this,t);var i=decodeURIComponent(r._url.path);return S.test(r._url.href)&&(i=i.replace(/^\//,"")),_.lstat(i,(function(t,e){if(t)return"ENOENT"===t.code&&(t=new a.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=t,void r._headersCapability.reject(t);r._contentLength=e.size,r._setReadableStream(_.createReadStream(i)),r._headersCapability.resolve()})),r}return n}(C),O=function(t){l(n,t);var e=c(n);function n(t,r,i){var o;v(this,n),o=e.call(this,t);var a=decodeURIComponent(o._url.path);return S.test(o._url.href)&&(a=a.replace(/^\//,"")),o._setReadableStream(_.createReadStream(a,{start:r,end:i-1})),o}return n}(k)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)},e.extractFilenameFromHeader=function(t){var e=t("Content-Disposition");if(e){var n=(0,i.getFilenameFromContentDispositionHeader)(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(t){}if((0,o.isPdfFile)(n))return n}return null},e.validateRangeRequestCapabilities=function(t){var e=t.getResponseHeader,n=t.isHttp,i=t.rangeChunkSize,o=t.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return Number.isInteger(s)?(a.suggestedLength=s,s<=2*i||o||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},e.validateResponseStatus=function(t){return 200===t||206===t};var r=n(4),i=n(133),o=n(1)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){var e=!0,n=s("filename\\*","i").exec(t);if(n){var o=c(n=n[1]);return u(o=h(o=f(o=unescape(o))))}if(n=function(t){for(var e,n=[],r=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=r.exec(t));){var o=i(e,4),a=o[1],l=o[2],u=o[3];if((a=parseInt(a,10))in n){if(0===a)break}else n[a]=[l,u]}for(var h=[],d=0;d<n.length&&d in n;++d){var p=i(n[d],2),y=p[0],v=p[1];v=c(v),y&&(v=unescape(v),0===d&&(v=f(v))),h.push(v)}return h.join("")}(t))return u(h(n));if(n=s("filename","i").exec(t)){var a=c(n=n[1]);return u(a=h(a))}function s(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function l(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(t,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),e=!1}catch(r){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(t){}}}return n}function u(t){return e&&/[\x80-\xff]/.test(t)&&(t=l("utf-8",t),e&&(t=l("iso-8859-1",t))),t}function c(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var r=e[n].indexOf('"');-1!==r&&(e[n]=e[n].slice(0,r),e.length=n+1),e[n]=e[n].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function f(t){var e=t.indexOf("'");return-1===e?t:l(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function h(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return l(e,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{r=atob(r)}catch(t){}return l(e,r)}))}return""};var r=n(4);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(132);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var p=function(){function t(e,n){f(this,t),this.url=e,n=n||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return d(t,[{key:"requestRange",value:function(t,e,n){var r={begin:t,end:e};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};for(var i in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&e.setRequestHeader(i,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n=this.pendingRequests[t];n&&n.onProgress&&n.onProgress(e)}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===r.status&&this.isHttp)n.onError&&n.onError(r.status);else{var i=r.status||200;if(200===i&&206===n.expectedStatus||i===n.expectedStatus){var a=function(t){var e=t.response;return"string"!=typeof e?e:(0,o.stringToBytes)(e).buffer}(r);if(206===i){var s=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(l[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError&&n.onError(r.status)}else n.onError&&n.onError(r.status)}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}]),t}(),y=function(){function t(e){f(this,t),this._source=e,this._manager=new p(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(t,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new v(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new g(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=u(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}]),t}();e.PDFNetworkStream=y;var v=function(){function t(e,n){f(this,t),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return d(t,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.allowRangeRequests,o=r.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(t){var e=this._url,n=(0,a.createResponseStatusError)(t,e);this._storedError=n,this._headersReceivedCapability.reject(n);var r,i=u(this._requests);try{for(i.s();!(r=i.n()).done;)r.value.reject(n)}catch(t){i.e(t)}finally{i.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t);var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),t}(),g=function(){function t(e,n,r){f(this,t),this._manager=e;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var e;return d(t,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;var n,r=u(this._requests);try{for(r.s();!(n=r.n()).done;)n.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onProgress",value:function(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(132);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function d(t,e,n){return{method:"GET",headers:t,signal:null==n?void 0:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function p(t){var e=new Headers;for(var n in t){var r=t[n];void 0!==r&&e.append(n,r)}return e}var y=function(){function t(e){c(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new v(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new g(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}]),t}();e.PDFFetchStream=y;var v=function(){function t(e){var n=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=p(this._stream.httpHeaders);var i=r.url;fetch(i,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,i);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=r.allowRangeRequests,l=r.suggestedLength;n._isRangeSupported=s,n._contentLength=l||n._contentLength,n._filename=(0,a.extractFilenameFromHeader)(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new o.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var e;return h(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}(),g=function(){function t(e,n,r){var i=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0;var s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var l=s.url;fetch(l,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,l);i._readCapability.resolve(),i._reader=t.body.getReader()})).catch((function(t){if("AbortError"!==(null==t?void 0:t.name))throw t})),this.onProgress=null}var e;return h(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return e.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return r.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return r.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return r.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return r.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return r.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return r.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return r.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return r.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return r.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return r.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return r.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return r.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return r.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return r.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return r.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(115),r=__w_pdfjs_require__(4),i=__w_pdfjs_require__(126),o=__w_pdfjs_require__(121),a=__w_pdfjs_require__(6),s=__w_pdfjs_require__(128),l=__w_pdfjs_require__(129),u=__w_pdfjs_require__(130);if(a.isNodeJS){var c=__w_pdfjs_require__(131).PDFNodeStream;(0,n.setPDFNetworkStreamFactory)((function(t){return new c(t)}))}else{var f=__w_pdfjs_require__(134).PDFNetworkStream,h=__w_pdfjs_require__(135).PDFFetchStream;(0,n.setPDFNetworkStreamFactory)((function(t){return(0,e.isValidFetchUrl)(t.url)?new h(t):new f(t)}))}})(),__webpack_exports__})()},module.exports=factory()},2703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(t,e,n)=>{t.exports=n(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8166:function(t){t.exports=function(){"use strict";function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*c/s+f)),Math.min(o,Math.floor(r+(s-l)*c/s+f)),a)}var h=n[r],d=i,p=o;for(e(n,i,r),a(n[o],h)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;a(n[d],h)<0;)d++;for(;a(n[p],h)>0;)p--}0===a(n[i],h)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,o,a){t(e,r,i||0,o||e.length-1,a||n)}}()},5510:(t,e,n)=>{"use strict";t.exports=i;var r=n(8166);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,o){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(a=e+Math.ceil((n-e)/i/2)*i,r(t,a,e,n,o),s.push(e,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!p(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],p(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],p(t,a=e.leaf?n(o):o)){if(e.leaf||d(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(i=o(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=y(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=y([])).leaf=!1,i.height=r;var l,u,c,f,h=Math.ceil(o/s),d=h*Math.ceil(Math.sqrt(s));for(v(t,e,n,d,this.compareMinX),l=e;l<=n;l+=d)for(v(t,l,c=Math.min(l+d-1,n),h,this.compareMinY),u=l;u<=c;u+=h)f=Math.min(u+h-1,c),i.children.push(this._build(t,u,f,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,h,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)l=f(a=e.children[i]),d=t,p=a,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l)<h?(h=u,c=l<c?l:c,s=a):u===h&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),l(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,l,u,c,h,d,p,y,v,g,m;for(u=c=1/0,r=e;r<=n-e;r++)d=i=s(t,0,r,this.toBBox),p=o=s(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(d.minX,p.minX),v=Math.max(d.minY,p.minY),g=Math.min(d.maxX,p.maxX),m=Math.min(d.maxY,p.maxY),a=Math.max(0,g-y)*Math.max(0,m-v),l=f(i)+f(o),a<u?(u=a,h=r,c=l<c?l:c):a===u&&l<c&&(c=l,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,u=s(t,0,e,a),c=s(t,n-e,n,a),f=h(u)+h(c);for(i=e;i<n-e;i++)o=t.children[i],l(u,t.leaf?a(o):o),f+=h(u);for(i=n-e-1;i>=e;i--)o=t.children[i],l(c,t.leaf?a(o):o),f+=h(c);return f},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},y={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(y,t)||!d.call(p,t)&&(h.test(t)?y[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,E=60107,C=60108,k=60114,P=60109,T=60110,R=60112,A=60113,O=60120,I=60115,M=60116,D=60121,L=60128,j=60129,F=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),S=U("react.portal"),E=U("react.fragment"),C=U("react.strict_mode"),k=U("react.profiler"),P=U("react.provider"),T=U("react.context"),R=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),I=U("react.memo"),M=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),F=U("react.offscreen"),N=U("react.legacy_hidden")}var B,z="function"==typeof Symbol&&Symbol.iterator;function W(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function G(t){if(void 0===B)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var q=!1;function V(t,e){if(!t||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function H(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return V(t.type,!1);case 11:return V(t.type.render,!1);case 22:return V(t.type._render,!1);case 1:return V(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return X(t.type);case D:return X(t._render);case M:e=t._payload,t=t._init;try{return X(t(e))}catch(t){}}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Y(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Y(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Y(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Y(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Y(n)}}function ut(t,e){var n=Y(e.value),r=Y(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,yt,vt=(yt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(mt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62))}}function Et(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,Pt=null,Tt=null;function Rt(t){if(t=ni(t)){if("function"!=typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=ii(e),kt(t.stateNode,t.type,e))}}function At(t){Pt?Tt?Tt.push(t):Tt=[t]:Pt=t}function Ot(){if(Pt){var t=Pt,e=Tt;if(Tt=Pt=null,Rt(t),e)for(t=0;t<e.length;t++)Rt(e[t])}}function It(t,e){return t(e)}function Mt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Lt=It,jt=!1,Ft=!1;function Nt(){null===Pt&&null===Tt||(Dt(),Ot())}function Ut(t,e){var n=t.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var Bt=!1;if(f)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(yt){Bt=!1}function Wt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Gt=!1,qt=null,Vt=!1,Ht=null,Xt={onError:function(t){Gt=!0,qt=t}};function Yt(t,e,n,r,i,o,a,s,l){Gt=!1,qt=null,Wt.apply(Xt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Qt(t){if(Kt(t)!==t)throw Error(a(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qt(i),t;if(o===r)return Qt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function $t(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,oe=[],ae=null,se=null,le=null,ue=new Map,ce=new Map,fe=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":ae=null;break;case"dragenter":case"dragleave":se=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=ei(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function me(t,e,n){ge(t)&&n.delete(e)}function _e(){for(ie=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==ae&&ge(ae)&&(ae=null),null!==se&&ge(se)&&(se=null),null!==le&&ge(le)&&(le=null),ue.forEach(me),ce.forEach(me)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_e)))}function we(t){function e(e){return be(e,t)}if(0<oe.length){be(oe[0],t);for(var n=1;n<oe.length;n++){var r=oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ae&&be(ae,t),null!==se&&be(se,t),null!==le&&be(le,t),ue.forEach(e),ce.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ve(n),null===n.blockedOn&&fe.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Se={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Ee={},Ce={};function ke(t){if(Ee[t])return Ee[t];if(!Se[t])return t;var e,n=Se[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Ee[t]=n[e];return t}f&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);var Pe=ke("animationend"),Te=ke("animationiteration"),Re=ke("animationstart"),Ae=ke("transitionend"),Oe=new Map,Ie=new Map,Me=["abort","abort",Pe,"animationEnd",Te,"animationIteration",Re,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ae,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ie.set(r,e),Oe.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Le=8;function je(t){if(0!=(1&t))return Le=15,1;if(0!=(2&t))return Le=14,2;if(0!=(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!=(32&t)?(Le=11,32):0!=(e=192&t)?(Le=10,e):0!=(256&t)?(Le=9,256):0!=(e=3584&t)?(Le=8,e):0!=(4096&t)?(Le=7,4096):0!=(e=4186112&t)?(Le=6,e):0!=(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!=(134217728&t)?(Le=3,134217728):0!=(e=805306368&t)?(Le=2,e):0!=(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=je(l),i=Le):0!=(s&=o)&&(r=je(s),i=Le)}else 0!=(o=n&~a)?(r=je(o),i=Le):0!==s&&(r=je(s),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&a)){if(je(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function Ne(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ue(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Be(24&~e))?Ue(10,e):t;case 10:return 0===(t=Be(192&~e))?Ue(8,e):t;case 8:return 0===(t=Be(3584&~e))&&0===(t=Be(4186112&~e))&&(t=512),t;case 2:return 0===(e=Be(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Be(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(qe(t)/Ve|0)|0},qe=Math.log,Ve=Math.LN2,He=o.unstable_UserBlockingPriority,Xe=o.unstable_runWithPriority,Ye=!0;function Ke(t,e,n,r){jt||Dt();var i=Qe,o=jt;jt=!0;try{Mt(i,t,e,n,r)}finally{(jt=o)||Nt()}}function Ze(t,e,n,r){Xe(He,Qe.bind(null,t,e,n,r))}function Qe(t,e,n,r){var i;if(Ye)if((i=0==(4&e))&&0<oe.length&&-1<he.indexOf(t))t=de(null,t,e,n,r),oe.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&pe(t,r);else{if(i){if(-1<he.indexOf(t))return t=de(o,t,e,n,r),void oe.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return ae=ye(ae,t,e,n,r,i),!0;case"dragenter":return se=ye(se,t,e,n,r,i),!0;case"mouseover":return le=ye(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,ye(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,ye(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;pe(t,r)}Dr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Ct(r);if(null!==(i=ei(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Zt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var $e=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in $e?$e.value:$e.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function on(){return!0}function an(){return!1}function sn(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),e}var ln,un,cn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(ln=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=ln=0,cn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:un}}),vn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),mn=sn(i({},dn,{relatedTarget:0})),_n=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Pn(){return kn}var Tn=i({},dn,{key:function(t){if(t.key){var e=Sn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Rn=sn(Tn),An=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),In=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Mn),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Nn=f&&"TextEvent"in window&&!Fn,Un=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),zn=!1;function Wn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Xn(t,e,n,r){At(r),0<(e=jr(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yn=null,Kn=null;function Zn(t){Tr(t,0)}function Qn(t){if(Q(ri(t)))return t}function Jn(t,e){if("change"===t)return e}var $n=!1;if(f){var tr;if(f){var er="oninput"in document;if(!er){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),er="function"==typeof nr.oninput}tr=er}else tr=!1;$n=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),Kn=Yn=null)}function ir(t){if("value"===t.propertyName&&Qn(Kn)){var e=[];if(Xn(e,Kn,t,Ct(t)),t=Zn,jt)t(e);else{jt=!0;try{It(t,e)}finally{jt=!1,Nt()}}}}function or(t,e,n){"focusin"===t?(rr(),Kn=n,(Yn=e).attachEvent("onpropertychange",ir)):"focusout"===t&&rr()}function ar(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Kn)}function sr(t,e){if("click"===t)return Qn(e)}function lr(t,e){if("input"===t||"change"===t)return Qn(e)}var ur="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},cr=Object.prototype.hasOwnProperty;function fr(t,e){if(ur(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(e,n[r])||!ur(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function yr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function vr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,_r=null,br=null,wr=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==J(r)||(r="selectionStart"in(r=mr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=jr(_r,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Me,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Ie.set(Sr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Pr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,u){if(Yt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var c=qt;Gt=!1,qt=null,Vt||(Vt=!0,Ht=c)}}(r,e,void 0,t),t.currentTarget=null}function Tr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Pr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Pr(i,s,u),o=l}}}if(Vt)throw t=Ht,Vt=!1,Ht=null,t}function Rr(t,e){var n=oi(e),r=t+"__bubble";n.has(r)||(Mr(e,t,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(t){t[Ar]||(t[Ar]=!0,s.forEach((function(e){kr.has(e)||Ir(e,!1,t,null),Ir(e,!0,t,null)})))}function Ir(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&kr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=oi(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Mr(o,t,i,e),a.add(s))}function Mr(t,e,n,r){var i=Ie.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=Ze;break;default:i=Qe}n=i.bind(null,e,n,t),i=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{Lt(t,e,n)}finally{Ft=!1,Nt()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=Oe.get(t);if(void 0!==s){var l=hn,u=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Pe:case Te:case Re:l=_n;break;case Ae:l=In;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!=(4&e),f=!c&&"scroll"===t,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&null!=(y=Ut(p,h))&&c.push(Lr(p,y,d))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(f=Kt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=An,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:ri(l),d=null==u?s:ri(u),(s=new c(y,p+"leave",l,n,i)).target=f,s.relatedTarget=d,y=null,ei(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,y=c),f=y,l&&u)t:{for(h=u,p=0,d=c=l;d;d=Fr(d))p++;for(d=0,y=h;y;y=Fr(y))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break t;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==l&&Nr(a,s,l,c,!1),null!==u&&null!==f&&Nr(a,f,u,c,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Jn;else if(Hn(s))if($n)v=lr;else{v=ar;var g=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(t,r))?Xn(a,v,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ri(r):window,t){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,_r=r,br=null);break;case"focusout":br=_r=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,i)}var m;if(jn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else qn?Wn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(m=nn()):(tn="value"in($e=i)?$e.value:$e.textContent,qn=!0)),0<(g=jr(r,_)).length&&(_=new xn(_,t,null,n,i),a.push({event:_,listeners:g}),(m||null!==(m=Gn(n)))&&(_.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return Gn(e);case"keypress":return 32!==e.which?null:(zn=!0,Bn);case"textInput":return(t=e.data)===Bn&&zn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!jn&&Wn(t,e)?(t=nn(),en=tn=$e=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Un&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m)}Tr(a,e)}))}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ut(t,n))&&r.unshift(Lr(t,o,i)),null!=(o=Ut(t,e))&&r.push(Lr(t,o,i))),t=t.return}return r}function Fr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ut(n,o))&&a.unshift(Lr(n,l,s)):i||null!=(l=Ut(n,o))&&a.push(Lr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Ur(){}var Br=null,zr=null;function Wr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Xr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0,Zr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,$r="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ei(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[Qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Yr(t);null!==t;){if(n=t[Qr])return n;t=Yr(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Qr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ii(t){return t[Jr]||null}function oi(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var ai=[],si=-1;function li(t){return{current:t}}function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ci(t,e){si++,ai[si]=t.current,t.current=e}var fi={},hi=li(fi),di=li(!1),pi=fi;function yi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!=t.childContextTypes}function gi(){ui(di),ui(hi)}function mi(t,e,n){if(hi.current!==fi)throw Error(a(168));ci(hi,e),ci(di,n)}function _i(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return i({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,ci(hi,t),ci(di,di.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=_i(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(di),ui(hi),ci(hi,t)):ui(di),ci(di,n)}var xi=null,Si=null,Ei=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ri=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,ji={},Fi=void 0!==Ti?Ti:function(){},Ni=null,Ui=null,Bi=!1,zi=Ri(),Wi=1e4>zi?Ri:function(){return Ri()-zi};function Gi(){switch(Ai()){case Oi:return 99;case Ii:return 98;case Mi:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Oi;case 98:return Ii;case 97:return Mi;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Vi(t,e){return t=qi(t),Ei(t,e)}function Hi(t,e,n){return t=qi(t),Ci(t,e,n)}function Xi(){if(null!==Ui){var t=Ui;Ui=null,ki(t)}Yi()}function Yi(){if(!Bi&&null!==Ni){Bi=!0;var t=0;try{var e=Ni;Vi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),Ci(Oi,Xi),e}finally{Bi=!1}}}var Ki=w.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Qi=li(null),Ji=null,$i=null,to=null;function eo(){to=$i=Ji=null}function no(t){var e=Qi.current;ui(Qi),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function io(t,e){Ji=t,to=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(ja=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Ji)throw Error(a(308));$i=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var o=t.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var f=t.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=u)}}if(null!==a){for(h=o.baseState,s=0,f=c=u=null;;){l=a.lane;var d=a.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,y=a;switch(l=e,d=n,y.tag){case 1:if("function"==typeof(p=y.payload)){h=p.call(d,h,l);break t}h=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=y.payload)?p.call(d,h,l):p))break t;h=i({},h,l);break t;case 2:ao=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else d={eventTime:d,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=d,u=h):f=f.next=d,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===f&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Ns|=s,t.lanes=s,t.memoizedState=h}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function vo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.payload=e,null!=n&&(o.callback=n),co(t,o),fl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),co(t,o),fl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=cl(t),i=uo(n,r);i.tag=2,null!=e&&(i.callback=e),co(t,i),fl(t,r,n)}};function mo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&fr(n,r)&&fr(i,o))}function _o(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(e)?pi:hi.current,o=(r=null!=(r=e.contextTypes))?yi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yo,so(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(e)?pi:hi.current,i.context=yi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var xo=Array.isArray;function So(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===yo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Gl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Xl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=So(t,e,n),r.return=t,r):((r=ql(n.type,n.key,n.props,null,t.mode,r)).ref=So(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Vl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Xl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=ql(e.type,e.key,e.props,null,t.mode,n)).ref=So(t,null,e),n.return=t,n;case S:return(e=Yl(e,t.mode,n)).return=t,e}if(xo(e)||W(e))return(e=Vl(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(t,e,n.props.children,r,i):u(t,e,n,r):null;case S:return n.key===i?c(t,e,n,r):null}if(xo(n)||W(n))return null!==i?null:f(t,e,n,r,null);Eo(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return t=t.get(null===r.key?n:r.key)||null,r.type===E?f(e,t,r.props.children,i,r.key):u(e,t,r,i);case S:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||W(r))return f(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function y(i,a,s,l){for(var u=null,c=null,f=a,y=a=0,v=null;null!==f&&y<s.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var g=d(i,f,s[y],l);if(null===g){null===f&&(f=v);break}t&&f&&null===g.alternate&&e(i,f),a=o(g,a,y),null===c?u=g:c.sibling=g,c=g,f=v}if(y===s.length)return n(i,f),u;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],l))&&(a=o(f,a,y),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);y<s.length;y++)null!==(v=p(f,i,y,s[y],l))&&(t&&null!==v.alternate&&f.delete(null===v.key?y:v.key),a=o(v,a,y),null===c?u=v:c.sibling=v,c=v);return t&&f.forEach((function(t){return e(i,t)})),u}function v(i,s,l,u){var c=W(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,y=s,v=s=0,g=null,m=l.next();null!==y&&!m.done;v++,m=l.next()){y.index>v?(g=y,y=null):g=y.sibling;var _=d(i,y,m.value,u);if(null===_){null===y&&(y=g);break}t&&y&&null===_.alternate&&e(i,y),s=o(_,s,v),null===f?c=_:f.sibling=_,f=_,y=g}if(m.done)return n(i,y),c;if(null===y){for(;!m.done;v++,m=l.next())null!==(m=h(i,m.value,u))&&(s=o(m,s,v),null===f?c=m:f.sibling=m,f=m);return c}for(y=r(i,y);!m.done;v++,m=l.next())null!==(m=p(y,i,v,m.value,u))&&(t&&null!==m.alternate&&y.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?c=m:f.sibling=m,f=m);return t&&y.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"==typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case x:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===E){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}}else if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=So(t,u,o),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===E?((r=Vl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=ql(o.type,o.key,o.props,null,t.mode,l)).ref=So(t,r,o),l.return=t,t=l)}return s(t);case S:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Xl(o,t.mode,l)).return=t,t=r),s(t);if(xo(o))return y(t,r,o,l);if(W(o))return v(t,r,o,l);if(c&&Eo(t,o),void 0===o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,r)}}var ko=Co(!0),Po=Co(!1),To={},Ro=li(To),Ao=li(To),Oo=li(To);function Io(t){if(t===To)throw Error(a(174));return t}function Mo(t,e){switch(ci(Oo,e),ci(Ao,t),ci(Ro,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Ro),ci(Ro,e)}function Do(){ui(Ro),ui(Ao),ui(Oo)}function Lo(t){Io(Oo.current);var e=Io(Ro.current),n=dt(e,t.type);e!==n&&(ci(Ao,t),ci(Ro,n))}function jo(t){Ao.current===t&&(ui(Ro),ui(Ao))}var Fo=li(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=null,Bo=null,zo=!1;function Wo(t,e){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Go(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function qo(t){if(zo){var e=Bo;if(e){var n=e;if(!Go(t,e)){if(!(e=Xr(n.nextSibling))||!Go(t,e))return t.flags=-1025&t.flags|2,zo=!1,void(Uo=t);Wo(Uo,n)}Uo=t,Bo=Xr(e.firstChild)}else t.flags=-1025&t.flags|2,zo=!1,Uo=t}}function Vo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Uo=t}function Ho(t){if(t!==Uo)return!1;if(!zo)return Vo(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Gr(e,t.memoizedProps))for(e=Bo;e;)Wo(t,e),e=Xr(e.nextSibling);if(Vo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Bo=Xr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Bo=null}}else Bo=Uo?Xr(t.stateNode.nextSibling):null;return!0}function Xo(){Bo=Uo=null,zo=!1}var Yo=[];function Ko(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Zo=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,Jo=0,$o=null,ta=null,ea=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function aa(t,e,n,r,i,o){if(Jo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=null===t||null===t.memoizedState?Ia:Ma,t=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ea=ta=null,e.updateQueue=null,Zo.current=Da,t=n(r,i)}while(ra)}if(Zo.current=Oa,e=null!==ta&&null!==ta.next,Jo=0,ea=ta=$o=null,na=!1,e)throw Error(a(300));return t}function sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?$o.memoizedState=ea=t:ea=ea.next=t,ea}function la(){if(null===ta){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=ta.next;var e=null===ea?$o.memoizedState:ea.next;if(null!==e)ea=e,ta=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ta=t).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ea?$o.memoizedState=ea=t:ea=ea.next=t}return ea}function ua(t,e){return"function"==typeof e?e(t):e}function ca(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,$o.lanes|=c,Ns|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ur(r,e.memoizedState)||(ja=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);ur(o,e.memoizedState)||(ja=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Yo.push(e))),t)return n(e._source);throw Yo.push(e),Error(a(350))}function da(t,e,n,r){var i=As;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Zo.current,u=l.useState((function(){return ha(i,e,n)})),c=u[1],f=u[0];u=ea;var h=t.memoizedState,d=h.refs,p=d.getSnapshot,y=h.source;h=h.subscribe;var v=$o;return t.memoizedState={refs:d,source:e,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var t=o(e._source);if(!ur(s,t)){t=n(e._source),ur(f,t)||(c(t),t=cl(v),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-Ge(a),u=1<<l;r[l]|=t,a&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=cl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),ur(p,n)&&ur(y,e)&&ur(h,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:f}).dispatch=c=Aa.bind(null,$o,t),u.queue=t,u.baseQueue=null,f=ha(i,e,n),u.memoizedState=u.baseState=f),f}function pa(t,e,n){return da(la(),t,e,n)}function ya(t){var e=sa();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t}).dispatch=Aa.bind(null,$o,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ga(t){return t={current:t},sa().memoizedState=t}function ma(){return la().memoizedState}function _a(t,e,n,r){var i=sa();$o.flags|=t,i.memoizedState=va(1|e,n,void 0,void 0===r?null:r)}function ba(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(e,n,o,r)}$o.flags|=t,i.memoizedState=va(1|e,n,o,r)}function wa(t,e){return _a(516,4,t,e)}function xa(t,e){return ba(516,4,t,e)}function Sa(t,e){return ba(4,2,t,e)}function Ea(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(t,e,n){return n=null!=n?n.concat([t]):null,ba(4,2,Ea.bind(null,e,t),n)}function ka(){}function Pa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ra(t,e){var n=Gi();Vi(98>n?98:n,(function(){t(!0)})),Vi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{t(!1),e()}finally{Qo.transition=n}}))}function Aa(t,e,n){var r=ul(),i=cl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ra=na=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(t){}fl(t,i,r)}}var Oa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ia={readContext:oo,useCallback:function(t,e){return sa().memoizedState=[t,void 0===e?null:e],t},useContext:oo,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,_a(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=sa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Aa.bind(null,$o,t),[r.memoizedState,t]},useRef:ga,useState:ya,useDebugValue:ka,useDeferredValue:function(t){var e=ya(t),n=e[0],r=e[1];return wa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ya(!1),e=t[0];return ga(t=Ra.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=sa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},da(r,t,e,n)},useOpaqueIdentifier:function(){if(zo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=ya(e)[1];return 0==(2&$o.mode)&&($o.flags|=516,va(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return ya(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:Pa,useContext:oo,useEffect:xa,useImperativeHandle:Ca,useLayoutEffect:Sa,useMemo:Ta,useReducer:ca,useRef:ma,useState:function(){return ca(ua)},useDebugValue:ka,useDeferredValue:function(t){var e=ca(ua),n=e[0],r=e[1];return xa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ca(ua)[0];return[ma().current,t]},useMutableSource:pa,useOpaqueIdentifier:function(){return ca(ua)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Pa,useContext:oo,useEffect:xa,useImperativeHandle:Ca,useLayoutEffect:Sa,useMemo:Ta,useReducer:fa,useRef:ma,useState:function(){return fa(ua)},useDebugValue:ka,useDeferredValue:function(t){var e=fa(ua),n=e[0],r=e[1];return xa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ua)[0];return[ma().current,t]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ua)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,ja=!1;function Fa(t,e,n,r){e.child=null===t?Po(e,null,n,r):ko(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=aa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ua(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ql(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ba(t,e,a,r,i,o))}return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Gl(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ba(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(ja=!1,0==(o&i))return e.lanes=t.lanes,ns(t,e,o);0!=(16384&t.flags)&&(ja=!0)}return Ga(t,e,n,r,o)}function za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},_l(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_l(0,t),null;e.memoizedState={baseLanes:0},_l(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,_l(0,r);return Fa(t,e,i,n),e.child}function Wa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ga(t,e,n,r,i){var o=vi(n)?pi:hi.current;return o=yi(e,o),io(e,i),n=aa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function qa(t,e,n,r,i){if(vi(n)){var o=!0;bi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),_o(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):yi(e,u=vi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(e,a,r,u),ao=!1;var h=e.memoizedState;a.state=h,ho(e,r,a,i),l=e.memoizedState,s!==r||h!==l||di.current||ao?("function"==typeof c&&(vo(e,n,c,r),l=e.memoizedState),(s=ao||mo(e,n,s,r,h,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Zi(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):yi(e,l=vi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==l)&&bo(e,a,r,l),ao=!1,h=e.memoizedState,a.state=h,ho(e,r,a,i);var p=e.memoizedState;s!==f||h!==p||di.current||ao?("function"==typeof d&&(vo(e,n,d,r),p=e.memoizedState),(u=ao||mo(e,n,u,r,h,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){Wa(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&wi(e,n,!1),ns(t,e,o);r=e.stateNode,La.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):Fa(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Ha(t){var e=t.stateNode;e.pendingContext?mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mi(0,e.context,!1),Mo(t,e.containerInfo)}var Xa,Ya,Ka,Za={dehydrated:null,retryLane:0};function Qa(t,e,n){var r,i=e.pendingProps,o=Fo.current,a=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===t?(void 0!==i.fallback&&qo(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,e.lanes=33554432,t):((n=Hl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=function(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gl(a,s),null!==t?r=Gl(t,r):(r=Vl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Za,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=Gl(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Hl(e,i,0,null),n=Vl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ro(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(t,e,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&$a(t,n);else if(19===t.tag)$a(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Fo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Gl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Gl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(e.type)&&gi(),null;case 3:return Do(),ui(di),ui(hi),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ho(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:jo(e);var o=Io(Oo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ya(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Io(Ro.current),Ho(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[Jr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(t=0;t<Cr.length;t++)Rr(Cr[t],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":tt(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":lt(r,s),Rr("invalid",r)}for(var u in St(n,s),t=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Rr("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),ct(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Qr]=e,t[Jr]=r,Xa(t,e),e.stateNode=t,u=Et(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),o=r;break;case"iframe":case"object":case"embed":Rr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Rr(Cr[o],t);o=r;break;case"source":Rr("error",t),o=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),o=r;break;case"details":Rr("toggle",t),o=r;break;case"input":tt(t,r),o=$(t,r),Rr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Rr("invalid",t);break;default:o=r}St(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?wt(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&vt(t,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&gt(t,f):"number"==typeof f&&gt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rr("scroll",t):null!=f&&b(t,s,f,u))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Y(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Ur)}Wr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=Io(Oo.current),Io(Ro.current),Ho(e)?(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=e,e.stateNode=r)}return null;case 13:return ui(Fo),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ho(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===As||0==(134217727&Ns)&&0==(134217727&Us)||yl(As,Is))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&Or(e.stateNode.containerInfo),null;case 10:return no(e),null;case 19:if(ui(Fo),null===(r=e.memoizedState))return null;if(s=0!=(64&e.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=No(t))){for(e.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),e.child}t=t.sibling}null!==r.tail&&Wi()>Gs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=No(u))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Gs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,e=Fo.current,ci(Fo,s?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:vi(t.type)&&gi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ui(di),ui(hi),Ko(),0!=(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return jo(t),null;case 13:return ui(Fo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(Fo),null;case 4:return Do(),null;case 10:return no(t),null;case 23:case 24:return bl(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Xa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Io(Ro.current);var a,s=null;switch(n){case"input":o=$(t,o),r=$(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Ur)}for(f in St(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var u=o[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Rr("scroll",t),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(t,e,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ss(0,e)},n}function cs(t,e,n){(n=uo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var fs="function"==typeof WeakSet?WeakSet:Set;function hs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Fl(t,e)}else e.current=null}function ds(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Hr(e.stateNode.containerInfo))}throw Error(a(163))}function ps(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dl(n,t),Ml(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Wr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(t,e){if(Si&&"function"==typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dl(e,n);else{r=e;try{i()}catch(t){Fl(r,t)}}n=n.next}while(n!==t)}break;case 1:if(hs(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fl(e,t)}break;case 5:hs(e);break;case 4:xs(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(gt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?bs(t,n,e):ws(t,n,e)}function bs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Ur));else if(4!==r&&null!==(t=t.child))for(bs(t,e,n),t=t.sibling;null!==t;)bs(t,e,n),t=t.sibling}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function xs(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,u=l;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Et(t,i),e=Et(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?wt(n,l):"dangerouslySetInnerHTML"===s?vt(n,l):"children"===s?gt(n,l):b(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ws=Wi(),ys(e.child,!0)),void Es(e);case 19:return void Es(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Es(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new fs),e.forEach((function(e){var r=Ul.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var ks=Math.ceil,Ps=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Rs=0,As=null,Os=null,Is=0,Ms=0,Ds=li(0),Ls=0,js=null,Fs=0,Ns=0,Us=0,Bs=0,zs=null,Ws=0,Gs=1/0;function qs(){Gs=Wi()+500}var Vs,Hs=null,Xs=!1,Ys=null,Ks=null,Zs=!1,Qs=null,Js=90,$s=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!=(48&Rs)?Wi():-1!==il?il:il=Wi()}function cl(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Gi()?1:2;if(0===ol&&(ol=Fs),0!==Ki.transition){0!==al&&(al=null!==zs?zs.pendingLanes:0),t=ol;var e=4186112&~al;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Gi(),t=Ue(0!=(4&Rs)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol)}function fl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(t=hl(t,e)))return null;We(t,e,n),t===As&&(Us|=e,4===Ls&&yl(t,Is));var r=Gi();1===e?0!=(8&Rs)&&0==(48&Rs)?vl(t):(dl(t,n),0===Rs&&(qs(),Xi())):(0==(4&Rs)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),dl(t,n)),zs=t}function hl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function dl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ge(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=e,je(u);var f=Le;o[l]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);s&=~u}if(r=Fe(t,t===As?Is:0),e=Le,0===r)null!==n&&(n!==ji&&ki(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==ji&&ki(n)}15===e?(n=vl.bind(null,t),null===Ni?(Ni=[n],Ui=Ci(Oi,Yi)):Ni.push(n),n=ji):14===e?n=Hi(99,vl.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Hi(n,pl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function pl(t){if(il=-1,al=ol=0,0!=(48&Rs))throw Error(a(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var n=Fe(t,t===As?Is:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=Sl();for(As===t&&Is===r||(qs(),wl(t,r));;)try{kl();break}catch(e){xl(t,e)}if(eo(),Ps.current=o,Rs=i,null!==Os?r=0:(As=null,Is=0,r=Ls),0!=(Fs&Us))wl(t,0);else if(0!==r){if(2===r&&(Rs|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(n=Ne(t))&&(r=El(t,n))),1===r)throw e=js,wl(t,0),yl(t,n),dl(t,Wi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rl(t);break;case 3:if(yl(t,n),(62914560&n)===n&&10<(r=Ws+500-Wi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(Rl.bind(null,t),r);break}Rl(t);break;case 4:if(yl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){t.timeoutHandle=qr(Rl.bind(null,t),n);break}Rl(t);break;default:throw Error(a(329))}}return dl(t,Wi()),t.callbackNode===e?pl.bind(null,t):null}function yl(t,e){for(e&=~Bs,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function vl(t){if(0!=(48&Rs))throw Error(a(327));if(Il(),t===As&&0!=(t.expiredLanes&Is)){var e=Is,n=El(t,e);0!=(Fs&Us)&&(n=El(t,e=Fe(t,e)))}else n=El(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Rs|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(e=Ne(t))&&(n=El(t,e))),1===n)throw n=js,wl(t,0),yl(t,e),dl(t,Wi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t),dl(t,Wi()),null}function gl(t,e){var n=Rs;Rs|=1;try{return t(e)}finally{0===(Rs=n)&&(qs(),Xi())}}function ml(t,e){var n=Rs;Rs&=-2,Rs|=8;try{return t(e)}finally{0===(Rs=n)&&(qs(),Xi())}}function _l(t,e){ci(Ds,Ms),Ms|=e,Fs|=e}function bl(){Ms=Ds.current,ui(Ds)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Vr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Do(),ui(di),ui(hi),Ko();break;case 5:jo(r);break;case 4:Do();break;case 13:case 19:ui(Fo);break;case 10:no(r);break;case 23:case 24:bl()}n=n.return}As=t,Os=Gl(t.current,null),Is=Ms=Fs=e,Ls=0,js=null,Bs=Us=Ns=0}function xl(t,e){for(;;){var n=Os;try{if(eo(),Zo.current=Oa,na){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ea=ta=$o=null,ra=!1,Ts.current=null,null===n||null===n.return){Ls=1,js=e,Os=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=h.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=uo(-1,1);m.tag=2,co(s,m)}s.lanes|=1;break t}l=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Nl.bind(null,o,u,s);u.then(b,b)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),l=as(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,e&=-e,h.lanes|=e,fo(h,us(0,o,e));break t;case 1:o=l;var w=h.type,x=h.stateNode;if(0==(64&h.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ks||!Ks.has(x)))){h.flags|=4096,e&=-e,h.lanes|=e,fo(h,cs(h,o,e));break t}}h=h.return}while(null!==h)}Tl(n)}catch(t){e=t,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Sl(){var t=Ps.current;return Ps.current=Oa,null===t?Oa:t}function El(t,e){var n=Rs;Rs|=16;var r=Sl();for(As===t&&Is===e||wl(t,e);;)try{Cl();break}catch(e){xl(t,e)}if(eo(),Rs=n,Ps.current=r,null!==Os)throw Error(a(261));return As=null,Is=0,Ls}function Cl(){for(;null!==Os;)Pl(Os)}function kl(){for(;null!==Os&&!Pi();)Pl(Os)}function Pl(t){var e=Vs(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,null===e?Tl(t):Os=e,Ts.current=null}function Tl(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=is(n,e,Ms)))return void(Os=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ms)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(Os=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Os=e);Os=e=t}while(null!==e);0===Ls&&(Ls=5)}function Rl(t){var e=Gi();return Vi(99,Al.bind(null,t,e)),null}function Al(t,e){do{Il()}while(null!==Qs);if(0!=(48&Rs))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-Ge(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==el&&0==(24&r)&&el.has(t)&&el.delete(t),t===As&&(Os=As=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ts.current=null,Br=Ye,vr(s=yr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var f=0,h=-1,d=-1,p=0,y=0,v=s,g=null;e:for(;;){for(var m;v!==l||0!==o&&3!==v.nodeType||(h=f+o),v!==u||0!==c&&3!==v.nodeType||(d=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)g=v,v=m;for(;;){if(v===s)break e;if(g===l&&++p===o&&(h=f),g===u&&++y===c&&(d=f),null!==(m=v.nextSibling))break;g=(v=g).parentNode}v=m}l=-1===h||-1===d?null:{start:h,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:s,selectionRange:l},Ye=!1,sl=null,ll=!1,Hs=r;do{try{Ol()}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);sl=null,Hs=r;do{try{for(s=t;null!==Hs;){var _=Hs.flags;if(16&_&&gt(Hs.stateNode,""),128&_){var b=Hs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:_s(Hs),Hs.flags&=-3;break;case 6:_s(Hs),Hs.flags&=-3,Ss(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,Ss(Hs.alternate,Hs);break;case 4:Ss(Hs.alternate,Hs);break;case 8:xs(s,l=Hs);var x=l.alternate;gs(l),null!==x&&gs(x)}Hs=Hs.nextEffect}}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);if(w=zr,b=yr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!w.extend&&x>s&&(l=s,s=x,x=l),l=dr(_,x),o=dr(_,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ye=!!Br,zr=Br=null,t.current=n,Hs=r;do{try{for(_=t;null!==Hs;){var S=Hs.flags;if(36&S&&ps(_,Hs.alternate,Hs),128&S){b=void 0;var E=Hs.ref;if(null!==E){var C=Hs.stateNode;Hs.tag,b=C,"function"==typeof E?E(b):E.current=b}}Hs=Hs.nextEffect}}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Fi(),Rs=i}else t.current=n;if(Zs)Zs=!1,Qs=t,Js=e;else for(Hs=r;null!==Hs;)e=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((S=Hs).sibling=null,S.stateNode=null),Hs=e;if(0===(r=t.pendingLanes)&&(Ks=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,Si&&"function"==typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64==(64&n.current.flags))}catch(t){}if(dl(t,Wi()),Xs)throw Xs=!1,t=Ys,Ys=null,t;return 0!=(8&Rs)||Xi(),null}function Ol(){for(;null!==Hs;){var t=Hs.alternate;ll||null===sl||(0!=(8&Hs.flags)?$t(Hs,sl)&&(ll=!0):13===Hs.tag&&Cs(t,Hs)&&$t(Hs,sl)&&(ll=!0));var e=Hs.flags;0!=(256&e)&&ds(t,Hs),0==(512&e)||Zs||(Zs=!0,Hi(97,(function(){return Il(),null}))),Hs=Hs.nextEffect}}function Il(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Vi(t,Ll)}return!1}function Ml(t,e){$s.push(e,t),Zs||(Zs=!0,Hi(97,(function(){return Il(),null})))}function Dl(t,e){tl.push(e,t),Zs||(Zs=!0,Hi(97,(function(){return Il(),null})))}function Ll(){if(null===Qs)return!1;var t=Qs;if(Qs=null,0!=(48&Rs))throw Error(a(331));var e=Rs;Rs|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Rs=e,Xi(),!0}function jl(t,e,n){co(t,e=us(0,e=as(n,e),1)),e=ul(),null!==(t=hl(t,1))&&(We(t,1,e),dl(t,e))}function Fl(t,e){if(3===t.tag)jl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){jl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=cs(n,t=as(e,t),1);if(co(n,i),i=ul(),null!==(n=hl(n,1)))We(n,1,i),dl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Nl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,As===t&&(Is&n)===n&&(4===Ls||3===Ls&&(62914560&Is)===Is&&500>Wi()-Ws?wl(t,0):Bs|=n),dl(t,e)}function Ul(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Gi()?1:2:(0===ol&&(ol=Fs),0===(e=Be(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=hl(t,e))&&(We(t,e,n),dl(t,n))}function Bl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(t,e,n,r){return new Bl(t,e,n,r)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Gl(t,e){var n=t.alternate;return null===n?((n=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ql(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Wl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case E:return Vl(n.children,i,o,e);case j:s=8,i|=16;break;case C:s=8,i|=1;break;case k:return(t=zl(12,n,e,8|i)).elementType=k,t.type=k,t.lanes=o,t;case A:return(t=zl(13,n,e,i)).type=A,t.elementType=A,t.lanes=o,t;case O:return(t=zl(19,n,e,i)).elementType=O,t.lanes=o,t;case F:return Hl(n,i,o,e);case N:return(t=zl(24,n,e,i)).elementType=N,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case P:s=10;break t;case T:s=9;break t;case R:s=11;break t;case I:s=14;break t;case M:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=zl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Vl(t,e,n,r){return(t=zl(7,t,r,e)).lanes=n,t}function Hl(t,e,n,r){return(t=zl(23,t,r,e)).elementType=F,t.lanes=n,t}function Xl(t,e,n){return(t=zl(6,t,null,e)).lanes=n,t}function Yl(t,e,n){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Zl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ql(t,e,n,r){var i=e.current,o=ul(),s=cl(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vi(u)){n=_i(n,u,l);break t}}n=l}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),co(i,e),fl(i,s,o),s}function Jl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $l(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){$l(t,e),(t=t.alternate)&&$l(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(t,e,null!=n&&!0===n.hydrate),e=zl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,so(e),t[$r]=n.current,Or(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Jl(a);s.call(t)}}Ql(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Jl(a);l.call(t)}}ml((function(){Ql(e,a,t,i)}))}return Jl(a)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(a(200));return Zl(t,e,null,n)}Vs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)ja=!0;else{if(0==(n&r)){switch(ja=!1,e.tag){case 3:Ha(e),Xo();break;case 5:Lo(e);break;case 1:vi(e.type)&&bi(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ci(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Qa(t,e,n):(ci(Fo,1&Fo.current),null!==(e=ns(t,e,n))?e.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Fo,Fo.current),r)break;return null;case 23:case 24:return e.lanes=0,za(t,e,n)}return ns(t,e,n)}ja=0!=(16384&t.flags)}else ja=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=yi(e,hi.current),io(e,n),i=aa(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(e,r,s,t),i.updater=go,e.stateNode=i,i._reactInternals=e,wo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,Fa(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Wl(t)?1:0;if(null!=t){if((t=t.$$typeof)===R)return 11;if(t===I)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=Ga(null,e,i,t,n);break t;case 1:e=qa(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=Ua(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ga(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Ha(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)Xo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Bo=Xr(e.stateNode.containerInfo.firstChild),Uo=e,o=zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Yo.push(o);for(n=Po(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(t,e,r,n),Xo();e=e.child}return e;case 5:return Lo(e),null===t&&qo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(e.flags|=16),Wa(t,e),Fa(t,e,s,n),e.child;case 6:return null===t&&qo(e),null;case 13:return Qa(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):Fa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return Fa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(ci(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){e=ns(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.flags|=1,Fa(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),Ua(t,e,i,o=Zi(i.type,o),r,n);case 15:return Ba(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vi(r)?(t=!0,bi(e)):t=!1,io(e,n),_o(e,r,i),wo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return za(t,e,n)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){Ql(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,(function(){e[$r]=null}))},te=function(t){13===t.tag&&(fl(t,4,ul()),tu(t,4))},ee=function(t){13===t.tag&&(fl(t,67108864,ul()),tu(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),n=cl(t);fl(t,n,e),tu(t,n)}},re=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ii(r);if(!i)throw Error(a(90));Q(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},It=gl,Mt=function(t,e,n,r,i){var o=Rs;Rs|=4;try{return Vi(98,t.bind(null,e,n,r,i))}finally{0===(Rs=o)&&(qs(),Xi())}},Dt=function(){0==(49&Rs)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,dl(t,Wi())}))}Xi()}(),Il())},Lt=function(t,e){var n=Rs;Rs|=2;try{return t(e)}finally{0===(Rs=n)&&(qs(),Xi())}};var ou={Events:[ni,ri,ii,At,Ot,Il,{current:!1}]},au={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{xi=lu.inject(su),Si=lu}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Rs;if(0!=(48&n))return t(e);Rs|=1;try{if(t)return Vi(99,t.bind(null,e))}finally{Rs=n,Xi()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(a(40));return!!t._reactRootContainer&&(ml((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=gl,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ru(t,e,n,!1,r)},e.version="17.0.2"},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},5668:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=p(n(5697)),a=p(n(3935)),s=p(n(6010)),l=n(1825),u=n(2849),c=n(9280),f=p(n(783)),h=p(n(5904)),d=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(t){return t&&t.__esModule?t:{default:t}}function y(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v.apply(this,arguments)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(y,t);var e,n,r,o,c,p=(o=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(o);if(c){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function y(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),C(S(e=p.call(this,t)),"onDragStart",(function(t,n){if((0,h.default)("Draggable: onDragStart: %j",n),!1===e.props.onStart(t,(0,u.createDraggableData)(S(e),n)))return!1;e.setState({dragging:!0,dragged:!0})})),C(S(e),"onDrag",(function(t,n){if(!e.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",n);var r,i,o=(0,u.createDraggableData)(S(e),n),a={x:o.x,y:o.y};if(e.props.bounds){var s=a.x,l=a.y;a.x+=e.state.slackX,a.y+=e.state.slackY;var c=(r=(0,u.getBoundPosition)(S(e),a.x,a.y),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],d=c[1];a.x=f,a.y=d,a.slackX=e.state.slackX+(s-a.x),a.slackY=e.state.slackY+(l-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-e.state.x,o.deltaY=a.y-e.state.y}if(!1===e.props.onDrag(t,o))return!1;e.setState(a)})),C(S(e),"onDragStop",(function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,(0,u.createDraggableData)(S(e),n)))return!1;(0,h.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var i=e.props.position,o=i.x,a=i.y;r.x=o,r.y=a}e.setState(r)})),e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:m({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),e}return e=y,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:m({},n)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),r=e.defaultPosition,o=e.defaultClassName,a=e.defaultClassNameDragging,c=e.defaultClassNameDragged,h=e.position,p=e.positionOffset,y=(e.scale,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,d)),g={},_=null,b=!Boolean(h)||this.state.dragging,w=h||r,x={x:(0,u.canDragX)(this)&&b?this.state.x:w.x,y:(0,u.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?_=(0,l.createSVGTransform)(x,p):g=(0,l.createCSSTransform)(x,p);var S=(0,s.default)(n.props.className||"",o,(C(t={},a,this.state.dragging),C(t,c,this.state.dragged),t));return i.createElement(f.default,v({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:m(m({},n.props.style),g),transform:_}))}}])&&b(e.prototype,n),r&&b(e,r),y}(i.Component);e.default=k,C(k,"displayName","Draggable"),C(k,"propTypes",m(m({},f.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),C(k,"defaultProps",m(m({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},783:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(5697)),a=f(n(3935)),s=n(1825),l=n(2849),u=n(9280),c=f(n(5904));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={start:"touchstart",move:"touchmove",stop:"touchend"},S={start:"mousedown",move:"mousemove",stop:"mouseup"},E=S,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(f,t);var e,n,r,o,u=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function f(){var t;y(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(_(t=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(_(t),"mounted",!1),w(_(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,s.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(e,i,_(t));if(null!=o){var a=o.x,u=o.y,f=(0,l.createCoreData)(_(t),a,u);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",t.props.onStart),!1!==t.props.onStart(e,f)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:a,lastY:u}),(0,s.addEvent)(r,E.move,t.handleDrag),(0,s.addEvent)(r,E.stop,t.handleDragStop))}}})),w(_(t),"handleDrag",(function(e){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,a=i-t.state.lastY,s=d((0,l.snapToGrid)(t.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=t.state.lastX+o,i=t.state.lastY+a}var u=(0,l.createCoreData)(_(t),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==t.props.onDrag(e,u)&&!1!==t.mounted)t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(f)}}})),w(_(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y,o=(0,l.createCoreData)(_(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var a=t.findDOMNode();a&&t.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(a.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),a&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(a.ownerDocument,E.move,t.handleDrag),(0,s.removeEvent)(a.ownerDocument,E.stop,t.handleDragStop))}}})),w(_(t),"onMouseDown",(function(e){return E=S,t.handleDragStart(e)})),w(_(t),"onMouseUp",(function(e){return E=S,t.handleDragStop(e)})),w(_(t),"onTouchStart",(function(e){return E=x,t.handleDragStart(e)})),w(_(t),"onTouchEnd",(function(e){return E=x,t.handleDragStop(e)})),t}return e=f,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,s.addEvent)(t,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,s.removeEvent)(e,S.move,this.handleDrag),(0,s.removeEvent)(e,x.move,this.handleDrag),(0,s.removeEvent)(e,S.stop,this.handleDragStop),(0,s.removeEvent)(e,x.stop,this.handleDragStop),(0,s.removeEvent)(t,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(e.prototype,n),f}(i.Component);e.default=C,w(C,"displayName","DraggableCore"),w(C,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),w(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1193:(t,e,n)=>{"use strict";var r=n(5668),i=r.default,o=r.DraggableCore;t.exports=i,t.exports.default=i,t.exports.DraggableCore=o},1825:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=f,e.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(f(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},e.addEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}},e.removeEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},e.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderTopWidth))+(0,i.int)(n.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderLeftWidth))+(0,i.int)(n.borderRightWidth)},e.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingTop))-(0,i.int)(n.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingLeft))-(0,i.int)(n.paddingRight)},e.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:(t.clientX+e.scrollLeft-r.left)/n,y:(t.clientY+e.scrollTop-r.top)/n}},e.createCSSTransform=function(t,e){var n=h(t,e,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},e.createSVGTransform=function(t,e){return h(t,e,"")},e.getTranslation=h,e.getTouch=function(t,e){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,i.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},e.addUserSelectStyles=function(t){if(t){var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e)),t.body&&d(t.body,"react-draggable-transparent-selection")}},e.removeUserSelectStyles=function(t){if(t)try{if(t.body&&p(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(t){}},e.addClassName=d,e.removeClassName=p;var i=n(9280),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(8650));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="";function f(t,e){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,i.isFunction)(t[e])}))),!!(0,i.isFunction)(t[c])&&t[c](e)}function h(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var a="".concat("string"==typeof e.x?e.x:e.x+n),s="".concat("string"==typeof e.y?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function d(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function p(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},8650:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=r,e.browserPrefixToKey=i,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!o)return"";if(r in o)return"";for(var a=0;a<n.length;a++)if(i(r,n[a])in o)return n[a];return""}function i(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var o=r();e.default=o},5904:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},2849:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var a=t.props.bounds;a="string"==typeof a?a:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(a);var s=o(t);if("string"==typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var f=l,h=c.getComputedStyle(s),d=c.getComputedStyle(f);a={left:-s.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(h.marginLeft),top:-s.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(h.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(h.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(h.marginBottom)}}return(0,r.isNum)(a.right)&&(e=Math.min(e,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(e=Math.max(e,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[e,n]},e.snapToGrid=function(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]},e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.getControlPosition=function(t,e,n){var r="number"==typeof e?(0,i.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||t,s,n.props.scale)},e.createCoreData=function(t,e,n){var i=t.state,a=!(0,r.isNum)(i.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var r=n(9280),i=n(1825);function o(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},9280:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},e.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"==typeof t&&!isNaN(t)},e.int=function(t){return parseInt(t,10)},e.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}},9590:t=>{var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!o(t[u[l]],a[u[l]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},5966:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=h(n(7294)),o=h(n(5697)),a=n(1193),s=n(1706),l=n(7493),u=n(7373),c=n(2886),f=h(n(6010));function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&g(t,e)}(h,t);var e,n,r,o,c=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function h(){var t;y(this,h);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(_(t=c.call.apply(c,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),w(_(t),"elementRef",i.default.createRef()),w(_(t),"onDragStart",(function(e,n){var r=n.node,i=t.props,o=i.onDragStart,a=i.transformScale;if(o){var s={top:0,left:0},l=r.offsetParent;if(l){var c=l.getBoundingClientRect(),f=r.getBoundingClientRect(),h=f.left/a,d=c.left/a,p=f.top/a,y=c.top/a;s.left=h-d+l.scrollLeft,s.top=p-y+l.scrollTop,t.setState({dragging:s});var v=(0,u.calcXY)(t.getPositionParams(),s.top,s.left,t.props.w,t.props.h),g=v.x,m=v.y;return o.call(_(t),t.props.i,g,m,{e,node:r,newPosition:s})}}})),w(_(t),"onDrag",(function(e,n){var r=n.node,i=n.deltaX,o=n.deltaY,a=t.props.onDrag;if(a){if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");var s=t.state.dragging.top+o,l=t.state.dragging.left+i,c=t.props,f=c.isBounded,h=c.i,d=c.w,p=c.h,y=c.containerWidth,v=t.getPositionParams();if(f){var g=r.offsetParent;if(g){var m=t.props,b=m.margin,w=m.rowHeight,x=g.clientHeight-(0,u.calcGridItemWHPx)(p,w,b[1]);s=(0,u.clamp)(s,0,x);var S=(0,u.calcGridColWidth)(v),E=y-(0,u.calcGridItemWHPx)(d,S,b[0]);l=(0,u.clamp)(l,0,E)}}var C={top:s,left:l};t.setState({dragging:C});var k=(0,u.calcXY)(v,s,l,d,p),P=k.x,T=k.y;return a.call(_(t),h,P,T,{e,node:r,newPosition:C})}})),w(_(t),"onDragStop",(function(e,n){var r=n.node,i=t.props.onDragStop;if(i){if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=t.props,a=o.w,s=o.h,l=o.i,c=t.state.dragging,f=c.left,h=c.top,d={top:h,left:f};t.setState({dragging:null});var p=(0,u.calcXY)(t.getPositionParams(),h,f,a,s),y=p.x,v=p.y;return i.call(_(t),l,y,v,{e,node:r,newPosition:d})}})),w(_(t),"onResizeStop",(function(e,n){t.onResizeHandler(e,n,"onResizeStop")})),w(_(t),"onResizeStart",(function(e,n){t.onResizeHandler(e,n,"onResizeStart")})),w(_(t),"onResize",(function(e,n){t.onResizeHandler(e,n,"onResize")})),t}return e=h,n=[{key:"shouldComponentUpdate",value:function(t,e){if(this.props.children!==t.children)return!0;if(this.props.droppingPosition!==t.droppingPosition)return!0;var n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,e);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==t.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(t){this.moveDroppingItem(t)}},{key:"moveDroppingItem",value:function(t){var e=this.props.droppingPosition;if(e){var n=this.elementRef.current;if(n){var r=t.droppingPosition||{left:0,top:0},i=this.state.dragging,o=i&&e.left!==r.left||e.top!==r.top;if(i){if(o){var a=e.left-i.left,s=e.top-i.top;this.onDrag(e.e,{node:n,deltaX:a,deltaY:s})}}else this.onDragStart(e.e,{node:n,deltaX:e.left,deltaY:e.top})}}}},{key:"getPositionParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}},{key:"createStyle",value:function(t){var e,n=this.props,r=n.usePercentages,i=n.containerWidth;return n.useCSSTransforms?e=(0,l.setTransform)(t):(e=(0,l.setTopLeft)(t),r&&(e.left=(0,l.perc)(t.left/i),e.width=(0,l.perc)(t.width/i))),e}},{key:"mixinDraggable",value:function(t,e){return i.default.createElement(a.DraggableCore,{disabled:!e,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}},{key:"mixinResizable",value:function(t,e,n){var r=this.props,o=r.cols,a=r.x,l=r.minW,c=r.minH,f=r.maxW,h=r.maxH,d=r.transformScale,p=r.resizeHandles,y=r.resizeHandle,v=this.getPositionParams(),g=(0,u.calcGridItemPosition)(v,0,0,o-a,0).width,m=(0,u.calcGridItemPosition)(v,0,0,l,c),_=(0,u.calcGridItemPosition)(v,0,0,f,h),b=[m.width,m.height],w=[Math.min(_.width,g),Math.min(_.height,1/0)];return i.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:e.width,height:e.height,minConstraints:b,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:d,resizeHandles:p,handle:y},t)}},{key:"onResizeHandler",value:function(t,e,n){var r=e.node,i=e.size,o=this.props[n];if(o){var a=this.props,s=a.cols,l=a.x,c=a.y,f=a.i,h=a.maxH,d=a.minH,p=this.props,y=p.minW,v=p.maxW,g=(0,u.calcWH)(this.getPositionParams(),i.width,i.height,l,c),m=g.w,_=g.h;y=Math.max(y,1),v=Math.min(v,s-l),m=(0,u.clamp)(m,y,v),_=(0,u.clamp)(_,d,h),this.setState({resizing:"onResizeStop"===n?null:i}),o.call(this,f,m,_,{e:t,node:r,size:i})}}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.w,o=t.h,a=t.isDraggable,s=t.isResizable,l=t.droppingPosition,c=t.useCSSTransforms,h=(0,u.calcGridItemPosition)(this.getPositionParams(),e,n,r,o,this.state),d=i.default.Children.only(this.props.children),y=i.default.cloneElement(d,{ref:this.elementRef,className:(0,f.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:p(p(p({},this.props.style),d.props.style),this.createStyle(h))});return y=this.mixinResizable(y,h,s),this.mixinDraggable(y,a)}}],n&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.default.Component);e.default=x,w(x,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minWidth not Number"):n>t.w||n>t.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxWidth not Number"):n<t.w||n<t.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minHeight not Number"):n>t.h||n>t.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxHeight not Number"):n<t.h||n<t.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),w(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9580:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(2307)),a=f(n(6010)),s=n(7493),l=n(7373),u=f(n(5966)),c=f(n(2886));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k="react-grid-layout",P=!1;try{P=/firefox/i.test(navigator.userAgent)}catch(t){}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&w(t,e)}(p,t);var e,n,r,c,f,h=(c=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(c);if(f){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function p(){var t;_(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C(S(t=h.call.apply(h,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(t.props.layout,t.props.children,t.props.cols,(0,s.compactType)(t.props),t.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),C(S(t),"dragEnterCounter",0),C(S(t),"onDragStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);if(u)return t.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l}),t.props.onDragStart(l,u,u,null,o,a)})),C(S(t),"onDrag",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.oldDragItem,u=t.state.layout,c=t.props,f=c.cols,h=c.allowOverlap,d=c.preventCollision,p=(0,s.getLayoutItem)(u,e);if(p){var y={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};u=(0,s.moveElement)(u,p,n,r,!0,d,(0,s.compactType)(t.props),f,h),t.props.onDrag(u,l,p,y,o,a),t.setState({layout:h?u:(0,s.compact)(u,(0,s.compactType)(t.props),f),activeDrag:y})}})),C(S(t),"onDragStop",(function(e,n,r,i){var o=i.e,a=i.node;if(t.state.activeDrag){var l=t.state.oldDragItem,u=t.state.layout,c=t.props,f=c.cols,h=c.preventCollision,d=c.allowOverlap,p=(0,s.getLayoutItem)(u,e);if(p){u=(0,s.moveElement)(u,p,n,r,!0,h,(0,s.compactType)(t.props),f,d),t.props.onDragStop(u,l,p,null,o,a);var y=d?u:(0,s.compact)(u,(0,s.compactType)(t.props),f),v=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldDragItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,v)}}})),C(S(t),"onResizeStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);u&&(t.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:t.state.layout}),t.props.onResizeStart(l,u,u,null,o,a))})),C(S(t),"onResize",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,f=t.props,h=f.cols,d=f.preventCollision,p=f.allowOverlap,g=(0,s.withLayoutItem)(u,e,(function(t){var e;if(d&&!p){var i=(0,s.getAllCollisions)(u,y(y({},t),{},{w:n,h:r})).filter((function(e){return e.i!==t.i}));if(e=i.length>0){var o=1/0,a=1/0;i.forEach((function(e){e.x>t.x&&(o=Math.min(o,e.x)),e.y>t.y&&(a=Math.min(a,e.y))})),Number.isFinite(o)&&(t.w=o-t.x),Number.isFinite(a)&&(t.h=a-t.y)}}return e||(t.w=n,t.h=r),t})),m=v(g,2),_=m[0],b=m[1];if(b){var w={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:e};t.props.onResize(_,c,b,w,o,a),t.setState({layout:p?_:(0,s.compact)(_,(0,s.compactType)(t.props),h),activeDrag:w})}})),C(S(t),"onResizeStop",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,f=t.props,h=f.cols,d=f.allowOverlap,p=(0,s.getLayoutItem)(u,e);t.props.onResizeStop(u,c,p,null,o,a);var y=d?u:(0,s.compact)(u,(0,s.compactType)(t.props),h),v=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldResizeItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,v)})),C(S(t),"onDragOver",(function(e){var n;if(e.preventDefault(),e.stopPropagation(),P&&(null===(n=e.nativeEvent.target)||void 0===n||!n.classList.contains(k)))return!1;var r=t.props,o=r.droppingItem,a=r.onDropDragOver,s=r.margin,u=r.cols,c=r.rowHeight,f=r.maxRows,h=r.width,p=r.containerPadding,v=r.transformScale,g=null==a?void 0:a(e);if(!1===g)return t.state.droppingDOMNode&&t.removeDroppingPlaceholder(),!1;var m=y(y({},o),g),_=t.state.layout,b=e.nativeEvent,w=b.layerX,x=b.layerY,S={left:w/v,top:x/v,e};if(t.state.droppingDOMNode){if(t.state.droppingPosition){var E=t.state.droppingPosition,C=E.left,T=E.top;(C!=w||T!=x)&&t.setState({droppingPosition:S})}}else{var R={cols:u,margin:s,maxRows:f,rowHeight:c,containerWidth:h,containerPadding:p||s},A=(0,l.calcXY)(R,x,w,m.w,m.h);t.setState({droppingDOMNode:i.createElement("div",{key:m.i}),droppingPosition:S,layout:[].concat(d(_),[y(y({},m),{},{x:A.x,y:A.y,static:!1,isDraggable:!0})])})}})),C(S(t),"removeDroppingPlaceholder",(function(){var e=t.props,n=e.droppingItem,r=e.cols,i=t.state.layout,o=(0,s.compact)(i.filter((function(t){return t.i!==n.i})),(0,s.compactType)(t.props),r);t.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),C(S(t),"onDragLeave",(function(e){e.preventDefault(),t.dragEnterCounter--,0===t.dragEnterCounter&&t.removeDroppingPlaceholder()})),C(S(t),"onDragEnter",(function(e){e.preventDefault(),t.dragEnterCounter++})),C(S(t),"onDrop",(function(e){e.preventDefault();var n=t.props.droppingItem,r=t.state.layout,i=r.find((function(t){return t.i===n.i}));t.dragEnterCounter=0,t.removeDroppingPlaceholder(),t.props.onDrop(r,i,e)})),t}return e=p,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n;return e.activeDrag?null:((0,o.default)(t.layout,e.propsLayout)&&t.compactType===e.compactType?(0,s.childrenEqual)(t.children,e.children)||(n=e.layout):n=t.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,s.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(t,e){return this.props.children!==t.children||!(0,s.fastRGLPropsEqual)(this.props,t,o.default)||this.state.activeDrag!==e.activeDrag||this.state.mounted!==e.mounted||this.state.droppingPosition!==e.droppingPosition}},{key:"componentDidUpdate",value:function(t,e){if(!this.state.activeDrag){var n=this.state.layout,r=e.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var t=(0,s.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*e+"px"}}},{key:"onLayoutMaybeChanged",value:function(t,e){e||(e=this.state.layout),(0,o.default)(e,t)||this.props.onLayoutChange(t)}},{key:"placeholder",value:function(){var t=this.state.activeDrag;if(!t)return null;var e=this.props,n=e.width,r=e.cols,o=e.margin,a=e.containerPadding,s=e.rowHeight,l=e.maxRows,c=e.useCSSTransforms,f=e.transformScale;return i.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:f},i.createElement("div",null))}},{key:"processGridItem",value:function(t,e){if(t&&t.key){var n=(0,s.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;var r=this.props,o=r.width,a=r.cols,l=r.margin,c=r.containerPadding,f=r.rowHeight,h=r.maxRows,d=r.isDraggable,p=r.isResizable,y=r.isBounded,v=r.useCSSTransforms,g=r.transformScale,m=r.draggableCancel,_=r.draggableHandle,b=r.resizeHandles,w=r.resizeHandle,x=this.state,S=x.mounted,E=x.droppingPosition,C="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&d,k="boolean"==typeof n.isResizable?n.isResizable:!n.static&&p,P=n.resizeHandles||b,T=C&&y&&!1!==n.isBounded;return i.createElement(u.default,{containerWidth:o,cols:a,margin:l,containerPadding:c||l,maxRows:h,rowHeight:f,cancel:m,handle:_,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:C,isResizable:k,isBounded:T,useCSSTransforms:v&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:e?E:void 0,resizeHandles:P,resizeHandle:w},t)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.style,o=e.isDroppable,l=e.innerRef,u=(0,a.default)(k,n),c=y({height:this.containerHeight()},r);return i.createElement("div",{ref:l,className:u,style:c,onDrop:o?this.onDrop:s.noop,onDragLeave:o?this.onDragLeave:s.noop,onDragEnter:o?this.onDragEnter:s.noop,onDragOver:o?this.onDragOver:s.noop},i.Children.map(this.props.children,(function(e){return t.processGridItem(e)})),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.Component);e.default=T,C(T,"displayName","ReactGridLayout"),C(T,"propTypes",c.default),C(T,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},2886:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizeHandleType=e.resizeHandleAxesType=e.default=void 0;var r=o(n(5697)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}var a=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));e.resizeHandleAxesType=a;var s=r.default.oneOfType([r.default.node,r.default.func]);e.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(t){t.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;void 0!==e&&n(7493).validateLayout(e,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(t,e){var n=t[e],r={};i.default.Children.forEach(n,(function(t){if(null!=(null==t?void 0:t.key)){if(r[t.key])throw new Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');r[t.key]=!0}}))},innerRef:r.default.any};e.default=l},3973:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(5697)),a=f(n(2307)),s=n(7493),l=n(5651),u=f(n(9580)),c=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function _(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){return Object.prototype.toString.call(t)};function E(t,e){return null==t?null:Array.isArray(t)?t:t[e]}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&m(t,e)}(p,t);var e,n,r,o,f,h=(o=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(o);if(f){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function p(){var t;v(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(b(t=h.call.apply(h,[this].concat(n))),"state",t.generateInitialState()),x(b(t),"onLayoutChange",(function(e){t.props.onLayoutChange(e,y(y({},t.props.layouts),{},x({},t.state.breakpoint,e)))})),t}return e=p,r=[{key:"getDerivedStateFromProps",value:function(t,e){if(!(0,a.default)(t.layouts,e.layouts)){var n=e.breakpoint,r=e.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,r,t.compactType),layouts:t.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var t=this.props,e=t.width,n=t.breakpoints,r=t.layouts,i=t.cols,o=(0,l.getBreakpointFromWidth)(n,e),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}}},{key:"componentDidUpdate",value:function(t){this.props.width==t.width&&this.props.breakpoint===t.breakpoint&&(0,a.default)(this.props.breakpoints,t.breakpoints)&&(0,a.default)(this.props.cols,t.cols)||this.onWidthChange(t)}},{key:"onWidthChange",value:function(t){var e=this.props,n=e.breakpoints,r=e.cols,i=e.layouts,o=e.compactType,a=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(a,r),f=y({},i);if(u!==a||t.breakpoints!==n||t.cols!==r){u in f||(f[u]=(0,s.cloneLayout)(this.state.layout));var h=(0,l.findOrGenerateResponsiveLayout)(f,n,a,u,c,o);h=(0,s.synchronizeLayoutWithChildren)(h,this.props.children,c,o,this.props.allowOverlap),f[a]=h,this.props.onLayoutChange(h,f),this.props.onBreakpointChange(a,c),this.setState({breakpoint:a,layout:h,cols:c})}var d=E(this.props.margin,a),p=E(this.props.containerPadding,a);this.props.onWidthChange(this.props.width,d,c,p)}},{key:"render",value:function(){var t=this.props,e=(t.breakpoint,t.breakpoints,t.cols,t.layouts,t.margin),n=t.containerPadding,r=(t.onBreakpointChange,t.onLayoutChange,t.onWidthChange,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,c));return i.createElement(u.default,d({},r,{margin:E(e,this.state.breakpoint),containerPadding:E(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.Component);e.default=C,x(C,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(t,e){if("[object Object]"!==S(t[e]))throw new Error("Layout property must be an object. Received: "+S(t[e]));Object.keys(t[e]).forEach((function(e){if(!(e in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[e],"layouts."+e)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),x(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},7373:(t,e)=>{"use strict";function n(t){var e=t.margin,n=t.containerPadding,r=t.containerWidth,i=t.cols;return(r-e[0]*(i-1)-2*n[0])/i}function r(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function i(t,e,n){return Math.max(Math.min(t,n),e)}Object.defineProperty(e,"__esModule",{value:!0}),e.calcGridColWidth=n,e.calcGridItemPosition=function(t,e,i,o,a,s){var l=t.margin,u=t.containerPadding,c=t.rowHeight,f=n(t),h={};return s&&s.resizing?(h.width=Math.round(s.resizing.width),h.height=Math.round(s.resizing.height)):(h.width=r(o,f,l[0]),h.height=r(a,c,l[1])),s&&s.dragging?(h.top=Math.round(s.dragging.top),h.left=Math.round(s.dragging.left)):(h.top=Math.round((c+l[1])*i+u[1]),h.left=Math.round((f+l[0])*e+u[0])),h},e.calcGridItemWHPx=r,e.calcWH=function(t,e,r,o,a){var s=t.margin,l=t.maxRows,u=t.cols,c=t.rowHeight,f=n(t),h=Math.round((e+s[0])/(f+s[0])),d=Math.round((r+s[1])/(c+s[1]));return{w:h=i(h,0,u-o),h:d=i(d,0,l-a)}},e.calcXY=function(t,e,r,o,a){var s=t.margin,l=t.cols,u=t.rowHeight,c=t.maxRows,f=n(t),h=Math.round((r-s[0])/(f+s[0])),d=Math.round((e-s[1])/(u+s[1]));return{x:h=i(h,0,l-o),y:d=i(d,0,c-a)}},e.clamp=i},7135:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&d(t,e)}(m,e);var n,r,o,l,u=(n=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(r){var i=v(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return p(this,t)});function m(){var t;f(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(y(t=u.call.apply(u,[this].concat(n))),"state",{width:1280}),g(y(t),"elementRef",i.createRef()),g(y(t),"mounted",!1),g(y(t),"onWindowResize",(function(){if(t.mounted){var e=t.elementRef.current;e instanceof HTMLElement&&e.offsetWidth&&t.setState({width:e.offsetWidth})}})),t}return o=m,(l=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var e=this.props,n=e.measureBeforeMount,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,s);return n&&!this.mounted?i.createElement("div",{className:(0,a.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):i.createElement(t,c({innerRef:this.elementRef},r,this.state))}}])&&h(o.prototype,l),Object.defineProperty(o,"prototype",{writable:!1}),m}(i.Component),g(e,"defaultProps",{measureBeforeMount:!1}),g(e,"propTypes",{measureBeforeMount:o.default.bool}),n};var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=l(n(5697)),a=l(n(6010)),s=["measureBeforeMount"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1362:t=>{t.exports=function(t,e,n){return t===e||t.className===e.className&&n(t.style,e.style)&&t.width===e.width&&t.autoSize===e.autoSize&&t.cols===e.cols&&t.draggableCancel===e.draggableCancel&&t.draggableHandle===e.draggableHandle&&n(t.verticalCompact,e.verticalCompact)&&n(t.compactType,e.compactType)&&n(t.layout,e.layout)&&n(t.margin,e.margin)&&n(t.containerPadding,e.containerPadding)&&t.rowHeight===e.rowHeight&&t.maxRows===e.maxRows&&t.isBounded===e.isBounded&&t.isDraggable===e.isDraggable&&t.isResizable===e.isResizable&&t.allowOverlap===e.allowOverlap&&t.preventCollision===e.preventCollision&&t.useCSSTransforms===e.useCSSTransforms&&t.transformScale===e.transformScale&&t.isDroppable===e.isDroppable&&n(t.resizeHandles,e.resizeHandles)&&n(t.resizeHandle,e.resizeHandle)&&t.onLayoutChange===e.onLayoutChange&&t.onDragStart===e.onDragStart&&t.onDrag===e.onDrag&&t.onDragStop===e.onDragStop&&t.onResizeStart===e.onResizeStart&&t.onResize===e.onResize&&t.onResizeStop===e.onResizeStop&&t.onDrop===e.onDrop&&n(t.droppingItem,e.droppingItem)&&n(t.innerRef,e.innerRef)}},5651:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findOrGenerateResponsiveLayout=function(t,e,n,o,a,s){if(t[n])return(0,r.cloneLayout)(t[n]);for(var l=t[o],u=i(e),c=u.slice(u.indexOf(n)),f=0,h=c.length;f<h;f++){var d=c[f];if(t[d]){l=t[d];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},e.getBreakpointFromWidth=function(t,e){for(var n=i(t),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];e>t[s]&&(r=s)}return r},e.getColsFromBreakpoint=function(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]},e.sortBreakpoints=i;var r=n(7493);function i(t){return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))}},7493:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bottom=u,e.childrenEqual=function(t,e){return(0,r.default)(i.default.Children.map(t,(function(t){return null==t?void 0:t.key})),i.default.Children.map(e,(function(t){return null==t?void 0:t.key})))},e.cloneLayout=c,e.cloneLayoutItem=h,e.collides=p,e.compact=y,e.compactItem=m,e.compactType=function(t){var e=t||{},n=e.verticalCompact,r=e.compactType;return!1===n?null:r},e.correctBounds=_,e.fastPositionEqual=function(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height},e.fastRGLPropsEqual=void 0,e.getAllCollisions=x,e.getFirstCollision=w,e.getLayoutItem=b,e.getStatics=S,e.modifyLayout=f,e.moveElement=E,e.moveElementAwayFromCollision=C,e.noop=void 0,e.perc=function(t){return 100*t+"%"},e.setTopLeft=function(t){var e=t.top,n=t.left,r=t.width,i=t.height;return{top:"".concat(e,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.setTransform=function(t){var e=t.top,n=t.left,r=t.width,i=t.height,o="translate(".concat(n,"px,").concat(e,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.sortLayoutItems=k,e.sortLayoutItemsByColRow=T,e.sortLayoutItemsByRowCol=P,e.synchronizeLayoutWithChildren=function(t,e,n,r,o){t=t||[];var a=[];i.default.Children.forEach(e,(function(e){if(null!=(null==e?void 0:e.key)){var n=b(t,String(e.key));if(n)a.push(h(n));else{var r=e.props["data-grid"]||e.props._grid;r?a.push(h(s(s({},r),{},{i:e.key}))):a.push(h({w:1,h:1,x:0,y:u(a),i:String(e.key)}))}}}));var l=_(a,{cols:n});return o?l:y(l,r,n)},e.validateLayout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,i=t.length;r<i;r++){for(var o=t[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+e+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+e+"["+r+"].static must be a boolean!")}},e.withLayoutItem=function(t,e,n){var r=b(t,e);return r?[t=f(t,r=n(h(r))),r]:[t,null]};var r=o(n(2307)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e,n=0,r=0,i=t.length;r<i;r++)(e=t[r].y+t[r].h)>n&&(n=e);return n}function c(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=h(t[n]);return e}function f(t,e){for(var n=Array(t.length),r=0,i=t.length;r<i;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function h(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}var d=n(1362);function p(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function y(t,e,n){for(var r=S(t),i=k(t,e),o=Array(t.length),a=0,s=i.length;a<s;a++){var l=h(i[a]);l.static||(l=m(r,l,e,n,i),r.push(l)),o[t.indexOf(i[a])]=l,l.moved=!1}return o}e.fastRGLPropsEqual=d;var v={x:"w",y:"h"};function g(t,e,n,r){var i=v[r];e[r]+=1;for(var o=t.map((function(t){return t.i})).indexOf(e.i)+1;o<t.length;o++){var a=t[o];if(!a.static){if(a.y>e.y+e.h)break;p(e,a)&&g(t,a,n+e[i],r)}}e[r]=n}function m(t,e,n,r,i){var o,a="horizontal"===n;if("vertical"===n)for(e.y=Math.min(u(t),e.y);e.y>0&&!w(t,e);)e.y--;else if(a)for(;e.x>0&&!w(t,e);)e.x--;for(;o=w(t,e);)a?g(i,e,o.x+o.w,"x"):g(i,e,o.y+o.h,"y"),a&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function _(t,e){for(var n=S(t),r=0,i=t.length;r<i;r++){var o=t[r];if(o.x+o.w>e.cols&&(o.x=e.cols-o.w),o.x<0&&(o.x=0,o.w=e.cols),o.static)for(;w(n,o);)o.y++;else n.push(o)}return t}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function w(t,e){for(var n=0,r=t.length;n<r;n++)if(p(t[n],e))return t[n]}function x(t,e){return t.filter((function(t){return p(t,e)}))}function S(t){return t.filter((function(t){return t.static}))}function E(t,e,n,r,i,o,a,s,l){if(e.static&&!0!==e.isDraggable)return t;if(e.y===r&&e.x===n)return t;"Moving element ".concat(e.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(e.x,",").concat(e.y,"]");var u=e.x,f=e.y;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=!0;var h=k(t,a);("vertical"===a&&"number"==typeof r?f>=r:"horizontal"===a&&"number"==typeof n&&u>=n)&&(h=h.reverse());var d=x(h,e),p=d.length>0;if(p&&l)return c(t);if(p&&o)return"Collision prevented on ".concat(e.i,", reverting."),e.x=u,e.y=f,e.moved=!1,t;for(var y=0,v=d.length;y<v;y++){var g=d[y];"Resolving collision between ".concat(e.i," at [").concat(e.x,",").concat(e.y,"] and ").concat(g.i," at [").concat(g.x,",").concat(g.y,"]"),g.moved||(t=g.static?C(t,g,e,i,a,s):C(t,e,g,i,a,s))}return t}function C(t,e,n,r,i,o){var a="horizontal"===i,s="horizontal"!==i,l=e.static;if(r){r=!1;var u={x:a?Math.max(e.x-n.w,0):n.x,y:s?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!w(t,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),E(t,n,a?u.x:void 0,s?u.y:void 0,r,l,i,o)}return E(t,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i,o)}function k(t,e){return"horizontal"===e?T(t):"vertical"===e?P(t):t}function P(t){return t.slice(0).sort((function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1}))}function T(t){return t.slice(0).sort((function(t,e){return t.x>e.x||t.x===e.x&&t.y>e.y?1:-1}))}e.noop=function(){}},9968:(t,e,n)=>{t.exports=n(9580).default,t.exports.utils=n(7493),t.exports.Responsive=n(3973).default,t.exports.Responsive.utils=n(5651),t.exports.WidthProvider=n(7135).default},722:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),a=(i=n(9590))&&i.__esModule?i:{default:i},s=n(5741);function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(l,t);var e,n,r,i,s=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(i){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=s.call.apply(s,[this].concat(n))),"mounted",!1),v(p(t),"isReady",!1),v(p(t),"isPlaying",!1),v(p(t),"isLoading",!0),v(p(t),"loadOnReady",null),v(p(t),"startOnPlay",!0),v(p(t),"seekOnPlay",null),v(p(t),"onDurationCalled",!1),v(p(t),"handlePlayerMount",(function(e){t.player=e,t.player.load(t.props.url),t.progress()})),v(p(t),"getInternalPlayer",(function(e){return t.player?t.player[e]:null})),v(p(t),"progress",(function(){if(t.props.url&&t.player&&t.isReady){var e=t.getCurrentTime()||0,n=t.getSecondsLoaded(),r=t.getDuration();if(r){var i={playedSeconds:e,played:e/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===t.prevPlayed&&i.loadedSeconds===t.prevLoaded||t.props.onProgress(i),t.prevPlayed=i.playedSeconds,t.prevLoaded=i.loadedSeconds}}t.progressTimeout=setTimeout(t.progress,t.props.progressFrequency||t.props.progressInterval)})),v(p(t),"handleReady",(function(){if(t.mounted){t.isReady=!0,t.isLoading=!1;var e=t.props,n=e.onReady,r=e.playing,i=e.volume,o=e.muted;n(),o||null===i||t.player.setVolume(i),t.loadOnReady?(t.player.load(t.loadOnReady,!0),t.loadOnReady=null):r&&t.player.play(),t.handleDurationCheck()}})),v(p(t),"handlePlay",(function(){t.isPlaying=!0,t.isLoading=!1;var e=t.props,n=e.onStart,r=e.onPlay,i=e.playbackRate;t.startOnPlay&&(t.player.setPlaybackRate&&1!==i&&t.player.setPlaybackRate(i),n(),t.startOnPlay=!1),r(),t.seekOnPlay&&(t.seekTo(t.seekOnPlay),t.seekOnPlay=null),t.handleDurationCheck()})),v(p(t),"handlePause",(function(e){t.isPlaying=!1,t.isLoading||t.props.onPause(e)})),v(p(t),"handleEnded",(function(){var e=t.props,n=e.activePlayer,r=e.loop,i=e.onEnded;n.loopOnEnded&&r&&t.seekTo(0),r||(t.isPlaying=!1,i())})),v(p(t),"handleError",(function(){var e;t.isLoading=!1,(e=t.props).onError.apply(e,arguments)})),v(p(t),"handleDurationCheck",(function(){clearTimeout(t.durationCheckTimeout);var e=t.getDuration();e?t.onDurationCalled||(t.props.onDuration(e),t.onDurationCalled=!0):t.durationCheckTimeout=setTimeout(t.handleDurationCheck,100)})),v(p(t),"handleLoaded",(function(){t.isLoading=!1})),t}return e=l,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,l=n.playbackRate,u=n.pip,c=n.loop,f=n.activePlayer;if(!(0,a.default)(t.url,r)){if(this.isLoading&&!f.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}t.playing||!i||this.isPlaying||this.player.play(),t.playing&&!i&&this.isPlaying&&this.player.pause(),!t.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&null!==o&&this.player.setVolume(o),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return e.player.setVolume(o)})))),t.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(t,e){var n=this;if(!this.isReady&&0!==t)return this.seekOnPlay=t,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(e?"fraction"===e:t>0&&t<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*t):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(t)}},{key:"render",value:function(){var t=this.props.activePlayer;return t?o.default.createElement(t,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(e.prototype,n),l}(o.Component);e.default=g,v(g,"displayName","Player"),v(g,"propTypes",s.propTypes),v(g,"defaultProps",s.defaultProps)},3855:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}(n(7294));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y="64px",v={},g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(g,t);var e,n,r,o,a=(r=g,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){var t;l(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(h(t=a.call.apply(a,[this].concat(n))),"mounted",!1),p(h(t),"state",{image:null}),p(h(t),"handleKeyPress",(function(e){"Enter"!==e.key&&" "!==e.key||t.props.onClick()})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.url,r=e.light;t.url===n&&t.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(t){var e=this,n=t.url,r=t.light;if("string"!=typeof r){if(!v[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(t){return t.json()})).then((function(t){if(t.thumbnail_url&&e.mounted){var r=t.thumbnail_url.replace("height=100","height=480");e.setState({image:r}),v[n]=r}}));this.setState({image:v[n]})}else this.setState({image:r})}},{key:"render",value:function(){var t=this.props,e=t.onClick,n=t.playIcon,r=t.previewTabIndex,o=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:y,width:y,height:y},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:e,tabIndex:r,onKeyPress:this.handleKeyPress},n||u)}}])&&u(e.prototype,n),g}(i.Component);e.default=g},390:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createReactPlayer=void 0;var r=C(n(7294)),i=c(n(9996)),o=c(n(845)),a=c(n(9590)),s=n(5741),l=n(8045),u=c(n(722));function c(t){return t&&t.__esModule?t:{default:t}}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}function b(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return E=function(){return t},t}function C(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!=typeof t)return{default:t};var e=E();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var k=(0,r.lazy)((function(){return Promise.resolve().then((function(){return C(n(3855))}))})),P="undefined"!=typeof window&&window.document,T=void 0!==n.g&&n.g.window&&n.g.window.document,R=Object.keys(s.propTypes),A=P||T?r.Suspense:function(){return null},O=[];e.createReactPlayer=function(t,e){var n,c;return c=n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(C,n);var c,f,h,v,E=(h=C,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(h);if(v){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function C(){var n;g(this,C);for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return S(w(n=E.call.apply(E,[this].concat(c))),"state",{showPreview:!!n.props.light}),S(w(n),"references",{wrapper:function(t){n.wrapper=t},player:function(t){n.player=t}}),S(w(n),"handleClickPreview",(function(t){n.setState({showPreview:!1}),n.props.onClickPreview(t)})),S(w(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(w(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(w(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(w(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(w(n),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(t):null})),S(w(n),"seekTo",(function(t,e){if(!n.player)return null;n.player.seekTo(t,e)})),S(w(n),"handleReady",(function(){n.props.onReady(w(n))})),S(w(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(O,y(t));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return e||null}))),S(w(n),"getConfig",(0,o.default)((function(t,e){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[e]||{},r,r[e]||{}])}))),S(w(n),"getAttributes",(0,o.default)((function(t){return(0,l.omit)(n.props,R)}))),S(w(n),"renderActivePlayer",(function(t){if(!t)return null;var e=n.getActivePlayer(t);if(!e)return null;var i=n.getConfig(t,e.key);return r.default.createElement(u.default,p({},n.props,{key:e.key,ref:n.references.player,config:i,activePlayer:e.lazyPlayer||e,onReady:n.handleReady}))})),n}return c=C,f=[{key:"shouldComponentUpdate",value:function(t,e){return!(0,a.default)(this.props,t)||!(0,a.default)(this.state,e)}},{key:"componentDidUpdate",value:function(t){var e=this.props.light;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(t){if(!t)return null;var e=this.props,n=e.light,i=e.playIcon,o=e.previewTabIndex;return r.default.createElement(k,{url:t,light:n,playIcon:i,previewTabIndex:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.style,i=t.width,o=t.height,a=t.fallback,s=t.wrapper,l=this.state.showPreview,u=this.getAttributes(e);return r.default.createElement(s,p({ref:this.references.wrapper,style:d(d({},n),{},{width:i,height:o})},u),r.default.createElement(A,{fallback:a},l?this.renderPreview(e):this.renderActivePlayer(e)))}}],f&&m(c.prototype,f),C}(r.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",s.propTypes),S(n,"defaultProps",s.defaultProps),S(n,"addCustomPlayer",(function(t){O.push(t)})),S(n,"removeCustomPlayers",(function(){O.length=0})),S(n,"canPlay",(function(e){for(var n=0,r=[].concat(O,y(t));n<r.length;n++)if(r[n].canPlay(e))return!0;return!1})),S(n,"canEnablePIP",(function(e){for(var n=0,r=[].concat(O,y(t));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(e))return!0}return!1})),c}},2004:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=n(6497))&&r.__esModule?r:{default:r},o=n(390),a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);e.Z=s},1776:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var r=n(8045);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;e.MATCH_URL_YOUTUBE=o;var a=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;e.MATCH_URL_SOUNDCLOUD=a;var s=/vimeo\.com\/.+/;e.MATCH_URL_VIMEO=s;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;e.MATCH_URL_FACEBOOK=l;var u=/^https?:\/\/fb\.watch\/.+$/;e.MATCH_URL_FACEBOOK_WATCH=u;var c=/streamable\.com\/([a-z0-9]+)$/;e.MATCH_URL_STREAMABLE=c;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;e.MATCH_URL_WISTIA=f;var h=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;e.MATCH_URL_TWITCH_VIDEO=h;var d=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;e.MATCH_URL_TWITCH_CHANNEL=d;var p=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;e.MATCH_URL_DAILYMOTION=p;var y=/mixcloud\.com\/([^/]+\/[^/]+)/;e.MATCH_URL_MIXCLOUD=y;var v=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;e.MATCH_URL_VIDYARD=v;var g=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;e.MATCH_URL_KALTURA=g;var m=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;e.AUDIO_EXTENSIONS=m;var _=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;e.VIDEO_EXTENSIONS=_;var b=/\.(m3u8)($|\?)/i;e.HLS_EXTENSIONS=b;var w=/\.(mpd)($|\?)/i;e.DASH_EXTENSIONS=w;var x=/\.(flv)($|\?)/i;e.FLV_EXTENSIONS=x;var S={youtube:function(t){return t instanceof Array?t.every((function(t){return o.test(t)})):o.test(t)},soundcloud:function(t){return a.test(t)&&!m.test(t)},vimeo:function(t){return s.test(t)&&!_.test(t)&&!b.test(t)},facebook:function(t){return l.test(t)||u.test(t)},streamable:function(t){return c.test(t)},wistia:function(t){return f.test(t)},twitch:function(t){return h.test(t)||d.test(t)},dailymotion:function(t){return p.test(t)},mixcloud:function(t){return y.test(t)},vidyard:function(t){return v.test(t)},kaltura:function(t){return g.test(t)},file:function t(e){if(e instanceof Array){var n,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"==typeof a&&t(a))return!0;if(t(a.src))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(e)&&!(0,r.isBlobUrl)(e))||m.test(e)||_.test(e)||b.test(e)||w.test(e)||x.test(e)}};e.canPlay=S},6807:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(s){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){var t;f(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(y(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),g(y(t),"onDurationChange",(function(){var e=t.getDuration();t.props.onDuration(e)})),g(y(t),"mute",(function(){t.callPlayer("setMuted",!0)})),g(y(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),g(y(t),"ref",(function(e){t.container=e})),t}return e=m,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e,n,r=this,i=this.props,s=i.controls,l=i.config,f=i.onError,h=i.playing,d=(e=t.match(a.MATCH_URL_DAILYMOTION),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];this.player?this.player.load(d,{start:(0,o.parseStartTime)(t),autoplay:h}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(t){return t.player})).then((function(e){if(r.container){var n=e.player;r.player=new n(r.container,{width:"100%",height:"100%",video:d,params:u({controls:s,autoplay:r.props.playing,mute:r.props.muted,start:(0,o.parseStartTime)(t),origin:window.location.origin},l.params),events:{apiready:r.props.onReady,seeked:function(){return r.props.onSeek(r.player.currentTime)},video_end:r.props.onEnded,durationchange:r.onDurationChange,pause:r.props.onPause,playing:r.props.onPlay,waiting:r.props.onBuffer,error:function(t){return f(t)}}})}}),f)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&h(e.prototype,n),m}(i.Component);e.default=m,g(m,"displayName","DailyMotion"),g(m,"canPlay",a.canPlay.dailymotion),g(m,"loopOnEnded",!0)},1972:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",m="facebook-player-",_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(_,t);var e,n,r,a,s=(r=_,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function _(){var t;u(this,_);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"playerID",t.props.config.playerId||"".concat(m).concat((0,o.randomString)())),y(d(t),"mute",(function(){t.callPlayer("mute")})),y(d(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=_,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;e?(0,o.getSDK)(v,"FB",g).then((function(t){return t.XFBML.parse()})):(0,o.getSDK)(v,"FB",g).then((function(t){t.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),t.Event.subscribe("xfbml.render",(function(t){n.props.onLoaded()})),t.Event.subscribe("xfbml.ready",(function(t){"video"===t.type&&t.id===n.playerID&&(n.player=t.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},t))}}])&&c(e.prototype,n),_}(i.Component);e.default=_,y(_,"displayName","Facebook"),y(_,"canPlay",a.canPlay.facebook),y(_,"loopOnEnded",!0)},4926:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="undefined"!=typeof navigator,g=v&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,m=v&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,_=/www\.dropbox\.com\/.+/,b=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,s,v=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){var t;u(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=v.call.apply(v,[this].concat(n))),"onReady",(function(){var e;return(e=t.props).onReady.apply(e,arguments)})),y(d(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),y(d(t),"onBuffer",(function(){var e;return(e=t.props).onBuffer.apply(e,arguments)})),y(d(t),"onBufferEnd",(function(){var e;return(e=t.props).onBufferEnd.apply(e,arguments)})),y(d(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),y(d(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),y(d(t),"onError",(function(){var e;return(e=t.props).onError.apply(e,arguments)})),y(d(t),"onEnablePIP",(function(){var e;return(e=t.props).onEnablePIP.apply(e,arguments)})),y(d(t),"onDisablePIP",(function(e){var n=t.props,r=n.onDisablePIP,i=n.playing;r(e),i&&t.play()})),y(d(t),"onPresentationModeChange",(function(e){if(t.player&&(0,o.supportsWebKitPresentationMode)(t.player)){var n=t.player.webkitPresentationMode;"picture-in-picture"===n?t.onEnablePIP(e):"inline"===n&&t.onDisablePIP(e)}})),y(d(t),"onSeek",(function(e){t.props.onSeek(e.target.currentTime)})),y(d(t),"mute",(function(){t.player.muted=!0})),y(d(t),"unmute",(function(){t.player.muted=!1})),y(d(t),"renderSourceElement",(function(t,e){return"string"==typeof t?i.default.createElement("source",{key:e,src:t}):i.default.createElement("source",l({key:e},t))})),y(d(t),"renderTrack",(function(t,e){return i.default.createElement("track",l({key:e},t))})),y(d(t),"ref",(function(e){t.player&&(t.prevPlayer=t.player),t.player=e})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),m&&this.player.load()}},{key:"componentDidUpdate",value:function(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url===t.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(t){var e=this.props,n=e.url,r=e.playsinline;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||t.addEventListener("canplay",this.onReady),r&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(t,e){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(e)||t.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(t){return!t.config.forceVideo&&!t.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio)}},{key:"shouldUseHLS",value:function(t){return!!this.props.config.forceHLS||!m&&(a.HLS_EXTENSIONS.test(t)||b.test(t))}},{key:"shouldUseDASH",value:function(t){return a.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(t){return a.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}},{key:"load",value:function(t){var e=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(e.hls=new n(i),e.hls.on(n.Events.MANIFEST_PARSED,(function(){e.props.onReady()})),e.hls.on(n.Events.ERROR,(function(t,r){e.props.onError(t,r,e.hls,n)})),b.test(t)){var r=t.match(b)[1];e.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else e.hls.loadSource(t);e.hls.attachMedia(e.player),e.props.onLoaded()})),this.shouldUseDASH(t)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){e.dash=n.MediaPlayer().create(),e.dash.initialize(e.player,t,e.props.playing),e.dash.on("error",e.props.onError),parseInt(a)<3?e.dash.getDebug().setLogToBrowserConsole(!1):e.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),e.props.onLoaded()})),this.shouldUseFLV(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){e.flv=n.createPlayer({type:"flv",url:t}),e.flv.attachMediaElement(e.player),e.flv.load(),e.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,o.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var t=this.player.play();t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(t){this.player.currentTime=t}},{key:"setVolume",value:function(t){this.player.volume=t}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(t){this.player.playbackRate=t}},{key:"getDuration",value:function(){if(!this.player)return null;var t=this.player,e=t.duration,n=t.seekable;return e===1/0&&n.length>0?n.end(n.length-1):e}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var t=this.player.buffered;if(0===t.length)return 0;var e=t.end(t.length-1),n=this.getDuration();return e>n?n:e}},{key:"getSource",value:function(t){var e=this.shouldUseHLS(t),n=this.shouldUseDASH(t),r=this.shouldUseFLV(t);if(!(t instanceof Array||(0,o.isMediaStream)(t)||e||n||r))return _.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.playing,r=t.loop,o=t.controls,a=t.muted,s=t.config,u=t.width,c=t.height,f=this.shouldUseAudio(this.props)?"audio":"video",h={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(f,l({ref:this.ref,src:this.getSource(e),style:h,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),e instanceof Array&&e.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(e.prototype,n),g}(i.Component);e.default=w,y(w,"displayName","FilePlayer"),y(w,"canPlay",a.canPlay.file)},3911:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(y,t);var e,n,r,a,s=(r=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(a){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function y(){var t;l(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(h(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),p(h(t),"duration",null),p(h(t),"currentTime",null),p(h(t),"secondsLoaded",null),p(h(t),"mute",(function(){t.callPlayer("mute")})),p(h(t),"unmute",(function(){t.callPlayer("unmute")})),p(h(t),"ref",(function(e){t.iframe=e})),t}return e=y,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.on("ready",(function(){e.player.isReady=!0,e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.player.setLoop(e.props.loop),e.props.muted&&e.player.mute(),setTimeout((function(){e.props.onReady()}))})))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(e.prototype,n),y}(i.Component);e.default=y,p(y,"displayName","Kaltura"),p(y,"canPlay",a.canPlay.kaltura)},143:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,s,l=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function g(){var t;c(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"duration",null),v(p(t),"currentTime",null),v(p(t),"secondsLoaded",null),v(p(t),"mute",(function(){})),v(p(t),"unmute",(function(){})),v(p(t),"ref",(function(e){t.iframe=e})),t}return e=g,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(t){e.player=t.PlayerWidget(e.iframe),e.player.ready.then((function(){e.player.events.play.on(e.props.onPlay),e.player.events.pause.on(e.props.onPause),e.player.events.ended.on(e.props.onEnded),e.player.events.error.on(e.props.error),e.player.events.progress.on((function(t,n){e.currentTime=t,e.duration=n})),e.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.config,r=e.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&f(e.prototype,n),g}(i.Component);e.default=g,v(g,"displayName","Mixcloud"),v(g,"canPlay",a.canPlay.mixcloud),v(g,"loopOnEnded",!0)},2648:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(l,t);var e,n,r,a,s=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(a){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"duration",null),v(p(t),"currentTime",null),v(p(t),"fractionLoaded",null),v(p(t),"mute",(function(){t.setVolume(0)})),v(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),v(p(t),"ref",(function(e){t.iframe=e})),t}return e=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;e||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(t){n.currentTime=t.currentPosition/1e3,n.fractionLoaded=t.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(t){return n.props.onError(t)}))),n.player.load(t,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(t){n.duration=t/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",1e3*t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:t,frameBorder:0,allow:"autoplay"})}}])&&f(e.prototype,n),l}(i.Component);e.default=g,v(g,"displayName","SoundCloud"),v(g,"canPlay",a.canPlay.soundcloud),v(g,"loopOnEnded",!0)},993:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(v,t);var e,n,r,s,y=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){var t;l(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(h(t=y.call.apply(y,[this].concat(n))),"callPlayer",o.callPlayer),p(h(t),"duration",null),p(h(t),"currentTime",null),p(h(t),"secondsLoaded",null),p(h(t),"mute",(function(){t.callPlayer("mute")})),p(h(t),"unmute",(function(){t.callPlayer("unmute")})),p(h(t),"ref",(function(e){t.iframe=e})),t}return e=v,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.setLoop(e.props.loop),e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.props.muted&&e.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(t),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&u(e.prototype,n),v}(i.Component);e.default=y,p(y,"displayName","Streamable"),p(y,"canPlay",a.canPlay.streamable)},9482:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="twitch-player-",g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(m,t);var e,n,r,s,g=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function m(){var t;u(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=g.call.apply(g,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"playerID",t.props.config.playerId||"".concat(v).concat((0,o.randomString)())),y(d(t),"mute",(function(){t.callPlayer("setMuted",!0)})),y(d(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playsinline,s=r.onError,u=r.config,c=r.controls,f=a.MATCH_URL_TWITCH_CHANNEL.test(t),h=f?t.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:t.match(a.MATCH_URL_TWITCH_VIDEO)[1];e?f?this.player.setChannel(h):this.player.setVideo("v"+h):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({video:f?"":h,channel:f?h:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||c,time:(0,o.parseStartTime)(t)},u.options));var r=e.Player,a=r.READY,s=r.PLAYING,d=r.PAUSE,p=r.ENDED,v=r.ONLINE,g=r.OFFLINE;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(d,n.props.onPause),n.player.addEventListener(p,n.props.onEnded),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(g,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&c(e.prototype,n),m}(i.Component);e.default=g,y(g,"displayName","Twitch"),y(g,"canPlay",a.canPlay.twitch),y(g,"loopOnEnded",!0)},6596:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,s,v=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){var t;u(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=v.call.apply(v,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"mute",(function(){t.setVolume(0)})),y(d(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(d(t),"ref",(function(e){t.container=e})),t}return e=g,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.config,s=n.onError,u=n.onDuration,c=t&&t.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(t){e.container&&(t.api.addReadyListener((function(t,n){e.player=n,e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seek",e.props.onSeek),e.player.on("playerComplete",e.props.onEnded)}),c),t.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({uuid:c,container:e.container,autoplay:r?1:0},i.options)),t.api.getPlayerMetadata(c).then((function(t){e.duration=t.length_in_seconds,u(t.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackSpeed",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}],n&&c(e.prototype,n),g}(i.Component);e.default=v,y(v,"displayName","Vidyard"),y(v,"canPlay",a.canPlay.vidyard)},868:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,a,s=(r=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){var t;u(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"duration",null),y(d(t),"currentTime",null),y(d(t),"secondsLoaded",null),y(d(t),"mute",(function(){t.setVolume(0)})),y(d(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(d(t),"ref",(function(e){t.container=e})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){e.container&&(e.player=new n.Player(e.container,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({url:t,autoplay:e.props.playing,muted:e.props.muted,loop:e.props.loop,playsinline:e.props.playsinline,controls:e.props.controls},e.props.config.playerOptions)),e.player.ready().then((function(){var t=e.container.querySelector("iframe");t.style.width="100%",t.style.height="100%"})).catch(e.props.onError),e.player.on("loaded",(function(){e.props.onReady(),e.refreshDuration()})),e.player.on("play",(function(){e.props.onPlay(),e.refreshDuration()})),e.player.on("pause",e.props.onPause),e.player.on("seeked",(function(t){return e.props.onSeek(t.seconds)})),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.seconds;e.currentTime=n})),e.player.on("progress",(function(t){var n=t.seconds;e.secondsLoaded=n})),e.player.on("bufferstart",e.props.onBuffer),e.player.on("bufferend",e.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var t=this;this.player.getDuration().then((function(e){t.duration=e}))}},{key:"play",value:function(){var t=this.callPlayer("play");t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:t})}}],n&&c(e.prototype,n),v}(i.Component);e.default=v,y(v,"displayName","Vimeo"),y(v,"canPlay",a.canPlay.vimeo),y(v,"forceLoad",!0)},8018:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="wistia-player-",m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){var t;c(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"playerID",t.props.config.playerId||"".concat(g).concat((0,o.randomString)())),v(p(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),v(p(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),v(p(t),"onSeek",(function(){var e;return(e=t.props).onSeek.apply(e,arguments)})),v(p(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),v(p(t),"mute",(function(){t.callPlayer("mute")})),v(p(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,l=n.config,c=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(t){l.customControls&&l.customControls.forEach((function(e){return t.defineControl(e)})),window._wq=window._wq||[],window._wq.push({id:e.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},l.options),onReady:function(t){e.player=t,e.unbind(),e.player.bind("play",e.onPlay),e.player.bind("pause",e.onPause),e.player.bind("seek",e.onSeek),e.player.bind("end",e.onEnded),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(t){this.callPlayer("time",t)}},{key:"setVolume",value:function(t){this.callPlayer("volume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("playbackRate",t)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.url,e=t&&t.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(e);return i.default.createElement("div",{id:this.playerID,key:e,className:n,style:{width:"100%",height:"100%"}})}}],n&&f(e.prototype,n),m}(i.Component);e.default=m,v(m,"displayName","Wistia"),v(m,"canPlay",a.canPlay.wistia),v(m,"loopOnEnded",!0)},356:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,b=/user\/([a-zA-Z0-9_-]+)\/?/,w=/youtube-nocookie\.com/,x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(f,t);var e,n,r,s,l=(r=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function f(){var t;h(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(v(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),m(v(t),"parsePlaylist",(function(e){return e instanceof Array?{listType:"playlist",playlist:e.map(t.getID).join(",")}:_.test(e)?{listType:"playlist",list:c(e.match(_),2)[1].replace(/^UC/,"UU")}:b.test(e)?{listType:"user_uploads",list:c(e.match(b),2)[1]}:{}})),m(v(t),"onStateChange",(function(e){var n=e.data,r=t.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,f=r.config,h=f.playerVars,d=f.onUnstarted,p=window.YT.PlayerState,y=p.UNSTARTED,v=p.PLAYING,g=p.PAUSED,m=p.BUFFERING,_=p.ENDED,b=p.CUED;if(n===y&&d(),n===v&&(i(),s()),n===g&&o(),n===m&&a(),n===_){var w=!!t.callPlayer("getPlaylist");c&&!w&&(h.start?t.seekTo(h.start):t.play()),l()}n===b&&u()})),m(v(t),"mute",(function(){t.callPlayer("mute")})),m(v(t),"unmute",(function(){t.callPlayer("unMute")})),m(v(t),"ref",(function(e){t.container=e})),t}return e=f,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(t){return!t||t instanceof Array||_.test(t)?null:t.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,l=r.controls,c=r.loop,f=r.config,h=r.onError,d=f.playerVars,p=f.embedOptions,y=this.getID(t);if(e)return _.test(t)||b.test(t)||t instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(t)):void this.player.cueVideoById({videoId:y,startSeconds:(0,o.parseStartTime)(t)||d.start,endSeconds:(0,o.parseEndTime)(t)||d.end});(0,o.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(t){return t.loaded})).then((function(e){n.container&&(n.player=new e.Player(n.container,u({width:"100%",height:"100%",videoId:y,playerVars:u(u({autoplay:i?1:0,mute:a?1:0,controls:l?1:0,start:(0,o.parseStartTime)(t),end:(0,o.parseEndTime)(t),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(t)),d),events:{onReady:function(){c&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(t){return h(t.data)}},host:w.test(t)?"https://www.youtube-nocookie.com":void 0},p)))}),h),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",t),this.props.playing||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&d(e.prototype,n),f}(i.Component);e.default=x,m(x,"displayName","YouTube"),m(x,"canPlay",a.canPlay.youtube)},6497:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7294),i=n(8045),o=n(1776);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var u=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(356))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(2648))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(868))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(1972))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(993))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(8018))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(9482))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6807))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(143))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6596))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(3911))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(t){return o.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(t)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(4926))}))}))}];e.default=u},5741:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r},o=i.default.string,a=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,f=i.default.object,h=i.default.func,d=i.default.node,p={url:u([o,l,f]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:u([o,s]),height:u([o,s]),style:f,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:u([a,o]),playIcon:d,previewTabIndex:s,fallback:d,wrapper:u([o,h,c({render:h.isRequired})]),config:c({soundcloud:c({options:f}),youtube:c({playerVars:f,embedOptions:f,onUnstarted:h}),facebook:c({appId:o,version:o,playerId:o,attributes:f}),dailymotion:c({params:f}),vimeo:c({playerOptions:f}),file:c({attributes:f,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:f,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:c({options:f,playerId:o,customControls:l}),mixcloud:c({options:f}),twitch:c({options:f,playerId:o}),vidyard:c({options:f})}),onReady:h,onStart:h,onPlay:h,onPause:h,onBuffer:h,onBufferEnd:h,onEnded:h,onError:h,onDuration:h,onSeek:h,onProgress:h,onClickPreview:h,onEnablePIP:h,onDisablePIP:h};e.propTypes=p;var y=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:y,onStart:y,onPlay:y,onPause:y,onBuffer:y,onBufferEnd:y,onEnded:y,onError:y,onDuration:y,onSeek:y,onProgress:y,onClickPreview:y,onEnablePIP:y,onDisablePIP:y};e.defaultProps=v},8045:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(t){return f(t,s)},e.parseEndTime=function(t){return f(t,l)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},e.getSDK=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=h(e);return a&&i(a)?Promise.resolve(a):new Promise((function(r,i){if(d[t])d[t].push({resolve:r,reject:i});else{d[t]=[{resolve:r,reject:i}];var a=function(e){d[t].forEach((function(t){return t.resolve(e)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(h(e))}}o(t,(function(r){r?(d[t].forEach((function(t){return t.reject(r)})),d[t]=null):n||a(h(e))}))}}))},e.getConfig=function(t,e){return(0,i.default)(e.config,t.config)},e.omit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(e=[]).concat.apply(e,r),a={},s=Object.keys(t),l=0,u=s;l<u.length;l++){var c=u[l];-1===o.indexOf(c)&&(a[c]=t[c])}return a},e.callPlayer=function(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c – ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=this.player)[t].apply(e,i)},e.isMediaStream=function(t){return"undefined"!=typeof window&&void 0!==window.MediaStream&&t instanceof window.MediaStream},e.isBlobUrl=function(t){return/^blob:/.test(t)},e.supportsWebKitPresentationMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),e=!1===/iPhone|iPod/.test(navigator.userAgent);return t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSetPresentationMode&&e};var r=o(n(9090)),i=o(n(9996));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,u=/(\d+)(h|m|s)/g,c=/^\d+$/;function f(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(u))return function(t){for(var e,n,r=0,i=u.exec(t);null!==i;){var o=(n=3,function(t){if(Array.isArray(t))return t}(e=i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[1],l=o[2];"h"===l&&(r+=60*parseInt(s,10)*60),"m"===l&&(r+=60*parseInt(s,10)),"s"===l&&(r+=parseInt(s,10)),i=u.exec(t)}return r}(r);if(c.test(r))return parseInt(r)}}}function h(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var d={}},2827:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=n(1193),o=n(9069),a=n(448),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){var e,n;function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleRefs={},e.lastHandleRect=null,e.slack=null,e}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n);var l=a.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(t,e){var n=this.props,r=n.minConstraints,i=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!i&&!o)return[t,e];if(o){var a=this.props.width/this.props.height,s=t-this.props.width,l=e-this.props.height;Math.abs(s)>Math.abs(l*a)?e=t/a:t=e*a}var u=t,c=e,f=this.slack||[0,0],h=f[0],d=f[1];return t+=h,e+=d,r&&(t=Math.max(r[0],t),e=Math.max(r[1],e)),i&&(t=Math.min(i[0],t),e=Math.min(i[1],e)),this.slack=[h+(u-t),d+(c-e)],[t,e]},l.resizeHandler=function(t,e){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY;"onResizeStart"===t&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==e&&"s"!==e,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==e&&"w"!==e;if(l||u){var c=e[0],f=e[e.length-1],h=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===f&&(a+=h.left-n.lastHandleRect.left),"n"===c&&(s+=h.top-n.lastHandleRect.top)),n.lastHandleRect=h,"w"===f&&(a=-a),"n"===c&&(s=-s);var d=n.props.width+(l?a/n.props.transformScale:0),p=n.props.height+(u?s/n.props.transformScale:0),y=n.runConstraints(d,p);d=y[0],p=y[1];var v=d!==n.props.width||p!==n.props.height,g="function"==typeof n.props[t]?n.props[t]:null;g&&!("onResize"===t&&!v)&&(null==r.persist||r.persist(),g(r,{node:o,size:{width:d,height:p},handle:e})),"onResizeStop"===t&&n.resetData()}}},l.renderResizeHandle=function(t,e){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:e});if("function"==typeof n)return n(t,e);var i=f({ref:e},"string"==typeof n.type?{}:{handleAxis:t});return r.cloneElement(n,i)},l.render=function(){var t=this,e=this.props,n=e.children,a=e.className,l=e.draggableOpts,c=(e.width,e.height,e.handle,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,e.resizeHandles),h=(e.transformScale,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,s));return(0,o.cloneElement)(n,f(f({},h),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map((function(e){var n,o=null!=(n=t.handleRefs[e])?n:t.handleRefs[e]=r.createRef();return r.createElement(i.DraggableCore,u({},l,{nodeRef:o,key:"resizableHandle-"+e,onStop:t.resizeHandler("onResizeStop",e),onStart:t.resizeHandler("onResizeStart",e),onDrag:t.resizeHandler("onResize",e)}),t.renderResizeHandle(e,o))})))}))},a}(r.Component);e.default=p,p.propTypes=a.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},8735:(t,e,n)=>{"use strict";e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=l(n(5697)),o=l(n(2827)),a=n(448),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var y=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={width:e.props.width,height:e.props.height,propsWidth:e.props.width,propsHeight:e.props.height},e.onResize=function(t,n){var r=n.size;e.props.onResize?(null==t.persist||t.persist(),e.setState(r,(function(){return e.props.onResize&&e.props.onResize(t,n)}))):e.setState(r)},e}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n),i.getDerivedStateFromProps=function(t,e){return e.propsWidth!==t.width||e.propsHeight!==t.height?{width:t.width,height:t.height,propsWidth:t.width,propsHeight:t.height}:null},i.prototype.render=function(){var t=this.props,e=t.handle,n=t.handleSize,i=(t.onResize,t.onResizeStart),a=t.onResizeStop,l=t.draggableOpts,u=t.minConstraints,f=t.maxConstraints,d=t.lockAspectRatio,p=t.axis,y=(t.width,t.height,t.resizeHandles),v=t.style,g=t.transformScale,m=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s);return r.createElement(o.default,{axis:p,draggableOpts:l,handle:e,handleSize:n,height:this.state.height,lockAspectRatio:d,maxConstraints:f,minConstraints:u,onResizeStart:i,onResize:this.onResize,onResizeStop:a,resizeHandles:y,transformScale:g,width:this.state.width},r.createElement("div",c({},m,{style:h(h({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},i}(r.Component);e.default=y,y.propTypes=h(h({},a.resizableProps),{},{children:i.default.element})},448:(t,e,n)=>{"use strict";e.__esModule=!0,e.resizableProps=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r};n(1193);var o={axis:i.default.oneOf(["both","x","y","none"]),className:i.default.string,children:i.default.element.isRequired,draggableOpts:i.default.shape({allowAnyClick:i.default.bool,cancel:i.default.string,children:i.default.node,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:i.default.node,grid:i.default.arrayOf(i.default.number),handle:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number}),height:i.default.number.isRequired,handle:i.default.oneOfType([i.default.node,i.default.func]),handleSize:i.default.arrayOf(i.default.number),lockAspectRatio:i.default.bool,maxConstraints:i.default.arrayOf(i.default.number),minConstraints:i.default.arrayOf(i.default.number),onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,resizeHandles:i.default.arrayOf(i.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:i.default.number,width:i.default.number.isRequired};e.resizableProps=o},9069:(t,e,n)=>{"use strict";e.__esModule=!0,e.cloneElement=function(t,e){return e.style&&t.props.style&&(e.style=a(a({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),i.default.cloneElement(t,e)};var r,i=(r=n(7294))&&r.__esModule?r:{default:r};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1706:(t,e,n)=>{"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(2827).default,t.exports.ResizableBox=n(8735).default},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),e.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=v.prototype;var _=m.prototype=new g;_.constructor=m,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function k(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),P(a,e,n,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+k(s=t[u],u);l+=P(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=P(s=s.value,e,n,c=r+k(s,u++),a);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function T(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function R(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var A={current:null};function O(){var t=A.current;if(null===t)throw Error(d(321));return t}var I={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error(d(143));return t}},e.Component=v,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null==t)throw Error(d(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return O().useCallback(t,e)},e.useContext=function(t,e){return O().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return O().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return O().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return O().useLayoutEffect(t,e)},e.useMemo=function(t,e){return O().useMemo(t,e)},e.useReducer=function(t,e,n){return O().useReducer(t,e,n)},e.useRef=function(t){return O().useRef(t)},e.useState=function(t){return O().useState(t)},e.version="17.0.2"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,f=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(f,0),t}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(f,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,g=-1,m=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();_=t+m;try{v(!0,t)?w.postMessage(null):(y=!1,v=null)}catch(t){throw w.postMessage(null),t}}else y=!1},n=function(t){v=t,y||(y=!0,w.postMessage(null))},r=function(t,n){g=h((function(){t(e.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function E(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],P=[],T=1,R=null,A=3,O=!1,I=!1,M=!1;function D(t){for(var e=S(P);null!==e;){if(null===e.callback)E(P);else{if(!(e.startTime<=t))break;E(P),e.sortIndex=e.expirationTime,x(k,e)}e=S(P)}}function L(t){if(M=!1,D(t),!I)if(null!==S(k))I=!0,n(j);else{var e=S(P);null!==e&&r(L,e.startTime-t)}}function j(t,n){I=!1,M&&(M=!1,i()),O=!0;var o=A;try{for(D(n),R=S(k);null!==R&&(!(R.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=R.callback;if("function"==typeof a){R.callback=null,A=R.priorityLevel;var s=a(R.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?R.callback=s:R===S(k)&&E(k),D(n)}else E(k);R=S(k)}if(null!==R)var l=!0;else{var u=S(P);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{R=null,A=o,O=!1}}var F=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||O||(I=!0,n(j))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return S(k)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:T++,callback:o,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,x(P,t),null===S(k)&&t===S(P)&&(M?i():M=!0,r(L,a-s))):(t.sortIndex=l,x(k,t),I||O||(I=!0,n(j))),t},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},2473:t=>{"use strict";t.exports=function(){}},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})();var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(7294),e=__webpack_require__(3935),n=__webpack_require__(5697),r=__webpack_require__.n(n),i=__webpack_require__(7398),o=__webpack_require__.n(i),a=__webpack_require__(7037),s=__webpack_require__.n(a),l=__webpack_require__(3311),u=__webpack_require__.n(l),c=__webpack_require__(3063),f=__webpack_require__.n(c),h=__webpack_require__(9734),d=__webpack_require__.n(h),p=__webpack_require__(361),y=__webpack_require__.n(p),v=__webpack_require__(6998),g=__webpack_require__.n(v);function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){return t.start_time<e.end_time&&t.end_time>e.start_time}function w(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(b(o,i[a]))return i[a].start_time>t?i[a].start_time:null;return Math.min(e,n)}function x(t,e,n,r){var i=function(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(b(o,i[a])){if(t<i[a].start_time)continue;return i[a].end_time<e?i[a].end_time:null}return Math.max(t,0)}(t,e,n,r),a=w(i,e,n,r);return i>=a||!o()(i)||!o()(a)?{}:{start:i,end:a}}function S(t,e){if(!t)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];i.end_time<=t&&n.push(i)}return n}function E(t,e,n){var r,i=t.assets[e],o=(r=i.sources).youtube&&r.youtube.url?{url:g()(r.youtube.url),host:"youtube"}:r.vimeo&&r.vimeo.url?{url:r.vimeo.url,host:"vimeo"}:r.video&&r.video.url?{url:r.video.url}:r.mp4_pseudo&&r.mp4_pseudo.url?{url:r.mp4_pseudo.url}:r.mp4_panopto&&r.mp4_panopto.url?{url:r.mp4_panopto.url}:r.mp4_audio&&r.mp4_audio.url?{url:r.mp4_audio.url}:r.image&&r.image.url?{url:r.image.url,width:r.image.width,height:r.image.height}:r.pdf&&r.pdf.url?{url:r.pdf.url}:null,a=function(t,e){for(var n=0;n<t.annotations.length&&e;n++){var r=t.annotations[n];if(r.id===e&&!r.is_global_annotation)return{duration:r.range2-r.range1||30,range1:r.range1,annotationData:r.annotation_data}}return{duration:void 0,range1:0}}(i,n),s="image"===i.primary_type?"img":"vid";"pdf"===i.primary_type&&(s="pdf");var l="img"===s||"pdf"===s?30:a.duration;return{url:o.url,host:o.host,type:s,startTime:a.range1,duration:l,data:a.annotationData,width:o.width,height:o.height}}function C(t){var e="image"===t.asset.media_type?"img":"vid";"pdf"===t.asset.media_type&&(e="pdf");var n=function(t){return"image"===t.asset.media_type?30:t.is_global_annotation?void 0:t.range2-t.range1||30}(t),r=t.asset.primary_source.url;return"youtube"===t.asset.primary_source.label&&(r=g()(r)),{id:t.id,assetId:t.asset.id,url:r,host:t.asset.primary_source.label,type:e,startTime:t.range1||0,duration:n,data:t.annotation_data,width:t.asset.primary_source.width,height:t.asset.primary_source.height}}function k(t){var e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return o()(n)&&o()(r)&&o()(i)?60*n+r+i/100:null}function P(t){var e=function(t){var e=Math.floor(t/60),n=Math.floor(t-60*e);return[e,n,Math.min(99,Math.round(100*(t-60*e-n)))]}(t);return T(e[0])+":"+T(e[1])+":"+T(e[2])}function T(t){return(t<10?"0":"")+t}function R(t){var e,n=y()(t),r=m(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;delete i.host,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function A(t){var e,n=y()(t),r=m(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.text=i.source,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function O(t){var e,n=0,r=m(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),n++}}catch(t){r.e(t)}finally{r.f()}return t}function I(t){var e,n=0,r=m(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.type="txt",i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),i.source=i.text,delete i.text,n++}}catch(t){r.e(t)}finally{r.f()}return t}function M(t,e){var n,r=m(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i}}catch(t){r.e(t)}finally{r.f()}return null}function D(t){for(var e=0;e<t.length;e++)t[e].key=e}function L(t,e,n){var r=u()(t,["key",parseInt(e.i,10)]),i=t.slice(),o=u()(i,["key",parseInt(e.i,10)]),a=e.x/1e3*n;if(a===r.start_time||Math.abs(a-r.start_time)<=.001*n)return null;var s=o.end_time-o.start_time;return o.start_time=a,o.end_time=o.start_time+s,(i=f()(i,["key",o.key])).push(o),d()(i,"key")}function j(t){return t.replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function F(t,e,n){jQuery(window).trigger("collection.open",[{allowAssets:e,media_type:t,disable:"all"===t?[]:["media_type"],caller:n}])}function N(t,e,n,r){var i=n?"collection.annotation.create":"collection.annotation.edit";jQuery(window).trigger(i,[{caller:r,assetId:t,annotationId:e}])}var U=__webpack_require__(9968),B=__webpack_require__.n(U);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function V(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var X=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(i);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){return W(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"jux-vid-item-thumb",style:{backgroundImage:"url("+this.props.url+")"}})}}])&&G(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function Q(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}X.propTypes={url:r().string.isRequired};var $=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(i);if(o){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Q(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={vimeoThumbnailUrl:null},e}return n=s,r=[{key:"vimeoThumbnailListener",value:function(t){var e=t.target.responseText,n=null;try{n=JSON.parse(e)}catch(t){return void console.error("Can't parse vimeo thumbnail JSON",t)}if(n){var r=n[0].thumbnail_medium;this.setState({vimeoThumbnailUrl:r})}else console.error("Can't parse vimeo thumbnail JSON")}},{key:"getVimeoThumbnailUrl",value:function(t){var e=function(t){return/^.*vimeo\.com\/([0-9]+)/.exec(t)[1]}(t.source),n="https://vimeo.com/api/v2/video/"+e+".json",r=new XMLHttpRequest;r.addEventListener("load",this.vimeoThumbnailListener.bind(this)),r.open("GET",n,!0),r.send(null)}},{key:"renderVidThumb",value:function(e){if("youtube"===e.host){var n="https://img.youtube.com/vi/"+e.source+"/default.jpg";return t.createElement(X,{url:n})}return"vimeo"===e.host?(this.state.vimeoThumbnailUrl||this.getVimeoThumbnailUrl(e),this.state.vimeoThumbnailUrl?t.createElement(X,{url:this.state.vimeoThumbnailUrl}):""):t.createElement("video",{className:"jux-media-item-middle"},t.createElement("source",{src:e.source,type:"video/mp4"}))}},{key:"renderImgThumb",value:function(e){var n={backgroundImage:"url("+e.source+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return t.createElement("div",{className:"jux-media-item-middle",style:n})}},{key:"renderTxtThumb",value:function(e){var n=10;return this.el&&this.el.clientWidth&&(n=Math.round(this.el.clientWidth/15)),t.createElement("p",{className:"jux-media-item-middle"},function(t,e,n){if(void 0===t)return"";void 0===n&&(n="…");var r=t.replace(/(<([^>]+)>)/g,"");return r.length>e?r.substr(0,e-n.length)+n:r}(e.source,n))}},{key:"renderPdfThumb",value:function(){return t.createElement("svg",{style:{margin:"0 auto"},xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-file-pdf",viewBox:"0 0 16 16"},t.createElement("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}),t.createElement("path",{d:"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"}))}},{key:"componentDidMount",value:function(){"txt"===this.props.data.type&&this.forceUpdate()}},{key:"render",value:function(){var e=this,n="";"vid"===this.props.data.type?n=this.renderVidThumb(this.props.data):"img"===this.props.data.type?n=this.renderImgThumb(this.props.data):"txt"===this.props.data.type?n=this.renderTxtThumb(this.props.data):"pdf"===this.props.data.type&&(n=this.renderPdfThumb());var r=this.props.className;return this.props.isActive&&(r+=" jux-item-active"),t.createElement("div",{data:this.props.data,ref:function(t){return e.el=t},"data-dragging":this.props.dragging,className:r,style:this.props.style,onClick:this.onEditButtonClick.bind(this),onMouseDown:this.props.onMouseDown,onTouchEnd:this.props.onTouchEnd,onTouchStart:this.props.onTouchStart},n)}},{key:"onEditButtonClick",value:function(t){this.props.onEditButtonClick(t,this)}}],r&&K(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function it(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}$.propTypes={className:r().string,data:r().object.isRequired,dragging:r().bool,isActive:r().bool.isRequired,style:r().object,onEditButtonClick:r().func,onMouseDown:r().func,onTouchEnd:r().func,onTouchStart:r().func};var at=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(i);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return it(this,t)});function s(){return et(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.callbackParent(t,this.props.absoluteTimecode)}},{key:"render",value:function(){return t.createElement("div",{className:"jux-snap-column",onClick:this.onClick.bind(this)})}}])&&nt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}at.propTypes={absoluteTimecode:r().number.isRequired,callbackParent:r().func.isRequired};var lt=["style","className","key","children"];function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ct(t,e)}function ft(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}function dt(){return dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}function pt(t){return 10*t}var yt=t.forwardRef((function(e){var n=e.style,r=e.className,i=e.key,o=e.children,a=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,lt);return t.createElement($,dt({style:n,className:r,key:i},a),o)}));yt.propTypes={style:r().object,className:r().string,children:r().array};var vt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ht(i);if(o){var n=ht(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ft(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).width=910,e}return n=s,r=[{key:"generateLayout",value:function(t){var e=[],n=this;return t.map((function(t){if(n.props.duration&&!(t.start_time>n.props.duration)){var r=pt(Math.min(t.end_time-t.start_time,n.props.duration)/n.props.duration*100),i={x:pt(t.start_time/n.props.duration*100),y:0,w:r,h:49};e.push(i)}})),e}},{key:"generateItems",value:function(e){var n=[],r=this;return e.map((function(e,i){if(r.props.duration&&!(e.start_time>r.props.duration)){var o=pt(Math.min(e.end_time-e.start_time,r.props.duration)/r.props.duration*100),a=pt(e.start_time/r.props.duration*100),s=function(t,e,n){return!(!t||t[0]!==e||parseInt(t[1],10)!==n)}(r.props.activeElement,r.type,i),l=t.createElement(yt,{onEditButtonClick:r.onEditButtonClick.bind(r),isActive:s,key:i,data:e,"data-grid":{x:a,y:0,w:o,h:49}});n.push(l)}})),n}},{key:"generateSnapColumns",value:function(){for(var e=[],n=this.width/10,r=this.props.duration/n,i=0;i<n;i++){var o=r*i;e.push(t.createElement(at,{key:i,idx:i,absoluteTimecode:o,callbackParent:this.onAddTrackElementClick.bind(this)}))}return e}},{key:"onEditButtonClick",value:function(t,e){this.props.onTrackEditButtonClick(t,e)}},{key:"closeItemAdder",value:function(){this.setState({adding:!1})}},{key:"renderItemAdder",value:function(){return null}},{key:"render",value:function(){var e="jux-track-container jux-"+this.type,n=0===this.props.data.length?"block":"none";return t.createElement("div",{className:e},t.createElement("div",{className:"track-icon"}),t.createElement("div",{className:"jux-track"},t.createElement("div",{className:"jux-track-instructions",style:{display:n}},this.helpText),this.renderItemAdder(),this.generateSnapColumns(),t.createElement(B(),{width:this.width,margin:[0,0],className:"layout react-grid-layout",cols:1e3,onDragStop:this.props.onDragStop,onClick:this.onClick,maxRows:1,rowHeight:1,autoSize:!1,isResizable:!1,layout:this.generateLayout(this.props.data),preventCollision:!0},this.generateItems(this.props.data))))}},{key:"onAddWithoutPrimaryVid",value:function(){this.props.onAddWithoutPrimaryVid()}}],r&&ut(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}function bt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}vt.propTypes={data:r().array.isRequired,duration:r().number,onAddWithoutPrimaryVid:r().func,onDragStop:r().func.isRequired,onTrackEditButtonClick:r().func.isRequired};var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wt(r);if(i){var n=wt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bt(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).type="media",e.helpText="Click on this track to place video and audio elements",e}return e=a,(n=[{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?F("all",!1,{type:"track",timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"getHelpText",value:function(){return"Click on this track to place video and audio elements"}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(vt),St=__webpack_require__(8783);const Et=__webpack_require__.p+"47202c941e2f3c9657bb3573d2b04e31.js";function Ct(){return Ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}function kt(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Pt(t,e){if(null==t)return{};var n,r,i=kt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e,n){return e&&At(t.prototype,e),n&&At(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function It(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t,e){return Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mt(t,e)}function Dt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}function Lt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return It(t)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jt(t)}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt=["onKeyDown","onKeyPress","onKeyUp"],Ut=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Bt=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],zt=[].concat(["onCopy","onCut","onPaste"],["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Nt,["onFocus","onBlur"],["onChange","onInput","onInvalid","onReset","onSubmit"],["onError","onLoad"],Ut,["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],["onSelect"],Bt,["onScroll"],["onWheel"],["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],["onLoad","onError"],["onAnimationStart","onAnimationEnd","onAnimationIteration"],["onTransitionEnd"],["onToggle"]);const Wt=function(t,e){var n={};return zt.forEach((function(r){r in t&&(n[r]=e?function(n){return t[r](n,e(r))}:t[r])})),n};function Gt(t){var e=!1,n=new Promise((function(n,r){t.then((function(){return!e&&n.apply(void 0,arguments)})).catch((function(t){return!e&&r(t)}))}));return{promise:n,cancel:function(){e=!0}}}function qt(){return Array.prototype.slice.call(arguments).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return"string"==typeof t})).join(" ")}const Vt=(0,t.createContext)(null);function Ht(e){var n=e.children,r=e.type;return t.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}Ht.propTypes={children:r().node,type:r().oneOf(["error","loading","no-data"]).isRequired};var Xt=function(){function t(){Rt(this,t),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0}return Ot(t,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise((function(n){"string"==typeof t?e.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)})).then((function(t){if(!Array.isArray(t))throw new Error('"'.concat(t,'" is not a valid destination array.'));var n=t[0];new Promise((function(t){if(n instanceof Object)e.pdfDocument.getPageIndex(n).then((function(e){t(e+1)})).catch((function(){throw new Error('"'.concat(n,'" is not a valid page reference.'))}));else{if("number"!=typeof n)throw new Error('"'.concat(n,'" is not a valid destination reference.'));t(n+1)}})).then((function(t){if(!t||t<1||t>e.pagesCount)throw new Error('"'.concat(t,'" is not a valid page number.'));e.pdfViewer.scrollPageIntoView({pageNumber:t})}))}))}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),t}();const Yt=1,Kt=2;function Zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qt(t,e){if(t){if("string"==typeof t)return Zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(t,e):void 0}}function Jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Qt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $t="undefined"!=typeof window,te=$t&&"file:"===window.location.protocol;function ee(t){return void 0!==t}function ne(t){return ee(t)&&null!==t}function re(t){return t instanceof ArrayBuffer}function ie(t){if(!$t)throw new Error("Attempted to check if a variable is a Blob on a non-browser environment.");return t instanceof Blob}function oe(t){if(!$t)throw new Error("Attempted to check if a variable is a File on a non-browser environment.");return t instanceof File}function ae(t){return"string"==typeof t&&/^data:/.test(t)}function se(t){if(!ae(t))throw new Error("Invalid data URI.");var e=Jt(t.split(","),2),n=e[0],r=e[1];return-1!==n.split(";").indexOf("base64")?atob(r):unescape(r)}function le(t){}function ue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];le.apply(void 0,["warn"].concat(e))}function ce(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];le.apply(void 0,["error"].concat(e))}function fe(){te&&ue("Loading PDF as base64 strings/URLs might not work on protocols other than HTTP/HTTPS. On Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.")}function he(t){t&&t.cancel&&t.cancel()}function de(t,e){return Object.defineProperty(t,"width",{get:function(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get:function(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),t}function pe(t){return"RenderingCancelledException"===t.name}function ye(t){return new Promise((function(e,n){var r=new FileReader;return r.onload=function(){return e(new Uint8Array(r.result))},r.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t),null}))}function ve(t){return function(t){if(Array.isArray(t))return Zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ge,me=(ge={},[].concat(ve(Ut),ve(Bt),ve(Nt)).forEach((function(t){ge[t]=r().func})),ge),_e=[r().string,r().instanceOf(ArrayBuffer),r().shape({data:r().oneOfType([r().object,r().string]),httpHeaders:r().object,range:r().object,url:r().string,withCredentials:r().bool})];"undefined"!=typeof File&&_e.push(r().instanceOf(File)),"undefined"!=typeof Blob&&_e.push(r().instanceOf(Blob));var be=r().oneOfType([r().string,r().arrayOf(r().string)]),we=r().oneOfType(_e),xe=r().instanceOf(Xt),Se=(r().oneOf(["_self","_blank","_parent","_top"]),r().shape({_transport:r().shape({fontLoader:r().object.isRequired}).isRequired,commonObjs:r().shape({_objs:r().object.isRequired}).isRequired,getAnnotations:r().func.isRequired,getTextContent:r().func.isRequired,getViewport:r().func.isRequired,render:r().func.isRequired})),Ee=r().oneOfType([r().shape({getDestination:r().func.isRequired,getOutline:r().func.isRequired,getPage:r().func.isRequired,numPages:r().number.isRequired}),r().bool]),Ce=r().oneOfType([r().func,r().shape({current:r().any})]),ke=r().oneOf(["canvas","none","svg"]),Pe=r().oneOf([0,90,180,270]),Te=["url"];function Re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Oe=St.PDFDataRangeTransport,Ie=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{pdf:null}),Ft(It(t),"viewer",{scrollPageIntoView:function(e){var n=e.pageNumber,r=t.props.onItemClick;if(r)r({pageNumber:n});else{var i=t.pages[n-1];i?i.scrollIntoView():ue("Warning: An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}}),Ft(It(t),"linkService",new Xt),Ft(It(t),"loadDocument",(function(){t.findDocumentSource().then((function(e){if(t.onSourceSuccess(),e){t.setState((function(t){return t.pdf?{pdf:null}:null}));var n=t.props,r=n.options,i=n.onLoadProgress,o=n.onPassword;he(t.runningTask),t.loadingTask&&t.loadingTask.destroy(),t.loadingTask=St.getDocument(Ae(Ae({},e),r)),t.loadingTask.onPassword=o,i&&(t.loadingTask.onProgress=i);var a=Gt(t.loadingTask.promise);t.runningTask=a,a.promise.then((function(e){t.setState((function(t){return t.pdf&&t.pdf.fingerprint===e.fingerprint?null:{pdf:e}}),t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})).catch((function(e){t.onSourceError(e)}))})),Ft(It(t),"setupLinkService",(function(){t.linkService.setViewer(t.viewer);var e=It(t);Object.defineProperty(t.linkService,"externalLinkTarget",{get:function(){switch(e.props.externalLinkTarget){case"_self":return 1;case"_blank":return 2;case"_parent":return 3;case"_top":return 4;default:return 0}}})})),Ft(It(t),"onSourceSuccess",(function(){var e=t.props.onSourceSuccess;e&&e()})),Ft(It(t),"onSourceError",(function(e){ce(e);var n=t.props.onSourceError;n&&n(e)})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.pdf;e&&e(n),t.pages=new Array(n.numPages),t.linkService.setDocument(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({pdf:!1}),ce(e);var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"findDocumentSource",(function(){return new Promise((function(e){var n=t.props.file;if(n||e(null),"string"==typeof n){if(ae(n)){var r=se(n);e({data:r})}fe(),e({url:n})}if(n instanceof Oe&&e({range:n}),re(n)&&e({data:n}),$t&&(ie(n)||oe(n)))ye(n).then((function(t){e({data:t})}));else{if("object"!==Tt(n))throw new Error("Invalid parameter in file, need either Uint8Array, string or a parameter object");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");if("string"==typeof n.url){if(ae(n.url)){var i=n.url,o=Pt(n,Te),a=se(i);e(Ae({data:a},o))}fe()}e(n)}}))})),Ft(It(t),"registerPage",(function(e,n){t.pages[e]=n})),Ft(It(t),"unregisterPage",(function(e){delete t.pages[e]})),t}return Ot(o,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){this.props.file!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){he(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,e=this.registerPage,n=this.unregisterPage,r=this.props,i=r.imageResourcesPath,o=r.renderMode,a=r.rotate;return{imageResourcesPath:i,linkService:t,pdf:this.state.pdf,registerPage:e,renderMode:o,rotate:a,unregisterPage:n}}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){return t.state.pdf}))}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(Vt.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,n=this.state.pdf;if(!e){var r=this.props.noData;return t.createElement(Ht,{type:"no-data"},"function"==typeof r?r():r)}if(null===n){var i=this.props.loading;return t.createElement(Ht,{type:"loading"},"function"==typeof i?i():i)}if(!1===n){var o=this.props.error;return t.createElement(Ht,{type:"error"},"function"==typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Document",n),ref:r},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);Ie.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(t,e){switch(e){case Yt:t(prompt("Enter the password to open this PDF file."));break;case Kt:t(prompt("Invalid password. Please try again."))}}};var Me=r().oneOfType([r().func,r().node]);Ie.propTypes=Ae(Ae({},me),{},{children:r().node,className:be,error:Me,file:we,imageResourcesPath:r().string,inputRef:Ce,loading:Me,noData:Me,onItemClick:r().func,onLoadError:r().func,onLoadProgress:r().func,onLoadSuccess:r().func,onPassword:r().func,onSourceError:r().func,onSourceSuccess:r().func,rotate:r().number});const De=(0,t.createContext)(null);var Le=function(){function t(e){var n=e.num,r=e.gen;Rt(this,t),this.num=n,this.gen=r}return Ot(t,[{key:"toString",value:function(){var t="".concat(this.num,"R");return 0!==this.gen&&(t+=this.gen),t}}]),t}(),je=["item"];var Fe=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"getDestination",(function(){return new Promise((function(e,n){var r=t.props,i=r.item,o=r.pdf;return ee(t.destination)||("string"==typeof i.dest?o.getDestination(i.dest).then(e).catch(n):e(i.dest)),t.destination})).then((function(e){return t.destination=e,e}))})),Ft(It(t),"getPageIndex",(function(){return new Promise((function(e,n){var r=t.props.pdf;ee(t.pageIndex)&&e(t.pageIndex),t.getDestination().then((function(t){if(t){var i=Jt(t,1)[0];r.getPageIndex(new Le(i)).then(e).catch(n)}}))})).then((function(e){return t.pageIndex=e,t.pageIndex}))})),Ft(It(t),"getPageNumber",(function(){return new Promise((function(e,n){ee(t.pageNumber)&&e(t.pageNumber),t.getPageIndex().then((function(t){e(t+1)})).catch(n)})).then((function(e){return t.pageNumber=e,e}))})),Ft(It(t),"onClick",(function(e){var n=t.props.onClick;return e.preventDefault(),!!n&&Promise.all([t.getPageIndex(),t.getPageNumber()]).then((function(t){var e=Jt(t,2),r=e[0],i=e[1];n({pageIndex:r,pageNumber:i})}))})),t}return Ot(o,[{key:"renderSubitems",value:function(){var e=this.props,n=e.item,r=Pt(e,je);if(!n.items||!n.items.length)return null;var i=n.items;return t.createElement("ul",null,i.map((function(e,n){return t.createElement(o,Ct({key:"string"==typeof e.destination?e.destination:n,item:e},r))})))}},{key:"render",value:function(){var e=this.props.item;return t.createElement("li",null,t.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),o}(t.PureComponent),Ne=r().oneOfType([r().string,r().arrayOf(r().any)]);Fe.propTypes={item:r().shape({dest:Ne,items:r().arrayOf(r().shape({dest:Ne,title:r().string})),title:r().string}).isRequired,onClick:r().func,pdf:Ee.isRequired};const Ue=function(e){return t.createElement(Vt.Consumer,null,(function(n){return t.createElement(De.Consumer,null,(function(r){return t.createElement(Fe,Ct({},n,r,e))}))}))};function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var ze=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{outline:null}),Ft(It(t),"loadOutline",(function(){var e=t.props.pdf;t.setState((function(t){return t.outline?{outline:null}:null}));var n=Gt(e.getOutline());t.runningTask=n,n.promise.then((function(e){t.setState({outline:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.outline;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({outline:!1}),ce(e);var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"onItemClick",(function(e){var n=e.pageIndex,r=e.pageNumber,i=t.props.onItemClick;i&&i({pageIndex:n,pageNumber:r})})),t}return Ot(o,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load an outline, but no document was specified.");this.loadOutline()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;t.pdf&&e!==t.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){he(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){return t.state.outline}))}},{key:"renderOutline",value:function(){var e=this.state.outline;return t.createElement("ul",null,e.map((function(e,n){return t.createElement(Ue,{key:"string"==typeof e.destination?e.destination:n,item:e})})))}},{key:"render",value:function(){var e=this.props.pdf,n=this.state.outline;if(!e||!n)return null;var r=this.props,i=r.className,o=r.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Outline",i),ref:o},this.eventProps),t.createElement(De.Provider,{value:this.childContext},this.renderOutline()))}}]),o}(t.PureComponent);function We(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){r.forEach((function(e){"function"==typeof e?e(t):e.current=t}))}}ze.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:be,inputRef:Ce,onItemClick:r().func,onLoadError:r().func,onLoadSuccess:r().func,pdf:Ee},me);const Ge=(0,t.createContext)(null);var qe=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(de(r,i))})),Ft(It(t),"onRenderError",(function(e){if(!pe(e)){ce(e);var n=t.props.onRenderError;n&&n(e)}})),Ft(It(t),"drawPageOnCanvas",(function(){var e=It(t).canvasLayer;if(!e)return null;var n=It(t),r=n.renderViewport,i=n.viewport,o=t.props,a=o.canvasBackground,s=o.page,l=o.renderInteractiveForms;e.width=r.width,e.height=r.height,e.style.width="".concat(Math.floor(i.width),"px"),e.style.height="".concat(Math.floor(i.height),"px");var u={get canvasContext(){return e.getContext("2d")},viewport:r,renderInteractiveForms:l};return a&&(u.background=a),t.cancelRenderingTask(),t.renderer=s.render(u),t.renderer.promise.then(t.onRenderSuccess).catch(t.onRenderError)})),t}return Ot(o,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.canvasBackground,r=e.page,i=e.renderInteractiveForms;n===t.canvasBackground&&i===t.renderInteractiveForms||(r.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask(),this.canvasLayer&&(this.canvasLayer.width=0,this.canvasLayer.height=0,this.canvasLayer=null)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"renderViewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale,i=$t&&window.devicePixelRatio||1;return e.getViewport({scale:r*i,rotation:n})}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,n=this.props.canvasRef;return t.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:We(n,(function(t){e.canvasLayer=t})),style:{display:"block",userSelect:"none"}})}}]),o}(t.PureComponent);function Ve(e){return t.createElement(Ge.Consumer,null,(function(n){return t.createElement(qe,Ct({},n,e))}))}qe.propTypes={canvasBackground:r().string,canvasRef:Ce,onRenderError:r().func,onRenderSuccess:r().func,page:Se.isRequired,renderInteractiveForms:r().bool,rotate:Pe,scale:r().number.isRequired};var He=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{svg:null}),Ft(It(t),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(de(r,i))})),Ft(It(t),"onRenderError",(function(e){if(!pe(e)){ce(e);var n=t.props.onRenderError;n&&n(e)}})),Ft(It(t),"renderSVG",(function(){var e=t.props.page;return t.renderer=e.getOperatorList(),t.renderer.then((function(n){var r=new St.SVGGraphics(e.commonObjs,e.objs);t.renderer=r.getSVG(n,t.viewport).then((function(e){t.setState({svg:e},t.onRenderSuccess)})).catch(t.onRenderError)})).catch(t.onRenderError)})),Ft(It(t),"drawPageOnContainer",(function(e){var n=t.state.svg;if(e&&n){e.firstElementChild||e.appendChild(n);var r=t.viewport,i=r.width,o=r.height;n.setAttribute("width",i),n.setAttribute("height",o)}})),t}return Ot(o,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,n=this.viewport,r=n.width,i=n.height;return t.createElement("div",{className:"react-pdf__Page__svg",ref:function(t){return e.drawPageOnContainer(t)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:r,height:i,userSelect:"none"}})}}]),o}(t.PureComponent);function Xe(e){return t.createElement(Ge.Consumer,null,(function(n){return t.createElement(He,Ct({},n,e))}))}He.propTypes={onRenderError:r().func,onRenderSuccess:r().func,page:Se.isRequired,rotate:Pe,scale:r().number.isRequired};var Ye=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"getElementWidth",(function(e){var n=It(t).sideways;return e.getBoundingClientRect()[n?"height":"width"]})),t}return Ot(o,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"sideways",get:function(){return this.rotate%180!=0}},{key:"defaultSideways",get:function(){return this.unrotatedViewport.rotation%180!=0}},{key:"fontSize",get:function(){var t=this.props.transform,e=this.defaultSideways,n=Jt(t,2),r=n[0],i=n[1];return e?i:r}},{key:"top",get:function(){var t=this.props.transform,e=this.unrotatedViewport,n=this.defaultSideways,r=Jt(t,6),i=r[2],o=r[3],a=r[4],s=r[5],l=Jt(e.viewBox,4),u=l[1],c=l[3];return n?a+i+u:c-(s+o)}},{key:"left",get:function(){var t=this.props.transform,e=this.unrotatedViewport,n=this.defaultSideways,r=Jt(t,6),i=r[4],o=r[5],a=Jt(e.viewBox,1)[0];return n?o-a:i-a}},{key:"getFontData",value:function(t){var e=this.props.page;return new Promise((function(n){e.commonObjs.get(t,n)}))}},{key:"alignTextItem",value:function(){var t=this,e=this.item;if(e){e.style.transform="";var n=this.props,r=n.fontName,i=n.scale,o=n.width;e.style.fontFamily="".concat(r,", sans-serif"),this.getFontData(r).then((function(n){var a=n?n.fallbackName:"sans-serif";e.style.fontFamily="".concat(r,", ").concat(a);var s=o*i,l=t.getElementWidth(e),u="scaleX(".concat(s/l,")"),c=n?n.ascent:0;c&&(u+=" translateY(".concat(100*(1-c),"%)")),e.style.transform=u,e.style.WebkitTransform=u}))}}},{key:"render",value:function(){var e=this,n=this.fontSize,r=this.top,i=this.left,o=this.props,a=o.customTextRenderer,s=o.scale,l=o.str;return t.createElement("span",{ref:function(t){e.item=t},style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(n*s,"px"),position:"absolute",top:"".concat(r*s,"px"),left:"".concat(i*s,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},a?a(this.props):l)}}]),o}(t.PureComponent);function Ke(e){return t.createElement(Ge.Consumer,null,(function(n){return t.createElement(Ye,Ct({},n,e))}))}Ye.propTypes={customTextRenderer:r().func,fontName:r().string.isRequired,itemIndex:r().number.isRequired,page:Se.isRequired,rotate:Pe,scale:r().number,str:r().string.isRequired,transform:r().arrayOf(r().number).isRequired,width:r().number.isRequired};var Ze=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{textItems:null}),Ft(It(t),"loadTextItems",(function(){var e=Gt(t.props.page.getTextContent());t.runningTask=e,e.promise.then((function(e){var n=e.items;t.setState({textItems:n},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onGetTextSuccess,n=t.state.textItems;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({textItems:!1}),ce(e);var n=t.props.onGetTextError;n&&n(e)})),t}return Ot(o,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page text content, but no page was specified.");this.loadTextItems()}},{key:"componentDidUpdate",value:function(t){var e=this.props.page;t.page&&e!==t.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){he(this.runningTask)}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"renderTextItems",value:function(){var e=this.state.textItems;return e?e.map((function(e,n){return t.createElement(Ke,Ct({key:n,itemIndex:n},e))})):null}},{key:"render",value:function(){var e=this.unrotatedViewport,n=this.rotate;return t.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(n,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(n,"deg)"),pointerEvents:"none"}},this.renderTextItems())}}]),o}(t.PureComponent);function Qe(e){return t.createElement(Ge.Consumer,null,(function(n){return t.createElement(Ze,Ct({},n,e))}))}Ze.propTypes={onGetTextError:r().func,onGetTextSuccess:r().func,page:Se.isRequired,rotate:Pe,scale:r().number};var Je=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{annotations:null}),Ft(It(t),"loadAnnotations",(function(){var e=Gt(t.props.page.getAnnotations());t.runningTask=e,e.promise.then((function(e){t.setState({annotations:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onGetAnnotationsSuccess,n=t.state.annotations;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({annotations:!1}),ce(e);var n=t.props.onGetAnnotationsError;n&&n(e)})),Ft(It(t),"onRenderSuccess",(function(){var e=t.props.onRenderAnnotationLayerSuccess;e&&e()})),Ft(It(t),"onRenderError",(function(e){ce(e);var n=t.props.onRenderAnnotationLayerError;n&&n(e)})),t}return Ot(o,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page annotations, but no page was specified.");this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.page,r=e.renderInteractiveForms;(t.page&&n!==t.page||r!==t.renderInteractiveForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){he(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(t){var e=this.props,n=e.imageResourcesPath,r=e.linkService,i=e.page,o=e.renderInteractiveForms,a=this.viewport.clone({dontFlip:!0}),s={annotations:t,div:this.annotationLayer,imageResourcesPath:n,linkService:r,page:i,renderInteractiveForms:o,viewport:a};this.annotationLayer.innerHTML="";try{St.AnnotationLayer.render(s),this.onRenderSuccess()}catch(t){this.onRenderError(t)}}}},{key:"render",value:function(){var e=this;return t.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:function(t){e.annotationLayer=t}},this.renderAnnotationLayer())}}]),o}(t.PureComponent);Je.propTypes={imageResourcesPath:r().string,linkService:xe.isRequired,onGetAnnotationsError:r().func,onGetAnnotationsSuccess:r().func,onRenderAnnotationLayerError:r().func,onRenderAnnotationLayerSuccess:r().func,page:Se,renderInteractiveForms:r().bool,rotate:Pe,scale:r().number};const $e=function(e){return t.createElement(Vt.Consumer,null,(function(n){return t.createElement(Ge.Consumer,null,(function(r){return t.createElement(Je,Ct({},n,r,e))}))}))};function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nn=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Rt(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{page:null}),Ft(It(t),"onLoadSuccess",(function(){var e=t.props,n=e.onLoadSuccess,r=e.registerPage,i=t.state.page;n&&n(de(i,t.scale)),r&&r(t.pageIndex,t.ref)})),Ft(It(t),"onLoadError",(function(e){ce(e);var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"loadPage",(function(){var e=t.props.pdf,n=t.getPageNumber();if(n){t.setState((function(t){return t.page?{page:null}:null}));var r=Gt(e.getPage(n));t.runningTask=r,r.promise.then((function(e){t.setState({page:e},t.onLoadSuccess)})).catch((function(e){t.setState({page:!1}),t.onLoadError(e)}))}})),t}return Ot(o,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load a page, but no document was specified.");this.loadPage()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;if(t.pdf&&e!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),he(this.runningTask)}},{key:"childContext",get:function(){var t=this.state.page;if(!t)return{};var e=this.props;return{canvasBackground:e.canvasBackground,customTextRenderer:e.customTextRenderer,onGetAnnotationsError:e.onGetAnnotationsError,onGetAnnotationsSuccess:e.onGetAnnotationsSuccess,onGetTextError:e.onGetTextError,onGetTextSuccess:e.onGetTextSuccess,onRenderAnnotationLayerError:e.onRenderAnnotationLayerError,onRenderAnnotationLayerSuccess:e.onRenderAnnotationLayerSuccess,onRenderError:e.onRenderError,onRenderSuccess:e.onRenderSuccess,page:t,renderInteractiveForms:e.renderInteractiveForms,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return ne(t.pageNumber)?t.pageNumber-1:ne(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return ne(t.pageNumber)?t.pageNumber:ne(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(ne(t))return t;var e=this.state.page;return e?e.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var e=this.props,n=e.scale,r=e.width,i=e.height,o=this.rotate,a=1,s=null===n?1:n;if(r||i){var l=t.getViewport({scale:1,rotation:o});a=r?r/l.width:i/l.height}return s*a}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){var e=t.state.page;return e?de(e,t.scale):e}))}},{key:"pageKey",get:function(){var t=this.state.page;return"".concat(t.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var t=this.state.page;return"".concat(t.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var e=this.props,n=e.canvasRef;switch(e.renderMode){case"none":return null;case"svg":return t.createElement(Xe,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return t.createElement(Ve,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){return this.props.renderTextLayer?t.createElement(Qe,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){return this.props.renderAnnotationLayer?t.createElement($e,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(Ge.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,n=this.props.pdf,r=this.state.page;if(!e){var i=this.props.noData;return t.createElement(Ht,{type:"no-data"},"function"==typeof i?i():i)}if(null===n||null===r){var o=this.props.loading;return t.createElement(Ht,{type:"loading"},"function"==typeof o?o():o)}if(!1===n||!1===r){var a=this.props.error;return t.createElement(Ht,{type:"error"},"function"==typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var e=this.pageNumber,n=this.props,r=n.className,i=n.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Page",r),"data-page-number":e,ref:We(i,this.ref),style:{position:"relative"}},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);nn.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderInteractiveForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:1};var rn=r().oneOfType([r().func,r().node]);function on(e,n){return t.createElement(Vt.Consumer,null,(function(r){return t.createElement(nn,Ct({ref:n},r,e))}))}nn.propTypes=en(en({},me),{},{canvasBackground:r().string,children:r().node,className:be,customTextRenderer:r().func,error:rn,height:r().number,imageResourcesPath:r().string,inputRef:Ce,loading:rn,noData:rn,onGetTextError:r().func,onGetTextSuccess:r().func,onLoadError:r().func,onLoadSuccess:r().func,onRenderError:r().func,onRenderSuccess:r().func,pageIndex:function(t,e,n){var r=t[e],i=t.pageNumber,o=t.pdf;if(!ee(o))return null;if(ee(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(Tt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(e,"` to be greater or equal to 0."));var a=o.numPages;if(r+1>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a-1,"."))}else if(!ee(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(t,e,n){var r=t[e],i=t.pageIndex,o=t.pdf;if(!ee(o))return null;if(ee(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(Tt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(e,"` to be greater or equal to 1."));var a=o.numPages;if(r>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a,"."))}else if(!ee(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:Ee,registerPage:r().func,renderAnnotationLayer:r().bool,renderInteractiveForms:r().bool,renderMode:ke,renderTextLayer:r().bool,rotate:Pe,scale:r().number,unregisterPage:r().func,width:r().number});const an=t.forwardRef(on);te&&ue("You are running React-PDF from your local file system. PDF.js Worker may fail to load due to browser's security policies. If you're on Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes."),St.GlobalWorkerOptions.workerSrc=Et;const sn={},ln=[];function un(t,e){if(Array.isArray(t))for(const n of t)un(n,e);else if("object"!=typeof t)fn(Object.getOwnPropertyNames(e)),sn[t]=Object.assign(sn[t]||{},e);else for(const e in t)un(e,t[e])}function cn(t){return sn[t]||{}}function fn(t){ln.push(...t)}function hn(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function dn(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function pn(t){return t%360*Math.PI/180}function yn(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function vn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function gn(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function mn(t,e){const n=t.origin;let r=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([r,i]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof r,a="string"==typeof i;if(o||a){const{height:t,width:n,x:s,y:l}=e.bbox();o&&(r=r.includes("left")?s:r.includes("right")?s+n:s+n/2),a&&(i=i.includes("top")?l:i.includes("bottom")?l+t:l+t/2)}return[r,i]}const _n="http://www.w3.org/2000/svg",bn="http://www.w3.org/2000/xmlns/",wn="http://www.w3.org/1999/xlink",xn={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class Sn{}const En={},Cn="___SYMBOL___ROOT___";function kn(t,e=_n){return xn.document.createElementNS(e,t)}function Pn(t,e=!1){if(t instanceof Sn)return t;if("object"==typeof t)return An(t);if(null==t)return new En[Cn];if("string"==typeof t&&"<"!==t.charAt(0))return An(xn.document.querySelector(t));const n=e?xn.document.createElement("div"):kn("svg");return n.innerHTML=t,t=An(n.firstChild),n.removeChild(n.firstChild),t}function Tn(t,e){return e instanceof xn.window.Node?e:kn(t)}function Rn(t){if(!t)return null;if(t.instance instanceof Sn)return t.instance;if("#document-fragment"===t.nodeName)return new En.Fragment(t);let e=vn(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":En[e]||(e="Dom"),new En[e](t)}let An=Rn;function On(t,e=t.name,n=!1){return En[e]=t,n&&(En[Cn]=t),fn(Object.getOwnPropertyNames(t.prototype)),t}let In=1e3;function Mn(t){return"Svgjs"+vn(t)+In++}function Dn(t){for(let e=t.children.length-1;e>=0;e--)Dn(t.children[e]);return t.id?(t.id=Mn(t.nodeName),t):t}function Ln(t,e){let n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function jn(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}un("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=Pn(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Pn(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Pn(t)).before(this),this},insertAfter:function(t){return(t=Pn(t)).after(this),this}});const Fn=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Nn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Un=/rgb\((\d+),(\d+),(\d+)\)/,Bn=/(#[a-z_][a-z0-9\-_]*)/i,zn=/\)\s*,?\s*/,Wn=/\s/g,Gn=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,qn=/^rgb\(/,Vn=/^(\s+)?$/,Hn=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Yn=/[\s,]+/,Kn=/[MLHVCSQTAZ]/i;function Zn(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function Qn(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function Jn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}un("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(Yn)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),un("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=yn(e);n[t]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[yn(t)];if("object"==typeof t)for(const e in t)this.node.style[yn(e)]=null==t[e]||Vn.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[yn(t)]=null==e||Vn.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),un("Dom",{data:function(t,e,n){if(null==t)return this.data(hn(dn(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),un("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class $n{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof $n||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,n){const{random:r,round:i,sin:o,PI:a}=Math;if("vibrant"===t){const t=24*r()+57,e=38*r()+45,n=360*r();return new $n(t,e,n,"lch")}if("sine"===t){const t=i(80*o(2*a*(e=null==e?r():e)/.5+.01)+150),n=i(50*o(2*a*e/.5+4.6)+200),s=i(100*o(2*a*e/.5+2.3)+150);return new $n(t,n,s)}if("pastel"===t){const t=8*r()+86,e=17*r()+9,n=360*r();return new $n(t,e,n,"lch")}if("dark"===t){const t=10+10*r(),e=50*r()+86,n=360*r();return new $n(t,e,n,"lch")}if("rgb"===t){const t=255*r(),e=255*r(),n=255*r();return new $n(t,e,n)}if("lab"===t){const t=100*r(),e=256*r()-128,n=256*r()-128;return new $n(t,e,n,"lab")}if("grey"===t){const t=255*r();return new $n(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(Gn.test(t)||qn.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.min(1-r,1-i,1-o);return 1===a?new $n(0,0,0,1,"cmyk"):new $n((1-r-a)/(1-a),(1-i-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.max(r,i,o),s=Math.min(r,i,o),l=(a+s)/2,u=a===s,c=a-s;return new $n(360*(u?0:a===r?((i-o)/c+(i<o?6:0))/6:a===i?((o-r)/c+2)/6:a===o?((r-i)/c+4)/6:0),100*(u?0:l>.5?c/(2-a-s):c/(a+s)),100*l,"hsl")}init(t=0,e=0,n=0,r=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=Qn(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:Qn(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:Qn(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:Qn(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:Qn(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:Qn(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(qn.test(t)){const e=t.replace(Wn,""),[n,r,i]=Un.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!Gn.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,r,i]=Nn.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:s,_d:l}=this,u="rgb"===this.space?{r:o,g:a,b:s}:"xyz"===this.space?{x:o,y:a,z:s}:"hsl"===this.space?{h:o,s:a,l:s}:"lab"===this.space?{l:o,a,b:s}:"lch"===this.space?{l:o,c:a,h:s}:"cmyk"===this.space?{c:o,m:a,y:s,k:l}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:n}=this.xyz();return new $n(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),r=Math.sqrt(e**2+n**2);let i=180*Math.atan2(n,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new $n(t,r,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:o}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;i=t*Math.cos(n*e),o=t*Math.sin(n*e)}const a=(r+16)/116,s=i/500+a,l=a-o/200,u=16/116,c=.008856,f=7.787;t=.95047*(s**3>c?s**3:(s-u)/f),e=1*(a**3>c?a**3:(a-u)/f),n=1.08883*(l**3>c?l**3:(l-u)/f)}const r=3.2406*t+-1.5372*e+-.4986*n,i=-.9689*t+1.8758*e+.0415*n,o=.0557*t+-.204*e+1.057*n,a=Math.pow,s=.0031308,l=r>s?1.055*a(r,1/2.4)-.055:12.92*r,u=i>s?1.055*a(i,1/2.4)-.055:12.92*i,c=o>s?1.055*a(o,1/2.4)-.055:12.92*o;return new $n(255*l,255*u,255*c)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new $n(n,n,n);const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=255*Jn(i,r,t+1/3),a=255*Jn(i,r,t),s=255*Jn(i,r,t-1/3);return new $n(o,a,s)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:r}=this,i=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,e*(1-r)+r)),a=255*(1-Math.min(1,n*(1-r)+r));return new $n(i,o,a)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:r,space:i}=this;return[t,e,n,r,i]}toHex(){const[t,e,n]=this._clamped().map(Zn);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*a+.3576*s+.1805*l)/.95047,c=(.2126*a+.7152*s+.0722*l)/1,f=(.0193*a+.1192*s+.9505*l)/1.08883,h=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new $n(h,d,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:r,min:i,round:o}=Math;return[t,e,n].map((t=>r(0,i(o(t),255))))}}class tr{constructor(...t){this.init(...t)}clone(){return new tr(this)}init(t,e){const n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){nr.isMatrixLike(t)||(t=new nr(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function er(t,e,n){return Math.abs(e-t)<(n||1e-6)}class nr{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,u=t.rotate||t.theta||0,c=new tr(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),f=c.x,h=c.y,d=new tr(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=d.x,y=d.y,v=new tr(t.translate||t.tx||t.translateX,t.ty||t.translateY),g=v.x,m=v.y,_=new tr(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:s,skewX:i,skewY:o,shear:l,theta:u,rx:_.x,ry:_.y,tx:g,ty:m,ox:f,oy:h,px:p,py:y}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=o,n.d=a,n.e=s,n.f=l,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}clone(){return new nr(this)}decompose(t=0,e=0){const n=this.a,r=this.b,i=this.c,o=this.d,a=this.e,s=this.f,l=n*o-r*i,u=l>0?1:-1,c=u*Math.sqrt(n*n+r*r),f=Math.atan2(u*r,u*n),h=180/Math.PI*f,d=Math.cos(f),p=Math.sin(f),y=(n*i+r*o)/l,v=i*c/(y*n-r)||o*c/(y*r+n);return{scaleX:c,scaleY:v,shear:y,rotate:h,translateX:a-t+t*d*c+e*(y*d*c-p*v),translateY:s-e+t*p*c+e*(y*p*c+d*v),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new nr(t);return er(this.a,e.a)&&er(this.b,e.b)&&er(this.c,e.c)&&er(this.d,e.d)&&er(this.e,e.e)&&er(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=nr.fromArray([1,0,0,1,0,0]);return t=t instanceof kr?t.matrixify():"string"==typeof t?nr.fromArray(t.split(Yn).map(parseFloat)):Array.isArray(t)?nr.fromArray(t):"object"==typeof t&&nr.isMatrixLike(t)?t:"object"==typeof t?(new nr).transform(t):6===arguments.length?nr.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,o=this.f,a=t*r-e*n;if(!a)throw new Error("Cannot invert "+this);const s=r/a,l=-e/a,u=-n/a,c=t/a,f=-(s*i+u*o),h=-(l*i+c*o);return this.a=s,this.b=l,this.c=u,this.d=c,this.e=f,this.f=h,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof nr?t:new nr(t);return nr.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof nr?t:new nr(t);return nr.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=pn(t);const r=Math.cos(t),i=Math.sin(t),{a:o,b:a,c:s,d:l,e:u,f:c}=this;return this.a=o*r-a*i,this.b=a*r+o*i,this.c=s*r-l*i,this.d=l*r+s*i,this.e=u*r-c*i+n*i-e*r+e,this.f=c*r+u*i-e*i-n*r+n,this}scale(t,e,n,r){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t);const{a:i,b:o,c:a,d:s,e:l,f:u}=this;return this.a=i*t,this.b=o*e,this.c=a*t,this.d=s*e,this.e=l*t-n*t+n,this.f=u*e-r*e+r,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:r,b:i,c:o,d:a,e:s,f:l}=this;return this.a=r+i*t,this.c=o+a*t,this.e=s+l*t-n*t,this}skew(t,e,n,r){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t),t=pn(t),e=pn(e);const i=Math.tan(t),o=Math.tan(e),{a,b:s,c:l,d:u,e:c,f}=this;return this.a=a+s*i,this.b=s+a*o,this.c=l+u*i,this.d=u+l*o,this.e=c+f*i-r*i,this.f=f+c*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(nr.isMatrixLike(t))return new nr(t).multiplyO(this);const e=nr.formatTransforms(t),{x:n,y:r}=new tr(e.ox,e.oy).transform(this),i=(new nr).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const t=new tr(n,r).transform(i),o=isFinite(e.px)?e.px-t.x:0,a=isFinite(e.py)?e.py-t.y:0;i.translateO(o,a)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function rr(){if(!rr.nodes){const t=Pn().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;rr.nodes={svg:t,path:e}}if(!rr.nodes.svg.node.parentNode){const t=xn.document.body||xn.document.documentElement;rr.nodes.svg.addTo(t)}return rr.nodes}function ir(t){return!(t.width||t.height||t.x||t.y)}On(nr,"Matrix");class or{constructor(...t){this.init(...t)}addOffset(){return this.x+=xn.window.pageXOffset,this.y+=xn.window.pageYOffset,new or(this)}init(t){return t="string"==typeof t?t.split(Yn).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return ir(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-n;return new or(e,n,r,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof nr||(t=new nr(t));let e=1/0,n=-1/0,r=1/0,i=-1/0;return[new tr(this.x,this.y),new tr(this.x2,this.y),new tr(this.x,this.y2),new tr(this.x2,this.y2)].forEach((function(o){o=o.transform(t),e=Math.min(e,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.y)})),new or(e,r,n-e,i-r)}}function ar(t,e,n){let r;try{if(r=e(t.node),ir(r)&&(i=t.node)!==xn.document&&!(xn.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===xn.document}).call(xn.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){r=n(t)}var i;return r}un({viewbox:{viewbox(t,e,n,r){return null==t?new or(this.attr("viewBox")):this.attr("viewBox",new or(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&"string"!=typeof n&&"string"!=typeof r||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=n/i.width,a=r/i.height,s=Math.min(o,a);if(null==t)return s;let l=s/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new tr(n/2/o+i.x,r/2/a+i.y);const u=new or(i).transform(new nr({scale:l,origin:e}));return this.viewbox(u)}}}),On(or,"Box");class sr extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}Ln([sr],{each(t,...e){return"function"==typeof t?this.map(((e,n,r)=>t.call(e,e,n,r))):this.map((n=>n[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const lr=["toArray","constructor","each"];function ur(t,e){return new sr(hn((e||xn.document).querySelectorAll(t),(function(t){return Rn(t)})))}sr.extend=function(t){t=t.reduce(((t,e)=>(lr.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),Ln([sr],t)};let cr=0;const fr={};function hr(t){let e=t.getEventHolder();return e===xn.window&&(e=fr),e.events||(e.events={}),e.events}function dr(t){return t.getEventTarget()}function pr(t,e,n,r,i){const o=n.bind(r||t),a=Pn(t),s=hr(a),l=dr(a);e=Array.isArray(e)?e:e.split(Yn),n._svgjsListenerId||(n._svgjsListenerId=++cr),e.forEach((function(t){const e=t.split(".")[0],r=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][r]=s[e][r]||{},s[e][r][n._svgjsListenerId]=o,l.addEventListener(e,o,i||!1)}))}function yr(t,e,n,r){const i=Pn(t),o=hr(i),a=dr(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Yn)).forEach((function(t){const e=t&&t.split(".")[0],s=t&&t.split(".")[1];let l,u;if(n)o[e]&&o[e][s||"*"]&&(a.removeEventListener(e,o[e][s||"*"][n],r||!1),delete o[e][s||"*"][n]);else if(e&&s){if(o[e]&&o[e][s]){for(u in o[e][s])yr(a,[e,s].join("."),u);delete o[e][s]}}else if(s)for(t in o)for(l in o[t])s===l&&yr(a,[t,s].join("."));else if(e){if(o[e]){for(l in o[e])yr(a,[e,l].join("."));delete o[e]}}else{for(t in o)yr(a,t);!function(t){let e=t.getEventHolder();e===xn.window&&(e=fr),e.events&&(e.events={})}(i)}}))}class vr extends Sn{addEventListener(){}dispatch(t,e,n){return function(t,e,n,r){const i=dr(t);return e instanceof xn.window.Event||(e=new xn.window.CustomEvent(e,{detail:n,cancelable:!0,...r})),i.dispatchEvent(e),e}(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const r in n[e])n[e][r](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e){return yr(this,t,e),this}on(t,e,n,r){return pr(this,t,e,n,r),this}removeEventListener(){}}function gr(){}On(vr,"EventTarget");const mr=400,_r=">",br=0,wr={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class xr extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Yn).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class Sr{constructor(...t){this.init(...t)}convert(t){return new Sr(this.value,t)}divide(t){return t=new Sr(t),new Sr(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(Fn))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof Sr&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new Sr(t),new Sr(this-t,this.unit||t.unit)}plus(t){return t=new Sr(t),new Sr(this+t,this.unit||t.unit)}times(t){return t=new Sr(t),new Sr(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Er=[];class Cr extends vr{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=Pn(t)).removeNamespace&&this.node instanceof xn.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return Pn(t).put(this,e)}children(){return new sr(hn(this.node.children,(function(t){return Rn(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(Dn(this.node.cloneNode(t)))}each(t,e){const n=this.children();let r,i;for(r=0,i=n.length;r<i;r++)t.apply(n[r],[r,n]),e&&n[r].each(t,e);return this}element(t,e){return this.put(new Cr(kn(t),e))}first(){return Rn(this.node.firstChild)}get(t){return Rn(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=Mn(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Rn(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=Rn(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=Rn(e.node.parentNode));return e}put(t,e){return t=Pn(t),this.add(t,e),t}putIn(t,e){return Pn(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Pn(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,r=this.attr(e);for(const t in r)"number"==typeof r[t]&&(r[t]=Math.round(r[t]*n)/n);return this.attr(r),this}svg(t,e){return this.xml(t,e,_n)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=Rn(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each((function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const r=kn("wrapper",n),i=xn.document.createDocumentFragment();r.innerHTML=t;for(let t=r.children.length;t--;)i.appendChild(r.firstElementChild);const o=this.parent();return e?this.replace(i)&&o:this.add(i)}}Ln(Cr,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=Hn.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?wr[t]:Hn.test(e)?parseFloat(e):e;"number"==typeof(e=Er.reduce(((e,n)=>n(t,e,this)),e))?e=new Sr(e):$n.isColor(e)?e=new $n(e):e.constructor===Array&&(e=new xr(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return ur(t,this.node)},findOne:function(t){return Rn(this.node.querySelector(t))}}),On(Cr,"Dom");class kr extends Cr{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new Sr(t).plus(this.x()))}dy(t=0){return this.y(new Sr(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){t=Pn(t);const e=new sr;let n=this;for(;(n=n.parent())&&n.node!==xn.document&&"#document-fragment"!==n.nodeName&&(e.push(n),n.node!==t.node););return e}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Bn);return e?Pn(e[1]):null}root(){const t=this.parent(En[Cn]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=gn(this,t,e);return this.width(new Sr(n.width)).height(new Sr(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Ln(kr,{bbox:function(){const t=ar(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(rr().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new or(t)},rbox:function(t){const e=ar(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),n=new or(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new tr(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new nr(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new nr(e)}return new nr(this.node.getScreenCTM())}}),On(kr,"Element");const Pr={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof $n||$n.isRgb(e)||e instanceof kr)this.attr(t,e);else for(n=Pr[t].length-1;n>=0;n--)null!=e[Pr[t][n]]&&this.attr(Pr.prefix(t,Pr[t][n]),e[Pr[t][n]]);return this},un(["Element","Runner"],e)})),un(["Element","Runner"],{matrix:function(t,e,n,r,i,o){return null==t?new nr(this):this.attr("transform",new nr(t,e,n,r,i,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),un("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new Sr(t)):this.rx(t).ry(e)}}),un("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new tr(this.node.getPointAtLength(t))}}),un(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),un("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),un("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(zn).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(Yn).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(nr.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new nr)},toParent:function(t,e){if(this===t)return this;const n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new nr(this).decompose();return null==t?e:e[t]}nr.isMatrixLike(t)||(t={...t,origin:mn(t,this)});const n=new nr(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class Tr extends kr{flatten(t=this,e){return this.each((function(){if(this instanceof Tr)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(n,r){return r[r.length-n-1].toParent(t,e)})),this.remove()}}On(Tr,"Container");class Rr extends Tr{constructor(t,e=t){super(Tn("defs",t),e)}flatten(){return this}ungroup(){return this}}On(Rr,"Defs");class Ar extends kr{}function Or(t){return this.attr("rx",t)}function Ir(t){return this.attr("ry",t)}function Mr(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Dr(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Lr(t){return this.attr("cx",t)}function jr(t){return this.attr("cy",t)}function Fr(t){return null==t?2*this.rx():this.rx(new Sr(t).divide(2))}function Nr(t){return null==t?2*this.ry():this.ry(new Sr(t).divide(2))}On(Ar,"Shape");var Ur={__proto__:null,rx:Or,ry:Ir,x:Mr,y:Dr,cx:Lr,cy:jr,width:Fr,height:Nr};class Br extends Ar{constructor(t,e=t){super(Tn("ellipse",t),e)}size(t,e){const n=gn(this,t,e);return this.rx(new Sr(n.width).divide(2)).ry(new Sr(n.height).divide(2))}}Ln(Br,Ur),un("Container",{ellipse:jn((function(t=0,e=t){return this.put(new Br).size(t,e).move(0,0)}))}),On(Br,"Ellipse");class zr extends Cr{constructor(t=xn.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new Cr(kn("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}function Wr(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Sr(t),fy:new Sr(e)}):this.attr({x1:new Sr(t),y1:new Sr(e)})}function Gr(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Sr(t),cy:new Sr(e)}):this.attr({x2:new Sr(t),y2:new Sr(e)})}On(zr,"Fragment");var qr,Vr={__proto__:null,from:Wr,to:Gr};class Hr extends Tr{constructor(t,e){super(Tn(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new or}targets(){return ur('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Ln(Hr,Vr),un({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:jn((function(t,e){return this.put(new Hr(t)).update(e)}))}}),On(Hr,"Gradient");class Xr extends Tr{constructor(t,e=t){super(Tn("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new or}targets(){return ur('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}un({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:jn((function(t,e,n){return this.put(new Xr).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),On(Xr,"Pattern");class Yr extends Ar{constructor(t,e=t){super(Tn("image",t),e)}load(t,e){if(!t)return this;const n=new xn.window.Image;return pr(n,"load",(function(t){const r=this.parent(Xr);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Xr&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),pr(n,"load error",(function(){yr(n)})),this.attr("href",n.src=t,wn)}}qr=function(t,e,n){return"fill"!==t&&"stroke"!==t||Xn.test(e)&&(e=n.root().defs().image(e)),e instanceof Yr&&(e=n.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},Er.push(qr),un({Container:{image:jn((function(t,e){return this.put(new Yr).size(0,0).load(t,e)}))}}),On(Yr,"Image");class Kr extends xr{bbox(){let t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),new or(n,r,t-n,e-r)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Yn).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){nr.isMatrixLike(t)||(t=new nr(t));for(let e=this.length;e--;){const[n,r]=this[e];this[e][0]=t.a*n+t.c*r+t.e,this[e][1]=t.b*n+t.d*r+t.f}return this}}var Zr={__proto__:null,MorphArray:Kr,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class Qr extends Ar{constructor(t,e=t){super(Tn("line",t),e)}array(){return new Kr([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new Kr(t).toLine(),this.attr(t))}size(t,e){const n=gn(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}Ln(Qr,Zr),un({Container:{line:jn((function(...t){return Qr.prototype.plot.apply(this.put(new Qr),null!=t[0]?t:[0,0,0,0])}))}}),On(Qr,"Line");class Jr extends Tr{constructor(t,e=t){super(Tn("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function $r(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}un({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:jn((function(t,e,n){return this.put(new Jr).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker(t,e,n,r){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Jr?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),On(Jr,"Marker");const ti={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(r,i=!1)=>{let o=Math.floor(r*t);const a=r*o%1==0;return"start"!==e&&"both"!==e||++o,i&&a&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}};class ei{done(){return!1}}class ni extends ei{constructor(t=_r){super(),this.ease=ti[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class ri extends ei{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,r){return this.stepper(t,e,n,r)}}function ii(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),o=3.9/(i*t);this.d=2*i*o,this.k=o*o}Ln(class extends ri{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const i=r.velocity||0,o=-this.d*i-this.k*(t-e),a=t+i*n+o*n*n/2;return r.velocity=i+o*n,r.done=Math.abs(e-a)+Math.abs(i)<.002,r.done?e:a}},{duration:$r("_duration",ii),overshoot:$r("_overshoot",ii)}),Ln(class extends ri{constructor(t=.1,e=.01,n=0,r=1e3){super(),this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;const i=e-t;let o=(r.integral||0)+i*n;const a=(i-(r.error||0))/n,s=this._windup;return!1!==s&&(o=Math.max(-s,Math.min(o,s))),r.error=i,r.integral=o,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*o+this.D*a)}},{windup:$r("_windup"),p:$r("P"),i:$r("I"),d:$r("D")});const oi={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},ai={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},si="mlhvqtcsaz".split("");for(let t=0,e=si.length;t<e;++t)ai[si[t]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,r=e.length;t<r;++t)e[t]=e[t]+(t%2?n.y:n.x);return ai[t](e,n,r)}}(si[t].toUpperCase());function li(t){return t.segment.length&&t.segment.length-1===oi[t.segment[0].toUpperCase()]}function ui(t,e){t.inNumber&&ci(t,!1);const n=Kn.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),r=e===n;t.segment=["m"===n?r?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function ci(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,li(t)&&fi(t)}function fi(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return ai[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function hi(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function di(t){return"E"===t.lastToken.toUpperCase()}class pi extends xr{bbox(){return rr().path.setAttribute("d",this.toString()),new or(rr.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],"M"===n||"L"===n||"T"===n?(this[r][1]+=t,this[r][2]+=e):"H"===n?this[r][1]+=t:"V"===n?this[r][1]+=e:"C"===n||"S"===n||"Q"===n?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,"C"===n&&(this[r][5]+=t,this[r][6]+=e)):"A"===n&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new tr,p:new tr};for(;i.lastToken=r,r=t.charAt(n++);)if(i.inSegment||!ui(i,r))if("."!==r)if(isNaN(parseInt(r)))if(" "!==r&&","!==r)if("-"!==r)if("E"!==r.toUpperCase()){if(Kn.test(r)){if(i.inNumber)ci(i,!1);else{if(!li(i))throw new Error("parser Error");fi(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!di(i)){ci(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else i.inNumber&&ci(i,!1);else{if("0"===i.number||hi(i)){i.inNumber=!0,i.number=r,ci(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){ci(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&ci(i,!1),i.inSegment&&li(i)&&fi(i),i.segments}(t)}size(t,e){const n=this.bbox();let r,i;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y):"H"===i?this[r][1]=(this[r][1]-n.x)*t/n.width+n.x:"V"===i?this[r][1]=(this[r][1]-n.y)*e/n.height+n.y:"C"===i||"S"===i||"Q"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y,this[r][3]=(this[r][3]-n.x)*t/n.width+n.x,this[r][4]=(this[r][4]-n.y)*e/n.height+n.y,"C"===i&&(this[r][5]=(this[r][5]-n.x)*t/n.width+n.x,this[r][6]=(this[r][6]-n.y)*e/n.height+n.y)):"A"===i&&(this[r][1]=this[r][1]*t/n.width,this[r][2]=this[r][2]*e/n.height,this[r][6]=(this[r][6]-n.x)*t/n.width+n.x,this[r][7]=(this[r][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const yi=t=>{const e=typeof t;return"number"===e?Sr:"string"===e?$n.isColor(t)?$n:Yn.test(t)?Kn.test(t)?pi:xr:Fn.test(t)?Sr:gi:wi.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?xr:"object"===e?bi:gi};class vi{constructor(t){this._stepper=t||new ni("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){const e=this;return this._morphObj.fromArray(this._from.map((function(n,r){return e._stepper.step(n,e._to[r],t,e._context[r],e._context)})))}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(yi(t));let e=new this._type(t);return this._type===$n&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===bi&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class gi{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class mi{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,mi.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}mi.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const _i=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class bi{constructor(...t){this.init(...t)}align(t){for(let e=0,n=this.values.length;e<n;++e)if(this.values[e]===$n){const n=t[e+6],r=new $n(this.values.splice(e+2,5))[n]().toArray();this.values.splice(e+2,0,...r)}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const r=yi(t[n]),i=new r(t[n]).toArray();e.push([n,r,i.length,...i])}return e.sort(_i),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),r=e.shift(),i=e.shift(),o=e.splice(0,i);t[n]=new r(o).valueOf()}return t}}const wi=[gi,mi,bi];class xi extends Ar{constructor(t,e=t){super(Tn("path",t),e)}array(){return this._array||(this._array=new pi(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new pi(t))}size(t,e){const n=gn(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}xi.prototype.MorphArray=pi,un({Container:{path:jn((function(t){return this.put(new xi).plot(t||new pi)}))}}),On(xi,"Path");var Si={__proto__:null,array:function(){return this._array||(this._array=new Kr(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new Kr(t))},size:function(t,e){const n=gn(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}};class Ei extends Ar{constructor(t,e=t){super(Tn("polygon",t),e)}}un({Container:{polygon:jn((function(t){return this.put(new Ei).plot(t||new Kr)}))}}),Ln(Ei,Zr),Ln(Ei,Si),On(Ei,"Polygon");class Ci extends Ar{constructor(t,e=t){super(Tn("polyline",t),e)}}un({Container:{polyline:jn((function(t){return this.put(new Ci).plot(t||new Kr)}))}}),Ln(Ci,Zr),Ln(Ci,Si),On(Ci,"Polyline");class ki extends Ar{constructor(t,e=t){super(Tn("rect",t),e)}}Ln(ki,{rx:Or,ry:Ir}),un({Container:{rect:jn((function(t,e){return this.put(new ki).size(t,e)}))}}),On(ki,"Rect");class Pi{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Ti={nextDraw:null,frames:new Pi,timeouts:new Pi,immediates:new Pi,timer:()=>xn.window.performance||xn.window.Date,transforms:[],frame(t){const e=Ti.frames.push({run:t});return null===Ti.nextDraw&&(Ti.nextDraw=xn.window.requestAnimationFrame(Ti._draw)),e},timeout(t,e){e=e||0;const n=Ti.timer().now()+e,r=Ti.timeouts.push({run:t,time:n});return null===Ti.nextDraw&&(Ti.nextDraw=xn.window.requestAnimationFrame(Ti._draw)),r},immediate(t){const e=Ti.immediates.push(t);return null===Ti.nextDraw&&(Ti.nextDraw=xn.window.requestAnimationFrame(Ti._draw)),e},cancelFrame(t){null!=t&&Ti.frames.remove(t)},clearTimeout(t){null!=t&&Ti.timeouts.remove(t)},cancelImmediate(t){null!=t&&Ti.immediates.remove(t)},_draw(t){let e=null;const n=Ti.timeouts.last();for(;(e=Ti.timeouts.shift())&&(t>=e.time?e.run():Ti.timeouts.push(e),e!==n););let r=null;const i=Ti.frames.last();for(;r!==i&&(r=Ti.frames.shift());)r.run(t);let o=null;for(;o=Ti.immediates.shift();)o();Ti.nextDraw=Ti.timeouts.first()||Ti.frames.first()?xn.window.requestAnimationFrame(Ti._draw):null}},Ri=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Ai=function(){const t=xn.window;return(t.performance||t.Date).now()};class Oi extends vr{constructor(t=Ai){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map(Ri);let r=0;const i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(r=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();r=t?t.start:this._time}}t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:null===o?this._persist:o,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Ti.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Ti.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],o=n.runner;let a=r;const s=this._time-n.start;s<=0?i=!0:(s<a&&(a=s),o.active()&&(o.step(a).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}un({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Oi,this._timeline):(this._timeline=t,this)}}});class Ii extends vr{constructor(t){super(),this.id=Ii.id++,t="function"==typeof(t=null==t?mr:t)?new ri(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof ri,this._stepper=this._isDeclarative?t:new ni,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new nr,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let r=1,i=!1,o=0;return e=e||br,n=n||"last","object"!=typeof(t=t||mr)||t instanceof ei||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,o=t.wait||o,t=t.duration||mr),{duration:t,delay:e,swing:i,times:r,wait:o,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const r=Ii.sanitise(t,e,n),i=new Ii(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new nr,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new ni(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,r=e*Math.floor(t)+this._duration*n;return this.time(r)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,r=this._wait,i=this._times,o=this._swing,a=this._reverse;let s;if(null==t){const t=function(t){const e=o*Math.floor(t%(2*(r+n))/(r+n)),i=e&&!a||!e&&a,s=Math.pow(-1,i)*(t%(r+n))/n+i;return Math.max(Math.min(s,1),0)},l=i*(r+n)-r;return s=e<=0?Math.round(t(1e-5)):e<l?t(e):Math.round(t(l-1e-5)),s}const l=Math.floor(this.loops()),u=o&&l%2==0;return s=l+(u&&!a||a&&u?t:1-t),this.loops(s)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,r){return this._queue.push({initialiser:t||gr,runner:e||gr,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Oi||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const r=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let s=!1;return(n||a)&&(this._initialise(n),this.transforms=new nr,s=this._run(a?t:e),this.fire("step",this)),this.done=this.done||s&&a,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,r=this._queue.length;n<r;++n){const r=this._queue[n],i=r.runner.call(this,t);r.finished=r.finished||!0===i,e=e&&r.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}Ii.id=0;class Mi{constructor(t=new nr,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}Ln([Ii,Mi],{mergeWith(t){return new Mi(t.transforms.lmultiply(this.transforms),t.id)}});const Di=(t,e)=>t.lmultiplyO(e),Li=t=>t.transforms;function ji(){const t=this._transformationRunners.runners.map(Li).reduce(Di,new nr);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class Fi{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Mi).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const r=n.mergeWith(t);this.edit(t.id,r),t=r,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}un({Element:{animate(t,e,n){const r=Ii.sanitise(t,e,n),i=this.timeline();return new Ii(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Li).reduce(Di,new nr)},_addRunner(t){this._transformationRunners.add(t),Ti.cancelImmediate(this._frameId),this._frameId=Ti.immediate(ji.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new Fi).add(new Mi(new nr(this))))}}}),Ln(Ii,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new vi(this._stepper).to(r),o=Object.keys(r);return this.queue((function(){i=i.from(this.element()[t](o))}),(function(e){return this.element()[t](i.at(e).valueOf()),i.done()}),(function(e){const n=Object.keys(e),a=(s=o,n.filter((t=>!s.includes(t))));var s;if(a.length){const e=this.element()[t](a),n=new bi(i.from()).valueOf();Object.assign(n,e),i.from(n)}const l=new bi(i.to()).valueOf();Object.assign(l,e),i.to(l),o=n,r=e})),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new vi(this._stepper).to(new Sr(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const r=nr.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;const i=new vi(this._stepper).type(n?mi:nr);let o,a,s,l,u;return this.queue((function(){a=a||this.element(),o=o||mn(t,a),u=new nr(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:f,y:h}=new tr(o).transform(a._currentTransform(this));let d=new nr({...t,origin:[f,h]}),p=this._isDeclarative&&s?s:u;if(n){d=d.decompose(f,h),p=p.decompose(f,h);const t=d.rotate,e=p.rotate,n=[t-360,t,t+360],r=n.map((t=>Math.abs(t-e))),i=Math.min(...r),o=r.indexOf(i);d.rotate=n[o]}e&&(r||(d.rotate=t.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),i.from(p),i.to(d);const y=i.at(c);return l=y.rotate,s=new nr(y),this.addTransform(s),a._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=mn(e,a)),t={...e,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new Sr(e),this._tryRetarget(t,e))return this;const n=new vi(this._stepper).to(e);let r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new Sr(t))})),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new vi(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new Sr(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;const i=new vi(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new or(t,e,n,r))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Ln(Ii,{rx:Or,ry:Ir,from:Wr,to:Gr}),On(Ii,"Runner");class Ni extends Tr{constructor(t,e=t){super(Tn("svg",t),e),this.namespace()}defs(){return this.isRoot()?Rn(this.node.querySelector("defs"))||this.put(new Rr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof xn.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:_n,version:"1.1"}).attr("xmlns:xlink",wn,bn).attr("xmlns:svgjs","http://svgjs.dev/svgjs",bn):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,bn).attr("xmlns:svgjs",null,bn)}root(){return this.isRoot()?this:super.root()}}un({Container:{nested:jn((function(){return this.put(new Ni)}))}}),On(Ni,"Svg",!0);class Ui extends Tr{constructor(t,e=t){super(Tn("symbol",t),e)}}un({Container:{symbol:jn((function(){return this.put(new Ui)}))}}),On(Ui,"Symbol");var Bi={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(xn.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class zi extends Ar{constructor(t,e=t){super(Tn("text",t),e),this.dom.leading=new Sr(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new Sr(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each((function(r){const i=xn.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new Sr(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=o:(this.attr("dy",r?o+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new Sr(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===Rn(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}Ln(zi,Bi),un({Container:{text:jn((function(t=""){return this.put(new zi).text(t)})),plain:jn((function(t=""){return this.put(new zi).plain(t)}))}}),On(zi,"Text");class Wi extends Ar{constructor(t,e=t){super(Tn("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof zi))return this;const e=t.index(this),n=xn.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new Sr(n);return this.dy(e?r:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Ln(Wi,Bi),un({Tspan:{tspan:jn((function(t=""){const e=new Wi;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),On(Wi,"Tspan");class Gi extends Ar{constructor(t,e=t){super(Tn("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new Sr(t).divide(2))}}Ln(Gi,{x:Mr,y:Dr,cx:Lr,cy:jr,width:Fr,height:Nr}),un({Container:{circle:jn((function(t=0){return this.put(new Gi).size(t).move(0,0)}))}}),On(Gi,"Circle");class qi extends Tr{constructor(t,e=t){super(Tn("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return ur('svg [clip-path*="'+this.id()+'"]')}}un({Container:{clip:jn((function(){return this.defs().put(new qi)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof qi?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),On(qi,"ClipPath");class Vi extends kr{constructor(t,e=t){super(Tn("foreignObject",t),e)}}un({Container:{foreignObject:jn((function(t,e){return this.put(new Vi).size(t,e)}))}}),On(Vi,"ForeignObject");var Hi={__proto__:null,dmove:function(t,e){return this.children().forEach(((n,r)=>{let i;try{i=n.bbox()}catch(t){return}const o=new nr(n),a=o.translate(t,e).transform(o.inverse()),s=new tr(i.x,i.y).transform(a);n.move(s.x,s.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)},size:function(t,e,n=this.bbox()){const r=gn(this,t,e,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(((t,e)=>{const r=new tr(n).transform(new nr(t).inverse());t.scale(i,o,r.x,r.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class Xi extends Tr{constructor(t,e=t){super(Tn("g",t),e)}}Ln(Xi,Hi),un({Container:{group:jn((function(){return this.put(new Xi)}))}}),On(Xi,"G");class Yi extends Tr{constructor(t,e=t){super(Tn("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,wn)}}Ln(Yi,Hi),un({Container:{link:jn((function(t){return this.put(new Yi).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Yi,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),On(Yi,"A");class Ki extends Tr{constructor(t,e=t){super(Tn("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return ur('svg [mask*="'+this.id()+'"]')}}un({Container:{mask:jn((function(){return this.defs().put(new Ki)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof Ki?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),On(Ki,"Mask");class Zi extends kr{constructor(t,e=t){super(Tn("stop",t),e)}update(t){return("number"==typeof t||t instanceof Sr)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Sr(t.offset)),this}}un({Gradient:{stop:function(t,e,n){return this.put(new Zi).update(t,e,n)}}}),On(Zi,"Stop");class Qi extends kr{constructor(t,e=t){super(Tn("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[t]+";";return n+="}",n}(t,e))}}un("Dom",{style(t,e){return this.put(new Qi).rule(t,e)},fontface(t,e,n){return this.put(new Qi).font(t,e,n)}}),On(Qi,"Style");class Ji extends zi{constructor(t,e=t){super(Tn("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}un({Container:{textPath:jn((function(t,e){return t instanceof zi||(t=this.text(t)),t.path(e)}))},Text:{path:jn((function(t,e=!0){const n=new Ji;let r;if(t instanceof xi||(t=this.defs().path(t)),n.attr("href","#"+t,wn),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:jn((function(t){return t instanceof zi||(t=(new zi).addTo(this.parent()).text(t)),t.path(this)})),targets(){return ur("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),Ji.prototype.MorphArray=pi,On(Ji,"TextPath");class $i extends Ar{constructor(t,e=t){super(Tn("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,wn)}}un({Container:{use:jn((function(t,e){return this.put(new $i).use(t,e)}))}}),On($i,"Use");const to=Pn;Ln([Ni,Ui,Yr,Xr,Jr],cn("viewbox")),Ln([Qr,Ci,Ei,xi],cn("marker")),Ln(zi,cn("Text")),Ln(xi,cn("Path")),Ln(Rr,cn("Defs")),Ln([zi,Wi],cn("Tspan")),Ln([ki,Br,Hr,Ii],cn("radius")),Ln(vr,cn("EventTarget")),Ln(Cr,cn("Dom")),Ln(kr,cn("Element")),Ln(Ar,cn("Shape")),Ln([Tr,zr],cn("Container")),Ln(Hr,cn("Gradient")),Ln(Ii,cn("Runner")),sr.extend([...new Set(ln)]),function(t=[]){wi.push(...[].concat(t))}([Sr,$n,or,nr,xr,Kr,pi]),Ln(wi,{to(t){return(new vi).type(this.constructor).from(this.valueOf()).to(t)},fromArray(t){return this.init(t),this}});var eo=__webpack_require__(2004),no=__webpack_require__(3279),ro=__webpack_require__.n(no);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function oo(t,e){return oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},oo(t,e)}function ao(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function so(t){return so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},so(t)}var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=so(n);if(r){var i=so(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return ao(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).youtubeConfig={playerVars:{fs:0,disablekb:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0}},e.vimeoConfig={iframeParams:{autopause:0,badge:0,byline:0,fullscreen:0,portrait:0,title:0}},e}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.Component);function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fo(t,e)}function ho(t,e){if(e&&("object"===uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function po(t){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},po(t)}var yo=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=po(i);if(o){var n=po(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ho(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={duration:null},e.debouncedSeek=ro()(e.seekTo,200,{leading:!0,trailing:!1}),e}return n=s,(r=[{key:"render",value:function(){var e=this,n=this.props.data.source;"youtube"===this.props.data.host&&(n="https://www.youtube.com/watch?v="+this.props.data.source);var r=this.props.hidden?0:this.props.data.volume/100,i=this.props.data.start_time-this.props.time,o=i>0&&i<2;o&&this.debouncedSeek(this.props.time/this.props.sequenceDuration);var a=o||!this.props.hidden&&this.props.playing;return t.createElement(eo.Z,{ref:function(t){return e.player=t},width:480,height:360,url:n,volume:r,style:{display:this.props.hidden?"none":"block"},onDuration:this.onDuration.bind(this),onStart:this.onStart.bind(this),onPlay:this.onPlay.bind(this),playing:a,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}})}},{key:"pause",value:function(){this.player&&this.player.player&&this.player.player.pause&&this.player.player.pause()}},{key:"onDuration",value:function(t){this.setState({duration:t})}},{key:"onPlay",value:function(){this.props.playing||this.props.hidden||this.pause()}},{key:"onStart",value:function(){var t=this.props.data;if(t.annotationStartTime&&this.state.duration){var e=t.annotationStartTime/this.state.duration;this.player.seekTo(e)}}},{key:"seekTo",value:function(t){if(this.player){var e=this.props.sequenceDuration*t,n=this.props.data,r=(e-n.start_time+(n.annotationStartTime||0))/this.state.duration;r>-1&&r<=1&&this.player.seekTo(r)}}}])&&co(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(lo),vo={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5"};vo.WEBGL_MAX_TEXTURE_SIZE,vo.WEBGL_EXTENSIONS,vo.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vo.nullFunction=function(){},vo.getUid=function(t){return t.ol_uid||(t.ol_uid=++vo.uidCounter_)},vo.uidCounter_=0;const go=vo;var mo=function(t){var e=go.VERSION?go.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};go.inherits(mo,Error);const _o=mo;const bo={assert:function(t,e){if(!t)throw new _o(e)}};var wo={};wo.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},wo.clear=function(t){for(var e in t)delete t[e]},wo.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},wo.isEmpty=function(t){var e;for(e in t)return!1;return!e};const xo=wo;var So={bindListener_:function(t){var e=function(e){var n=t.listener,r=t.bindTo||t.target;return t.callOnce&&So.unlistenByKey(t),n.call(r,e)};return t.boundListener=e,e},findListener_:function(t,e,n,r){for(var i,o=0,a=t.length;o<a;++o)if((i=t[o]).listener===e&&i.bindTo===n)return r&&(i.deleteIndex=o),i},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=So.getListeners(t,e);if(n){for(var r=0,i=n.length;r<i;++r)t.removeEventListener(e,n[r].boundListener),xo.clear(n[r]);n.length=0;var o=t.ol_lm;o&&(delete o[e],0===Object.keys(o).length&&delete t.ol_lm)}},listen:function(t,e,n,r,i){var o=So.getListenerMap_(t),a=o[e];a||(a=o[e]=[]);var s=So.findListener_(a,n,r,!1);return s?i||(s.callOnce=!1):(s={bindTo:r,callOnce:!!i,listener:n,target:t,type:e},t.addEventListener(e,So.bindListener_(s)),a.push(s)),s},listenOnce:function(t,e,n,r){return So.listen(t,e,n,r,!0)},unlisten:function(t,e,n,r){var i=So.getListeners(t,e);if(i){var o=So.findListener_(i,n,r,!0);o&&So.unlistenByKey(o)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=So.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&So.removeListeners_(t.target,t.type)}xo.clear(t)}},unlistenAll:function(t){var e=So.getListenerMap_(t);for(var n in e)So.removeListeners_(t,n)}};const Eo=So,Co="change",ko="clear",Po="click",To="dblclick",Ro="error",Ao="keydown",Oo="keypress",Io="load",Mo="mousedown",Do="mousewheel",Lo="MSPointerDown",jo="resize",Fo="touchstart",No="wheel",Uo="propertychange";var Bo=function(){};Bo.prototype.disposed_=!1,Bo.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},Bo.prototype.disposeInternal=go.nullFunction;const zo=Bo;var Wo=function(t){this.propagationStopped,this.type=t,this.target=null};Wo.prototype.preventDefault=Wo.prototype.stopPropagation=function(){this.propagationStopped=!0},Wo.stopPropagation=function(t){t.stopPropagation()},Wo.preventDefault=function(t){t.preventDefault()};const Go=Wo;var qo=function(){zo.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};go.inherits(qo,zo),qo.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},qo.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Go(t):t,n=e.type;e.target=this;var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,a=i.length;o<a;++o)if(!1===i[o].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,go.nullFunction);delete this.dispatching_[n]}return r}},qo.prototype.disposeInternal=function(){Eo.unlistenAll(this)},qo.prototype.getListeners=function(t){return this.listeners_[t]},qo.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},qo.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=go.nullFunction,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}};const Vo=qo;var Ho=function(){Vo.call(this),this.revision_=0};go.inherits(Ho,Vo),Ho.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Eo.unlistenByKey(t[e]);else Eo.unlistenByKey(t)},Ho.prototype.changed=function(){++this.revision_,this.dispatchEvent(Co)},Ho.prototype.dispatchEvent,Ho.prototype.getRevision=function(){return this.revision_},Ho.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=Eo.listen(this,t[o],e,n);return i}return Eo.listen(this,t,e,n)},Ho.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=Eo.listenOnce(this,t[o],e,n);return i}return Eo.listenOnce(this,t,e,n)},Ho.prototype.un=function(t,e,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)Eo.unlisten(this,t[r],e,n);else Eo.unlisten(this,t,e,n)};const Xo=Ho;var Yo=function(t){Xo.call(this),go.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};go.inherits(Yo,Xo),Yo.changeEventTypeCache_={},Yo.getChangeEventType=function(t){return Yo.changeEventTypeCache_.hasOwnProperty(t)?Yo.changeEventTypeCache_[t]:Yo.changeEventTypeCache_[t]="change:"+t},Yo.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},Yo.prototype.getKeys=function(){return Object.keys(this.values_)},Yo.prototype.getProperties=function(){return xo.assign({},this.values_)},Yo.prototype.notify=function(t,e){var n;n=Yo.getChangeEventType(t),this.dispatchEvent(new Yo.Event(n,t,e)),n=Uo,this.dispatchEvent(new Yo.Event(n,t,e))},Yo.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},Yo.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},Yo.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},Yo.Event=function(t,e,n){Go.call(this,t),this.key=e,this.oldValue=n},go.inherits(Yo.Event,Go);const Ko=Yo,Zo="bottom-left",Qo="bottom-right",Jo="top-left",$o="top-right",ta=0,ea=1,na=2,ra=4,ia=8,oa=16;var aa={boundingExtent:function(t){for(var e=aa.createEmpty(),n=0,r=t.length;n<r;++n)aa.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return aa.createOrUpdate(r,i,o,a,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},containsCoordinate:function(t,e){return aa.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=ta;return a<n?l|=oa:a>i&&(l|=ra),s<r?l|=ia:s>o&&(l|=na),l===ta&&(l=ea),l},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]},createOrUpdateEmpty:function(t){return aa.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],r=t[1];return aa.createOrUpdate(n,r,n,r,e)},createOrUpdateFromCoordinates:function(t,e){var n=aa.createOrUpdateEmpty(e);return aa.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,r,i){var o=aa.createOrUpdateEmpty(i);return aa.extendFlatCoordinates(o,t,e,n,r)},createOrUpdateFromRings:function(t,e){var n=aa.createOrUpdateEmpty(e);return aa.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)aa.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,r,i){for(;n<r;n+=i)aa.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)aa.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var r;return(r=e.call(n,aa.getBottomLeft(t)))||(r=e.call(n,aa.getBottomRight(t)))||(r=e.call(n,aa.getTopRight(t)))?r:(r=e.call(n,aa.getTopLeft(t)))||!1},getArea:function(t){var e=0;return aa.isEmpty(t)||(e=aa.getWidth(t)*aa.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return e===Zo?n=aa.getBottomLeft(t):e===Qo?n=aa.getBottomRight(t):e===Jo?n=aa.getTopLeft(t):e===$o?n=aa.getTopRight(t):bo.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},getForViewAndSize:function(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,f=a*s,h=a*l,d=t[0],p=t[1],y=d-u+h,v=d-u-h,g=d+u-h,m=d+u+h,_=p-c-f,b=p-c+f,w=p+c+f,x=p+c-f;return aa.createOrUpdate(Math.min(y,v,g,m),Math.min(_,b,w,x),Math.max(y,v,g,m),Math.max(_,b,w,x),i)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=aa.getIntersection(t,e);return aa.getArea(n)},getIntersection:function(t,e,n){var r=n||aa.createEmpty();return aa.intersects(t,e)&&(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]),r},getMargin:function(t){return aa.getWidth(t)+aa.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},intersectsSegment:function(t,e,n){var r=!1,i=aa.coordinateRelationship(t,e),o=aa.coordinateRelationship(t,n);if(i===ea||o===ea)r=!0;else{var a,s,l=t[0],u=t[1],c=t[2],f=t[3],h=e[0],d=e[1],p=n[0],y=n[1],v=(y-d)/(p-h);o&na&&!(i&na)&&(r=(a=p-(y-f)/v)>=l&&a<=c),r||!(o&ra)||i&ra||(r=(s=y-(p-c)*v)>=u&&s<=f),r||!(o&ia)||i&ia||(r=(a=p-(y-u)/v)>=l&&a<=c),r||!(o&oa)||i&oa||(r=(s=y-(p-l)*v)>=u&&s<=f)}return r},applyTransform:function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var i=[r[0],r[2],r[4],r[6]],o=[r[1],r[3],r[5],r[7]];return aa.boundingExtentXYs_(i,o,n)}};const sa=aa;const la={TRUE:function(){return!0},FALSE:function(){return!1}};const ua={transform2D:function(t,e,n,r,i,o){var a,s=o||[],l=0;for(a=e;a<n;a+=r){var u=t[a],c=t[a+1];s[l++]=i[0]*u+i[2]*c+i[4],s[l++]=i[1]*u+i[3]*c+i[5]}return o&&s.length!=l&&(s.length=l),s},rotate:function(t,e,n,r,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],f=o[1],h=0,d=e;d<n;d+=r){var p=t[d]-c,y=t[d+1]-f;s[h++]=c+p*l-y*u,s[h++]=f+p*u+y*l;for(var v=d+2;v<d+r;++v)s[h++]=t[v]}return a&&s.length!=h&&(s.length=h),s},scale:function(t,e,n,r,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],f=0,h=e;h<n;h+=r){var d=t[h]-u,p=t[h+1]-c;l[f++]=u+i*d,l[f++]=c+o*p;for(var y=h+2;y<h+r;++y)l[f++]=t[y]}return s&&l.length!=f&&(l.length=f),l},translate:function(t,e,n,r,i,o,a){var s,l,u=a||[],c=0;for(s=e;s<n;s+=r)for(u[c++]=t[s]+i,u[c++]=t[s+1]+o,l=s+2;l<s+r;++l)u[c++]=t[l];return a&&u.length!=c&&(u.length=c),u}};var ca={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};ca.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},ca.roundUpToPowerOfTwo=function(t){return bo.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},ca.squaredSegmentDistance=function(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return ca.squaredDistance(t,e,n,r)},ca.squaredDistance=function(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o},ca.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var f=new Array(e),h=e-1;h>=0;h--){f[h]=t[h][e]/t[h][h];for(var d=h-1;d>=0;d--)t[d][e]-=t[d][h]*f[h]}return f},ca.toDegrees=function(t){return 180*t/Math.PI},ca.toRadians=function(t){return t*Math.PI/180},ca.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},ca.lerp=function(t,e,n){return t+n*(e-t)};const fa=ca,ha="Point",da="LineString",pa="LinearRing",ya="Polygon",va="MultiPoint",ga="MultiLineString",ma="MultiPolygon",_a="GeometryCollection",ba="Circle";var wa=function(t){this.radius=t};wa.prototype.geodesicArea=function(t){return wa.getArea_(t,this.radius)},wa.prototype.haversineDistance=function(t,e){return wa.getDistance_(t,e,this.radius)},wa.prototype.offset=function(t,e,n){var r=fa.toRadians(t[1]),i=fa.toRadians(t[0]),o=e/this.radius,a=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=i+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(a));return[fa.toDegrees(s),fa.toDegrees(a)]},wa.DEFAULT_RADIUS=6371008.8,wa.getLength=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||wa.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",f=(t=t.clone().transform(c,"EPSG:4326")).getType(),h=0;switch(f){case ha:case va:break;case da:case pa:n=t.getCoordinates(),h=wa.getLength_(n,u);break;case ga:case ya:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)h+=wa.getLength_(n[i],u);break;case ma:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(a=0,s=(r=n[i]).length;a<s;++a)h+=wa.getLength_(r[a],u);break;case _a:var d=t.getGeometries();for(i=0,o=d.length;i<o;++i)h+=wa.getLength(d[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return h},wa.getLength_=function(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=wa.getDistance_(t[r],t[r+1],e);return n},wa.getDistance_=function(t,e,n){var r=fa.toRadians(t[1]),i=fa.toRadians(e[1]),o=(i-r)/2,a=fa.toRadians(e[0]-t[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},wa.getArea=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||wa.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",f=(t=t.clone().transform(c,"EPSG:4326")).getType(),h=0;switch(f){case ha:case va:case da:case ga:case pa:break;case ya:for(n=t.getCoordinates(),h=Math.abs(wa.getArea_(n[0],u)),i=1,o=n.length;i<o;++i)h-=Math.abs(wa.getArea_(n[i],u));break;case ma:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(r=n[i],h+=Math.abs(wa.getArea_(r[0],u)),a=1,s=r.length;a<s;++a)h-=Math.abs(wa.getArea_(r[a],u));break;case _a:var d=t.getGeometries();for(i=0,o=d.length;i<o;++i)h+=wa.getArea(d[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return h},wa.getArea_=function(t,e){for(var n=0,r=t.length,i=t[r-1][0],o=t[r-1][1],a=0;a<r;a++){var s=t[a][0],l=t[a][1];n+=fa.toRadians(s-i)*(2+Math.sin(fa.toRadians(o))+Math.sin(fa.toRadians(l))),i=s,o=l}return n*e*e/2};const xa=wa;var Sa={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};Sa.METERS_PER_UNIT[Sa.DEGREES]=2*Math.PI*6370997/360,Sa.METERS_PER_UNIT[Sa.FEET]=.3048,Sa.METERS_PER_UNIT[Sa.METERS]=1,Sa.METERS_PER_UNIT[Sa.USFEET]=1200/3937;const Ea=Sa;var Ca={cache_:null,set:function(t){Ca.cache_=t},get:function(){return Ca.cache_||window.proj4}};const ka=Ca;var Pa=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(go.ENABLE_PROJ4JS){var n=ka.get();if("function"==typeof n){var r=n.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};Pa.prototype.canWrapX=function(){return this.canWrapX_},Pa.prototype.getCode=function(){return this.code_},Pa.prototype.getExtent=function(){return this.extent_},Pa.prototype.getUnits=function(){return this.units_},Pa.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Ea.METERS_PER_UNIT[this.units_]},Pa.prototype.getWorldExtent=function(){return this.worldExtent_},Pa.prototype.getAxisOrientation=function(){return this.axisOrientation_},Pa.prototype.isGlobal=function(){return this.global_},Pa.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Pa.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Pa.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Pa.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Pa.prototype.setWorldExtent=function(t){this.worldExtent_=t},Pa.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Pa.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};const Ta=Pa;var Ra={Projection_:function(t){Ta.call(this,{code:t,units:Ea.METERS,extent:Ra.EXTENT,global:!0,worldExtent:Ra.WORLD_EXTENT,getPointResolution:function(t,e){return t/fa.cosh(e[1]/Ra.RADIUS)}})}};go.inherits(Ra.Projection_,Ta),Ra.RADIUS=6378137,Ra.HALF_SIZE=Math.PI*Ra.RADIUS,Ra.EXTENT=[-Ra.HALF_SIZE,-Ra.HALF_SIZE,Ra.HALF_SIZE,Ra.HALF_SIZE],Ra.WORLD_EXTENT=[-180,-85,180,85],Ra.PROJECTIONS=[new Ra.Projection_("EPSG:3857"),new Ra.Projection_("EPSG:102100"),new Ra.Projection_("EPSG:102113"),new Ra.Projection_("EPSG:900913"),new Ra.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Ra.Projection_("urn:ogc:def:crs:EPSG::3857"),new Ra.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],Ra.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=Ra.HALF_SIZE,s=0;s<r;s+=i){o[s]=a*t[s]/180;var l=Ra.RADIUS*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o},Ra.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/Ra.HALF_SIZE,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Ra.RADIUS))/Math.PI-90;return o};const Aa=Ra;var Oa={Projection_:function(t,e){Ta.call(this,{code:t,units:Ea.DEGREES,extent:Oa.EXTENT,axisOrientation:e,global:!0,metersPerUnit:Oa.METERS_PER_UNIT,worldExtent:Oa.EXTENT})}};go.inherits(Oa.Projection_,Ta),Oa.RADIUS=6378137,Oa.EXTENT=[-180,-90,180,90],Oa.METERS_PER_UNIT=Math.PI*Oa.RADIUS/180,Oa.PROJECTIONS=[new Oa.Projection_("CRS:84"),new Oa.Projection_("EPSG:4326","neu"),new Oa.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new Oa.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Oa.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new Oa.Projection_("urn:ogc:def:crs:OGC:2:84"),new Oa.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Oa.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];const Ia=Oa;var Ma={cache_:{},clear:function(){Ma.cache_={}},get:function(t){return Ma.cache_[t]||null},add:function(t,e){Ma.cache_[t]=e}};const Da=Ma;var La={cache_:{},clear:function(){La.cache_={}},add:function(t,e,n){var r=t.getCode(),i=e.getCode(),o=La.cache_;r in o||(o[r]={}),o[r][i]=n},remove:function(t,e){var n=t.getCode(),r=e.getCode(),i=La.cache_,o=i[n][r];return delete i[n][r],xo.isEmpty(i[n])&&delete i[n],o},get:function(t,e){var n,r=La.cache_;return t in r&&e in r[t]&&(n=r[t][e]),n}};const ja=La;var Fa={};Fa.METERS_PER_UNIT=Ea.METERS_PER_UNIT,Fa.SPHERE_=new xa(xa.DEFAULT_RADIUS),go.ENABLE_PROJ4JS&&(Fa.setProj4=function(t){ka.set(t)}),Fa.getPointResolution=function(t,e,n,r){var i,o=(t=Fa.get(t)).getPointResolutionFunc();if(o)i=o(e,n);else if(t.getUnits()==Ea.DEGREES&&!r||r==Ea.DEGREES)i=e;else{var a=Fa.getTransformFromProjections(t,Fa.get("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),i=(Fa.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4))+Fa.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8)))/2;var l=r?Ea.METERS_PER_UNIT[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}return i},Fa.addEquivalentProjections=function(t){Fa.addProjections(t),t.forEach((function(e){t.forEach((function(t){e!==t&&ja.add(e,t,Fa.cloneTransform)}))}))},Fa.addEquivalentTransforms=function(t,e,n,r){t.forEach((function(t){e.forEach((function(e){ja.add(t,e,n),ja.add(e,t,r)}))}))},Fa.addProjection=function(t){Da.add(t.getCode(),t),ja.add(t,t,Fa.cloneTransform)},Fa.addProjections=function(t){t.forEach(Fa.addProjection)},Fa.clearAllProjections=function(){Da.clear(),ja.clear()},Fa.createProjection=function(t,e){return t?"string"==typeof t?Fa.get(t):t:Fa.get(e)},Fa.addCoordinateTransforms=function(t,e,n,r){var i=Fa.get(t),o=Fa.get(e);ja.add(i,o,Fa.createTransformFromCoordinateTransform(n)),ja.add(o,i,Fa.createTransformFromCoordinateTransform(r))},Fa.createTransformFromCoordinateTransform=function(t){return function(e,n,r){var i,o,a,s=e.length,l=void 0!==r?r:2,u=void 0!==n?n:new Array(s);for(o=0;o<s;o+=l)for(i=t([e[o],e[o+1]]),u[o]=i[0],u[o+1]=i[1],a=l-1;a>=2;--a)u[o+a]=e[o+a];return u}},Fa.fromLonLat=function(t,e){return Fa.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},Fa.toLonLat=function(t,e){var n=Fa.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=fa.modulo(r+180,360)-180),n},Fa.get=function(t){var e=null;if(t instanceof Ta)e=t;else if("string"==typeof t){var n=t;if(e=Da.get(n),go.ENABLE_PROJ4JS&&!e){var r=ka.get();"function"==typeof r&&void 0!==r.defs(n)&&(e=new Ta({code:n}),Fa.addProjection(e))}}return e},Fa.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Fa.getTransformFromProjections(t,e)===Fa.cloneTransform)&&n},Fa.getTransform=function(t,e){var n=Fa.get(t),r=Fa.get(e);return Fa.getTransformFromProjections(n,r)},Fa.getTransformFromProjections=function(t,e){var n=t.getCode(),r=e.getCode(),i=ja.get(n,r);if(go.ENABLE_PROJ4JS&&!i){var o=ka.get();if("function"==typeof o){var a=o.defs(n),s=o.defs(r);if(void 0!==a&&void 0!==s){if(a===s)Fa.addEquivalentProjections([e,t]);else{var l=o(r,n);Fa.addCoordinateTransforms(e,t,l.forward,l.inverse)}i=ja.get(n,r)}}}return i||(i=Fa.identityTransform),i},Fa.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t},Fa.cloneTransform=function(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r},Fa.transform=function(t,e,n){return Fa.getTransform(e,n)(t,void 0,t.length)},Fa.transformExtent=function(t,e,n){var r=Fa.getTransform(e,n);return sa.applyTransform(t,r)},Fa.transformWithProjections=function(t,e,n){return Fa.getTransformFromProjections(e,n)(t)},Fa.addCommon=function(){Fa.addEquivalentProjections(Aa.PROJECTIONS),Fa.addEquivalentProjections(Ia.PROJECTIONS),Fa.addEquivalentTransforms(Ia.PROJECTIONS,Aa.PROJECTIONS,Aa.fromEPSG4326,Aa.toEPSG4326)},Fa.addCommon();const Na=Fa;var Ua={};Ua.tmp_=new Array(6),Ua.create=function(){return[1,0,0,1,0,0]},Ua.reset=function(t){return Ua.set(t,1,0,0,1,0,0)},Ua.multiply=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],f=e[3],h=e[4],d=e[5];return t[0]=n*l+i*u,t[1]=r*l+o*u,t[2]=n*c+i*f,t[3]=r*c+o*f,t[4]=n*h+i*d+a,t[5]=r*h+o*d+s,t},Ua.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},Ua.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},Ua.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},Ua.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return Ua.multiply(t,Ua.set(Ua.tmp_,n,r,-r,n,0,0))},Ua.scale=function(t,e,n){return Ua.multiply(t,Ua.set(Ua.tmp_,e,0,0,n,0,0))},Ua.translate=function(t,e,n){return Ua.multiply(t,Ua.set(Ua.tmp_,1,0,0,1,e,n))},Ua.compose=function(t,e,n,r,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=a*r*u-s*r*l+e,t[5]=a*i*l+s*i*u+n,t},Ua.invert=function(t){var e=Ua.determinant(t);bo.assert(0!==e,32);var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-r/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-o*a)/e,t[5]=-(n*s-r*a)/e,t},Ua.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};const Ba=Ua;var za=function(){Ko.call(this),this.extent_=sa.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=Ba.create()};go.inherits(za,Ko),za.prototype.clone=function(){},za.prototype.closestPointXY=function(t,e,n,r){},za.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},za.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},za.prototype.computeExtent=function(t){},za.prototype.containsXY=la.FALSE,za.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),sa.returnOrUpdate(this.extent_,t)},za.prototype.rotate=function(t,e){},za.prototype.scale=function(t,e,n){},za.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},za.prototype.getSimplifiedGeometry=function(t){},za.prototype.getType=function(){},za.prototype.applyTransform=function(t){},za.prototype.intersectsExtent=function(t){},za.prototype.translate=function(t,e){},za.prototype.transform=function(t,e){var n=this.tmpTransform_,r=(t=Na.get(t)).getUnits()==Ea.TILE_PIXELS?function(r,i,o){var a=t.getExtent(),s=t.getWorldExtent(),l=sa.getHeight(s)/sa.getHeight(a);return Ba.compose(n,s[0],s[3],l,-l,0,0,0),ua.transform2D(r,0,r.length,o,n,i),Na.getTransform(t,e)(r,i,o)}:Na.getTransform(t,e);return this.applyTransform(r),this};const Wa=za;var Ga,qa,Va={HEX_COLOR_RE_:/^#(?:[0-9a-f]{3,4}){1,2}$/i,NAMED_COLOR_RE_:/^([a-z]*)$/i,asArray:function(t){return Array.isArray(t)?t:Va.fromString(t)},asString:function(t){return"string"==typeof t?t:Va.toString(t)},fromNamed:function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}};Va.fromString=(Ga={},qa=0,function(t){var e;if(Ga.hasOwnProperty(t))e=Ga[t];else{if(qa>=1024){var n,r=0;for(n in Ga)0==(3&r++)&&(delete Ga[n],--qa)}e=Va.fromStringInternal_(t),Ga[t]=e,++qa}return e}),Va.fromStringInternal_=function(t){var e,n,r,i,o,a;if(Va.NAMED_COLOR_RE_.exec(t)&&(t=Va.fromNamed(t)),Va.HEX_COLOR_RE_.exec(t)){var s,l=t.length-1;s=l<=4?1:2;var u=4===l||8===l;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?(a=t.slice(5,-1).split(",").map(Number),o=Va.normalize(a)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),o=Va.normalize(a)):bo.assert(!1,14);return o},Va.normalize=function(t,e){var n=e||[];return n[0]=fa.clamp(t[0]+.5|0,0,255),n[1]=fa.clamp(t[1]+.5|0,0,255),n[2]=fa.clamp(t[2]+.5|0,0,255),n[3]=fa.clamp(t[3],0,1),n},Va.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"};const Ha=Va;var Xa={asColorLike:function(t){return Xa.isColorLike(t)?t:Ha.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}};const Ya=Xa;var Ka={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}};const Za=Ka;var Qa={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,r,i=Qa.CONTEXT_IDS_.length;for(r=0;r<i;++r)try{if(n=t.getContext(Qa.CONTEXT_IDS_[r],e))return n}catch(t){}return null}};const Ja=Qa;var $a={},ts="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";$a.FIREFOX=-1!==ts.indexOf("firefox"),$a.SAFARI=-1!==ts.indexOf("safari")&&-1==ts.indexOf("chrom"),$a.WEBKIT=-1!==ts.indexOf("webkit")&&-1==ts.indexOf("edge"),$a.MAC=-1!==ts.indexOf("macintosh"),$a.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,$a.CANVAS_LINE_DASH=!1,$a.CANVAS=go.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&($a.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),$a.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,$a.GEOLOCATION="geolocation"in navigator,$a.TOUCH=go.ASSUME_TOUCH||"ontouchstart"in window,$a.POINTER="PointerEvent"in window,$a.MSPOINTER=!!navigator.msPointerEnabled,$a.WEBGL,function(){if(go.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),i=Ja.getContext(r,{failIfMajorPerformanceCaveat:!0});i&&(e=!0,t=i.getParameter(i.MAX_TEXTURE_SIZE),n=i.getSupportedExtensions())}catch(t){}$a.WEBGL=e,go.WEBGL_EXTENSIONS=n,go.WEBGL_MAX_TEXTURE_SIZE=t}}();const es=$a,ns=0,rs=1,is=2,os=3;var as={CLASS_HIDDEN:"ol-hidden",CLASS_SELECTABLE:"ol-selectable",CLASS_UNSELECTABLE:"ol-unselectable",CLASS_UNSUPPORTED:"ol-unsupported",CLASS_CONTROL:"ol-control"};as.getFontFamilies=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var r=t.fontFamily;if(t.font="",!r)return null;e[n]=r.split(/,\s?/)}return e[n]}}();const ss=as;var ls=function(t){Vo.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};go.inherits(ls,Vo),ls.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},ls.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(ko)},ls.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},ls.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},ls.prototype.get=function(t){var e=this.entries_[t];return bo.assert(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},ls.prototype.remove=function(t){var e=this.entries_[t];return bo.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},ls.prototype.getCount=function(){return this.count_},ls.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},ls.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},ls.prototype.peekLast=function(){return this.oldest_.value_},ls.prototype.peekLastKey=function(){return this.oldest_.key_},ls.prototype.peekFirstKey=function(){return this.newest_.key_},ls.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},ls.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},ls.prototype.set=function(t,e){bo.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},ls.prototype.prune=function(){for(;this.canExpireCache();)this.pop()};const us=ls;var cs,fs,hs={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:"center",defaultTextBaseline:"middle",defaultPadding:[0,0,0,0],defaultLineWidth:1};hs.labelCache=new us,hs.checkedFonts_={},hs.measureContext_=null,hs.textHeights_={},hs.checkFont=function(){var t,e,n=hs.checkedFonts_,r=hs.labelCache,i="wmytzilWMYTZIL@#/&?$%10";function o(t){var n=hs.getMeasureContext();n.font="32px monospace",e=n.measureText(i).width;var r=!0;return"monospace"!=t&&(n.font="32px "+t+",monospace",r=n.measureText(i).width!=e),r}function a(){var e=!0;for(var i in n)n[i]<60&&(o(i)?(n[i]=60,xo.clear(hs.textHeights_),hs.measureContext_=null,r.clear()):(++n[i],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var r=ss.getFontFamilies(e);if(r)for(var i=0,s=r.length;i<s;++i){var l=r[i];l in n||(n[l]=60,o(l)||(n[l]=0,void 0===t&&(t=window.setInterval(a,32))))}}}(),hs.getMeasureContext=function(){var t=hs.measureContext_;return t||(t=hs.measureContext_=Za.createCanvasContext2D(1,1)),t},hs.measureTextHeight=(fs=hs.textHeights_,function(t){var e=fs[t];return null==e&&(cs||((cs=document.createElement("span")).textContent="M",cs.style.margin=cs.style.padding="0 !important",cs.style.position="absolute !important",cs.style.left="-99999px !important"),cs.style.font=t,document.body.appendChild(cs),e=fs[t]=cs.offsetHeight,document.body.removeChild(cs)),e}),hs.measureTextWidth=function(t,e){var n=hs.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},hs.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},hs.resetTransform_=Ba.create(),hs.drawImage=function(t,e,n,r,i,o,a,s,l,u,c){var f;1!=n&&(f=t.globalAlpha,t.globalAlpha=f*n),e&&t.setTransform.apply(t,e),t.drawImage(r,i,o,a,s,l,u,a*c,s*c),f&&(t.globalAlpha=f),e&&t.setTransform.apply(t,hs.resetTransform_)};const ds=hs;var ps=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};ps.prototype.getOpacity=function(){return this.opacity_},ps.prototype.getRotateWithView=function(){return this.rotateWithView_},ps.prototype.getRotation=function(){return this.rotation_},ps.prototype.getScale=function(){return this.scale_},ps.prototype.getSnapToPixel=function(){return this.snapToPixel_},ps.prototype.getAnchor=function(){},ps.prototype.getImage=function(t){},ps.prototype.getHitDetectionImage=function(t){},ps.prototype.getImageState=function(){},ps.prototype.getImageSize=function(){},ps.prototype.getHitDetectionImageSize=function(){},ps.prototype.getOrigin=function(){},ps.prototype.getSize=function(){},ps.prototype.setOpacity=function(t){this.opacity_=t},ps.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ps.prototype.setRotation=function(t){this.rotation_=t},ps.prototype.setScale=function(t){this.scale_=t},ps.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},ps.prototype.listenImageChange=function(t,e){},ps.prototype.load=function(){},ps.prototype.unlistenImageChange=function(t,e){};const ys=ps;var vs=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel,n=void 0!==t.rotateWithView&&t.rotateWithView;ys.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};go.inherits(vs,ys),vs.prototype.clone=function(){var t=new vs({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},vs.prototype.getAnchor=function(){return this.anchor_},vs.prototype.getAngle=function(){return this.angle_},vs.prototype.getFill=function(){return this.fill_},vs.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},vs.prototype.getImage=function(t){return this.canvas_},vs.prototype.getImageSize=function(){return this.imageSize_},vs.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},vs.prototype.getImageState=function(){return is},vs.prototype.getOrigin=function(){return this.origin_},vs.prototype.getPoints=function(){return this.points_},vs.prototype.getRadius=function(){return this.radius_},vs.prototype.getRadius2=function(){return this.radius2_},vs.prototype.getSize=function(){return this.size_},vs.prototype.getStroke=function(){return this.stroke_},vs.prototype.listenImageChange=function(t,e){},vs.prototype.load=function(){},vs.prototype.unlistenImageChange=function(t,e){},vs.prototype.render_=function(t){var e,n,r="",i="",o=0,a=null,s=0,l=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=ds.defaultStrokeStyle),n=Ya.asColorLike(n),void 0===(l=this.stroke_.getWidth())&&(l=ds.defaultLineWidth),a=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),es.CANVAS_LINE_DASH||(a=null,s=0),void 0===(i=this.stroke_.getLineJoin())&&(i=ds.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=ds.defaultLineCap),void 0===(o=this.stroke_.getMiterLimit())&&(o=ds.defaultMiterLimit));var u=2*(this.radius_+l)+1,c={strokeStyle:n,strokeWidth:l,size:u,lineCap:r,lineDash:a,lineDashOffset:s,lineJoin:i,miterLimit:o};if(void 0===t){var f=Za.createCanvasContext2D(u,u);this.canvas_=f.canvas,e=u=this.canvas_.width,this.draw_(c,f,0,0),this.createHitDetectionCanvas_(c)}else{u=Math.round(u);var h,d=!this.fill_;d&&(h=this.drawHitDetectionCanvas_.bind(this,c));var p=this.getChecksum(),y=t.add(p,u,u,this.draw_.bind(this,c),h);this.canvas_=y.image,this.origin_=[y.offsetX,y.offsetY],e=y.image.width,d?(this.hitDetectionCanvas_=y.hitImage,this.hitDetectionImageSize_=[y.hitImage.width,y.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[e,e]},vs.prototype.draw_=function(t,e,n,r){var i,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),i=0;i<=s;i++)o=2*i*Math.PI/s-Math.PI/2+this.angle_,a=i%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=ds.defaultFillStyle),e.fillStyle=Ya.asColorLike(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},vs.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Za.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},vs.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,s,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(i*=2),o=0;o<=i;o++)s=2*o*Math.PI/i-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=ds.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},vs.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};const gs=vs;var ms=function(t){var e=t||{};gs.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};go.inherits(ms,gs),ms.prototype.clone=function(){var t=new ms({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},ms.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};const _s=ms;var bs=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};bs.prototype.clone=function(){var t=this.getColor();return new bs({color:t&&t.slice?t.slice():t||void 0})},bs.prototype.getColor=function(){return this.color_},bs.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},bs.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=go.getUid(this.color_).toString():this.checksum_="f"+(this.color_?Ha.asString(this.color_):"-")),this.checksum_};const ws=bs;var xs=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};xs.prototype.clone=function(){var t=this.getColor();return new xs({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},xs.prototype.getColor=function(){return this.color_},xs.prototype.getLineCap=function(){return this.lineCap_},xs.prototype.getLineDash=function(){return this.lineDash_},xs.prototype.getLineDashOffset=function(){return this.lineDashOffset_},xs.prototype.getLineJoin=function(){return this.lineJoin_},xs.prototype.getMiterLimit=function(){return this.miterLimit_},xs.prototype.getWidth=function(){return this.width_},xs.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},xs.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},xs.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},xs.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},xs.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},xs.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},xs.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},xs.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=go.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};const Ss=xs;var Es=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Es.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};Es.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new Es({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Es.prototype.getRenderer=function(){return this.renderer_},Es.prototype.setRenderer=function(t){this.renderer_=t},Es.prototype.getGeometry=function(){return this.geometry_},Es.prototype.getGeometryFunction=function(){return this.geometryFunction_},Es.prototype.getFill=function(){return this.fill_},Es.prototype.setFill=function(t){this.fill_=t},Es.prototype.getImage=function(){return this.image_},Es.prototype.setImage=function(t){this.image_=t},Es.prototype.getStroke=function(){return this.stroke_},Es.prototype.setStroke=function(t){this.stroke_=t},Es.prototype.getText=function(){return this.text_},Es.prototype.setText=function(t){this.text_=t},Es.prototype.getZIndex=function(){return this.zIndex_},Es.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Es.defaultGeometryFunction,this.geometry_=t},Es.prototype.setZIndex=function(t){this.zIndex_=t},Es.createFunction=function(t){var e,n;return"function"==typeof t?e=t:(Array.isArray(t)?n=t:(bo.assert(t instanceof Es,41),n=[t]),e=function(){return n}),e},Es.default_=null,Es.defaultFunction=function(t,e){if(!Es.default_){var n=new ws({color:"rgba(255,255,255,0.4)"}),r=new Ss({color:"#3399CC",width:1.25});Es.default_=[new Es({image:new _s({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Es.default_},Es.createDefaultEditing=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[ya]=[new Es({fill:new ws({color:[255,255,255,.5]})})],t[ma]=t[ya],t[da]=[new Es({stroke:new Ss({color:e,width:5})}),new Es({stroke:new Ss({color:n,width:3})})],t[ga]=t[da],t[ba]=t[ya].concat(t[da]),t[ha]=[new Es({image:new _s({radius:6,fill:new ws({color:n}),stroke:new Ss({color:e,width:1.5})}),zIndex:1/0})],t[va]=t[ha],t[_a]=t[ya].concat(t[da],t[ha]),t},Es.defaultGeometryFunction=function(t){return t.getGeometry()};const Cs=Es;var ks=function(t){if(Ko.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Eo.listen(this,Ko.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof Wa||!t){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}};go.inherits(ks,Ko),ks.prototype.clone=function(){var t=new ks(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},ks.prototype.getGeometry=function(){return this.get(this.geometryName_)},ks.prototype.getId=function(){return this.id_},ks.prototype.getGeometryName=function(){return this.geometryName_},ks.prototype.getStyle=function(){return this.style_},ks.prototype.getStyleFunction=function(){return this.styleFunction_},ks.prototype.handleGeometryChange_=function(){this.changed()},ks.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Eo.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Eo.listen(t,Co,this.handleGeometryChange_,this)),this.changed()},ks.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},ks.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?ks.createStyleFunction(t):void 0,this.changed()},ks.prototype.setId=function(t){this.id_=t,this.changed()},ks.prototype.setGeometryName=function(t){Eo.unlisten(this,Ko.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Eo.listen(this,Ko.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},ks.createStyleFunction=function(t){var e,n;return"function"==typeof t?e=2==t.length?function(e){return t(this,e)}:t:(Array.isArray(t)?n=t:(bo.assert(t instanceof Cs,41),n=[t]),e=function(){return n}),e};const Ps=ks;var Ts=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};Ts.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},Ts.prototype.adaptOptions=function(t){return xo.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},t)},Ts.prototype.getLastExtent=function(){return null},Ts.prototype.getType=function(){},Ts.prototype.readFeature=function(t,e){},Ts.prototype.readFeatures=function(t,e){},Ts.prototype.readGeometry=function(t,e){},Ts.prototype.readProjection=function(t){},Ts.prototype.writeFeature=function(t,e){},Ts.prototype.writeFeatures=function(t,e){},Ts.prototype.writeGeometry=function(t,e){},Ts.transformWithOptions=function(t,e,n){var r,i=n?Na.get(n.featureProjection):null,o=n?Na.get(n.dataProjection):null;if(r=i&&o&&!Na.equivalent(i,o)?t instanceof Wa?(e?t.clone():t).transform(e?i:o,e?o:i):Na.transformExtent(t,o,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=r.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r};const Rs=Ts,As="arraybuffer",Os="json",Is="text",Ms="xml";var Ds=function(){Rs.call(this)};go.inherits(Ds,Rs),Ds.prototype.getObject_=function(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null},Ds.prototype.getType=function(){return Os},Ds.prototype.readFeature=function(t,e){return this.readFeatureFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ds.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ds.prototype.readFeatureFromObject=function(t,e){},Ds.prototype.readFeaturesFromObject=function(t,e){},Ds.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ds.prototype.readGeometryFromObject=function(t,e){},Ds.prototype.readProjection=function(t){return this.readProjectionFromObject(this.getObject_(t))},Ds.prototype.readProjectionFromObject=function(t){},Ds.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},Ds.prototype.writeFeatureObject=function(t,e){},Ds.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},Ds.prototype.writeFeaturesObject=function(t,e){},Ds.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},Ds.prototype.writeGeometryObject=function(t,e){};const Ls=Ds;var js=function(t){Wa.call(this),this.geometries_=t||null,this.listenGeometriesChange_()};go.inherits(js,Wa),js.cloneGeometries_=function(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(t[e].clone());return r},js.prototype.unlistenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)Eo.unlisten(this.geometries_[t],Co,this.changed,this)},js.prototype.listenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)Eo.listen(this.geometries_[t],Co,this.changed,this)},js.prototype.clone=function(){var t=new js(null);return t.setGeometries(this.geometries_),t},js.prototype.closestPointXY=function(t,e,n,r){if(r<sa.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a=this.geometries_;for(i=0,o=a.length;i<o;++i)r=a[i].closestPointXY(t,e,n,r);return r},js.prototype.containsXY=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1},js.prototype.computeExtent=function(t){sa.createOrUpdateEmpty(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)sa.extend(t,e[n].getExtent());return t},js.prototype.getGeometries=function(){return js.cloneGeometries_(this.geometries_)},js.prototype.getGeometriesArray=function(){return this.geometries_},js.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(xo.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n,r,i=[],o=this.geometries_,a=!1;for(n=0,r=o.length;n<r;++n){var s=o[n],l=s.getSimplifiedGeometry(t);i.push(l),l!==s&&(a=!0)}if(a){var u=new js(null);return u.setGeometriesArray(i),this.simplifiedGeometryCache[e]=u,u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},js.prototype.getType=function(){return _a},js.prototype.intersectsExtent=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)if(r[e].intersectsExtent(t))return!0;return!1},js.prototype.isEmpty=function(){return 0===this.geometries_.length},js.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},js.prototype.scale=function(t,e,n){var r=n;r||(r=sa.getCenter(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},js.prototype.setGeometries=function(t){this.setGeometriesArray(js.cloneGeometries_(t))},js.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},js.prototype.applyTransform=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)r[e].applyTransform(t);this.changed()},js.prototype.translate=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()},js.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),Wa.prototype.disposeInternal.call(this)};const Fs=js;var Ns={binarySearch:function(t,e,n){for(var r,i,o=n||Ns.numberSafeCompareFunction,a=0,s=t.length,l=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,l=!i);return l?a:~a},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var r,i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1},reverseSubArray:function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},extend:function(t,e){var n,r=Array.isArray(e)?e:[e],i=r.length;for(n=0;n<i;n++)t[t.length]=r[n]},remove:function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},find:function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},stableSort:function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=i[n].value},findIndex:function(t,e){var n;return t.every((function(r,i){return n=i,!e(r,i,t)}))?-1:n},isSorted:function(t,e,n){var r=e||Ns.numberSafeCompareFunction;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}};const Us=Ns,Bs="XY",zs="XYZ",Ws="XYM",Gs="XYZM";var qs=function(){Wa.call(this),this.layout=Bs,this.stride=2,this.flatCoordinates=null};go.inherits(qs,Wa),qs.getLayoutForStride_=function(t){var e;return 2==t?e=Bs:3==t?e=zs:4==t&&(e=Gs),e},qs.getStrideForLayout=function(t){var e;return t==Bs?e=2:t==zs||t==Ws?e=3:t==Gs&&(e=4),e},qs.prototype.containsXY=la.FALSE,qs.prototype.computeExtent=function(t){return sa.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},qs.prototype.getCoordinates=function(){},qs.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},qs.prototype.getFlatCoordinates=function(){return this.flatCoordinates},qs.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},qs.prototype.getLayout=function(){return this.layout},qs.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(xo.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},qs.prototype.getSimplifiedGeometryInternal=function(t){return this},qs.prototype.getStride=function(){return this.stride},qs.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=qs.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},qs.prototype.setCoordinates=function(t,e){},qs.prototype.setLayout=function(t,e,n){var r;if(t)r=qs.getStrideForLayout(t);else{var i;for(i=0;i<n;++i){if(0===e.length)return this.layout=Bs,void(this.stride=2);e=e[0]}r=e.length,t=qs.getLayoutForStride_(r)}this.layout=t,this.stride=r},qs.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},qs.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();ua.rotate(n,0,n.length,r,t,e,n),this.changed()}},qs.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=sa.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();ua.scale(o,0,o.length,a,t,r,i,o),this.changed()}},qs.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();ua.translate(n,0,n.length,r,t,e,n),this.changed()}},qs.transform2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return ua.transform2D(r,0,r.length,i,e,n)}return null};const Vs=qs;var Hs={point:function(t,e,n,r,i,o,a){var s,l,u=t[e],c=t[e+1],f=t[n]-u,h=t[n+1]-c;if(0===f&&0===h)l=e;else{var d=((i-u)*f+(o-c)*h)/(f*f+h*h);if(d>1)l=n;else{if(d>0){for(s=0;s<r;++s)a[s]=fa.lerp(t[e+s],t[n+s],d);return void(a.length=r)}l=e}}for(s=0;s<r;++s)a[s]=t[l+s];a.length=r},getMaxSquaredDelta:function(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],u=fa.squaredDistance(o,a,s,l);u>i&&(i=u),o=s,a=l}return i},getsMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=Hs.getMaxSquaredDelta(t,e,s,r,i),e=s}return i},getssMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=Hs.getsMaxSquaredDelta(t,e,s,r,i),e=s[s.length-1]}return i},getClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){if(e==n)return u;var f,h;if(0===i){if((h=fa.squaredDistance(a,s,t[e],t[e+1]))<u){for(f=0;f<r;++f)l[f]=t[e+f];return l.length=r,h}return u}for(var d=c||[NaN,NaN],p=e+r;p<n;)if(Hs.point(t,p-r,p,r,a,s,d),(h=fa.squaredDistance(a,s,d[0],d[1]))<u){for(u=h,f=0;f<r;++f)l[f]=d[f];l.length=r,p+=r}else p+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/i|0,1);if(o&&(Hs.point(t,n-r,e,r,a,s,d),(h=fa.squaredDistance(a,s,d[0],d[1]))<u)){for(u=h,f=0;f<r;++f)l[f]=d[f];l.length=r}return u},getsClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var f,h,d=c||[NaN,NaN];for(f=0,h=n.length;f<h;++f){var p=n[f];u=Hs.getClosestPoint(t,e,p,r,i,o,a,s,l,u,d),e=p}return u},getssClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var f,h,d=c||[NaN,NaN];for(f=0,h=n.length;f<h;++f){var p=n[f];u=Hs.getsClosestPoint(t,e,p,r,i,o,a,s,l,u,d),e=p[p.length-1]}return u}};const Xs=Hs;var Ys={coordinate:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},coordinates:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i){var a,s=n[i];for(a=0;a<r;++a)t[e++]=s[a]}return e},coordinatess:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=Ys.coordinates(t,e,n[o],r);s[l++]=u,e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=Ys.coordinatess(t,e,n[o],r,s[l]);s[l++]=u,e=u[u.length-1]}return s.length=l,s}};const Ks=Ys;var Zs={coordinates:function(t,e,n,r,i){var o,a=void 0!==i?i:[],s=0;for(o=e;o<n;o+=r)a[s++]=t.slice(o,o+r);return a.length=s,a},coordinatess:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=Zs.coordinates(t,e,u,r,s[l]),e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=Zs.coordinatess(t,e,u,r,s[l]),e=u[u.length-1]}return s.length=l,s}};const Qs=Zs;var Js={lineString:function(t,e,n,r,i,o){var a=NaN,s=NaN,l=(n-e)/r;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-i)*t[e]+i*t[e+r],s=(1-i)*t[e+1]+i*t[e+r+1];else if(0!==l){var u,c=t[e],f=t[e+1],h=0,d=[0];for(u=e+r;u<n;u+=r){var p=t[u],y=t[u+1];h+=Math.sqrt((p-c)*(p-c)+(y-f)*(y-f)),d.push(h),c=p,f=y}var v=i*h,g=Us.binarySearch(d,v);if(g<0){var m=(v-d[-g-2])/(d[-g-1]-d[-g-2]),_=e+(-g-2)*r;a=fa.lerp(t[_],t[_+r],m),s=fa.lerp(t[_+1],t[_+r+1],m)}else a=t[e+g*r],s=t[e+g*r+1]}return o?(o[0]=a,o[1]=s,o):[a,s]},lineStringCoordinateAtM:function(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var u=s+l>>1;i<t[(u+1)*r-1]?l=u:s=u+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var f,h=(i-c)/(t[(s+1)*r-1]-c);for(a=[],f=0;f<r-1;++f)a.push(fa.lerp(t[(s-1)*r+f],t[s*r+f],h));return a.push(i),a},lineStringsCoordinateAtM:function(t,e,n,r,i,o,a){if(a)return Js.lineStringCoordinateAtM(t,e,n[n.length-1],r,i,o);var s,l,u;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return Js.lineStringCoordinateAtM(t,e,c,r,i,!1);e=c}}return null}};const $s=Js;var tl={linearRingContainsExtent:function(t,e,n,r,i){return!sa.forEachCorner(i,(function(i){return!tl.linearRingContainsXY(t,e,n,r,i[0],i[1])}))},linearRingContainsXY:function(t,e,n,r,i,o){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a},linearRingsContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;if(!tl.linearRingContainsXY(t,e,n[0],r,i,o))return!1;var a,s;for(a=1,s=n.length;a<s;++a)if(tl.linearRingContainsXY(t,n[a-1],n[a],r,i,o))return!1;return!0},linearRingssContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;var a,s;for(a=0,s=n.length;a<s;++a){var l=n[a];if(tl.linearRingsContainsXY(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}};const el=tl;const nl={forEach:function(t,e,n,r,i,o){for(var a,s=[t[e],t[e+1]],l=[];e+r<n;e+=r){if(l[0]=t[e+r],l[1]=t[e+r+1],a=i.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}};var rl={lineString:function(t,e,n,r,i){var o=sa.extendFlatCoordinates(sa.createEmpty(),t,e,n,r);return!!sa.intersects(i,o)&&(!!sa.containsExtent(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||nl.forEach(t,e,n,r,(function(t,e){return sa.intersectsSegment(i,t,e)})))},lineStrings:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){if(rl.lineString(t,e,n[o],r,i))return!0;e=n[o]}return!1},linearRing:function(t,e,n,r,i){return!!(rl.lineString(t,e,n,r,i)||el.linearRingContainsXY(t,e,n,r,i[0],i[1])||el.linearRingContainsXY(t,e,n,r,i[0],i[3])||el.linearRingContainsXY(t,e,n,r,i[2],i[1])||el.linearRingContainsXY(t,e,n,r,i[2],i[3]))},linearRings:function(t,e,n,r,i){if(!rl.linearRing(t,e,n[0],r,i))return!1;if(1===n.length)return!0;var o,a;for(o=1,a=n.length;o<a;++o)if(el.linearRingContainsExtent(t,n[o-1],n[o],r,i))return!1;return!0},linearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];if(rl.linearRings(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}};const il=rl;var ol={lineString:function(t,e,n,r){var i,o=t[e],a=t[e+1],s=0;for(i=e+r;i<n;i+=r){var l=t[i],u=t[i+1];s+=Math.sqrt((l-o)*(l-o)+(u-a)*(u-a)),o=l,a=u}return s},linearRing:function(t,e,n,r){var i=ol.lineString(t,e,n,r),o=t[n-r]-t[e],a=t[n-r+1]-t[e+1];return i+Math.sqrt(o*o+a*a)}};const al=ol;var sl={lineString:function(t,e,n,r,i,o,a){var s=void 0!==a?a:[];return o||(n=sl.radialDistance(t,e,n,r,i,s,0),t=s,e=0,r=2),s.length=sl.douglasPeucker(t,e,n,r,i,s,0),s},douglasPeucker:function(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u,c=[e,n-r],f=0;c.length>0;){var h=c.pop(),d=c.pop(),p=0,y=t[d],v=t[d+1],g=t[h],m=t[h+1];for(u=d+r;u<h;u+=r){var _=t[u],b=t[u+1],w=fa.squaredSegmentDistance(_,b,y,v,g,m);w>p&&(f=u,p=w)}p>i&&(l[(f-e)/r]=1,d+r<f&&c.push(d,f),f+r<h&&c.push(f,h))}for(u=0;u<s;++u)l[u]&&(o[a++]=t[e+u*r],o[a++]=t[e+u*r+1]);return a},douglasPeuckers:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=sl.douglasPeucker(t,e,c,r,i,o,a),s.push(a),e=c}return a},douglasPeuckerss:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],f=[];a=sl.douglasPeuckers(t,e,c,r,i,o,a,f),s.push(f),e=c[c.length-1]}return a},radialDistance:function(t,e,n,r,i,o,a){if(n<=e+r){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var s=t[e],l=t[e+1];o[a++]=s,o[a++]=l;var u=s,c=l;for(e+=r;e<n;e+=r)u=t[e],c=t[e+1],fa.squaredDistance(s,l,u,c)>i&&(o[a++]=u,o[a++]=c,s=u,l=c);return u==s&&c==l||(o[a++]=u,o[a++]=c),a},snap:function(t,e){return e*Math.round(t/e)},quantize:function(t,e,n,r,i,o,a){if(e==n)return a;var s,l,u=sl.snap(t[e],i),c=sl.snap(t[e+1],i);e+=r,o[a++]=u,o[a++]=c;do{if(s=sl.snap(t[e],i),l=sl.snap(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;e<n;){var f,h;if(f=sl.snap(t[e],i),h=sl.snap(t[e+1],i),e+=r,f!=s||h!=l){var d=s-u,p=l-c,y=f-u,v=h-c;d*v==p*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(p<0&&v<p||p==v||p>0&&v>p)?(s=f,l=h):(o[a++]=s,o[a++]=l,u=s,c=l,s=f,l=h)}}return o[a++]=s,o[a++]=l,a},quantizes:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=sl.quantize(t,e,c,r,i,o,a),s.push(a),e=c}return a},quantizess:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],f=[];a=sl.quantizes(t,e,c,r,i,o,a,f),s.push(f),e=c[c.length-1]}return a}};const ll=sl;var ul=function(t,e){Vs.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};go.inherits(ul,Vs),ul.prototype.appendCoordinate=function(t){this.flatCoordinates?Us.extend(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},ul.prototype.clone=function(){var t=new ul(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},ul.prototype.closestPointXY=function(t,e,n,r){return r<sa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xs.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xs.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},ul.prototype.forEachSegment=function(t,e){return nl.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},ul.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Ws&&this.layout!=Gs)return null;var n=void 0!==e&&e;return $s.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},ul.prototype.getCoordinates=function(){return Qs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ul.prototype.getCoordinateAt=function(t,e){return $s.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},ul.prototype.getLength=function(){return al.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ul.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ul.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=ll.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new ul(null);return n.setFlatCoordinates(Bs,e),n},ul.prototype.getType=function(){return da},ul.prototype.intersectsExtent=function(t){return il.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},ul.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ks.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},ul.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const cl=ul;var fl=function(t,e){Vs.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};go.inherits(fl,Vs),fl.prototype.appendLineString=function(t){this.flatCoordinates?Us.extend(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},fl.prototype.clone=function(){var t=new fl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},fl.prototype.closestPointXY=function(t,e,n,r){return r<sa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xs.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xs.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},fl.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Ws&&this.layout!=Gs||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return $s.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},fl.prototype.getCoordinates=function(){return Qs.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},fl.prototype.getEnds=function(){return this.ends_},fl.prototype.getLineString=function(t){if(t<0||this.ends_.length<=t)return null;var e=new cl(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},fl.prototype.getLineStrings=function(){var t,e,n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0;for(t=0,e=r.length;t<e;++t){var s=r[t],l=new cl(null);l.setFlatCoordinates(i,n.slice(a,s)),o.push(l),a=s}return o},fl.prototype.getFlatMidpoints=function(){var t,e,n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride;for(t=0,e=o.length;t<e;++t){var s=o[t],l=$s.lineString(r,i,s,a,.5);Us.extend(n,l),i=s}return n},fl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=ll.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n);var r=new fl(null);return r.setFlatCoordinates(Bs,e,n),r},fl.prototype.getType=function(){return ga},fl.prototype.intersectsExtent=function(t){return il.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,t)},fl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ks.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(Bs,null,this.ends_)},fl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},fl.prototype.setLineStrings=function(t){var e,n,r=this.getLayout(),i=[],o=[];for(e=0,n=t.length;e<n;++e){var a=t[e];0===e&&(r=a.getLayout()),Us.extend(i,a.getFlatCoordinates()),o.push(i.length)}this.setFlatCoordinates(r,i,o)};const hl=fl;var dl=function(t,e){Vs.call(this),this.setCoordinates(t,e)};go.inherits(dl,Vs),dl.prototype.clone=function(){var t=new dl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},dl.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=fa.squaredDistance(t,e,i[0],i[1]);if(o<r){var a,s=this.stride;for(a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},dl.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},dl.prototype.computeExtent=function(t){return sa.createOrUpdateFromCoordinate(this.flatCoordinates,t)},dl.prototype.getType=function(){return ha},dl.prototype.intersectsExtent=function(t){return sa.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},dl.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ks.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},dl.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const pl=dl;var yl=function(t,e){Vs.call(this),this.setCoordinates(t,e)};go.inherits(yl,Vs),yl.prototype.appendPoint=function(t){this.flatCoordinates?Us.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},yl.prototype.clone=function(){var t=new yl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},yl.prototype.closestPointXY=function(t,e,n,r){if(r<sa.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a,s=this.flatCoordinates,l=this.stride;for(i=0,o=s.length;i<o;i+=l){var u=fa.squaredDistance(t,e,s[i],s[i+1]);if(u<r){for(r=u,a=0;a<l;++a)n[a]=s[i+a];n.length=l}}return r},yl.prototype.getCoordinates=function(){return Qs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},yl.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(t<0||e<=t)return null;var n=new pl(null);return n.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride)),n},yl.prototype.getPoints=function(){var t,e,n=this.flatCoordinates,r=this.layout,i=this.stride,o=[];for(t=0,e=n.length;t<e;t+=i){var a=new pl(null);a.setFlatCoordinates(r,n.slice(t,t+i)),o.push(a)}return o},yl.prototype.getType=function(){return va},yl.prototype.intersectsExtent=function(t){var e,n,r,i,o=this.flatCoordinates,a=this.stride;for(e=0,n=o.length;e<n;e+=a)if(r=o[e],i=o[e+1],sa.containsXY(t,r,i))return!0;return!1},yl.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ks.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},yl.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const vl=yl;var gl={linearRing:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=a*s-o*l,o=s,a=l}return i/2},linearRings:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=gl.linearRing(t,e,s,r),e=s}return a},linearRingss:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=gl.linearRings(t,e,s,r),e=s[s.length-1]}return a}};const ml=gl;var _l=function(t,e){Vs.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};go.inherits(_l,Vs),_l.prototype.clone=function(){var t=new _l(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},_l.prototype.closestPointXY=function(t,e,n,r){return r<sa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xs.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xs.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},_l.prototype.getArea=function(){return ml.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_l.prototype.getCoordinates=function(){return Qs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_l.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=ll.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new _l(null);return n.setFlatCoordinates(Bs,e),n},_l.prototype.getType=function(){return pa},_l.prototype.intersectsExtent=function(t){},_l.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ks.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},_l.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const bl=_l;var wl={linearRings:function(t,e,n,r,i,o,a){for(var s,l,u,c,f,h,d,p=i[o+1],y=[],v=0,g=n.length;v<g;++v){var m=n[v];for(c=t[m-r],h=t[m-r+1],s=e;s<m;s+=r)f=t[s],d=t[s+1],(p<=h&&d<=p||h<=p&&p<=d)&&(u=(p-h)/(d-h)*(f-c)+c,y.push(u)),c=f,h=d}var _=NaN,b=-1/0;for(y.sort(Us.numberSafeCompareFunction),c=y[0],s=1,l=y.length;s<l;++s){f=y[s];var w=Math.abs(f-c);w>b&&(u=(c+f)/2,el.linearRingsContainsXY(t,e,n,r,u,p)&&(_=u,b=w)),c=f}return isNaN(_)&&(_=i[o]),a?(a.push(_,p,b),a):[_,p,b]},linearRingss:function(t,e,n,r,i){var o,a,s=[];for(o=0,a=n.length;o<a;++o){var l=n[o];s=wl.linearRings(t,e,l,r,i,2*o,s),e=l[l.length-1]}return s}};const xl=wl;const Sl={coordinates:function(t,e,n,r){for(;e<n-r;){var i;for(i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}};var El={linearRingIsClockwise:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=(s-o)*(l+a),o=s,a=l}return i>0},linearRingsAreOriented:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=El.linearRingIsClockwise(t,e,l,r);if(0===o){if(s&&u||!s&&!u)return!1}else if(s&&!u||!s&&u)return!1;e=l}return!0},linearRingssAreOriented:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)if(!El.linearRingsAreOriented(t,e,n[o],r,i))return!1;return!0},orientLinearRings:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=El.linearRingIsClockwise(t,e,l,r);(0===o?s&&u||!s&&!u:s&&!u||!s&&u)&&Sl.coordinates(t,e,l,r),e=l}return e},orientLinearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)e=El.orientLinearRings(t,e,n[o],r,i);return e}};const Cl=El;var kl=function(t,e){Vs.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};go.inherits(kl,Vs),kl.prototype.appendLinearRing=function(t){this.flatCoordinates?Us.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},kl.prototype.clone=function(){var t=new kl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},kl.prototype.closestPointXY=function(t,e,n,r){return r<sa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xs.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xs.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},kl.prototype.containsXY=function(t,e){return el.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},kl.prototype.getArea=function(){return ml.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},kl.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Cl.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Qs.coordinatess(e,0,this.ends_,this.stride)},kl.prototype.getEnds=function(){return this.ends_},kl.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=sa.getCenter(this.getExtent());this.flatInteriorPoint_=xl.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},kl.prototype.getInteriorPoint=function(){return new pl(this.getFlatInteriorPoint(),Ws)},kl.prototype.getLinearRingCount=function(){return this.ends_.length},kl.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t)return null;var e=new bl(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},kl.prototype.getLinearRings=function(){var t,e,n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],l=new bl(null);l.setFlatCoordinates(n,r.slice(a,s)),o.push(l),a=s}return o},kl.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Cl.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Cl.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},kl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=ll.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n);var r=new kl(null);return r.setFlatCoordinates(Bs,e,n),r},kl.prototype.getType=function(){return ya},kl.prototype.intersectsExtent=function(t){return il.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},kl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ks.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(Bs,null,this.ends_)},kl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},kl.circular=function(t,e,n,r){var i,o=r||32,a=[];for(i=0;i<o;++i)Us.extend(a,t.offset(e,n,2*Math.PI*i/o));a.push(a[0],a[1]);var s=new kl(null);return s.setFlatCoordinates(Bs,a,[a.length]),s},kl.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n],a=new kl(null);return a.setFlatCoordinates(Bs,o,[o.length]),a},kl.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=new kl(null,o),s=i*(r+1),l=new Array(s),u=0;u<s;u++)l[u]=0;var c=[l.length];return a.setFlatCoordinates(o,l,c),kl.makeRegular(a,t.getCenter(),t.getRadius(),n),a},kl.makeRegular=function(t,e,n,r){for(var i,o,a=t.getFlatCoordinates(),s=t.getLayout(),l=t.getStride(),u=t.getEnds(),c=a.length/l-1,f=r||0,h=0;h<=c;++h)o=h*l,i=f+2*fa.modulo(h,c)*Math.PI/c,a[o]=e[0]+n*Math.cos(i),a[o+1]=e[1]+n*Math.sin(i);t.setFlatCoordinates(s,a,u)};const Pl=kl;const Tl={linearRingss:function(t,e,n,r){var i,o,a=[],s=sa.createEmpty();for(i=0,o=n.length;i<o;++i){var l=n[i];s=sa.createOrUpdateFromFlatCoordinates(t,e,l[0],r),a.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return a}};var Rl=function(t,e){Vs.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};go.inherits(Rl,Vs),Rl.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n,r,i=this.flatCoordinates.length;for(Us.extend(this.flatCoordinates,t.getFlatCoordinates()),n=0,r=(e=t.getEnds().slice()).length;n<r;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},Rl.prototype.clone=function(){for(var t=new Rl(null),e=this.endss_.length,n=new Array(e),r=0;r<e;++r)n[r]=this.endss_[r].slice();return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),n),t},Rl.prototype.closestPointXY=function(t,e,n,r){return r<sa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Xs.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Xs.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},Rl.prototype.containsXY=function(t,e){return el.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},Rl.prototype.getArea=function(){return ml.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},Rl.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Cl.orientLinearRingss(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Qs.coordinatesss(e,0,this.endss_,this.stride)},Rl.prototype.getEndss=function(){return this.endss_},Rl.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Tl.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=xl.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},Rl.prototype.getInteriorPoints=function(){var t=new vl(null);return t.setFlatCoordinates(Ws,this.getFlatInteriorPoints().slice()),t},Rl.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Cl.linearRingssAreOriented(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Cl.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Rl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=ll.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n);var r=new Rl(null);return r.setFlatCoordinates(Bs,e,n),r},Rl.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r,i,o=this.endss_[t].slice(),a=o[o.length-1];if(0!==e)for(r=0,i=o.length;r<i;++r)o[r]-=e;var s=new Pl(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e,a),o),s},Rl.prototype.getPolygons=function(){var t,e,n,r,i=this.layout,o=this.flatCoordinates,a=this.endss_,s=[],l=0;for(t=0,e=a.length;t<e;++t){var u=a[t].slice(),c=u[u.length-1];if(0!==l)for(n=0,r=u.length;n<r;++n)u[n]-=l;var f=new Pl(null);f.setFlatCoordinates(i,o.slice(l,c),u),s.push(f),l=c}return s},Rl.prototype.getType=function(){return ma},Rl.prototype.intersectsExtent=function(t){return il.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},Rl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ks.coordinatesss(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}else this.setFlatCoordinates(Bs,null,this.endss_)},Rl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.endss_=n,this.changed()},Rl.prototype.setPolygons=function(t){var e,n,r,i=this.getLayout(),o=[],a=[];for(e=0,n=t.length;e<n;++e){var s=t[e];0===e&&(i=s.getLayout());var l,u,c=o.length;for(l=0,u=(r=s.getEnds()).length;l<u;++l)r[l]+=c;Us.extend(o,s.getFlatCoordinates()),a.push(r)}this.setFlatCoordinates(i,o,a)};const Al=Rl;var Ol=function(t){var e=t||{};Ls.call(this),this.defaultDataProjection=Na.get(e.defaultDataProjection?e.defaultDataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Na.get(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName};go.inherits(Ol,Ls),Ol.readGeometry_=function(t,e){if(!t)return null;var n=Ol.GEOMETRY_READERS_[t.type];return Rs.transformWithOptions(n(t),!1,e)},Ol.readGeometryCollectionGeometry_=function(t,e){var n=t.geometries.map((function(t){return Ol.readGeometry_(t,e)}));return new Fs(n)},Ol.readPointGeometry_=function(t){return new pl(t.coordinates)},Ol.readLineStringGeometry_=function(t){return new cl(t.coordinates)},Ol.readMultiLineStringGeometry_=function(t){return new hl(t.coordinates)},Ol.readMultiPointGeometry_=function(t){return new vl(t.coordinates)},Ol.readMultiPolygonGeometry_=function(t){return new Al(t.coordinates)},Ol.readPolygonGeometry_=function(t){return new Pl(t.coordinates)},Ol.writeGeometry_=function(t,e){return(0,Ol.GEOMETRY_WRITERS_[t.getType()])(Rs.transformWithOptions(t,!0,e),e)},Ol.writeEmptyGeometryCollectionGeometry_=function(t){return{type:"GeometryCollection",geometries:[]}},Ol.writeGeometryCollectionGeometry_=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=xo.assign({},e);return delete n.featureProjection,Ol.writeGeometry_(t,n)}));return{type:"GeometryCollection",geometries:n}},Ol.writeLineStringGeometry_=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}},Ol.writeMultiLineStringGeometry_=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}},Ol.writeMultiPointGeometry_=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}},Ol.writeMultiPolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}},Ol.writePointGeometry_=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}},Ol.writePolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}},Ol.GEOMETRY_READERS_={Point:Ol.readPointGeometry_,LineString:Ol.readLineStringGeometry_,Polygon:Ol.readPolygonGeometry_,MultiPoint:Ol.readMultiPointGeometry_,MultiLineString:Ol.readMultiLineStringGeometry_,MultiPolygon:Ol.readMultiPolygonGeometry_,GeometryCollection:Ol.readGeometryCollectionGeometry_},Ol.GEOMETRY_WRITERS_={Point:Ol.writePointGeometry_,LineString:Ol.writeLineStringGeometry_,Polygon:Ol.writePolygonGeometry_,MultiPoint:Ol.writeMultiPointGeometry_,MultiLineString:Ol.writeMultiLineStringGeometry_,MultiPolygon:Ol.writeMultiPolygonGeometry_,GeometryCollection:Ol.writeGeometryCollectionGeometry_,Circle:Ol.writeEmptyGeometryCollectionGeometry_},Ol.prototype.readFeature,Ol.prototype.readFeatures,Ol.prototype.readFeatureFromObject=function(t,e){var n;n="Feature"===t.type?t:{type:"Feature",geometry:t};var r=Ol.readGeometry_(n.geometry,e),i=new Ps;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(r),void 0!==n.id&&i.setId(n.id),n.properties&&i.setProperties(n.properties),i},Ol.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];var r,i,o=t.features;for(r=0,i=o.length;r<i;++r)n.push(this.readFeatureFromObject(o[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},Ol.prototype.readGeometry,Ol.prototype.readGeometryFromObject=function(t,e){return Ol.readGeometry_(t,e)},Ol.prototype.readProjection,Ol.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Na.get(n.properties.name):bo.assert(!1,36):e=this.defaultDataProjection,e},Ol.prototype.writeFeature,Ol.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature"},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();n.geometry=i?Ol.writeGeometry_(i,e):null;var o=t.getProperties();return delete o[t.getGeometryName()],xo.isEmpty(o)?n.properties=null:n.properties=o,n},Ol.prototype.writeFeatures,Ol.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);var n,r,i=[];for(n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}},Ol.prototype.writeGeometry,Ol.prototype.writeGeometryObject=function(t,e){return Ol.writeGeometry_(t,this.adaptOptions(e))};const Il=Ol,Ml="IMAGE",Dl="TILE",Ll="VECTOR_TILE",jl="VECTOR",Fl="opacity",Nl="visible",Ul="extent",Bl="zIndex",zl="maxResolution",Wl="minResolution",Gl="source";var ql=function(t){Ko.call(this);var e=xo.assign({},t);e[Fl]=void 0!==t.opacity?t.opacity:1,e[Nl]=void 0===t.visible||t.visible,e[Bl]=void 0!==t.zIndex?t.zIndex:0,e[zl]=void 0!==t.maxResolution?t.maxResolution:1/0,e[Wl]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};go.inherits(ql,Ko),ql.prototype.getType=function(){return this.type},ql.prototype.getLayerState=function(){return this.state_.opacity=fa.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},ql.prototype.getLayersArray=function(t){},ql.prototype.getLayerStatesArray=function(t){},ql.prototype.getExtent=function(){return this.get(Ul)},ql.prototype.getMaxResolution=function(){return this.get(zl)},ql.prototype.getMinResolution=function(){return this.get(Wl)},ql.prototype.getOpacity=function(){return this.get(Fl)},ql.prototype.getSourceState=function(){},ql.prototype.getVisible=function(){return this.get(Nl)},ql.prototype.getZIndex=function(){return this.get(Bl)},ql.prototype.setExtent=function(t){this.set(Ul,t)},ql.prototype.setMaxResolution=function(t){this.set(zl,t)},ql.prototype.setMinResolution=function(t){this.set(Wl,t)},ql.prototype.setOpacity=function(t){this.set(Fl,t)},ql.prototype.setVisible=function(t){this.set(Nl,t)},ql.prototype.setZIndex=function(t){this.set(Bl,t)};const Vl=ql,Hl="postcompose",Xl="precompose",Yl="render",Kl="undefined",Zl="ready";var Ql=function(t){var e=xo.assign({},t);delete e.source,Vl.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),Eo.listen(this,Ko.getChangeEventType(Gl),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};go.inherits(Ql,Vl),Ql.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},Ql.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},Ql.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},Ql.prototype.getSource=function(){return this.get(Gl)||null},Ql.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Kl},Ql.prototype.handleSourceChange_=function(){this.changed()},Ql.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Eo.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Eo.listen(t,Co,this.handleSourceChange_,this)),this.changed()},Ql.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Eo.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Eo.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Eo.listen(t,Xl,(function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[go.getUid(this)]=e}),this),this.mapRenderKey_=Eo.listen(this,Co,t.render,t),this.changed())},Ql.prototype.setSource=function(t){this.set(Gl,t)};const Jl=Ql;var $l=function(t){var e=t||{};Jl.call(this,e),this.type=Ml};go.inherits($l,Jl),$l.prototype.getSource;const tu=$l;var eu=function(t,e,n,r){Vo.call(this),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=r};go.inherits(eu,Vo),eu.prototype.changed=function(){this.dispatchEvent(Co)},eu.prototype.getExtent=function(){return this.extent},eu.prototype.getImage=function(){},eu.prototype.getPixelRatio=function(){return this.pixelRatio_},eu.prototype.getResolution=function(){return this.resolution},eu.prototype.getState=function(){return this.state},eu.prototype.load=function(){};const nu=eu;var ru=function(t,e,n,r,i,o){nu.call(this,t,e,n,ns),this.src_=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.imageListenerKeys_=null,this.state=ns,this.imageLoadFunction_=o};go.inherits(ru,nu),ru.prototype.getImage=function(){return this.image_},ru.prototype.handleImageError_=function(){this.state=os,this.unlistenImage_(),this.changed()},ru.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=sa.getHeight(this.extent)/this.image_.height),this.state=is,this.unlistenImage_(),this.changed()},ru.prototype.load=function(){this.state!=ns&&this.state!=os||(this.state=rs,this.changed(),this.imageListenerKeys_=[Eo.listenOnce(this.image_,Ro,this.handleImageError_,this),Eo.listenOnce(this.image_,Io,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},ru.prototype.setImage=function(t){this.image_=t},ru.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(Eo.unlistenByKey),this.imageListenerKeys_=null};const iu=ru;var ou={calculateSourceResolution:function(t,e,n,r){var i=Na.transform(n,e,t),o=Na.getPointResolution(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||sa.containsCoordinate(l,i)){var u=Na.getPointResolution(t,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o},enlargeClipPoint_:function(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]},render:function(t,e,n,r,i,o,a,s,l,u,c){var f=Za.createCanvasContext2D(Math.round(n*t),Math.round(n*e));if(0===l.length)return f.canvas;f.scale(n,n);var h=sa.createEmpty();l.forEach((function(t,e,n){sa.extend(h,t.extent)}));var d=sa.getWidth(h),p=sa.getHeight(h),y=Za.createCanvasContext2D(Math.round(n*d/r),Math.round(n*p/r)),v=n/r;l.forEach((function(t,e,n){var r=t.extent[0]-h[0],i=-(t.extent[3]-h[3]),o=sa.getWidth(t.extent),a=sa.getHeight(t.extent);y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*v,i*v,o*v,a*v)}));var g=sa.getTopLeft(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],d=a[1][1],p=a[2][0],v=a[2][1],m=(s[0][0]-g[0])/o,_=-(s[0][1]-g[1])/o,b=(s[1][0]-g[0])/o,w=-(s[1][1]-g[1])/o,x=(s[2][0]-g[0])/o,S=-(s[2][1]-g[1])/o,E=l,C=u;l=0,u=0;var k=[[c-=E,d-=C,0,0,b-m],[p-=E,v-=C,0,0,x-m],[0,0,c,d,w-_],[0,0,p,v,S-_]],P=fa.solveLinearSystem(k);if(P){f.save(),f.beginPath();var T=(m+b+x)/3,R=(_+w+S)/3,A=ou.enlargeClipPoint_(T,R,m,_),O=ou.enlargeClipPoint_(T,R,b,w),I=ou.enlargeClipPoint_(T,R,x,S);f.moveTo(O[0],O[1]),f.lineTo(A[0],A[1]),f.lineTo(I[0],I[1]),f.clip(),f.transform(P[0],P[2],P[1],P[3],m,_),f.translate(h[0]-E,h[3]-C),f.scale(r/n,-r/n),f.drawImage(y.canvas,0,0),f.restore()}})),c&&(f.save(),f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-g[0])/o,a=-(r[0][1]-g[1])/o,s=(r[1][0]-g[0])/o,l=-(r[1][1]-g[1])/o,u=(r[2][0]-g[0])/o,c=-(r[2][1]-g[1])/o;f.beginPath(),f.moveTo(s,l),f.lineTo(i,a),f.lineTo(u,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}};const au=ou;var su=function(t,e,n,r,i){this.sourceProj_=t,this.targetProj_=e;var o={},a=Na.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&sa.getWidth(r)==sa.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?sa.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?sa.getWidth(this.targetProj_.getExtent()):null;var s=sa.getTopLeft(n),l=sa.getTopRight(n),u=sa.getBottomRight(n),c=sa.getBottomLeft(n),f=this.transformInv_(s),h=this.transformInv_(l),d=this.transformInv_(u),p=this.transformInv_(c);if(this.addQuad_(s,l,u,c,f,h,d,p,go.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}),this)}o={}};su.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},su.prototype.addQuad_=function(t,e,n,r,i,o,a,s,l){var u=sa.boundingExtent([i,o,a,s]),c=this.sourceWorldWidth_?sa.getWidth(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var p=sa.boundingExtent([t,e,n,r]);d|=sa.getWidth(p)/this.targetWorldWidth_>go.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!h&&this.sourceProj_.isGlobal()&&c&&(d|=c>go.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(d||!this.maxSourceExtent_||sa.intersects(u,this.maxSourceExtent_)){if(!(d||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(l>0))return;d=!0}if(l>0){if(!d){var y,v=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(v);y=h?(fa.modulo(i[0],f)+fa.modulo(a[0],f))/2-fa.modulo(g[0],f):(i[0]+a[0])/2-g[0];var m=(i[1]+a[1])/2-g[1];d=y*y+m*m>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(_),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,_,w,i,o,b,x,l-1),this.addQuad_(w,_,n,r,x,b,a,s,l-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(S),C=[(n[0]+r[0])/2,(n[1]+r[1])/2],k=this.transformInv_(C);this.addQuad_(t,S,C,r,i,E,k,s,l-1),this.addQuad_(S,e,n,C,E,o,a,k,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,i,a,s),this.addTriangle_(t,e,n,i,o,a)}},su.prototype.calculateSourceExtent=function(){var t=sa.createEmpty();return this.triangles_.forEach((function(e,n,r){var i=e.source;sa.extendCoordinate(t,i[0]),sa.extendCoordinate(t,i[1]),sa.extendCoordinate(t,i[2])})),t},su.prototype.getTriangles=function(){return this.triangles_};const lu=su;var uu=function(t,e,n,r,i,o){this.targetProj_=e,this.maxSourceExtent_=t.getExtent();var a=e.getExtent(),s=a?sa.getIntersection(n,a):n,l=sa.getCenter(s),u=au.calculateSourceResolution(t,e,l,r),c=go.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new lu(t,e,s,this.maxSourceExtent_,u*c),this.targetResolution_=r,this.targetExtent_=n;var f=this.triangulation_.calculateSourceExtent();this.sourceImage_=o(f,u,i),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var h=is;this.sourceImage_&&(h=ns),nu.call(this,n,r,this.sourcePixelRatio_,h)};go.inherits(uu,nu),uu.prototype.disposeInternal=function(){this.state==rs&&this.unlistenSource_(),nu.prototype.disposeInternal.call(this)},uu.prototype.getImage=function(){return this.canvas_},uu.prototype.getProjection=function(){return this.targetProj_},uu.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==is){var e=sa.getWidth(this.targetExtent_)/this.targetResolution_,n=sa.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=au.render(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},uu.prototype.load=function(){if(this.state==ns){this.state=rs,this.changed();var t=this.sourceImage_.getState();t==is||t==os?this.reproject_():(this.sourceListenerKey_=Eo.listen(this.sourceImage_,Co,(function(t){var e=this.sourceImage_.getState();e!=is&&e!=os||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},uu.prototype.unlistenSource_=function(){Eo.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null};const cu=uu;var fu=function(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r};fu.createOrUpdate=function(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new fu(t,e,n,r)},fu.prototype.contains=function(t){return this.containsXY(t[1],t[2])},fu.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},fu.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},fu.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},fu.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},fu.prototype.getHeight=function(){return this.maxY-this.minY+1},fu.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},fu.prototype.getWidth=function(){return this.maxX-this.minX+1},fu.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const hu=fu;var du={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}};const pu=du;var yu={createOrUpdate:function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return yu.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")},withinExtentAndZ:function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}};const vu=yu;var gu=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,bo.assert(Us.isSorted(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,bo.assert(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=sa.getTopLeft(i)),bo.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,bo.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:go.DEFAULT_TILE_SIZE,bo.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new hu(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):i&&this.calculateTileRanges_(i)};gu.tmpTileCoord_=[0,0,0],gu.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},gu.prototype.forEachTileCoordParentTileRange=function(t,e,n,r,i){var o,a,s,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):l=this.getTileCoordExtent(t,i);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=hu.createOrUpdate(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(l,u,r),e.call(n,u,o))return!0;--u}return!1},gu.prototype.getExtent=function(){return this.extent_},gu.prototype.getMaxZoom=function(){return this.maxZoom},gu.prototype.getMinZoom=function(){return this.minZoom},gu.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},gu.prototype.getResolution=function(t){return this.resolutions_[t]},gu.prototype.getResolutions=function(){return this.resolutions_},gu.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return hu.createOrUpdate(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},gu.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=pu.toSize(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,u=r[1]+(e.maxY+1)*o[1]*i;return sa.createOrUpdate(a,l,s,u,n)},gu.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=gu.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),hu.createOrUpdate(i,r[1],o,r[2],n)},gu.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=pu.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]+(t[2]+.5)*r[1]*n]},gu.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=pu.toSize(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]+t[2]*i[1]*r,s=o+i[0]*r,l=a+i[1]*r;return sa.createOrUpdate(o,a,s,l,e)},gu.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},gu.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=pu.toSize(this.getTileSize(o),this.tmpSize_),u=r?.5:0,c=r?0:.5,f=Math.floor((t-s[0])/n+u),h=Math.floor((e-s[1])/n+c),d=a*f/l[0],p=a*h/l[1];return r?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),vu.createOrUpdate(o,d,p,i)},gu.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=pu.toSize(this.getTileSize(n),this.tmpSize_),l=r?.5:0,u=r?0:.5,c=Math.floor((t-o[0])/a+l),f=Math.floor((e-o[1])/a+u),h=c/s[0],d=f/s[1];return r?(h=Math.ceil(h)-1,d=Math.ceil(d)-1):(h=Math.floor(h),d=Math.floor(d)),vu.createOrUpdate(n,h,d,i)},gu.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},gu.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},gu.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},gu.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},gu.prototype.getZForResolution=function(t,e){var n=Us.linearFindNearest(this.resolutions_,t,e||0);return fa.clamp(n,this.minZoom,this.maxZoom)},gu.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n};const mu=gu;var _u={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=_u.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=_u.extentFromProjection(n);if(sa.containsCoordinate(o,i))return e;var a=sa.getWidth(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)},createForExtent:function(t,e,n,r){var i=void 0!==r?r:Jo,o=_u.resolutionsFromExtent(t,e,n);return new mu({extent:t,origin:sa.getCorner(t,i),resolutions:o,tileSize:n})},createXYZ:function(t){var e={};return xo.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Na.get("EPSG:3857").getExtent()),e.resolutions=_u.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new mu(e)},resolutionsFromExtent:function(t,e,n){for(var r=void 0!==e?e:go.DEFAULT_MAX_ZOOM,i=sa.getHeight(t),o=sa.getWidth(t),a=pu.toSize(void 0!==n?n:go.DEFAULT_TILE_SIZE),s=Math.max(o/a[0],i/a[1]),l=r+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u},createForProjection:function(t,e,n,r){var i=_u.extentFromProjection(t);return _u.createForExtent(i,e,n,r)},extentFromProjection:function(t){var e=(t=Na.get(t)).getExtent();if(!e){var n=180*Na.METERS_PER_UNIT[Ea.DEGREES]/t.getMetersPerUnit();e=sa.createOrUpdate(-n,-n,n,n)}return e}};const bu=_u;var wu=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};wu.prototype.getHTML=function(){return this.html_},wu.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var r,i,o,a;for(a in t){var s;if(a in this.tileRanges_)for(o=t[a],r=0,i=this.tileRanges_[a].length;r<i;++r){if((s=this.tileRanges_[a][r]).intersects(o))return!0;var l=e.getTileRangeForExtentAndZ(bu.extentFromProjection(n),parseInt(a,10)),u=l.getWidth();if(o.minX<l.minX||o.maxX>l.maxX){if(s.intersects(new hu(fa.modulo(o.minX,u),fa.modulo(o.maxX,u),o.minY,o.maxY)))return!0;if(o.getWidth()>u&&s.intersects(l))return!0}}}return!1};const xu=wu;var Su=function(t){Ko.call(this),this.projection_=Na.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:Zl,this.wrapX_=void 0!==t.wrapX&&t.wrapX};go.inherits(Su,Ko),Su.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof xu)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof xu){this.attributions_=t;var e=t.map((function(t){return t.getHTML()}));return function(t){return e}}return this.attributions_=t.map((function(t){return new xu({html:t})})),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new xu({html:t})],function(e){return[t]})},Su.prototype.forEachFeatureAtCoordinate=go.nullFunction,Su.prototype.getAttributions=function(){return this.attributions_},Su.prototype.getAttributions2=function(){return this.attributions2_},Su.prototype.getLogo=function(){return this.logo_},Su.prototype.getProjection=function(){return this.projection_},Su.prototype.getResolutions=function(){},Su.prototype.getState=function(){return this.state_},Su.prototype.getWrapX=function(){return this.wrapX_},Su.prototype.refresh=function(){this.changed()},Su.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},Su.prototype.setLogo=function(t){this.logo_=t},Su.prototype.setState=function(t){this.state_=t,this.changed()};const Eu=Su;var Cu=function(t){Eu.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0};go.inherits(Cu,Eu),Cu.prototype.getResolutions=function(){return this.resolutions_},Cu.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Us.linearFindNearest(this.resolutions_,t,0);t=this.resolutions_[e]}return t},Cu.prototype.getImage=function(t,e,n,r){var i=this.getProjection();if(go.ENABLE_RASTER_REPROJECTION&&i&&r&&!Na.equivalent(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Na.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&sa.equals(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new cu(i,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(t,e,n,r)},Cu.prototype.getImageInternal=function(t,e,n,r){},Cu.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case rs:this.dispatchEvent(new Cu.Event(Cu.EventType_.IMAGELOADSTART,e));break;case is:this.dispatchEvent(new Cu.Event(Cu.EventType_.IMAGELOADEND,e));break;case os:this.dispatchEvent(new Cu.Event(Cu.EventType_.IMAGELOADERROR,e))}},Cu.defaultImageLoadFunction=function(t,e){t.getImage().src=e},Cu.Event=function(t,e){Go.call(this,t),this.image=e},go.inherits(Cu.Event,Go),Cu.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};const ku=Cu;var Pu=function(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,r=void 0!==t.imageLoadFunction?t.imageLoadFunction:ku.defaultImageLoadFunction;ku.call(this,{attributions:t.attributions,logo:t.logo,projection:Na.get(t.projection)}),this.image_=new iu(e,void 0,1,t.url,n,r),this.imageSize_=t.imageSize?t.imageSize:null,Eo.listen(this.image_,Co,this.handleImageChange,this)};go.inherits(Pu,ku),Pu.prototype.getImageInternal=function(t,e,n,r){return sa.intersects(t,this.image_.getExtent())?this.image_:null},Pu.prototype.handleImageChange=function(t){if(this.image_.getState()==is){var e,n,r=this.image_.getExtent(),i=this.image_.getImage();this.imageSize_?(e=this.imageSize_[0],n=this.imageSize_[1]):(e=i.width,n=i.height);var o=sa.getHeight(r)/n,a=Math.ceil(sa.getWidth(r)/o);if(a!=e){var s=Za.createCanvasContext2D(a,n),l=s.canvas;s.drawImage(i,0,0,e,n,0,0,l.width,l.height),this.image_.setImage(l)}}ku.prototype.handleImageChange.call(this,t)};const Tu=Pu,Ru="add",Au="remove";var Ou=function(t,e){Ko.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()};go.inherits(Ou,Ko),Ou.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Ou.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},Ou.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},Ou.prototype.getArray=function(){return this.array_},Ou.prototype.item=function(t){return this.array_[t]},Ou.prototype.getLength=function(){return this.get(Ou.Property_.LENGTH)},Ou.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ou.Event(Ru,e))},Ou.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Ou.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},Ou.prototype.remove=function(t){var e,n,r=this.array_;for(e=0,n=r.length;e<n;++e)if(r[e]===t)return this.removeAt(e)},Ou.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ou.Event(Au,e)),e},Ou.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ou.Event(Au,r)),this.dispatchEvent(new Ou.Event(Ru,e))}else{var i;for(i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},Ou.prototype.updateLength_=function(){this.set(Ou.Property_.LENGTH,this.array_.length)},Ou.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new _o(58)},Ou.Property_={LENGTH:"length"},Ou.Event=function(t,e){Go.call(this,t),this.element=e},go.inherits(Ou.Event,Go);const Iu=Ou;var Mu=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};Mu.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Mu.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Mu.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},Mu.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Mu.prototype.getAngle=function(){return this.angle_};const Du=Mu,Lu={SINGLECLICK:"singleclick",CLICK:Po,DBLCLICK:To,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var ju={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return 1-ju.easeIn(1-t)},inAndOut:function(t){return 3*t*t-2*t*t*t},linear:function(t){return t},upAndDown:function(t){return t<.5?ju.inAndOut(2*t):1-ju.inAndOut(2*(t-.5))}};const Fu=ju,Nu="active";var Uu=function(t){Ko.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};go.inherits(Uu,Ko),Uu.prototype.getActive=function(){return this.get(Nu)},Uu.prototype.getMap=function(){return this.map_},Uu.prototype.setActive=function(t){this.set(Nu,t)},Uu.prototype.setMap=function(t){this.map_=t},Uu.pan=function(t,e,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);n?t.animate({duration:n,easing:Fu.linear,center:i}):t.setCenter(i)}},Uu.rotate=function(t,e,n,r){e=t.constrainRotation(e,0),Uu.rotateWithoutConstraints(t,e,n,r)},Uu.rotateWithoutConstraints=function(t,e,n,r){if(void 0!==e){var i=t.getRotation(),o=t.getCenter();void 0!==i&&o&&r>0?t.animate({rotation:e,anchor:n,duration:r,easing:Fu.easeOut}):t.rotate(e,n)}},Uu.zoom=function(t,e,n,r,i){e=t.constrainResolution(e,0,i),Uu.zoomWithoutConstraints(t,e,n,r)},Uu.zoomByDelta=function(t,e,n,r){var i=t.getResolution(),o=t.constrainResolution(i,e,0);if(void 0!==o){var a=t.getResolutions();o=fa.clamp(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==i){var s=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*s[0]-i*l[0])/(o-i),(o*s[1]-i*l[1])/(o-i)]}Uu.zoomWithoutConstraints(t,o,n,r)},Uu.zoomWithoutConstraints=function(t,e,n,r){if(e){var i=t.getResolution(),o=t.getCenter();if(void 0!==i&&o&&e!==i&&r)t.animate({resolution:e,anchor:n,duration:r,easing:Fu.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}};const Bu=Uu;var zu=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,Bu.call(this,{handleEvent:zu.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};go.inherits(zu,Bu),zu.handleEvent=function(t){var e=!1,n=t.originalEvent;if(t.type==Lu.DBLCLICK){var r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=r.getView();Bu.zoomByDelta(a,o,i,this.duration_),t.preventDefault(),e=!0}return!e};const Wu=zu,Gu=0,qu=1;const Vu={padNumber:function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},compareVersions:function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}};var Hu={add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t},closestOnCircle:function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+n*a/l,o+n*s/l]},closestOnSegment:function(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],f=s[1],h=c-l,d=f-u,p=0===h&&0===d?0:(h*(i-l)+d*(o-u))/(h*h+d*d||0);return p<=0?(n=l,r=u):p>=1?(n=c,r=f):(n=l+p*h,r=u+p*d),[n,r]},createStringXY:function(t){return function(e){return Hu.toStringXY(e,t)}},degreesToStringHDMS:function(t,e,n){var r=fa.modulo(e+180,360)-180,i=Math.abs(3600*r),o=n||0,a=Math.pow(10,o),s=Math.floor(i/3600),l=Math.floor((i-3600*s)/60),u=i-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+"° "+Vu.padNumber(l,2)+"′ "+Vu.padNumber(u,2,o)+"″"+(0==r?"":" "+t.charAt(r<0?1:0))},format:function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""},equals:function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},rotate:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},scale:function(t,e){return t[0]*=e,t[1]*=e,t},sub:function(t,e){return t[0]-=e[0],t[1]-=e[1],t},squaredDistance:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},distance:function(t,e){return Math.sqrt(Hu.squaredDistance(t,e))},squaredDistanceToSegment:function(t,e){return Hu.squaredDistance(t,Hu.closestOnSegment(t,e))},toStringHDMS:function(t,e){return t?Hu.degreesToStringHDMS("NS",t[1],e)+" "+Hu.degreesToStringHDMS("EW",t[0],e):""},toStringXY:function(t,e){return Hu.format(t,"{x}, {y}",e)}};const Xu=Hu;var Yu={altKeyOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},altShiftKeysOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}};Yu.always=la.TRUE,Yu.click=function(t){return t.type==Lu.CLICK},Yu.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(es.WEBKIT&&es.MAC&&e.ctrlKey)},Yu.never=la.FALSE,Yu.pointerMove=function(t){return"pointermove"==t.type},Yu.singleClick=function(t){return t.type==Lu.SINGLECLICK},Yu.doubleClick=function(t){return t.type==Lu.DBLCLICK},Yu.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Yu.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(es.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},Yu.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Yu.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Yu.mouseOnly=function(t){return bo.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},Yu.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button};const Ku=Yu;var Zu=function(t,e,n){Go.call(this,t),this.map=e,this.frameState=void 0!==n?n:null};go.inherits(Zu,Go);const Qu=Zu;var Ju=function(t,e,n,r,i){Qu.call(this,t,e,i),this.originalEvent=n,this.pixel=e.getEventPixel(n),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r};go.inherits(Ju,Qu),Ju.prototype.preventDefault=function(){Qu.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Ju.prototype.stopPropagation=function(){Qu.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};const $u=Ju;var tc=function(t,e,n,r,i){$u.call(this,t,e,n.originalEvent,r,i),this.pointerEvent=n};go.inherits(tc,$u);const ec=tc;var nc=function(t){var e=t||{},n=e.handleEvent?e.handleEvent:nc.handleEvent;Bu.call(this,{handleEvent:n}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:nc.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:nc.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:nc.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:nc.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};go.inherits(nc,Bu),nc.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]},nc.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===Lu.POINTERDOWN||e===Lu.POINTERDRAG||e===Lu.POINTERUP},nc.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==Lu.POINTERUP?delete this.trackedPointers_[n]:(t.type==Lu.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=xo.getValues(this.trackedPointers_)}},nc.handleDragEvent=go.nullFunction,nc.handleUpEvent=la.FALSE,nc.handleDownEvent=la.FALSE,nc.handleMoveEvent=go.nullFunction,nc.handleEvent=function(t){if(!(t instanceof ec))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Lu.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==Lu.POINTERUP){var n=this.handleUpEvent_(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Lu.POINTERDOWN){var r=this.handleDownEvent_(t);this.handlingDownUpSequence=r,e=this.shouldStopEvent(r)}else t.type==Lu.POINTERMOVE&&this.handleMoveEvent_(t);return!e},nc.prototype.shouldStopEvent=function(t){return t};const rc=nc;var ic=function(t){rc.call(this,{handleDownEvent:ic.handleDownEvent_,handleDragEvent:ic.handleDragEvent_,handleUpEvent:ic.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=e.condition?e.condition:Ku.noModifierKeys,this.noKinetic_=!1};go.inherits(ic,rc),ic.handleDragEvent_=function(t){var e=this.targetPointers,n=rc.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=this.lastCentroid[0]-n[0],i=n[1]-this.lastCentroid[1],o=t.map.getView(),a=o.getState(),s=[r,i];Xu.scale(s,a.resolution),Xu.rotate(s,a.rotation),Xu.add(s,a.center),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},ic.handleUpEvent_=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animate({center:n.constrainCenter(s),duration:500,easing:Fu.easeOut})}return n.setHint(qu,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},ic.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||e.setHint(qu,1),e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},ic.prototype.shouldStopEvent=la.FALSE;const oc=ic;const ac={disable:function(t,e){return void 0!==t?0:void 0},none:function(t,e){return void 0!==t?t+e:void 0},createSnapToN:function(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}},createSnapToZero:function(t){var e=t||fa.toRadians(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}};var sc=function(t){var e=t||{};rc.call(this,{handleDownEvent:sc.handleDownEvent_,handleDragEvent:sc.handleDragEvent_,handleUpEvent:sc.handleUpEvent_}),this.condition_=e.condition?e.condition:Ku.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};go.inherits(sc,rc),sc.handleDragEvent_=function(t){if(Ku.mouseOnly(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==ac.disable){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_,s=n.getRotation();Bu.rotateWithoutConstraints(n,s-a)}this.lastAngle_=o}}},sc.handleUpEvent_=function(t){if(!Ku.mouseOnly(t))return!0;var e=t.map.getView();e.setHint(qu,-1);var n=e.getRotation();return Bu.rotate(e,n,void 0,this.duration_),!1},sc.handleDownEvent_=function(t){return!(!Ku.mouseOnly(t)||!Ku.mouseActionButton(t)||!this.condition_(t)||(t.map.getView().setHint(qu,1),this.lastAngle_=void 0,0))},sc.prototype.shouldStopEvent=la.FALSE;const lc=sc;var uc=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};go.inherits(uc,zo),uc.prototype.disposeInternal=function(){this.setMap(null)},uc.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},uc.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},uc.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},uc.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Pl([n])},uc.prototype.getGeometry=function(){return this.geometry_};const cc=uc;var fc=function(t){rc.call(this,{handleDownEvent:fc.handleDownEvent_,handleDragEvent:fc.handleDragEvent_,handleUpEvent:fc.handleUpEvent_});var e=t||{};this.box_=new cc(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:Ku.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:fc.defaultBoxEndCondition};go.inherits(fc,rc),fc.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},fc.handleDragEvent_=function(t){Ku.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new fc.Event(fc.EventType_.BOXDRAG,t.coordinate,t)))},fc.prototype.getGeometry=function(){return this.box_.getGeometry()},fc.prototype.onBoxEnd=go.nullFunction,fc.handleUpEvent_=function(t){return!Ku.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new fc.Event(fc.EventType_.BOXEND,t.coordinate,t))),!1)},fc.handleDownEvent_=function(t){return!(!Ku.mouseOnly(t)||!Ku.mouseActionButton(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new fc.Event(fc.EventType_.BOXSTART,t.coordinate,t)),0))},fc.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},fc.Event=function(t,e,n){Go.call(this,t),this.coordinate=e,this.mapBrowserEvent=n},go.inherits(fc.Event,Go);const hc=fc;var dc=function(t){var e=t||{},n=e.condition?e.condition:Ku.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,hc.call(this,{condition:n,className:e.className||"ol-dragzoom"})};go.inherits(dc,hc),dc.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n),o=sa.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(sa.getBottomLeft(r)),t.getPixelFromCoordinate(sa.getTopRight(r))]),a=e.getResolutionForExtent(o,n);sa.scaleFromCenter(i,1/a),r=i}var s=e.constrainResolution(e.getResolutionForExtent(r,n)),l=sa.getCenter(r);l=e.constrainCenter(l),e.animate({resolution:s,center:l,duration:this.duration_,easing:Fu.easeOut})};const pc=dc,yc=37,vc=38,gc=39,mc=40;var _c=function(t){Bu.call(this,{handleEvent:_c.handleEvent});var e=t||{};this.defaultCondition_=function(t){return Ku.noModifierKeys(t)&&Ku.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};go.inherits(_c,Bu),_c.handleEvent=function(t){var e=!1;if(t.type==Ao){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==mc||n==yc||n==gc||n==vc)){var r=t.map.getView(),i=r.getResolution()*this.pixelDelta_,o=0,a=0;n==mc?a=-i:n==yc?o=-i:n==gc?o=i:a=i;var s=[o,a];Xu.rotate(s,r.getRotation()),Bu.pan(r,s,this.duration_),t.preventDefault(),e=!0}}return!e};const bc=_c;var wc=function(t){Bu.call(this,{handleEvent:wc.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:Ku.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};go.inherits(wc,Bu),wc.handleEvent=function(t){var e=!1;if(t.type==Ao||t.type==Oo){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=r.getView();Bu.zoomByDelta(o,i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};const xc=wc;var Sc=function(t){Bu.call(this,{handleEvent:Sc.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};go.inherits(Sc,Bu),Sc.handleEvent=function(t){var e=t.type;if(e!==No&&e!==Do)return!0;t.preventDefault();var n,r=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==No?(n=i.deltaY,es.FIREFOX&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=es.DEVICE_PIXEL_RATIO),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==Do&&(n=-i.wheelDeltaY,es.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?Sc.Mode_.TRACKPAD:Sc.Mode_.WHEEL),this.mode_===Sc.Mode_.TRACKPAD){var a=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(qu,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=a.getMinResolution(),u=a.getMaxResolution(),c=0;if(s<l?(s=Math.max(s,l/this.trackpadZoomBuffer_),c=1):s>u&&(s=Math.min(s,u*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var f=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(f))}return a.setResolution(s),0===c&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,n>0?-1:1),easing:Fu.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),c>0?a.animate({resolution:l,easing:Fu.easeOut,anchor:this.lastAnchor_,duration:500}):c<0&&a.animate({resolution:u,easing:Fu.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var h=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),h),!1},Sc.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(qu,-1)},Sc.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=go.MOUSEWHEELZOOM_MAXDELTA,r=fa.clamp(this.delta_,-n,n);Bu.zoomByDelta(e,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},Sc.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},Sc.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};const Ec=Sc;var Cc=function(t){rc.call(this,{handleDownEvent:Cc.handleDownEvent_,handleDragEvent:Cc.handleDragEvent_,handleUpEvent:Cc.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};go.inherits(Cc,rc),Cc.handleDragEvent_=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==ac.disable){var l=a.getViewport().getBoundingClientRect(),u=rc.centroid(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_){var c=s.getRotation();a.render(),Bu.rotateWithoutConstraints(s,c+e,this.anchor_)}}},Cc.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(qu,-1),this.rotating_){var n=e.getRotation();Bu.rotate(e,n,this.anchor_,this.duration_)}return!1}return!0},Cc.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(qu,1),!0}return!1},Cc.prototype.shouldStopEvent=la.FALSE;const kc=Cc;var Pc=function(t){rc.call(this,{handleDownEvent:Pc.handleDownEvent_,handleDragEvent:Pc.handleDragEvent_,handleUpEvent:Pc.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};go.inherits(Pc,rc),Pc.handleDragEvent_=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView(),u=l.getResolution(),c=l.getMaxResolution(),f=l.getMinResolution(),h=u*e;h>c?(e=c/u,h=c):h<f&&(e=f/u,h=f),1!=e&&(this.lastScaleDelta_=e);var d=s.getViewport().getBoundingClientRect(),p=rc.centroid(this.targetPointers);p[0]-=d.left,p[1]-=d.top,this.anchor_=s.getCoordinateFromPixel(p),s.render(),Bu.zoomWithoutConstraints(l,h,this.anchor_)},Pc.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(qu,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var r=this.lastScaleDelta_-1;Bu.zoom(e,n,this.anchor_,this.duration_,r)}return!1}return!0},Pc.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(qu,1),!0}return!1},Pc.prototype.shouldStopEvent=la.FALSE;const Tc=Pc;var Rc={defaults:function(t){var e=t||{},n=new Iu,r=new Du(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new lc),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Wu({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new oc({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new kc),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Tc({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new bc),n.push(new xc({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Ec({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new pc({duration:e.zoomDuration})),n}};const Ac=Rc,Oc="pointermove",Ic="pointerdown",Mc="pointerup",Dc="pointerover",Lc="pointerout",jc="pointerenter",Fc="pointerleave",Nc="pointercancel";var Uc=function(t,e){this.dispatcher=t,this.mapping_=e};Uc.prototype.getEvents=function(){return Object.keys(this.mapping_)},Uc.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};const Bc=Uc;var zc=function(t){var e={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};Bc.call(this,t,e),this.pointerMap=t.pointerMap,this.lastTouches=[]};go.inherits(zc,Bc),zc.POINTER_ID=1,zc.POINTER_TYPE="mouse",zc.DEDUP_DIST=25,zc.prototype.isEventSimulatedFromTouch_=function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e[0]),l=Math.abs(i-e[1]);if(s<=zc.DEDUP_DIST&&l<=zc.DEDUP_DIST)return!0}return!1},zc.prepareEvent=function(t,e){var n=e.cloneEvent(t,t),r=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),r()},n.pointerId=zc.POINTER_ID,n.isPrimary=!0,n.pointerType=zc.POINTER_TYPE,n},zc.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){zc.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var e=zc.prepareEvent(t,this.dispatcher);this.pointerMap[zc.POINTER_ID.toString()]=t,this.dispatcher.down(e,t)}},zc.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=zc.prepareEvent(t,this.dispatcher);this.dispatcher.move(e,t)}},zc.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[zc.POINTER_ID.toString()];if(e&&e.button===t.button){var n=zc.prepareEvent(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}},zc.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=zc.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(e,t)}},zc.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=zc.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}},zc.prototype.cancel=function(t){var e=zc.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},zc.prototype.cleanupMouse=function(){delete this.pointerMap[zc.POINTER_ID.toString()]};const Wc=zc;var Gc=function(t){var e={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};Bc.call(this,t,e),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};go.inherits(Gc,Bc),Gc.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},Gc.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},Gc.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)},Gc.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)},Gc.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)},Gc.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)},Gc.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)},Gc.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)},Gc.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)},Gc.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};const qc=Gc;var Vc=function(t){var e={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};Bc.call(this,t,e)};go.inherits(Vc,Bc),Vc.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},Vc.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};const Hc=Vc;var Xc=function(t,e,n){Go.call(this,t),this.originalEvent=e;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};go.inherits(Xc,Go),Xc.prototype.getButtons_=function(t){var e;if(t.buttons||Xc.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},Xc.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},Xc.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});Xc.HAS_BUTTONS=1===t.buttons}catch(t){}}();const Yc=Xc;var Kc=function(t,e){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};Bc.call(this,t,n),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};go.inherits(Kc,Bc),Kc.DEDUP_TIMEOUT=2500,Kc.CLICK_COUNT_TIMEOUT=200,Kc.POINTER_TYPE="touch",Kc.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},Kc.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&Wc.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},Kc.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},Kc.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),Kc.CLICK_COUNT_TIMEOUT)},Kc.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},Kc.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},Kc.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=Kc.POINTER_TYPE,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},Kc.prototype.processTouches_=function(t,e){var n,r,i=Array.prototype.slice.call(t.changedTouches),o=i.length;function a(){t.preventDefault()}for(n=0;n<o;++n)(r=this.touchToPointer_(t,i[n])).preventDefault=a,e.call(this,t,r)},Kc.prototype.findTouch_=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].identifier===e)return!0;return!1},Kc.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),r=n.length;if(r>=e.length){var i,o,a,s=[];for(i=0;i<r;++i)o=n[i],a=this.pointerMap[o],o==Wc.POINTER_ID||this.findTouch_(e,o-2)||s.push(a.out);for(i=0;i<s.length;++i)this.cancelOut_(t,s[i])}},Kc.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},Kc.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},Kc.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},Kc.prototype.moveOverOut_=function(t,e){var n=e,r=this.pointerMap[n.pointerId];if(r){var i=r.out,o=r.outTarget;this.dispatcher.move(n,t),i&&o!==n.target&&(i.relatedTarget=n.target,n.relatedTarget=o,i.target=o,n.target?(this.dispatcher.leaveOut(i,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),r.out=n,r.outTarget=n.target}},Kc.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},Kc.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},Kc.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},Kc.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},Kc.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},Kc.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var r=[n.clientX,n.clientY];e.push(r),setTimeout((function(){Us.remove(e,r)}),Kc.DEDUP_TIMEOUT)}};const Zc=Kc;var Qc=function(t){Vo.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};go.inherits(Qc,Vo),Qc.prototype.registerSources=function(){if(es.POINTER)this.registerSource("native",new Hc(this));else if(es.MSPOINTER)this.registerSource("ms",new qc(this));else{var t=new Wc(this);this.registerSource("mouse",t),es.TOUCH&&this.registerSource("touch",new Zc(this,t))}this.register_()},Qc.prototype.registerSource=function(t,e){var n=e,r=n.getEvents();r&&(r.forEach((function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}),this),this.eventSourceList_.push(n))},Qc.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.addEvents_(t.getEvents())},Qc.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.removeEvents_(t.getEvents())},Qc.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},Qc.prototype.addEvents_=function(t){t.forEach((function(t){Eo.listen(this.element_,t,this.eventHandler_,this)}),this)},Qc.prototype.removeEvents_=function(t){t.forEach((function(t){Eo.unlisten(this.element_,t,this.eventHandler_,this)}),this)},Qc.prototype.cloneEvent=function(t,e){for(var n,r={},i=0,o=Qc.CLONE_PROPS.length;i<o;i++)r[n=Qc.CLONE_PROPS[i][0]]=t[n]||e[n]||Qc.CLONE_PROPS[i][1];return r},Qc.prototype.down=function(t,e){this.fireEvent(Ic,t,e)},Qc.prototype.move=function(t,e){this.fireEvent(Oc,t,e)},Qc.prototype.up=function(t,e){this.fireEvent(Mc,t,e)},Qc.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(jc,t,e)},Qc.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(Fc,t,e)},Qc.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(Dc,t,e)},Qc.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(Lc,t,e)},Qc.prototype.cancel=function(t,e){this.fireEvent(Nc,t,e)},Qc.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},Qc.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},Qc.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},Qc.prototype.makeEvent=function(t,e,n){return new Yc(t,n,e)},Qc.prototype.fireEvent=function(t,e,n){var r=this.makeEvent(t,e,n);this.dispatchEvent(r)},Qc.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},Qc.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Wc.prepareEvent(e,this),e)},Qc.prototype.disposeInternal=function(){this.unregister_(),Vo.prototype.disposeInternal.call(this)},Qc.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const Jc=Qc;var $c=function(t,e){Vo.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*es.DEVICE_PIXEL_RATIO:es.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new Jc(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Eo.listen(this.pointerEventHandler_,Ic,this.handlePointerDown_,this),this.relayedListenerKey_=Eo.listen(this.pointerEventHandler_,Oc,this.relayEvent_,this)};go.inherits($c,Vo),$c.prototype.emulateClick_=function(t){var e=new ec(Lu.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new ec(Lu.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new ec(Lu.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},$c.prototype.updateActivePointers_=function(t){var e=t;e.type==Lu.POINTERUP||e.type==Lu.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Lu.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},$c.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new ec(Lu.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Eo.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},$c.prototype.isMouseActionButton_=function(t){return 0===t.button},$c.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new ec(Lu.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Jc(document),this.dragListenerKeys_.push(Eo.listen(this.documentPointerEventHandler_,Lu.POINTERMOVE,this.handlePointerMove_,this),Eo.listen(this.documentPointerEventHandler_,Lu.POINTERUP,this.handlePointerUp_,this),Eo.listen(this.pointerEventHandler_,Lu.POINTERCANCEL,this.handlePointerUp_,this)))},$c.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new ec(Lu.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},$c.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new ec(t.type,this.map_,t,e))},$c.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},$c.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Eo.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Eo.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Eo.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),Vo.prototype.disposeInternal.call(this)};const tf=$c,ef="postrender",nf="movestart",rf="moveend",of="layergroup",af="size",sf="target",lf="view",uf=0,cf=2,ff=3,hf=4,df=5;var pf=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};pf.DROP=1/0,pf.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,xo.clear(this.queuedElements_)},pf.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},pf.prototype.enqueue=function(t){bo.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=pf.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},pf.prototype.getCount=function(){return this.elements_.length},pf.prototype.getLeftChildIndex_=function(t){return 2*t+1},pf.prototype.getRightChildIndex_=function(t){return 2*t+2},pf.prototype.getParentIndex_=function(t){return t-1>>1},pf.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},pf.prototype.isEmpty=function(){return 0===this.elements_.length},pf.prototype.isKeyQueued=function(t){return t in this.queuedElements_},pf.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},pf.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<r&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=i,n[t]=o,this.siftDown_(a,t)},pf.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},pf.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==pf.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()};const yf=pf;var vf=function(t,e){yf.call(this,(function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};go.inherits(vf,yf),vf.prototype.enqueue=function(t){var e=yf.prototype.enqueue.call(this,t);if(e){var n=t[0];Eo.listen(n,Co,this.handleTileChange,this)}return e},vf.prototype.getTilesLoading=function(){return this.tilesLoading_},vf.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===cf||n===ff||n===hf||n===df){Eo.unlisten(e,Co,this.handleTileChange,this);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},vf.prototype.loadMoreTiles=function(t,e){for(var n,r,i,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),(n=r.getState())===df?a=!0:n!==uf||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load());0===o&&a&&this.tileChangeCallback_()};const gf=vf;const mf={createExtent:function(t){return function(e){return e?[fa.clamp(e[0],t[0],t[2]),fa.clamp(e[1],t[1],t[3])]:void 0}},none:function(t){return t}};const _f={createSnapToResolutions:function(t){return function(e,n,r){if(void 0!==e){var i=Us.linearFindNearest(t,e,r);i=fa.clamp(i+n,0,t.length-1);var o=Math.floor(i);if(i!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,i-o)}return t[o]}}},createSnapToPower:function(t,e,n){return function(r,i,o){if(void 0!==r){var a=-o/2+.5,s=Math.floor(Math.log(e/r)/Math.log(t)+a),l=Math.max(s+i,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}},bf="center",wf="resolution",xf="rotation";var Sf=function(t){Ko.call(this);var e=xo.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Na.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};go.inherits(Sf,Ko),Sf.prototype.applyOptions_=function(t){var e={};e[bf]=void 0!==t.center?t.center:null;var n=Sf.createResolutionConstraint_(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=Sf.createCenterConstraint_(t),i=n.constraint,o=Sf.createRotationConstraint_(t);this.constraints_={center:r,resolution:i,rotation:o},void 0!==t.resolution?e[wf]=t.resolution:void 0!==t.zoom&&(e[wf]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[wf]=fa.clamp(Number(this.getResolution()||e[wf]),this.minResolution_,this.maxResolution_))),e[xf]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},Sf.prototype.getUpdatedOptions_=function(t){var e=xo.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),xo.assign({},e,t)},Sf.prototype.animate=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&e(!0))}for(var i=Date.now(),o=this.getCenter().slice(),a=this.getResolution(),s=this.getRotation(),l=[],u=0;u<n;++u){var c=arguments[u],f={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Fu.inAndOut};if(c.center&&(f.sourceCenter=o,f.targetCenter=c.center,o=f.targetCenter),void 0!==c.zoom?(f.sourceResolution=a,f.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),a=f.targetResolution):c.resolution&&(f.sourceResolution=a,f.targetResolution=c.resolution,a=f.targetResolution),void 0!==c.rotation){f.sourceRotation=s;var h=fa.modulo(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=s+h,s=f.targetRotation}f.callback=e,Sf.isNoopAnimation(f)?f.complete=!0:i+=f.duration,l.push(f)}this.animations_.push(l),this.setHint(Gu,1),this.updateAnimations_()},Sf.prototype.getAnimating=function(){return this.hints_[Gu]>0},Sf.prototype.getInteracting=function(){return this.hints_[qu]>0},Sf.prototype.cancelAnimations=function(){this.setHint(Gu,-this.hints_[Gu]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&n[0].callback(!1)}this.animations_.length=0},Sf.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var f=s.sourceCenter[0],h=s.sourceCenter[1],d=f+c*(s.targetCenter[0]-f),p=h+c*(s.targetCenter[1]-h);this.set(bf,[d,p])}if(s.sourceResolution&&s.targetResolution){var y=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(bf,this.calculateCenterZoom(y,s.anchor)),this.set(wf,y)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var v=1===c?fa.modulo(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(bf,this.calculateCenterRotate(v,s.anchor)),this.set(xf,v)}if(e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(Gu,-1);var g=r[0].callback;g&&g(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},Sf.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenter();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],Xu.rotate(n,t-this.getRotation()),Xu.add(n,e)),n},Sf.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenter(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},Sf.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+go.getUid(this)+'"]',n=document.querySelector(e);if(n){var r=getComputedStyle(n);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},Sf.prototype.constrainCenter=function(t){return this.constraints_.center(t)},Sf.prototype.constrainResolution=function(t,e,n){var r=e||0,i=n||0;return this.constraints_.resolution(t,r,i)},Sf.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},Sf.prototype.getCenter=function(){return this.get(bf)},Sf.prototype.getConstraints=function(){return this.constraints_},Sf.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},Sf.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();bo.assert(n,1);var r=this.getResolution();bo.assert(void 0!==r,2);var i=this.getRotation();return bo.assert(void 0!==i,3),sa.getForViewAndSize(n,r,i,e)},Sf.prototype.getMaxResolution=function(){return this.maxResolution_},Sf.prototype.getMinResolution=function(){return this.minResolution_},Sf.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},Sf.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},Sf.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},Sf.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},Sf.prototype.getProjection=function(){return this.projection_},Sf.prototype.getResolution=function(){return this.get(wf)},Sf.prototype.getResolutions=function(){return this.resolutions_},Sf.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),r=sa.getWidth(t)/n[0],i=sa.getHeight(t)/n[1];return Math.max(r,i)},Sf.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},Sf.prototype.getRotation=function(){return this.get(xf)},Sf.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},Sf.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},Sf.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},Sf.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Us.linearFindNearest(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},Sf.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},Sf.prototype.fit=function(t,e){var n,r=e||{},i=r.size;i||(i=this.getSizeFromViewport_()),t instanceof Vs?t.getType()===ba?(t=t.getExtent(),(n=Pl.fromExtent(t)).rotate(this.getRotation(),sa.getCenter(t))):n=t:(bo.assert(Array.isArray(t),24),bo.assert(!sa.isEmpty(t),25),n=Pl.fromExtent(t));var o,a=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0===r.constrainResolution||r.constrainResolution,l=void 0!==r.nearest&&r.nearest;o=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var u=n.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),h=Math.sin(-c),d=1/0,p=1/0,y=-1/0,v=-1/0,g=n.getStride(),m=0,_=u.length;m<_;m+=g){var b=u[m]*f-u[m+1]*h,w=u[m]*h+u[m+1]*f;d=Math.min(d,b),p=Math.min(p,w),y=Math.max(y,b),v=Math.max(v,w)}var x=this.getResolutionForExtent([d,p,y,v],[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);if(x=isNaN(x)?o:Math.max(x,o),s){var S=this.constrainResolution(x,0,0);!l&&S<x&&(S=this.constrainResolution(S,-1,0)),x=S}h=-h;var E=(d+y)/2,C=(p+v)/2,k=[(E+=(a[1]-a[3])/2*x)*f-(C+=(a[0]-a[2])/2*x)*h,C*f+E*h],P=r.callback?r.callback:go.nullFunction;void 0!==r.duration?this.animate({resolution:x,center:k,duration:r.duration,easing:r.easing},P):(this.setResolution(x),this.setCenter(k),setTimeout(P.bind(void 0,!0),0))},Sf.prototype.centerOn=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*i-(s+=(n[1]-e[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenter([u,c])},Sf.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},Sf.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},Sf.prototype.setCenter=function(t){this.set(bf,t),this.getAnimating()&&this.cancelAnimations()},Sf.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},Sf.prototype.setResolution=function(t){this.set(wf,t),this.getAnimating()&&this.cancelAnimations()},Sf.prototype.setRotation=function(t){this.set(xf,t),this.getAnimating()&&this.cancelAnimations()},Sf.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},Sf.createCenterConstraint_=function(t){return void 0!==t.extent?mf.createExtent(t.extent):mf.none},Sf.createResolutionConstraint_=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:go.DEFAULT_MIN_ZOOM,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],e=_f.createSnapToResolutions(s)}else{var l=Na.createProjection(t.projection,"EPSG:3857"),u=l.getExtent(),c=(u?Math.max(sa.getWidth(u),sa.getHeight(u)):360*Na.METERS_PER_UNIT[Ea.DEGREES]/l.getMetersPerUnit())/go.DEFAULT_TILE_SIZE/Math.pow(2,go.DEFAULT_MIN_ZOOM),f=c/Math.pow(2,28-go.DEFAULT_MIN_ZOOM);void 0!==(n=t.maxResolution)?i=0:n=c/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):c/Math.pow(a,o):f),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=_f.createSnapToPower(a,n,o-i)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}},Sf.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?ac.createSnapToZero():!1===e?ac.none:"number"==typeof e?ac.createSnapToN(e):ac.none}return ac.disable},Sf.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!Xu.equals(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation};const Ef=Sf;var Cf=function(t){var e=t||{},n=xo.assign({},e);delete n.layers;var r=e.layers;Vl.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},Eo.listen(this,Ko.getChangeEventType(Cf.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new Iu(r.slice(),{unique:!0}):(bo.assert(r instanceof Iu,43),r=r):r=new Iu(void 0,{unique:!0}),this.setLayers(r)};go.inherits(Cf,Vl),Cf.prototype.handleLayerChange_=function(){this.changed()},Cf.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(Eo.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(Eo.listen(e,Ru,this.handleLayersAdd_,this),Eo.listen(e,Au,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Eo.unlistenByKey);xo.clear(this.listenerKeys_);var r,i,o,a=e.getArray();for(r=0,i=a.length;r<i;r++)o=a[r],this.listenerKeys_[go.getUid(o).toString()]=[Eo.listen(o,Uo,this.handleLayerChange_,this),Eo.listen(o,Co,this.handleLayerChange_,this)];this.changed()},Cf.prototype.handleLayersAdd_=function(t){var e=t.element,n=go.getUid(e).toString();this.listenerKeys_[n]=[Eo.listen(e,Uo,this.handleLayerChange_,this),Eo.listen(e,Co,this.handleLayerChange_,this)],this.changed()},Cf.prototype.handleLayersRemove_=function(t){var e=t.element,n=go.getUid(e).toString();this.listenerKeys_[n].forEach(Eo.unlistenByKey),delete this.listenerKeys_[n],this.changed()},Cf.prototype.getLayers=function(){return this.get(Cf.Property_.LAYERS)},Cf.prototype.setLayers=function(t){this.set(Cf.Property_.LAYERS,t)},Cf.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},Cf.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r,i,o,a=this.getLayerState();for(r=n,i=e.length;r<i;r++)(o=e[r]).opacity*=a.opacity,o.visible=o.visible&&a.visible,o.maxResolution=Math.min(o.maxResolution,a.maxResolution),o.minResolution=Math.max(o.minResolution,a.minResolution),void 0!==a.extent&&(void 0!==o.extent?o.extent=sa.getIntersection(o.extent,a.extent):o.extent=a.extent);return e},Cf.prototype.getSourceState=function(){return Zl},Cf.Property_={LAYERS:"layers"};const kf=Cf,Pf="MAP_RENDERER",Tf="LAYER_RENDERER";var Rf={mapRendererPlugins_:[],getMapRendererPlugins:function(){return Rf.mapRendererPlugins_},layerRendererPlugins_:[],getLayerRendererPlugins:function(){return Rf.layerRendererPlugins_},register:function(t,e){switch(t){case Pf:Rf.mapRendererPlugins_.push(e);break;case Tf:Rf.layerRendererPlugins_.push(e);break;default:throw new Error("Unsupported plugin type: "+t)}},registerMultiple:function(t,e){for(var n=0,r=e.length;n<r;++n)Rf.register(t,e[n])}};const Af=Rf,Of="canvas",If="webgl";var Mf=function(t){Ko.call(this);var e=Mf.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:es.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Ba.create(),this.pixelToCoordinateTransform_=Ba.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(es.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[Po,To,Mo,Fo,Lo,Lu.POINTERDOWN,Do,No],r=0,i=n.length;r<i;++r)Eo.listen(this.overlayContainerStopEvent_,n[r],Go.stopPropagation);for(var o in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new tf(this,t.moveTolerance),Lu)Eo.listen(this.mapBrowserEventHandler_,Lu[o],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,Eo.listen(this.viewport_,No,this.handleBrowserEvent,this),Eo.listen(this.viewport_,Do,this.handleBrowserEvent,this),this.controls=e.controls||new Iu,this.interactions=e.interactions||new Iu,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new gf(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Eo.listen(this,Ko.getChangeEventType(of),this.handleLayerGroupChanged_,this),Eo.listen(this,Ko.getChangeEventType(lf),this.handleViewChanged_,this),Eo.listen(this,Ko.getChangeEventType(af),this.handleSizeChanged_,this),Eo.listen(this,Ko.getChangeEventType(sf),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach((function(t){t.setMap(this)}),this),Eo.listen(this.controls,Ru,(function(t){t.element.setMap(this)}),this),Eo.listen(this.controls,Au,(function(t){t.element.setMap(null)}),this),this.interactions.forEach((function(t){t.setMap(this)}),this),Eo.listen(this.interactions,Ru,(function(t){t.element.setMap(this)}),this),Eo.listen(this.interactions,Au,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_,this),Eo.listen(this.overlays_,Ru,(function(t){this.addOverlayInternal_(t.element)}),this),Eo.listen(this.overlays_,Au,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)};go.inherits(Mf,Ko),Mf.prototype.addControl=function(t){this.getControls().push(t)},Mf.prototype.addInteraction=function(t){this.getInteractions().push(t)},Mf.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},Mf.prototype.addOverlay=function(t){this.getOverlays().push(t)},Mf.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},Mf.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Eo.unlisten(this.viewport_,No,this.handleBrowserEvent,this),Eo.unlisten(this.viewport_,Do,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(jo,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),Ko.prototype.disposeInternal.call(this)},Mf.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixel(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:la.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,e,null,o,null)}},Mf.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,(function(t){n||(n=[]),n.push(t)}),e),n},Mf.prototype.forEachLayerAtPixel=function(t,e,n,r,i){if(this.frameState_){var o=void 0!==n?n:null,a=void 0!==r?r:la.TRUE,s=void 0!==i?i:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,o,a,s)}},Mf.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:la.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,r,null)},Mf.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},Mf.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=t.changedTouches?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},Mf.prototype.getTarget=function(){return this.get(sf)},Mf.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},Mf.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Ba.apply(e.pixelToCoordinateTransform,t.slice()):null},Mf.prototype.getControls=function(){return this.controls},Mf.prototype.getOverlays=function(){return this.overlays_},Mf.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},Mf.prototype.getInteractions=function(){return this.interactions},Mf.prototype.getLayerGroup=function(){return this.get(of)},Mf.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},Mf.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Ba.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},Mf.prototype.getRenderer=function(){return this.renderer_},Mf.prototype.getSize=function(){return this.get(af)},Mf.prototype.getView=function(){return this.get(lf)},Mf.prototype.getViewport=function(){return this.viewport_},Mf.prototype.getOverlayContainer=function(){return this.overlayContainer_},Mf.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},Mf.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!i||!(e in i.wantedTiles))return yf.DROP;if(!i.wantedTiles[e][t.getKey()])return yf.DROP;var o=n[0]-i.focus[0],a=n[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r},Mf.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new $u(n,this,t);this.handleMapBrowserEvent(r)},Mf.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=n.length-1;e>=0;e--){var r=n[e];if(r.getActive()&&!r.handleEvent(t))break}}},Mf.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=16,r=n;if(t){var i=t.viewHints;i[Gu]&&(n=this.loadTilesWhileAnimating_?8:0,r=2),i[qu]&&(n=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}var o,a,s=this.postRenderFunctions_;for(o=0,a=s.length;o<a;++o)s[o](this,t);s.length=0},Mf.prototype.handleSizeChanged_=function(){this.render()},Mf.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Eo.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Eo.listen(r,Ao,this.handleBrowserEvent,this),Eo.listen(r,Oo,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(jo,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Za.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(jo,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},Mf.prototype.handleTileChange_=function(){this.render()},Mf.prototype.handleViewPropertyChanged_=function(){this.render()},Mf.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Eo.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Eo.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",go.getUid(t)),this.viewPropertyListenerKey_=Eo.listen(t,Uo,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Eo.listen(t,Co,this.handleViewPropertyChanged_,this)),this.render()},Mf.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Eo.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Eo.listen(t,Uo,this.render,this),Eo.listen(t,Co,this.render,this)]),this.render()},Mf.prototype.isRendered=function(){return!!this.frameState_},Mf.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},Mf.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},Mf.prototype.removeControl=function(t){return this.getControls().remove(t)},Mf.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},Mf.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},Mf.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},Mf.prototype.renderFrame_=function(t){var e,n,r,i=this.getSize(),o=this.getView(),a=sa.createEmpty(),s=this.frameState_,l=null;if(void 0!==i&&pu.hasArea(i)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),f={};for(e=0,n=c.length;e<n;++e)f[go.getUid(c[e].layer)]=c[e];var h=(r=o.getState()).center,d=r.resolution/this.pixelRatio_;h[0]=Math.round(h[0]/d)*d,h[1]=Math.round(h[1]/d)*d,l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:this.focus_?this.focus_:h,index:this.frameIndex_++,layerStates:f,layerStatesArray:c,logos:xo.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:u,wantedTiles:{}}}l&&(l.extent=sa.getForViewAndSize(r.center,r.resolution,r.rotation,l.size,a)),this.frameState_=l,this.renderer_.renderFrame(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s&&(!this.previousExtent_||!sa.isEmpty(this.previousExtent_)&&!sa.equals(l.extent,this.previousExtent_))&&(this.dispatchEvent(new Qu(nf,this,s)),this.previousExtent_=sa.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!l.viewHints[Gu]&&!l.viewHints[qu]&&!sa.equals(l.extent,this.previousExtent_)&&(this.dispatchEvent(new Qu(rf,this,l)),sa.clone(l.extent,this.previousExtent_))),this.dispatchEvent(new Qu(ef,this,l)),setTimeout(this.handlePostRender.bind(this),0)},Mf.prototype.setLayerGroup=function(t){this.set(of,t)},Mf.prototype.setSize=function(t){this.set(af,t)},Mf.prototype.setTarget=function(t){this.set(sf,t)},Mf.prototype.setView=function(t){this.set(lf,t)},Mf.prototype.skipFeature=function(t){var e=go.getUid(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},Mf.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},Mf.prototype.unskipFeature=function(t){var e=go.getUid(t).toString();delete this.skippedFeatureUids_[e],this.render()},Mf.DEFAULT_RENDERER_TYPES=[Of,If],Mf.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",Mf.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},r={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)r[Mf.LOGO_URL]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?r[i]="":i instanceof HTMLElement?r[go.getUid(i).toString()]=i:i&&(bo.assert("string"==typeof i.href,44),bo.assert("string"==typeof i.src,45),r[i.src]=i.href)}var o,a,s=t.layers instanceof kf?t.layers:new kf({layers:t.layers});n[of]=s,n[sf]=t.target,n[lf]=void 0!==t.view?t.view:new Ef,void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:bo.assert(!1,46),o.indexOf("dom")>=0&&(o=o.concat(Mf.DEFAULT_RENDERER_TYPES))):o=Mf.DEFAULT_RENDERER_TYPES;var l,u,c,f=Af.getMapRendererPlugins();t:for(var h=0,d=o.length;h<d;++h)for(var p=o[h],y=0,v=f.length;y<v;++y){var g=f[y];if(g.handles(p)){a=g;break t}}if(!a)throw new Error("Unable to create a map renderer for types: "+o.join(", "));return void 0!==t.controls&&(Array.isArray(t.controls)?l=new Iu(t.controls.slice()):(bo.assert(t.controls instanceof Iu,47),l=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?u=new Iu(t.interactions.slice()):(bo.assert(t.interactions instanceof Iu,48),u=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?c=new Iu(t.overlays.slice()):(bo.assert(t.overlays instanceof Iu,49),c=t.overlays):c=new Iu,{controls:l,interactions:u,keyboardEventTarget:e,logos:r,overlays:c,mapRendererPlugin:a,values:n}};const Df=Mf;var Lf=function(t){Ko.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:go.nullFunction,t.target&&this.setTarget(t.target)};go.inherits(Lf,Ko),Lf.prototype.disposeInternal=function(){Za.removeNode(this.element),Ko.prototype.disposeInternal.call(this)},Lf.prototype.getMap=function(){return this.map_},Lf.prototype.setMap=function(t){this.map_&&Za.removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Eo.unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==go.nullFunction&&this.listenerKeys.push(Eo.listen(t,ef,this.render,this)),t.render())},Lf.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t};const jf=Lf;var Ff=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.collapseLabel?e.collapseLabel:"»";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var o=void 0!==e.label?e.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=r,s.appendChild(a),Eo.listen(s,Po,this.handleClick_,this);var l=n+" "+ss.CLASS_UNSELECTABLE+" "+ss.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),u=document.createElement("div");u.className=l,u.appendChild(this.ulElement_),u.appendChild(s);var c=e.render?e.render:Ff.render;jf.call(this,{element:u,render:c,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};go.inherits(Ff,jf),Ff.prototype.getSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=t.viewState.resolution,o=0,a=r.length;o<a;++o){var s=r[o];if(Jl.visibleAtResolution(s,i)){var l=s.layer.getSource();if(l){var u=l.getAttributions2();if(u){var c=u(t);if(c)if(Array.isArray(c))for(var f=0,h=c.length;f<h;++f)c[f]in e||(n.push(c[f]),e[c[f]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},Ff.render=function(t){this.updateElement_(t.frameState)},Ff.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t);if(!Us.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var n=0,r=e.length;n<r;++n){var i=document.createElement("LI");i.innerHTML=e[n],this.ulElement_.appendChild(i)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var o=e.length>0||!xo.isEmpty(t.logos);this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),this.renderedAttributions_=e,this.insertLogos_(t)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},Ff.prototype.insertLogos_=function(t){var e,n,r,i,o=t.logos,a=this.logoElements_;for(e in a)e in o||(Za.removeNode(a[e]),delete a[e]);for(i in o){var s=o[i];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),a[i]=s),i in a||((n=new Image).src=i,""===s?r=n:((r=document.createElement("a")).href=s,r.appendChild(n)),this.logoLi_.appendChild(r),a[i]=r)}this.logoLi_.style.display=xo.isEmpty(o)?"none":""},Ff.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},Ff.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Za.replaceNode(this.collapseLabel_,this.label_):Za.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},Ff.prototype.getCollapsible=function(){return this.collapsible_},Ff.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},Ff.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},Ff.prototype.getCollapsed=function(){return this.collapsed_};const Nf=Ff;var Uf=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),Eo.listen(o,Po,Uf.prototype.handleClick_,this);var a=n+" "+ss.CLASS_UNSELECTABLE+" "+ss.CLASS_CONTROL,s=document.createElement("div");s.className=a,s.appendChild(o);var l=e.render?e.render:Uf.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,jf.call(this,{element:s,render:l,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ss.CLASS_HIDDEN)};go.inherits(Uf,jf),Uf.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Uf.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:Fu.easeOut}):t.setRotation(0))},Uf.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ss.CLASS_HIDDEN);i||0!==n?i&&0!==n&&this.element.classList.remove(ss.CLASS_HIDDEN):this.element.classList.add(ss.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=n}};const Bf=Uf;var zf=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInLabel?e.zoomInLabel:"+",o=void 0!==e.zoomOutLabel?e.zoomOutLabel:"−",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",s=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof i?document.createTextNode(i):i),Eo.listen(l,Po,zf.prototype.handleClick_.bind(this,r));var u=document.createElement("button");u.className=n+"-out",u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof o?document.createTextNode(o):o),Eo.listen(u,Po,zf.prototype.handleClick_.bind(this,-r));var c=n+" "+ss.CLASS_UNSELECTABLE+" "+ss.CLASS_CONTROL,f=document.createElement("div");f.className=c,f.appendChild(l),f.appendChild(u),jf.call(this,{element:f,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};go.inherits(zf,jf),zf.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},zf.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var r=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:r,duration:this.duration_,easing:Fu.easeOut})):e.setResolution(r)}}};const Wf=zf;var Gf={defaults:function(t){var e=t||{},n=new Iu;return(void 0===e.zoom||e.zoom)&&n.push(new Wf(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Bf(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Nf(e.attributionOptions)),n}};const qf=Gf;var Vf=function(t,e,n,r,i){this.loader_=void 0!==i?i:null;var o=void 0!==i?ns:is;nu.call(this,t,e,n,o),this.canvas_=r,this.error_=null};go.inherits(Vf,nu),Vf.prototype.getError=function(){return this.error_},Vf.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=os):this.state=is,this.changed()},Vf.prototype.load=function(){this.state==ns&&(this.state=rs,this.changed(),this.loader_(this.handleLoad_.bind(this)))},Vf.prototype.getImage=function(){return this.canvas_};const Hf=Vf,Xf="image",Yf="vector";var Kf=function(t,e,n,r,i){Go.call(this,t),this.vectorContext=e,this.frameState=n,this.context=r,this.glContext=i};go.inherits(Kf,Go);const Zf=Kf;var Qf=function(){};Qf.prototype.drawCustom=function(t,e,n){},Qf.prototype.drawGeometry=function(t){},Qf.prototype.setStyle=function(t){},Qf.prototype.drawCircle=function(t,e){},Qf.prototype.drawFeature=function(t,e){},Qf.prototype.drawGeometryCollection=function(t,e){},Qf.prototype.drawLineString=function(t,e){},Qf.prototype.drawMultiLineString=function(t,e){},Qf.prototype.drawMultiPoint=function(t,e){},Qf.prototype.drawMultiPolygon=function(t,e){},Qf.prototype.drawPoint=function(t,e){},Qf.prototype.drawPolygon=function(t,e){},Qf.prototype.drawText=function(t,e){},Qf.prototype.setFillStrokeStyle=function(t,e){},Qf.prototype.setImageStyle=function(t,e){},Qf.prototype.setTextStyle=function(t,e){};const Jf=Qf;var $f=function(t,e,n,r,i){Jf.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.viewRotation_=i,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ba.create()};go.inherits($f,Jf),$f.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=ua.transform2D(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l,u,c=this.imageRotation_;for(this.imageRotateWithView_&&(c+=this.viewRotation_),l=0,u=i.length;l<u;l+=2){var f=i[l]-this.imageAnchorX_,h=i[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(f=Math.round(f),h=Math.round(h)),0!==c||1!=this.imageScale_){var d=f+this.imageAnchorX_,p=h+this.imageAnchorY_;Ba.compose(a,d,p,this.imageScale_,this.imageScale_,c,-d,-p),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,h,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},$f.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=ua.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Ba.compose(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},$f.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=ua.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},$f.prototype.drawRings_=function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},$f.prototype.drawCircle=function(t){if(sa.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Vs.transform2D(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},$f.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},$f.prototype.drawGeometry=function(t){switch(t.getType()){case ha:this.drawPoint(t);break;case da:this.drawLineString(t);break;case ya:this.drawPolygon(t);break;case va:this.drawMultiPoint(t);break;case ga:this.drawMultiLineString(t);break;case ma:this.drawMultiPolygon(t);break;case _a:this.drawGeometryCollection(t);break;case ba:this.drawCircle(t)}},$f.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&sa.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},$f.prototype.drawGeometryCollection=function(t){var e,n,r=t.getGeometriesArray();for(e=0,n=r.length;e<n;++e)this.drawGeometry(r[e])},$f.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},$f.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},$f.prototype.drawLineString=function(t){if(sa.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},$f.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(sa.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n,r,i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();for(i.beginPath(),n=0,r=s.length;n<r;++n)a=this.moveToLineTo_(o,a,s[n],l,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},$f.prototype.drawPolygon=function(t){if(sa.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},$f.prototype.drawMultiPolygon=function(t){if(sa.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,n,r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();for(r.beginPath(),e=0,n=a.length;e<n;++e){var l=a[e];o=this.drawRings_(i,o,l,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},$f.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},$f.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),es.CANVAS_LINE_DASH&&(Us.equals(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,es.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},$f.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:ds.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=r&&(n.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},$f.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Ya.asColorLike(n||ds.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:ds.defaultLineCap,lineDash:o||ds.defaultLineDash,lineDashOffset:a||ds.defaultLineDashOffset,lineJoin:void 0!==s?s:ds.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:ds.defaultLineWidth),miterLimit:void 0!==u?u:ds.defaultMiterLimit,strokeStyle:Ya.asColorLike(r||ds.defaultStrokeStyle)}}else this.strokeState_=null},$f.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=i[0]}else this.image_=null},$f.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Ya.asColorLike(n||ds.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),u=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:ds.defaultLineCap,lineDash:a||ds.defaultLineDash,lineDashOffset:s||ds.defaultLineDashOffset,lineJoin:void 0!==l?l:ds.defaultLineJoin,lineWidth:void 0!==u?u:ds.defaultLineWidth,miterLimit:void 0!==c?c:ds.defaultMiterLimit,strokeStyle:Ya.asColorLike(i||ds.defaultStrokeStyle)}}else this.textStrokeState_=null;var f=t.getFont(),h=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),y=t.getRotation(),v=t.getScale(),g=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==f?f:ds.defaultFont,textAlign:void 0!==m?m:ds.defaultTextAlign,textBaseline:void 0!==_?_:ds.defaultTextBaseline},this.text_=void 0!==g?g:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""};const th=$f;var eh=function(t){Xo.call(this),this.layer_=t};go.inherits(eh,Xo),eh.prototype.forEachFeatureAtCoordinate=go.nullFunction,eh.prototype.hasFeatureAtCoordinate=la.FALSE,eh.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){return t.forEachLoadedTile(e,r,i,(function(t){n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t}))}},eh.prototype.getLayer=function(){return this.layer_},eh.prototype.handleImageChange_=function(t){t.target.getState()===is&&this.renderIfReadyAndVisible()},eh.prototype.loadImage=function(t){var e=t.getState();return e!=is&&e!=os&&Eo.listen(t,Co,this.handleImageChange_,this),e==ns&&(t.load(),e=t.getState()),e==is},eh.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Zl&&this.changed()},eh.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=go.getUid(t).toString();r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},eh.prototype.updateLogos=function(t,e){var n=e.getLogo();void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(bo.assert("string"==typeof n.href,44),bo.assert("string"==typeof n.src,45),t.logos[n.src]=n.href))},eh.prototype.updateUsedTiles=function(t,e,n,r){var i=go.getUid(e).toString(),o=n.toString();i in t?o in t[i]?t[i][o].extend(r):t[i][o]=r:(t[i]={},t[i][o]=r)},eh.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,l,u){var c=go.getUid(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var f,h,d,p,y,v,g=t.wantedTiles[c],m=t.tileQueue;for(v=n.getMinZoom();v<=a;++v)for(h=n.getTileRangeForExtentAndZ(o,v,h),d=n.getResolution(v),p=h.minX;p<=h.maxX;++p)for(y=h.minY;y<=h.maxY;++y)a-v<=s?((f=e.getTile(v,p,y,r,i)).getState()==uf&&(g[f.getKey()]=!0,m.isKeyQueued(f.getKey())||m.enqueue([f,c,n.getTileCoordCenter(f.tileCoord),d])),void 0!==l&&l.call(u,f)):e.useTile(v,p,y,i)};const nh=eh;var rh=function(t){nh.call(this,t),this.renderedResolution,this.transform_=Ba.create()};go.inherits(rh,nh),rh.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r,o=e.size[1]*r,a=e.viewState.rotation,s=sa.getTopLeft(n),l=sa.getTopRight(n),u=sa.getBottomRight(n),c=sa.getBottomLeft(n);Ba.apply(e.coordinateToPixelTransform,s),Ba.apply(e.coordinateToPixelTransform,l),Ba.apply(e.coordinateToPixelTransform,u),Ba.apply(e.coordinateToPixelTransform,c),t.save(),ds.rotateAtOffset(t,-a,i/2,o/2),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),ds.rotateAtOffset(t,a,i/2,o/2)},rh.prototype.dispatchComposeEvent_=function(t,e,n,r){var i=this.getLayer();if(i.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,s=n.viewState.rotation;ds.rotateAtOffset(e,-s,o/2,a/2);var l=void 0!==r?r:this.getTransform(n,0),u=new th(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new Zf(t,u,n,e,null);i.dispatchEvent(c),ds.rotateAtOffset(e,s,o/2,a/2)}},rh.prototype.forEachLayerAtCoordinate=function(t,e,n,r){return this.forEachFeatureAtCoordinate(t,e,0,la.TRUE,this)?n.call(r,this.getLayer(),null):void 0},rh.prototype.postCompose=function(t,e,n,r){this.dispatchComposeEvent_(Hl,t,e,r)},rh.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(Xl,t,e,n)},rh.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(Yl,t,e,n)},rh.prototype.getTransform=function(t,e){var n=t.viewState,r=t.pixelRatio,i=r*t.size[0]/2,o=r*t.size[1]/2,a=r/n.resolution,s=-a,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return Ba.compose(this.transform_,i,o,a,s,l,u,c)},rh.prototype.composeFrame=function(t,e,n){},rh.prototype.prepareFrame=function(t,e){};const ih=rh;var oh=function(t){ih.call(this,t),this.coordinateToCanvasPixelTransform=Ba.create(),this.hitCanvasContext_=null};go.inherits(oh,ih),oh.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var r=this.getImage();if(r){var i=e.extent,o=void 0!==i&&!sa.containsExtent(i,t.extent)&&sa.intersects(i,t.extent);o&&this.clip(n,t,i);var a=this.getImageTransform(),s=n.globalAlpha;n.globalAlpha=e.opacity;var l=a[4],u=a[5],c=r.width*a[0],f=r.height*a[3];n.drawImage(r,0,0,+r.width,+r.height,Math.round(l),Math.round(u),Math.round(c),Math.round(f)),n.globalAlpha=s,o&&n.restore()}this.postCompose(n,t,e)},oh.prototype.getImage=function(){},oh.prototype.getImageTransform=function(){},oh.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},oh.prototype.forEachLayerAtCoordinate=function(t,e,n,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==go.nullFunction)return ih.prototype.forEachLayerAtCoordinate.apply(this,arguments);var i=Ba.apply(this.coordinateToCanvasPixelTransform,t.slice());Xu.scale(i,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Za.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?n.call(r,this.getLayer(),o):void 0}};const ah=oh;var sh=function(t){ah.call(this,t),this.image_=null,this.imageTransform_=Ba.create(),this.skippedFeatures_=[],this.vectorRenderer_=null};go.inherits(sh,ah),sh.handles=function(t,e){return t===Of&&(e.getType()===Ml||e.getType()===jl&&e.getRenderMode()===Xf)},sh.create=function(t,e){var n=new sh(e);if(e.getType()===jl)for(var r=Af.getLayerRendererPlugins(),i=0,o=r.length;i<o;++i){var a=r[i];a!==sh&&a.handles(Of,e)&&n.setVectorRenderer(a.create(t,e))}return n},sh.prototype.getImage=function(){return this.image_?this.image_.getImage():null},sh.prototype.getImageTransform=function(){return this.imageTransform_},sh.prototype.prepareFrame=function(t,e){var n,r=t.pixelRatio,i=t.size,o=t.viewState,a=o.center,s=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=t.extent;if(void 0!==e.extent&&(c=sa.getIntersection(c,e.extent)),!u[Gu]&&!u[qu]&&!sa.isEmpty(c)){var f=o.projection;if(!go.ENABLE_RASTER_REPROJECTION){var h=l.getProjection();h&&(f=h)}var d=this.vectorRenderer_;if(d){var p=d.context,y=xo.assign({},t,{size:[sa.getWidth(c)/s,sa.getHeight(c)/s],viewState:xo.assign({},t.viewState,{rotation:0})}),v=Object.keys(y.skippedFeatureUids).sort();!d.prepareFrame(y,e)||!d.replayGroupChanged&&Us.equals(v,this.skippedFeatures_)||(p.canvas.width=y.size[0]*r,p.canvas.height=y.size[1]*r,d.composeFrame(y,e,p),this.image_=new Hf(c,s,r,p.canvas),this.skippedFeatures_=v)}else(n=l.getImage(c,s,r,f))&&this.loadImage(n)&&(this.image_=n)}if(this.image_){var g=(n=this.image_).getExtent(),m=n.getResolution(),_=n.getPixelRatio(),b=r*m/(s*_),w=Ba.compose(this.imageTransform_,r*i[0]/2,r*i[1]/2,b,b,0,_*(g[0]-a[0])/m,_*(a[1]-g[3])/m);Ba.compose(this.coordinateToCanvasPixelTransform,r*i[0]/2-w[4],r*i[1]/2-w[5],r/s,-r/s,0,-a[0],-a[1]),this.updateLogos(t,l),this.renderedResolution=m*r/_}return!!this.image_},sh.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,r,i):ah.prototype.forEachFeatureAtCoordinate.call(this,t,e,n,r,i)},sh.prototype.setVectorRenderer=function(t){this.vectorRenderer_=t};const lh=sh;var uh=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};uh.getKey=function(t,e,n){return e+":"+t+":"+(n?Ha.asString(n):"null")},uh.prototype.clear=function(){this.cache_={},this.cacheSize_=0},uh.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},uh.prototype.get=function(t,e,n){var r=uh.getKey(t,e,n);return r in this.cache_?this.cache_[r]:null},uh.prototype.set=function(t,e,n,r){var i=uh.getKey(t,e,n);this.cache_[i]=r,++this.cacheSize_},uh.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};const ch=uh;var fh={};fh.iconImageCache=new ch;const hh=fh;var dh=function(t,e){zo.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};go.inherits(dh,zo),dh.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Ba.compose(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ba.invert(Ba.setFromArray(r,n))},dh.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},dh.expireIconCache_=function(t,e){hh.iconImageCache.expire()},dh.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=e.viewState,u=l.resolution;function c(t,n){var o=go.getUid(t).toString(),a=e.layerStates[go.getUid(n)].managed;if(!(o in e.skippedFeatureUids)||a)return r.call(i,t,a?n:null)}var f=l.projection,h=t;if(f.canWrapX()){var d=f.getExtent(),p=sa.getWidth(d),y=t[0];(y<d[0]||y>d[2])&&(h=[y+p*Math.ceil((d[0]-y)/p),t[1]])}var v,g=e.layerStatesArray;for(v=g.length-1;v>=0;--v){var m=g[v],_=m.layer;if(Jl.visibleAtResolution(m,u)&&o.call(a,_)){var b=this.getLayerRenderer(_);if(_.getSource()&&(s=b.forEachFeatureAtCoordinate(_.getSource().getWrapX()?h:t,e,n,c,i)),s)return s}}},dh.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){},dh.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,la.TRUE,this,r,i)},dh.prototype.getLayerRenderer=function(t){var e=go.getUid(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=Af.getLayerRendererPlugins(),i=this.getType(),o=0,a=r.length;o<a;++o){var s=r[o];if(s.handles(i,t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Eo.listen(n,Co,this.handleLayerRendererChange_,this),n},dh.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},dh.prototype.getLayerRenderers=function(){return this.layerRenderers_},dh.prototype.getMap=function(){return this.map_},dh.prototype.getType=function(){},dh.prototype.handleLayerRendererChange_=function(){this.map_.render()},dh.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Eo.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},dh.prototype.renderFrame=go.nullFunction,dh.prototype.removeUnusedLayerRenderers_=function(t,e){var n;for(n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},dh.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(dh.expireIconCache_)},dh.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},dh.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};const ph=dh;var yh=function(t,e){ph.call(this,t,e),this.context_=Za.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ss.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Ba.create()};go.inherits(yh,ph),yh.handles=function(t){return t===Of},yh.create=function(t,e){return new yh(t,e)},yh.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap(),r=this.context_;if(n.hasListener(t)){var i=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new th(r,o,i,s,a),u=new Zf(t,l,e,r,null);n.dispatchEvent(u)}},yh.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,r=this.canvas_.height/2,i=t.pixelRatio/e.resolution,o=-i,a=-e.rotation,s=-e.center[0],l=-e.center[1];return Ba.compose(this.transform_,n,r,i,o,a,s,l)},yh.prototype.getType=function(){return Of},yh.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,r=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.canvas_.width!=r||this.canvas_.height!=i?(this.canvas_.width=r,this.canvas_.height=i):e.clearRect(0,0,r,i);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(Xl,t);var a=t.layerStatesArray;Us.stableSort(a,ph.sortByZIndex),o&&(e.save(),ds.rotateAtOffset(e,o,r/2,i/2));var s,l,u,c,f,h=t.viewState.resolution;for(s=0,l=a.length;s<l;++s)u=(f=a[s]).layer,c=this.getLayerRenderer(u),Jl.visibleAtResolution(f,h)&&f.sourceState==Zl&&c.prepareFrame(t,f)&&c.composeFrame(t,f,e);o&&e.restore(),this.dispatchComposeEvent_(Hl,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},yh.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){var a,s,l=e.viewState.resolution,u=e.layerStatesArray,c=u.length,f=Ba.apply(e.pixelToCoordinateTransform,t.slice());for(s=c-1;s>=0;--s){var h=u[s],d=h.layer;if(Jl.visibleAtResolution(h,l)&&i.call(o,d)&&(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(f,e,n,r)))return a}};const vh=yh;var gh=function(t){ah.call(this,t),this.context=null===this.context?null:Za.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=sa.createEmpty(),this.tmpTileRange_=new hu(0,0,0,0),this.imageTransform_=Ba.create(),this.zDirection=0};go.inherits(gh,ah),gh.handles=function(t,e){return t===Of&&e.getType()===Dl},gh.create=function(t,e){return new gh(e)},gh.prototype.isDrawableTile_=function(t){var e=t.getState(),n=this.getLayer().getUseInterimTilesOnError();return e==cf||e==hf||e==ff&&!n},gh.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,i=t.viewState,o=i.projection,a=i.resolution,s=i.center,l=this.getLayer(),u=l.getSource(),c=u.getRevision(),f=u.getTileGridForProjection(o),h=f.getZForResolution(a,this.zDirection),d=f.getResolution(h),p=Math.round(a/d)||1,y=t.extent;if(void 0!==e.extent&&(y=sa.getIntersection(y,e.extent)),sa.isEmpty(y))return!1;var v=f.getTileRangeForExtentAndZ(y,h),g=f.getTileRangeExtent(h,v),m=u.getTilePixelRatio(n),_={};_[h]={};var b,w,x,S=this.createLoadedTileFinder(u,o,_),E=this.tmpExtent,C=this.tmpTileRange_,k=!1;for(w=v.minX;w<=v.maxX;++w)for(x=v.minY;x<=v.maxY;++x){if((b=u.getTile(h,w,x,n,o)).getState()==ff&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(k=!0):b.setState(cf)),this.isDrawableTile_(b)||(b=b.getInterimTile()),this.isDrawableTile_(b)){var P=go.getUid(this);if(b.getState()==cf){_[h][b.tileCoord.toString()]=b;var T=b.inTransition(P);k||!T&&-1!==this.renderedTiles.indexOf(b)||(k=!0)}if(1===b.getAlpha(P,t.time))continue}var R=f.getTileCoordChildTileRange(b.tileCoord,C,E),A=!1;R&&(A=S(h+1,R)),A||f.forEachTileCoordParentTileRange(b.tileCoord,S,null,C,E)}var O=d*n/m*p,I=t.viewHints,M=I[Gu]||I[qu];if(!(this.renderedResolution&&Date.now()-t.time>16&&M)&&(k||!this.renderedExtent_||!sa.containsExtent(this.renderedExtent_,y)||this.renderedRevision!=c||p!=this.oversampling_||!M&&O!=this.renderedResolution)){var D=this.context;if(D){var L=u.getTilePixelSize(h,n,o),j=Math.round(v.getWidth()*L[0]/p),F=Math.round(v.getHeight()*L[1]/p),N=D.canvas;N.width!=j||N.height!=F?(this.oversampling_=p,N.width=j,N.height=F):(this.renderedExtent_&&!sa.equals(g,this.renderedExtent_)&&D.clearRect(0,0,j,F),p=this.oversampling_)}this.renderedTiles.length=0;var U,B,z,W,G,q,V,H,X,Y,K=Object.keys(_).map(Number);for(K.sort((function(t,e){return t===h?1:e===h?-1:t>e?1:t<e?-1:0})),W=0,G=K.length;W<G;++W)for(var Z in z=K[W],B=u.getTilePixelSize(z,n,o),U=f.getResolution(z)/d,V=m*u.getGutter(o),H=_[z])b=H[Z],w=((q=f.getTileCoordExtent(b.getTileCoord(),E))[0]-g[0])/d*m/p,x=(g[3]-q[3])/d*m/p,X=B[0]*U/p,Y=B[1]*U/p,this.drawTileImage(b,t,e,w,x,X,Y,V,h===z),this.renderedTiles.push(b);this.renderedRevision=c,this.renderedResolution=d*n/m*p,this.renderedExtent_=g}var Q=this.renderedResolution/a,J=Ba.compose(this.imageTransform_,n*r[0]/2,n*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-s[0])/this.renderedResolution*n,(s[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Ba.compose(this.coordinateToCanvasPixelTransform,n*r[0]/2-J[4],n*r[1]/2-J[5],n/a,-n/a,0,-s[0],-s[1]),this.updateUsedTiles(t.usedTiles,u,h,v),this.manageTilePyramid(t,u,f,n,o,y,h,l.getPreload()),this.scheduleExpireCache(t,u),this.updateLogos(t,u),this.renderedTiles.length>0},gh.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t.getImage(this.getLayer());if(u){var c=go.getUid(this),f=l?t.getAlpha(c,e.time):1;1!==f||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,i,o,a);var h=f!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,r,i,o,a),h&&this.context.restore(),1!==f?e.animate=!0:l&&t.endTransition(c)}},gh.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},gh.prototype.getLayer,gh.prototype.getImageTransform=function(){return this.imageTransform_};const mh=gh;var _h=__webpack_require__(5510),bh=__webpack_require__.n(_h),wh=function(){};wh.prototype.getReplay=function(t,e){},wh.prototype.isEmpty=function(){};const xh=wh,Sh="Circle",Eh="Default",Ch="Image",kh="LineString",Ph="Polygon",Th="Text";var Rh={lineString:function(t,e,n,r,i,o,a,s){for(var l,u,c,f=[],h=t[e]>t[n-r],d=i.length,p=t[e],y=t[e+1],v=t[e+=r],g=t[e+1],m=0,_=Math.sqrt(Math.pow(v-p,2)+Math.pow(g-y,2)),b="",w=0,x=0;x<d;++x){u=h?d-x-1:x;var S=i.charAt(u),E=o(b=h?S+b:b+S)-w;w+=E;for(var C=a+E/2;e<n-r&&m+_<C;)p=v,y=g,v=t[e+=r],g=t[e+1],m+=_,_=Math.sqrt(Math.pow(v-p,2)+Math.pow(g-y,2));var k=C-m,P=Math.atan2(g-y,v-p);if(h&&(P+=P>0?-Math.PI:Math.PI),void 0!==c){var T=P-c;if(T+=T>Math.PI?-2*Math.PI:T<-Math.PI?2*Math.PI:0,Math.abs(T)>s)return null}var R=k/_,A=fa.lerp(p,v,R),O=fa.lerp(y,g,R);c==P?(h&&(l[0]=A,l[1]=O,l[2]=E/2),l[4]=b):(w=E,l=[A,O,E/2,P,b=S],h?f.unshift(l):f.push(l),c=P),a+=E}return f}};const Ah=Rh,Oh=0,Ih=1,Mh=2,Dh=3,Lh=4,jh=5,Fh=6,Nh=7,Uh=8,Bh=9,zh=10,Wh=11,Gh=12;var qh={};qh.ORDER=[Ph,Sh,kh,Ch,Th,Eh],qh.TEXT_ALIGN={},qh.TEXT_ALIGN.left=0,qh.TEXT_ALIGN.end=0,qh.TEXT_ALIGN.center=.5,qh.TEXT_ALIGN.right=1,qh.TEXT_ALIGN.start=1,qh.TEXT_ALIGN.top=0,qh.TEXT_ALIGN.middle=.5,qh.TEXT_ALIGN.hanging=.2,qh.TEXT_ALIGN.alphabetic=.8,qh.TEXT_ALIGN.ideographic=.8,qh.TEXT_ALIGN.bottom=1;const Vh=qh;var Hh=function(t,e,n,r,i,o){Jf.call(this),this.declutterTree=o,this.tmpExtent_=sa.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Ba.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=Ba.create(),this.resetTransform_=Ba.create()};go.inherits(Hh,Jf),Hh.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.fillOrigin_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},Hh.prototype.replayImage_=function(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,y,v,g){var m=v||g,_=this.tmpLocalTransform_;e-=i*=h,n-=o*=h,d&&(e=Math.round(e),n=Math.round(n));var b,w,x,S,E=p+u>r.width?r.width-u:p,C=s+c>r.height?r.height-c:s,k=this.tmpExtent_,P=y[3]+E*h+y[1],T=y[0]+C*h+y[2],R=e-y[3],A=n-y[0];(m||0!==f)&&(b=[R,A],w=[R+P,A],x=[R+P,A+T],S=[R,A+T]);var O=null;if(0!==f){var I=e+i,M=n+o;O=Ba.compose(_,I,M,1,1,f,-I,-M),sa.createOrUpdateEmpty(k),sa.extendCoordinate(k,Ba.apply(_,b)),sa.extendCoordinate(k,Ba.apply(_,w)),sa.extendCoordinate(k,Ba.apply(_,x)),sa.extendCoordinate(k,Ba.apply(_,S))}else sa.createOrUpdate(R,A,R+P,A+T,k);var D=t.canvas,L=k[0]<=D.width&&k[2]>=0&&k[1]<=D.height&&k[3]>=0;if(a){if(!L&&1==a[4])return;sa.extend(a,k);var j=L?[t,O?O.slice(0):null,l,r,u,c,E,C,e,n,h]:null;j&&m&&j.push(v,g,b,w,x,S),a.push(j)}else L&&(m&&this.replayTextBackground_(t,b,w,x,S,v,g),ds.drawImage(t,O,l,r,u,c,E,C,e,n,h))},Hh.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},Hh.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var l,u,c,f=[t[e],t[e+1]],h=[NaN,NaN],d=!0;for(l=e+r;l<n;l+=r)h[0]=t[l],h[1]=t[l+1],(c=sa.coordinateRelationship(s,h))!==u?(d&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),this.coordinates[a++]=h[0],this.coordinates[a++]=h[1],d=!1):c===ea?(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1],d=!1):d=!0,f[0]=h[0],f[1]=h[1],u=c;return(i&&d||l===e+r)&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),a},Hh.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(l),e=s}return e},Hh.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==ma){r=(t=t).getOrientedFlatCoordinates(),a=[];var f=t.getEndss();s=0;for(var h=0,d=f.length;h<d;++h){var p=[];s=this.drawCustomCoordinates_(r,s,f[h],u,p),a.push(p)}this.instructions.push([Lh,c,a,t,n,Qs.coordinatesss])}else l==ya||l==ga?(o=[],r=l==ya?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),u,o),this.instructions.push([Lh,c,o,t,n,Qs.coordinatess])):l==da||l==va?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([Lh,c,i,t,n,Qs.coordinates])):l==ha&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([Lh,c,i,t,n]));this.endGeometry(t,e)},Hh.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Oh,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Oh,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},Hh.prototype.fill_=function(t){if(this.fillOrigin_){var e=Ba.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]),t.rotate(this.viewRotation_)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,ds.resetTransform_)},Hh.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],es.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},Hh.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var i=ds.drawImage,o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),i.apply(void 0,s))}}t.length=5,sa.createOrUpdateEmpty(t)}}},Hh.prototype.replay_=function(t,e,n,r,i,o){var a;this.pixelCoordinates_&&Us.equals(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=ua.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Ba.setFromArray(this.renderedTransform_,e));for(var s,l,u,c,f,h,d,p,y,v=!xo.isEmpty(n),g=0,m=r.length,_=0,b=0,w=0,x=null,S=null,E=this.coordinateCache_,C=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C},P=this.instructions!=r||this.overlaps?0:200;g<m;){var T,R,A,O=r[g];switch(O[0]){case Oh:T=O[1],v&&n[go.getUid(T).toString()]||!T.getGeometry()?g=O[2]:void 0===o||sa.intersects(o,T.getGeometry().getExtent())?++g:g=O[2]+1;break;case Ih:b>P&&(this.fill_(t),b=0),w>P&&(t.stroke(),w=0),b||w||(t.beginPath(),c=f=NaN),++g;break;case Mh:var I=a[_=O[1]],M=a[_+1],D=a[_+2]-I,L=a[_+3]-M,j=Math.sqrt(D*D+L*L);t.moveTo(I+j,M),t.arc(I,M,j,0,2*Math.PI,!0),++g;break;case Dh:t.closePath(),++g;break;case Lh:_=O[1],s=O[2];var F=O[3],N=O[4],U=6==O.length?O[5]:void 0;k.geometry=F,k.feature=T,g in E||(E[g]=[]);var B=E[g];U?U(a,_,s,2,B):(B[0]=a[_],B[1]=a[_+1],B.length=2),N(B,k),++g;break;case Fh:_=O[1],s=O[2],y=O[3],l=O[4],u=O[5],p=i?null:O[6];var z,W,G,q=O[7],V=O[8],H=O[9],X=O[10],Y=O[11],K=O[12],Z=O[13],Q=O[14],J=O[15];for(O.length>16?(z=O[16],W=O[17],G=O[18]):(z=ds.defaultPadding,W=G=!1),Y&&(K+=C);_<s;_+=2)this.replayImage_(t,a[_],a[_+1],y,l,u,p,q,V,H,X,K,Z,Q,J,z,W?x:null,G?S:null);this.renderDeclutter_(p,T),++g;break;case jh:var $=O[1],tt=O[2],et=O[3];p=i?null:O[4];var nt=O[5],rt=O[6],it=O[7],ot=O[8],at=O[9],st=O[10],lt=O[11],ut=O[12],ct=O[13],ft=O[14],ht=al.lineString(a,$,tt,2),dt=ot(ut);if(nt||dt<=ht){var pt=this.textStates[ct].textAlign,yt=(ht-dt)*Vh.TEXT_ALIGN[pt],vt=Ah.lineString(a,$,tt,2,ut,ot,yt,it);if(vt){var gt,mt,_t,bt,wt;if(st)for(gt=0,mt=vt.length;gt<mt;++gt)_t=(wt=vt[gt])[4],bt=this.getImage(_t,ct,"",st),l=wt[2]+lt,u=et*bt.height+2*(.5-et)*lt-at,this.replayImage_(t,wt[0],wt[1],bt,l,u,p,bt.height,1,0,0,wt[3],ft,!1,bt.width,ds.defaultPadding,null,null);if(rt)for(gt=0,mt=vt.length;gt<mt;++gt)_t=(wt=vt[gt])[4],bt=this.getImage(_t,ct,rt,""),l=wt[2],u=et*bt.height-at,this.replayImage_(t,wt[0],wt[1],bt,l,u,p,bt.height,1,0,0,wt[3],ft,!1,bt.width,ds.defaultPadding,null,null)}}this.renderDeclutter_(p,T),++g;break;case Nh:if(void 0!==i){var xt=i(T=O[1]);if(xt)return xt}++g;break;case Uh:P?b++:this.fill_(t),++g;break;case Bh:for(_=O[1],s=O[2],R=a[_],d=(A=a[_+1])+.5|0,(h=R+.5|0)===c&&d===f||(t.moveTo(R,A),c=h,f=d),_+=2;_<s;_+=2)h=(R=a[_])+.5|0,d=(A=a[_+1])+.5|0,_!=s-2&&h===c&&d===f||(t.lineTo(R,A),c=h,f=d);++g;break;case zh:x=O,this.fillOrigin_=O[2],b&&(this.fill_(t),b=0,w&&(t.stroke(),w=0)),t.fillStyle=O[1],++g;break;case Wh:S=O,w&&(t.stroke(),w=0),this.setStrokeStyle_(t,O),++g;break;case Gh:P?w++:t.stroke(),++g;break;default:++g}}b&&this.fill_(t),w&&t.stroke()},Hh.prototype.replay=function(t,e,n,r){this.viewRotation_=n,this.replay_(t,e,r,this.instructions,void 0,void 0)},Hh.prototype.replayHitDetection=function(t,e,n,r,i,o){return this.viewRotation_=n,this.replay_(t,e,r,this.hitDetectionInstructions,i,o)},Hh.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==Nh?o=t:r==Oh&&(n[2]=t,Us.reverseSubArray(this.hitDetectionInstructions,o,t),o=-1)},Hh.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Ya.asColorLike(r||ds.defaultFillStyle)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=Ya.asColorLike(i||ds.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:ds.defaultLineCap;var a=e.getLineDash();n.lineDash=a?a.slice():ds.defaultLineDash;var s=e.getLineDashOffset();n.lineDashOffset=s||ds.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:ds.defaultLineJoin;var u=e.getWidth();n.lineWidth=void 0!==u?u:ds.defaultLineWidth;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:ds.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},Hh.prototype.applyFill=function(t,e){var n=t.fillStyle,r=[zh,n];if("string"!=typeof n){var i=e.getExtent();r.push([i[0],i[3]])}this.instructions.push(r)},Hh.prototype.applyStroke=function(t){this.instructions.push([Wh,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio])},Hh.prototype.updateFillStyle=function(t,e,n){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(e.call(this,t,n),t.currentFillStyle=r)},Hh.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Us.equals(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},Hh.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Nh,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},Hh.prototype.finish=go.nullFunction,Hh.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=sa.clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;sa.buffer(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};const Xh=Hh;var Yh=function(t,e,n,r,i,o){Xh.call(this,t,e,n,r,i,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};go.inherits(Yh,Xh),Yh.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},Yh.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([Fh,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([Fh,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Yh.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([Fh,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([Fh,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Yh.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},Yh.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=r[0]};const Kh=Yh;var Zh=function(t,e,n,r,i,o){Xh.call(this,t,e,n,r,i,o)};go.inherits(Zh,Xh),Zh.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[Bh,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},Zh.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wh,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Ih]);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push([Gh]),this.endGeometry(t,e)}},Zh.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Wh,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Ih]);var o,a,s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinates_(l,c,s[o],u);this.hitDetectionInstructions.push([Gh]),this.endGeometry(t,e)}},Zh.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([Gh]),this.reverseHitDetectionInstructions(),this.state=null},Zh.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([Gh]),t.lastStroke=this.coordinates.length),t.lastStroke=0,Xh.prototype.applyStroke.call(this,t),this.instructions.push([Ih])};const Qh=Zh;var Jh=function(t,e,n,r,i,o){Xh.call(this,t,e,n,r,i,o)};go.inherits(Jh,Xh),Jh.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=null!=i.strokeStyle,s=n.length,l=[Ih];this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var u=0;u<s;++u){var c=n[u],f=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,r,!0,!a),d=[Bh,f,h];if(this.instructions.push(d),this.hitDetectionInstructions.push(d),a){var p=[Dh];this.instructions.push(p),this.hitDetectionInstructions.push(p)}e=c}var y=[Uh];if(this.hitDetectionInstructions.push(y),o&&this.instructions.push(y),a){var v=[Gh];this.instructions.push(v),this.hitDetectionInstructions.push(v)}return e},Jh.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([zh,Ha.asString(ds.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wh,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var l=[Ih],u=[Mh,s];this.instructions.push(l,u),this.hitDetectionInstructions.push(l,u);var c=[Uh];if(this.hitDetectionInstructions.push(c),void 0!==n.fillStyle&&this.instructions.push(c),void 0!==n.strokeStyle){var f=[Gh];this.instructions.push(f),this.hitDetectionInstructions.push(f)}this.endGeometry(t,e)}},Jh.prototype.drawPolygon=function(t,e){var n=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([zh,Ha.asString(ds.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wh,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(t,e)},Jh.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([zh,Ha.asString(ds.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Wh,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o,a,s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinatess_(l,c,s[o],u);this.endGeometry(t,e)}},Jh.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,n,r=this.coordinates;for(e=0,n=r.length;e<n;++e)r[e]=ll.snap(r[e],t)}},Jh.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.applyFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)};const $h=Jh;const td={lineString:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p=n,y=n,v=0,g=0,m=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==l&&(h=_-l,d=b-u,s=Math.sqrt(h*h+d*d),void 0!==c&&(g+=a,Math.acos((c*h+f*d)/(a*s))>t&&(g>v&&(v=g,p=m,y=o),g=0,m=o-i)),a=s,c=h,f=d),l=_,u=b}return(g+=s)>v?[m,o]:[p,y]}},ed="line";var nd=function(t,e,n,r,i,o){Xh.call(this,t,e,n,r,i,o),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},ds.labelCache.prune()};go.inherits(nd,Xh),nd.measureTextWidths=function(t,e,n){var r,i,o=e.length,a=0;for(i=0;i<o;++i)r=ds.measureTextWidth(t,e[i]),a=Math.max(a,r),n.push(r);return a},nd.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o,a,s=this.coordinates.length,l=t.getType(),u=null,c=2,f=2;if(i.placement===ed){if(!sa.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var h;if(u=t.getFlatCoordinates(),f=t.getStride(),l==da)h=[u.length];else if(l==ga)h=t.getEnds();else if(l==ya)h=t.getEnds().slice(0,1);else if(l==ma){var d=t.getEndss();for(h=[],o=0,a=d.length;o<a;++o)h.push(d[o][0])}this.beginGeometry(t,e);for(var p,y=i.textAlign,v=0,g=0,m=h.length;g<m;++g){if(null==y){var _=td.lineString(i.maxAngle,u,v,h[g],f);v=_[0],p=_[1]}else p=h[g];for(o=v;o<p;o+=f)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,v=h[g],this.drawChars_(s,c,this.declutterGroup_),s=c}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),w=b.width/this.pixelRatio;switch(l){case ha:case va:c=(u=t.getFlatCoordinates()).length;break;case da:u=t.getFlatMidpoint();break;case ba:u=t.getCenter();break;case ga:c=(u=t.getFlatMidpoints()).length;break;case ya:if(u=t.getFlatInteriorPoint(),!i.overflow&&u[2]/this.resolution<w)return;f=3;break;case ma:var x=t.getFlatInteriorPoints();for(u=[],o=0,a=x.length;o<a;o+=3)(i.overflow||x[o+2]/this.resolution>=w)&&u.push(x[o],x[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,f,!1,!1),this.beginGeometry(t,e),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,t),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(b,s,c),this.endGeometry(t,e)}}},nd.prototype.getImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio,a=ds.labelCache;if(!a.containsKey(o)){var s=r?this.strokeStates[r]||this.textStrokeState_:null,l=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,c=this.pixelRatio,f=u.scale*c,h=Vh.TEXT_ALIGN[u.textAlign||ds.defaultTextAlign],d=r&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),y=p.length,v=[],g=nd.measureTextWidths(u.font,p,v),m=ds.measureTextHeight(u.font),_=m*y,b=g+d,w=Za.createCanvasContext2D(Math.ceil(b*f),Math.ceil((_+d)*f));i=w.canvas,a.set(o,i),1!=f&&w.scale(f,f),w.font=u.font,r&&(w.strokeStyle=s.strokeStyle,w.lineWidth=d*(es.SAFARI?f:1),w.lineCap=s.lineCap,w.lineJoin=s.lineJoin,w.miterLimit=s.miterLimit,es.CANVAS_LINE_DASH&&s.lineDash.length&&(w.setLineDash(s.lineDash),w.lineDashOffset=s.lineDashOffset)),n&&(w.fillStyle=l.fillStyle),w.textBaseline="middle",w.textAlign="center";var x,S=.5-h,E=h*i.width/f+S*d;if(r)for(x=0;x<y;++x)w.strokeText(p[x],E+S*v[x],.5*(d+m)+x*m);if(n)for(x=0;x<y;++x)w.fillText(p[x],E+S*v[x],.5*(d+m)+x*m)}return a.get(o)},nd.prototype.drawTextImage_=function(t,e,n){var r=this.textState_,i=this.textStrokeState_,o=this.pixelRatio,a=Vh.TEXT_ALIGN[r.textAlign||ds.defaultTextAlign],s=Vh.TEXT_ALIGN[r.textBaseline],l=i&&i.lineWidth?i.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,c=s*t.height/o+2*(.5-s)*l;this.instructions.push([Fh,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width,r.padding==ds.defaultPadding?ds.defaultPadding:r.padding.map((function(t){return t*o})),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([Fh,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,!0,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},nd.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.textFillState_,a=this.strokeKey_;r&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:i.font,textAlign:i.textAlign||ds.defaultTextAlign,scale:i.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=Vh.TEXT_ALIGN[i.textBaseline],f=this.textOffsetY_*u,h=this.text_,d=i.font,p=i.scale,y=r?r.lineWidth*p/2:0,v=this.widths_[d];v||(this.widths_[d]=v={}),this.instructions.push([jh,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=v[t];return e||(e=v[t]=ds.measureTextWidth(d,t)),e*p*u},f,a,y*u,h,s,1]),this.hitDetectionInstructions.push([jh,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=v[t];return e||(e=v[t]=ds.measureTextWidth(d,t)),e*p},f,a,y,h,s,1/u])},nd.prototype.setTextStyle=function(t,e){var n,r,i;if(t){this.declutterGroup_=e;var o=t.getFill();o?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Ya.asColorLike(o.getColor()||ds.defaultFillStyle)):r=this.textFillState_=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i=this.textStrokeState_={});var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||ds.defaultLineCap,i.lineDash=s?s.slice():ds.defaultLineDash,i.lineDashOffset=void 0===l?ds.defaultLineDashOffset:l,i.lineJoin=a.getLineJoin()||ds.defaultLineJoin,i.lineWidth=void 0===u?ds.defaultLineWidth:u,i.miterLimit=void 0===c?ds.defaultMiterLimit:c,i.strokeStyle=Ya.asColorLike(a.getColor()||ds.defaultStrokeStyle)}else i=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||ds.defaultFont;ds.checkFont(f);var h=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||ds.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ds.defaultPadding,n.scale=void 0===h?1:h;var d=t.getOffsetX(),p=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:go.getUid(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+go.getUid(r.fillStyle):""}else this.text_=""};const rd=nd;var id=function(t,e,n,r,i,o,a){xh.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Za.createCanvasContext2D(1,1),this.hitDetectionTransform_=Ba.create()};go.inherits(id,xh),id.circleArrayCache_={0:[[!0]]},id.fillCircleArrayRowToMiddle_=function(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0},id.getCircleArray_=function(t){if(void 0!==id.circleArrayCache_[t])return id.circleArrayCache_[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)id.fillCircleArrayRowToMiddle_(n,t+i,t+o),id.fillCircleArrayRowToMiddle_(n,t+o,t+i),id.fillCircleArrayRowToMiddle_(n,t-o,t+i),id.fillCircleArrayRowToMiddle_(n,t-i,t+o),id.fillCircleArrayRowToMiddle_(n,t-i,t-o),id.fillCircleArrayRowToMiddle_(n,t-o,t-i),id.fillCircleArrayRowToMiddle_(n,t+o,t-i),id.fillCircleArrayRowToMiddle_(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return id.circleArrayCache_[t]=n,n},id.replayDeclutter=function(t,e,n){for(var r=Object.keys(t).map(Number).sort(Us.numberSafeCompareFunction),i={},o=0,a=r.length;o<a;++o)for(var s=t[r[o].toString()],l=0,u=s.length;l<u;){var c=s[l++],f=s[l++];c.replay(e,f,n,i)}},id.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=sa.createEmpty()).push(1)),e},id.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},id.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},id.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,n=this.replaysByZIndex_[t];for(e in n)n[e].finish()}},id.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=2*(r=Math.round(r))+1,u=Ba.compose(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(s=sa.createEmpty(),sa.extendCoordinate(s,t),sa.buffer(s,e*(this.renderBuffer_+r),s));var f,h,d=id.getCircleArray_(r);function p(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var r=0;r<l;r++){var i;if(d[n][r]&&e[4*(r*l+n)+3]>0)return(!f||h!=Ch&&h!=Th||-1!==f.indexOf(t))&&(i=o(t)),i||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(f=this.declutterTree_.all().map((function(t){return t.value})));var y,v,g,m,_,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(Us.numberSafeCompareFunction),y=b.length-1;y>=0;--y){var w=b[y].toString();for(g=this.replaysByZIndex_[w],v=Vh.ORDER.length-1;v>=0;--v)if(void 0!==(m=g[h=Vh.ORDER[v]]))if(!a||h!=Ch&&h!=Th){if(_=m.replayHitDetection(c,u,n,i,p,s))return _}else{var x=a[w];x?x.push(m,u.slice(0)):a[w]=[m,u.slice(0)]}}},id.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return ua.transform2D(a,0,8,2,t,a),a},id.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,id.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=i),i},id.prototype.getReplays=function(){return this.replaysByZIndex_},id.prototype.isEmpty=function(){return xo.isEmpty(this.replaysByZIndex_)},id.prototype.replay=function(t,e,n,r,i,o){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Us.numberSafeCompareFunction),t.save(),this.clip(t,e);var s,l,u,c,f,h,d=i||Vh.ORDER;for(s=0,l=a.length;s<l;++s){var p=a[s].toString();for(f=this.replaysByZIndex_[p],u=0,c=d.length;u<c;++u){var y=d[u];if(void 0!==(h=f[y]))if(!o||y!=Ch&&y!=Th)h.replay(t,e,n,r);else{var v=o[p];v?v.push(h,e.slice(0)):o[p]=[h,e.slice(0)]}}}t.restore()},id.BATCH_CONSTRUCTORS_={Circle:$h,Default:Xh,Image:Kh,LineString:Qh,Polygon:$h,Text:rd};const od=id;var ad={defaultOrder:function(t,e){return go.getUid(t)-go.getUid(e)},getSquaredTolerance:function(t,e){var n=ad.getTolerance(t,e);return n*n},getTolerance:function(t,e){return go.SIMPLIFY_TOLERANCE*t/e},renderCircleGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),Sh);a.setFillStrokeStyle(i,o),a.drawCircle(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Th);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderFeature:function(t,e,n,r,i,o){var a,s,l=!1;return(a=n.getImage())&&((s=a.getImageState())==is||s==os?a.unlistenImageChange(i,o):(s==ns&&a.load(),s=a.getImageState(),a.listenImageChange(i,o),l=!0)),ad.renderFeature_(t,e,n,r),l},renderFeature_:function(t,e,n,r){var i=n.getGeometryFunction()(e);if(i){var o=i.getSimplifiedGeometry(r);n.getRenderer()?ad.renderGeometry_(t,o,n,e):(0,ad.GEOMETRY_RENDERERS_[o.getType()])(t,o,n,e)}},renderGeometry_:function(t,e,n,r){if(e.getType()!=_a)t.getReplay(n.getZIndex(),Eh).drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)ad.renderGeometry_(t,i[o],n,r)},renderGeometryCollectionGeometry_:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i)(0,ad.GEOMETRY_RENDERERS_[a[i].getType()])(t,a[i],n,r)},renderLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),kh);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Th);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),kh);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Th);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var a=t.getReplay(n.getZIndex(),Ph);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Th);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=is)return;var o=t.getReplay(n.getZIndex(),Ch);o.setImageStyle(i,t.addDeclutter(!1)),o.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Th);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderMultiPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=is)return;var o=t.getReplay(n.getZIndex(),Ch);o.setImageStyle(i,t.addDeclutter(!1)),o.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Th);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),Ph);a.setFillStrokeStyle(i,o),a.drawPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Th);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}}};ad.GEOMETRY_RENDERERS_={Point:ad.renderPointGeometry_,LineString:ad.renderLineStringGeometry_,Polygon:ad.renderPolygonGeometry_,MultiPoint:ad.renderMultiPointGeometry_,MultiLineString:ad.renderMultiLineStringGeometry_,MultiPolygon:ad.renderMultiPolygonGeometry_,GeometryCollection:ad.renderGeometryCollectionGeometry_,Circle:ad.renderCircleGeometry_};const sd=ad;var ld=function(t){ih.call(this,t),this.declutterTree_=t.getDeclutter()?bh()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=sa.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Za.createCanvasContext2D(),Eo.listen(ds.labelCache,ko,this.handleFontsChanged_,this)};go.inherits(ld,ih),ld.handles=function(t,e){return t===Of&&e.getType()===jl},ld.create=function(t,e){return new ld(e)},ld.prototype.disposeInternal=function(){Eo.unlisten(ds.labelCache,ko,this.handleFontsChanged_,this),ih.prototype.disposeInternal.call(this)},ld.prototype.composeFrame=function(t,e,n){var r=t.extent,i=t.pixelRatio,o=e.managed?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,l=a.rotation,u=s.getExtent(),c=this.getLayer().getSource(),f=this.getTransform(t,0);this.preCompose(n,t,f);var h=e.extent,d=void 0!==h;d&&this.clip(n,t,h);var p=this.replayGroup_;if(p&&!p.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var y,v=this.getLayer(),g=0,m=0,_=1!==e.opacity,b=v.hasListener(Yl);if(_||b){var w=n.canvas.width,x=n.canvas.height;if(l){var S=Math.round(Math.sqrt(w*w+x*x));g=(S-w)/2,m=(S-x)/2,w=x=S}this.context.canvas.width=w,this.context.canvas.height=x,y=this.context}else y=n;var E=y.globalAlpha;_||(y.globalAlpha=e.opacity),y!=n&&y.translate(g,m);var C=t.size[0]*i,k=t.size[1]*i;if(ds.rotateAtOffset(y,-l,C/2,k/2),p.replay(y,f,l,o),c.getWrapX()&&s.canWrapX()&&!sa.containsExtent(u,r)){for(var P,T=r[0],R=sa.getWidth(u),A=0;T<u[0];)P=R*--A,f=this.getTransform(t,P),p.replay(y,f,l,o),T+=R;for(A=0,T=r[2];T>u[2];)P=R*++A,f=this.getTransform(t,P),p.replay(y,f,l,o),T-=R;f=this.getTransform(t,0)}if(ds.rotateAtOffset(y,l,C/2,k/2),y!=n){if(b&&this.dispatchRenderEvent(y,t,f),_){var O=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(y.canvas,-g,-m),n.globalAlpha=O}else n.drawImage(y.canvas,-g,-m);y.translate(-g,-m)}_||(y.globalAlpha=E)}d&&n.restore(),this.postCompose(n,t,e,f)},ld.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={},u=this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=go.getUid(t).toString();if(!(e in l))return l[e]=!0,r.call(i,t,s)}),null);return u}},ld.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},ld.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},ld.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getSource();this.updateLogos(t,r);var i=t.viewHints[Gu],o=t.viewHints[qu],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,f=u.resolution,h=t.pixelRatio,d=n.getRevision(),p=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=sd.defaultOrder);var v=sa.buffer(l,p*f),g=u.projection.getExtent();if(r.getWrapX()&&u.projection.canWrapX()&&!sa.containsExtent(g,t.extent)){var m=sa.getWidth(g),_=Math.max(sa.getWidth(v)/2,m);v[0]=g[0]-_,v[2]=g[2]+_}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==d&&this.renderedRenderOrder_==y&&sa.containsExtent(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new od(sd.getTolerance(f,h),v,f,h,r.getOverlaps(),this.declutterTree_,n.getRenderBuffer());r.loadFeatures(v,f,c);var w=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,f):(r=n.getStyleFunction())&&(e=r(t,f)),e){var i=this.renderFeature(t,f,h,e,b);this.dirty_=this.dirty_||i}}.bind(this);if(y){var x=[];r.forEachFeatureInExtent(v,(function(t){x.push(t)}),this),x.sort(y);for(var S=0,E=x.length;S<E;++S)w(x[S])}else r.forEachFeatureInExtent(v,w,this);return b.finish(),this.renderedResolution_=f,this.renderedRevision_=d,this.renderedRenderOrder_=y,this.renderedExtent_=v,this.replayGroup_=b,this.replayGroupChanged=!0,!0},ld.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=sd.renderFeature(i,t,r[a],sd.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=sd.renderFeature(i,t,r,sd.getSquaredTolerance(e,n),this.handleStyleImageChange_,this);return o};const ud=ld,cd="vector";var fd=function(t){this.context=null,mh.call(this,t),this.declutterTree_=t.getDeclutter()?bh()(9):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Ba.create(),this.zDirection=t.getRenderMode()==cd?1:0,Eo.listen(ds.labelCache,ko,this.handleFontsChanged_,this)};go.inherits(fd,mh),fd.handles=function(t,e){return t===Of&&e.getType()===Ll},fd.create=function(t,e){return new fd(e)},fd.IMAGE_REPLAYS={image:[Ph,Sh,kh,Ch,Th],hybrid:[Ph,kh]},fd.VECTOR_REPLAYS={image:[Eh],hybrid:[Ch,Th,Eh],vector:Vh.ORDER},fd.prototype.disposeInternal=function(){Eo.unlisten(ds.labelCache,ko,this.handleFontsChanged_,this),mh.prototype.disposeInternal.call(this)},fd.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=n.getRenderMode();this.context||i==cd||(this.context=Za.createCanvasContext2D()),this.context&&i==cd&&(this.context=null)}return this.renderedLayerRevision_=r,mh.prototype.prepareFrame.apply(this,arguments)},fd.prototype.createReplayGroup_=function(t,e){var n=this.getLayer(),r=e.pixelRatio,i=e.viewState.projection,o=n.getRevision(),a=n.getRenderOrder()||null,s=t.getReplayState(n);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(i),f=c.getResolution(t.tileCoord[0]),h=c.getTileCoordExtent(t.wrappedTileCoord),d={},p=0,y=t.tileKeys.length;p<y;++p){var v=t.getTile(t.tileKeys[p]);if(v.getState()!=ff){var g=v.tileCoord,m=u.getTileCoordExtent(g),_=sa.getIntersection(h,m),b=sa.equals(m,_)?null:sa.buffer(_,n.getRenderBuffer()*f),w=v.getProjection(),x=!1;Na.equivalent(i,w)||(x=!0,v.setProjection(i)),s.dirty=!1;var S,E=new od(0,_,f,r,l.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),C=sd.getSquaredTolerance(f,r),k=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,f):(r=n.getStyleFunction())&&(e=r(t,f)),e){var i=this.renderFeature(t,C,e,E);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},P=v.getFeatures();a&&a!==s.renderedRenderOrder&&P.sort(a);for(var T=0,R=P.length;T<R;++T)S=P[T],x&&(w.getUnits()==Ea.TILE_PIXELS&&(w.setWorldExtent(m),w.setExtent(v.getExtent())),S.getGeometry().transform(w,i)),b&&!sa.intersects(b,S.getGeometry().getExtent())||k.call(this,S);for(var A in E.finish(),E.getReplays())d[A]=!0;v.setReplayGroup(n,t.tileCoord.toString(),E)}}s.renderedRevision=o,s.renderedRenderOrder=a}},fd.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t;this.createReplayGroup_(u,e),this.context&&(this.renderTileImage_(u,e,n),mh.prototype.drawTileImage.apply(this,arguments))},fd.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s,l,u,c,f,h,d,p,y=this.getLayer(),v={},g=this.renderedTiles,m=y.getSource().getTileGridForProjection(e.viewState.projection);for(u=0,c=g.length;u<c;++u)if(d=(h=g[u]).wrappedTileCoord,p=m.getTileCoordExtent(d,this.tmpExtent),s=sa.buffer(p,n*o,s),sa.containsCoordinate(s,t))for(var _=0,b=h.tileKeys.length;_<b;++_){var w=h.getTile(h.tileKeys[_]);w.getState()!=ff&&(f=w.getReplayGroup(y,h.tileCoord.toString()),l=l||f.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=go.getUid(t).toString();if(!(e in v))return v[e]=!0,r.call(i,t,y)}),null))}return l},fd.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),r=t.tileCoord,i=n.getResolution(r[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=n.getTileCoordExtent(r,this.tmpExtent),u=o.center,c=sa.getTopLeft(l),f=e.size,h=Math.round(a*f[0]/2),d=Math.round(a*f[1]/2);return Ba.compose(this.tmpTransform_,h,d,i/s,i/s,o.rotation,(c[0]-u[0])/i,(u[1]-c[1])/i)},fd.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},fd.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},fd.prototype.postCompose=function(t,e,n){var r,i,o=this.getLayer(),a=o.getDeclutter()?{}:null,s=o.getSource(),l=o.getRenderMode(),u=fd.VECTOR_REPLAYS[l],c=e.pixelRatio,f=e.viewState.rotation,h=e.size;f&&(r=Math.round(c*h[0]/2),i=Math.round(c*h[1]/2),ds.rotateAtOffset(t,-f,r,i)),a&&this.declutterTree_.clear();for(var d=this.renderedTiles,p=s.getTileGridForProjection(e.viewState.projection),y=[],v=[],g=d.length-1;g>=0;--g){var m=d[g];if(m.getState()!=df)for(var _=m.tileCoord,b=p.getTileCoordExtent(_)[0]-p.getTileCoordExtent(m.wrappedTileCoord)[0],w=void 0,x=0,S=m.tileKeys.length;x<S;++x){var E=m.getTile(m.tileKeys[x]);if(E.getState()!=ff){var C=E.getReplayGroup(o,_.toString());if(l==cd||C.hasReplays(u)){w||(w=this.getTransform(e,b));var k=E.tileCoord[0],P=C.getClipCoords(w);t.save(),t.globalAlpha=n.opacity;for(var T=0,R=y.length;T<R;++T){var A=y[T];k<v[T]&&(t.beginPath(),t.moveTo(P[0],P[1]),t.lineTo(P[2],P[3]),t.lineTo(P[4],P[5]),t.lineTo(P[6],P[7]),t.moveTo(A[6],A[7]),t.lineTo(A[4],A[5]),t.lineTo(A[2],A[3]),t.lineTo(A[0],A[1]),t.clip())}C.replay(t,w,f,{},u,a),t.restore(),y.push(P),v.push(k)}}}}a&&od.replayDeclutter(a,t,f),f&&ds.rotateAtOffset(t,f,r,i),mh.prototype.postCompose.apply(this,arguments)},fd.prototype.renderFeature=function(t,e,n,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)i=sd.renderFeature(r,t,n[o],e,this.handleStyleImageChange_,this)||i;else i=sd.renderFeature(r,t,n,e,this.handleStyleImageChange_,this);return i},fd.prototype.renderTileImage_=function(t,e,n){var r=this.getLayer(),i=t.getReplayState(r),o=r.getRevision(),a=fd.IMAGE_REPLAYS[r.getRenderMode()];if(a&&i.renderedTileRevision!==o){i.renderedTileRevision=o;var s=t.wrappedTileCoord,l=s[0],u=e.pixelRatio,c=r.getSource(),f=c.getTileGridForProjection(e.viewState.projection),h=f.getResolution(l),d=t.getContext(r),p=c.getTilePixelSize(l,u,e.viewState.projection);d.canvas.width=p[0],d.canvas.height=p[1];for(var y=f.getTileCoordExtent(s),v=0,g=t.tileKeys.length;v<g;++v){var m=t.getTile(t.tileKeys[v]);if(m.getState()!=ff){var _=u/h,b=Ba.reset(this.tmpTransform_);Ba.scale(b,_,-_),Ba.translate(b,-y[0],-y[3]),m.getReplayGroup(r,t.tileCoord.toString()).replay(d,b,0,{},a)}}}};const hd=fd;var dd=function(t){this.source_=t};dd.prototype.getType=function(){},dd.prototype.getSource=function(){return this.source_},dd.prototype.isAnimated=la.FALSE;const pd=dd;var yd=function(t){pd.call(this,t)};go.inherits(yd,pd),yd.prototype.getType=function(){return Ja.FRAGMENT_SHADER};const vd=yd;var gd=function(t){pd.call(this,t)};go.inherits(gd,pd),gd.prototype.getType=function(){return Ja.VERTEX_SHADER};const md=gd;var _d={};_d.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),_d.vertex=new md(go.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");const bd=_d,wd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_radius":"g")};const xd={create:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},fromTransform:function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}};var Sd=function(t,e){Jf.call(this),this.tolerance=t,this.maxExtent=e,this.origin=sa.getCenter(e),this.projectionMatrix_=Ba.create(),this.offsetRotateMatrix_=Ba.create(),this.offsetScaleMatrix_=Ba.create(),this.tmpMat4_=xd.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};go.inherits(Sd,Jf),Sd.prototype.getDeleteResourcesFunction=function(t){},Sd.prototype.finish=function(t){},Sd.prototype.setUpProgram=function(t,e,n,r){},Sd.prototype.shutDownProgram=function(t,e){},Sd.prototype.drawReplay=function(t,e,n,r){},Sd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){},Sd.prototype.drawHitDetectionReplay=function(t,e,n,r,i,o){return i?this.drawHitDetectionReplayOneByOne(t,e,n,r,o):this.drawHitDetectionReplayAll(t,e,n,r)},Sd.prototype.drawHitDetectionReplayAll=function(t,e,n,r){return t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0),r(null)||void 0},Sd.prototype.replay=function(t,e,n,r,i,o,a,s,l,u,c){var f,h,d,p,y,v,g,m,_=t.getGL();this.lineStringReplay&&(f=_.isEnabled(_.STENCIL_TEST),h=_.getParameter(_.STENCIL_FUNC),d=_.getParameter(_.STENCIL_VALUE_MASK),p=_.getParameter(_.STENCIL_REF),y=_.getParameter(_.STENCIL_WRITEMASK),v=_.getParameter(_.STENCIL_FAIL),g=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),m=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(t,e,n,r,i,o,a,s,l,u,c),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),t.bindBuffer(Ja.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(Ja.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var b=this.setUpProgram(_,t,i,o),w=Ba.reset(this.projectionMatrix_);Ba.scale(w,2/(n*i[0]),2/(n*i[1])),Ba.rotate(w,-r),Ba.translate(w,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var x=Ba.reset(this.offsetScaleMatrix_);Ba.scale(x,2/i[0],2/i[1]);var S,E=Ba.reset(this.offsetRotateMatrix_);return 0!==r&&Ba.rotate(E,-r),_.uniformMatrix4fv(b.u_projectionMatrix,!1,xd.fromTransform(this.tmpMat4_,w)),_.uniformMatrix4fv(b.u_offsetScaleMatrix,!1,xd.fromTransform(this.tmpMat4_,x)),_.uniformMatrix4fv(b.u_offsetRotateMatrix,!1,xd.fromTransform(this.tmpMat4_,E)),_.uniform1f(b.u_opacity,a),void 0===l?this.drawReplay(_,t,s,!1):S=this.drawHitDetectionReplay(_,t,s,l,u,c),this.shutDownProgram(_,b),this.lineStringReplay&&(f||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(h,p,d),_.stencilMask(y),_.stencilOp(v,m,g)),S},Sd.prototype.drawElements=function(t,e,n,r){var i=e.hasOESElementIndexUint?Ja.UNSIGNED_INT:Ja.UNSIGNED_SHORT,o=r-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(Ja.TRIANGLES,o,i,a)};const Ed=Sd;var Cd={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:.5,defaultTextBaseline:.5,defaultLineWidth:1,triangleIsCounterClockwise:function(t,e,n,r,i,o){var a=(n-t)*(o-e)-(i-t)*(r-e);return a<=Cd.EPSILON&&a>=-Cd.EPSILON?void 0:a>0}};Cd.EPSILON=Number.EPSILON||2220446049250313e-31;const kd=Cd;var Pd=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:Pd.Usage_.STATIC_DRAW};Pd.prototype.getArray=function(){return this.arr_},Pd.prototype.getUsage=function(){return this.usage_},Pd.Usage_={STATIC_DRAW:Ja.STATIC_DRAW,STREAM_DRAW:Ja.STREAM_DRAW,DYNAMIC_DRAW:Ja.DYNAMIC_DRAW};const Td=Pd;var Rd=function(t,e){Ed.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};go.inherits(Rd,Ed),Rd.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(i=e,o=n;i<o;i+=r)this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},Rd.prototype.drawCircle=function(t,e){var n=t.getRadius(),r=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var i=t.getFlatCoordinates();i=ua.translate(i,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(i,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},Rd.prototype.finish=function(t){this.verticesBuffer=new Td(this.vertices),this.indicesBuffer=new Td(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Rd.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Rd.prototype.setUpProgram=function(t,e,n,r){var i,o;i=bd.fragment,o=bd.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new wd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Ja.FLOAT,!1,16,0),t.enableVertexAttribArray(a.a_instruction),t.vertexAttribPointer(a.a_instruction,1,Ja.FLOAT,!1,16,8),t.enableVertexAttribArray(a.a_radius),t.vertexAttribPointer(a.a_radius,1,Ja.FLOAT,!1,16,12),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Rd.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},Rd.prototype.drawReplay=function(t,e,n,r){var i,o,a,s;if(xo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},Rd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[go.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||sa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},Rd.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[go.getUid(l).toString()]&&(i!==o&&this.drawElements(t,e,i,o),o=c),u--,i=c;i!==o&&this.drawElements(t,e,i,o),i=o=s}},Rd.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},Rd.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},Rd.prototype.setFillStrokeStyle=function(t,e){var n,r;if(e){var i=e.getLineDash();this.state_.lineDash=i||kd.defaultLineDash;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||kd.defaultLineDashOffset,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?kd.defaultStrokeStyle:Ha.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||kd.defaultStrokeStyle,r=void 0!==(r=e.getWidth())?r:kd.defaultLineWidth}else n=[0,0,0,0],r=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?kd.defaultFillStyle:Ha.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||kd.defaultFillStyle,this.state_.strokeColor&&Us.equals(this.state_.strokeColor,n)&&this.state_.fillColor&&Us.equals(this.state_.fillColor,a)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=n,this.state_.lineWidth=r,this.styles_.push([a,n,r]))};const Ad=Rd;var Od={};Od.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Od.vertex=new md(go.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");const Id=Od,Md=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_rotateWithView":"g")},Dd="webglcontextlost",Ld="webglcontextrestored";var jd=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Us.includes(go.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),Eo.listen(this.canvas_,Dd,this.handleWebGLContextLost,this),Eo.listen(this.canvas_,Ld,this.handleWebGLContextRestored,this)};go.inherits(jd,zo),jd.prototype.bindBuffer=function(t,e){var n=this.getGL(),r=e.getArray(),i=String(go.getUid(e));if(i in this.bufferCache_){var o=this.bufferCache_[i];n.bindBuffer(t,o.buffer)}else{var a,s=n.createBuffer();n.bindBuffer(t,s),t==Ja.ARRAY_BUFFER?a=new Float32Array(r):t==Ja.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[i]={buf:e,buffer:s}}},jd.prototype.deleteBuffer=function(t){var e=this.getGL(),n=String(go.getUid(t)),r=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[n]},jd.prototype.disposeInternal=function(){Eo.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},jd.prototype.getCanvas=function(){return this.canvas_},jd.prototype.getGL=function(){return this.gl_},jd.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},jd.prototype.getShader=function(t){var e=String(go.getUid(t));if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),r=n.createShader(t.getType());return n.shaderSource(r,t.getSource()),n.compileShader(r),this.shaderCache_[e]=r,r},jd.prototype.getProgram=function(t,e){var n=go.getUid(t)+"/"+go.getUid(e);if(n in this.programCache_)return this.programCache_[n];var r=this.getGL(),i=r.createProgram();return r.attachShader(i,this.getShader(t)),r.attachShader(i,this.getShader(e)),r.linkProgram(i),this.programCache_[n]=i,i},jd.prototype.handleWebGLContextLost=function(){xo.clear(this.bufferCache_),xo.clear(this.shaderCache_),xo.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},jd.prototype.handleWebGLContextRestored=function(){},jd.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=jd.createEmptyTexture(t,1,1),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=r},jd.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},jd.createTexture_=function(t,e,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_T,n),r},jd.createEmptyTexture=function(t,e,n,r,i){var o=jd.createTexture_(t,r,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},jd.createTexture=function(t,e,n,r){var i=jd.createTexture_(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i};const Fd=jd;var Nd=function(t,e){Ed.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};go.inherits(Nd,Ed),Nd.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.getTextures(!0),i=t.getGL();return function(){var o,a;if(!i.isContextLost())for(o=0,a=r.length;o<a;++o)i.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},Nd.prototype.drawCoordinates=function(t,e,n,r){var i,o,a,s,l,u,c=this.anchorX,f=this.anchorY,h=this.height,d=this.imageHeight,p=this.imageWidth,y=this.opacity,v=this.originX,g=this.originY,m=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,w=this.width,x=Math.cos(_),S=Math.sin(_),E=this.indices.length,C=this.vertices.length;for(i=e;i<n;i+=r)l=t[i]-this.origin[0],u=t[i+1]-this.origin[1],o=C/8,a=-b*c,s=-b*(h-f),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=v/p,this.vertices[C++]=(g+h)/d,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(w-c),s=-b*(h-f),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=(v+w)/p,this.vertices[C++]=(g+h)/d,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(w-c),s=b*f,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=(v+w)/p,this.vertices[C++]=g/d,this.vertices[C++]=y,this.vertices[C++]=m,a=-b*c,s=b*f,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=v/p,this.vertices[C++]=g/d,this.vertices[C++]=y,this.vertices[C++]=m,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return C},Nd.prototype.createTextures=function(t,e,n,r){var i,o,a,s,l=e.length;for(s=0;s<l;++s)o=e[s],(a=go.getUid(o).toString())in n?i=n[a]:(i=Fd.createTexture(r,o,Ja.CLAMP_TO_EDGE,Ja.CLAMP_TO_EDGE),n[a]=i),t[s]=i},Nd.prototype.setUpProgram=function(t,e,n,r){var i,o=Id.fragment,a=Id.vertex,s=e.getProgram(o,a);return this.defaultLocations?i=this.defaultLocations:(i=new Md(t,s),this.defaultLocations=i),e.useProgram(s),t.enableVertexAttribArray(i.a_position),t.vertexAttribPointer(i.a_position,2,Ja.FLOAT,!1,32,0),t.enableVertexAttribArray(i.a_offsets),t.vertexAttribPointer(i.a_offsets,2,Ja.FLOAT,!1,32,8),t.enableVertexAttribArray(i.a_texCoord),t.vertexAttribPointer(i.a_texCoord,2,Ja.FLOAT,!1,32,16),t.enableVertexAttribArray(i.a_opacity),t.vertexAttribPointer(i.a_opacity,1,Ja.FLOAT,!1,32,24),t.enableVertexAttribArray(i.a_rotateWithView),t.vertexAttribPointer(i.a_rotateWithView,1,Ja.FLOAT,!1,32,28),i},Nd.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},Nd.prototype.drawReplay=function(t,e,n,r){var i,o,a,s=r?this.getHitDetectionTextures():this.getTextures(),l=r?this.hitDetectionGroupIndices:this.groupIndices;if(xo.isEmpty(n))for(i=0,o=s.length,a=0;i<o;++i){t.bindTexture(Ja.TEXTURE_2D,s[i]);var u=l[i];this.drawElements(t,e,a,u),a=u}else this.drawReplaySkipping(t,e,n,s,l)},Nd.prototype.drawReplaySkipping=function(t,e,n,r,i){var o,a,s=0;for(o=0,a=r.length;o<a;++o){t.bindTexture(Ja.TEXTURE_2D,r[o]);for(var l=o>0?i[o-1]:0,u=i[o],c=l,f=l;s<this.startIndices.length&&this.startIndices[s]<=u;){var h=this.startIndicesFeature[s];void 0!==n[go.getUid(h).toString()]?(c!==f&&this.drawElements(t,e,c,f),f=c=s===this.startIndices.length-1?u:this.startIndices[s+1]):f=s===this.startIndices.length-1?u:this.startIndices[s+1],s++}c!==f&&this.drawElements(t,e,c,f)}},Nd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c=this.startIndices.length-1,f=this.getHitDetectionTextures();for(o=f.length-1;o>=0;--o)for(t.bindTexture(Ja.TEXTURE_2D,f[o]),a=o>0?this.hitDetectionGroupIndices[o-1]:0,l=this.hitDetectionGroupIndices[o];c>=0&&this.startIndices[c]>=a;){if(s=this.startIndices[c],u=this.startIndicesFeature[c],void 0===n[go.getUid(u).toString()]&&u.getGeometry()&&(void 0===i||sa.intersects(i,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var h=r(u);if(h)return h}l=s,c--}},Nd.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},Nd.prototype.getTextures=function(t){},Nd.prototype.getHitDetectionTextures=function(){};const Ud=Nd;var Bd=function(t,e){Ud.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};go.inherits(Bd,Ud),Bd.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},Bd.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},Bd.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new Td(this.vertices);var n=this.indices;this.indicesBuffer=new Td(n);var r={};this.createTextures(this.textures_,this.images_,r,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,e),this.images_=null,this.hitDetectionImages_=null,Ud.prototype.finish.call(this,t)},Bd.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),r=t.getImage(1),i=t.getImageSize(),o=t.getHitDetectionImage(1),a=t.getOpacity(),s=t.getOrigin(),l=t.getRotateWithView(),u=t.getRotation(),c=t.getSize(),f=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],go.getUid(e)!=go.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(o):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],go.getUid(e)!=go.getUid(o)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(o))),this.anchorX=n[0],this.anchorY=n[1],this.height=c[1],this.imageHeight=i[1],this.imageWidth=i[0],this.opacity=a,this.originX=s[0],this.originY=s[1],this.rotation=u,this.rotateWithView=l,this.scale=f,this.width=c[0]},Bd.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},Bd.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};const zd=Bd;const Wd={lineStringIsClosed:function(t,e,n,r){var i=n-r;return t[e]===t[i]&&t[e+1]===t[i+1]&&(n-e)/r>3&&!!ml.linearRing(t,e,n,r)}};var Gd={};Gd.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Gd.vertex=new md(go.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");const qd=Gd,Vd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_direction":"g")};var Hd=function(t,e){Ed.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};go.inherits(Hd,Ed),Hd.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a,s,l,u,c,f,h=this.vertices.length,d=this.indices.length,p="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,y="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,v=Wd.lineStringIsClosed(t,e,n,r),g=d,m=1;for(i=e,o=n;i<o;i+=r){if(l=h/7,u=c,c=f||[t[i],t[i+1]],i===e){if(f=[t[i+r],t[i+r+1]],n-e==2*r&&Us.equals(c,f))break;if(!v){y&&(h=this.addVertices_([0,0],c,f,m*Hd.Instruction_.BEGIN_LINE_CAP*y,h),h=this.addVertices_([0,0],c,f,-m*Hd.Instruction_.BEGIN_LINE_CAP*y,h),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2),h=this.addVertices_([0,0],c,f,m*Hd.Instruction_.BEGIN_LINE*(y||1),h),g=(h=this.addVertices_([0,0],c,f,-m*Hd.Instruction_.BEGIN_LINE*(y||1),h))/7-1;continue}u=[t[n-2*r],t[n-2*r+1]],a=f}else{if(i===n-r){if(v){f=a;break}u=u||[0,0],h=this.addVertices_(u,c,[0,0],m*Hd.Instruction_.END_LINE*(y||1),h),h=this.addVertices_(u,c,[0,0],-m*Hd.Instruction_.END_LINE*(y||1),h),this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=g,this.indices[d++]=l+1,this.indices[d++]=l,y&&(h=this.addVertices_(u,c,[0,0],m*Hd.Instruction_.END_LINE_CAP*y,h),h=this.addVertices_(u,c,[0,0],-m*Hd.Instruction_.END_LINE_CAP*y,h),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2);break}f=[t[i+r],t[i+r+1]]}s=kd.triangleIsCounterClockwise(u[0],u[1],c[0],c[1],f[0],f[1])?-1:1,h=this.addVertices_(u,c,f,s*Hd.Instruction_.BEVEL_FIRST*(p||1),h),h=this.addVertices_(u,c,f,s*Hd.Instruction_.BEVEL_SECOND*(p||1),h),h=this.addVertices_(u,c,f,-s*Hd.Instruction_.MITER_BOTTOM*(p||1),h),i>e&&(this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=m*s>0?g:g-1),this.indices[d++]=l,this.indices[d++]=l+2,this.indices[d++]=l+1,g=l+2,m=s,p&&(h=this.addVertices_(u,c,f,s*Hd.Instruction_.MITER_TOP*p,h),this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l)}v&&(l=l||h/7,s=Cl.linearRingIsClockwise([u[0],u[1],c[0],c[1],f[0],f[1]],0,6,2)?1:-1,h=this.addVertices_(u,c,f,s*Hd.Instruction_.BEVEL_FIRST*(p||1),h),h=this.addVertices_(u,c,f,-s*Hd.Instruction_.MITER_BOTTOM*(p||1),h),this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=l+1,this.indices[d++]=l,this.indices[d++]=m*s>0?g:g-1)},Hd.prototype.addVertices_=function(t,e,n,r,i){return this.vertices[i++]=t[0],this.vertices[i++]=t[1],this.vertices[i++]=e[0],this.vertices[i++]=e[1],this.vertices[i++]=n[0],this.vertices[i++]=n[1],this.vertices[i++]=r,i},Hd.prototype.isValid_=function(t,e,n,r){var i=n-e;if(i<2*r)return!1;if(i===2*r){var o=[t[e],t[e+1]],a=[t[e+r],t[e+r+1]];return!Us.equals(o,a)}return!0},Hd.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),r=t.getStride();this.isValid_(n,0,n.length,r)&&(n=ua.translate(n,0,n.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,r))},Hd.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,r=t.getEnds();r.unshift(0);var i,o,a=t.getFlatCoordinates(),s=t.getStride();if(r.length>1)for(i=1,o=r.length;i<o;++i)if(this.isValid_(a,r[i-1],r[i],s)){var l=ua.translate(a,r[i-1],r[i],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},Hd.prototype.drawPolygonCoordinates=function(t,e,n){var r,i;if(Wd.lineStringIsClosed(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(r=0,i=e.length;r<i;++r)Wd.lineStringIsClosed(e[r],0,e[r].length,n)||(e[r].push(e[r][0]),e[r].push(e[r][1])),this.drawCoordinates_(e[r],0,e[r].length,n)},Hd.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},Hd.prototype.getCurrentIndex=function(){return this.indices.length},Hd.prototype.finish=function(t){this.verticesBuffer=new Td(this.vertices),this.indicesBuffer=new Td(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Hd.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Hd.prototype.setUpProgram=function(t,e,n,r){var i,o;i=qd.fragment,o=qd.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new Vd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_lastPos),t.vertexAttribPointer(a.a_lastPos,2,Ja.FLOAT,!1,28,0),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Ja.FLOAT,!1,28,8),t.enableVertexAttribArray(a.a_nextPos),t.vertexAttribPointer(a.a_nextPos,2,Ja.FLOAT,!1,28,16),t.enableVertexAttribArray(a.a_direction),t.vertexAttribPointer(a.a_direction,1,Ja.FLOAT,!1,28,24),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Hd.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},Hd.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),xo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},Hd.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[go.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},Hd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setStrokeStyle_(t,l[0],l[1],l[2]),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[go.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||sa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},Hd.prototype.setStrokeStyle_=function(t,e,n,r){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,r)},Hd.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:kd.defaultLineCap;var r=e.getLineDash();this.state_.lineDash=r||kd.defaultLineDash;var i=e.getLineDashOffset();this.state_.lineDashOffset=i||kd.defaultLineDashOffset;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:kd.defaultLineJoin;var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?kd.defaultStrokeStyle:Ha.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||kd.defaultStrokeStyle;var s=e.getWidth();s=void 0!==s?s:kd.defaultLineWidth;var l=e.getMiterLimit();l=void 0!==l?l:kd.defaultMiterLimit,this.state_.strokeColor&&Us.equals(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=l,this.styles_.push([a,s,l]))},Hd.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};const Xd=Hd;var Yd={};Yd.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Yd.vertex=new md(go.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");const Kd=Yd,Zd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"a")};var Qd=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};Qd.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var r=n.next;e.prev=n,e.next=r,n.next=e,r&&(r.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Qd.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},Qd.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},Qd.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},Qd.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Qd.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Qd.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Qd.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Qd.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Qd.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Qd.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Qd.prototype.getLength=function(){return this.length_};const Jd=Qd;var $d=function(t){this.rbush_=bh()(t),this.items_={}};$d.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[go.getUid(e)]=n},$d.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[go.getUid(a)]=s}this.rbush_.load(n)},$d.prototype.remove=function(t){var e=go.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},$d.prototype.update=function(t,e){var n=this.items_[go.getUid(e)],r=[n.minX,n.minY,n.maxX,n.maxY];sa.equals(r,t)||(this.remove(e),this.insert(t,e))},$d.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},$d.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},$d.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},$d.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},$d.prototype.forEach_=function(t,e,n){for(var r,i=0,o=t.length;i<o;i++)if(r=e.call(n,t[i]))return r;return r},$d.prototype.isEmpty=function(){return xo.isEmpty(this.items_)},$d.prototype.clear=function(){this.rbush_.clear(),this.items_={}},$d.prototype.getExtent=function(t){var e=this.rbush_.data;return sa.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},$d.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]};const tp=$d;var ep=function(t,e){Ed.call(this,t,e),this.lineStringReplay=new Xd(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};go.inherits(ep,Ed),ep.prototype.drawCoordinates_=function(t,e,n){var r=new Jd,i=new tp;this.processFlatCoordinates_(t,n,r,i,!0);var o=this.getMaxCoords_(r);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new Jd,maxCoords:void 0,rtree:new tp};l.push(u),this.processFlatCoordinates_(e[a],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort((function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]})),a=0;a<l.length;++a){var c,f=l[a].list,h=f.firstItem(),d=h;do{if(this.getIntersections_(d,i).length){c=!0;break}d=f.nextItem()}while(h!==d);c||this.bridgeHole_(f,l[a].maxCoords[0],r,o[0],i)&&(i.concat(l[a].rtree),this.classifyPoints_(r,i,!1))}}else this.classifyPoints_(r,i,!1);this.triangulate_(r,i)},ep.prototype.processFlatCoordinates_=function(t,e,n,r,i){var o,a,s,l,u,c=Cl.linearRingIsClockwise(t,0,t.length,e),f=this.vertices.length/2,h=[],d=[];if(i===c){for(l=s=this.createPoint_(t[0],t[1],f++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],f++),d.push(this.insertItem_(l,u,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var p=t.length-e;for(l=s=this.createPoint_(t[p],t[p+1],f++),o=p-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],f++),d.push(this.insertItem_(l,u,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}r.load(h,d)},ep.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,r=[n.p0.x,n.p0.y];do{(n=t.nextItem()).p0.x>r[0]&&(r=[n.p0.x,n.p0.y])}while(n!==e);return r},ep.prototype.classifyPoints_=function(t,e,n){var r=t.firstItem(),i=r,o=t.nextItem(),a=!1;do{var s=n?kd.triangleIsCounterClockwise(o.p1.x,o.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):kd.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(i,o,t,e),a=!0,o===r&&(r=t.getNextItem()),o=i,t.prevItem()):i.p1.reflex!==s&&(i.p1.reflex=s,a=!0),i=o,o=t.nextItem()}while(i!==r);return a},ep.prototype.bridgeHole_=function(t,e,n,r,i){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,f={x:r,y:c.y,i:-1},h=1/0,d=this.getIntersections_({p0:c,p1:f},i,!0);for(a=0,s=d.length;a<s;++a){var p=d[a],y=this.calculateIntersection_(c,f,p.p0,p.p1,!0),v=Math.abs(c.x-y[0]);v<h&&void 0!==kd.triangleIsCounterClockwise(c.x,c.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(h=v,u={x:y[0],y:y[1],i:-1},o=p)}if(h===1/0)return!1;if(l=o.p1,h>0){var g=this.getPointsInTriangle_(c,u,o.p1,i);if(g.length){var m=1/0;for(a=0,s=g.length;a<s;++a){var _=g[a],b=Math.atan2(c.y-_.y,f.x-_.x);(b<m||b===m&&_.x<l.x)&&(m=b,l=_)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var w={x:c.x,y:c.y,i:c.i,reflex:void 0},x={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=w,this.insertItem_(c,o.p1,t,i),this.insertItem_(x,w,t,i),o.p1=x,t.setFirstItem(),n.concat(t),!0},ep.prototype.triangulate_=function(t,e){for(var n=!1,r=this.isSimple_(t,e);t.getLength()>3;)if(r){if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(r=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var i=this.indices.length;this.indices[i++]=t.getPrevItem().p0.i,this.indices[i++]=t.getCurrItem().p0.i,this.indices[i++]=t.getNextItem().p0.i}},ep.prototype.clipEars_=function(t,e,n,r){var i,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),c=l,f=t.nextItem(),h=t.getNextItem(),d=!1;do{var p;i=c.p0,o=c.p1,a=f.p1,!1===o.reflex&&(p=n?0===this.getPointsInTriangle_(i,o,a,e,!0).length:r?this.diagonalIsInside_(h.p1,a,o,i,u.p0):this.diagonalIsInside_(u.p0,i,o,a,h.p1),(n||0===this.getIntersections_({p0:i,p1:a},e).length)&&p&&(n||!1===i.reflex||!1===a.reflex||Cl.linearRingIsClockwise([u.p0.x,u.p0.y,i.x,i.y,o.x,o.y,a.x,a.y,h.p1.x,h.p1.y],0,10,2)===!r)&&(this.indices[s++]=i.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(c,f,t,e),f===l&&(l=h),d=!0)),u=t.getPrevItem(),c=t.getCurrItem(),f=t.nextItem(),h=t.getNextItem()}while(c!==l&&t.getLength()>3);return d},ep.prototype.resolveSelfIntersections_=function(t,e,n){var r=t.firstItem();t.nextItem();var i=r,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1,n);if(s){var l,u=!1,c=this.vertices.length,f=this.indices.length,h=c/2,d=t.prevItem();if(t.removeItem(),e.remove(d),u=d===r,n?(s[0]===i.p0.x&&s[1]===i.p0.y?(t.prevItem(),l=i.p0,o.p0=l,e.remove(i),u=u||i===r):(l=o.p1,i.p1=l,e.remove(o),u=u||o===r),t.removeItem()):(l=this.createPoint_(s[0],s[1],h),i.p1=l,o.p0=l,e.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[f++]=d.p0.i,this.indices[f++]=d.p1.i,this.indices[f++]=l.i,a=!0,u)break}i=t.getPrevItem(),o=t.nextItem()}while(i!==r);return a},ep.prototype.isSimple_=function(t,e){var n=t.firstItem(),r=n;do{if(this.getIntersections_(r,e).length)return!1;r=t.nextItem()}while(r!==n);return!0},ep.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),r=t.firstItem(),i=r,o=0;do{n[o++]=i.p0.x,n[o++]=i.p0.y,i=t.nextItem()}while(i!==r);return Cl.linearRingIsClockwise(n,0,e,2)},ep.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),r=n;do{var i=this.getIntersections_(r,e);if(i.length){var o=i[0],a=this.vertices.length/2,s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new Jd,c=new tp;this.insertItem_(l,r.p1,u,c),r.p1=l,e.update([Math.min(r.p0.x,l.x),Math.min(r.p0.y,l.y),Math.max(r.p0.x,l.x),Math.max(r.p0.y,l.y)],r);for(var f=t.nextItem();f!==o;)this.insertItem_(f.p0,f.p1,u,c),e.remove(f),t.removeItem(),f=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}r=t.nextItem()}while(r!==n)},ep.prototype.createPoint_=function(t,e,n){var r=this.vertices.length;return this.vertices[r++]=t,this.vertices[r++]=e,{x:t,y:e,i:n,reflex:void 0}},ep.prototype.insertItem_=function(t,e,n,r){var i={p0:t,p1:e};return n.insertItem(i),r&&r.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i},ep.prototype.removeItem_=function(t,e,n,r){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,r.remove(e),r.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},ep.prototype.getPointsInTriangle_=function(t,e,n,r,i){var o,a,s,l,u=[],c=r.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,a=c.length;o<a;++o)for(s in c[o])"object"!=typeof(l=c[o][s])||i&&!l.reflex||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===n.x&&l.y===n.y||-1!==u.indexOf(l)||!el.linearRingContainsXY([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,l.x,l.y)||u.push(l);return u},ep.prototype.getIntersections_=function(t,e,n){var r,i,o=t.p0,a=t.p1,s=e.getInExtent([Math.min(o.x,a.x),Math.min(o.y,a.y),Math.max(o.x,a.x),Math.max(o.y,a.y)]),l=[];for(r=0,i=s.length;r<i;++r){var u=s[r];t!==u&&(n||u.p0!==a||u.p1!==o)&&this.calculateIntersection_(o,a,u.p0,u.p1,n)&&l.push(u)}return l},ep.prototype.calculateIntersection_=function(t,e,n,r,i){var o=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==o){var a=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!i&&a>kd.EPSILON&&a<1-kd.EPSILON&&s>kd.EPSILON&&s<1-kd.EPSILON||i&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},ep.prototype.diagonalIsInside_=function(t,e,n,r,i){if(void 0===e.reflex||void 0===r.reflex)return!1;var o=(n.x-r.x)*(e.y-r.y)>(n.y-r.y)*(e.x-r.x),a=(i.x-r.x)*(e.y-r.y)<(i.y-r.y)*(e.x-r.x),s=(t.x-e.x)*(r.y-e.y)>(t.y-e.y)*(r.x-e.x),l=(n.x-e.x)*(r.y-e.y)<(n.y-e.y)*(r.x-e.x),u=r.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},ep.prototype.drawMultiPolygon=function(t,e){var n,r,i,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),f=0;for(n=0,r=a.length;n<r;++n){var h=a[n];if(h.length>0){var d=ua.translate(c,f,h[0],s,-this.origin[0],-this.origin[1]);if(d.length){var p,y=[];for(i=1,o=h.length;i<o;++i)h[i]!==h[i-1]&&(p=ua.translate(c,h[i-1],h[i],s,-this.origin[0],-this.origin[1]),y.push(p));this.lineStringReplay.drawPolygonCoordinates(d,y,s),this.drawCoordinates_(d,y,s)}}f=h[h.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},ep.prototype.drawPolygon=function(t,e){var n=t.getEnds(),r=t.getStride();if(n.length>0){var i=t.getFlatCoordinates().map(Number),o=ua.translate(i,0,n[0],r,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(l=ua.translate(i,n[a-1],n[a],r,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,r),this.drawCoordinates_(o,u,r)}}},ep.prototype.finish=function(t){this.verticesBuffer=new Td(this.vertices),this.indicesBuffer=new Td(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},ep.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),r()}},ep.prototype.setUpProgram=function(t,e,n,r){var i,o;i=Kd.fragment,o=Kd.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new Zd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Ja.FLOAT,!1,8,0),a},ep.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},ep.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),xo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},ep.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[go.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||sa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},ep.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[go.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},ep.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},ep.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?kd.defaultFillStyle:Ha.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||kd.defaultFillStyle,this.state_.fillColor&&Us.equals(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var r=new Ss({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}};const np=ep;var rp=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Za.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};rp.prototype.get=function(t){return this.entries_[t]||null},rp.prototype.add=function(t,e,n,r,i){var o,a,s;for(a=0,s=this.emptyBlocks_.length;a<s;++a)if((o=this.emptyBlocks_[a]).width>=e+this.space_&&o.height>=n+this.space_){var l={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=l,r.call(i,this.context_,o.x+this.space_,o.y+this.space_),this.split_(a,o,e+this.space_,n+this.space_),l}return null},rp.prototype.split_=function(t,e,n,r){var i,o;e.width-n>e.height-r?(i={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+r,width:n,height:e.height-r},this.updateBlocks_(t,i,o)):(i={x:e.x+n,y:e.y,width:e.width-n,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,i,o))},rp.prototype.updateBlocks_=function(t,e,n){var r=[t,1];e.width>0&&e.height>0&&r.push(e),n.width>0&&n.height>0&&r.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};const ip=rp;var op=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:go.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=go.MAX_ATLAS_SIZE?go.MAX_ATLAS_SIZE:void 0!==go.WEBGL_MAX_TEXTURE_SIZE?go.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new ip(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new ip(this.currentHitSize_,this.space_)]};op.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},op.prototype.getInfo_=function(t,e){var n,r,i;for(r=0,i=t.length;r<i;++r)if(n=t[r].get(e))return n;return null},op.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},op.prototype.add=function(t,e,n,r,i,o){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,n,r,o);if(!a)return null;var s=void 0!==i?i:go.nullFunction,l=this.add_(!0,t,e,n,s,o);return this.mergeInfos_(a,l)},op.prototype.add_=function(t,e,n,r,i,o){var a,s,l,u,c=t?this.hitAtlases_:this.atlases_;for(l=0,u=c.length;l<u;++l){if(s=(a=c[l]).add(e,n,r,i,o))return s;var f;s||l!==u-1||(t?(f=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=f):(f=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=f),a=new ip(f,this.space_),c.push(a),++u)}return null};const ap=op;var sp=function(t,e){Ud.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=Za.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};go.inherits(sp,Ud),sp.prototype.drawText=function(t,e){if(this.text_){var n=null,r=2,i=2;switch(t.getType()){case ha:case va:r=(n=t.getFlatCoordinates()).length,i=t.getStride();break;case ba:n=t.getCenter();break;case da:n=t.getFlatMidpoint();break;case ga:r=(n=t.getFlatMidpoints()).length;break;case ya:n=t.getFlatInteriorPoint();break;case ma:r=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var o,a,s,l,u,c,f,h,d=this.currAtlas_,p=this.text_.split("\n"),y=this.getTextSize_(p),v=Math.round(y[0]*this.textAlign_-this.offsetX_),g=Math.round(y[1]*this.textBaseline_-this.offsetY_),m=this.state_.lineWidth/2*this.state_.scale;for(o=0,a=p.length;o<a;++o)for(u=0,c=d.height*o,s=0,l=(f=p[o].split("")).length;s<l;++s){if(h=d.atlas.getInfo(f[s])){var _,b=h.image;this.anchorX=v-u,this.anchorY=g-c,this.originX=0===s?h.offsetX-m:h.offsetX,this.originY=h.offsetY,this.height=d.height,this.width=0===s||s===f.length-1?d.width[f[s]]+m:d.width[f[s]],this.imageHeight=b.height,this.imageWidth=b.width,0===this.images_.length?this.images_.push(b):(_=this.images_[this.images_.length-1],go.getUid(_)!=go.getUid(b)&&(this.groupIndices.push(this.indices.length),this.images_.push(b))),this.drawText_(n,0,r,i)}u+=this.width}}},sp.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,r=t.length*n.height;return[t.map((function(t){var r,i,o=0;for(r=0,i=t.length;r<i;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),o+=n.width[a]?n.width[a]:0}return o})).reduce((function(t,e){return Math.max(t,e)})),r]},sp.prototype.drawText_=function(t,e,n,r){var i,o;for(i=e,o=n;i<o;i+=r)this.drawCoordinates(t,e,n,r)},sp.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,r=this.measureCanvas_.getContext("2d");r.font=n.font;var i=Math.ceil(r.measureText(t).width*n.scale);e.atlas.add(t,i,e.height,(function(e,r,i){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",es.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,r,i),n.fillColor&&e.fillText(t,r,i)}))&&(e.width[t]=i)}},sp.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new Td(this.vertices),this.indicesBuffer=new Td(this.indices),this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,Ud.prototype.finish.call(this,t)},sp.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),r=t.getStroke();if(t&&t.getText()&&(n||r)){if(n){var i=n.getColor();e.fillColor=Ya.asColorLike(i||kd.defaultFillStyle)}else e.fillColor=null;if(r){var o=r.getColor();e.strokeColor=Ya.asColorLike(o||kd.defaultStrokeStyle),e.lineWidth=r.getWidth()||kd.defaultLineWidth,e.lineCap=r.getLineCap()||kd.defaultLineCap,e.lineDashOffset=r.getLineDashOffset()||kd.defaultLineDashOffset,e.lineJoin=r.getLineJoin()||kd.defaultLineJoin,e.miterLimit=r.getMiterLimit()||kd.defaultMiterLimit;var a=r.getLineDash();e.lineDash=a?a.slice():kd.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||kd.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var s=Vh.TEXT_ALIGN[t.getTextAlign()],l=Vh.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===s?kd.defaultTextAlign:s,this.textBaseline_=void 0===l?kd.defaultTextBaseline:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},sp.prototype.getAtlas_=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?n=n.concat(t[e]):n.push(t[e]));var r=this.calculateHash_(n);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=t.font;var o=Math.ceil((1.5*i.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[r]={atlas:new ap({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[r]},sp.prototype.calculateHash_=function(t){var e,n,r="";for(e=0,n=t.length;e<n;++e)r+=t[e];return r},sp.prototype.getTextures=function(t){return this.textures_},sp.prototype.getHitDetectionTextures=function(){return this.textures_};const lp=sp;var up=function(t,e,n){xh.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=n,this.replaysByZIndex_={}};go.inherits(up,xh),up.prototype.addDeclutter=function(t,e){},up.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var r,i=this.replaysByZIndex_[e];for(r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=n.length,r=0;r<e;r++)t=n[r].apply(this,arguments);return t}},up.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n,r=this.replaysByZIndex_[e];for(n in r)r[n].finish(t)}},up.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,up.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),r[e]=i),i},up.prototype.isEmpty=function(){return xo.isEmpty(this.replaysByZIndex_)},up.prototype.replay=function(t,e,n,r,i,o,a,s){var l,u,c,f,h,d,p=Object.keys(this.replaysByZIndex_).map(Number);for(p.sort(Us.numberSafeCompareFunction),l=0,u=p.length;l<u;++l)for(h=this.replaysByZIndex_[p[l].toString()],c=0,f=Vh.ORDER.length;c<f;++c)void 0!==(d=h[Vh.ORDER[c]])&&d.replay(t,e,n,r,i,o,a,s,void 0,!1)},up.prototype.replayHitDetection_=function(t,e,n,r,i,o,a,s,l,u,c){var f,h,d,p,y,v,g=Object.keys(this.replaysByZIndex_).map(Number);for(g.sort((function(t,e){return e-t})),f=0,h=g.length;f<h;++f)for(p=this.replaysByZIndex_[g[f].toString()],d=Vh.ORDER.length-1;d>=0;--d)if(void 0!==(y=p[Vh.ORDER[d]])&&(v=y.replay(t,e,n,r,i,o,a,s,l,u,c)))return v},up.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l,u){var c,f=e.getGL();return f.bindFramebuffer(f.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(c=sa.buffer(sa.createOrUpdateFromCoordinate(t),r*this.renderBuffer_)),this.replayHitDetection_(e,t,r,i,up.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);if(f.readPixels(0,0,1,1,f.RGBA,f.UNSIGNED_BYTE,e),e[3]>0){var n=u(t);if(n)return n}}),!0,c)},up.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,r,i,up.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0}),!1)},up.HIT_DETECTION_SIZE_=[1,1],up.BATCH_CONSTRUCTORS_={Circle:Ad,Image:zd,LineString:Xd,Polygon:np,Text:lp};const cp=up;var fp=function(t,e,n,r,i,o,a){Jf.call(this),this.context_=t,this.center_=e,this.extent_=o,this.pixelRatio_=a,this.size_=i,this.rotation_=r,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};go.inherits(fp,Jf),fp.prototype.drawText_=function(t,e){var n=this.context_,r=t.getReplay(0,Th);r.setTextStyle(this.textStyle_),r.drawText(e,null),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)()},fp.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},fp.prototype.drawGeometry=function(t){switch(t.getType()){case ha:this.drawPoint(t,null);break;case da:this.drawLineString(t,null);break;case ya:this.drawPolygon(t,null);break;case va:this.drawMultiPoint(t,null);break;case ga:this.drawMultiLineString(t,null);break;case ma:this.drawMultiPolygon(t,null);break;case _a:this.drawGeometryCollection(t,null);break;case ba:this.drawCircle(t,null)}},fp.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&sa.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},fp.prototype.drawGeometryCollection=function(t,e){var n,r,i=t.getGeometriesArray();for(n=0,r=i.length;n<r;++n)this.drawGeometry(i[n])},fp.prototype.drawPoint=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,Ch);i.setImageStyle(this.imageStyle_),i.drawPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawMultiPoint=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,Ch);i.setImageStyle(this.imageStyle_),i.drawMultiPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawLineString=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,kh);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawMultiLineString=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,kh);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawMultiLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawPolygon=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,Ph);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawMultiPolygon=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,Ph);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawMultiPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.drawCircle=function(t,e){var n=this.context_,r=new cp(1,this.extent_),i=r.getReplay(0,Sh);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawCircle(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},fp.prototype.setImageStyle=function(t){this.imageStyle_=t},fp.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},fp.prototype.setTextStyle=function(t){this.textStyle_=t};const hp=fp;var dp={};dp.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),dp.vertex=new md(go.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");const pp=dp,yp=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_texCoord":"c")};var vp=function(t,e){nh.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new Td([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=Ba.create(),this.projectionMatrix=Ba.create(),this.tmpMat4_=xd.create(),this.defaultLocations_=null};go.inherits(vp,nh),vp.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var r=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(r);var i=Fd.createEmptyTexture(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(Ja.FRAMEBUFFER,o),n.framebufferTexture2D(Ja.FRAMEBUFFER,Ja.COLOR_ATTACHMENT0,Ja.TEXTURE_2D,i,0),this.texture=i,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(Ja.FRAMEBUFFER,this.framebuffer)},vp.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(Xl,n,t),n.bindBuffer(Ja.ARRAY_BUFFER,this.arrayBuffer_);var r,i=n.getGL(),o=pp.fragment,a=pp.vertex,s=n.getProgram(o,a);this.defaultLocations_?r=this.defaultLocations_:(r=new yp(i,s),this.defaultLocations_=r),n.useProgram(s)&&(i.enableVertexAttribArray(r.a_position),i.vertexAttribPointer(r.a_position,2,Ja.FLOAT,!1,16,0),i.enableVertexAttribArray(r.a_texCoord),i.vertexAttribPointer(r.a_texCoord,2,Ja.FLOAT,!1,16,8),i.uniform1i(r.u_texture,0)),i.uniformMatrix4fv(r.u_texCoordMatrix,!1,xd.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),i.uniformMatrix4fv(r.u_projectionMatrix,!1,xd.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),i.uniform1f(r.u_opacity,e.opacity),i.bindTexture(Ja.TEXTURE_2D,this.getTexture()),i.drawArrays(Ja.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(Hl,n,t)},vp.prototype.dispatchComposeEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=n.viewState,o=i.resolution,a=n.pixelRatio,s=n.extent,l=i.center,u=i.rotation,c=n.size,f=new hp(e,l,o,u,c,s,a),h=new Zf(t,f,n,null,e);r.dispatchEvent(h)}},vp.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},vp.prototype.getTexture=function(){return this.texture},vp.prototype.getProjectionMatrix=function(){return this.projectionMatrix},vp.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},vp.prototype.prepareFrame=function(t,e,n){},vp.prototype.forEachLayerAtPixel=function(t,e,n,r){};const gp=vp;var mp=function(t,e){gp.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};go.inherits(mp,gp),mp.handles=function(t,e){return t===If&&e.getType()===Ml},mp.create=function(t,e){return new mp(t,e)},mp.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return Fd.createTexture(n,e,Ja.CLAMP_TO_EDGE,Ja.CLAMP_TO_EDGE)},mp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},mp.prototype.prepareFrame=function(t,e,n){var r=this.mapRenderer.getGL(),i=t.pixelRatio,o=t.viewState,a=o.center,s=o.resolution,l=o.rotation,u=this.image_,c=this.texture,f=this.getLayer().getSource(),h=t.viewHints,d=t.extent;if(void 0!==e.extent&&(d=sa.getIntersection(d,e.extent)),!h[Gu]&&!h[qu]&&!sa.isEmpty(d)){var p=o.projection;if(!go.ENABLE_RASTER_REPROJECTION){var y=f.getProjection();y&&(p=y)}var v=f.getImage(d,s,i,p);if(v&&this.loadImage(v)&&(u=v,c=this.createTexture_(v),this.texture)){var g=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture);t.postRenderFunctions.push(g)}}if(u){var m=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(m.width,m.height,i,a,s,l,u.getExtent()),this.hitTransformationMatrix_=null;var _=this.texCoordMatrix;Ba.reset(_),Ba.scale(_,1,-1),Ba.translate(_,0,-1),this.image_=u,this.texture=c,this.updateLogos(t,f)}return!!u},mp.prototype.updateProjectionMatrix_=function(t,e,n,r,i,o,a){var s=t*i,l=e*i,u=this.projectionMatrix;Ba.reset(u),Ba.scale(u,2*n/s,2*n/l),Ba.rotate(u,-o),Ba.translate(u,a[0]-r[0],a[1]-r[1]),Ba.scale(u,(a[2]-a[0])/2,(a[3]-a[1])/2),Ba.translate(u,1,1)},mp.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,la.TRUE,this)},mp.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==go.nullFunction){var i=Ba.apply(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(i,e,0,la.TRUE,this)?n.call(r,this.getLayer(),null):void 0}var o=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,o));var a=Ba.apply(this.hitTransformationMatrix_,t.slice());if(!(a[0]<0||a[0]>o[0]||a[1]<0||a[1]>o[1])){this.hitCanvasContext_||(this.hitCanvasContext_=Za.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?n.call(r,this.getLayer(),s):void 0}}},mp.prototype.getHitTransformationMatrix_=function(t,e){var n=Ba.create();Ba.translate(n,-1,-1),Ba.scale(n,2/t[0],2/t[1]),Ba.translate(n,0,t[1]),Ba.scale(n,1,-1);var r=Ba.invert(this.projectionMatrix.slice()),i=Ba.create();return Ba.translate(i,0,e[1]),Ba.scale(i,1,-1),Ba.scale(i,e[0]/2,e[1]/2),Ba.translate(i,1,1),Ba.multiply(i,r),Ba.multiply(i,n),i};const _p=mp;var bp=function(t,e){ph.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=ss.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=Za.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=Ja.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new Fd(this.canvas_,this.gl_),Eo.listen(this.canvas_,Dd,this.handleWebGLContextLost,this),Eo.listen(this.canvas_,Ld,this.handleWebGLContextRestored,this),this.textureCache_=new us,this.focus_=null,this.tileTextureQueue_=new yf(function(t){var e=t[1],n=t[2],r=e[0]-this.focus_[0],i=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(r*r+i*i)/n}.bind(this),(function(t){return t[0].getKey()})),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),r=n[0],i=n[3],o=n[4];this.bindTileTexture(r,i,o,Ja.LINEAR,Ja.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};go.inherits(bp,ph),bp.handles=function(t){return es.WEBGL&&t===If},bp.create=function(t,e){return new bp(t,e)},bp.prototype.bindTileTexture=function(t,e,n,r,i){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(Ja.TEXTURE_2D,s.texture),s.magFilter!=r&&(o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MAG_FILTER,r),s.magFilter=r),s.minFilter!=i&&(o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MIN_FILTER,i),s.minFilter=i)}else{var l=o.createTexture();if(o.bindTexture(Ja.TEXTURE_2D,l),n>0){var u=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):c.clearRect(0,0,e[0],e[1]),c.drawImage(t.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(Ja.TEXTURE_2D,0,Ja.RGBA,Ja.RGBA,Ja.UNSIGNED_BYTE,u)}else o.texImage2D(Ja.TEXTURE_2D,0,Ja.RGBA,Ja.RGBA,Ja.UNSIGNED_BYTE,t.getImage());o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MAG_FILTER,r),o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_MIN_FILTER,i),o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_S,Ja.CLAMP_TO_EDGE),o.texParameteri(Ja.TEXTURE_2D,Ja.TEXTURE_WRAP_T,Ja.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:r,minFilter:i})}},bp.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=this.context_,i=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,c=a.rotation,f=new hp(r,u,l,c,o,i,s),h=new Zf(t,f,e,null,r);n.dispatchEvent(h)}},bp.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach((function(e){e&&t.deleteTexture(e.texture)})),this.context_.dispose(),ph.prototype.disposeInternal.call(this)},bp.prototype.expireCache_=function(t,e){for(var n,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>go.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(n=this.textureCache_.peekLast())r.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},bp.prototype.getContext=function(){return this.context_},bp.prototype.getGL=function(){return this.gl_},bp.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},bp.prototype.getType=function(){return If},bp.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},bp.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},bp.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(Ja.TEXTURE0),t.blendFuncSeparate(Ja.SRC_ALPHA,Ja.ONE_MINUS_SRC_ALPHA,Ja.ONE,Ja.ONE_MINUS_SRC_ALPHA),t.disable(Ja.CULL_FACE),t.disable(Ja.DEPTH_TEST),t.disable(Ja.SCISSOR_TEST),t.disable(Ja.STENCIL_TEST)},bp.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},bp.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(Xl,t);var r=[],i=t.layerStatesArray;Us.stableSort(i,ph.sortByZIndex);var o,a,s,l=t.viewState.resolution;for(o=0,a=i.length;o<a;++o)s=i[o],Jl.visibleAtResolution(s,l)&&s.sourceState==Zl&&this.getLayerRenderer(s.layer).prepareFrame(t,s,e)&&r.push(s);var u=t.size[0]*t.pixelRatio,c=t.size[1]*t.pixelRatio;for(this.canvas_.width==u&&this.canvas_.height==c||(this.canvas_.width=u,this.canvas_.height=c),n.bindFramebuffer(Ja.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(Ja.COLOR_BUFFER_BIT),n.enable(Ja.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,a=r.length;o<a;++o)s=r[o],this.getLayerRenderer(s.layer).composeFrame(t,s,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>go.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(Hl,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},bp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,c=e.layerStatesArray;for(l=c.length-1;l>=0;--l){var f=c[l],h=f.layer;if(Jl.visibleAtResolution(f,u.resolution)&&o.call(a,h)&&(s=this.getLayerRenderer(h).forEachFeatureAtCoordinate(t,e,n,r,i)))return s}},bp.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],c=u.layer;if(Jl.visibleAtResolution(u,s.resolution)&&r.call(i,c)&&(o=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e)))return!0}return o},bp.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){if(this.getGL().isContextLost())return!1;var a,s,l=e.viewState,u=e.layerStatesArray;for(s=u.length-1;s>=0;--s){var c=u[s],f=c.layer;if(Jl.visibleAtResolution(c,l.resolution)&&i.call(r,f)&&(a=this.getLayerRenderer(f).forEachLayerAtPixel(t,e,n,r)))return a}};const wp=bp;var xp={};xp.fragment=new vd(go.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),xp.vertex=new md(go.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");const Sp=xp,Ep=function(t,e){this.u_tileOffset=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,go.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,go.DEBUG_WEBGL?"a_texCoord":"c")};var Cp=function(t,e){gp.call(this,t,e),this.fragmentShader_=Sp.fragment,this.vertexShader_=Sp.vertex,this.locations_=null,this.renderArrayBuffer_=new Td([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};go.inherits(Cp,gp),Cp.handles=function(t,e){return t===If&&e.getType()===Dl},Cp.create=function(t,e){return new Cp(t,e)},Cp.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),gp.prototype.disposeInternal.call(this)},Cp.prototype.createLoadedTileFinder=function(t,e,n){var r=this.mapRenderer;return function(i,o){return t.forEachLoadedTile(e,i,o,(function(t){var e=r.isTileTextureLoaded(t);return e&&(n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t),e}))}},Cp.prototype.handleWebGLContextLost=function(){gp.prototype.handleWebGLContextLost.call(this),this.locations_=null},Cp.prototype.prepareFrame=function(t,e,n){var r,i=this.mapRenderer,o=n.getGL(),a=t.viewState,s=a.projection,l=this.getLayer(),u=l.getSource(),c=u.getTileGridForProjection(s),f=c.getZForResolution(a.resolution),h=c.getResolution(f),d=u.getTilePixelSize(f,t.pixelRatio,s),p=d[0]/pu.toSize(c.getTileSize(f),this.tmpSize_)[0],y=h/p,v=u.getTilePixelRatio(p)*u.getGutter(s),g=a.center,m=t.extent,_=c.getTileRangeForExtentAndZ(m,f);if(this.renderedTileRange_&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==u.getRevision())r=this.renderedFramebufferExtent_;else{var b=_.getSize(),w=Math.max(b[0]*d[0],b[1]*d[1]),x=fa.roundUpToPowerOfTwo(w),S=y*x,E=c.getOrigin(f),C=E[0]+_.minX*d[0]*y,k=E[1]+_.minY*d[1]*y;r=[C,k,C+S,k+S],this.bindFramebuffer(t,x),o.viewport(0,0,x,x),o.clearColor(0,0,0,0),o.clear(Ja.COLOR_BUFFER_BIT),o.disable(Ja.BLEND);var P=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(P),this.locations_||(this.locations_=new Ep(o,P)),n.bindBuffer(Ja.ARRAY_BUFFER,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,Ja.FLOAT,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,Ja.FLOAT,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var T={};T[f]={};var R,A,O,I,M,D,L=this.createLoadedTileFinder(u,s,T),j=l.getUseInterimTilesOnError(),F=!0,N=sa.createEmpty(),U=new hu(0,0,0,0);for(I=_.minX;I<=_.maxX;++I)for(M=_.minY;M<=_.maxY;++M)if(A=u.getTile(f,I,M,p,s),void 0===e.extent||(D=c.getTileCoordExtent(A.tileCoord,N),sa.intersects(D,e.extent))){if((O=A.getState())==cf||O==hf||O==ff&&!j||(A=A.getInterimTile()),(O=A.getState())==cf){if(i.isTileTextureLoaded(A)){T[f][A.tileCoord.toString()]=A;continue}}else if(O==hf||O==ff&&!j)continue;F=!1,c.forEachTileCoordParentTileRange(A.tileCoord,L,null,U,N)||(R=c.getTileCoordChildTileRange(A.tileCoord,U,N))&&L(f+1,R)}var B=Object.keys(T).map(Number);B.sort(Us.numberSafeCompareFunction);var z,W,G,q,V=new Float32Array(4);for(z=0,W=B.length;z<W;++z)for(G in q=T[B[z]])A=q[G],D=c.getTileCoordExtent(A.tileCoord,N),V[0]=2*(D[2]-D[0])/S,V[1]=2*(D[3]-D[1])/S,V[2]=2*(D[0]-r[0])/S-1,V[3]=2*(D[1]-r[1])/S-1,o.uniform4fv(this.locations_.u_tileOffset,V),i.bindTileTexture(A,d,v*p,Ja.LINEAR,Ja.LINEAR),o.drawArrays(Ja.TRIANGLE_STRIP,0,4);F?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=r,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,f,_);var H=i.getTileTextureQueue();this.manageTilePyramid(t,u,c,p,s,m,f,l.getPreload(),(function(t){t.getState()!=cf||i.isTileTextureLoaded(t)||H.isKeyQueued(t.getKey())||H.enqueue([t,c.getTileCoordCenter(t.tileCoord),c.getResolution(t.tileCoord[0]),d,v*p])}),this),this.scheduleExpireCache(t,u),this.updateLogos(t,u);var X=this.texCoordMatrix;return Ba.reset(X),Ba.translate(X,(Math.round(g[0]/h)*h-r[0])/(r[2]-r[0]),(Math.round(g[1]/h)*h-r[1])/(r[3]-r[1])),0!==a.rotation&&Ba.rotate(X,a.rotation),Ba.scale(X,t.size[0]*a.resolution/(r[2]-r[0]),t.size[1]*a.resolution/(r[3]-r[1])),Ba.translate(X,-.5,-.5),!0},Cp.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.framebuffer){var i=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=Ba.apply(this.texCoordMatrix,i.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?n.call(r,this.getLayer(),l):void 0}};const kp=Cp;var Pp=function(t,e){gp.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=sa.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};go.inherits(Pp,gp),Pp.handles=function(t,e){return t===If&&e.getType()===jl},Pp.create=function(t,e){return new Pp(t,e)},Pp.prototype.composeFrame=function(t,e,n){this.layerState_=e;var r=t.viewState,i=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();i&&!i.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),i.replay(n,r.center,r.resolution,r.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},Pp.prototype.disposeInternal=function(){var t=this.replayGroup_;if(t){var e=this.mapRenderer.getContext();t.getDeleteResourcesFunction(e)(),this.replayGroup_=null}gp.prototype.disposeInternal.call(this)},Pp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),a=e.viewState,s=this.getLayer(),l=this.layerState_,u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a.center,a.resolution,a.rotation,e.size,e.pixelRatio,l.opacity,{},(function(t){var e=go.getUid(t).toString();if(!(e in u))return u[e]=!0,r.call(i,t,s)}))}},Pp.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),r=e.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,i.opacity,e.skippedFeatureUids)}return!1},Pp.prototype.forEachLayerAtPixel=function(t,e,n,r){var i=Ba.apply(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(i,e)?n.call(r,this.getLayer(),null):void 0},Pp.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Pp.prototype.prepareFrame=function(t,e,n){var r=this.getLayer(),i=r.getSource();this.updateLogos(t,i);var o=t.viewHints[Gu],a=t.viewHints[qu],s=r.getUpdateWhileAnimating(),l=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return!0;var u=t.extent,c=t.viewState,f=c.projection,h=c.resolution,d=t.pixelRatio,p=r.getRevision(),y=r.getRenderBuffer(),v=r.getRenderOrder();void 0===v&&(v=sd.defaultOrder);var g=sa.buffer(u,y*h);if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&sa.containsExtent(this.renderedExtent_,g))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var m=new cp(sd.getTolerance(h,d),g,r.getRenderBuffer());i.loadFeatures(g,h,f);var _=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,h):(n=r.getStyleFunction())&&(e=n(t,h)),e){var i=this.renderFeature(t,h,d,e,m);this.dirty_=this.dirty_||i}};if(v){var b=[];i.forEachFeatureInExtent(g,(function(t){b.push(t)}),this),b.sort(v),b.forEach(_,this)}else i.forEachFeatureInExtent(g,_,this);return m.finish(n),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=g,this.replayGroup_=m,!0},Pp.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=r.length-1;a>=0;--a)o=sd.renderFeature(i,t,r[a],sd.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=sd.renderFeature(i,t,r,sd.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;return o};const Tp=Pp;go.ENABLE_CANVAS&&(Af.register(Pf,vh),Af.registerMultiple(Tf,[lh,mh,ud,hd])),go.ENABLE_WEBGL&&(Af.register(Pf,wp),Af.registerMultiple(Tf,[_p,kp,Tp]));var Rp=function(t){(t=xo.assign({},t)).controls||(t.controls=qf.defaults()),t.interactions||(t.interactions=Ac.defaults()),Df.call(this,t)};go.inherits(Rp,Df);const Ap=Rp;var Op=function(t){var e=t||{},n=xo.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,Jl.call(this,n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.renderMode_=e.renderMode||Yf,this.type=jl};go.inherits(Op,Jl),Op.prototype.getDeclutter=function(){return this.declutter_},Op.prototype.setDeclutter=function(t){this.declutter_=t},Op.prototype.getRenderBuffer=function(){return this.renderBuffer_},Op.prototype.getRenderOrder=function(){return this.get(Op.Property_.RENDER_ORDER)},Op.prototype.getSource,Op.prototype.getStyle=function(){return this.style_},Op.prototype.getStyleFunction=function(){return this.styleFunction_},Op.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},Op.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},Op.prototype.setRenderOrder=function(t){this.set(Op.Property_.RENDER_ORDER,t)},Op.prototype.setStyle=function(t){this.style_=void 0!==t?t:Cs.defaultFunction,this.styleFunction_=null===t?void 0:Cs.createFunction(this.style_),this.changed()},Op.prototype.getRenderMode=function(){return this.renderMode_},Op.Property_={RENDER_ORDER:"renderOrder"};const Ip=Op;var Mp={};Mp.DOCUMENT=document.implementation.createDocument("","",null),Mp.createElementNS=function(t,e){return Mp.DOCUMENT.createElementNS(t,e)},Mp.getAllTextContent=function(t,e){return Mp.getAllTextContent_(t,e,[]).join("")},Mp.getAllTextContent_=function(t,e,n){var r;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(r=t.firstChild;r;r=r.nextSibling)Mp.getAllTextContent_(r,e,n);return n},Mp.isDocument=function(t){return t instanceof Document},Mp.isNode=function(t){return t instanceof Node},Mp.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},Mp.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},Mp.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},Mp.makeArrayExtender=function(t,e){return function(n,r){var i=t.call(e,n,r);if(void 0!==i){var o=r[r.length-1];Us.extend(o,i)}}},Mp.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},Mp.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},Mp.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName;(s in a?a[s]:a[s]=[]).push(o)}}},Mp.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},Mp.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},Mp.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=Mp.makeSimpleNodeFactory(e.localName)}Mp.serialize(n,r,i,o)}},Mp.makeSimpleNodeFactory=function(t,e){var n=t;return function(t,r,i){var o=r[r.length-1].node,a=n;void 0===a&&(a=i);var s=e;return void 0===e&&(s=o.namespaceURI),Mp.createElementNS(s,a)}},Mp.OBJECT_PROPERTY_NODE_FACTORY=Mp.makeSimpleNodeFactory(),Mp.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},Mp.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},Mp.parseNode=function(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}},Mp.pushParseAndPop=function(t,e,n,r,i){return r.push(t),Mp.parseNode(e,n,r,i),r.pop()},Mp.serialize=function(t,e,n,r,i,o){for(var a,s,l=(void 0!==i?i:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&void 0!==(s=e.call(o,a,r,void 0!==i?i[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)},Mp.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),Mp.serialize(e,n,r,i,o,a),i.pop()};const Dp=Mp;var Lp={loadFeaturesXhr:function(t,e,n,r){return function(i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,o,a):t,!0),e.getType()==As&&(s.responseType="arraybuffer"),s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i,o=e.getType();o==Os||o==Is?i=s.responseText:o==Ms?(i=s.responseXML)||(i=Dp.parse(s.responseText)):o==As&&(i=s.response),i?n.call(this,e.readFeatures(i,{featureProjection:a}),e.readProjection(i),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),s.onerror=function(){r.call(this)}.bind(this),s.send()}},xhr:function(t,e){return Lp.loadFeaturesXhr(t,e,(function(t,e){this.addFeatures(t)}),go.nullFunction)}};const jp=Lp;const Fp={all:function(t,e){return[[-1/0,-1/0,1/0,1/0]]},bbox:function(t,e){return[t]},tile:function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},Np="addfeature",Up="changefeature",Bp="clear",zp="removefeature";var Wp=function(t){var e=t||{};Eu.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:Zl,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=go.nullFunction,this.format_=e.format,this.overlaps_=null==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(bo.assert(this.format_,7),this.loader_=jp.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:Fp.all;var n,r,i=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=i?new tp:null,this.loadedExtentsRtree_=new tp,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,e.features instanceof Iu?r=(n=e.features).getArray():Array.isArray(e.features)&&(r=e.features),i||void 0!==n||(n=new Iu(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)};go.inherits(Wp,Eu),Wp.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},Wp.prototype.addFeatureInternal=function(t){var e=go.getUid(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Wp.Event(Np,t))}},Wp.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Eo.listen(e,Co,this.handleFeatureChange_,this),Eo.listen(e,Uo,this.handleFeatureChange_,this)]},Wp.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e:(bo.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},Wp.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},Wp.prototype.addFeaturesInternal=function(t){var e,n,r,i,o=[],a=[],s=[];for(n=0,r=t.length;n<r;n++)i=t[n],e=go.getUid(i).toString(),this.addToIndex_(e,i)&&a.push(i);for(n=0,r=a.length;n<r;n++){i=a[n],e=go.getUid(i).toString(),this.setupChangeEvents_(e,i);var l=i.getGeometry();if(l){var u=l.getExtent();o.push(u),s.push(i)}else this.nullGeometryFeatures_[e]=i}for(this.featuresRtree_&&this.featuresRtree_.load(o,s),n=0,r=a.length;n<r;n++)this.dispatchEvent(new Wp.Event(Np,a[n]))},Wp.prototype.bindFeaturesCollection_=function(t){var e=!1;Eo.listen(this,Np,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),Eo.listen(this,zp,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),Eo.listen(t,Ru,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),Eo.listen(t,Au,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},Wp.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Eo.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new Wp.Event(Bp);this.dispatchEvent(r),this.changed()},Wp.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},Wp.prototype.forEachFeatureAtCoordinateDirect=function(t,e,n){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e.call(n,r):void 0}))},Wp.prototype.forEachFeatureInExtent=function(t,e,n){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,n):this.featuresCollection_?this.featuresCollection_.forEach(e,n):void 0},Wp.prototype.forEachFeatureIntersectingExtent=function(t,e,n){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var i=e.call(n,r);if(i)return i}}))},Wp.prototype.getFeaturesCollection=function(){return this.featuresCollection_},Wp.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),xo.isEmpty(this.nullGeometryFeatures_)||Us.extend(t,xo.getValues(this.nullGeometryFeatures_))),t},Wp.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},Wp.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},Wp.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||la.TRUE;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,r,o,a))<u){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},Wp.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},Wp.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},Wp.prototype.getFormat=function(){return this.format_},Wp.prototype.getOverlaps=function(){return this.overlaps_},Wp.prototype.getResolutions=function(){},Wp.prototype.getUrl=function(){return this.url_},Wp.prototype.handleFeatureChange_=function(t){var e=t.target,n=go.getUid(e).toString(),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new Wp.Event(Up,e))},Wp.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&xo.isEmpty(this.nullGeometryFeatures_)},Wp.prototype.loadFeatures=function(t,e,n){var r,i,o=this.loadedExtentsRtree_,a=this.strategy_(t,e);for(r=0,i=a.length;r<i;++r){var s=a[r],l=o.forEachInExtent(s,(function(t){return sa.containsExtent(t.extent,s)}));l||(this.loader_.call(this,s,e,n),o.insert(s,{extent:s.slice()}))}},Wp.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(sa.equals(n.extent,t))return e=n,!0})),e&&n.remove(e)},Wp.prototype.removeFeature=function(t){var e=go.getUid(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},Wp.prototype.removeFeatureInternal=function(t){var e=go.getUid(t).toString();this.featureChangeKeys_[e].forEach(Eo.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new Wp.Event(zp,t))},Wp.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},Wp.prototype.setLoader=function(t){this.loader_=t},Wp.Event=function(t,e){Go.call(this,t),this.feature=e},go.inherits(Wp.Event,Go);const Gp=Wp;function qp(t){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(t)}function Vp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hp(t,e){return Hp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hp(t,e)}function Xp(t,e){if(e&&("object"===qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yp(t)}var Kp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yp(i);if(o){var n=Yp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xp(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).map=void 0,e.mapId="image-player-"+Math.random().toString(16).slice(2),e}return n=s,r=[{key:"styleFunction",value:function(t){this.styles||(this.styles={Polygon:[new Cs({stroke:new Ss({color:"#ffffff",width:4}),fill:new ws({color:"rgba(255,255,255,0)"})}),new Cs({stroke:new Ss({color:"#905050",width:2})})],Point:[new Cs({image:new _s({radius:6,fill:null,stroke:new Ss({color:"#ffffff",width:4})})}),new Cs({image:new _s({radius:6,fill:null,stroke:new Ss({color:"#905050",width:2})})})]});var e=t.getGeometry().getType();return this.styles[e]}},{key:"objectProportioned",value:function(){var t={w:180,h:90},e=this.props.width||180,n=this.props.height||90;return e/2>n?t.h=Math.ceil(180*n/e):t.w=Math.ceil(90*e/n),[-t.w,-t.h,t.w,t.h]}},{key:"zoomToExtent",value:function(t){this.map.getView().fit(t,this.map.getSize())}},{key:"center",value:function(t,e){this.map.getView().setCenter([t,e])}},{key:"zoom",value:function(t){this.map.getView().setZoom(t)}},{key:"hasFeature",value:function(t){return Object.prototype.hasOwnProperty.call(t,"feature")||Object.prototype.hasOwnProperty.call(t,"geometry")||Object.prototype.hasOwnProperty.call(t,"xywh")}},{key:"addVectorLayer",value:function(t,e,n){var r=new Il({dataProjection:e,featureProjection:e}).readFeature(n),i=new Ip({title:"annotation",source:new Gp({features:[r]}),style:this.styleFunction(r)});this.map.addLayer(i);var o=r.getGeometry().getExtent();if(n.zoom){var a=sa.getCenter(o);this.center(a[0],a[1]),this.zoom(n.zoom)}else this.zoomToExtent(e.getExtent())}},{key:"addImageLayer",value:function(t,e,n){var r=new tu({source:new Tu({url:this.props.url,projection:e,imageExtent:n})});this.map.addLayer(r)}},{key:"initializeMap",value:function(){var t=this.objectProportioned(),e=new Ta({units:"pixels",extent:t});this.map=new Ap({interactions:Ac.defaults({mouseWheelZoom:!1}),controls:[],target:this.mapId,view:new Ef({projection:e})}),this.addImageLayer(this.props,e,t);var n=null;if(this.props.annotationData){try{n=JSON.parse(this.props.annotationData)}catch(t){return void console.error("Can't parse image annotation JSON",t)}if(!n)return void console.error("Can't parse image annotation JSON");n.type="Feature"}n&&this.hasFeature(n)?this.addVectorLayer(this.props,e,n):n&&void 0!==n.x?(this.center(n.x,n.y),this.zoom(n.zoom-.5)):this.zoomToExtent(t)}},{key:"shouldComponentUpdate",value:function(t){return void 0===this.map&&!t.hidden||this.props.annotationData!==t.annotationData||this.props.hidden!==t.hidden}},{key:"render",value:function(){var e=this.props.hidden?"none":"block";return t.createElement("div",{id:this.mapId,className:"image-player",style:{display:e}})}},{key:"componentDidUpdate",value:function(){this.map&&(this.map.setTarget(null),delete this.map),this.props.hidden||this.initializeMap()}}],r&&Vp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Kp.propTypes={annotationData:r().string,height:r().number,hidden:r().bool.isRequired,url:r().string.isRequired,width:r().number};var Jp=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return t*=i,e*=i,n*=i,r*=i,[Math.min(t,n),Math.min(e,r),Math.abs(n-t),Math.abs(r-e)]},$p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e&&e.geometry&&e.geometry.coordinates){var o=Jp(e.geometry.coordinates[0][0],e.geometry.coordinates[0][1],e.geometry.coordinates[1][0],e.geometry.coordinates[1][1],.75*n),a=Zp(o,4),s=a[0],l=a[1],u=a[2],c=a[3];return t.rect(u,c).move(s-r,l-i).stroke({color:"#22f",width:2}).fill("none")}console.error("drawAnnotation error: coordinates not present",e)};function ty(t){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(t)}function ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return ny=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ny(t,e)}function ry(t,e){if(e&&("object"===ty(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return iy(t)}function iy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oy(t)}var ay=function(t,e){return t.clientWidth/2-e.width/2},sy=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ny(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oy(i);if(o){var n=oy(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ry(this,t)});function s(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e)).className="jux-media-video",n.players=[],n.mediaPlayerNodes=[],n.pdfViewer=null,n.pdfPageRef=t.createRef(),n.onPDFPageRenderSuccess=n.onPDFPageRenderSuccess.bind(iy(n)),n}return n=s,r=[{key:"componentDidUpdate",value:function(t){this.generatePlayers(t.data)}},{key:"isElementShowing",value:function(t){return this.props.time>=t.start_time&&this.props.time<=t.end_time}},{key:"generatePlayers",value:function(e){var n=this;this.players=[],this.mediaPlayerNodes=[];for(var r=0;r<e.length;r++){var i=e[r],o=this.isElementShowing(i);"img"===i.type?this.players.push(t.createElement(Kp,{key:r,url:i.source,width:i.width,height:i.height,hidden:!o,annotationData:i.annotationData})):"pdf"===i.type?function(){var e=JSON.parse(i.annotationData),a=1;e&&e.geometry&&e.geometry.page&&(a=e.geometry.page||1),n.players.push(t.createElement("div",{key:r,hidden:!o},t.createElement(Ie,{file:i.source},t.createElement("div",{ref:n.pdfPageRef,className:"react-pdf-page-container"},t.createElement(an,{pageNumber:a,height:360,onRenderSuccess:function(t){return n.onPDFPageRenderSuccess(t,e)}})))))}():this.players.push(t.createElement(yo,{ref:function(t){return n.mediaPlayerNodes.push(t)},key:r,data:i,sequenceDuration:this.props.duration,time:this.props.time,hidden:!o,playing:this.props.playing}))}}},{key:"render",value:function(){if(this.props.data.length<1){var e=j(this.props.instructions);return t.createElement("div",{className:"jux-media-display"},t.createElement("div",{className:"help-text"},t.createElement("h2",null,"Place secondary elements"),t.createElement("p",{className:"instructions"},"Click the tracks below to place",t.createElement("br",null),t.createElement("span",{className:"media-track-icon "}),"media and",t.createElement("span",{className:"text-track-icon"}),"text elements.",t.createElement("br",null),t.createElement("br",null),e)))}return t.createElement("div",{className:"jux-media-display"},this.players)}},{key:"seekTo",value:function(t){this.mediaPlayerNodes.forEach((function(e){e&&e.seekTo&&e.seekTo(t)}))}},{key:"refreshPdfAnnotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((t||this.state.selectedAnnotation)&&this.pdfPageRef&&this.pdfPageRef.current){var e=document.querySelector(".jux-media-display");this.pdfLeftMargin=Math.abs(ay(e,this.pdfViewer)),console.log("leftMargin",this.pdfLeftMargin),this.svgDraw.clear(),$p(this.svgDraw,t,this.pdfScale,-this.pdfLeftMargin,0)}}},{key:"onPDFPageRenderSuccess",value:function(t,e){console.log("onPDFPageRenderSuccess",t,e),this.pdfViewer=t;var n=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfScale=t.width/t.getViewport({scale:1}).width,this.svgDraw=to().addTo(n),this.refreshPdfAnnotation(e)}}],r&&ey(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);sy.propTypes={data:r().array.isRequired,duration:r().number,instructions:r().string.isRequired,playing:r().bool.isRequired,time:r().number};var ly=__webpack_require__(4184),uy=__webpack_require__.n(ly);const cy=!("undefined"==typeof window||!window.document||!window.document.createElement);var fy=!1,hy=!1;try{var dy={get passive(){return fy=!0},get once(){return hy=fy=!0}};cy&&(window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,!0))}catch(t){}const py=function(t,e,n,r){if(r&&"boolean"!=typeof r&&!hy){var i=r.once,o=r.capture,a=n;!hy&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,fy?r:o)}t.addEventListener(e,n,r)};function yy(t){return t&&t.ownerDocument||document}const vy=function(t,e,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var gy;function my(t){if((!gy&&0!==gy||t)&&cy){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),gy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return gy}function _y(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function by(e){var n,r,i=(n=e,(r=(0,t.useRef)(n)).current=n,r);(0,t.useEffect)((function(){return function(){return i.current()}}),[])}var wy=/([A-Z])/g,xy=/^ms-/;function Sy(t){return function(t){return t.replace(wy,"-$1").toLowerCase()}(t).replace(xy,"-ms-")}var Ey=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Cy=function(t,e){var n="",r="";if("string"==typeof e)return t.style.getPropertyValue(Sy(e))||function(t,e){return function(t){var e=yy(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(Sy(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?function(t){return!(!t||!Ey.test(t))}(i)?r+=i+"("+o+") ":n+=Sy(i)+": "+o+";":t.style.removeProperty(Sy(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n},ky=function(t,e,n,r){return py(t,e,n,r),function(){vy(t,e,n,r)}};function Py(t,e,n,r){var i,o;null==n&&(o=-1===(i=Cy(t,"transitionDuration")||"").indexOf("ms")?1e3:1,n=parseFloat(i)*o||0);var a=function(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent("transitionend",n,r),t.dispatchEvent(i)}}(t,0,!0)}),e+n),o=ky(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}(t,n,r),s=ky(t,"transitionend",e);return function(){a(),s()}}function Ty(t){void 0===t&&(t=yy());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Ry(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function Ay(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Oy(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Iy(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=Oy(t.className,e):t.setAttribute("class",Oy(t.className&&t.className.baseVal||"",e))}function My(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function Dy(t){var e;return My(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=My(t)?yy():yy(t),n=My(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}(t):t.scrollHeight>t.clientHeight}var Ly=["template","script","style"],jy=function(t,e,n){[].forEach.call(t.children,(function(t){var r,i,o;-1===e.indexOf(t)&&(i=(r=t).nodeType,o=r.tagName,1===i&&-1===Ly.indexOf(o.toLowerCase()))&&n(t)}))};function Fy(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}var Ny=function(){function t(t){var e=void 0===t?{}:t,n=e.hideSiblingNodes,r=void 0===n||n,i=e.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=my()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(t,e){return!!n(t)&&(r=e,!0)})),r;var e,n,r},e.setContainerStyle=function(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt(Cy(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Cy(e,n)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,n){var r=this.modals.indexOf(t),i=this.containers.indexOf(e);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;jy(t,[n,r],(function(t){return Fy(!0,t)}))}(e,t),-1!==i)return this.data[i].modals.push(t),r;var o={modals:[t],classes:n?n.split(/\s+/):[],overflowing:Dy(e)};return this.handleContainerOverflow&&this.setContainerStyle(o,e),o.classes.forEach(Ay.bind(null,e)),this.containers.push(e),this.data.push(o),r},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=this.containerIndexFromModal(t),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.classes.forEach(Iy.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;jy(t,[n,r],(function(t){return Fy(!1,t)}))}(i,t),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],a=o.backdrop;Fy(!1,o.dialog),Fy(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();const Uy=Ny;var By,zy=function(t){var e;return"undefined"==typeof document?null:null==t?yy().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(e=t)&&e.nodeType&&t||null)};var Wy=(0,t.forwardRef)((function(n,r){var i=n.show,o=void 0!==i&&i,a=n.role,s=void 0===a?"dialog":a,l=n.className,u=n.style,c=n.children,f=n.backdrop,h=void 0===f||f,d=n.keyboard,p=void 0===d||d,y=n.onBackdropClick,v=n.onEscapeKeyDown,g=n.transition,m=n.backdropTransition,_=n.autoFocus,b=void 0===_||_,w=n.enforceFocus,x=void 0===w||w,S=n.restoreFocus,E=void 0===S||S,C=n.restoreFocusOptions,k=n.renderDialog,P=n.renderBackdrop,T=void 0===P?function(e){return t.createElement("div",e)}:P,R=n.manager,A=n.container,O=n.containerClassName,I=n.onShow,M=n.onHide,D=void 0===M?function(){}:M,L=n.onExit,j=n.onExited,F=n.onExiting,N=n.onEnter,U=n.onEntering,B=n.onEntered,z=kt(n,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),W=function(e,n){var r=(0,t.useState)((function(){return zy(e)})),i=r[0],o=r[1];if(!i){var a=zy(e);a&&o(a)}return(0,t.useEffect)((function(){}),[n,i]),(0,t.useEffect)((function(){var t=zy(e);t!==i&&o(t)}),[e,i]),i}(A),G=function(e){var n=e||(By||(By=new Uy),By),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(t,e){return n.add(r.current,t,e)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(t){r.current.dialog=t}),[]),setBackdropRef:(0,t.useCallback)((function(t){r.current.backdrop=t}),[])})}(R),q=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}(),V=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(o),H=(0,t.useState)(!o),X=H[0],Y=H[1],K=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,(function(){return G}),[G]),cy&&!V&&o&&(K.current=Ty()),g||o||X?o&&X&&Y(!1):Y(!0);var Z=_y((function(){if(G.add(W,O),nt.current=ky(document,"keydown",tt),et.current=ky(document,"focus",(function(){return setTimeout(J)}),!0),I&&I(),b){var t=Ty(document);G.dialog&&t&&!Ry(G.dialog,t)&&(K.current=t,G.dialog.focus())}})),Q=_y((function(){var t;G.remove(),null==nt.current||nt.current(),null==et.current||et.current(),E&&(null==(t=K.current)||null==t.focus||t.focus(C),K.current=null)}));(0,t.useEffect)((function(){o&&W&&Z()}),[o,W,Z]),(0,t.useEffect)((function(){X&&Q()}),[X,Q]),by((function(){Q()}));var J=_y((function(){if(x&&q()&&G.isTopModal()){var t=Ty();G.dialog&&t&&!Ry(G.dialog,t)&&G.dialog.focus()}})),$=_y((function(t){t.target===t.currentTarget&&(null==y||y(t),!0===h&&D())})),tt=_y((function(t){p&&27===t.keyCode&&G.isTopModal()&&(null==v||v(t),t.defaultPrevented||D())})),et=(0,t.useRef)(),nt=(0,t.useRef)(),rt=g;if(!W||!(o||rt&&!X))return null;var it=Ct({role:s,ref:G.setDialogRef,"aria-modal":"dialog"===s||void 0},z,{style:u,className:l,tabIndex:-1}),ot=k?k(it):t.createElement("div",it,t.cloneElement(c,{role:"document"}));rt&&(ot=t.createElement(rt,{appear:!0,unmountOnExit:!0,in:!!o,onExit:L,onExiting:F,onExited:function(){Y(!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];null==j||j.apply(void 0,e)},onEnter:N,onEntering:U,onEntered:B},ot));var at=null;if(h){var st=m;at=T({ref:G.setBackdropRef,onClick:$}),st&&(at=t.createElement(st,{appear:!0,in:!!o},at))}return t.createElement(t.Fragment,null,e.createPortal(t.createElement(t.Fragment,null,at,ot),W))})),Gy={show:r().bool,container:r().any,onShow:r().func,onHide:r().func,backdrop:r().oneOfType([r().bool,r().oneOf(["static"])]),renderDialog:r().func,renderBackdrop:r().func,onEscapeKeyDown:r().func,onBackdropClick:r().func,containerClassName:r().string,keyboard:r().bool,transition:r().elementType,backdropTransition:r().elementType,autoFocus:r().bool,enforceFocus:r().bool,restoreFocus:r().bool,restoreFocusOptions:r().shape({preventScroll:r().bool}),onEnter:r().func,onEntering:r().func,onEntered:r().func,onExit:r().func,onExiting:r().func,onExited:r().func,manager:r().instanceOf(Uy)};Wy.displayName="Modal",Wy.propTypes=Gy;const qy=Object.assign(Wy,{Manager:Uy});function Vy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mt(t,e)}__webpack_require__(2473);var Hy=Function.prototype.bind.call(Function.prototype.call,[].slice);function Xy(t,e){return Hy(t.querySelectorAll(e))}var Yy=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ky=".sticky-top",Zy=".navbar-toggler",Qy=function(t){function e(){return t.apply(this,arguments)||this}Vy(e,t);var n=e.prototype;return n.adjustAndStore=function(t,e,n){var r,i=e.style[t];e.dataset[t]=i,Cy(e,((r={})[t]=parseFloat(Cy(e,t))+n+"px",r))},n.restore=function(t,e){var n,r=e.dataset[t];void 0!==r&&(delete e.dataset[t],Cy(e,((n={})[t]=r,n)))},n.setContainerStyle=function(e,n){var r=this;if(t.prototype.setContainerStyle.call(this,e,n),e.overflowing){var i=my();Xy(n,Yy).forEach((function(t){return r.adjustAndStore("paddingRight",t,i)})),Xy(n,Ky).forEach((function(t){return r.adjustAndStore("marginRight",t,-i)})),Xy(n,Zy).forEach((function(t){return r.adjustAndStore("marginRight",t,i)}))}},n.removeContainerStyle=function(e,n){var r=this;t.prototype.removeContainerStyle.call(this,e,n),Xy(n,Yy).forEach((function(t){return r.restore("paddingRight",t)})),Xy(n,Ky).forEach((function(t){return r.restore("marginRight",t)})),Xy(n,Zy).forEach((function(t){return r.restore("marginRight",t)}))},e}(Uy);const Jy=t.createContext(null);var $y="unmounted",tv="exited",ev="entering",nv="entered",rv="exiting",iv=function(n){function r(t,e){var r;r=n.call(this,t,e)||this;var i,o=e&&!e.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=tv,r.appearStatus=ev):i=nv:i=t.unmountOnExit||t.mountOnEnter?$y:tv,r.state={status:i},r.nextCallback=null,r}Vy(r,n),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===$y?{status:tv}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==ev&&n!==nv&&(e=ev):n!==ev&&n!==nv||(e=rv)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===ev?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===tv&&this.setState({status:$y})},i.performEnter=function(t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[e.findDOMNode(this),i],a=o[0],s=o[1],l=this.getTimeouts(),u=i?l.appear:l.enter;t||r?(this.props.onEnter(a,s),this.safeSetState({status:ev},(function(){n.props.onEntering(a,s),n.onTransitionEnd(u,(function(){n.safeSetState({status:nv},(function(){n.props.onEntered(a,s)}))}))}))):this.safeSetState({status:nv},(function(){n.props.onEntered(a)}))},i.performExit=function(){var t=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:e.findDOMNode(this);n?(this.props.onExit(i),this.safeSetState({status:rv},(function(){t.props.onExiting(i),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:tv},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:tv},(function(){t.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:e.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===$y)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,kt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Jy.Provider,{value:null},"function"==typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},r}(t.Component);function ov(){}iv.contextType=Jy,iv.propTypes={},iv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ov,onEntering:ov,onEntered:ov,onExit:ov,onExiting:ov,onExited:ov},iv.UNMOUNTED=$y,iv.EXITED=tv,iv.ENTERING=ev,iv.ENTERED=nv,iv.EXITING=rv;const av=iv;function sv(t,e){var n=Cy(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function lv(t,e){var n=sv(t,"transitionDuration"),r=sv(t,"transitionDelay"),i=Py(t,(function(n){n.target===t&&(i(),e(n))}),n+r)}var uv,cv=["className","children"],fv=((uv={}).entering="show",uv.entered="show",uv),hv=t.forwardRef((function(e,n){var r=e.className,i=e.children,o=kt(e,cv),a=(0,t.useCallback)((function(t){!function(t){t.offsetHeight}(t),o.onEnter&&o.onEnter(t)}),[o]);return t.createElement(av,Ct({ref:n,addEndListener:lv},o,{onEnter:a}),(function(e,n){return t.cloneElement(i,Ct({},n,{className:uy()("fade",r,i.props.className,fv[e])}))}))}));hv.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},hv.displayName="Fade";const dv=hv;var pv=/-(.)/g,yv=t.createContext({});function vv(e,n){var r=(0,t.useContext)(yv);return e||r[n]||n}yv.Consumer,yv.Provider;var gv=["className","bsPrefix","as"];function mv(e,n){var r,i=void 0===n?{}:n,o=i.displayName,a=void 0===o?(r=e)[0].toUpperCase()+function(t){return t.replace(pv,(function(t,e){return e.toUpperCase()}))}(r).slice(1):o,s=i.Component,l=i.defaultProps,u=t.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,a=n.as,l=void 0===a?s||"div":a,u=kt(n,gv),c=vv(o,e);return t.createElement(l,Ct({ref:r,className:uy()(i,c)},u))}));return u.defaultProps=l,u.displayName=a,u}const _v=mv("modal-body"),bv=t.createContext({onHide:function(){}});var wv=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],xv=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.contentClassName,a=e.centered,s=e.size,l=e.children,u=e.scrollable,c=kt(e,wv),f=(r=vv(r,"modal"))+"-dialog";return t.createElement("div",Ct({},c,{ref:n,className:uy()(f,i,s&&r+"-"+s,a&&f+"-centered",u&&f+"-scrollable")}),t.createElement("div",{className:uy()(r+"-content",o)},l))}));xv.displayName="ModalDialog";const Sv=xv,Ev=mv("modal-footer");var Cv=["label","onClick","className"],kv={label:r().string.isRequired,onClick:r().func},Pv=t.forwardRef((function(e,n){var r=e.label,i=e.onClick,o=e.className,a=kt(e,Cv);return t.createElement("button",Ct({ref:n,type:"button",className:uy()("close",o),onClick:i},a),t.createElement("span",{"aria-hidden":"true"},"×"),t.createElement("span",{className:"sr-only"},r))}));Pv.displayName="CloseButton",Pv.propTypes=kv,Pv.defaultProps={label:"Close"};const Tv=Pv;var Rv=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Av=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.closeLabel,o=e.closeButton,a=e.onHide,s=e.className,l=e.children,u=kt(e,Rv);r=vv(r,"modal-header");var c=(0,t.useContext)(bv),f=_y((function(){c&&c.onHide(),a&&a()}));return t.createElement("div",Ct({ref:n},u,{className:uy()(s,r)}),l,o&&t.createElement(Tv,{label:i,onClick:f}))}));Av.displayName="ModalHeader",Av.defaultProps={closeLabel:"Close",closeButton:!1};const Ov=Av;const Iv=mv("modal-title",{Component:("h4",t.forwardRef((function(e,n){return t.createElement("div",Ct({},e,{ref:n,className:uy()(e.className,"h4")}))})))});var Mv,Dv=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Lv={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Sv};function jv(e){return t.createElement(dv,Ct({},e,{timeout:null}))}function Fv(e){return t.createElement(dv,Ct({},e,{timeout:null}))}var Nv=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.style,a=e.dialogClassName,s=e.contentClassName,l=e.children,u=e.dialogAs,c=e["aria-labelledby"],f=e.show,h=e.animation,d=e.backdrop,p=e.keyboard,y=e.onEscapeKeyDown,v=e.onShow,g=e.onHide,m=e.container,_=e.autoFocus,b=e.enforceFocus,w=e.restoreFocus,x=e.restoreFocusOptions,S=e.onEntered,E=e.onExit,C=e.onExiting,k=e.onEnter,P=e.onEntering,T=e.onExited,R=e.backdropClassName,A=e.manager,O=kt(e,Dv),I=(0,t.useState)({}),M=I[0],D=I[1],L=(0,t.useState)(!1),j=L[0],F=L[1],N=(0,t.useRef)(!1),U=(0,t.useRef)(!1),B=(0,t.useRef)(null),z=(0,t.useState)(null),W=z[0],G=z[1],q=_y(g);r=vv(r,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return W}}}),[W]);var V=(0,t.useMemo)((function(){return{onHide:q}}),[q]);function H(){return A||(Mv||(Mv=new Qy),Mv)}function X(t){if(cy){var e=H().isContainerOverflowing(W),n=t.scrollHeight>yy(t).documentElement.clientHeight;D({paddingRight:e&&!n?my():void 0,paddingLeft:!e&&n?my():void 0})}}var Y=_y((function(){W&&X(W.dialog)}));by((function(){vy(window,"resize",Y),B.current&&B.current()}));var K=function(){N.current=!0},Z=function(t){N.current&&W&&t.target===W.dialog&&(U.current=!0),N.current=!1},Q=function(){F(!0),B.current=Py(W.dialog,(function(){F(!1)}))},J=function(t){"static"!==d?U.current||t.target!==t.currentTarget?U.current=!1:null==g||g():function(t){t.target===t.currentTarget&&Q()}(t)},$=(0,t.useCallback)((function(e){return t.createElement("div",Ct({},e,{className:uy()(r+"-backdrop",R,!h&&"show")}))}),[h,R,r]),tt=Ct({},o,M);return h||(tt.display="block"),t.createElement(bv.Provider,{value:V},t.createElement(qy,{show:f,ref:G,backdrop:d,container:m,keyboard:!0,autoFocus:_,enforceFocus:b,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:function(t){p||"static"!==d?p&&y&&y(t):(t.preventDefault(),Q())},onShow:v,onHide:g,onEnter:function(t,e){t&&(t.style.display="block",X(t)),null==k||k(t,e)},onEntering:function(t,e){null==P||P(t,e),py(window,"resize",Y)},onEntered:S,onExit:function(t){null==B.current||B.current(),null==E||E(t)},onExiting:C,onExited:function(t){t&&(t.style.display=""),null==T||T(t),vy(window,"resize",Y)},manager:H(),containerClassName:r+"-open",transition:h?jv:void 0,backdropTransition:h?Fv:void 0,renderBackdrop:$,renderDialog:function(e){return t.createElement("div",Ct({role:"dialog"},e,{style:tt,className:uy()(i,r,j&&r+"-static"),onClick:d?J:void 0,onMouseUp:Z,"aria-labelledby":c}),t.createElement(u,Ct({},O,{onMouseDown:K,className:a,contentClassName:s}),l))}}))}));Nv.displayName="Modal",Nv.defaultProps=Lv,Nv.Body=_v,Nv.Header=Ov,Nv.Title=Iv,Nv.Footer=Ev,Nv.Dialog=Sv,Nv.TRANSITION_DURATION=300,Nv.BACKDROP_TRANSITION_DURATION=150;const Uv=Nv;function Bv(t){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(t)}function zv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(t,e){return Gv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gv(t,e)}function qv(t,e){if(e&&("object"===Bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vv(t)}var Hv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vv(i);if(o){var n=Vv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qv(this,t)});function s(){return zv(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Uv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Uv.Header,{closeButton:!0},t.createElement(Uv.Title,null,"Warning")),t.createElement(Uv.Body,null,"Using this selection as the primary video may cause some track elements to be removed."),t.createElement(Uv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Update sequence")))}}])&&Wv(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Xv(t){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(t)}function Yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zv(t,e){return Zv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zv(t,e)}function Qv(t,e){if(e&&("object"===Xv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jv(t)}Hv.propTypes={onCloseClick:r().func.isRequired,onConfirmClick:r().func.isRequired,showing:r().bool.isRequired};var $v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jv(i);if(o){var n=Jv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qv(this,t)});function s(){return Yv(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Uv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Uv.Header,{closeButton:!0},t.createElement(Uv.Title,null,"Add Primary Media")),t.createElement(Uv.Body,null,"You must add a primary video before adding secondary elements."),t.createElement(Uv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onCloseClick},"Close")))}}])&&Kv(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function tg(t){return tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(t)}function eg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ng(t,e){return ng=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ng(t,e)}function rg(t,e){if(e&&("object"===tg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ig(t)}$v.propTypes={onCloseClick:r().func.isRequired,showing:r().bool.isRequired};var og=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ng(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ig(i);if(o){var n=ig(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rg(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={value:""},e}return n=s,(r=[{key:"onSubmit",value:function(t){t.preventDefault(),this.props.onSubmit(this.state.value,this.props.timestamp),this.setState({value:""})}},{key:"onTextChange",value:function(t){this.setState({value:t.target.value})}},{key:"close",value:function(){this.props.onCloseClick()}},{key:"render",value:function(){return t.createElement(Uv,{show:this.props.showing,autoFocus:!1,onHide:this.close.bind(this)},t.createElement(Uv.Header,{closeButton:!0},t.createElement(Uv.Title,null,"Add text annotation")),t.createElement(Uv.Body,null,t.createElement("form",{onSubmit:this.onSubmit.bind(this)},t.createElement("textarea",{className:"form-control",maxLength:140,onChange:this.onTextChange.bind(this),value:this.state.value}),t.createElement("div",{className:"helptext"},"140 character limit"),t.createElement("br",null),t.createElement("button",{className:"btn btn-primary right",type:"submit"},"Submit"))))}}])&&eg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function ag(t){return ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(t)}function sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lg(t,e){return lg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lg(t,e)}function ug(t,e){if(e&&("object"===ag(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cg(t)}og.propTypes={onCloseClick:r().func.isRequired,onSubmit:r().func.isRequired,showing:r().bool.isRequired,timestamp:r().number};var fg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cg(i);if(o){var n=cg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ug(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).type="txt",e.state={adding:!1,timecode:0},e.helpText="Click on this track to place text elements",e}return n=s,(r=[{key:"renderItemAdder",value:function(){return t.createElement(og,{showing:this.state.adding,onCloseClick:this.closeItemAdder.bind(this),onSubmit:this.onTrackElementAdd.bind(this)})}},{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?this.setState({adding:!0,timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"onTrackElementAdd",value:function(t){this.closeItemAdder(),this.props.onTrackElementAdd(t,this.state.timecode)}}])&&sg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(vt);function hg(t){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(t)}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vg(t,e){return vg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vg(t,e)}function gg(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mg(t)}var _g=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mg(i);if(o){var n=mg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gg(this,t)});function s(){return pg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"shouldDisplay",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i.source}}catch(t){r.e(t)}finally{r.f()}return""}},{key:"render",value:function(){var e=this.shouldDisplay(this.props.data,this.props.time);return t.createElement("div",{className:"jux-text-display-container"},t.createElement("div",{className:"jux-text-display"},e))}}])&&yg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function bg(t){return bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(t)}function wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sg(t,e){return Sg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sg(t,e)}function Eg(t,e){if(e&&("object"===bg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cg(t)}_g.propTypes={data:r().array.isRequired,time:r().number};var kg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cg(i);if(o){var n=Cg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Eg(this,t)});function s(){return wg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"generateTick",value:function(e,n,r){var i={left:e+"%"};return r&&(i={right:0}),[t.createElement("div",{key:n+"-label",className:"jux-timeline-ticklabel",style:i},P(n)),t.createElement("div",{key:n,className:"jux-timeline-tick",style:{left:e+"%"}})]}},{key:"generateTicks",value:function(t){var e=30;t>300&&t<=900?e=60:t>900&&t<=1800?e=120:t>1800&&(e=10*Math.round(.15*t/10));for(var n=[],r=0;r<t-.08*t;r+=e){var i=r/t*100;n.push([i,r])}return n.push([100,t]),n}},{key:"generateTicksElements",value:function(t){var e=this,n=this.generateTicks(t),r=[];return n.forEach((function(t,i){r.push(e.generateTick(t[0],t[1],i===n.length-1))})),r}},{key:"render",value:function(){var e=this.generateTicksElements(this.props.duration),n=this.props.hovering?"jux-timeline-ruler hover":"jux-timeline-ruler";return t.createElement("div",{className:n},t.createElement("div",{className:"jux-timeline-hline"}),e)}}])&&xg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Pg(t){return Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(t)}function Tg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ag(t,e)}function Og(t,e){if(e&&("object"===Pg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ig(t)}kg.propTypes={duration:r().number,hovering:r().bool.isRequired};var Mg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ag(t,e)}(l,e);var n,r,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ig(i);if(a){var n=Ig(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Og(this,t)});function l(){return Tg(this,l),s.apply(this,arguments)}return n=l,(r=[{key:"render",value:function(){var e=this;return t.createElement("div",{className:"jux-timecode-editor"},t.createElement("input",{ref:function(t){return e._spinner=t},min:this.props.min,required:!0,defaultValue:P(this.props.timecode)}))}},{key:"componentDidUpdate",value:function(t){k(this._spinner.value)!==t.timecode&&(this._spinner.value=P(t.timecode))}},{key:"componentDidMount",value:function(){var t=this;jQuery(this._spinner).timecodespinner({change:function(e){var n=k(e.target.value);o()(n)&&t.props.onChange(n),t.props.timecode!==t._spinner.value&&(t._spinner.value=P(t.props.timecode))},spin:function(e,n){var r=n.value/100;if(o()(r)&&t.props.onChange(r),t.props.timecode!==t._spinner.value)return t._spinner.value=P(t.props.timecode),!1}})}},{key:"componentWillUnmount",value:function(){jQuery(this._spinner).timecodespinner("destroy")}}])&&Rg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function Dg(t){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(t)}function Lg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fg(t,e){return Fg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fg(t,e)}function Ng(t,e){if(e&&("object"===Dg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ug(t)}Mg.propTypes={min:r().number.isRequired,onChange:r().func.isRequired,timecode:r().number.isRequired};var Bg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ug(i);if(o){var n=Ug(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ng(this,t)});function s(){return Lg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Uv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Uv.Header,{closeButton:!0},t.createElement(Uv.Title,null,"Confirm Delete")),t.createElement(Uv.Body,null,"Are you sure you want to delete this element?"),t.createElement(Uv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Delete Element")))}}])&&jg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function zg(t){return zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(t)}function Wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gg(t,e){return Gg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gg(t,e)}function qg(t,e){if(e&&("object"===zg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vg(t)}Bg.propTypes={onCloseClick:r().func.isRequired,onConfirmClick:r().func.isRequired,showing:r().bool.isRequired};var Hg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vg(i);if(o){var n=Vg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qg(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={showDeleteElementModal:!1},e.debouncedDisplayUpdatedTextNotice=ro()(e.displayUpdatedTextNotice,1e3),e}return n=s,r=[{key:"render",value:function(){var e=this.props.activeElement;if(e){var n="txt"===e.type,r=e.end_time-e.start_time,i="";return"vid"===e.type&&(i=t.createElement("div",{className:"form-group"},t.createElement("label",null,"Volume  ",e.volume,t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",value:e.volume,onChange:this.onVolumeChange.bind(this)})))),t.createElement("div",{className:"jux-track-container jux-track-element-manager"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-md-1 float-left"},t.createElement("svg",{width:"3em",height:"3em",viewBox:"0 0 16 16",className:"bi bi-arrows-move",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.5 8a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1H6a.5.5 0 0 0 .5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M3.854 5.646a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L2.207 8l1.647-1.646a.5.5 0 0 0 0-.708zM9.5 8a.5.5 0 0 1 .5-.5h4.5a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 5.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L13.793 8l-1.647-1.646a.5.5 0 0 1 0-.708zM8 9.5a.5.5 0 0 0-.5.5v4.5a.5.5 0 0 0 1 0V10a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 12.146a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8 13.793l-1.646-1.647a.5.5 0 0 0-.708 0zM8 6.5a.5.5 0 0 1-.5-.5V1.5a.5.5 0 0 1 1 0V6a.5.5 0 0 1-.5.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 3.854a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8 2.207 6.354 3.854a.5.5 0 0 1-.708 0z"}))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Start ",t.createElement("br",null),P(e.start_time)),t.createElement("br",null),t.createElement(Mg,{min:0,timecode:e.start_time,onChange:this.onStartTimeChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS"))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Duration  ",P(r)),t.createElement("br",null),t.createElement(Mg,{min:100,timecode:e.end_time-e.start_time,onChange:this.onDurationChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS")),i),t.createElement("div",{className:"col"},t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"content",className:"small"},"Content"),t.createElement("br",null),t.createElement("textarea",{style:{display:n?"block":"none"},className:"form-control",id:"content",value:e.source,maxLength:140,onChange:this.onTextChange.bind(this)}),t.createElement("div",{style:{display:n?"block":"none"},className:"helptext float-left"},"140 character limit"),t.createElement("div",{className:"float-right jux-updated-text small"},"Updated"),t.createElement("button",{style:{display:n?"none":"block"},className:"jux-edit-track-element btn btn-outline-secondary btn-sm",title:"Edit Element",onClick:this.onEditClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))," Edit Selection"))),t.createElement("div",{className:"col float-right"},t.createElement("button",{className:"jux-remove-track-element btn btn-secondary btn-danger float-right",title:"Delete element",onClick:this.onDeleteClick.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),t.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))))),t.createElement(Bg,{showing:this.state.showDeleteElementModal,onCloseClick:this.onDeleteCloseClick.bind(this),onConfirmClick:this.onDeleteConfirmClick.bind(this)}),t.createElement("div",{className:"clearfix"}))}return t.createElement("div",null)}},{key:"onVolumeChange",value:function(t){this.props.onChange(this.props.activeElement,{volume:parseInt(t.target.value,10)})}},{key:"displayUpdatedTextNotice",value:function(){jQuery(".jux-updated-text").show(0,(function(){setTimeout((function(){jQuery(".jux-updated-text").fadeOut("slow")}),1e3)}))}},{key:"onTextChange",value:function(t){this.props.onChange(this.props.activeElement,{source:t.target.value}),this.debouncedDisplayUpdatedTextNotice()}},{key:"onDeleteClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.setState({showDeleteElementModal:!0})}},{key:"onDeleteCloseClick",value:function(){this.setState({showDeleteElementModal:!1})}},{key:"onDeleteConfirmClick",value:function(){this.props.onDeleteClick(),this.setState({showDeleteElementModal:!1})}},{key:"onEditClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.props.onEditClick()}},{key:"onStartTimeChange",value:function(t){var e=this.props.activeElement.end_time+(t-this.props.activeElement.start_time);this.props.onChange(this.props.activeElement,{start_time:t,end_time:e})}},{key:"onDurationChange",value:function(t){var e=this.props.activeElement.start_time+t;this.props.onChange(this.props.activeElement,{end_time:e})}}],r&&Wg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Xg(t){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(t)}function Yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zg(t,e){return Zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zg(t,e)}function Qg(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jg(t)}Hg.propTypes={activeElement:r().object,onChange:r().func.isRequired,onDeleteClick:r().func.isRequired,onEditClick:r().func.isRequired};var $g=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jg(i);if(o){var n=Jg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Qg(this,t)});function s(){return Yg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){return t.createElement("button",{className:"jux-play","aria-label":"play",onClick:this.onClick.bind(this)},this.props.playing?t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pause-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"})):t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-play-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})))}}])&&Kg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function tm(t){return tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(t)}function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rm(t,e){return rm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rm(t,e)}function im(t,e){if(e&&("object"===tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},om(t)}$g.propTypes={onClick:r().func.isRequired,playing:r().bool.isRequired};var am=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rm(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=om(i);if(o){var n=om(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return im(this,t)});function s(){return em(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){var e=!1;0===this.props.time&&(e=!0);var n=e?"jux-rewind disabled":"jux-rewind";return t.createElement("button",{className:n,disabled:e,"aria-label":"rewind",onClick:this.onClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-skip-start-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M4.5 3.5A.5.5 0 0 0 4 4v8a.5.5 0 0 0 1 0V4a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{d:"M4.903 8.697l6.364 3.692c.54.313 1.232-.066 1.232-.697V4.308c0-.63-.692-1.01-1.232-.696L4.903 7.304a.802.802 0 0 0 0 1.393z"})))}}])&&nm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function sm(t){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(t)}function lm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function um(t,e){return um=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},um(t,e)}function cm(t,e){if(e&&("object"===sm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fm(t)}am.propTypes={onClick:r().func.isRequired,time:r().number.isRequired};var hm=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&um(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fm(i);if(o){var n=fm(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return cm(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).trackWidth=915,e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.duration)return t.createElement("div",{className:"jux-playhead-container"},t.createElement("div",{className:"jux-playhead-line",style:{opacity:0}}));var n=0;0!==this.props.duration&&(n=this.props.currentTime/this.props.duration);var r={left:this.trackWidth*n+7+"px"};return t.createElement("div",{className:"jux-playhead-container"},t.createElement("input",{type:"range",min:"0",max:"1000","aria-label":"range",ref:function(t){return e.el=t},onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,value:1e3*n}),t.createElement("div",{className:"jux-playhead-line",style:r}))}}])&&lm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function dm(t){return dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(t)}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ym(t,e){return ym=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ym(t,e)}function vm(t,e){if(e&&("object"===dm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gm(t)}hm.propTypes={currentTime:r().number,duration:r().number,onChange:r().func.isRequired,onMouseDown:r().func.isRequired,onMouseUp:r().func.isRequired,onMouseEnter:r().func.isRequired,onMouseLeave:r().func.isRequired};var mm=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ym(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gm(i);if(o){var n=gm(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vm(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).id="jux-spine-video",e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.spineVid){var n=j(this.props.instructions);return t.createElement("div",{className:"jux-spine-display"},t.createElement("div",{className:"help-text"},t.createElement("button",{className:"add-spine","aria-label":"add primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-plus-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4a.5.5 0 0 0-1 0v3.5H4a.5.5 0 0 0 0 1h3.5V12a.5.5 0 0 0 1 0V8.5H12a.5.5 0 0 0 0-1H8.5V4z"}))),t.createElement("h2",{onClick:this.onClickReviseSpine},"Add a primary video"),t.createElement("p",{className:"instructions"},n)))}var r;r="youtube"===this.props.spineVid.host?"https://www.youtube.com/watch?v="+this.props.spineVid.url:this.props.spineVid.url;var i=80;this.props.spineVid&&(i=this.props.spineVid.volume);var o="";if(!this.props.readOnly){var a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-up",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM6 5.04L4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96V5.04z"}),t.createElement("path",{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}),t.createElement("path",{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}),t.createElement("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707z"}));0===i?a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-off",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M10.717 3.55A.5.5 0 0 1 11 4v8a.5.5 0 0 1-.812.39L7.825 10.5H5.5A.5.5 0 0 1 5 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM10 5.04L8.312 6.39A.5.5 0 0 1 8 6.5H6v3h2a.5.5 0 0 1 .312.11L10 10.96V5.04z"})):i<=50&&(a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M8.717 3.55A.5.5 0 0 1 9 4v8a.5.5 0 0 1-.812.39L5.825 10.5H3.5A.5.5 0 0 1 3 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM8 5.04L6.312 6.39A.5.5 0 0 1 6 6.5H4v3h2a.5.5 0 0 1 .312.11L8 10.96V5.04z"}),t.createElement("path",{d:"M10.707 11.182A4.486 4.486 0 0 0 12.025 8a4.486 4.486 0 0 0-1.318-3.182L10 5.525A3.489 3.489 0 0 1 11.025 8c0 .966-.392 1.841-1.025 2.475l.707.707z"}))),o=t.createElement("div",{className:"jux-spine-controls"},t.createElement("button",{className:"btn btn-default jux-spine-revise",title:"Revise primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-repeat",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"}),t.createElement("path",{fillRule:"evenodd",d:"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"}))),t.createElement("button",{className:"btn btn-default jux-spine-edit",title:"Edit primary video",onClick:this.onClickEditSpine.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))),t.createElement("button",{className:"btn btn-default jux-spine-vol-display",title:"Toggle volume",onClick:this.onVolumeToggle.bind(this)},a),t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",className:"jux-spine-vol-input",value:i,onChange:this.onVolumeChange.bind(this)}))}var s=this.props.spineVid.volume/100;return t.createElement("div",{className:"jux-spine-display"},t.createElement(eo.Z,{id:this.id,ref:function(t){return e.player=t},width:480,height:360,volume:s,playing:this.props.playing,onEnded:this.props.onEnded,url:r,onStart:this.onStart.bind(this),onDuration:this.props.onDuration,onProgress:this.props.onProgress,onPlay:this.props.onPlay,onPause:this.props.onPause,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}}),o)}},{key:"onStart",value:function(){if(this.props.spineVid.annotationStartTime&&this.props.duration){var t=this.props.spineVid.annotationStartTime/this.props.duration;this.player.seekTo(t)}}},{key:"onClickReviseSpine",value:function(){F("video",!0,{type:"spine",timecode:0})}},{key:"onClickEditSpine",value:function(){N(this.props.spineVid.assetId,this.props.spineVid.annotationId,void 0===this.props.spineVid.annotationDuration,{type:"spine"})}},{key:"onVolumeChange",value:function(t){var e=parseInt(t.target.value,10);this.props.onVolumeChange(e)}},{key:"onVolumeToggle",value:function(){this.props.onVolumeToggle()}}])&&pm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(lo);function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}const bm=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=_m({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",_m({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,_m({},this.attributes,e))},withConverter:function(e){return t(_m({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xm(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function Sm(t){return t.json()}var Em=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=bm.get("csrftoken");this.xhrOpts={method:"get",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":e},credentials:"same-origin"}}var e,n;return e=t,(n=[{key:"assetUrl",value:function(t){return"/api/asset/"+t+"/"}},{key:"projectSequenceAssetUrl",value:function(t){return"/project/api/projectsequenceassets/?project="+t}},{key:"sequenceAssetUrl",value:function(t){return"/sequence/api/assets/"+t+"/"}},{key:"sequenceAssetsUrl",value:function(){return"/sequence/api/assets/"}},{key:"getAsset",value:function(t){if(!t)throw"getAsset: assetId is required.";return fetch(this.assetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t}))}},{key:"getSequenceAsset",value:function(t){if(!t)throw"getSequenceAsset: projectId is required.";return fetch(this.projectSequenceAssetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t.length>0?t[0].sequence_asset:null}))}},{key:"createOrUpdateSequenceAsset",value:function(t,e,n,r,i,a){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===a)throw"createOrUpdateSequenceAsset: missing parameter";var s=80;o()(e)&&(s=e);var l=this;return fetch(this.projectSequenceAssetUrl(r),this.xhrOpts).then((function(t){return t.json()})).then((function(e){if(e.length>0){var o=e[0].sequence_asset.id;return l.updateSequenceAsset(o,t,s,n,r,i,a)}return l.createSequenceAsset(t,s,n,r,i,a)}))}},{key:"createSequenceAsset",value:function(t,e,n,r,i,a){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===a)throw"createSequenceAsset: missing parameter";var s=80;return o()(e)&&(s=e),this.xhrOpts.method="post",this.xhrOpts.body=JSON.stringify({spine:t,spine_volume:s,course:n,project:r,media_elements:R(i),text_elements:A(a)}),fetch(this.sequenceAssetsUrl(),this.xhrOpts)}},{key:"updateSequenceAsset",value:function(t,e,n,r,i,a,s){if(void 0===t||void 0===e||void 0===r||void 0===i||void 0===a||void 0===s)throw"updateSequenceAsset: missing parameter";var l=80;return o()(n)&&(l=n),this.xhrOpts.method="put",this.xhrOpts.body=JSON.stringify({id:t,spine:e,spine_volume:l,course:r,project:i,media_elements:R(a),text_elements:A(s)}),fetch(this.sequenceAssetUrl(t),this.xhrOpts).then(xm).then(Sm)}}])&&wm(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Cm(t){return Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(t)}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pm(t,e){return Pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pm(t,e)}function Tm(t,e){if(e&&("object"===Cm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rm(t)}function Rm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Am(t)}var Om=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pm(t,e)}(c,e);var n,r,i,a,l=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Am(i);if(a){var n=Am(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tm(this,t)});function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var n=Rm(e=l.call(this,t));return e.state={spineVid:null,mediaTrack:[],textTrack:[],playing:!1,time:null,duration:null,activeElement:null,currentSecondaryElement:null,showOutOfBoundsModal:!1,showAddPrimaryMediaModal:!1,hoveringOnPlayhead:!1},document.addEventListener("asset.select",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.addMediaTrackElement(t.detail.assetId,t.detail.annotationId,t.detail.caller.timecode),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})})),document.addEventListener("asset.save",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.editActiveMediaTrackElement(t.detail.assetId,t.detail.annotationId)})),document.addEventListener("sequence.save",(function(){n.onSaveClick()})),"undefined"!=typeof jQuery&&jQuery.widget("ui.timecodespinner",jQuery.ui.spinner,{options:{step:100,page:60},_parse:function(t){return"string"==typeof t?Number(t)==t?Number(t):100*k(t):t},_format:function(t){return P(t/100)}}),e}return n=c,r=[{key:"componentDidMount",value:function(){window.MediaThread&&window.MediaThread.current_project&&this.initializeSequenceAsset(window.MediaThread.current_project)}},{key:"initializeSequenceAsset",value:function(t){var e=this;(new Em).getSequenceAsset(t).then((function(t){if(t&&t.spine){t.media_elements.forEach((function(t){var e=C(t.media);t.media=e.id,t.media_asset=e.assetId,t.host=e.host,t.source=e.url,t.type=e.type,t.annotationStartTime=e.startTime,t.annotationDuration=e.duration,t.annotationData=e.data,t.width=e.width,t.height=e.height})),e.setState({mediaTrack:O(t.media_elements),textTrack:I(t.text_elements)});var n=C(t.spine);e.updateSpineVid(n.url,n.host,n.assetId,n.id,n.startTime,n.duration,t.spine_volume),jQuery(window).trigger("sequence.set_submittable",{submittable:e.isBaselineWorkCompleted()})}})).then((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)})).catch((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)}))}},{key:"render",value:function(){var e=this,n=this.getItem(this.state.activeElement),r="";this.props.readOnly||(r=t.createElement("div",null,t.createElement(xt,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onMediaDragStop.bind(this),onTrackEditButtonClick:this.onMediaTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.mediaTrack}),t.createElement(fg,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onTextDragStop.bind(this),onTrackElementAdd:this.onTextTrackElementAdd.bind(this),onTrackEditButtonClick:this.onTextTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.textTrack})));var i="",o=!(this.hasMediaElements()||!this.props.readOnly);return o||(i=t.createElement(sy,{ref:function(t){return e._mediaDisplay=t},time:this.state.time,duration:this.sequenceDuration(),data:this.state.mediaTrack,playing:this.state.playing,currentElement:this.state.currentSecondaryElement,instructions:this.props.secondaryInstructions})),t.createElement("div",{className:"jux-container"},t.createElement("div",{className:"jux-vid-container"},t.createElement(mm,{spineVid:this.state.spineVid,ref:function(t){return e._primaryVid=t},readOnly:this.props.readOnly,duration:this.state.duration,onDuration:this.onSpineDuration.bind(this),onEnded:this.onSpineVideoEnded.bind(this),playing:this.state.playing,onProgress:this.onSpineProgress.bind(this),onPlay:this.onSpinePlay.bind(this),onPause:this.onSpinePause.bind(this),onVolumeChange:this.onSpineVolumeChange.bind(this),onVolumeToggle:this.onSpineVolumeToggle.bind(this),instructions:this.props.primaryInstructions}),t.createElement("div",{style:{display:o?"none":"block"},className:"jux-media-separator"}),i),t.createElement(_g,{time:this.state.time,duration:this.sequenceDuration(),data:this.state.textTrack}),t.createElement("div",{className:"jux-flex-horiz"},t.createElement(am,{time:this.state.time||0,onClick:this.onRewindClick.bind(this)}),t.createElement($g,{playing:this.state.playing,onClick:this.onPlayClick.bind(this)}),t.createElement("div",{className:"jux-time-display"},t.createElement("div",null,P(this.state.time)," / ",P(this.sequenceDuration())))),t.createElement("div",{className:"jux-timeline"},t.createElement(kg,{hovering:this.state.hoveringOnPlayhead,duration:this.sequenceDuration()}),t.createElement(hm,{currentTime:this.state.time,duration:this.sequenceDuration(),onMouseDown:this.onPlayheadMouseDown.bind(this),onMouseUp:this.onPlayheadMouseUp.bind(this),onMouseEnter:this.onPlayheadMouseEnter.bind(this),onMouseLeave:this.onPlayheadMouseLeave.bind(this),onChange:this.onPlayheadTimeChange.bind(this)}),r),t.createElement(Hg,{activeElement:n,onChange:this.onTrackElementUpdate.bind(this),onEditClick:this.onTrackMediaElementEdit.bind(this),onDeleteClick:this.onTrackElementRemove.bind(this)}),t.createElement(Hv,{showing:this.state.showOutOfBoundsModal,onCloseClick:this.onOutOfBoundsCloseClick.bind(this),onConfirmClick:this.onOutOfBoundsConfirmClick.bind(this)}),t.createElement($v,{showing:this.state.showAddPrimaryMediaModal,onCloseClick:this.onAddPrimaryCloseClick.bind(this)}))}},{key:"isBaselineWorkCompleted",value:function(){return!!this.state.spineVid&&(this.state.mediaTrack.length>0||this.state.textTrack.length>0)}},{key:"onTrackElementUpdate",value:function(t,e){if(t){var n;n="txt"===t.type?this.state.textTrack:this.state.mediaTrack;var r=u()(n,["key",t.key,10]),i=f()(n,["key",r.key]);(function(t,e,n,r){if(r<=n)throw new Error("end_time must be greater than start_time.");if(!e)throw new Error("A sequence must have a duration.");if(r>e)return!0;if(0===t.length||!n&&!r)return!1;var i,o=m(t);try{for(o.s();!(i=o.n()).done;)if(b({start_time:n,end_time:r},i.value))return!0}catch(t){o.e(t)}finally{o.f()}return!1})(i,this.sequenceDuration(),o()(e.start_time)?e.start_time:r.start_time,o()(e.end_time)?e.end_time:r.end_time)||(s()(e.source)&&(r.source=e.source),o()(e.start_time)&&(r.start_time=e.start_time),o()(e.end_time)&&(r.end_time=e.end_time),o()(e.volume)&&(r.volume=e.volume),i.push(r),i=d()(i,"key"),"txt"===t.type?this.setState({textTrack:i}):this.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}}},{key:"onTextTrackElementAdd",value:function(t,e){var n=x(e,e+30,this.sequenceDuration(),this.state.textTrack);if(o()(n.start)||o()(n.end)){var r=this.state.textTrack.slice(),i=r.length;r.push({key:i,start_time:n.start,end_time:n.end,type:"txt",source:t}),this.setState({textTrack:r,activeElement:["txt",i]}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onMediaTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["media",e.props.data.key]})}},{key:"onTextTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["txt",e.props.data.key]})}},{key:"onMediaDragStop",value:function(t,e,n){var r=L(this.state.mediaTrack,n,this.sequenceDuration());null!==r&&(this.setState({mediaTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onTextDragStop",value:function(t,e,n){var r=L(this.state.textTrack,n,this.sequenceDuration());null!==r&&(this.setState({textTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onPlayClick",value:function(){var t=!this.state.playing;this.setState({playing:t})}},{key:"onRewindClick",value:function(){this.setState({playing:!1,time:0}),this._primaryVid.player.seekTo(this.state.spineVid.annotationStartTime||0)}},{key:"onTrackElementRemove",value:function(){if(this.state.activeElement){var t=this.state.activeElement[0],e=this.state.activeElement[1];if("txt"===t){var n=this.state.textTrack.slice();n.splice(e,1),D(n),this.setState({textTrack:n,activeElement:null})}else{var r=this.state.mediaTrack.slice();r.splice(e,1),D(r),this.setState({mediaTrack:r,activeElement:null})}jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onTrackMediaElementEdit",value:function(){var t=this.getItem(this.state.activeElement);N(t.media_asset,t.media,void 0===t.annotationDuration,{type:"track"})}},{key:"onPlayheadTimeChange",value:function(t){var e=t.target.value/1e3,n=this.sequenceDuration()*e;this.setState({time:n})}},{key:"onPlayheadMouseDown",value:function(){this.setState({playing:!1})}},{key:"onPlayheadMouseUp",value:function(){var t=(this.state.time+(this.state.spineVid.annotationStartTime||0))/this.state.duration;this._primaryVid.player.seekTo(t),this._mediaDisplay&&this._mediaDisplay.seekTo(t)}},{key:"onPlayheadMouseEnter",value:function(){this.setState({hoveringOnPlayhead:!0})}},{key:"onPlayheadMouseLeave",value:function(){this.setState({hoveringOnPlayhead:!1})}},{key:"onSpineVideoEnded",value:function(){this.setState({playing:!1,time:0})}},{key:"onSpineDuration",value:function(t){this.setState((function(e){return{duration:t,mediaTrack:S(t,e.mediaTrack),textTrack:S(t,e.textTrack)}}))}},{key:"onSpineProgress",value:function(t){if(void 0!==t.played){if(t.played>=1)return void this.setState({playing:!1,time:0});var e=t.playedSeconds-(this.state.spineVid.annotationStartTime||0),n=Math.max(0,e);n>=this.sequenceDuration()&&(this.setState({playing:!1}),n=Math.min(n,this.sequenceDuration())),this.setState((function(t){return{time:n,currentSecondaryElement:M(t.mediaTrack,n)}}))}}},{key:"onSpinePlay",value:function(){this.state.playing||this.setState({playing:!0})}},{key:"onSpinePause",value:function(){this.state.playing&&this.setState({playing:!1})}},{key:"onSaveClick",value:function(){if(this.state.spineVid){var t=new Em,e=this;t.createOrUpdateSequenceAsset(this.state.spineVid.annotationId,this.state.spineVid.volume,window.MediaThread.current_course,window.MediaThread.current_project,this.state.mediaTrack,this.state.textTrack).then((function(){jQuery(window).trigger("sequence.on_save_success",{submittable:e.isBaselineWorkCompleted()})})).catch((function(t){jQuery(window).trigger("sequence.on_save_error",t)}))}else jQuery(window).trigger("sequence.on_save_success",{submittable:!1})}},{key:"onOutOfBoundsCloseClick",value:function(){this.setState({showOutOfBoundsModal:!1})}},{key:"onOutOfBoundsConfirmClick",value:function(){var t=this.state.tmpSpineVid;this.setState((function(e){return{showOutOfBoundsModal:!1,mediaTrack:S(t.annotationDuration,e.mediaTrack),textTrack:S(t.annotationDuration,e.textTrack)}})),this.updateSpineVid(t.url,t.host,t.assetId,t.annotationId,t.annotationStartTime,t.annotationDuration,t.volume),this.setState({tmpSpineVid:null}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onAddWithoutPrimaryVid",value:function(){this.setState({showAddPrimaryMediaModal:!0})}},{key:"onAddPrimaryCloseClick",value:function(){this.setState({showAddPrimaryMediaModal:!1})}},{key:"onSpineVolumeChange",value:function(t){var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onSpineVolumeToggle",value:function(){var t=80;this.state.spineVid.volume&&(t=0);var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"getItem",value:function(t){return t?"txt"===t[0]?this.state.textTrack[t[1]]:this.state.mediaTrack[t[1]]:null}},{key:"sequenceDuration",value:function(){return this.state.spineVid&&this.state.spineVid.annotationDuration?this.state.spineVid.annotationDuration:this.state.duration}},{key:"updateSpineVid",value:function(t,e,n,r,i,a,s){o()(s)||(s=80),this.state.spineVid&&this.state.spineVid.url!==t&&this.setState({duration:null}),this.setState({spineVid:{url:t,host:e,assetId:n,annotationId:r,annotationStartTime:i,annotationDuration:a,volume:s},playing:!1,time:0}),this._primaryVid.onStart()}},{key:"addOrEditSpineVideo",value:function(t,e){var n=this;(new Em).getAsset(t).then((function(r){var i=E(r,t,e);i.duration&&!function(t,e,n){for(var r=0;r<e.length;r++)if(e[r].end_time>t)return!0;for(var i=0;i<n.length;i++)if(n[i].end_time>t)return!0;return!1}(i.duration,n.state.mediaTrack,n.state.textTrack)||!(n.state.mediaTrack.length>0||n.state.textTrack.length>0)?n.updateSpineVid(i.url,i.host,t,e,i.startTime,i.duration,i.volume):n.setState({showOutOfBoundsModal:!0,tmpSpineVid:{url:i.url,host:i.host,assetId:t,annotationId:e,annotationStartTime:i.startTime,annotationDuration:i.duration,volume:i.volume},playing:!1,time:0})}))}},{key:"addMediaTrackElement",value:function(t,e,n){var r=this;(new Em).getAsset(t).then((function(i){var a=E(i,t,e),s=r.state.mediaTrack.slice(0),l=s.length,u=x(n,n+a.duration,r.sequenceDuration(),r.state.mediaTrack);(o()(u.start)||o()(u.end))&&(s.push({key:l,start_time:u.start,end_time:u.end,type:a.type,host:a.host,source:a.url,media_asset:t,media:e,annotationData:a.data,annotationStartTime:a.startTime,annotationDuration:a.duration,width:a.width,height:a.height,volume:80}),r.setState({mediaTrack:s,activeElement:["media",l]}))}))}},{key:"editActiveMediaTrackElement",value:function(t,e){var n=this;(new Em).getAsset(t).then((function(r){var i=n.state.mediaTrack.slice(),o=E(r,t,e),a=n.state.activeElement[1],s=n.state.mediaTrack[a],l=s.start_time,u=o.duration||s.end_time-s.start_time;i[a].media=e,i[a].annotationData=o.data,i[a].annotationStartTime=o.startTime,i[a].annotationDuration=o.duration;var c=n.state.mediaTrack.slice();c.splice(a,1);var f=w(l,l+u,n.sequenceDuration(),c);i[a].end_time=f,n.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}))}},{key:"hasMediaElements",value:function(){return this.state.mediaTrack.length>0}}],r&&km(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(t.Component);Om.propTypes={primaryInstructions:r().string.isRequired,secondaryInstructions:r().string.isRequired,readOnly:r().bool.isRequired},Om.defaultProps={primaryInstructions:"",secondaryInstructions:"",readOnly:!1},document.getElementById("jux-container")&&e.render(t.createElement(Om,{readOnly:view&&view.readOnly||!1,primaryInstructions:view&&view.primaryInstructions||"",secondaryInstructions:view&&view.secondaryInstructions||""}),document.getElementById("jux-container"))})()})();