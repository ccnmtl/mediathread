/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={3969:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},4744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,l):r(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},8251:function(e){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(e))return r[n].exec(e)[1];if(t.fuzzy){var i=e.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},4146:(e,t,n)=>{"use strict";var r=n(3404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var y=s[m];if(!(o[y]||r&&r[y]||g&&g[y]||a&&a[y])){var v=d(n,y);try{c(t,y,v)}catch(e){}}}}return t}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return w(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||w(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},311:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},6147:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async=!("async"in r)||!!r.async,s.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,r.attrs),r.text&&(s.text=""+r.text),("onload"in s?t:n)(s,i),s.onload||t(s,i),o.appendChild(s)}},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},1549:(e,t,n)=>{var r=n(2032),i=n(3862),o=n(6721),s=n(2749),a=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},79:(e,t,n)=>{var r=n(3702),i=n(80),o=n(4739),s=n(8655),a=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},3661:(e,t,n)=>{var r=n(3040),i=n(7670),o=n(289),s=n(4509),a=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},8859:(e,t,n)=>{var r=n(3661),i=n(1380),o=n(1459);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},7217:(e,t,n)=>{var r=n(79),i=n(1420),o=n(938),s=n(3605),a=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},695:(e,t,n)=>{var r=n(8096),i=n(2428),o=n(6449),s=n(3656),a=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),h=!n&&!u&&s(e),d=!n&&!u&&!h&&l(e),f=n||u||h||d,p=f?r(e.length,String):[],g=p.length;for(var m in e)!t&&!c.call(e,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||p.push(m);return p}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1074:e=>{e.exports=function(e){return e.split("")}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},909:(e,t,n)=>{var r=n(641),i=n(8329)(r);e.exports=i},6574:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2523:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},641:(e,t,n)=>{var r=n(6649),i=n(5950);e.exports=function(e,t){return e&&r(e,t,i)}},7422:(e,t,n)=>{var r=n(1769),i=n(7797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},2199:(e,t,n)=>{var r=n(4528),i=n(6449);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},2552:(e,t,n)=>{var r=n(1873),i=n(659),o=n(9350),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7534:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},270:(e,t,n)=>{var r=n(7068),i=n(346);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},7068:(e,t,n)=>{var r=n(7217),i=n(5911),o=n(1986),s=n(689),a=n(5861),l=n(6449),c=n(3656),u=n(7167),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=l(e),b=l(t),_=v?d:a(e),w=b?d:a(t),x=(_=_==h?f:_)==f,S=(w=w==h?f:w)==f,E=_==w;if(E&&c(e)){if(!c(t))return!1;v=!0,x=!1}if(E&&!x)return y||(y=new r),v||u(e)?i(e,t,n,g,m,y):o(e,t,_,n,g,m,y);if(!(1&n)){var C=x&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(C||k){var P=C?e.value():e,A=k?t.value():t;return y||(y=new r),m(P,A,n,g,y)}}return!!E&&(y||(y=new r),s(e,t,n,g,m,y))}},1799:(e,t,n)=>{var r=n(7217),i=n(270);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new r;if(o)var p=o(h,d,u,e,t,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},5083:(e,t,n)=>{var r=n(1882),i=n(7296),o=n(3805),s=n(7473),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:a).test(s(e))}},4901:(e,t,n)=>{var r=n(2552),i=n(294),o=n(346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},5389:(e,t,n)=>{var r=n(3663),i=n(7978),o=n(3488),s=n(6449),a=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},8984:(e,t,n)=>{var r=n(5527),i=n(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3663:(e,t,n)=>{var r=n(1799),i=n(776),o=n(7197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},7978:(e,t,n)=>{var r=n(270),i=n(8156),o=n(631),s=n(8586),a=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,3)}}},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},5160:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7556:(e,t,n)=>{var r=n(1873),i=n(4932),o=n(6449),s=n(4394),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},4128:(e,t,n)=>{var r=n(1800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},9219:e=>{e.exports=function(e,t){return e.has(t)}},1769:(e,t,n)=>{var r=n(6449),i=n(8586),o=n(1802),s=n(3222);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},8754:(e,t,n)=>{var r=n(5160);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}},2507:(e,t,n)=>{var r=n(8754),i=n(9698),o=n(3912),s=n(3222);e.exports=function(e){return function(t){t=s(t);var n=i(t)?o(t):void 0,a=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return a[e]()+l}}},2006:(e,t,n)=>{var r=n(5389),i=n(4894),o=n(5950);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},5911:(e,t,n)=>{var r=n(8859),i=n(4248),o=n(9219);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(s)var b=c?s(v,y,p,t,e,l):s(y,v,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(y===e||a(y,e,n,s,l)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!a(y,v,n,s,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},1986:(e,t,n)=>{var r=n(1873),i=n(7828),o=n(5288),s=n(5911),a=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var m=s(f(e),f(t),r,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},689:(e,t,n)=>{var r=n(2),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:i.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var y=e[d=c[h]],v=t[d];if(o)var b=l?o(v,y,d,t,e,a):o(y,v,d,e,t,a);if(!(void 0===b?y===v||s(y,v,n,o,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2:(e,t,n)=>{var r=n(2199),i=n(4664),o=n(5950);e.exports=function(e){return r(e,o,i)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},776:(e,t,n)=>{var r=n(756),i=n(5950);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},6110:(e,t,n)=>{var r=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},659:(e,t,n)=>{var r=n(1873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},4664:(e,t,n)=>{var r=n(9770),i=n(3345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},5861:(e,t,n)=>{var r=n(5580),i=n(8223),o=n(2804),s=n(6545),a=n(8303),l=n(2552),c=n(7473),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),y=c(o),v=c(s),b=c(a),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=u||o&&_(o.resolve())!=h||s&&_(new s)!=d||a&&_(new a)!=f)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case y:return h;case v:return d;case b:return f}return t}),e.exports=_},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9326:(e,t,n)=>{var r=n(1769),i=n(2428),o=n(6449),s=n(361),a=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,h=!1;++c<u;){var d=l(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&s(d,u)&&(o(e)||i(e))}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2749:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},8586:(e,t,n)=>{var r=n(6449),i=n(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,n)=>{var r,i=n(5481),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},3040:(e,t,n)=>{var r=n(1549),i=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,n)=>{var r=n(79),i=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},3912:(e,t,n)=>{var r=n(1074),i=n(9698),o=n(2054);e.exports=function(e){return i(e)?o(e):r(e)}},1802:(e,t,n)=>{var r=n(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2054:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[o,s,a].join("|")+")"+c+l+")*",h="(?:"+[o+r+"?",r,s,a,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");e.exports=function(e){return e.match(d)||[]}},4792:(e,t,n)=>{var r=n(3222),i=n(5808);e.exports=function(e){return i(r(e).toLowerCase())}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7612:(e,t,n)=>{var r=n(9770),i=n(6574),o=n(5389),s=n(6449);e.exports=function(e,t){return(s(e)?r:i)(e,o(t,3))}},7309:(e,t,n)=>{var r=n(2006)(n(4713));e.exports=r},4713:(e,t,n)=>{var r=n(2523),i=n(5389),o=n(1489),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),r(e,i(t,3),l)}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},631:(e,t,n)=>{var r=n(8077),i=n(9326);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,n)=>{var r=n(7534),i=n(346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(9935),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},2297:(e,t,n)=>{var r=n(9325).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7167:(e,t,n)=>{var r=n(4901),i=n(7301),o=n(6009),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},5950:(e,t,n)=>{var r=n(695),i=n(8984),o=n(4894);e.exports=function(e){return o(e)?r(e):i(e)}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,u=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",v="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",x="[object Map]",S="[object Number]",E="[object Object]",C="[object Promise]",k="[object RegExp]",P="[object Set]",A="[object String]",T="[object Symbol]",R="[object WeakMap]",O="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",L="[object Int16Array]",N="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,G=RegExp(H.source),X=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="["+we+"]",Te="["+Pe+"]",Re="["+xe+"]",Oe="\\d+",Me="["+Se+"]",Ie="["+Ee+"]",De="[^"+we+Pe+Oe+Se+Ee+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Le="[^"+we+"]",Ne="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Ce+"]",Be="\\u200d",Ue="(?:"+Ie+"|"+De+")",Ve="(?:"+ze+"|"+De+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",$e="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Re+"|"+Fe+")?",qe="["+ke+"]?",Ge=qe+He+"(?:"+Be+"(?:"+[Le,Ne,je].join("|")+")"+qe+He+")*",Xe="(?:"+[Me,Ne,je].join("|")+")"+Ge,Ye="(?:"+[Le+Re+"?",Re,Ne,je,Ae].join("|")+")",Ke=RegExp("['’]","g"),Ze=RegExp(Re,"g"),Qe=RegExp(Fe+"(?="+Fe+")|"+Ye+Ge,"g"),Je=RegExp([ze+"?"+Ie+"+"+We+"(?="+[Te,ze,"$"].join("|")+")",Ve+"+"+$e+"(?="+[Te,ze+Ue,"$"].join("|")+")",ze+"?"+Ue+"+"+We,ze+"+"+$e,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Xe].join("|"),"g"),et=RegExp("["+Be+we+xe+ke+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[I]=it[D]=it[F]=it[L]=it[N]=it[j]=it[z]=it[B]=it[U]=!0,it[g]=it[m]=it[O]=it[y]=it[M]=it[v]=it[b]=it[_]=it[x]=it[S]=it[E]=it[k]=it[P]=it[A]=it[R]=!1;var ot={};ot[g]=ot[m]=ot[O]=ot[M]=ot[y]=ot[v]=ot[I]=ot[D]=ot[F]=ot[L]=ot[N]=ot[x]=ot[S]=ot[E]=ot[k]=ot[P]=ot[A]=ot[T]=ot[j]=ot[z]=ot[B]=ot[U]=!0,ot[b]=ot[_]=ot[R]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,ht=ct||ut||Function("return this")(),dt=t&&!t.nodeType&&t,ft=dt&&e&&!e.nodeType&&e,pt=ft&&ft.exports===dt,gt=pt&&ct.process,mt=function(){try{return ft&&ft.require&&ft.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),yt=mt&&mt.isArrayBuffer,vt=mt&&mt.isDate,bt=mt&&mt.isMap,_t=mt&&mt.isRegExp,wt=mt&&mt.isSet,xt=mt&&mt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Tt(e,t){return!(null==e||!e.length)&&zt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function It(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Wt("length");function Nt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function zt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Ut,n)}function Bt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ut(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:d}function Wt(e){return function(t){return null==t?i:t[e]}}function $t(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Kt(e,t){return Ot(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function Jt(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var en=$t({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=$t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function un(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Lt(e)}function hn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=$t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,we=t.Error,xe=t.Function,Se=t.Math,Ee=t.Object,Ce=t.RegExp,ke=t.String,Pe=t.TypeError,Ae=r.prototype,Te=xe.prototype,Re=Ee.prototype,Oe=t["__core-js_shared__"],Me=Te.toString,Ie=Re.hasOwnProperty,De=0,Fe=(n=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Le=Re.toString,Ne=Me.call(Ee),je=ht._,ze=Ce("^"+Me.call(Ie).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=pt?t.Buffer:i,Ue=t.Symbol,Ve=t.Uint8Array,We=Be?Be.allocUnsafe:i,$e=sn(Ee.getPrototypeOf,Ee),He=Ee.create,qe=Re.propertyIsEnumerable,Ge=Ae.splice,Xe=Ue?Ue.isConcatSpreadable:i,Ye=Ue?Ue.iterator:i,Qe=Ue?Ue.toStringTag:i,et=function(){try{var e=lo(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ct=ie&&ie.now!==ht.Date.now&&ie.now,ut=t.setTimeout!==ht.setTimeout&&t.setTimeout,dt=Se.ceil,ft=Se.floor,gt=Ee.getOwnPropertySymbols,mt=Be?Be.isBuffer:i,Lt=t.isFinite,$t=Ae.join,gn=sn(Ee.keys,Ee),mn=Se.max,yn=Se.min,vn=ie.now,bn=t.parseInt,_n=Se.random,wn=Ae.reverse,xn=lo(t,"DataView"),Sn=lo(t,"Map"),En=lo(t,"Promise"),Cn=lo(t,"Set"),kn=lo(t,"WeakMap"),Pn=lo(Ee,"create"),An=kn&&new kn,Tn={},Rn=No(xn),On=No(Sn),Mn=No(En),In=No(Cn),Dn=No(kn),Fn=Ue?Ue.prototype:i,Ln=Fn?Fn.valueOf:i,Nn=Fn?Fn.toString:i;function jn(e){if(ea(e)&&!Ws(e)&&!(e instanceof Vn)){if(e instanceof Un)return e;if(Ie.call(e,"__wrapped__"))return jo(e)}return new Un(e)}var zn=function(){function e(){}return function(t){if(!Js(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new $n(e);this.size=t.size}function Xn(e,t){var n=Ws(e),r=!n&&Vs(e),i=!n&&!r&&Gs(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Gt(e.length,ke):[],l=a.length;for(var c in e)!t&&!Ie.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,l))||a.push(c);return a}function Yn(e){var t=e.length;return t?e[Hr(0,t-1)]:i}function Kn(e,t){return Mo(ki(e),or(t,0,e.length))}function Zn(e){return Mo(ki(e))}function Qn(e,t,n){(n!==i&&!zs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Jn(e,t,n){var r=e[t];Ie.call(e,t)&&zs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(zs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Pi(t,Ra(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ca(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Js(e))return e;var h=Ws(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return ki(e,a)}else{var d=ho(e),f=d==_||d==w;if(Gs(e))return _i(e,l);if(d==E||d==g||f&&!o){if(a=c||f?{}:po(e),!l)return c?function(e,t){return Pi(e,uo(e),t)}(e,function(e,t){return e&&Pi(t,Oa(t),e)}(a,e)):function(e,t){return Pi(e,co(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case O:return wi(e);case y:case v:return new i(+e);case M:return function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case D:case F:case L:case N:case j:case z:case B:case U:return xi(e,n);case x:return new i;case S:case A:return new i(e);case k:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new i;case T:return r=e,Ln?Ee(Ln.call(r)):{}}}(e,d,l)}}s||(s=new Gn);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var m=h?i:(u?c?to:eo:c?Oa:Ra)(e);return Ct(m||e,(function(r,i){m&&(r=e[i=r]),Jn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Pe(o);return Ao((function(){e.apply(i,n)}),t)}function cr(e,t,n,r){var i=-1,o=Tt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Ot(t,Yt(n))),r?(o=Rt,s=!1):t.length>=200&&(o=Zt,s=!1,t=new qn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l}jn.templateSettings={escape:Y,evaluate:K,interpolate:Z,variable:"",imports:{_:jn}},jn.prototype=Bn.prototype,jn.prototype.constructor=jn,Un.prototype=zn(Bn.prototype),Un.prototype.constructor=Un,Vn.prototype=zn(Bn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===s?i:n}return Ie.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:Ie.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?s:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,0))},$n.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},$n.prototype.has=function(e){return er(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||$n),string:new Wn}},Hn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return so(this,e).get(e)},Hn.prototype.has=function(e){return so(this,e).has(e)},Hn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,s),this},qn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new $n,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var ur=Ri(vr),hr=Ri(br,!0);function dr(e,t){var n=!0;return ur(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!aa(a):n(a,l)))var l=a,c=s}return c}function pr(e,t){var n=[];return ur(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gr(a,t-1,n,r,i):Mt(i,a):r||(i[i.length]=a)}return i}var mr=Oi(),yr=Oi(!0);function vr(e,t){return e&&mr(e,t,Ra)}function br(e,t){return e&&yr(e,t,Ra)}function _r(e,t){return At(t,(function(t){return Ks(e[t])}))}function wr(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[Lo(t[n++])];return n&&n==r?e:i}function xr(e,t,n){var r=t(e);return Ws(e)?r:Mt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ee(e)?function(e){var t=Ie.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(e){}var o=Le.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),o}(e):function(e){return Le.call(e)}(e)}function Er(e,t){return e>t}function Cr(e,t){return null!=e&&Ie.call(e,t)}function kr(e,t){return null!=e&&t in Ee(e)}function Pr(e,t,n){for(var o=n?Rt:Tt,s=e[0].length,a=e.length,l=a,c=r(a),u=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Ot(d,Yt(t))),u=yn(d.length,u),c[l]=!n&&(t||s>=120&&d.length>=120)?new qn(l&&d):i}d=e[0];var f=-1,p=c[0];e:for(;++f<s&&h.length<u;){var g=d[f],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?Zt(p,m):o(h,m,n))){for(l=a;--l;){var y=c[l];if(!(y?Zt(y,m):o(e[l],m,n)))continue e}p&&p.push(m),h.push(g)}}return h}function Ar(e,t,n){var r=null==(e=Co(e,t=mi(t,e)))?e:e[Lo(Yo(t))];return null==r?i:St(r,e,n)}function Tr(e){return ea(e)&&Sr(e)==g}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Ws(e),l=Ws(t),c=a?m:ho(e),u=l?m:ho(t),h=(c=c==g?E:c)==E,d=(u=u==g?E:u)==E,f=c==u;if(f&&Gs(e)){if(!Gs(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Gn),a||la(e)?Qi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case y:case v:case S:return zs(+e,+t);case b:return e.name==t.name&&e.message==t.message;case k:case A:return e==t+"";case x:var a=on;case P:var l=1&r;if(a||(a=ln),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=Qi(a(e),a(t),r,i,o,s);return s.delete(e),u;case T:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=h&&Ie.call(e,"__wrapped__"),_=d&&Ie.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,C=_?t.value():t;return s||(s=new Gn),o(w,C,n,r,s)}}return!!f&&(s||(s=new Gn),function(e,t,n,r,o,s){var a=1&n,l=eo(e),c=l.length;if(c!=eo(t).length&&!a)return!1;for(var u=c;u--;){var h=l[u];if(!(a?h in t:Ie.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++u<c;){var m=e[h=l[u]],y=t[h];if(r)var v=a?r(y,m,h,t,e,s):r(m,y,h,e,t,s);if(!(v===i?m===y||o(m,y,n,r,s):v)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,Rr,o))}function Or(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ee(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],h=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var d=new Gn;if(r)var f=r(u,h,c,e,t,d);if(!(f===i?Rr(h,u,3,r,d):f))return!1}}return!0}function Mr(e){return!(!Js(e)||(t=e,Fe&&Fe in t))&&(Ks(e)?ze:ge).test(No(e));var t}function Ir(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?Ws(e)?jr(e[0],e[1]):Nr(e):hl(e)}function Dr(e){if(!wo(e))return gn(e);var t=[];for(var n in Ee(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e,t){return e<t}function Lr(e,t){var n=-1,i=Hs(e)?r(e.length):[];return ur(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Nr(e){var t=ao(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function jr(e,t){return vo(e)&&xo(t)?So(Lo(e),t):function(n){var r=Ca(n,e);return r===i&&r===t?ka(n,e):Rr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&mr(t,(function(s,a){if(o||(o=new Gn),Js(s))!function(e,t,n,r,o,s,a){var l=ko(e,n),c=ko(t,n),u=a.get(c);if(u)Qn(e,n,u);else{var h=s?s(l,c,n+"",e,t,a):i,d=h===i;if(d){var f=Ws(c),p=!f&&Gs(c),g=!f&&!p&&la(c);h=c,f||p||g?Ws(l)?h=l:qs(l)?h=ki(l):p?(d=!1,h=_i(c,!0)):g?(d=!1,h=xi(c,!0)):h=[]:ra(c)||Vs(c)?(h=l,Vs(l)?h=ma(l):Js(l)&&!Ks(l)||(h=po(c))):d=!1}d&&(a.set(c,h),o(h,c,r,s,a),a.delete(c)),Qn(e,n,h)}}(e,t,a,n,zr,r,o);else{var l=r?r(ko(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Qn(e,a,l)}}),Oa)}function Br(e,t){var n=e.length;if(n)return mo(t+=t<0?n:0,n)?e[t]:i}function Ur(e,t,n){t=t.length?Ot(t,(function(e){return Ws(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[nl];var r=-1;t=Ot(t,Yt(oo()));var i=Lr(e,(function(e,n,i){var o=Ot(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=Si(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=wr(e,s);n(a,s)&&Kr(o,mi(s,e),a)}return o}function Wr(e,t,n,r){var i=r?Bt:zt,o=-1,s=t.length,a=e;for(e===t&&(t=ki(t)),n&&(a=Ot(e,Yt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ge.call(a,l,1),Ge.call(e,l,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;mo(i)?Ge.call(e,i,1):li(e,i)}}return e}function Hr(e,t){return e+ft(_n()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return To(Eo(e,t,nl),e+"")}function Xr(e){return Yn(za(e))}function Yr(e,t){var n=za(e);return Mo(n,or(t,0,n.length))}function Kr(e,t,n,r){if(!Js(e))return e;for(var o=-1,s=(t=mi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Lo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var h=l[c];(u=r?r(h,c,l):i)===i&&(u=Js(h)?h:mo(t[o+1])?[]:{})}Jn(l,c,u),l=l[c]}return e}var Zr=An?function(e,t){return An.set(e,t),e}:nl,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ja(t),writable:!0})}:nl;function Jr(e){return Mo(za(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return ur(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nl,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,c=aa(t),u=t===i;o<s;){var h=ft((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,g=d==d,m=aa(d);if(a)var y=r||g;else y=u?g&&(r||f):l?g&&f&&(r||!p):c?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);y?o=h+1:s=h}return yn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!zs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?d:+e}function si(e){if("string"==typeof e)return e;if(Ws(e))return Ot(e,si)+"";if(aa(e))return Nn?Nn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Tt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Rt;else if(o>=200){var c=t?null:qi(e);if(c)return ln(c);s=!1,i=Zt,l=new qn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function li(e,t){return null==(e=Co(e,t=mi(t,e)))||delete e[Lo(Yo(t))]}function ci(e,t,n,r){return Kr(e,t,n(wr(e,t)),r)}function ui(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=cr(s[o]||a,e[l],t,n));return ai(gr(s,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function pi(e){return qs(e)?e:[]}function gi(e){return"function"==typeof e?e:nl}function mi(e,t){return Ws(e)?e:vo(e,t)?[e]:Fo(ya(e))}var yi=Gr;function vi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var bi=st||function(e){return ht.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function wi(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function xi(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,l=null===t,c=t==t,u=aa(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ei(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,c=t.length,u=mn(s-a,0),h=r(c+u),d=!i;++l<c;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;u--;)h[l++]=e[o++];return h}function Ci(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,h=mn(s-l,0),d=r(h+u),f=!i;++o<h;)d[o]=e[o];for(var p=o;++c<u;)d[p+c]=t[c];for(;++a<l;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function ki(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Pi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?rr(n,l,c):Jn(n,l,c)}return n}function Ai(e,t){return function(n,r){var i=Ws(n)?Et:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ti(e){return Gr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&yo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ee(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Hs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ee(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=Ee(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Mi(e){return function(t){var n=rn(t=ya(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?vi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ii(e){return function(t){return It(Ka(Va(t).replace(Ke,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return Js(r)?r:n}}function Fi(e){return function(t,n,r){var o=Ee(t);if(!Hs(t)){var s=oo(n,3);t=Ra(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Li(e){return Ji((function(t){var n=t.length,r=n,s=Un.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Pe(o);if(s&&!l&&"wrapper"==ro(a))var l=new Un([],!0)}for(r=l?r:n;++r<n;){var c=ro(a=t[r]),u="wrapper"==c?no(a):i;l=u&&bo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ro(u[0])].apply(l,u[3]):1==a.length&&bo(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Ws(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ni(e,t,n,o,s,a,l,u,h,d){var f=t&c,p=1&t,g=2&t,m=24&t,y=512&t,v=g?i:Di(e);return function c(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(m)var x=io(c),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,x);if(o&&(_=Ei(_,o,s,m)),a&&(_=Ci(_,a,l,m)),b-=S,m&&b<d){var E=an(_,x);return $i(e,t,Ni,c.placeholder,n,_,E,u,h,d-b)}var C=p?n:this,k=g?C[e]:e;return b=_.length,u?_=function(e,t){for(var n=e.length,r=yn(t.length,n),o=ki(e);r--;){var s=t[r];e[r]=mo(s,n)?o[s]:i}return e}(_,u):y&&b>1&&_.reverse(),f&&h<b&&(_.length=h),this&&this!==ht&&this instanceof c&&(k=v||Di(k)),k.apply(C,_)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return vr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Bi(e){return Ji((function(t){return t=Ot(t,Yt(oo())),Gr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Ui(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,dt(e/un(t)));return rn(t)?vi(hn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&yo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=mn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function $i(e,t,n,r,o,s,a,c,u,h){var d=8&t;t|=d?l:64,4&(t&=~(d?64:l))||(t&=-4);var f=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,c,u,h],p=n.apply(i,f);return bo(e)&&Po(p,f),p.placeholder=r,Ro(p,e,t)}function Hi(e){var t=Se[e];return function(e,n){if(e=ga(e),(n=null==n?0:yn(fa(n),292))&&Lt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=Cn&&1/ln(new Cn([,-0]))[1]==u?function(e){return new Cn(e)}:al;function Gi(e){return function(t){var n=ho(t);return n==x?on(t):n==P?cn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,n,s,u,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Pe(o);var g=s?s.length:0;if(g||(t&=-97,s=u=i),d=d===i?d:mn(fa(d),0),f=f===i?f:fa(f),g-=u?u.length:0,64&t){var m=s,y=u;s=u=i}var v=p?i:no(e),b=[e,t,n,s,u,m,y,h,d,f];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ei(u,l,t[4]):l,e[4]=u?an(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ci(u,l,t[6]):l,e[6]=u?an(e[5],a):t[6]),(l=t[7])&&(e[7]=l),r&c&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,v),e=b[0],t=b[1],n=b[2],s=b[3],u=b[4],!(f=b[9]=b[9]===i?p?0:e.length:mn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Di(e);return function s(){for(var a=arguments.length,l=r(a),c=a,u=io(s);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:an(l,u);return(a-=h.length)<n?$i(e,t,Ni,s.placeholder,i,l,h,i,i,n-a):St(this&&this!==ht&&this instanceof s?o:e,this,l)}}(e,t,f):t!=l&&33!=t||u.length?Ni.apply(i,b):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=r(u+l),d=this&&this!==ht&&this instanceof t?s:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return St(d,o?n:this,h)}}(e,t,n,s);else var _=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ro((v?Zr:Po)(_,b),e,t)}function Yi(e,t,n,r){return e===i||zs(e,Re[n])&&!Ie.call(r,n)?t:e}function Ki(e,t,n,r,o,s){return Js(e)&&Js(t)&&(s.set(t,e),zr(e,t,i,Ki,s),s.delete(t)),e}function Zi(e){return ra(e)?i:e}function Qi(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=2&n?new qn:i;for(s.set(e,t),s.set(t,e);++d<l;){var g=e[d],m=t[d];if(r)var y=a?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(y!==i){if(y)continue;f=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(g===e||o(g,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Ji(e){return To(Eo(e,i,$o),e+"")}function eo(e){return xr(e,Ra,co)}function to(e){return xr(e,Oa,uo)}var no=An?function(e){return An.get(e)}:al;function ro(e){for(var t=e.name+"",n=Tn[t],r=Ie.call(Tn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Ie.call(jn,"placeholder")?jn:e).placeholder}function oo(){var e=jn.iteratee||rl;return e=e===rl?Ir:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Ra(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,xo(i)]}return t}function lo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var co=gt?function(e){return null==e?[]:(e=Ee(e),At(gt(e),(function(t){return qe.call(e,t)})))}:pl,uo=gt?function(e){for(var t=[];e;)Mt(t,co(e)),e=$e(e);return t}:pl,ho=Sr;function fo(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,o=!1;++r<i;){var s=Lo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qs(i)&&mo(s,i)&&(Ws(e)||Vs(e))}function po(e){return"function"!=typeof e.constructor||wo(e)?{}:zn($e(e))}function go(e){return Ws(e)||Vs(e)||!!(Xe&&e&&e[Xe])}function mo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!Js(n))return!1;var r=typeof t;return!!("number"==r?Hs(n)&&mo(t,n.length):"string"==r&&t in n)&&zs(n[t],e)}function vo(e,t){if(Ws(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||J.test(e)||!Q.test(e)||null!=t&&e in Ee(t)}function bo(e){var t=ro(e),n=jn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(xn&&ho(new xn(new ArrayBuffer(1)))!=M||Sn&&ho(new Sn)!=x||En&&ho(En.resolve())!=C||Cn&&ho(new Cn)!=P||kn&&ho(new kn)!=R)&&(ho=function(e){var t=Sr(e),n=t==E?e.constructor:i,r=n?No(n):"";if(r)switch(r){case Rn:return M;case On:return x;case Mn:return C;case In:return P;case Dn:return R}return t});var _o=Oe?Ks:gl;function wo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function xo(e){return e==e&&!Js(e)}function So(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ee(n))}}function Eo(e,t,n){return t=mn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=mn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),St(e,this,l)}}function Co(e,t){return t.length<2?e:wr(e,ei(t,0,-1))}function ko(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Oo(Zr),Ao=ut||function(e,t){return ht.setTimeout(e,t)},To=Oo(Qr);function Ro(e,t,n){var r=t+"";return To(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(p,(function(n){var r="_."+n[0];t&n[1]&&!Tt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=vn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Mo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Hr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Io,Do,Fo=(Io=Is((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===Do.size&&Do.clear(),e})),Do=Io.cache,Io);function Lo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function No(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function jo(e){if(e instanceof Vn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Gr((function(e,t){return qs(e)?cr(e,gr(t,1,qs,!0)):[]})),Bo=Gr((function(e,t){var n=Yo(t);return qs(n)&&(n=i),qs(e)?cr(e,gr(t,1,qs,!0),oo(n,2)):[]})),Uo=Gr((function(e,t){var n=Yo(t);return qs(n)&&(n=i),qs(e)?cr(e,gr(t,1,qs,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=mn(r+i,0)),jt(e,oo(t,3),i)}function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=fa(n),o=n<0?mn(r+o,0):yn(o,r-1)),jt(e,oo(t,3),o,!0)}function $o(e){return null!=e&&e.length?gr(e,1):[]}function Ho(e){return e&&e.length?e[0]:i}var qo=Gr((function(e){var t=Ot(e,pi);return t.length&&t[0]===e[0]?Pr(t):[]})),Go=Gr((function(e){var t=Yo(e),n=Ot(e,pi);return t===Yo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,oo(t,2)):[]})),Xo=Gr((function(e){var t=Yo(e),n=Ot(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ko=Gr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Qo=Ji((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return $r(e,Ot(t,(function(e){return mo(e,n)?+e:e})).sort(Si)),r}));function Jo(e){return null==e?e:wn.call(e)}var es=Gr((function(e){return ai(gr(e,1,qs,!0))})),ts=Gr((function(e){var t=Yo(e);return qs(t)&&(t=i),ai(gr(e,1,qs,!0),oo(t,2))})),ns=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,ai(gr(e,1,qs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(qs(e))return t=mn(e.length,t),!0})),Gt(t,(function(t){return Ot(e,Wt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Ot(n,(function(e){return St(t,i,e)}))}var os=Gr((function(e,t){return qs(e)?cr(e,t):[]})),ss=Gr((function(e){return di(At(e,qs))})),as=Gr((function(e){var t=Yo(e);return qs(t)&&(t=i),di(At(e,qs),oo(t,2))})),ls=Gr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,di(At(e,qs),i,t)})),cs=Gr(rs),us=Gr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function hs(e){var t=jn(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var fs=Ji((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&mo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Un(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=Ai((function(e,t,n){Ie.call(e,n)?++e[n]:rr(e,n,1)})),gs=Fi(Vo),ms=Fi(Wo);function ys(e,t){return(Ws(e)?Ct:ur)(e,oo(t,3))}function vs(e,t){return(Ws(e)?kt:hr)(e,oo(t,3))}var bs=Ai((function(e,t,n){Ie.call(e,n)?e[n].push(t):rr(e,n,[t])})),_s=Gr((function(e,t,n){var i=-1,o="function"==typeof t,s=Hs(e)?r(e.length):[];return ur(e,(function(e){s[++i]=o?St(t,e,n):Ar(e,t,n)})),s})),ws=Ai((function(e,t,n){rr(e,n,t)}));function xs(e,t){return(Ws(e)?Ot:Lr)(e,oo(t,3))}var Ss=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Es=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,gr(t,1),[])})),Cs=ct||function(){return ht.Date.now()};function ks(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,c,i,i,i,i,t)}function Ps(e,t){var n;if("function"!=typeof t)throw new Pe(o);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var As=Gr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(As));r|=l}return Xi(e,r,t,n,i)})),Ts=Gr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Ts));r|=l}return Xi(t,r,e,n,i)}));function Rs(e,t,n){var r,s,a,l,c,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Pe(o);function g(t){var n=r,o=s;return r=s=i,h=t,l=e.apply(o,n)}function m(e){var n=e-u;return u===i||n>=t||n<0||f&&e-h>=a}function y(){var e=Cs();if(m(e))return v(e);c=Ao(y,function(e){var n=t-(e-u);return f?yn(n,a-(e-h)):n}(e))}function v(e){return c=i,p&&r?g(e):(r=s=i,l)}function b(){var e=Cs(),n=m(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return h=e,c=Ao(y,t),d?g(e):l}(u);if(f)return bi(c),c=Ao(y,t),g(u)}return c===i&&(c=Ao(y,t)),l}return t=ga(t)||0,Js(n)&&(d=!!n.leading,a=(f="maxWait"in n)?mn(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&bi(c),h=0,r=u=s=c=i},b.flush=function(){return c===i?l:v(Cs())},b}var Os=Gr((function(e,t){return lr(e,1,t)})),Ms=Gr((function(e,t,n){return lr(e,ga(t)||0,n)}));function Is(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Is.Cache||Hn),n}function Ds(e){if("function"!=typeof e)throw new Pe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Is.Cache=Hn;var Fs=yi((function(e,t){var n=(t=1==t.length&&Ws(t[0])?Ot(t[0],Yt(oo())):Ot(gr(t,1),Yt(oo()))).length;return Gr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),Ls=Gr((function(e,t){var n=an(t,io(Ls));return Xi(e,l,i,t,n)})),Ns=Gr((function(e,t){var n=an(t,io(Ns));return Xi(e,64,i,t,n)})),js=Ji((function(e,t){return Xi(e,256,i,i,i,t)}));function zs(e,t){return e===t||e!=e&&t!=t}var Bs=Wi(Er),Us=Wi((function(e,t){return e>=t})),Vs=Tr(function(){return arguments}())?Tr:function(e){return ea(e)&&Ie.call(e,"callee")&&!qe.call(e,"callee")},Ws=r.isArray,$s=yt?Yt(yt):function(e){return ea(e)&&Sr(e)==O};function Hs(e){return null!=e&&Qs(e.length)&&!Ks(e)}function qs(e){return ea(e)&&Hs(e)}var Gs=mt||gl,Xs=vt?Yt(vt):function(e){return ea(e)&&Sr(e)==v};function Ys(e){if(!ea(e))return!1;var t=Sr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ks(e){if(!Js(e))return!1;var t=Sr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==fa(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Js(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=bt?Yt(bt):function(e){return ea(e)&&ho(e)==x};function na(e){return"number"==typeof e||ea(e)&&Sr(e)==S}function ra(e){if(!ea(e)||Sr(e)!=E)return!1;var t=$e(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ne}var ia=_t?Yt(_t):function(e){return ea(e)&&Sr(e)==k},oa=wt?Yt(wt):function(e){return ea(e)&&ho(e)==P};function sa(e){return"string"==typeof e||!Ws(e)&&ea(e)&&Sr(e)==A}function aa(e){return"symbol"==typeof e||ea(e)&&Sr(e)==T}var la=xt?Yt(xt):function(e){return ea(e)&&Qs(e.length)&&!!it[Sr(e)]},ca=Wi(Fr),ua=Wi((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Hs(e))return sa(e)?hn(e):ki(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=ho(e);return(t==x?on:t==P?ln:za)(e)}function da(e){return e?(e=ga(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?or(fa(e),0,f):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return d;if(Js(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Js(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=pe.test(e);return n||me.test(e)?lt(e.slice(2),n?2:8):fe.test(e)?d:+e}function ma(e){return Pi(e,Oa(e))}function ya(e){return null==e?"":si(e)}var va=Ti((function(e,t){if(wo(t)||Hs(t))Pi(t,Ra(t),e);else for(var n in t)Ie.call(t,n)&&Jn(e,n,t[n])})),ba=Ti((function(e,t){Pi(t,Oa(t),e)})),_a=Ti((function(e,t,n,r){Pi(t,Oa(t),e,r)})),wa=Ti((function(e,t,n,r){Pi(t,Ra(t),e,r)})),xa=Ji(ir),Sa=Gr((function(e,t){e=Ee(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Oa(s),l=-1,c=a.length;++l<c;){var u=a[l],h=e[u];(h===i||zs(h,Re[u])&&!Ie.call(e,u))&&(e[u]=s[u])}return e})),Ea=Gr((function(e){return e.push(i,Ki),St(Ia,i,e)}));function Ca(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function ka(e,t){return null!=e&&fo(e,t,kr)}var Pa=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),Ja(nl)),Aa=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Ta=Gr(Ar);function Ra(e){return Hs(e)?Xn(e):Dr(e)}function Oa(e){return Hs(e)?Xn(e,!0):function(e){if(!Js(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=wo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}(e)}var Ma=Ti((function(e,t,n){zr(e,t,n)})),Ia=Ti((function(e,t,n,r){zr(e,t,n,r)})),Da=Ji((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=mi(t,e),r||(r=t.length>1),t})),Pi(e,to(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)li(n,t[i]);return n})),Fa=Ji((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return ka(e,n)}))}(e,t)}));function La(e,t){if(null==e)return{};var n=Ot(to(e),(function(e){return[e]}));return t=oo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Na=Gi(Ra),ja=Gi(Oa);function za(e){return null==e?[]:Kt(e,Ra(e))}var Ba=Ii((function(e,t,n){return t=t.toLowerCase(),e+(n?Ua(t):t)}));function Ua(e){return Ya(ya(e).toLowerCase())}function Va(e){return(e=ya(e))&&e.replace(ve,en).replace(Ze,"")}var Wa=Ii((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$a=Ii((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ha=Mi("toLowerCase"),qa=Ii((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ga=Ii((function(e,t,n){return e+(n?" ":"")+Ya(t)})),Xa=Ii((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ya=Mi("toUpperCase");function Ka(e,t,n){return e=ya(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Za=Gr((function(e,t){try{return St(e,i,t)}catch(e){return Ys(e)?e:new we(e)}})),Qa=Ji((function(e,t){return Ct(t,(function(t){t=Lo(t),rr(e,t,As(e[t],e))})),e}));function Ja(e){return function(){return e}}var el=Li(),tl=Li(!0);function nl(e){return e}function rl(e){return Ir("function"==typeof e?e:sr(e,1))}var il=Gr((function(e,t){return function(n){return Ar(n,e,t)}})),ol=Gr((function(e,t){return function(n){return Ar(e,n,t)}}));function sl(e,t,n){var r=Ra(t),i=_r(t,r);null!=n||Js(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Ra(t)));var o=!(Js(n)&&"chain"in n&&!n.chain),s=Ks(e);return Ct(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=ki(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function al(){}var ll=Bi(Ot),cl=Bi(Pt),ul=Bi(Ft);function hl(e){return vo(e)?Wt(Lo(e)):function(e){return function(t){return wr(t,e)}}(e)}var dl=Vi(),fl=Vi(!0);function pl(){return[]}function gl(){return!1}var ml,yl=zi((function(e,t){return e+t}),0),vl=Hi("ceil"),bl=zi((function(e,t){return e/t}),1),_l=Hi("floor"),wl=zi((function(e,t){return e*t}),1),xl=Hi("round"),Sl=zi((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Pe(o);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=ks,jn.assign=va,jn.assignIn=ba,jn.assignInWith=_a,jn.assignWith=wa,jn.at=xa,jn.before=Ps,jn.bind=As,jn.bindAll=Qa,jn.bindKey=Ts,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ws(e)?e:[e]},jn.chain=hs,jn.chunk=function(e,t,n){t=(n?yo(e,t,n):t===i)?1:mn(fa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(dt(o/t));s<o;)l[a++]=ei(e,s,s+=t);return l},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Ws(n)?ki(n):[n],gr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Pe(o);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Ra(e);return function(n){return ar(n,e,t)}}(sr(e,1))},jn.constant=Ja,jn.countBy=ps,jn.create=function(e,t){var n=zn(e);return null==t?n:nr(n,t)},jn.curry=function e(t,n,r){var o=Xi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.curryRight=function e(t,n,r){var o=Xi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.debounce=Rs,jn.defaults=Sa,jn.defaultsDeep=Ea,jn.defer=Os,jn.delay=Ms,jn.difference=zo,jn.differenceBy=Bo,jn.differenceWith=Uo,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:fa(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:fa(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!0):[]},jn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=fa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:fa(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Ws(e)?At:pr)(e,oo(t,3))},jn.flatMap=function(e,t){return gr(xs(e,t),1)},jn.flatMapDeep=function(e,t){return gr(xs(e,t),u)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:fa(n),gr(xs(e,t),n)},jn.flatten=$o,jn.flattenDeep=function(e){return null!=e&&e.length?gr(e,u):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:fa(t)):[]},jn.flip=function(e){return Xi(e,512)},jn.flow=el,jn.flowRight=tl,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:_r(e,Ra(e))},jn.functionsIn=function(e){return null==e?[]:_r(e,Oa(e))},jn.groupBy=bs,jn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},jn.intersection=qo,jn.intersectionBy=Go,jn.intersectionWith=Xo,jn.invert=Pa,jn.invertBy=Aa,jn.invokeMap=_s,jn.iteratee=rl,jn.keyBy=ws,jn.keys=Ra,jn.keysIn=Oa,jn.map=xs,jn.mapKeys=function(e,t){var n={};return t=oo(t,3),vr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=oo(t,3),vr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},jn.matches=function(e){return Nr(sr(e,1))},jn.matchesProperty=function(e,t){return jr(e,sr(t,1))},jn.memoize=Is,jn.merge=Ma,jn.mergeWith=Ia,jn.method=il,jn.methodOf=ol,jn.mixin=sl,jn.negate=Ds,jn.nthArg=function(e){return e=fa(e),Gr((function(t){return Br(t,e)}))},jn.omit=Da,jn.omitBy=function(e,t){return La(e,Ds(oo(t)))},jn.once=function(e){return Ps(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Ws(t)||(t=null==t?[]:[t]),Ws(n=r?i:n)||(n=null==n?[]:[n]),Ur(e,t,n))},jn.over=ll,jn.overArgs=Fs,jn.overEvery=cl,jn.overSome=ul,jn.partial=Ls,jn.partialRight=Ns,jn.partition=Ss,jn.pick=Fa,jn.pickBy=La,jn.property=hl,jn.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},jn.pull=Ko,jn.pullAll=Zo,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,oo(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},jn.pullAt=Qo,jn.range=dl,jn.rangeRight=fl,jn.rearg=js,jn.reject=function(e,t){return(Ws(e)?At:pr)(e,Ds(oo(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return $r(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Pe(o);return Gr(e,t=t===i?t:fa(t))},jn.reverse=Jo,jn.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:fa(t),(Ws(e)?Kn:Yr)(e,t)},jn.set=function(e,t,n){return null==e?e:Kr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Kr(e,t,n,r)},jn.shuffle=function(e){return(Ws(e)?Zn:Jr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===i?r:fa(n)),ei(e,t,n)):[]},jn.sortBy=Es,jn.sortedUniq=function(e){return e&&e.length?ii(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?vi(hn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Pe(o);return t=null==t?0:mn(fa(t),0),Gr((function(n){var r=n[t],i=vi(n,0,t);return r&&Mt(i,r),St(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:fa(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:fa(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?ui(e,oo(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?ui(e,oo(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Pe(o);return Js(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rs(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=ds,jn.toArray=ha,jn.toPairs=Na,jn.toPairsIn=ja,jn.toPath=function(e){return Ws(e)?Ot(e,Lo):aa(e)?[e]:ki(Fo(ya(e)))},jn.toPlainObject=ma,jn.transform=function(e,t,n){var r=Ws(e),i=r||Gs(e)||la(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Js(e)&&Ks(o)?zn($e(e)):{}}return(i?Ct:vr)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return ks(e,1)},jn.union=es,jn.unionBy=ts,jn.unionWith=ns,jn.uniq=function(e){return e&&e.length?ai(e):[]},jn.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},jn.unset=function(e,t){return null==e||li(e,t)},jn.unzip=rs,jn.unzipWith=is,jn.update=function(e,t,n){return null==e?e:ci(e,t,gi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ci(e,t,gi(n),r)},jn.values=za,jn.valuesIn=function(e){return null==e?[]:Kt(e,Oa(e))},jn.without=os,jn.words=Ka,jn.wrap=function(e,t){return Ls(gi(t),e)},jn.xor=ss,jn.xorBy=as,jn.xorWith=ls,jn.zip=cs,jn.zipObject=function(e,t){return fi(e||[],t||[],Jn)},jn.zipObjectDeep=function(e,t){return fi(e||[],t||[],Kr)},jn.zipWith=us,jn.entries=Na,jn.entriesIn=ja,jn.extend=ba,jn.extendWith=_a,sl(jn,jn),jn.add=yl,jn.attempt=Za,jn.camelCase=Ba,jn.capitalize=Ua,jn.ceil=vl,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))==n?n:0),t!==i&&(t=(t=ga(t))==t?t:0),or(ga(e),t,n)},jn.clone=function(e){return sr(e,4)},jn.cloneDeep=function(e){return sr(e,5)},jn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||ar(e,t,Ra(t))},jn.deburr=Va,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=bl,jn.endsWith=function(e,t,n){e=ya(e),t=si(t);var r=e.length,o=n=n===i?r:or(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},jn.eq=zs,jn.escape=function(e){return(e=ya(e))&&X.test(e)?e.replace(q,tn):e},jn.escapeRegExp=function(e){return(e=ya(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=Ws(e)?Pt:dr;return n&&yo(e,t,n)&&(t=i),r(e,oo(t,3))},jn.find=gs,jn.findIndex=Vo,jn.findKey=function(e,t){return Nt(e,oo(t,3),vr)},jn.findLast=ms,jn.findLastIndex=Wo,jn.findLastKey=function(e,t){return Nt(e,oo(t,3),br)},jn.floor=_l,jn.forEach=ys,jn.forEachRight=vs,jn.forIn=function(e,t){return null==e?e:mr(e,oo(t,3),Oa)},jn.forInRight=function(e,t){return null==e?e:yr(e,oo(t,3),Oa)},jn.forOwn=function(e,t){return e&&vr(e,oo(t,3))},jn.forOwnRight=function(e,t){return e&&br(e,oo(t,3))},jn.get=Ca,jn.gt=Bs,jn.gte=Us,jn.has=function(e,t){return null!=e&&fo(e,t,Cr)},jn.hasIn=ka,jn.head=Ho,jn.identity=nl,jn.includes=function(e,t,n,r){e=Hs(e)?e:za(e),n=n&&!r?fa(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=mn(r+i,0)),zt(e,t,i)},jn.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=yn(t,n)&&e<mn(t,n)}(e=ga(e),t,n)},jn.invoke=Ta,jn.isArguments=Vs,jn.isArray=Ws,jn.isArrayBuffer=$s,jn.isArrayLike=Hs,jn.isArrayLikeObject=qs,jn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Sr(e)==y},jn.isBuffer=Gs,jn.isDate=Xs,jn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&(Ws(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||la(e)||Vs(e)))return!e.length;var t=ho(e);if(t==x||t==P)return!e.size;if(wo(e))return!Dr(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Rr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},jn.isError=Ys,jn.isFinite=function(e){return"number"==typeof e&&Lt(e)},jn.isFunction=Ks,jn.isInteger=Zs,jn.isLength=Qs,jn.isMap=ta,jn.isMatch=function(e,t){return e===t||Or(e,t,ao(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,ao(t),n)},jn.isNaN=function(e){return na(e)&&e!=+e},jn.isNative=function(e){if(_o(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=na,jn.isObject=Js,jn.isObjectLike=ea,jn.isPlainObject=ra,jn.isRegExp=ia,jn.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=h},jn.isSet=oa,jn.isString=sa,jn.isSymbol=aa,jn.isTypedArray=la,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return ea(e)&&ho(e)==R},jn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Sr(e)},jn.join=function(e,t){return null==e?"":$t.call(e,t)},jn.kebabCase=Wa,jn.last=Yo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=fa(n))<0?mn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,Ut,o,!0)},jn.lowerCase=$a,jn.lowerFirst=Ha,jn.lt=ca,jn.lte=ua,jn.max=function(e){return e&&e.length?fr(e,nl,Er):i},jn.maxBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Er):i},jn.mean=function(e){return Vt(e,nl)},jn.meanBy=function(e,t){return Vt(e,oo(t,2))},jn.min=function(e){return e&&e.length?fr(e,nl,Fr):i},jn.minBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Fr):i},jn.stubArray=pl,jn.stubFalse=gl,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=wl,jn.nth=function(e,t){return e&&e.length?Br(e,fa(t)):i},jn.noConflict=function(){return ht._===this&&(ht._=je),this},jn.noop=al,jn.now=Cs,jn.pad=function(e,t,n){e=ya(e);var r=(t=fa(t))?un(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ui(ft(i),n)+e+Ui(dt(i),n)},jn.padEnd=function(e,t,n){e=ya(e);var r=(t=fa(t))?un(e):0;return t&&r<t?e+Ui(t-r,n):e},jn.padStart=function(e,t,n){e=ya(e);var r=(t=fa(t))?un(e):0;return t&&r<t?Ui(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(ya(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return yn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Hr(e,t)},jn.reduce=function(e,t,n){var r=Ws(e)?It:Ht,i=arguments.length<3;return r(e,oo(t,4),n,i,ur)},jn.reduceRight=function(e,t,n){var r=Ws(e)?Dt:Ht,i=arguments.length<3;return r(e,oo(t,4),n,i,hr)},jn.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:fa(t),qr(ya(e),t)},jn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Lo(t[r])];s===i&&(r=o,s=n),e=Ks(s)?s.call(e):s}return e},jn.round=xl,jn.runInContext=e,jn.sample=function(e){return(Ws(e)?Yn:Xr)(e)},jn.size=function(e){if(null==e)return 0;if(Hs(e))return sa(e)?un(e):e.length;var t=ho(e);return t==x||t==P?e.size:Dr(e).length},jn.snakeCase=qa,jn.some=function(e,t,n){var r=Ws(e)?Ft:ti;return n&&yo(e,t,n)&&(t=i),r(e,oo(t,3))},jn.sortedIndex=function(e,t){return ni(e,t)},jn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&zs(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return ni(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(zs(e[n],t))return n}return-1},jn.startCase=Ga,jn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:or(fa(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},jn.subtract=Sl,jn.sum=function(e){return e&&e.length?qt(e,nl):0},jn.sumBy=function(e,t){return e&&e.length?qt(e,oo(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&yo(e,t,n)&&(t=i),e=ya(e),t=_a({},t,r,Yi);var o,s,a=_a({},t.imports,r.imports,Yi),l=Ra(a),c=Kt(a,l),u=0,h=t.interpolate||be,d="__p += '",f=Ce((t.escape||be).source+"|"+h.source+"|"+(h===Z?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),d+=e.slice(u,l).replace(_e,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var g=Ie.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new we("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace(W,"$1").replace($,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Za((function(){return xe(l,p+"return "+d).apply(i,c)}));if(m.source=d,Ys(m))throw m;return m},jn.times=function(e,t){if((e=fa(e))<1||e>h)return[];var n=f,r=yn(e,f);t=oo(t),e-=f;for(var i=Gt(r,t);++n<e;)t(n);return i},jn.toFinite=da,jn.toInteger=fa,jn.toLength=pa,jn.toLower=function(e){return ya(e).toLowerCase()},jn.toNumber=ga,jn.toSafeInteger=function(e){return e?or(fa(e),-9007199254740991,h):0===e?e:0},jn.toString=ya,jn.toUpper=function(e){return ya(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ya(e))&&(n||t===i))return Xt(e);if(!e||!(t=si(t)))return e;var r=hn(e),o=hn(t);return vi(r,Qt(r,o),Jt(r,o)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return vi(r,0,Jt(r,hn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=hn(e);return vi(r,Qt(r,hn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Js(t)){var o="separator"in t?t.separator:o;n="length"in t?fa(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=ya(e)).length;if(rn(e)){var a=hn(e);s=a.length}if(n>=s)return e;var l=n-un(r);if(l<1)return r;var c=a?vi(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),ia(o)){if(e.slice(l).search(o)){var u,h=c;for(o.global||(o=Ce(o.source,ya(de.exec(o))+"g")),o.lastIndex=0;u=o.exec(h);)var d=u.index;c=c.slice(0,d===i?l:d)}}else if(e.indexOf(si(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},jn.unescape=function(e){return(e=ya(e))&&G.test(e)?e.replace(H,fn):e},jn.uniqueId=function(e){var t=++De;return ya(e)+t},jn.upperCase=Xa,jn.upperFirst=Ya,jn.each=ys,jn.eachRight=vs,jn.first=Ho,sl(jn,(ml={},vr(jn,(function(e,t){Ie.call(jn.prototype,t)||(ml[t]=e)})),ml),{chain:!1}),jn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Ct(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:mn(fa(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(nl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Ar(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ds(oo(e)))},Vn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(f)},vr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,c=a[0],u=l||Ws(t),h=function(e){var t=o.apply(jn,Mt([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=l&&!f;if(!s&&u){t=g?t:new Vn(this);var m=e.apply(t,a);return m.__actions__.push({func:ds,args:[h],thisArg:i}),new Un(m,d)}return p&&g?e.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ws(i)?i:[],e)}return this[n]((function(n){return t.apply(Ws(n)?n:[],e)}))}})),vr(Vn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Ie.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Ni(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ws(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=mn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,d=0,f=yn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var g=-1,m=e[c+=t];++g<h;){var y=u[g],v=y.iteratee,b=y.type,_=v(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[d++]=m}return p},jn.prototype.at=fs,jn.prototype.chain=function(){return hs(this)},jn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=jo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Jo],thisArg:i}),new Un(t,this.__chain__)}return this.thru(Jo)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Ye&&(jn.prototype[Ye]=function(){return this}),jn}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},104:(e,t,n)=>{var r=n(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},583:(e,t,n)=>{var r=n(7237),i=n(7255),o=n(8586),s=n(7797);e.exports=function(e){return o(e)?r(s(e)):i(e)}},3345:e=>{e.exports=function(){return[]}},9935:e=>{e.exports=function(){return!1}},7400:(e,t,n)=>{var r=n(9374),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},9374:(e,t,n)=>{var r=n(4128),i=n(3805),o=n(4394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},5808:(e,t,n)=>{var r=n(2507)("toUpperCase");e.exports=r},1811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((i=e[n])===(o=t[n])||r(i)&&r(o)))return!1;var i,o;return!0}const o=function(e,t){var n;void 0===t&&(t=i);var r,o=[],s=!1;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return s&&n===this&&t(i,o)||(r=e.apply(this,i),s=!0,n=this,o=i),r}}},748:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=u,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let r=0;r<t;r++)n+=u(e[r]);let r=0;const i=new Uint8Array(n);for(let n=0;n<t;n++){let t=e[n];t instanceof Uint8Array||(t="string"==typeof t?c(t):new Uint8Array(t));const o=t.byteLength;i.set(t,r),r+=o}return i},t.assert=function(e,t){e||s(t)},t.bytesToString=function(e){"object"==typeof e&&null!==e&&void 0!==e.length||s("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const o=Math.min(i+n,t),s=e.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e,t=null,n=null){if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=p(e)}catch(e){}}const r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(e=>"\n"===e?"\\n":"\r"===e?"\\r":`\\${e}`))},t.getModificationDate=function(e=new Date){return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=a,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=c,t.stringToPDFString=function(e){if(e[0]>="ï"){let t;if("þ"===e[0]&&"ÿ"===e[1]?t="utf-16be":"ÿ"===e[0]&&"þ"===e[1]?t="utf-16le":"ï"===e[0]&&"»"===e[1]&&"¿"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=c(e);return n.decode(r)}catch(e){o(`stringToPDFString: "${e}".`)}}const t=[];for(let n=0,r=e.length;n<r;n++){const r=f[e.charCodeAt(n)];t.push(r?String.fromCharCode(r):e.charAt(n))}return t.join("")},t.stringToUTF16BEString=function(e){const t=["þÿ"];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);t.push(String.fromCharCode(r>>8&255),String.fromCharCode(255&r))}return t.join("")},t.stringToUTF8String=p,t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=o,n(2),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function o(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function s(e){throw new Error(e)}function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"string"!=typeof e&&s("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function u(e){return void 0!==e.length?e.length:void 0!==e.byteLength?e.byteLength:void s("Invalid argument for arrayByteLength")}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const h=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class d{static makeHexColor(e,t,n){return`#${h[e]}${h[t]}${h[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=d.applyTransform(e,t),r=d.applyTransform(e.slice(2,4),t),i=d.applyTransform([e[0],e[3]],t),o=d.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],s=(n+o)/2,a=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,l=s+a||1,c=s-a||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[n,i,r,o]}static bezierBoundingBox(e,t,n,r,i,o,s,a){const l=[],c=[[],[]];let u,h,d,f,p,g,m,y;for(let c=0;c<2;++c)if(0===c?(h=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*s,d=3*n-3*e):(h=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*a,d=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(h)<1e-12)continue;f=-d/h,0<f&&f<1&&l.push(f)}else m=h*h-4*d*u,y=Math.sqrt(m),m<0||(p=(-h+y)/(2*u),0<p&&p<1&&l.push(p),g=(-h-y)/(2*u),0<g&&g<1&&l.push(g));let v,b=l.length;const _=b;for(;b--;)f=l[b],v=1-f,c[0][b]=v*v*v*e+3*v*v*f*n+3*v*f*f*i+f*f*f*s,c[1][b]=v*v*v*t+3*v*v*f*r+3*v*f*f*o+f*f*f*a;return c[0][_]=e,c[1][_]=t,c[0][_+1]=s,c[1][_+1]=a,c[0].length=c[1].length=_+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=d;const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function p(e){return decodeURIComponent(escape(e))}},(e,t,n)=>{n(3)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"==typeof e||e instanceof URL)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const r=Object.create(null);let i=null,o=null;for(const e in n){const t=n[e];switch(e){case"url":if("undefined"!=typeof window)try{r[e]=new URL(t,window.location).href;continue}catch(e){(0,_util.warn)(`Cannot create valid URL: "${e}".`)}else if("string"==typeof t||t instanceof URL){r[e]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=t;continue;case"worker":o=t;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&t instanceof Buffer)r[e]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"==typeof t)r[e]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[e]=new Uint8Array(t)}else r[e]=new Uint8Array(t)}continue}r[e]=t}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"==typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){const e={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=o}const s=t.docId;return o.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(o,r,i,s),n=new Promise((function(e){let t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,n]).then((function([e,n]){if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(s,e,o.port),a=new WorkerTransport(i,t,n,r);t._transport=a,i.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t,n,r){if(e.destroyed)throw new Error("Worker was destroyed");n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone,t.contentDispositionFilename=n.contentDispositionFilename);const i=await e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(t.data&&(t.data=null),e.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r,i=!1){this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const t=this._transport.getRenderingIntent(e);let n=this._annotationPromises.get(t.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,n),n=n.then((e=>{for(const t of e)void 0!==t.titleObj&&Object.defineProperty(t,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str)}),void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str)});return e}))),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:i=null,imageLayer:o=null,canvasFactory:s=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const d=this._transport.getRenderingIntent(n,r,h);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let f=this._intentStates.get(d.cacheKey);f||(f=Object.create(null),this._intentStates.set(d.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const p=s||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(d.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=(0,_util.createPromiseCapability)(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(d));const m=e=>{f.renderTasks.delete(y),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(y.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:m,params:{canvasContext:e,viewport:t,transform:i,imageLayer:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:p,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:u});(f.renderTasks||=new Set).add(y);const v=y.task;return Promise.all([f.displayReadyCapability.promise,l]).then((([e,t])=>{this.pendingCleanup?m():(this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:e,optionalContentConfig:t}),y.operatorListChanged())})).catch(m),v}getOperatorList({intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){const r=this._transport.getRenderingIntent(e,t,n,!0);let i,o=this._intentStates.get(r.cacheKey);return o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o)),o.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(i))},o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||=new Set).add(i),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function({value:n,done:r}){r?e(i):(Object.assign(i.styles,n.styles),i.items.push(...n.items),t())}),n)}()}))}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageMap:n}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:n}).getReader(),i=this._intentStates.get(t);i.streamReader=r;const o=()=>{r.read().then((({value:e,done:t})=>{t?i.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,i),o())}),(e=>{if(i.streamReader=null,!this._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(const e of i.renderTasks)e.operatorListChanged();this._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(e);else{if(!i.opListReadCapability)throw e;i.opListReadCapability.reject(e)}}}))};o()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(!n){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(t.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,t){const n={data:structuredClone(e,t)};this._deferred.then((()=>{for(const e of this._listeners)e.call(this,n)}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(e){return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#t=new WeakMap;constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(t&&PDFWorker.#t.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return PDFWorker.#t.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",(e=>{t.removeEventListener("error",i),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",i),this.destroyed)r();else try{o()}catch(e){this._setupFakeWorker()}}));const o=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#t.has(e.port)?this.#t.get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#n=null;#r=new Map;#i=new Map;#o=null;constructor(e,t,n,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#n}getRenderingIntent(e,t=_util.AnnotationMode.ENABLE,n=null,r=!1){let i=_util.RenderingIntentFlag.DISPLAY,o=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const t of this.#r.values())e.push(t._destroy());this.#r.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(e,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const n=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#r.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(([t,n,r])=>{if(!this.destroyed&&!this.commonObjs.has(t))switch(n){case"Font":const i=this._params;if("error"in r){const e=r.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}let o=null;i.pdfBug&&globalThis.FontInspector?.enabled&&(o={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const s=new _font_loader.FontFaceObject(r,{isEvalSupported:i.isEvalSupported,disableFontFace:i.disableFontFace,ignoreErrors:i.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:o});this.fontLoader.bind(s).catch((n=>e.sendWithPromise("FontFallback",{id:t}))).finally((()=>{!i.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(t,s)}));break;case"FontPath":case"Image":this.commonObjs.resolve(t,r);break;default:throw new Error(`Got unknown common object type ${n}`)}})),e.on("obj",(([e,t,n,r])=>{if(this.destroyed)return;const i=this.#r.get(t);if(!i.objs.has(e))switch(n){case"Image":i.objs.resolve(e,r);const t=8e6;if(r){let e;if(r.bitmap){const{bitmap:t,width:n,height:o}=r;e=n*o*4,i._bitmaps.add(t)}else e=r.data?.length||0;e>t&&(i.cleanupAfterRender=!0)}break;case"Pattern":i.objs.resolve(e,r);break;default:throw new Error(`Got unknown object type ${n}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("DocStats",(e=>{this.destroyed||(this.#n=Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#i.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return this.#r.set(t,n),n}));return this.#i.set(t,r),r}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#o||=this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const e of this.#r.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#s=Object.create(null);#a(e){return this.#s[e]||(this.#s[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,t=null){if(t){const n=this.#a(e);return n.capability.promise.then((()=>t(n.data))),null}const n=this.#s[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#s[e];return t?.capability.settled||!1}resolve(e,t=null){const n=this.#a(e);n.data=t,n.capability.resolve()}clear(){this.#s=Object.create(null)}}class RenderTask{#l=null;constructor(e){this.#l=e,this.onContinue=null}get promise(){return this.#l.capability.promise}cancel(){this.#l.cancel()}get separateAnnots(){const{separateAnnots:e}=this.#l.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#l;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#c=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:s,canvasFactory:a,useRequestAnimationFrame:l=!1,pdfBug:c=!1,pageColors:u=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=a,this._pdfBug=c,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#c.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#c.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:i,imageLayer:o,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,o,t,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#c.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#c.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(6),o=n(10);class s{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this._storage.get(e)}remove(e){if(this._storage.delete(e),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this._storage.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this._storage.get(e);let r=!1;if(void 0!==n)for(const[e,i]of Object.entries(t))n[e]!==i&&(r=!0,n[e]=i);else r=!0,this._storage.set(e,t);r&&this.#u(),t instanceof i.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this._storage.has(e)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}#u(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new a(this)}get serializable(){if(0===this._storage.size)return null;const e=new Map;for(const[t,n]of this._storage){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&e.set(t,r)}return e}static getHash(e){if(!e)return"";const t=new o.MurmurHash3_64;for(const[n,r]of e)t.update(`${n}:${JSON.stringify(r)}`);return t.hexdigest()}}t.AnnotationStorage=s;class a extends s{#h=null;constructor(e){super(),this.#h=structuredClone(e.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#h}}t.PrintAnnotationStorage=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(7),i=n(1);class o{#d=this.focusin.bind(this);#f=this.focusout.bind(this);#p=!1;#g=!1;#m=!1;#y=o._zIndex++;static _colorManager=new r.ColorManager;static _zIndex=1;constructor(e){this.constructor===o&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null;const[t,n]=this.parent.viewportBaseDimensions;this.x=e.x/t,this.y=e.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}focusin(e){this.#p?this.#p=!1:this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,n,r){const[i,o]=this.parent.viewportBaseDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/o,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[n,r]=this.parent.viewportBaseDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/n,this.y+=t/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}setDims(e,t){const[n,r]=this.parent.viewportBaseDimensions;this.div.style.width=100*e/n+"%",this.div.style.height=100*t/r+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#d),this.div.addEventListener("focusout",this.#f);const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#p=!0)}getRect(e,t){const[n,r]=this.parent.viewportBaseDimensions,[i,o]=this.parent.pageDimensions,s=i*e/n,a=o*t/r,l=this.x*i,c=this.y*o,u=this.width*i,h=this.height*o;switch(this.rotation){case 0:return[l+s,o-c-a-h,l+s+u,o-c-a];case 90:return[l+a,o-c+s,l+a+h,o-c+s+u];case 180:return[l-s-u,o-c+a,l-s,o-c+a+h];case 270:return[l-a-h,o-c-s-u,l-a,o-c-s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,o]=e,s=i-n,a=o-r;switch(this.rotation){case 0:return[n,t-o,s,a];case 90:return[n,t-r,a,s];case 180:return[i,t-r,s,a];case 270:return[i,t-o,a,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#d)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t){const n=new this.prototype.constructor({parent:t,id:t.getNextId()});n.rotation=e.rotation;const[r,i]=t.pageDimensions,[o,s,a,l]=n.getRectInCurrentCoords(e.rect,i);return n.x=o/r,n.y=s/i,n.width=a/r,n.height=l/i,n}remove(){this.div.removeEventListener("focusin",this.#d),this.div.removeEventListener("focusout",this.#f),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(8);class o{#v=0;getId(){return`${r.AnnotationEditorPrefix}${this.#v++}`}}class s{#b=[];#_=!1;#w;#x=-1;constructor(e=128){this.#w=e}add({cmd:e,undo:t,mustExec:n,type:r=NaN,overwriteIfSameType:i=!1,keepUndo:o=!1}){if(n&&e(),this.#_)return;const s={cmd:e,undo:t,type:r};if(-1===this.#x)return this.#b.length>0&&(this.#b.length=0),this.#x=0,void this.#b.push(s);if(i&&this.#b[this.#x].type===r)return o&&(s.undo=this.#b[this.#x].undo),void(this.#b[this.#x]=s);const a=this.#x+1;a===this.#w?this.#b.splice(0,1):(this.#x=a,a<this.#b.length&&this.#b.splice(a)),this.#b.push(s)}undo(){-1!==this.#x&&(this.#_=!0,this.#b[this.#x].undo(),this.#_=!1,this.#x-=1)}redo(){this.#x<this.#b.length-1&&(this.#x+=1,this.#_=!0,this.#b[this.#x].cmd(),this.#_=!1)}hasSomethingToUndo(){return-1!==this.#x}hasSomethingToRedo(){return this.#x<this.#b.length-1}destroy(){this.#b=null}}t.CommandManager=s;class a{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const t=a.platform.isMac;for(const[n,r]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),r),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,r),this.allKeys.add(e.split("+").at(-1)))}}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}#S(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#S(t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}t.KeyboardManager=a;class l{#E=null;copy(e){e&&(Array.isArray(e)?this.#E=e.map((e=>e.serialize())):this.#E=[e.serialize()],this.#E=this.#E.filter((e=>!!e)),0===this.#E.length&&(this.#E=null))}paste(){return this.#E}isEmpty(){return null===this.#E}destroy(){this.#E=null}}class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,n]of this._colors)if(n.every(((e,n)=>e===t[n])))return c._colorsMapping.get(e);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=c;class u{#C=null;#k=new Map;#P=new Map;#A=new l;#T=new s;#R=0;#O=null;#M=null;#I=new o;#D=!1;#F=r.AnnotationEditorType.NONE;#L=new Set;#N=this.keydown.bind(this);#j=this.onEditingAction.bind(this);#z=this.onPageChanging.bind(this);#B={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#U=null;static _keyboardManager=new a([[["ctrl+a","mac+meta+a"],u.prototype.selectAll],[["ctrl+c","mac+meta+c"],u.prototype.copy],[["ctrl+v","mac+meta+v"],u.prototype.paste],[["ctrl+x","mac+meta+x"],u.prototype.cut],[["ctrl+z","mac+meta+z"],u.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],u.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],u.prototype.delete],[["Escape","mac+Escape"],u.prototype.unselectAll]]);constructor(e,t){this.#U=e,this.#M=t,this.#M._on("editingaction",this.#j),this.#M._on("pagechanging",this.#z)}destroy(){this.#V(),this.#M._off("editingaction",this.#j),this.#M._off("pagechanging",this.#z);for(const e of this.#P.values())e.destroy();this.#P.clear(),this.#k.clear(),this.#C=null,this.#L.clear(),this.#A.destroy(),this.#T.destroy()}onPageChanging({pageNumber:e}){this.#R=e-1}focusMainContainer(){this.#U.focus()}#W(){this.#U.addEventListener("keydown",this.#N)}#V(){this.#U.removeEventListener("keydown",this.#N)}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||u._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","cut","copy","paste","delete","selectAll"].includes(e.name)&&this[e.name]()}#$(e){Object.entries(e).some((([e,t])=>this.#B[e]!==t))&&this.#M.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#B,e)})}#H(e){this.#M.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#W(),this.#$({isEditing:this.#F!==r.AnnotationEditorType.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#T.hasSomethingToUndo(),hasSomethingToRedo:this.#T.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#A.isEmpty()})):(this.#V(),this.#$({isEditing:!1}))}registerEditorTypes(e){this.#O=e;for(const e of this.#O)this.#H(e.defaultPropertiesToUpdate)}getId(){return this.#I.getId()}addLayer(e){this.#P.set(e.pageIndex,e),this.#D?e.enable():e.disable()}removeLayer(e){this.#P.delete(e.pageIndex)}updateMode(e){if(this.#F=e,e===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#G();else{this.setEditingState(!0),this.#X();for(const t of this.#P.values())t.updateMode(e)}}updateToolbar(e){e!==this.#F&&this.#M.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){for(const n of this.#L)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}#X(){if(!this.#D){this.#D=!0;for(const e of this.#P.values())e.enable()}}#G(){if(this.unselectAll(),this.#D){this.#D=!1;for(const e of this.#P.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#k.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#k.get(e)}addEditor(e){this.#k.set(e.id,e)}removeEditor(e){this.#k.delete(e.id),this.unselect(e)}#Y(e){const t=this.#P.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#C!==e&&(this.#C=e,e&&this.#H(e.propertiesToUpdate))}toggleSelected(e){if(this.#L.has(e))return this.#L.delete(e),e.unselect(),void this.#$({hasSelectedEditor:this.hasSelection});this.#L.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#$({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#L)t!==e&&t.unselect();this.#L.clear(),this.#L.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#$({hasSelectedEditor:!0})}isSelected(e){return this.#L.has(e)}unselect(e){e.unselect(),this.#L.delete(e),this.#$({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#L.size}undo(){this.#T.undo(),this.#$({hasSomethingToUndo:this.#T.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#T.redo(),this.#$({hasSomethingToUndo:!0,hasSomethingToRedo:this.#T.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(e){this.#T.add(e),this.#$({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(0===this.#k.size)return!0;if(1===this.#k.size)for(const e of this.#k.values())return e.isEmpty();return!1}delete(){if(this.#C&&this.#C.commitOrRemove(),!this.hasSelection)return;const e=[...this.#L];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Y(t)},mustExec:!0})}copy(){if(this.#C&&this.#C.commitOrRemove(),this.hasSelection){const e=[];for(const t of this.#L)t.isEmpty()||e.push(t);if(0===e.length)return;this.#A.copy(e),this.#$({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#A.isEmpty())return;this.unselectAll();const e=this.#P.get(this.#R),t=this.#A.paste().map((t=>e.deserialize(t)));this.addCommands({cmd:()=>{for(const e of t)this.#Y(e);this.#K(t)},undo:()=>{for(const e of t)e.remove()},mustExec:!0})}#K(e){this.#L.clear();for(const t of e)t.isEmpty()||(this.#L.add(t),t.select());this.#$({hasSelectedEditor:!0})}selectAll(){for(const e of this.#L)e.commit();this.#K(this.#k.values())}unselectAll(){if(this.#C)this.#C.commitOrRemove();else if(0!==this.#K.size){for(const e of this.#L)e.unselect();this.#L.clear(),this.#$({hasSelectedEditor:!1})}}isActive(e){return this.#C===e}getActive(){return this.#C}getMode(){return this.#F}}t.AnnotationEditorUIManager=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,m(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform();return[t,n,r,i,o,s]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e.getTransform().invertSelf();return[t,n,r,i,o,s]},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.getPdfFilenameFromUrl=function(e,t="document.pdf"){if("string"!=typeof e)return t;if(f(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch(e){}return o||t},t.getRGB=m,t.getXfaPageViewport=function(e,{scale:t=1,rotation:n=0}){const{width:r,height:i}=e.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new h({viewBox:o,scale:t,rotation:n})},t.isDataScheme=f,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=p,t.loadScript=function(e,t=!1){return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))};var r=n(9),i=n(1);t.AnnotationPrefix="pdfjs_internal_id_";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=o;class s extends r.BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function a(e,t=!1){if(p(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),t&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){let e;if(t&&o.response?e=new Uint8Array(o.response):!t&&o.responseText&&(e=(0,i.stringToBytes)(o.responseText)),e)return void n(e)}r(new Error(o.statusText))}},o.send(null)}))}t.DOMCanvasFactory=s;class l extends r.BaseCMapReaderFactory{_fetchData(e,t){return a(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=l;class c extends r.BaseStandardFontDataFactory{_fetchData(e){return a(e,!0)}}t.DOMStandardFontDataFactory=c;class u extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=u;class h{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=i;const s=(e[2]+e[0])/2,a=(e[3]+e[1])/2;let l,c,u,h,d,f,p,g;switch((n%=360)<0&&(n+=360),n){case 180:l=-1,c=0,u=0,h=1;break;case 90:l=0,c=1,u=1,h=0;break;case 270:l=0,c=-1,u=-1,h=0;break;case 0:l=1,c=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,h=-h),0===l?(d=Math.abs(a-e[1])*t+r,f=Math.abs(s-e[0])*t+i,p=Math.abs(e[3]-e[1])*t,g=Math.abs(e[2]-e[0])*t):(d=Math.abs(s-e[0])*t+r,f=Math.abs(a-e[1])*t+i,p=Math.abs(e[2]-e[0])*t,g=Math.abs(e[3]-e[1])*t),this.transform=[l*t,c*t,u*t,h*t,d-l*t*s-u*t*a,f-c*t*s-h*t*a],this.width=p,this.height=g}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new h({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=h;class d extends i.BaseException{constructor(e,t){super(e,"RenderingCancelledException"),this.type=t}}function f(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function p(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(e){return!1}}let g;function m(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=d,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const e of this.times){const n=e.name;n.length>t&&(t=n.length)}for(const n of this.times){const r=n.end-n.start;e.push(`${n.name.padEnd(t)} ${r}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!=typeof e)return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=g.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(o+=c,s+=u):"+"===l&&(o-=c,s-=u),new Date(Date.UTC(n,r,i,o,s,a))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class o{constructor({baseUrl:e=null,isCompressed:t=!1}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(t,n).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=o;class s{constructor({baseUrl:e=null}){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch((e=>{throw new Error(`Unable to load font data at: ${t}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=s;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,o=4294901760,s=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,u=0,h=this.h1,d=this.h2;const f=3432918353,p=461845907,g=11601,m=13715;for(let e=0;e<i;e++)1&e?(c=l[e],c=c*f&o|c*g&s,c=c<<15|c>>>17,c=c*p&o|c*m&s,h^=c,h=h<<13|h>>>19,h=5*h+3864292196):(u=l[e],u=u*f&o|u*g&s,u=u<<15|u>>>17,u=u*p&o|u*m&s,d^=u,d=d<<13|d>>>19,d=5*d+3864292196);switch(c=0,a){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*f&o|c*g&s,c=c<<15|c>>>17,c=c*p&o|c*m&s,1&i?h^=c:d^=c}this.h1=h,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;e^=t>>>1,e=3981806797*e&o|36045*e&s,t=4283543511*t&o|(2950163797*(t<<16|e>>>16)&o)>>>16,e^=t>>>1,e=444984403*e&o|60499*e&s,t=3301882366*t&o|(3120437893*(t<<16|e>>>16)&o)>>>16,e^=t>>>1;const n=(e>>>0).toString(16),r=(t>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);class i{constructor({docId:e,onUnsupportedFeature:t,ownerDocument:n=globalThis.document,styleElement:o=null}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=t,this._document=n,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(t));const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],r)}))}}_queueLoadingCallback(e){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;t.FontLoader=o,t.FontLoader=o=class extends i{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t?.[1]>=14&&(e=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=o(d,976,h.length,h);const f=1482184792;let p=i(d,16);for(s=0,a=h.length-3;s<a;s+=4)p=p-f+i(h,s)|0;s<h.length&&(p=p-f+i(h+"XXX",s)|0),d=o(d,16,4,(0,r.string32)(p));const g=`@font-face {font-family:"${h}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(g);const m=[];for(const e of t)m.push(e.loadedName);m.push(h);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const e of m){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=e,y.append(t)}this._document.body.append(y),function e(t,n){if(u++,u>30)return(0,r.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(()=>{y.remove(),n.complete()}))}},t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:n=!1,ignoreErrors:r=!1,onUnsupportedFeature:i,fontRegistry:o=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._onUnsupportedFeature=i,this.fontRegistry=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(8),i=n(1),o=n(13),s=n(14),a=n(3);const l=4096,c=a.isNodeJS&&"undefined"==typeof Path2D?-1:1e3,u=16;class h{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,n,i,o,s,a,l,c,u){const[h,d,f,p,g,m]=(0,r.getCurrentTransform)(e);if(0===d&&0===f){const r=a*h+g,y=Math.round(r),v=l*p+m,b=Math.round(v),_=(a+c)*h+g,w=Math.abs(Math.round(_)-y)||1,x=(l+u)*p+m,S=Math.abs(Math.round(x)-b)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),y,b),e.drawImage(t,n,i,o,s,0,0,w,S),e.setTransform(h,d,f,p,g,m),[w,S]}if(0===h&&0===p){const r=l*f+g,y=Math.round(r),v=a*d+m,b=Math.round(v),_=(l+u)*f+g,w=Math.abs(Math.round(_)-y)||1,x=(a+c)*d+m,S=Math.abs(Math.round(x)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(f),0,y,b),e.drawImage(t,n,i,o,s,0,0,S,w),e.setTransform(h,d,f,p,g,m),[S,w]}return e.drawImage(t,n,i,o,s,a,l,c,u),[Math.hypot(h,d)*c,Math.hypot(f,p)*u]}class f{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=i.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=i.Util.applyTransform(t,e),r=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,s,a,l,c,u){const h=i.Util.bezierBoundingBox(t,n,r,o,s,a,l,c);if(u)return u[0]=Math.min(u[0],h[0],h[2]),u[1]=Math.max(u[1],h[0],h[2]),u[2]=Math.min(u[2],h[1],h[3]),void(u[3]=Math.max(u[3],h[1],h[3]));this.updateRectMinMax(e,h)}getPathBoundingBox(e=o.PathType.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===o.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");const e=i.Util.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,o=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=o.PathType.FILL,t=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function p(e,t,n=null){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const r=t.height,o=t.width,s=r%u,a=(r-s)/u,l=0===s?a:a+1,c=e.createImageData(o,u);let h,d=0;const f=t.data,p=c.data;let g,m,y,v,b,_,w,x;if(n)switch(n.length){case 1:b=n[0],_=n[0],w=n[0],x=n[0];break;case 4:b=n[0],_=n[1],w=n[2],x=n[3]}if(t.kind===i.ImageKind.GRAYSCALE_1BPP){const t=f.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),r=n.length,v=o+7>>3;let b=4294967295,_=i.FeatureTest.isLittleEndian?4278190080:255;for(x&&255===x[0]&&0===x[255]&&([b,_]=[_,b]),g=0;g<l;g++){for(y=g<a?u:s,h=0,m=0;m<y;m++){const e=t-d;let r=0;const i=e>v?o:8*e-7,s=-8&i;let a=0,l=0;for(;r<s;r+=8)l=f[d++],n[h++]=128&l?b:_,n[h++]=64&l?b:_,n[h++]=32&l?b:_,n[h++]=16&l?b:_,n[h++]=8&l?b:_,n[h++]=4&l?b:_,n[h++]=2&l?b:_,n[h++]=1&l?b:_;for(;r<i;r++)0===a&&(l=f[d++],a=128),n[h++]=l&a?b:_,a>>=1}for(;h<r;)n[h++]=0;e.putImageData(c,0,g*u)}}else if(t.kind===i.ImageKind.RGBA_32BPP){const t=!!(b||_||w);for(m=0,v=o*u*4,g=0;g<a;g++){if(p.set(f.subarray(d,d+v)),d+=v,t)for(let e=0;e<v;e+=4)b&&(p[e+0]=b[p[e+0]]),_&&(p[e+1]=_[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(c,0,m),m+=u}if(g<l){if(v=o*s*4,p.set(f.subarray(d,d+v)),t)for(let e=0;e<v;e+=4)b&&(p[e+0]=b[p[e+0]]),_&&(p[e+1]=_[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(c,0,m)}}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(b||_||w);for(y=u,v=o*y,g=0;g<l;g++){for(g>=a&&(y=s,v=o*y),h=0,m=v;m--;)p[h++]=f[d++],p[h++]=f[d++],p[h++]=f[d++],p[h++]=255;if(t)for(let e=0;e<h;e+=4)b&&(p[e+0]=b[p[e+0]]),_&&(p[e+1]=_[p[e+1]]),w&&(p[e+2]=w[p[e+2]]);e.putImageData(c,0,g*u)}}}}function g(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%u,o=(n-i)/u,a=0===i?o:o+1,l=e.createImageData(r,u);let c=0;const h=t.data,d=l.data;for(let t=0;t<a;t++){const n=t<o?u:i;({srcPos:c}=(0,s.applyMaskImageData)({src:h,srcPos:c,dest:d,width:r,height:n})),e.putImageData(l,0,t*u)}}function m(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,i=n.length;r<i;r++){const i=n[r];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function y(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function v(e,t,n,r){const i=e.length;for(let o=3;o<i;o+=4){const i=e[o];if(0===i)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(i<255){const s=255-i;e[o-3]=e[o-3]*i+t*s>>8,e[o-2]=e[o-2]*i+n*s>>8,e[o-1]=e[o-1]*i+r*s>>8}}}function b(e,t,n){const r=e.length,i=1/255;for(let o=3;o<r;o+=4){const r=n?n[e[o]]:e[o];t[o]=t[o]*r*i|0}}function _(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function w(e,t){const n=i.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=o||n[1]<=o}const x=["butt","round","square"],S=["miter","round","bevel"],E={},C={};class k{constructor(e,t,n,r,i,o,s,a){this.ctx=e,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=a?.background||null,this.foregroundColor=a?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=i||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const e=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const t=this.backgroundColor=this.ctx.fillStyle;let n=!0,i=a;if(this.ctx.fillStyle=a,i=this.ctx.fillStyle,n="string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i),"#000000"===e&&"#ffffff"===t||e===t||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,o,s]=(0,r.getRGB)(i),a=e=>(e/=255)<=.03928?e/12.92:((e+.055)/1.055)**2.4,l=Math.round(.2126*a(n)+.7152*a(o)+.0722*a(s));this.selectColor=(n,r,i)=>{const o=.2126*a(n)+.7152*a(r)+.0722*a(i);return Math.round(o)===l?t:e}}}if(this.ctx.fillStyle=this.backgroundColor||a,this.ctx.fillRect(0,0,o,s),this.ctx.restore(),n){const e=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),y(this.ctx,this.foregroundColor),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(e,t,n,r){const o=e.argsArray,s=e.fnArray;let a=t||0;const l=o.length;if(l===a)return a;const c=l-a>10&&"function"==typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,f=this.objs;let p;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(p=s[a],p!==i.OPS.dependency)this[p].apply(this,o[a]);else for(const e of o[a]){const t=e.startsWith("g_")?d:f;if(!t.has(e))return t.get(e,n),a}if(a++,a===l)return a;if(c&&++h>10){if(Date.now()>u)return n(),a;h=0}}}#Z(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Z(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const n=e.width,r=e.height;let i,o,s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,u="prescale1";for(;s>2&&l>1||a>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=Math.ceil(l/2),s/=l/t),a>2&&c>1&&(n=Math.ceil(c/2),a/=c/n),i=this.cachedCanvases.getCanvas(u,t,n),o=i.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,a=this.current.fillColor,l=this.current.patternFill,c=(0,r.getCurrentTransform)(t);let u,h,f,p;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer,n=c.slice(0,4);h=JSON.stringify(l?n:[n,a]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const r=u.get(h);if(r&&!l)return{canvas:r,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};f=r}f||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),g(p.context,e));let m=i.Util.transform(c,[1/n,0,0,-1/s,0,0]);m=i.Util.transform(m,[1,0,0,1,0,-s]);const y=i.Util.applyTransform([0,0],m),v=i.Util.applyTransform([n,s],m),b=i.Util.normalizeRect([y[0],y[1],v[0],v[1]]),_=Math.round(b[2]-b[0])||1,x=Math.round(b[3]-b[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,x),E=S.context,C=Math.min(y[0],v[0]),k=Math.min(y[1],v[1]);E.translate(-C,-k),E.transform(...m),f||(f=this._scaleImage(p.canvas,(0,r.getCurrentTransformInverse)(E)),f=f.img,u&&l&&u.set(h,f)),E.imageSmoothingEnabled=w((0,r.getCurrentTransform)(E),e.interpolate),d(E,f,0,0,f.width,f.height,0,0,n,s),E.globalCompositeOperation="source-in";const P=i.Util.transform((0,r.getCurrentTransformInverse)(E),[1,0,0,1,-C,-k]);return E.fillStyle=l?a.getPattern(t,this,P,o.PathType.FILL):a,E.fillRect(0,0,n,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=x[e]}setLineJoin(e){this.ctx.lineJoin=S[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n[0],i=n[1];switch(r){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,o),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,o,s){t.transform(e,n,r,i,o,s),this.__originalTransform(e,n,r,i,o,s)},e.setTransform=function(e,n,r,i,o,s){t.setTransform(e,n,r,i,o,s),this.__originalSetTransform(e,n,r,i,o,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,o,s){t.bezierCurveTo(e,n,r,i,o,s),this.__originalBezierCurveTo(e,n,r,i,o,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;(function(e,t,n,r){const i=r[0],o=r[1],s=r[2]-i,a=r[3]-o;0!==s&&0!==a&&(function(e,t,n,r,i,o,s,a,l,c,u){const h=!!o,d=h?o[0]:0,f=h?o[1]:0,p=h?o[2]:0;let g;g="Luminosity"===i?_:b;const m=Math.min(r,Math.ceil(1048576/n));for(let i=0;i<r;i+=m){const o=Math.min(m,r-i),y=e.getImageData(a-c,i+(l-u),n,o),b=t.getImageData(a,i+l,n,o);h&&v(y.data,d,f,p),g(y.data,b.data,s),t.putImageData(b,a,i+l)}}(t.context,n,s,a,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())})(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const o=this.ctx,s=this.current;let a,l,c=s.x,u=s.y;const h=(0,r.getCurrentTransform)(o),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],f=d?n.slice(0):null;for(let n=0,r=0,p=e.length;n<p;n++)switch(0|e[n]){case i.OPS.rectangle:c=t[r++],u=t[r++];const e=t[r++],n=t[r++],p=c+e,g=u+n;o.moveTo(c,u),0===e||0===n?o.lineTo(p,g):(o.lineTo(p,u),o.lineTo(p,g),o.lineTo(c,g)),d||s.updateRectMinMax(h,[c,u,p,g]),o.closePath();break;case i.OPS.moveTo:c=t[r++],u=t[r++],o.moveTo(c,u),d||s.updatePathMinMax(h,c,u);break;case i.OPS.lineTo:c=t[r++],u=t[r++],o.lineTo(c,u),d||s.updatePathMinMax(h,c,u);break;case i.OPS.curveTo:a=c,l=u,c=t[r+4],u=t[r+5],o.bezierCurveTo(t[r],t[r+1],t[r+2],t[r+3],c,u),s.updateCurvePathMinMax(h,a,l,t[r],t[r+1],t[r+2],t[r+3],c,u,f),r+=6;break;case i.OPS.curveTo2:a=c,l=u,o.bezierCurveTo(c,u,t[r],t[r+1],t[r+2],t[r+3]),s.updateCurvePathMinMax(h,a,l,c,u,t[r],t[r+1],t[r+2],t[r+3],f),c=t[r+2],u=t[r+3],r+=4;break;case i.OPS.curveTo3:a=c,l=u,c=t[r+2],u=t[r+3],o.bezierCurveTo(t[r],t[r+1],c,u,c,u),s.updateCurvePathMinMax(h,a,l,t[r],t[r+1],c,u,c,u,f),r+=4;break;case i.OPS.closePath:o.closePath()}d&&s.updateScalingPathMinMax(h,f),s.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(e){e=void 0===e||e;const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e=void 0===e||e;const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.FILL),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=E}eoClip(){this.pendingClip=C}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif";let s="normal";n.black?s="900":n.bold&&(s="bold");const a=n.italic?"italic":"normal",l=`"${o}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${a} ${s} ${c}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,o){const s=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,h=c&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&i.TextRenderingMode.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile;let p;(l.disableFontFace||d||f)&&(p=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),p(s,u),o&&s.setTransform(...o),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(s),x:t,y:n,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,f=e.length,p=n.vertical,g=p?1:-1,m=n.defaultVMetrics,y=s*t.fontMatrix[0],v=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let b;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),h>0?a.scale(d,-1):a.scale(d,1),t.patternFill){a.save();const e=t.fillColor.getPattern(a,this,(0,r.getCurrentTransformInverse)(a),o.PathType.FILL);b=(0,r.getCurrentTransform)(a),a.restore(),a.fillStyle=e}let _=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===_){const e=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;e!==i.TextRenderingMode.STROKE&&e!==i.TextRenderingMode.FILL_STROKE||(_=this.getSinglePixelWidth())}else _/=w;1!==l&&(a.scale(l,l),_/=l),a.lineWidth=_;let x,S=0;for(x=0;x<f;++x){const t=e[x];if("number"==typeof t){S+=g*t*s/1e3;continue}let r=!1;const i=(t.isSpace?u:0)+c,o=t.fontChar,d=t.accent;let f,_,w,E=t.width;if(p){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*E)*y,r=e[2]*y;E=e?-e[0]:E,f=n/l,_=(S+r)/l}else f=S/l,_=0;if(n.remeasure&&E>0){const e=1e3*a.measureText(o).width/s*l;if(E<e&&this.isFontSubpixelAAEnabled){const t=E/e;r=!0,a.save(),a.scale(t,1),f/=t}else E!==e&&(f+=(E-e)/2e3*s/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(v&&!d)a.fillText(o,f,_);else if(this.paintChar(o,f,_,b),d){const e=f+s*d.offset.x/l,t=_-s*d.offset.y/l;this.paintChar(d.fontChar,e,t,b)}w=p?E*y-i*h:E*y+i*h,S+=w,r&&a.restore()}p?t.y-=S:t.x+=S*d,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,s=n.fontDirection,a=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*s,h=n.fontMatrix||i.FONT_IDENTITY_MATRIX,d=e.length;let f,p,g,m;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==o){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,s),f=0;f<d;++f){if(p=e[f],"number"==typeof p){m=a*p*o/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const s=(p.isSpace?c:0)+l,d=r.charProcOperatorList[p.operatorListId];d?(this.contentVisible&&(this.processingType3=p,this.save(),t.scale(o,o),t.transform(...h),this.executeOperatorList(d),this.restore()),g=i.Util.applyTransform([p.width,0],h)[0]*o+s,t.translate(g,0),n.x+=g*u):(0,i.warn)(`Type3 character "${p.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),s={createCanvasGraphics:e=>new k(e,this.commonObjs,this.objs,this.canvasFactory)};t=new o.TilingPattern(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=this.selectColor?.(e,t,n)||i.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=this.selectColor?.(e,t,n)||i.Util.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=(0,o.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),o.PathType.SHADING);const s=(0,r.getCurrentTransformInverse)(t);if(s){const e=t.canvas,n=e.width,r=e.height,o=i.Util.applyTransform([0,0],s),a=i.Util.applyTransform([0,r],s),l=i.Util.applyTransform([n,0],s),c=i.Util.applyTransform([n,r],s),u=Math.min(o[0],a[0],l[0],c[0]),h=Math.min(o[1],a[1],l[1],c[1]),d=Math.max(o[0],a[0],l[0],c[0]),f=Math.max(o[1],a[1],l[1],c[1]);this.ctx.fillRect(u,h,d-u,f-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,r.getCurrentTransform)(t));const s=[0,0,t.canvas.width,t.canvas.height];o=i.Util.intersect(o,s)||[0,0,0,0];const a=Math.floor(o[0]),c=Math.floor(o[1]);let u=Math.max(Math.ceil(o[2])-a,1),h=Math.max(Math.ceil(o[3])-c,1),d=1,f=1;u>l&&(d=u/l,u=l),h>l&&(f=h/l,h=l),this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,u,h),y=g.context;y.scale(1/d,1/f),y.translate(-a,-c),y.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:a,offsetY:c,scaleX:d,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,c),t.scale(d,f),t.save()),m(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,o,s){if(this.#Z(),y(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=o,t[3]=a;const[s,l]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.setTransform(s,0,0,-l,0,a*l),y(this.ctx,this.foregroundColor)}else y(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>c||n>c)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let o,s,a,l=new Uint8Array(i*(n+1));const u=t+7&-8;let h=new Uint8Array(u*n),d=0;for(const t of e.data){let e=128;for(;e>0;)h[d++]=t&e?0:255,e>>=1}let f=0;for(d=0,0!==h[d]&&(l[0]=1,++f),s=1;s<t;s++)h[d]!==h[d+1]&&(l[s]=h[d]?2:1,++f),d++;for(0!==h[d]&&(l[s]=2,++f),o=1;o<n;o++){d=o*u,a=o*i,h[d-u]!==h[d]&&(l[a]=h[d]?1:8,++f);let e=(h[d]?4:0)+(h[d-u]?8:0);for(s=1;s<t;s++)e=(e>>2)+(h[d+1]?4:0)+(h[d-u+1]?8:0),r[e]&&(l[a+s]=r[e],++f),d++;if(h[d-u]!==h[d]&&(l[a+s]=h[d]?2:4,++f),f>1e3)return null}for(d=u*(n-1),a=o*i,0!==h[d]&&(l[a]=8,++f),s=1;s<t;s++)h[d]!==h[d+1]&&(l[a+s]=h[d]?4:8,++f),d++;if(0!==h[d]&&(l[a+s]=4,++f),f>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(o=0;f&&o<=n;o++){let e=o*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;g.moveTo(e%i,o);const r=e;let s=l[e];do{const t=p[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),g.lineTo(e%i,e/i|0),l[e]||--f}while(r!==e);--o}return h=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(g),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,o=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,r.getCurrentTransform)(l);l.transform(t,n,o,s,0,0);const u=this._createMaskCanvas(e);l.setTransform(1,0,0,1,0,0);for(let e=0,r=a.length;e<r;e+=2){const r=i.Util.transform(c,[t,n,o,s,a[e],a[e+1]]),[h,d]=i.Util.applyTransform([0,0],r);l.drawImage(u.canvas,h,d)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save(),g(h,this.getObject(e,s)),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,(0,r.getCurrentTransformInverse)(t),o.PathType.FILL):n,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),d(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o)return void(0,i.warn)("Dependent image isn't ready yet");const s=o.width,a=o.height,l=[];for(let e=0,i=r.length;e<i;e+=2)l.push({transform:[t,0,0,n,r[e],r[e+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,o=this.ctx;let s;if(this.save(),o.scale(1/t,-1/n),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n);p(r.context,e,this.current.transferMaps),s=r.canvas}const a=this._scaleImage(s,(0,r.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=w((0,r.getCurrentTransform)(o),e.interpolate);const[l,c]=d(o,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n);if(this.imageLayer){const[t,o]=i.Util.applyTransform([0,-n],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:o,width:l,height:c})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,o=e.width,s=e.height,a=this.cachedCanvases.getCanvas("inlineImage",o,s);p(a.context,e,this.current.transferMaps);for(const l of t){if(n.save(),n.transform(...l.transform),n.scale(1,-1),d(n,a.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){const[t,n]=i.Util.applyTransform([l.x,l.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:n,width:o,height:s})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===C?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,r.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,r.getCurrentTransform)(this.ctx);let n,i;if(0===t[1]&&0===t[2]){const r=Math.abs(t[0]),o=Math.abs(t[3]);if(0===e)n=1/r,i=1/o;else{const t=r*e,s=o*e;n=t<1?1/t:1,i=s<1?1/s:1}}else{const r=Math.abs(t[0]*t[3]-t[2]*t[1]),o=Math.hypot(t[0],t[1]),s=Math.hypot(t[2],t[3]);if(0===e)n=s/r,i=o/r;else{const t=e*r;n=s>t?s/t:1,i=o>t?o/t:1}}this._cachedScaleForStroking=[n,i]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,o]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===o)return void t.stroke();let s,a,l;e&&(s=(0,r.getCurrentTransform)(t),a=t.getLineDash().slice(),l=t.lineDashOffset),t.scale(i,o);const c=Math.max(i,o);t.setLineDash(t.getLineDash().map((e=>e/c))),t.lineDashOffset/=c,t.stroke(),e&&(t.setTransform(...s),t.setLineDash(a),t.lineDashOffset=l)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=k;for(const e in i.OPS)void 0!==k.prototype[e]&&(k.prototype[i.OPS[e]]=k.prototype[e])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new c(e);case"Mesh":return new d(e);case"Dummy":return new f}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(8),o=n(3);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t||o.isNodeJS)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=s;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class c extends l{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(e,t,n,o){let l;if(o===s.STROKE||o===s.FILL){const s=t.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,u,!0),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),n=r.Util.transform(n,[1,0,0,1,s[0],s[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),a(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),l=e.createPattern(h.canvas,"no-repeat");const f=new DOMMatrix(n);try{l.setTransform(f)}catch(e){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${e?.message}".`)}}else a(e,this._bbox),l=this._createGradient(e);return l}}function u(e,t,n,r,i,o,s,a){const l=t.coords,c=t.colors,u=e.data,h=4*e.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=s,s=a,a=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=s,s=d);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,y=(l[i]+t.offsetX)*t.scaleX,v=(l[i+1]+t.offsetY)*t.scaleY;if(p>=v)return;const b=c[o],_=c[o+1],w=c[o+2],x=c[s],S=c[s+1],E=c[s+2],C=c[a],k=c[a+1],P=c[a+2],A=Math.round(p),T=Math.round(v);let R,O,M,I,D,F,L,N;for(let e=A;e<=T;e++){if(e<m){let t;t=e<p?0:(p-e)/(p-m),R=f-(f-g)*t,O=b-(b-x)*t,M=_-(_-S)*t,I=w-(w-E)*t}else{let t;t=e>v?1:m===v?0:(m-e)/(m-v),R=g-(g-y)*t,O=x-(x-C)*t,M=S-(S-k)*t,I=E-(E-P)*t}let t;t=e<p?0:e>v?1:(p-e)/(p-v),D=f-(f-y)*t,F=b-(b-C)*t,L=_-(_-k)*t,N=w-(w-P)*t;const n=Math.round(Math.min(R,D)),r=Math.round(Math.max(R,D));let i=h*e+4*n;for(let e=n;e<=r;e++)t=(R-e)/(R-D),t<0?t=0:t>1&&(t=1),u[i++]=O-(O-F)*t|0,u[i++]=M-(M-L)*t|0,u[i++]=I-(I-N)*t|0,u[i++]=255}}function h(e,t,n){const r=t.coords,i=t.colors;let o,s;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(o=0;o<l;o++){let t=o*a;for(let o=0;o<c;o++,t++)u(e,n,r[t],r[t+1],r[t+a],i[t],i[t+1],i[t+a]),u(e,n,r[t+a+1],r[t+1],r[t+a],i[t+a+1],i[t+1],i[t+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)u(e,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class d extends l{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=o/a,u=s/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},f=a+4,p=l+4,g=n.getCanvas("mesh",f,p,!1),m=g.context,y=m.createImageData(a,l);if(t){const e=y.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const e of this._figures)h(y,e,d);return m.putImageData(y,2,2),{canvas:g.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,o){let l;if(a(e,this._bbox),o===s.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===s.SHADING?null:this._background,t.cachedCanvases);return o!==s.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class f extends l{getPattern(){return"hotpink"}}class p{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,o=this.xstep,s=this.ystep,a=this.paintType,l=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const h=n[0],d=n[1],f=n[2],p=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),y=[g[0]*m[0],g[1]*m[1]],v=this.getSizeAndScale(o,this.ctx.canvas.width,y[0]),b=this.getSizeAndScale(s,this.ctx.canvas.height,y[1]),_=e.cachedCanvases.getCanvas("pattern",v.size,b.size,!0),w=_.context,x=u.createCanvasGraphics(w);x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,a,c);let S=h,E=d,C=f,k=p;return h<0&&(S=0,C+=Math.abs(h)),d<0&&(E=0,k+=Math.abs(d)),w.translate(-v.scale*S,-b.scale*E),x.transform(v.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(x,S,E,C,k),x.baseTransform=(0,i.getCurrentTransform)(x.ctx),x.executeOperatorList(t),x.endDrawing(),{canvas:_.canvas,scaleX:v.scale,scaleY:b.scale,offsetX:S,offsetY:E}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(p.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,o){const s=r-t,a=o-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,o=e.current;switch(t){case 1:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,o.fillColor=e.fillStyle,o.strokeColor=e.strokeStyle;break;case 2:const s=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let o=n;i!==s.SHADING&&(o=r.Util.transform(o,t.baseTransform),this.matrix&&(o=r.Util.transform(o,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");try{c.setTransform(l)}catch(e){(0,r.warn)(`TilingPattern.getPattern: "${e?.message}".`)}return c}}t.TilingPattern=p},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function({src:e,srcPos:t=0,dest:n,destPos:i=0,width:o,height:s,inverseDecode:a=!1}){const l=r.FeatureTest.isLittleEndian?4278190080:255,[c,u]=a?[0,l]:[l,0],h=o>>3,d=7&o,f=e.length;n=new Uint32Array(n.buffer);for(let r=0;r<s;r++){for(const r=t+h;t<r;t++){const r=t<f?e[t]:255;n[i++]=128&r?u:c,n[i++]=64&r?u:c,n[i++]=32&r?u:c,n[i++]=16&r?u:c,n[i++]=8&r?u:c,n[i++]=4&r?u:c,n[i++]=2&r?u:c,n[i++]=1&r?u:c}if(0===d)continue;const r=t<f?e[t++]:255;for(let e=0;e<d;e++)n[i++]=r&1<<7-e?u:c}return{srcPos:t,destPos:i}};var r=n(1)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);function i(e){switch(e instanceof Error||"object"==typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],1===t.callback)n.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");n.reject(i(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,o=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:o,callback:1,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:o,callback:2,callbackId:t.callbackId,reason:i(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,o=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(e){o.reject(e)}return o.promise}sendWithStream(e,t,n,o){const s=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const i=(0,r.createPromiseCapability)();return this.streamControllers[s]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},o),i.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:a,targetName:l,stream:6,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:1,streamId:s,reason:i(e)}),t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,o=e.sourceName,s=this.comObj,a=this,l=this.actionHandler[e.action],c={enqueue(e,i=1,a){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:o,stream:4,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:o,stream:3,streamId:t}),delete a.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:o,stream:5,streamId:t,reason:i(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise((function(t){t(l(e.data,c))})).then((function(){s.postMessage({sourceName:n,targetName:o,stream:8,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:o,stream:8,streamId:t,reason:i(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,o=e.sourceName,s=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case 8:e.success?a.startCall.resolve():a.startCall.reject(i(e.reason));break;case 7:e.success?a.pullCall.resolve():a.pullCall.reject(i(e.reason));break;case 6:if(!l){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise((function(e){e(l.onPull&&l.onPull())})).then((function(){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:o,stream:7,streamId:t,reason:i(e)})}));break;case 4:if((0,r.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case 3:if((0,r.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this._deleteStreamController(a,t);break;case 5:(0,r.assert)(a,"error should have stream controller"),a.controller.error(i(e.reason)),this._deleteStreamController(a,t);break;case 2:e.success?a.cancelCall.resolve():a.cancelCall.reject(i(e.reason)),this._deleteStreamController(a,t);break;case 1:if(!l)break;new Promise((function(t){t(l.onCancel&&l.onCancel(i(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:o,stream:2,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:o,stream:2,streamId:t,reason:i(e)})})),l.sinkCapability.reject(i(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#Q;#J;constructor({parsedData:e,rawData:t}){this.#Q=e,this.#J=t}getRaw(){return this.#J}get(e){return this.#Q.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#Q)}has(e){return this.#Q.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1);const i=Symbol("INTERNAL");class o{#ee=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#ee}_setVisible(e,t){e!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#ee=t}}t.OptionalContentConfig=class{#te=!0;#ne=new Map;#re=null;#ie=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#ie=e.order;for(const t of e.groups)this.#ne.set(t.id,new o(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#ne.values())e._setVisible(i,!1);for(const t of e.on)this.#ne.get(t)._setVisible(i,!0);for(const t of e.off)this.#ne.get(t)._setVisible(i,!1);this.#re=new Map;for(const[e,t]of this.#ne)this.#re.set(e,t.visible)}}#oe(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let o;if(Array.isArray(t))o=this.#oe(t);else{if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;o=this.#ne.get(t).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}isVisible(e){if(0===this.#ne.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#ne.has(e.id)?this.#ne.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#oe(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#ne.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#ne.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#ne.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#ne.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#ne.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){this.#ne.has(e)?(this.#ne.get(e)._setVisible(i,!!t),this.#te=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){if(null!==this.#te)return this.#te;for(const[e,t]of this.#ne){const n=this.#re.get(e);if(t.visible!==n)return this.#te=!1}return this.#te=!0}getOrder(){return this.#ne.size?this.#ie?this.#ie.slice():[...this.#ne.keys()]:null}getGroups(){return this.#ne.size>0?(0,r.objectFromMap)(this.#ne):null}getGroup(e){return this.#ne.get(e)||null}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(8);t.PDFDataTransportStream=class{constructor(e,t){(0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const n=e.initialData;if(n?.length>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t?.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t?.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class o{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let i=null;const o=r.name;if("#text"===o)i=r.value;else{if(!n.shouldBuildText(o))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(9);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(3237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class o extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(7640).createCanvas(e,t)}}t.NodeCanvasFactory=o;class s extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=s;class a extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(7),i=n(1),o=n(23),s=n(24);class a{#se;#ae=!1;#le=this.pointerup.bind(this);#ce=this.pointerdown.bind(this);#ue=new Map;#he=!1;#de=!1;#fe;static _initialized=!1;constructor(e){a._initialized||(a._initialized=!0,o.FreeTextEditor.initialize(e.l10n),s.InkEditor.initialize(e.l10n),e.uiManager.registerEditorTypes([o.FreeTextEditor,s.InkEditor])),this.#fe=e.uiManager,this.annotationStorage=e.annotationStorage,this.pageIndex=e.pageIndex,this.div=e.div,this.#se=e.accessibilityManager,this.#fe.addLayer(this)}updateToolbar(e){this.#fe.updateToolbar(e)}updateMode(e=this.#fe.getMode()){this.#pe(),e===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#fe.unselectAll()}addInkEditorIfNeeded(e){if(e||this.#fe.getMode()===i.AnnotationEditorType.INK){if(!e)for(const e of this.#ue.values())if(e.isEmpty())return void e.setInBackground();this.#ge({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(e){this.#fe.setEditingState(e)}addCommands(e){this.#fe.addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of this.#ue.values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of this.#ue.values())e.disableEditing()}setActiveEditor(e){this.#fe.getActive()!==e&&this.#fe.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#ce),this.div.addEventListener("pointerup",this.#le)}disableClick(){this.div.removeEventListener("pointerdown",this.#ce),this.div.removeEventListener("pointerup",this.#le)}attach(e){this.#ue.set(e.id,e)}detach(e){this.#ue.delete(e.id),this.#se?.removePointerInTextLayer(e.contentDiv)}remove(e){this.#fe.removeEditor(e),this.detach(e),this.annotationStorage.remove(e.id),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&this.#fe.focusMainContainer()}),0),this.#de||this.addInkEditorIfNeeded(!1)}#me(e){e.parent!==this&&(this.attach(e),e.pageIndex=this.pageIndex,e.parent?.detach(e),e.parent=this,e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.#me(e),this.#fe.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.addToAnnotationStorage(e)}moveEditorInDOM(e){this.#se?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addToAnnotationStorage(e){e.isEmpty()||this.annotationStorage.has(e.id)||this.annotationStorage.setValue(e.id,e)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!0})}addUndoableEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#fe.getId()}#ye(e){switch(this.#fe.getMode()){case i.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(e);case i.AnnotationEditorType.INK:return new s.InkEditor(e)}return null}deserialize(e){switch(e.annotationType){case i.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(e,this);case i.AnnotationEditorType.INK:return s.InkEditor.deserialize(e,this)}return null}#ge(e){const t=this.getNextId(),n=this.#ye({parent:this,id:t,x:e.offsetX,y:e.offsetY});return n&&this.add(n),n}setSelected(e){this.#fe.setSelected(e)}toggleSelected(e){this.#fe.toggleSelected(e)}isSelected(e){return this.#fe.isSelected(e)}unselect(e){this.#fe.unselect(e)}pointerup(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#he&&(this.#he=!1,this.#ae?this.#ge(e):this.#ae=!0)}pointerdown(e){const t=r.KeyboardManager.platform.isMac;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#he=!0;const n=this.#fe.getActive();this.#ae=!n||n.isEmpty()}drop(e){const t=e.dataTransfer.getData("text/plain"),n=this.#fe.getEditor(t);if(!n)return;e.preventDefault(),e.dataTransfer.dropEffect="move",this.#me(n);const r=this.div.getBoundingClientRect(),i=e.clientX-r.x,o=e.clientY-r.y;n.translate(i-n.startX,o-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(e){e.preventDefault()}destroy(){this.#fe.getActive()?.parent===this&&this.#fe.setActiveEditor(null);for(const e of this.#ue.values())this.#se?.removePointerInTextLayer(e.contentDiv),e.isAttachedToDOM=!1,e.div.remove(),e.parent=null;this.div=null,this.#ue.clear(),this.#fe.removeLayer(this)}#pe(){this.#de=!0;for(const e of this.#ue.values())e.isEmpty()&&e.remove();this.#de=!1}render(e){this.viewport=e.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const e of this.#fe.getEditors(this.pageIndex))this.add(e);this.updateMode()}update(e){this.viewport=e.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[e,t,n,r]=this.viewport.viewBox;return[n-e,r-t]}get viewportBaseDimensions(){const{width:e,height:t,rotation:n}=this.viewport;return n%180==0?[e,t]:[t,e]}setDimensions(){const{width:e,height:t,rotation:n}=this.viewport,r=n%180!=0,i=Math.floor(e)+"px",o=Math.floor(t)+"px";this.div.style.width=r?o:i,this.div.style.height=r?i:o,this.div.setAttribute("data-main-rotation",n)}}t.AnnotationEditorLayer=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(7),o=n(6);class s extends o.AnnotationEditor{#ve=this.editorDivBlur.bind(this);#be=this.editorDivFocus.bind(this);#_e=this.editorDivKeydown.bind(this);#we;#xe="";#Se=!1;#Ee;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]]);static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#we=e.color||s._defaultColor||o.AnnotationEditor._defaultLineColor,this.#Ee=e.fontSize||s._defaultFontSize}static initialize(e){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Ce(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#ke(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Ee],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#we]]}#Ce(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Ee)*this.parent.scaleFactor),this.#Ee=e,this.#Pe()},n=this.#Ee;this.parent.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ke(e){const t=this.#we;this.parent.addCommands({cmd:()=>{this.#we=e,this.editorDiv.style.color=e},undo:()=>{this.#we=t,this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-s._internalPadding*this.parent.scaleFactor,-(s._internalPadding+this.#Ee)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#_e),this.editorDiv.addEventListener("focus",this.#be),this.editorDiv.addEventListener("blur",this.#ve))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#_e),this.editorDiv.removeEventListener("focus",this.#be),this.editorDiv.removeEventListener("blur",this.#ve),this.div.focus(),this.isEditing=!1)}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#Ae(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n].firstChild;"#text"===r?.nodeName?t.push(r.data):t.push("")}return t.join("\n")}#Pe(){const[e,t]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/e,this.height=n.height/t}commit(){super.commit(),this.#Se||(this.#Se=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#xe=this.#Ae().trimEnd(),this.#Pe()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){s._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),s._l10nPromise.get("editor_free_text_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),s._l10nPromise.get("free_text_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Ee}px * var(--scale-factor))`,n.color=this.#we,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r);for(const e of this.#xe.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t){const n=super.deserialize(e,t);return n.#Ee=e.fontSize,n.#we=r.Util.makeHexColor(...e.color),n.#xe=e.value,n}serialize(){if(this.isEmpty())return null;const e=s._internalPadding*this.parent.scaleFactor,t=this.getRect(e,e),n=o.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#Ee,value:this.#xe,pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}t.FreeTextEditor=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return o.fitCurve}});var r=n(1),i=n(6),o=n(25),s=n(7);const a=16;class l extends i.AnnotationEditor{#Te=0;#Re=0;#Oe=0;#Me=this.canvasPointermove.bind(this);#Ie=this.canvasPointerleave.bind(this);#De=this.canvasPointerup.bind(this);#Fe=this.canvasPointerdown.bind(this);#Le=!1;#Ne=!1;#je=null;#ze=null;#Be=0;#Ue=0;#Ve=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#We(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#ke(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#$e(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#We(e){const t=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=e,this.#He()},undo:()=>{this.thickness=t,this.#He()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ke(e){const t=this.color;this.parent.addCommands({cmd:()=>{this.color=e,this.#qe()},undo:()=>{this.color=t,this.#qe()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#$e(e){e/=100;const t=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=e,this.#qe()},undo:()=>{this.opacity=t,this.#qe()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#Ge(),this.#Xe()),this.isAttachedToDOM||(this.parent.add(this),this.#Ye()),this.#He())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#ze.disconnect(),this.#ze=null,super.remove())}enableEditMode(){this.#Le||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#Fe),this.canvas.addEventListener("pointerup",this.#De))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Fe),this.canvas.removeEventListener("pointerup",this.#De))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Ke(){const{width:e,height:t,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,e,e,t];case 180:return[e,t,e,t];case 270:return[t,0,e,t];default:return[0,0,e,t]}}#Ze(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,s.opacityToHex)(this.opacity)}`}#Qe(e,t){this.isEditing=!0,this.#Ne||(this.#Ne=!0,this.#Ye(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([e,t]),this.#je=null,this.#Ze(),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.#Ve=()=>{this.#Ve&&(this.#je&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#qe(),this.ctx.lineTo(...this.#je),this.#je=null,this.ctx.stroke()),window.requestAnimationFrame(this.#Ve))},window.requestAnimationFrame(this.#Ve)}#Je(e,t){const[n,r]=this.currentPath.at(-1);e===n&&t===r||(this.currentPath.push([e,t]),this.#je=[e,t])}#et(e,t){this.ctx.closePath(),this.#Ve=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(e===n&&t===r||this.currentPath.push([e,t]),1!==this.currentPath.length)i=(0,o.fitCurve)(this.currentPath,30,null);else{const n=[e,t];i=[[n,n.slice(),n.slice(),n]]}const s=l.#tt(i);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(s),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Ge(),this.#Xe()),this.#He())},mustExec:!0})}#qe(){if(this.isEmpty())return void this.#nt();this.#Ze();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#nt();for(const e of this.bezierPath2D)t.stroke(e)}commit(){this.#Le||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Le=!0,this.div.classList.add("disabled"),this.#He(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Le&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#Ie),this.canvas.addEventListener("pointermove",this.#Me),this.#Qe(e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),this.#Je(e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),this.#rt(e),this.setInBackground())}canvasPointerleave(e){this.#rt(e),this.setInBackground()}#rt(e){this.#et(e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",this.#Ie),this.canvas.removeEventListener("pointermove",this.#Me),this.parent.addToAnnotationStorage(this)}#Ge(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Xe(){this.#ze=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#ze.observe(this.div)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),l._l10nPromise.get("editor_ink_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[n,r,i,o]=this.#Ke();if(this.setAt(n,r,0,0),this.setDims(i,o),this.#Ge(),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Ne=!0,this.#Ye(),this.setDims(this.width*n,this.height*r),this.#qe(),this.#it(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Xe(),this.div}#Ye(){if(!this.#Ne)return;const[e,t]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#nt()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#Be===n&&this.#Ue===r)return;this.#Be=n,this.#Ue=r,this.canvas.style.visibility="hidden",this.#Te&&Math.abs(this.#Te-e/t)>.01&&(t=Math.ceil(e/this.#Te),this.setDims(e,t));const[i,o]=this.parent.viewportBaseDimensions;this.width=e/i,this.height=t/o,this.#Le&&this.#ot(e,t),this.#Ye(),this.#qe(),this.canvas.style.visibility="visible"}#ot(e,t){const n=this.#st(),r=(e-n)/this.#Oe,i=(t-n)/this.#Re;this.scaleFactor=Math.min(r,i)}#nt(){const e=this.#st()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#tt(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,o,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],o[0],o[1],s[0],s[1])}return t}#at(e,t,n,r){const i=[],o=this.thickness/2;let s,a;for(const l of this.paths){s=[],a=[];for(let i=0,c=l.length;i<c;i++){const[c,u,h,d]=l[i],f=e*(c[0]+t)+o,p=r-e*(c[1]+n)-o,g=e*(u[0]+t)+o,m=r-e*(u[1]+n)-o,y=e*(h[0]+t)+o,v=r-e*(h[1]+n)-o,b=e*(d[0]+t)+o,_=r-e*(d[1]+n)-o;0===i&&(s.push(f,p),a.push(f,p)),s.push(g,m,y,v,b,_),this.#lt(f,p,g,m,y,v,b,_,4,a)}i.push({bezier:s,points:a})}return i}#lt(e,t,n,r,i,o,s,a,l,c){if(this.#ct(e,t,n,r,i,o,s,a))c.push(s,a);else{for(let u=1;u<l-1;u++){const h=u/l,d=1-h;let f=h*e+d*n,p=h*t+d*r,g=h*n+d*i,m=h*r+d*o;f=h*f+d*g,p=h*p+d*m,g=h*g+d*(h*i+d*s),m=h*m+d*(h*o+d*a),f=h*f+d*g,p=h*p+d*m,c.push(f,p)}c.push(s,a)}}#ct(e,t,n,r,i,o,s,a){const l=(3*n-2*e-s)**2,c=(3*r-2*t-a)**2,u=(3*i-e-2*s)**2,h=(3*o-t-2*a)**2;return Math.max(l,u)+Math.max(c,h)<=10}#ut(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const o of this.paths)for(const[s,a,l,c]of o){const o=r.Util.bezierBoundingBox(...s,...a,...l,...c);e=Math.min(e,o[0]),n=Math.min(n,o[1]),t=Math.max(t,o[2]),i=Math.max(i,o[3])}return[e,n,t,i]}#st(){return this.#Le?Math.ceil(this.thickness*this.parent.scaleFactor):0}#He(e=!1){if(this.isEmpty())return;if(!this.#Le)return void this.#qe();const t=this.#ut(),n=this.#st();this.#Oe=Math.max(a,t[2]-t[0]),this.#Re=Math.max(a,t[3]-t[1]);const r=Math.ceil(n+this.#Oe*this.scaleFactor),i=Math.ceil(n+this.#Re*this.scaleFactor),[o,s]=this.parent.viewportBaseDimensions;this.width=r/o,this.height=i/s,this.#Te=r/i,this.#it();const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Ye(),this.#qe(),this.#Be=r,this.#Ue=i,this.setDims(r,i);const u=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-u,c-this.translationY-u)}#it(){const{style:e}=this.div;this.#Te>=1?(e.minHeight="16px",e.minWidth=`${Math.round(this.#Te*a)}px`):(e.minWidth="16px",e.minHeight=`${Math.round(a/this.#Te)}px`)}static deserialize(e,t){const n=super.deserialize(e,t);n.thickness=e.thickness,n.color=r.Util.makeHexColor(...e.color),n.opacity=e.opacity;const[i,o]=t.pageDimensions,s=n.width*i,l=n.height*o,c=t.scaleFactor,u=e.thickness/2;n.#Te=s/l,n.#Le=!0,n.#Be=Math.round(s),n.#Ue=Math.round(l);for(const{bezier:t}of e.paths){const e=[];n.paths.push(e);let r=c*(t[0]-u),i=c*(l-t[1]-u);for(let n=2,o=t.length;n<o;n+=6){const o=c*(t[n]-u),s=c*(l-t[n+1]-u),a=c*(t[n+2]-u),h=c*(l-t[n+3]-u),d=c*(t[n+4]-u),f=c*(l-t[n+5]-u);e.push([[r,i],[o,s],[a,h],[d,f]]),r=d,i=f}const o=this.#tt(e);n.bezierPath2D.push(o)}const h=n.#ut();return n.#Oe=Math.max(a,h[2]-h[0]),n.#Re=Math.max(a,h[3]-h[1]),n.#ot(s,l),n}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180==0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#at(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}t.InkEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const r=n(26);t.fitCurve=r},e=>{function t(e,i,o,s,a){var c,u,h,d,f,p,g,m,y,v,b,_,w;if(2===e.length)return _=l.vectorLen(l.subtract(e[0],e[1]))/3,[c=[e[0],l.addArrays(e[0],l.mulItems(i,_)),l.addArrays(e[1],l.mulItems(o,_)),e[1]]];if(u=function(e){var t,n,r,i=[];return e.forEach(((e,o)=>{t=o?n+l.vectorLen(l.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((e=>e/n))}(e),[c,d,p]=n(e,u,u,i,o,a),0===d||d<s)return[c];if(d<s*s)for(h=u,f=d,g=p,w=0;w<20;w++){if(h=r(c,e,h),[c,d,p]=n(e,u,h,i,o,a),d<s)return[c];if(p===g){let e=d/f;if(e>.9999&&e<1.0001)break}f=d,g=p}return b=[],(m=l.subtract(e[p-1],e[p+1])).every((e=>0===e))&&(m=l.subtract(e[p-1],e[p]),[m[0],m[1]]=[-m[1],m[0]]),y=l.normalize(m),v=l.mulItems(y,-1),(b=b.concat(t(e.slice(0,p+1),i,y,s,a))).concat(t(e.slice(p),v,o,s,a))}function n(e,t,n,r,i,a){var u,h,d;return u=function(e,t,n,r){var i,o,s,a,u,h,d,f,p,g,m,y,v,b,_,w,x,S=e[0],E=e[e.length-1];for(i=[S,null,null,E],o=l.zeros_Xx2x2(t.length),v=0,b=t.length;v<b;v++)x=1-(w=t[v]),(s=o[v])[0]=l.mulItems(n,3*w*(x*x)),s[1]=l.mulItems(r,3*x*(w*w));for(a=[[0,0],[0,0]],u=[0,0],v=0,b=e.length;v<b;v++)w=t[v],s=o[v],a[0][0]+=l.dot(s[0],s[0]),a[0][1]+=l.dot(s[0],s[1]),a[1][0]+=l.dot(s[0],s[1]),a[1][1]+=l.dot(s[1],s[1]),_=l.subtract(e[v],c.q([S,S,E,E],w)),u[0]+=l.dot(s[0],_),u[1]+=l.dot(s[1],_);return h=a[0][0]*a[1][1]-a[1][0]*a[0][1],d=a[0][0]*u[1]-a[1][0]*u[0],f=u[0]*a[1][1]-u[1]*a[0][1],g=0===h?0:d/h,(p=0===h?0:f/h)<(m=1e-6*(y=l.vectorLen(l.subtract(S,E))))||g<m?(i[1]=l.addArrays(S,l.mulItems(n,y/3)),i[2]=l.addArrays(E,l.mulItems(r,y/3))):(i[1]=l.addArrays(S,l.mulItems(n,p)),i[2]=l.addArrays(E,l.mulItems(r,g))),i}(e,n,r,i),[h,d]=function(e,t,n){var r,i,a,u,h,d,f,p;i=0,a=Math.floor(e.length/2);const g=o(t,10);for(h=0,d=e.length;h<d;h++)f=e[h],p=s(0,n[h],g,10),(r=(u=l.subtract(c.q(t,p),f))[0]*u[0]+u[1]*u[1])>i&&(i=r,a=h);return[i,a]}(e,u,t),a&&a({bez:u,points:e,params:t,maxErr:h,maxPoint:d}),[u,h,d]}function r(e,t,n){return n.map(((n,r)=>i(e,t[r],n)))}function i(e,t,n){var r=l.subtract(c.q(e,n),t),i=c.qprime(e,n),o=l.mulMatrix(r,i),s=l.sum(l.squareItems(i))+2*l.mulMatrix(r,c.qprimeprime(e,n));return 0===s?n:n-o/s}var o=function(e,t){for(var n,r=[0],i=e[0],o=0,s=1;s<=t;s++)n=c.q(e,s/t),o+=l.vectorLen(l.subtract(n,i)),r.push(o),i=n;return r.map((e=>e/o))};function s(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,o,s,a,l=1;l<=r;l++)if(t<=n[l]){s=(l-1)/r,o=l/r,a=(t-(i=n[l-1]))/(n[l]-i)*(o-s)+s;break}return a}function a(e,t){return l.normalize(l.subtract(e,t))}class l{static zeros_Xx2x2(e){for(var t=[];e--;)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}static subtract(e,t){return e.map(((e,n)=>e-t[n]))}static addArrays(e,t){return e.map(((e,n)=>e+t[n]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return l.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class c{static q(e,t){var n=1-t,r=l.mulItems(e[0],n*n*n),i=l.mulItems(e[1],3*n*n*t),o=l.mulItems(e[2],3*n*t*t),s=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(r,i),l.addArrays(o,s))}static qprime(e,t){var n=1-t,r=l.mulItems(l.subtract(e[1],e[0]),3*n*n),i=l.mulItems(l.subtract(e[2],e[1]),6*n*t),o=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(r,i),o)}static qprimeprime(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!=typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter(((t,n)=>0===n||!t.every(((t,r)=>t===e[n-1][r]))))).length<2)return[];const i=e.length,o=a(e[1],e[0]),s=a(e[i-2],e[i-1]);return t(e,o,s,n,r)},e.exports.fitCubic=t,e.exports.createTangent=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(8),o=n(5),s=n(28),a=n(29);const l=1e3,c=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new p(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new m(e);case"Btn":return e.data.radioButton?new v(e):e.data.checkBox?new y(e):new b(e);case"Ch":return new _(e)}return new g(e);case r.AnnotationType.POPUP:return new w(e);case r.AnnotationType.FREETEXT:return new S(e);case r.AnnotationType.LINE:return new E(e);case r.AnnotationType.SQUARE:return new C(e);case r.AnnotationType.CIRCLE:return new k(e);case r.AnnotationType.POLYLINE:return new P(e);case r.AnnotationType.CARET:return new T(e);case r.AnnotationType.INK:return new R(e);case r.AnnotationType.POLYGON:return new A(e);case r.AnnotationType.HIGHLIGHT:return new O(e);case r.AnnotationType.UNDERLINE:return new M(e);case r.AnnotationType.SQUIGGLY:return new I(e);case r.AnnotationType.STRIKEOUT:return new D(e);case r.AnnotationType.STAMP:return new F(e);case r.AnnotationType.FILEATTACHMENT:return new L(e);default:return new d(e)}}}class d{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(e=!1){const t=this.data,n=this.page,i=this.viewport,o=document.createElement("section"),{width:s,height:a}=u(t.rect),[l,c,h,d]=i.viewBox,f=h-l,p=d-c;o.setAttribute("data-annotation-id",t.id);const g=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){o.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;o.style.borderRadius=t}else if(this instanceof v){const e=`calc(${s}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;o.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?o.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):o.style.borderWidth=0}o.style.left=100*(g[0]-l)/f+"%",o.style.top=100*(g[1]-c)/p+"%";const{rotation:m}=t;return t.hasOwnCanvas||0===m?(o.style.width=100*s/f+"%",o.style.height=100*a/p+"%"):this.setRotation(m,o),o}setRotation(e,t=this.container){const[n,r,i,o]=this.viewport.viewBox,s=i-n,a=o-r,{width:l,height:c}=u(this.data.rect);let h,d;e%180==0?(h=100*l/s,d=100*c/a):(h=100*c/s,d=100*l/a),t.style.width=`${h}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e];n.target.style[t]=s.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2==1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i&&i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const o=n[r];o&&(o({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const n of this.data.quadPoints)this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));const r=new x({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:o,exportValues:s}of i){if(-1===e)continue;if(o===t)continue;const i="string"==typeof s?s:null,a=document.querySelector(`[data-element-id="${o}"]`);!a||c.has(a)?n.push({id:o,exportValue:i,domElement:a}):(0,r.warn)(`_getElementsByName - element not allowed: ${o}`)}return n}for(const r of document.getElementsByName(e)){const{id:e,exportValue:i}=r;e!==t&&c.has(r)&&n.push({id:e,exportValue:i,domElement:r})}return n}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class f extends d{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n&&n();const{fields:e,refs:i,include:o}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===o&&s.push(n)}else for(const e of Object.values(this._fieldObjects))s.push(...e);const a=this.annotationStorage,l=[];for(const e of s){const{id:t}=e;switch(l.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(c.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${t}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class p extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class g extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=d.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e)}})}))}_setEventListeners(e,t,n){for(const[r,i]of t)("Action"===i||this.data.actions?.[i])&&this._setEventListener(e,r,i,n)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const{fontColor:t}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=e.style;let o;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]),t=e/(Math.round(e/(r.LINE_FACTOR*n))||1);o=Math.min(n,Math.round(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]);o=Math.min(n,Math.round(e/r.LINE_FACTOR))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=r.Util.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),i.setValue(o.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.formattedValue||r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));const s={userValue:i,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i),this.data.doNotScroll&&(n.style.overflowX="hidden")),c.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=s.userValue=t,s.formattedValue=null}));let a=e=>{const{formattedValue:t}=s;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{s.userValue&&(e.target.value=s.userValue),s.valueOnFocus=e.target.value})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){s.userValue=n.detail.value??"",e.setValue(t,{value:s.userValue.toString()}),n.target.value=s.userValue},formattedValue(n){const{formattedValue:r}=n.detail;s.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let o=s.userValue;!o||o.length<=r||(o=o.slice(0,r),i.value=s.userValue=o,e.setValue(t,{value:o}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{let n=-1;if("Escape"===e.key?n=0:"Enter"===e.key?n=2:"Tab"===e.key&&(n=3),-1===n)return;const{value:r}=e.target;s.valueOnFocus!==r&&(s.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=a;a=null,n.addEventListener("blur",(e=>{const{value:n}=e.target;s.userValue=n,this._mouseState.isDown&&s.valueOnFocus!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{const{data:n,target:r}=e,{value:i,selectionStart:o,selectionEnd:s}=r;let a=o,l=s;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,o).match(/\w*[^\w]*$/);e&&(a-=e[0].length);break}case"deleteWordForward":{const e=i.substring(o).match(/^[^\w]*\w*/);e&&(l+=e[0].length);break}case"deleteContentBackward":o===s&&(a-=1);break;case"deleteContentForward":o===s&&(l+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:a,selEnd:l}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(a&&n.addEventListener("blur",a),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class y extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=l,i.addEventListener("change",(r=>{const{name:i,checked:o}=r.target;for(const r of this._getElementsByName(i,n)){const n=o&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:o})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(c.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=l,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const t of this._getElementsByName(r,n))e.setValue(t.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class _ extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");c.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=l;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const e of r.options)e.selected=e.value===t}));for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue,t.value=e.exportValue,n.value.includes(e.exportValue)&&(t.setAttribute("selected",!0),i=!1),r.append(t)}let o=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),o=()=>{e.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const s=(e,t)=>{const n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,(e=>e.selected)).map((e=>e[n])):-1===r.selectedIndex?null:r[r.selectedIndex][n]},a=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){o?.();const i=n.detail.value,a=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=a.has(e.value);e.setValue(t,{value:s(n,!0)})},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;i[o].selected=!1,r.remove(o),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:s(n,!0),items:a(n)})},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]})},insert(n){const{index:i,displayValue:o,exportValue:l}=n.detail.insert,c=r.children[i],u=document.createElement("option");u.textContent=o,u.value=l,c?c.before(u):r.append(u),e.setValue(t,{value:s(n,!0),items:a(n)})},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(n,!0),items:a(n)})},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(n,!0)})},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=s(n,!0),i=s(n,!1);e.setValue(t,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(e=>e.target.checked))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(n,!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class w extends d{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;const n=new x({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,o=r.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),s=o[0]+this.data.parentRect[2]-this.data.parentRect[0],a=o[1],[l,c,u,h]=this.viewport.viewBox,d=u-l,f=h-c;return this.container.style.left=100*(s-l)/d+"%",this.container.style.top=100*(a-c)/f+"%",this.container.append(n.render()),this.container}}class x{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];t.style.backgroundColor=r.Util.makeHexColor(0|e,0|i,0|o)}const o=document.createElement("h1");o.dir=this.titleObj.dir,o.textContent=this.titleObj.str,t.append(o);const s=i.PDFDateString.toDateObject(this.modificationDate);if(s){const e=document.createElement("span");e.className="popupDate",e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),t.append(e)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);t.append(e)}else a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:t}),t.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const e of this.trigger)e.addEventListener("click",this._toggle.bind(this)),e.addEventListener("mouseover",this._show.bind(this,!1)),e.addEventListener("mouseout",this._hide.bind(this,!1));return t.addEventListener("click",this._hide.bind(this,!0)),e.append(t),e}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.className="popupContent",n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let e=0,t=r.length;e<t;++e){const i=r[e];n.append(document.createTextNode(i)),e<t-1&&n.append(document.createElement("br"))}return n}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(e=!0){e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class S extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,e),this.container}}class C extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class k extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class P extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const t of e.vertices){const n=t.x-e.rect[0],r=e.rect[3]-t.y;i.push(n+","+r)}i=i.join(" ");const o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,e),this.container}}class A extends P{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const t of e.inkLists){let n=[];for(const r of t){const t=r.x-e.rect[0],i=e.rect[3]-r.y;n.push(`${t},${i}`)}n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",n),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),this._createPopup(i,e),r.append(i)}return this.container.append(r),this.container}}class O extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class M extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class F extends d{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends d{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(t),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.className="popupTriggerArea",e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.append(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class N{static#ht(e,t,n,r){const o=e.firstChild||e;o.id=`${i.AnnotationPrefix}${t}`,n.append(e),r?.moveElementInDOM(n,e,o,!1)}static render(e){const{annotations:t,div:n,viewport:s,accessibilityManager:a}=e;this.#dt(n,s);let l=0;for(const c of t){if(c.annotationType!==r.AnnotationType.POPUP){const{width:e,height:t}=u(c.rect);if(e<=0||t<=0)continue}const t=h.create({data:c,layer:n,page:e.page,viewport:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(t.isRenderable){const e=t.render();if(c.hidden&&(e.style.visibility="hidden"),Array.isArray(e))for(const t of e)t.style.zIndex=l++,N.#ht(t,c.id,n,a);else e.style.zIndex=l++,t instanceof w?n.prepend(e):N.#ht(e,c.id,n,a)}}this.#ft(n,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:n,viewport:r}=e;this.#dt(n,r),this.#ft(n,t),n.hidden=!1}static#dt(e,{width:t,height:n,rotation:r}){const{style:i}=e,o=r%180!=0,s=Math.floor(t)+"px",a=Math.floor(n)+"px";i.width=o?a:s,i.height=o?s:a,e.setAttribute("data-main-rotation",r)}static#ft(e,t){if(t){for(const[n,r]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:i}=t;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):t.append(r)}t.clear()}}}t.AnnotationLayer=N},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_HTML([e]){const t=n(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_HTML([e,t,r]){return`#${n(e)}${n(t)}${n(r)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,i=1-t,o=1-n;return["CMYK",r,i,o,Math.min(r,i,o)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(20);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(e.textContent=o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&e.setAttribute("value",o.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==o.value)for(const e of n.children)e.attributes.value===o.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:i}){const{attributes:o}=t,s=e instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${r}`);for(const[t,n]of Object.entries(o))if(null!=n)switch(t){case"class":n.length&&e.setAttribute(t,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:(!s||"href"!==t&&"newWindow"!==t)&&e.setAttribute(t,n)}s&&i.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:n});const a=[[i,-1,s]],l=e.div;if(l.append(s),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;a.length>0;){const[e,i,s]=a.at(-1);if(i+1===e.children.length){a.pop();continue}const l=e.children[++a.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),s.append(e);continue}let h;if(h=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u),s.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:t,intent:o,linkService:n}),l.children&&l.children.length>0)a.push([l,-1,h]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(u)&&c.push(e),h.append(e)}}for(const e of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){const t=new d({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var r=n(1),i=n(8);const o=30,s=new Map,a=/^\s+$/g;function l(e,t,n,i){const l=document.createElement("span"),c=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(l);const u=r.Util.transform(e._viewport.transform,t.transform);let h=Math.atan2(u[1],u[0]);const d=n[t.fontName];d.vertical&&(h+=Math.PI/2);const f=Math.hypot(u[2],u[3]),p=f*function(e,t){const n=s.get(e);if(n)return n;t.save(),t.font=`30px ${e}`;const r=t.measureText("");let i=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(i){t.restore();const n=i/(i+a);return s.set(e,n),n}t.strokeStyle="red",t.clearRect(0,0,o,o),t.strokeText("g",0,0);let l=t.getImageData(0,0,o,o).data;a=0;for(let e=l.length-1-3;e>=0;e-=4)if(l[e]>0){a=Math.ceil(e/4/o);break}t.clearRect(0,0,o,o),t.strokeText("A",0,o),l=t.getImageData(0,0,o,o).data,i=0;for(let e=0,t=l.length;e<t;e+=4)if(l[e]>0){i=o-Math.floor(e/4/o);break}if(t.restore(),i){const t=i/(i+a);return s.set(e,t),t}return s.set(e,.8),.8}(d.fontFamily,i);let g,m;0===h?(g=u[4],m=u[5]-p):(g=u[4]+p*Math.sin(h),m=u[5]-p*Math.cos(h)),l.style.left=`${g}px`,l.style.top=`${m}px`,l.style.fontSize=`${f}px`,l.style.fontFamily=d.fontFamily,c.fontSize=f,l.setAttribute("role","presentation"),l.textContent=t.str,l.dir=t.dir,e._fontInspectorEnabled&&(l.dataset.fontName=t.fontName),0!==h&&(c.angle=h*(180/Math.PI));let y=!1;if(t.str.length>1||e._enhanceTextSelection&&a.test(t.str))y=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(y=!0)}if(y&&(d.vertical?c.canvasWidth=t.height*e._viewport.scale:c.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(l,c),e._textContentStream&&e._layoutText(l),e._enhanceTextSelection&&c.hasText){let n=1,i=0;0!==h&&(n=Math.cos(h),i=Math.sin(h));const o=(d.vertical?t.height:t.width)*e._viewport.scale,s=f;let a,c;0!==h?(a=[n,i,-i,n,g,m],c=r.Util.getAxialAlignedBoundingBox([0,0,o,s],a)):c=[g,m,g+o,m+s],e._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:l,size:[o,s],m:a})}}function c(e){if(e._canceled)return;const t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(let n=0;n<r;n++)e._layoutText(t[n]);e._renderingDone=!0,n.resolve()}function u(e,t,n){let r=0;for(let i=0;i<n;i++){const n=e[t++];n>0&&(r=r?Math.min(n,r):n)}return r}function h(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const e of t){let t=0;for(;t<n.length&&n[t].end<=e.y1;)t++;let r,i,o=n.length-1;for(;o>=0&&n[o].start>=e.y2;)o--;let s,a,l=-1/0;for(s=t;s<=o;s++){let t;r=n[s],i=r.boundary,t=i.x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New,t>l&&(l=t)}for(e.x1New=l,s=t;s<=o;s++)r=n[s],i=r.boundary,void 0===i.x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));const c=[];let u=null;for(s=t;s<=o;s++){r=n[s],i=r.boundary;const t=i.x2>e.x2?i:e;u===t?c.at(-1).end=r.end:(c.push({start:r.start,end:r.end,boundary:t}),u=t)}for(n[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[o].end&&(c.at(-1).end=e.y2,c.push({start:e.y2,end:n[o].end,boundary:n[o].boundary})),s=t;s<=o;s++){if(r=n[s],i=r.boundary,void 0!==i.x2New)continue;let e=!1;for(a=t-1;!e&&a>=0&&n[a].start>=i.y1;a--)e=n[a].boundary===i;for(a=o+1;!e&&a<n.length&&n[a].end<=i.y2;a++)e=n[a].boundary===i;for(a=0;!e&&a<c.length;a++)e=c[a].boundary===i;e||(i.x2New=l)}Array.prototype.splice.apply(n,[t,o-t+1,...c])}for(const t of n){const n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}}class d{constructor({textContent:e,textContentStream:t,container:n,viewport:o,textDivs:s,textContentItemsStr:a,enhanceTextSelection:l}){l&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=e,this._textContentStream=t,this._container=n,this._document=n.ownerDocument,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(e,t){for(let n=0,r=e.length;n<r;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),l(this,e[n],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){const t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id",`${e[n].id}`),t.append(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._textDivProperties.get(e);let n="";if(0!==t.canvasWidth&&t.hasText){const{fontFamily:r}=e.style,{fontSize:i}=t;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i*this._devicePixelRatio}px ${r}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);const{width:o}=this._layoutTextCtx.measureText(e.textContent);if(o>0){const e=this._devicePixelRatio*t.canvasWidth/o;this._enhanceTextSelection&&(t.scale=e),n=`scaleX(${e})`}}if(0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(e=0){const t=(0,r.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=o,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,n=this._textContent.styles;this._processItems(e,n),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then((({value:r,done:i})=>{i?t.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),e())}),t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then((()=>{n=null,e?this._renderTimer=setTimeout((()=>{c(this),this._renderTimer=null}),e):c(this)}),this._capability.reject)}expandTextDivs(e=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(e){const t=e._bounds,n=e._viewport,i=function(e,t,n){const r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));h(e,r);const i=new Array(n.length);for(const e of r){const t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}n.map((function(t,n){const o=i[n],s=r[n];s.x1=t.top,s.y1=e-o.right,s.x2=t.bottom,s.y2=e-o.left,s.index=n,s.x1New=void 0,s.x2New=void 0})),h(t,r);for(const e of r){const t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New}return i}(n.width,n.height,t);for(let n=0;n<i.length;n++){const o=t[n].div,s=e._textDivProperties.get(o);if(0===s.angle){s.paddingLeft=t[n].left-i[n].left,s.paddingTop=t[n].top-i[n].top,s.paddingRight=i[n].right-t[n].right,s.paddingBottom=i[n].bottom-t[n].bottom,e._textDivProperties.set(o,s);continue}const a=i[n],l=t[n],c=l.m,h=c[0],d=c[1],f=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],p=new Float64Array(64);for(let e=0,t=f.length;e<t;e++){const t=r.Util.applyTransform(f[e],c);p[e+0]=h&&(a.left-t[0])/h,p[e+4]=d&&(a.top-t[1])/d,p[e+8]=h&&(a.right-t[0])/h,p[e+12]=d&&(a.bottom-t[1])/d,p[e+16]=d&&(a.left-t[0])/-d,p[e+20]=h&&(a.top-t[1])/h,p[e+24]=d&&(a.right-t[0])/-d,p[e+28]=h&&(a.bottom-t[1])/h,p[e+32]=h&&(a.left-t[0])/-h,p[e+36]=d&&(a.top-t[1])/-d,p[e+40]=h&&(a.right-t[0])/-h,p[e+44]=d&&(a.bottom-t[1])/-d,p[e+48]=d&&(a.left-t[0])/d,p[e+52]=h&&(a.top-t[1])/-h,p[e+56]=d&&(a.right-t[0])/d,p[e+60]=h&&(a.bottom-t[1])/-h}const g=1+Math.min(Math.abs(h),Math.abs(d));s.paddingLeft=u(p,32,16)/g,s.paddingTop=u(p,48,16)/g,s.paddingRight=u(p,0,16)/g,s.paddingBottom=u(p,16,16)/g,e._textDivProperties.set(o,s)}}(this),this._bounds=null);const t=[],n=[];for(let r=0,i=this._textDivs.length;r<i;r++){const i=this._textDivs[r],o=this._textDivProperties.get(i);o.hasText&&(e?(t.length=0,n.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(n.push(`${o.paddingTop}px`),t.push(`translateY(${-o.paddingTop}px)`)):n.push(0),o.paddingRight>0?n.push(o.paddingRight/o.scale+"px"):n.push(0),o.paddingBottom>0?n.push(`${o.paddingBottom}px`):n.push(0),o.paddingLeft>0?(n.push(o.paddingLeft/o.scale+"px"),t.push(`translateX(${-o.paddingLeft/o.scale}px)`)):n.push(0),i.style.padding=n.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}t.TextLayerRenderTask=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(8),i=n(1),o=n(3);let s=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=s;{const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",u=["butt","round","square"],h=["miter","round","bevel"],d=function(e,t="",n=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let t=0,n=e.length;t<n;t+=3){const o=255&e[t],s=255&e[t+1],a=255&e[t+2];i+=r[o>>2]+r[(3&o)<<4|s>>4]+r[t+1<n?(15&s)<<2|a>>6:64]+r[t+2<n?63&a:64]}return i},f=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function n(e,n,r,i){let o=i;const s=n.length;r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s,o+=4,r[o]=255&e.charCodeAt(0),r[o+1]=255&e.charCodeAt(1),r[o+2]=255&e.charCodeAt(2),r[o+3]=255&e.charCodeAt(3),o+=4,r.set(n,o),o+=n.length;const a=function(e,n,r){let i=-1;for(let o=n;o<r;o++){const n=255&(i^e[o]);i=i>>>8^t[n]}return~i}(r,i+4,o);r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let o=0;i[o++]=120,i[o++]=156;let s=0;for(;t>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(s,s+n),o),o+=n,s+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=255&~t,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(s),o),o+=e.length-s;const a=function(e,t,n){let r=1,i=0;for(let t=0;t<n;++t)r=(r+(255&e[t]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[o++]=a>>24&255,i[o++]=a>>16&255,i[o++]=a>>8&255,i[o++]=255&a,i}return function(t,s,a){return function(t,s,a,l){const c=t.width,u=t.height;let h,f,p;const g=t.data;switch(s){case i.ImageKind.GRAYSCALE_1BPP:f=0,h=1,p=c+7>>3;break;case i.ImageKind.RGB_24BPP:f=2,h=8,p=3*c;break;case i.ImageKind.RGBA_32BPP:f=6,h=8,p=4*c;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+p)*u);let y=0,v=0;for(let e=0;e<u;++e)m[y++]=0,m.set(g.subarray(v,v+p),y),v+=p,y+=p;if(s===i.ImageKind.GRAYSCALE_1BPP&&l){y=0;for(let e=0;e<u;e++){y++;for(let e=0;e<p;e++)m[y++]^=255}}const b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,h,f,0,0,0]),_=function(e){if(!o.isNodeJS)return r(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=__webpack_require__(2787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return r(e)}(m),w=e.length+36+b.length+_.length,x=new Uint8Array(w);let S=0;return x.set(e,S),S+=e.length,n("IHDR",b,x,S),S+=12+b.length,n("IDATA",_,x,S),S+=12+_.length,n("IEND",new Uint8Array(0),x,S),d(x,"image/png",a)}(t,void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind,s,a)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function g(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}function m(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function y(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${m(e[0])} ${m(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${m(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${m(e[4])} ${m(e[5])})`;return`matrix(${m(e[0])} ${m(e[1])} ${m(e[2])} ${m(e[3])} ${m(e[4])} ${m(e[5])})`}let v=0,b=0,_=0;t.SVGGraphics=s=class{constructor(e,t,n=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const e in i.OPS)this._operatorIdMapping[i.OPS[e]]=e}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,r=t.length;e<r;e++)if(t[e]===i.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,o,s){const a=[e,t,n,r,o,s];this.transformMatrix=i.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let e=0,o=r.length;e<o;e++){const o=r[e];i.push({fnId:o,fn:t[o],args:n[e]})}return g(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,o){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,o],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${m(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",m(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.append(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${m(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",m(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const o=t.fontSizeScale,s=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=n.vertical,f=d?1:-1,p=n.defaultVMetrics,g=r*t.fontMatrix[0];let v=0;for(const i of e){if(null===i){v+=u*c;continue}if("number"==typeof i){v+=f*i*r/1e3;continue}const e=(i.isSpace?c:0)+s,a=i.fontChar;let l,h,m,y=i.width;if(d){let e;const t=i.vmetric||p;e=i.vmetric?t[1]:.5*y,e=-e*g;const n=t[2]*g;y=t?-t[0]:y,l=e/o,h=(v+n)/o}else l=v/o,h=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+l),d&&t.ycoords.push(-t.y+h),t.tspan.textContent+=a),m=d?y*g-e*u:y*g+e*u,v+=m}t.tspan.setAttributeNS(null,"x",t.xcoords.map(m).join(" ")),d?t.tspan.setAttributeNS(null,"y",t.ycoords.map(m).join(" ")):t.tspan.setAttributeNS(null,"y",m(-t.y)),d?t.y-=v:t.x+=v*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${m(t.fontSize)}px`),t.fontStyle!==a.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==a.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const b=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==a.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let _=t.textMatrix;0!==t.textRise&&(_=_.slice(),_[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${y(_)} scale(${m(h)}, -1)`),t.txtElement.setAttributeNS(l,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let o="normal";n.black?o="900":n.bold&&(o="bold");const s=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=u[e]}setLineJoin(e){this.current.lineJoin=h[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),o=i.Util.applyTransform([0,0],r),s=i.Util.applyTransform([0,n],r),a=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(o[0],s[0],a[0],l[0]),u=Math.min(o[1],s[1],a[1],l[1]),h=Math.max(o[0],s[0],a[0],l[0]),d=Math.max(o[1],s[1],a[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",h-c),f.setAttributeNS(null,"height",d-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(f)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[o,s,a,l]=e[4],c=e[5],u=e[6],h=e[7],d="shading"+_++,[f,p,g,m]=i.Util.normalizeRect([...i.Util.applyTransform([o,s],r),...i.Util.applyTransform([a,l],r)]),[y,v]=i.Util.singularValueDecompose2dScale(r),b=c*y,w=u*v,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",d),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",b),x.setAttributeNS(null,"height",w),x.setAttributeNS(null,"x",`${f}`),x.setAttributeNS(null,"y",`${p}`);const S=this.svg,E=this.transformMatrix,C=this.current.fillColor,k=this.current.strokeColor,P=this.svgFactory.create(g-f,m-p);if(this.svg=P,this.transformMatrix=r,2===h){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=S,this.transformMatrix=E,this.current.fillColor=C,this.current.strokeColor=k,x.append(P.childNodes[0]),this.defs.append(x),`url(#${d})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+_++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const o=e[4],s=e[5],a=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",s[0]),r.setAttributeNS(null,"cy",s[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",o[0]),r.setAttributeNS(null,"fy",o[1]),r.setAttributeNS(null,"fr",a);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,o=n.y,s=[],a=0;for(const n of e)switch(0|n){case i.OPS.rectangle:r=t[a++],o=t[a++];const e=r+t[a++],n=o+t[a++];s.push("M",m(r),m(o),"L",m(e),m(o),"L",m(e),m(n),"L",m(r),m(n),"Z");break;case i.OPS.moveTo:r=t[a++],o=t[a++],s.push("M",m(r),m(o));break;case i.OPS.lineTo:r=t[a++],o=t[a++],s.push("L",m(r),m(o));break;case i.OPS.curveTo:r=t[a+4],o=t[a+5],s.push("C",m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3]),m(r),m(o)),a+=6;break;case i.OPS.curveTo2:s.push("C",m(r),m(o),m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3])),r=t[a+2],o=t[a+3],a+=4;break;case i.OPS.curveTo3:r=t[a+2],o=t[a+3],s.push("C",m(t[a]),m(t[a+1]),m(r),m(o),m(r),m(o)),a+=4;break;case i.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,o)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+v++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",y(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",m(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",m(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(m).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",m(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=f(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",m(n)),o.setAttributeNS(null,"height",m(r)),this.current.element=o,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(c,"xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",m(-r)),s.setAttributeNS(null,"width",m(n)+"px"),s.setAttributeNS(null,"height",m(r)+"px"),s.setAttributeNS(null,"transform",`scale(${m(1/n)} ${m(-1/r)})`),t?t.append(s):this._ensureTransformGroup().append(s)}paintImageMaskXObject(e){const t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask"+b++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",t.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",m(n)),s.setAttributeNS(null,"height",m(r)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(s),this.paintInlineImageXObject(e,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",m(e)),r.setAttributeNS(null,"height",m(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",y(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(33);const o=__webpack_require__(3237),s=__webpack_require__(7492),a=__webpack_require__(1815),l=__webpack_require__(6671),c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new f(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,e,t):new p(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class f extends u{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,e.httpHeaders),t):this._request=a.request(d(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class p extends h{constructor(e,t,n){super(e),this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,this._httpHeaders),i):this._request=a.request(d(this._url,this._httpHeaders),i),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class g extends u{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),o.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(o.createReadStream(t)),this._headersCapability.resolve()}))}}class m extends h{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(o.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if((0,o.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(e("Content-Length"),10);return Number.isInteger(o)?(i.suggestedLength=o,o<=2*n||r||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(34),o=n(8)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=l(e),e=c(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const o=[];for(let e=0;e<t.length&&e in t;++e){let[n,r]=t[e];r=a(r),n&&(r=unescape(r),0===e&&(r=l(r))),o.push(r)}return o.join("")}(e),n)return s(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=c(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function o(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),t=!1}catch(e){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=o("utf-8",e),t&&(e=o("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:o(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return o(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(e){}return o(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(33);class o{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const e in n)r[e]=n[e];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const o=i.status||200;if((200!==o||206!==n.expectedStatus)&&o!==n.expectedStatus)return void n.onError?.(i.status);const s=function(e){const t=e.response;return"string"!=typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===o){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new o(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new a(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(33);function o(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new l(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:o,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}class l{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=a.url;fetch(l,o(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return s.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),o=__w_pdfjs_require__(7),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),u=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(l.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(35),{PDFFetchStream:t}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)((n=>(0,r.isValidFetchUrl)(n.url)?new t(n):new e(n)))}})(),__nested_webpack_exports__})(),module.exports=factory()},2816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=(r=n(5441))&&r.__esModule?r:{default:r};e.exports=t.default},5441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",l=s||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,r,a,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},2694:(e,t,n)=>{"use strict";var r=n(6925);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5556:(e,t,n)=>{e.exports=n(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5341:function(e){e.exports=function(){"use strict";function e(e,r,i,o,s){!function e(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,l=r-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*u/a+h)),Math.min(o,Math.floor(r+(a-l)*u/a+h)),s)}var d=n[r],f=i,p=o;for(t(n,i,r),s(n[o],d)>0&&t(n,i,o);f<p;){for(t(n,f,p),f++,p--;s(n[f],d)<0;)f++;for(;s(n[p],d)>0;)p--}0===s(n[i],d)?t(n,i,p):t(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,r,i||0,o||e.length-1,s||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var s=e.children[o];a(i,e.leaf?r(s):s)}return i}function a(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;e(t,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!f(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var s=t.children[o],a=t.leaf?r(s):s;f(e,a)&&(t.leaf?n.push(s):d(e,a)?this._all(s,n):i.push(s))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!f(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(f(e,o)){if(t.leaf||d(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],n=c.pop(),o=!0),s.leaf){var u=i(e,s.children,t);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}o||s.leaf||!d(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(l.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,s=n-t+1,a=this._maxEntries;if(s<=a)return o(i=p(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=p([])).leaf=!1,i.height=r;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));g(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var h=Math.min(u+c-1,n);g(e,u,h,l,this.compareMinY);for(var d=u;d<=h;d+=l){var f=Math.min(d+l-1,h);i.children.push(this._build(e,d,f,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<t.children.length;a++){var l=t.children[a],c=u(l),h=(d=e,f=l,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-c);h<o?(o=h,i=c<i?c:i,s=l):h===o&&c<i&&(i=c,s=l)}t=s||t.children[0]}var d,f;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),a(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=p(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,a,l,c,h,d=1/0,f=1/0,p=t;p<=n-t;p++){var g=s(e,0,p,this.toBBox),m=s(e,p,n,this.toBBox),y=(i=g,o=m,void 0,void 0,void 0,void 0,a=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),c=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,h-l)),v=u(g)+u(m);y<d?(d=y,r=p,f=v<f?v:f):y===d&&v<f&&(f=v,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=s(e,0,t,i),l=s(e,n-t,n,i),c=h(o)+h(l),u=t;u<n-t;u++){var d=e.children[u];a(o,e.leaf?i(d):d),c+=h(o)}for(var f=n-t-1;f>=t;f--){var p=e.children[f];a(l,e.leaf?i(p):p),c+=h(l)}return c},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)a(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},3757:(e,t,n)=>{"use strict";var r=n(6540),i=n(3185);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s,a=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(r),l=o(r),c=o(i);function u(e,t){return e[t]}function h(e=[],t,n=0){return[...e.slice(0,n),t,...e.slice(n)]}function d(e=[],t,n="id"){const r=e.slice(),i=u(t,n);return i?r.splice(r.findIndex((e=>u(e,n)===i)),1):r.splice(r.findIndex((e=>e===t)),1),r}function f(e){return e.map(((e,t)=>{const n=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(n.id=t+1),n}))}function p(e,t){return Math.ceil(e/t)}function g(e,t){return Math.min(e,t)}!function(e){e.ASC="asc",e.DESC="desc"}(s||(s={}));const m=()=>null;function y(e,t=[],n=[]){let r={},i=[...n];return t.length&&t.forEach((t=>{if(!t.when||"function"!=typeof t.when)throw new Error('"when" must be defined in the conditional style object and must be function');t.when(e)&&(r=t.style||{},t.classNames&&(i=[...i,...t.classNames]),"function"==typeof t.style&&(r=t.style(e)||{}))})),{conditionalStyle:r,classNames:i.join(" ")}}function v(e,t=[],n="id"){const r=u(e,n);return r?t.some((e=>u(e,n)===r)):t.some((t=>t===e))}function b(e,t){return t?e.findIndex((e=>_(e.id,t))):-1}function _(e,t){return e==t}function w(e,t){const n=!e.toggleOnSelectedRowsChange;switch(t.type){case"SELECT_ALL_ROWS":{const{keyField:n,rows:r,rowCount:i,mergeSelections:o}=t,s=!e.allSelected,a=!e.toggleOnSelectedRowsChange;if(o){const t=s?[...e.selectedRows,...r.filter((t=>!v(t,e.selectedRows,n)))]:e.selectedRows.filter((e=>!v(e,r,n)));return Object.assign(Object.assign({},e),{allSelected:s,selectedCount:t.length,selectedRows:t,toggleOnSelectedRowsChange:a})}return Object.assign(Object.assign({},e),{allSelected:s,selectedCount:s?i:0,selectedRows:s?r:[],toggleOnSelectedRowsChange:a})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:o,rowCount:s,singleSelect:a}=t;return a?o?Object.assign(Object.assign({},e),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):o?Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length>0?e.selectedRows.length-1:0,allSelected:!1,selectedRows:d(e.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length+1,allSelected:e.selectedRows.length+1===s,selectedRows:h(e.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:o,mergeSelections:s}=t;if(s){const t=[...e.selectedRows,...i.filter((t=>!v(t,e.selectedRows,r)))];return Object.assign(Object.assign({},e),{selectedCount:t.length,allSelected:!1,selectedRows:t,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},e),{selectedCount:i.length,allSelected:i.length===o,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:n}=t;return Object.assign(Object.assign({},e),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:n})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:o}=t;return Object.assign(Object.assign(Object.assign({},e),{selectedColumn:i,sortDirection:r,currentPage:1}),o&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:o,persistSelectedOnPageChange:s}=t,a=i&&s,l=i&&!s||o;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:r}),a&&{allSelected:!1}),l&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:n,page:r}=t;return Object.assign(Object.assign({},e),{currentPage:r,rowsPerPage:n})}}}const x=i.css`
	pointer-events: none;
	opacity: 0.4;
`,S=c.default.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:e})=>e&&x};
	${({theme:e})=>e.table.style};
`,E=i.css`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,C=c.default.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:e})=>e&&E};
	${({theme:e})=>e.head.style};
`,k=c.default.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:e})=>e.headRow.style};
	${({$dense:e,theme:t})=>e&&t.headRow.denseStyle};
`,P=(e,...t)=>i.css`
		@media screen and (max-width: ${599}px) {
			${i.css(e,...t)}
		}
	`,A=(e,...t)=>i.css`
		@media screen and (max-width: ${959}px) {
			${i.css(e,...t)}
		}
	`,T=(e,...t)=>i.css`
		@media screen and (max-width: ${1280}px) {
			${i.css(e,...t)}
		}
	`,R=c.default.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:e,$headCell:t})=>e[t?"headCells":"cells"].style};
	${({$noPadding:e})=>e&&"padding: 0"};
`,O=c.default(R)`
	flex-grow: ${({button:e,grow:t})=>0===t||e?0:t||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:e})=>e||"100%"};
	min-width: ${({minWidth:e})=>e||"100px"};
	${({width:e})=>e&&i.css`
			min-width: ${e};
			max-width: ${e};
		`};
	${({right:e})=>e&&"justify-content: flex-end"};
	${({button:e,center:t})=>(t||e)&&"justify-content: center"};
	${({compact:e,button:t})=>(e||t)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:e})=>e&&"sm"===e&&P`
    display: none;
  `};
	${({hide:e})=>e&&"md"===e&&A`
    display: none;
  `};
	${({hide:e})=>e&&"lg"===e&&T`
    display: none;
  `};
	${({hide:e})=>e&&Number.isInteger(e)&&(e=>(t,...n)=>i.css`
			@media screen and (max-width: ${e}px) {
				${i.css(t,...n)}
			}
		`)(e)`
    display: none;
  `};
`,M=i.css`
	div:first-child {
		white-space: ${({$wrapCell:e})=>e?"normal":"nowrap"};
		overflow: ${({$allowOverflow:e})=>e?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,I=c.default(O).attrs((e=>({style:e.style})))`
	${({$renderAsCell:e})=>!e&&M};
	${({theme:e,$isDragging:t})=>t&&e.cells.draggingStyle};
	${({$cellStyle:e})=>e};
`;var D=a.memo((function({id:e,column:t,row:n,rowIndex:r,dataTag:i,isDragging:o,onDragStart:s,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:h}){const{conditionalStyle:d,classNames:f}=y(n,t.conditionalCellStyles,["rdt_TableCell"]);return a.createElement(I,{id:e,"data-column-id":t.id,role:"cell",className:f,"data-tag":i,$cellStyle:t.style,$renderAsCell:!!t.cell,$allowOverflow:t.allowOverflow,button:t.button,center:t.center,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,width:t.width,$wrapCell:t.wrap,style:d,$isDragging:o,onDragStart:s,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:h},!t.cell&&a.createElement("div",{"data-tag":i},function(e,t,n,r){return t?n&&"function"==typeof n?n(e,r):t(e,r):null}(n,t.selector,t.format,r)),t.cell&&t.cell(n,r,t,e))}));const F="input";var L=a.memo((function({name:e,component:t=F,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:o=!1,onClick:s=m}){const l=t,c=l!==F?n.style:(e=>Object.assign(Object.assign({fontSize:"18px"},!e&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(o),u=a.useMemo((()=>function(e,...t){let n;return Object.keys(e).map((t=>e[t])).forEach(((r,i)=>{const o=e;"function"==typeof r&&(n=Object.assign(Object.assign({},o),{[Object.keys(e)[i]]:r(...t)}))})),n||e}(n,r)),[n,r]);return a.createElement(l,Object.assign({type:"checkbox",ref:e=>{e&&(e.indeterminate=r)},style:c,onClick:o?m:s,name:e,"aria-label":e,checked:i,disabled:o},u,{onChange:m}))}));const N=c.default(R)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function j({name:e,keyField:t,row:n,rowCount:r,selected:i,selectableRowsComponent:o,selectableRowsComponentProps:s,selectableRowsSingle:l,selectableRowDisabled:c,onSelectedRow:u}){const h=!(!c||!c(n));return a.createElement(N,{onClick:e=>e.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},a.createElement(L,{name:e,component:o,componentOptions:s,checked:i,"aria-checked":i,onClick:()=>{u({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:t,rowCount:r,singleSelect:l})},disabled:h}))}const z=c.default.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:e})=>e.expanderButton.style};
`;function B({disabled:e=!1,expanded:t=!1,expandableIcon:n,id:r,row:i,onToggled:o}){const s=t?n.expanded:n.collapsed;return a.createElement(z,{"aria-disabled":e,onClick:()=>o&&o(i),"data-testid":`expander-button-${r}`,disabled:e,"aria-label":t?"Collapse Row":"Expand Row",role:"button",type:"button"},s)}const U=c.default(R)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:e})=>e.expanderCell.style};
`;function V({row:e,expanded:t=!1,expandableIcon:n,id:r,onToggled:i,disabled:o=!1}){return a.createElement(U,{onClick:e=>e.stopPropagation(),$noPadding:!0},a.createElement(B,{id:r,row:e,expanded:t,expandableIcon:n,disabled:o,onToggled:i}))}const W=c.default.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:e})=>e.expanderRow.style};
	${({$extendedRowStyle:e})=>e};
`;var $=a.memo((function({data:e,ExpanderComponent:t,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const o=["rdt_ExpanderRow",...i.split(" ").filter((e=>"rdt_TableRow"!==e))].join(" ");return a.createElement(W,{className:o,$extendedRowStyle:r},a.createElement(t,Object.assign({data:e},n)))}));const H="allowRowEvents";var q,G,X;t.OP=void 0,(q=t.OP||(t.OP={})).LTR="ltr",q.RTL="rtl",q.AUTO="auto",t.C1=void 0,(G=t.C1||(t.C1={})).LEFT="left",G.RIGHT="right",G.CENTER="center",t.$U=void 0,(X=t.$U||(t.$U={})).SM="sm",X.MD="md",X.LG="lg";const Y=i.css`
	&:hover {
		${({$highlightOnHover:e,theme:t})=>e&&t.rows.highlightOnHoverStyle};
	}
`,K=i.css`
	&:hover {
		cursor: pointer;
	}
`,Z=c.default.div.attrs((e=>({style:e.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:e})=>e.rows.style};
	${({$dense:e,theme:t})=>e&&t.rows.denseStyle};
	${({$striped:e,theme:t})=>e&&t.rows.stripedStyle};
	${({$highlightOnHover:e})=>e&&Y};
	${({$pointerOnHover:e})=>e&&K};
	${({$selected:e,theme:t})=>e&&t.rows.selectedHighlightStyle};
	${({$conditionalStyle:e})=>e};
`;function Q({columns:e=[],conditionalRowStyles:t=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:o,expandableRows:s=!1,expandableRowsComponent:l,expandableRowsComponentProps:c,expandableRowsHideExpander:h,expandOnRowClicked:d=!1,expandOnRowDoubleClicked:f=!1,highlightOnHover:p=!1,id:g,expandableInheritConditionalStyles:v,keyField:b,onRowClicked:w=m,onRowDoubleClicked:x=m,onRowMouseEnter:S=m,onRowMouseLeave:E=m,onRowExpandToggled:C=m,onSelectedRow:k=m,pointerOnHover:P=!1,row:A,rowCount:T,rowIndex:R,selectableRowDisabled:O=null,selectableRows:M=!1,selectableRowsComponent:I,selectableRowsComponentProps:F,selectableRowsHighlight:L=!1,selectableRowsSingle:N=!1,selected:z,striped:B=!1,draggingColumnId:U,onDragStart:W,onDragOver:q,onDragEnd:G,onDragEnter:X,onDragLeave:Y}){const[K,Q]=a.useState(n);a.useEffect((()=>{Q(n)}),[n]);const J=a.useCallback((()=>{Q(!K),C(!K,A)}),[K,C,A]),ee=P||s&&(d||f),te=a.useCallback((e=>{e.target.getAttribute("data-tag")===H&&(w(A,e),!r&&s&&d&&J())}),[r,d,s,J,w,A]),ne=a.useCallback((e=>{e.target.getAttribute("data-tag")===H&&(x(A,e),!r&&s&&f&&J())}),[r,f,s,J,x,A]),re=a.useCallback((e=>{S(A,e)}),[S,A]),ie=a.useCallback((e=>{E(A,e)}),[E,A]),oe=u(A,b),{conditionalStyle:se,classNames:ae}=y(A,t,["rdt_TableRow"]),le=L&&z,ce=v?se:{},ue=B&&R%2==0;return a.createElement(a.Fragment,null,a.createElement(Z,{id:`row-${g}`,role:"row",$striped:ue,$highlightOnHover:p,$pointerOnHover:!r&&ee,$dense:i,onClick:te,onDoubleClick:ne,onMouseEnter:re,onMouseLeave:ie,className:ae,$selected:le,$conditionalStyle:se},M&&a.createElement(j,{name:`select-row-${oe}`,keyField:b,row:A,rowCount:T,selected:z,selectableRowsComponent:I,selectableRowsComponentProps:F,selectableRowDisabled:O,selectableRowsSingle:N,onSelectedRow:k}),s&&!h&&a.createElement(V,{id:oe,expandableIcon:o,expanded:K,row:A,onToggled:J,disabled:r}),e.map((e=>e.omit?null:a.createElement(D,{id:`cell-${e.id}-${oe}`,key:`cell-${e.id}-${oe}`,dataTag:e.ignoreRowClick||e.button?null:H,column:e,row:A,rowIndex:R,isDragging:_(U,e.id),onDragStart:W,onDragOver:q,onDragEnd:G,onDragEnter:X,onDragLeave:Y})))),s&&K&&a.createElement($,{key:`expander-${oe}`,data:A,extendedRowStyle:ce,extendedClassNames:ae,ExpanderComponent:l,expanderComponentProps:c}))}const J=c.default.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:e})=>e?"opacity: 1":"opacity: 0"};
	${({$sortDirection:e})=>"desc"===e&&"transform: rotate(180deg)"};
`,ee=({sortActive:e,sortDirection:t})=>l.default.createElement(J,{$sortActive:e,$sortDirection:t},"▲"),te=c.default(O)`
	${({button:e})=>e&&"text-align: center"};
	${({theme:e,$isDragging:t})=>t&&e.headCells.draggingStyle};
`,ne=i.css`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:e})=>e?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:e})=>!e&&i.css`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,re=c.default.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:e})=>!e&&ne};
`,ie=c.default.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var oe=a.memo((function({column:e,disabled:t,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:o,sortServer:l,pagination:c,paginationServer:u,persistSelectedOnSort:h,selectableRowsVisibleOnly:d,onSort:f,onDragStart:p,onDragOver:g,onDragEnd:m,onDragEnter:y,onDragLeave:v}){a.useEffect((()=>{"string"==typeof e.selector&&console.error(`Warning: ${e.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[b,w]=a.useState(!1),x=a.useRef(null);if(a.useEffect((()=>{x.current&&w(x.current.scrollWidth>x.current.clientWidth)}),[b]),e.omit)return null;const S=()=>{if(!e.sortable&&!e.selector)return;let t=i;_(r.id,e.id)&&(t=i===s.ASC?s.DESC:s.ASC),f({type:"SORT_CHANGE",sortDirection:t,selectedColumn:e,clearSelectedOnSort:c&&u&&!h||l||d})},E=e=>a.createElement(ee,{sortActive:e,sortDirection:i}),C=()=>a.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},o),k=!(!e.sortable||!_(r.id,e.id)),P=!e.sortable||t,A=e.sortable&&!o&&!e.right,T=e.sortable&&!o&&e.right,R=e.sortable&&o&&!e.right,O=e.sortable&&o&&e.right;return a.createElement(te,{"data-column-id":e.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:e.allowOverflow,button:e.button,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,center:e.center,width:e.width,draggable:e.reorder,$isDragging:_(e.id,n),onDragStart:p,onDragOver:g,onDragEnd:m,onDragEnter:y,onDragLeave:v},e.name&&a.createElement(re,{"data-column-id":e.id,"data-sort-id":e.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:P?void 0:S,onKeyPress:P?void 0:e=>{"Enter"===e.key&&S()},$sortActive:!P&&k,disabled:P},!P&&O&&C(),!P&&T&&E(k),"string"==typeof e.name?a.createElement(ie,{title:b?e.name:void 0,ref:x,"data-column-id":e.id},e.name):e.name,!P&&R&&C(),!P&&A&&E(k)))}));const se=c.default(R)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function ae({headCell:e=!0,rowData:t,keyField:n,allSelected:r,mergeSelections:i,selectedRows:o,selectableRowsComponent:s,selectableRowsComponentProps:l,selectableRowDisabled:c,onSelectAllRows:u}){const h=o.length>0&&!r,d=c?t.filter((e=>!c(e))):t,f=0===d.length,p=Math.min(t.length,d.length);return a.createElement(se,{className:"rdt_TableCol",$headCell:e,$noPadding:!0},a.createElement(L,{name:"select-all-rows",component:s,componentOptions:l,onClick:()=>{u({type:"SELECT_ALL_ROWS",rows:d,rowCount:p,mergeSelections:i,keyField:n})},checked:r,indeterminate:h,disabled:f}))}function le(e=t.OP.AUTO){const n="object"==typeof window,[r,i]=a.useState(!1);return a.useEffect((()=>{if(n)if("auto"!==e)i("rtl"===e);else{const e=!(!window.document||!window.document.createElement),t=document.getElementsByTagName("BODY")[0],n=document.getElementsByTagName("HTML")[0],r="rtl"===t.dir||"rtl"===n.dir;i(e&&r)}}),[e,n]),r}const ce=c.default.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:e})=>e.contextMenu.fontColor};
	font-size: ${({theme:e})=>e.contextMenu.fontSize};
	font-weight: 400;
`,ue=c.default.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,he=c.default.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:e})=>e&&"direction: rtl"};
	${({theme:e})=>e.contextMenu.style};
	${({theme:e,$visible:t})=>t&&e.contextMenu.activeStyle};
`;function de({contextMessage:e,contextActions:t,contextComponent:n,selectedCount:r,direction:i}){const o=le(i),s=r>0;return n?a.createElement(he,{$visible:s},a.cloneElement(n,{selectedCount:r})):a.createElement(he,{$visible:s,$rtl:o},a.createElement(ce,null,((e,t,n)=>{if(0===t)return null;const r=1===t?e.singular:e.plural;return n?`${t} ${e.message||""} ${r}`:`${t} ${r} ${e.message||""}`})(e,r,o)),a.createElement(ue,null,t))}const fe=c.default.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:e})=>e.header.style}
`,pe=c.default.div`
	flex: 1 0 auto;
	color: ${({theme:e})=>e.header.fontColor};
	font-size: ${({theme:e})=>e.header.fontSize};
	font-weight: 400;
`,ge=c.default.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,me=({title:e,actions:t=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:o,direction:s,showMenu:l=!0})=>a.createElement(fe,{className:"rdt_TableHeader",role:"heading","aria-level":1},a.createElement(pe,null,e),t&&a.createElement(ge,null,t),l&&a.createElement(de,{contextMessage:n,contextActions:r,contextComponent:i,direction:s,selectedCount:o}));function ye(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;const ve={left:"flex-start",right:"flex-end",center:"center"},be=c.default.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:e})=>ve[e]};
	flex-wrap: ${({$wrapContent:e})=>e?"wrap":"nowrap"};
	${({theme:e})=>e.subHeader.style}
`,_e=e=>{var{align:t="right",wrapContent:n=!0}=e,r=ye(e,["align","wrapContent"]);return a.createElement(be,Object.assign({align:t,$wrapContent:n},r))},we=c.default.div`
	display: flex;
	flex-direction: column;
`,xe=c.default.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:e,$fixedHeader:t})=>e&&i.css`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${t?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:e=!1,$fixedHeaderScrollHeight:t="100vh"})=>e&&i.css`
			max-height: ${t};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:e})=>e.responsiveWrapper.style};
`,Se=c.default.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${e=>e.theme.progress.style};
`,Ee=c.default.div`
	position: relative;
	width: 100%;
	${({theme:e})=>e.tableWrapper.style};
`,Ce=c.default(R)`
	white-space: nowrap;
	${({theme:e})=>e.expanderCell.style};
`,ke=c.default.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:e})=>e.noData.style};
`,Pe=()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},l.default.createElement("path",{d:"M7 10l5 5 5-5z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),Ae=c.default.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Te=c.default.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,Re=e=>{var{defaultValue:t,onChange:n}=e,r=ye(e,["defaultValue","onChange"]);return a.createElement(Te,null,a.createElement(Ae,Object.assign({onChange:n,defaultValue:t},r)),a.createElement(Pe,null))},Oe={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return l.default.createElement("div",null,"To add an expander pass in a component instance via ",l.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:l.default.createElement((()=>l.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),l.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:l.default.createElement((()=>l.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),l.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:l.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:l.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:t.C1.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),l.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:t.OP.AUTO,onChangePage:m,onChangeRowsPerPage:m,onRowClicked:m,onRowDoubleClicked:m,onRowMouseEnter:m,onRowMouseLeave:m,onRowExpandToggled:m,onSelectedRowsChange:m,onSort:m,onColumnOrderChange:m},Me={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Ie=c.default.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:e})=>e.pagination.style};
`,De=c.default.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:e})=>e.pagination.pageButtonsStyle};
	${({$isRTL:e})=>e&&"transform: scale(-1, -1)"};
`,Fe=c.default.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${P`
    width: 100%;
    justify-content: space-around;
  `};
`,Le=c.default.span`
	flex-shrink: 1;
	user-select: none;
`,Ne=c.default(Le)`
	margin: 0 24px;
`,je=c.default(Le)`
	margin: 0 4px;
`;var ze=a.memo((function({rowsPerPage:e,rowCount:t,currentPage:n,direction:r=Oe.direction,paginationRowsPerPageOptions:i=Oe.paginationRowsPerPageOptions,paginationIconLastPage:o=Oe.paginationIconLastPage,paginationIconFirstPage:s=Oe.paginationIconFirstPage,paginationIconNext:l=Oe.paginationIconNext,paginationIconPrevious:c=Oe.paginationIconPrevious,paginationComponentOptions:u=Oe.paginationComponentOptions,onChangeRowsPerPage:h=Oe.onChangeRowsPerPage,onChangePage:d=Oe.onChangePage}){const f=(()=>{const e="object"==typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}const[n,r]=a.useState(t);return a.useEffect((()=>{if(!e)return()=>null;function n(){r(t())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),n})(),g=le(r),m=f.width&&f.width>599,y=p(t,e),v=n*e,b=v-e+1,_=1===n,w=n===y,x=Object.assign(Object.assign({},Me),u),S=n===y?`${b}-${t} ${x.rangeSeparatorText} ${t}`:`${b}-${v} ${x.rangeSeparatorText} ${t}`,E=a.useCallback((()=>d(n-1)),[n,d]),C=a.useCallback((()=>d(n+1)),[n,d]),k=a.useCallback((()=>d(1)),[d]),P=a.useCallback((()=>d(p(t,e))),[d,t,e]),A=a.useCallback((e=>h(Number(e.target.value),n)),[n,h]),T=i.map((e=>a.createElement("option",{key:e,value:e},e)));x.selectAllRowsItem&&T.push(a.createElement("option",{key:-1,value:t},x.selectAllRowsItemText));const R=a.createElement(Re,{onChange:A,defaultValue:e,"aria-label":x.rowsPerPageText},T);return a.createElement(Ie,{className:"rdt_Pagination"},!x.noRowsPerPage&&m&&a.createElement(a.Fragment,null,a.createElement(je,null,x.rowsPerPageText),R),m&&a.createElement(Ne,null,S),a.createElement(Fe,null,a.createElement(De,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":_,onClick:k,disabled:_,$isRTL:g},s),a.createElement(De,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":_,onClick:E,disabled:_,$isRTL:g},c),!x.noRowsPerPage&&!m&&R,a.createElement(De,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":w,onClick:C,disabled:w,$isRTL:g},l),a.createElement(De,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":w,onClick:P,disabled:w,$isRTL:g},o)))}));const Be=(e,t)=>{const n=a.useRef(!0);a.useEffect((()=>{n.current?n.current=!1:e()}),t)};var Ue=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Ve}(e)}(e)},Ve="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function We(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Ge((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function $e(e,t,n){return e.concat(t).map((function(e){return We(e,n)}))}function He(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function qe(e,t){try{return t in e}catch(e){return!1}}function Ge(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||$e,n.isMergeableObject=n.isMergeableObject||Ue,n.cloneUnlessOtherwiseSpecified=We;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&He(e).forEach((function(t){r[t]=We(e[t],n)})),He(t).forEach((function(i){(function(e,t){return qe(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(qe(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return Ge;var n=t.customMerge(e);return"function"==typeof n?n:Ge}(i,n)(e[i],t[i],n):r[i]=We(t[i],n))})),r}(e,t,n):We(t,n)}Ge.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Ge(e,n,t)}),{})};var Xe=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Ge);const Ye={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Ke={default:Ye,light:Ye,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function Ze(e,t,n,r){const[i,o]=a.useState((()=>f(e))),[l,c]=a.useState(""),u=a.useRef("");Be((()=>{o(f(e))}),[e]);const h=a.useCallback((e=>{var t,n,r;const{attributes:o}=e.target,s=null===(t=o.getNamedItem("data-column-id"))||void 0===t?void 0:t.value;s&&(u.current=(null===(r=null===(n=i[b(i,s)])||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())||"",c(u.current))}),[i]),d=a.useCallback((e=>{var n;const{attributes:r}=e.target,s=null===(n=r.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(s&&u.current&&s!==u.current){const e=b(i,u.current),n=b(i,s),r=[...i];r[e]=i[n],r[n]=i[e],o(r),t(r)}}),[t,i]),p=a.useCallback((e=>{e.preventDefault()}),[]),g=a.useCallback((e=>{e.preventDefault()}),[]),m=a.useCallback((e=>{e.preventDefault(),u.current="",c("")}),[]),y=function(e=!1){return e?s.ASC:s.DESC}(r),v=a.useMemo((()=>i[b(i,null==n?void 0:n.toString())]||{}),[n,i]);return{tableColumns:i,draggingColumnId:l,handleDragStart:h,handleDragEnter:d,handleDragOver:p,handleDragLeave:g,handleDragEnd:m,defaultSortDirection:y,defaultSortColumn:v}}var Qe=a.memo((function(e){const{data:t=Oe.data,columns:n=Oe.columns,title:r=Oe.title,actions:o=Oe.actions,keyField:l=Oe.keyField,striped:c=Oe.striped,highlightOnHover:h=Oe.highlightOnHover,pointerOnHover:d=Oe.pointerOnHover,dense:f=Oe.dense,selectableRows:m=Oe.selectableRows,selectableRowsSingle:y=Oe.selectableRowsSingle,selectableRowsHighlight:b=Oe.selectableRowsHighlight,selectableRowsNoSelectAll:_=Oe.selectableRowsNoSelectAll,selectableRowsVisibleOnly:x=Oe.selectableRowsVisibleOnly,selectableRowSelected:E=Oe.selectableRowSelected,selectableRowDisabled:P=Oe.selectableRowDisabled,selectableRowsComponent:A=Oe.selectableRowsComponent,selectableRowsComponentProps:T=Oe.selectableRowsComponentProps,onRowExpandToggled:O=Oe.onRowExpandToggled,onSelectedRowsChange:M=Oe.onSelectedRowsChange,expandableIcon:I=Oe.expandableIcon,onChangeRowsPerPage:D=Oe.onChangeRowsPerPage,onChangePage:F=Oe.onChangePage,paginationServer:L=Oe.paginationServer,paginationServerOptions:N=Oe.paginationServerOptions,paginationTotalRows:j=Oe.paginationTotalRows,paginationDefaultPage:z=Oe.paginationDefaultPage,paginationResetDefaultPage:B=Oe.paginationResetDefaultPage,paginationPerPage:U=Oe.paginationPerPage,paginationRowsPerPageOptions:V=Oe.paginationRowsPerPageOptions,paginationIconLastPage:W=Oe.paginationIconLastPage,paginationIconFirstPage:$=Oe.paginationIconFirstPage,paginationIconNext:H=Oe.paginationIconNext,paginationIconPrevious:q=Oe.paginationIconPrevious,paginationComponent:G=Oe.paginationComponent,paginationComponentOptions:X=Oe.paginationComponentOptions,responsive:Y=Oe.responsive,progressPending:K=Oe.progressPending,progressComponent:Z=Oe.progressComponent,persistTableHead:J=Oe.persistTableHead,noDataComponent:ee=Oe.noDataComponent,disabled:te=Oe.disabled,noTableHead:ne=Oe.noTableHead,noHeader:re=Oe.noHeader,fixedHeader:ie=Oe.fixedHeader,fixedHeaderScrollHeight:se=Oe.fixedHeaderScrollHeight,pagination:le=Oe.pagination,subHeader:ce=Oe.subHeader,subHeaderAlign:ue=Oe.subHeaderAlign,subHeaderWrap:he=Oe.subHeaderWrap,subHeaderComponent:de=Oe.subHeaderComponent,noContextMenu:fe=Oe.noContextMenu,contextMessage:pe=Oe.contextMessage,contextActions:ge=Oe.contextActions,contextComponent:ye=Oe.contextComponent,expandableRows:ve=Oe.expandableRows,onRowClicked:be=Oe.onRowClicked,onRowDoubleClicked:Pe=Oe.onRowDoubleClicked,onRowMouseEnter:Ae=Oe.onRowMouseEnter,onRowMouseLeave:Te=Oe.onRowMouseLeave,sortIcon:Re=Oe.sortIcon,onSort:Me=Oe.onSort,sortFunction:Ie=Oe.sortFunction,sortServer:De=Oe.sortServer,expandableRowsComponent:Fe=Oe.expandableRowsComponent,expandableRowsComponentProps:Le=Oe.expandableRowsComponentProps,expandableRowDisabled:Ne=Oe.expandableRowDisabled,expandableRowsHideExpander:je=Oe.expandableRowsHideExpander,expandOnRowClicked:Ue=Oe.expandOnRowClicked,expandOnRowDoubleClicked:Ve=Oe.expandOnRowDoubleClicked,expandableRowExpanded:We=Oe.expandableRowExpanded,expandableInheritConditionalStyles:$e=Oe.expandableInheritConditionalStyles,defaultSortFieldId:He=Oe.defaultSortFieldId,defaultSortAsc:qe=Oe.defaultSortAsc,clearSelectedRows:Ge=Oe.clearSelectedRows,conditionalRowStyles:Ye=Oe.conditionalRowStyles,theme:Qe=Oe.theme,customStyles:Je=Oe.customStyles,direction:et=Oe.direction,onColumnOrderChange:tt=Oe.onColumnOrderChange,className:nt}=e,{tableColumns:rt,draggingColumnId:it,handleDragStart:ot,handleDragEnter:st,handleDragOver:at,handleDragLeave:lt,handleDragEnd:ct,defaultSortDirection:ut,defaultSortColumn:ht}=Ze(n,tt,He,qe),[{rowsPerPage:dt,currentPage:ft,selectedRows:pt,allSelected:gt,selectedCount:mt,selectedColumn:yt,sortDirection:vt,toggleOnSelectedRowsChange:bt},_t]=a.useReducer(w,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:ht,toggleOnSelectedRowsChange:!1,sortDirection:ut,currentPage:z,rowsPerPage:U,selectedRowsFlag:!1,contextMessage:Oe.contextMessage}),{persistSelectedOnSort:wt=!1,persistSelectedOnPageChange:xt=!1}=N,St=!(!L||!xt&&!wt),Et=le&&!K&&t.length>0,Ct=G||ze,kt=a.useMemo((()=>((e={},t="default",n="default")=>{const r=Ke[t]?t:n;return Xe({table:{style:{color:(i=Ke[r]).text.primary,backgroundColor:i.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:i.text.primary,backgroundColor:i.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:i.background.default,minHeight:"52px"}},head:{style:{color:i.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:i.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:i.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:i.context.background,fontSize:"18px",fontWeight:400,color:i.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:i.text.primary,backgroundColor:i.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:i.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:i.selected.text,backgroundColor:i.selected.default,borderBottomColor:i.background.default}},highlightOnHoverStyle:{color:i.highlightOnHover.text,backgroundColor:i.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:i.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:i.background.default},stripedStyle:{color:i.striped.text,backgroundColor:i.striped.default}},expanderRow:{style:{color:i.text.primary,backgroundColor:i.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:i.button.default,fill:i.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:i.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:i.button.hover},"&:focus":{outline:"none",backgroundColor:i.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:i.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:i.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:i.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:i.button.default,fill:i.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:i.button.disabled,fill:i.button.disabled},"&:hover:not(:disabled)":{backgroundColor:i.button.hover},"&:focus":{outline:"none",backgroundColor:i.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:i.text.primary,backgroundColor:i.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:i.text.primary,backgroundColor:i.background.default}}},e);var i})(Je,Qe)),[Je,Qe]),Pt=a.useMemo((()=>Object.assign({},"auto"!==et&&{dir:et})),[et]),At=a.useMemo((()=>{if(De)return t;if((null==yt?void 0:yt.sortFunction)&&"function"==typeof yt.sortFunction){const e=yt.sortFunction,n=vt===s.ASC?e:(t,n)=>-1*e(t,n);return[...t].sort(n)}return function(e,t,n,r){return t?r&&"function"==typeof r?r(e.slice(0),t,n):e.slice(0).sort(((e,r)=>{const i=t(e),o=t(r);if("asc"===n){if(i<o)return-1;if(i>o)return 1}if("desc"===n){if(i>o)return-1;if(i<o)return 1}return 0})):e}(t,null==yt?void 0:yt.selector,vt,Ie)}),[De,yt,vt,t,Ie]),Tt=a.useMemo((()=>{if(le&&!L){const e=ft*dt,t=e-dt;return At.slice(t,e)}return At}),[ft,le,L,dt,At]),Rt=a.useCallback((e=>{_t(e)}),[]),Ot=a.useCallback((e=>{_t(e)}),[]),Mt=a.useCallback((e=>{_t(e)}),[]),It=a.useCallback(((e,t)=>be(e,t)),[be]),Dt=a.useCallback(((e,t)=>Pe(e,t)),[Pe]),Ft=a.useCallback(((e,t)=>Ae(e,t)),[Ae]),Lt=a.useCallback(((e,t)=>Te(e,t)),[Te]),Nt=a.useCallback((e=>_t({type:"CHANGE_PAGE",page:e,paginationServer:L,visibleOnly:x,persistSelectedOnPageChange:xt})),[L,xt,x]),jt=a.useCallback((e=>{const t=p(j||Tt.length,e),n=g(ft,t);L||Nt(n),_t({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:e})}),[ft,Nt,L,j,Tt.length]);if(le&&!L&&At.length>0&&0===Tt.length){const e=p(At.length,dt),t=g(ft,e);Nt(t)}Be((()=>{M({allSelected:gt,selectedCount:mt,selectedRows:pt.slice(0)})}),[bt]),Be((()=>{Me(yt,vt,At.slice(0))}),[yt,vt]),Be((()=>{F(ft,j||At.length)}),[ft]),Be((()=>{D(dt,ft)}),[dt]),Be((()=>{Nt(z)}),[z,B]),Be((()=>{if(le&&L&&j>0){const e=p(j,dt),t=g(ft,e);ft!==t&&Nt(t)}}),[j]),a.useEffect((()=>{_t({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Ge})}),[y,Ge]),a.useEffect((()=>{if(!E)return;const e=At.filter((e=>E(e))),t=y?e.slice(0,1):e;_t({type:"SELECT_MULTIPLE_ROWS",keyField:l,selectedRows:t,totalRows:At.length,mergeSelections:St})}),[t,E]);const zt=x?Tt:At,Bt=xt||y||_;return a.createElement(i.ThemeProvider,{theme:kt},!re&&(!!r||!!o)&&a.createElement(me,{title:r,actions:o,showMenu:!fe,selectedCount:mt,direction:et,contextActions:ge,contextComponent:ye,contextMessage:pe}),ce&&a.createElement(_e,{align:ue,wrapContent:he},de),a.createElement(xe,Object.assign({$responsive:Y,$fixedHeader:ie,$fixedHeaderScrollHeight:se,className:nt},Pt),a.createElement(Ee,null,K&&!J&&a.createElement(Se,null,Z),a.createElement(S,{disabled:te,className:"rdt_Table",role:"table"},!ne&&(!!J||At.length>0&&!K)&&a.createElement(C,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:ie},a.createElement(k,{className:"rdt_TableHeadRow",role:"row",$dense:f},m&&(Bt?a.createElement(R,{style:{flex:"0 0 48px"}}):a.createElement(ae,{allSelected:gt,selectedRows:pt,selectableRowsComponent:A,selectableRowsComponentProps:T,selectableRowDisabled:P,rowData:zt,keyField:l,mergeSelections:St,onSelectAllRows:Ot})),ve&&!je&&a.createElement(Ce,null),rt.map((e=>a.createElement(oe,{key:e.id,column:e,selectedColumn:yt,disabled:K||0===At.length,pagination:le,paginationServer:L,persistSelectedOnSort:wt,selectableRowsVisibleOnly:x,sortDirection:vt,sortIcon:Re,sortServer:De,onSort:Rt,onDragStart:ot,onDragOver:at,onDragEnd:ct,onDragEnter:st,onDragLeave:lt,draggingColumnId:it}))))),!At.length&&!K&&a.createElement(ke,null,ee),K&&J&&a.createElement(Se,null,Z),!K&&At.length>0&&a.createElement(we,{className:"rdt_TableBody",role:"rowgroup"},Tt.map(((e,t)=>{const n=u(e,l),r=function(e=""){return"number"!=typeof e&&(!e||0===e.length)}(n)?t:n,i=v(e,pt,l),o=!!(ve&&We&&We(e)),s=!!(ve&&Ne&&Ne(e));return a.createElement(Q,{id:r,key:r,keyField:l,"data-row-id":r,columns:rt,row:e,rowCount:At.length,rowIndex:t,selectableRows:m,expandableRows:ve,expandableIcon:I,highlightOnHover:h,pointerOnHover:d,dense:f,expandOnRowClicked:Ue,expandOnRowDoubleClicked:Ve,expandableRowsComponent:Fe,expandableRowsComponentProps:Le,expandableRowsHideExpander:je,defaultExpanderDisabled:s,defaultExpanded:o,expandableInheritConditionalStyles:$e,conditionalRowStyles:Ye,selected:i,selectableRowsHighlight:b,selectableRowsComponent:A,selectableRowsComponentProps:T,selectableRowDisabled:P,selectableRowsSingle:y,striped:c,onRowExpandToggled:O,onRowClicked:It,onRowDoubleClicked:Dt,onRowMouseEnter:Ft,onRowMouseLeave:Lt,onSelectedRow:Mt,draggingColumnId:it,onDragStart:ot,onDragOver:at,onDragEnd:ct,onDragEnter:st,onDragLeave:lt})})))))),Et&&a.createElement("div",null,a.createElement(Ct,{onChangePage:Nt,onChangeRowsPerPage:jt,rowCount:j||At.length,currentPage:ft,rowsPerPage:dt,direction:et,paginationRowsPerPageOptions:V,paginationIconLastPage:W,paginationIconFirstPage:$,paginationIconNext:H,paginationIconPrevious:q,paginationComponentOptions:X})))}));t.an=function(e="default",t,n="default"){return Ke[e]||(Ke[e]=Xe(Ke[n],t||{})),Ke[e]=Xe(Ke[e],t||{}),Ke[e]},t.Ay=Qe},2551:(e,t,n)=>{"use strict";var r=n(6540),i=n(9982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function F(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,N=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!=typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Se||null!==Ee)&&(Te(),Pe())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Fe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Le=!1,Ne=null,je=!1,ze=null,Be={onError:function(e){Le=!0,Ne=e}};function Ue(e,t,n,r,i,o,s,a,l){Le=!1,Ne=null,Fe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===r)return $e(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2,ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!=(o&=s)&&(r=ht(o))}else 0!=(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,xt,St,Et,Ct,kt=!1,Pt=[],At=null,Tt=null,Rt=null,Ot=new Map,Mt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&xt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){kt=!1,null!==At&&jt(At)&&(At=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Rt&&jt(Rt)&&(Rt=null),Ot.forEach(zt),Mt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Tt&&Ut(Tt,e),null!==Rt&&Ut(Rt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Nt(n),null===n.blockedOn&&It.shift()}var Wt=_.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if($t){var i=Yt(e,t,n,r);if(null===i)$r(e,t,r,Xt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Lt(At,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mt.set(o,Lt(Mt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&$r(e,t,r,Xt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=vi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=N({},cn,{view:0,detail:0}),dn=on(hn),fn=N({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(N({},fn,{dataTransfer:0})),mn=on(N({},hn,{relatedTarget:0})),yn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(N({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var kn=N({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(kn),An=on(N({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(N({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=N({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(On),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Fn,Nn=u&&(!Dn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Xn(e){jr(e,0)}function Yn(e){if(G(_i(e)))return e}function Kn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Cr("animationend"),Pr=Cr("animationiteration"),Ar=Cr("animationstart"),Tr=Cr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Rr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Dr=Or[Ir];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(kr,"onAnimationEnd"),Mr(Pr,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Ne;Le=!1,Ne=null,je||(je=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case kr:case Pr:case Ar:l=yn;break;case Tr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&null!=(g=Me(p,d))&&u.push(Hr(p,g,f))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Xr(s,a,l,u,!1),null!==c&&null!==h&&Xr(s,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Kn;else if($n(a))if(Zn)m=sr;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?_i(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new _n(b,e,null,n,i),s.push({event:b,listeners:y}),(v||null!==(v=Un(n)))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Jt=Qt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v)}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Me(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Me(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Me(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Me(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,si="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function ki(e,t){Si++,xi[Si]=e.current,e.current=t}var Pi={},Ai=Ei(Pi),Ti=Ei(!1),Ri=Pi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(e){return null!=e.childContextTypes}function Ii(){Ci(Ti),Ci(Ai)}function Di(e,t,n){if(Ai.current!==Pi)throw Error(o(168));ki(Ai,t),ki(Ti,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return N({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ri=Ai.current,ki(Ai,e),ki(Ti,Ti.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Fi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ai),ki(Ai,e)):Ci(Ti),ki(Ti,n)}var ji=null,zi=!1,Bi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Vi),t}finally{bt=t,Bi=!1}}return null}var Wi=[],$i=0,Hi=null,qi=0,Gi=[],Xi=0,Yi=null,Ki=1,Zi="";function Qi(e,t){Wi[$i++]=qi,Wi[$i++]=Hi,Hi=e,qi=t}function Ji(e,t,n){Gi[Xi++]=Ki,Gi[Xi++]=Zi,Gi[Xi++]=Yi,Yi=e;var r=Ki;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-st(t)+i|n<<i|r,Zi=o+e}else Ki=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--$i],Wi[$i]=null,qi=Wi[--$i],Wi[$i]=null;for(;e===Yi;)Yi=Gi[--Xi],Gi[Xi]=null,Zi=Gi[--Xi],Gi[Xi]=null,Ki=Gi[--Xi],Gi[Xi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ki,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function _o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===M&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case M:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:h(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return h(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),io&&Qi(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return io&&Qi(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Qi(i,g),c}function m(i,a,l,c){var u=F(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),io&&Qi(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return io&&Qi(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),io&&Qi(i,m),u}return function e(r,o,s,l){if("object"==typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===M&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Fc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case M:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(F(s))return m(r,o,s,l);vo(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Nc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=_o(!0),xo=_o(!1),So=Ei(null),Eo=null,Co=null,ko=null;function Po(){ko=Co=Eo=null}function Ao(e){var t=So.current;Ci(So),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Eo=e,ko=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===Eo)throw Error(o(308));Co=e,Eo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Mo=null;function Io(e){null===Mo?Mo=[e]:Mo.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fo(e,r)}function Fo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Al){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fo(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=g.payload)?p.call(f,h,d):p))break e;h=N({},h,d);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=h}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},qo=Ei(Ho),Go=Ei(Ho),Xo=Ei(Ho);function Yo(e){if(e===Ho)throw Error(o(174));return e}function Ko(e,t){switch(ki(Xo,t),ki(Go,e),ki(qo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(qo),ki(qo,t)}function Zo(){Ci(qo),Ci(Go),Ci(Xo)}function Qo(e){Yo(Xo.current);var t=Yo(qo.current),n=le(t,e.type);t!==n&&(ki(Go,e),ki(qo,n))}function Jo(e){Go.current===e&&(Ci(qo),Ci(Go))}var es=Ei(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=_.ReactCurrentDispatcher,os=_.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Js:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Qs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function ys(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function _s(e,t){return"function"==typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,as.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function Es(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ls(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Os(9,ks.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));30&ss||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Ts(e)}function Ps(e,t,n){return n((function(){As(t)&&Ts(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Ts(e){var t=Fo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=vs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,as,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ms(){return bs().memoizedState}function Is(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Os(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Os(t,n,o,r))}as.flags|=e,i.memoizedState=Os(1|t,n,o,r)}function Fs(e,t){return Is(8390656,8,e,t)}function Ls(e,t){return Ds(2048,8,e,t)}function Ns(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function zs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!=n?n.concat([e]):null,Ds(4,4,zs.bind(null,t,e),n)}function Us(){}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 21&ss?(ar(n,t)||(n=gt(),as.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function qs(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e)?Ks(t,n):null!==(n=Do(e,t,n,r))&&(nc(n,e,r,ec()),Zs(n,t,r))}function Xs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Ks(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Zs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ks(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qs={readContext:Oo,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Js={readContext:Oo,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Is(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Rs,useDebugValue:Us,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));30&ss||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Fs(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Os(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Ki&~(1<<32-st(Ki)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Oo,useCallback:Vs,useContext:Oo,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ns,useLayoutEffect:js,useMemo:Ws,useReducer:ws,useRef:Ms,useState:function(){return ws(_s)},useDebugValue:Us,useDeferredValue:function(e){return $s(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(_s)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Es,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Oo,useCallback:Vs,useContext:Oo,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ns,useLayoutEffect:js,useMemo:Ws,useReducer:xs,useRef:Ms,useState:function(){return xs(_s)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:$s(t,ls.memoizedState,e)},useTransition:function(){return[xs(_s)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:Es,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=zo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function sa(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"==typeof o&&null!==o?o=Oo(o):(i=Mi(t)?Ri:Ai.current,o=(r=null!=(r=t.contextTypes))?Oi(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Oo(o):(o=Mi(t)?Ri:Ai.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var da="function"==typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Hl=r),ha(0,t)},n}function pa(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e)}var va=_.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?xo(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ms(e,t,n,r,o,i),n=ys(),null===e||ba?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,$a(e,t,i);131072&e.flags&&(ba=!0)}}return ka(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Il,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Il,Ml),Ml|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Il,Ml),Ml|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Il,Ml),Ml|=r;return _a(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var o=Mi(n)?Ri:Ai.current;return o=Oi(t,o),Ro(t,i),n=ms(e,t,n,r,o,i),r=ys(),null===e||ba?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$a(e,t,i))}function Pa(e,t,n,r,i){if(Mi(n)){var o=!0;Li(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Oo(c):Oi(t,c=Mi(n)?Ri:Ai.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Lo=!1;var d=t.memoizedState;s.state=d,Wo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ti.current||Lo?("function"==typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Lo||oa(t,n,a,r,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Oo(l):Oi(t,l=Mi(n)?Ri:Ai.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,s,r,l),Lo=!1,d=t.memoizedState,s.state=d,Wo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ti.current||Lo?("function"==typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Lo||oa(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ca(e,t);var s=!!(128&t.flags);if(!r&&!s)return i&&Ni(t,n,!1),$a(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ko(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),go(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Ma,Ia,Da,Fa={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},1&i||null===a?a=Lc(l,i,0,null):(a.childLanes=0,a.pendingProps=l),e=Fc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Fa,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(s=Fc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&wo(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Fa,s);if(!(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=!!(a&e.childLanes),ba||l){if(null!==(r=Tl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|a)?0:i)&&i!==s.retryLane&&(s.retryLane=i,Fo(e,i),nc(r,e,i,-1))}return gc(),za(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Xi++]=Ki,Gi[Xi++]=Zi,Gi[Xi++]=Yi,Ki=e.id,Zi=e.overflow,Yi=t),(t=ja(t,r.children)).flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 1&l||t.child===s?(i=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null),null!==r?a=Ic(r,a):(a=Fc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Fa,i}return e=(a=e.child).sibling,i=Ic(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&go(r),wo(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),2&(r=es.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(es,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wa(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Mi(t.type)&&Ii(),qa(t),null;case 3:return r=t.stateNode,Zo(),Ci(Ti),Ci(Ai),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ma(e,t),qa(t),null;case 5:Jo(t);var i=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ia(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qa(t),null}if(e=Yo(qo.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)zr(Fr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":K(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"==typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qa(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&es.current?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Zo(),Ma(e,t),null===e&&Vr(t.stateNode.containerInfo),qa(t),null;case 10:return Ao(t.type._context),qa(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return qa(t),null;if(r=!!(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Dl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Vl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return qa(t),null}else 2*Ze()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,ki(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ml)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(to(t),t.tag){case 1:return Mi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ci(Ti),Ci(Ai),rs(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return Zo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Ia=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(qo.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Ka=!1,Za="function"==typeof WeakSet?WeakSet:Set,Qa=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ka||Ja(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ka&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(2&o||4&o)&&el(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ka&&(Ja(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,dl(e,t,n),Ka=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){Ec(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":Q(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(t){Ec(e,e.return,t)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){Ec(e,e.return,t)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ze())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(u=Ka)||h,gl(t,e),Ka=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&1&e.mode)for(Qa=e,h=e.child;null!==h;){for(d=Qa=h;null!==Qa;){switch(p=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Ja(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Qa=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(t){Ec(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qa=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Qa;){var i=Qa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ya;var c=Ka;if(Ya=s,(Ka=l)&&!c)for(Qa=i;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Qa=l):xl(i);for(;null!==o;)Qa=o,bl(o,t,n),o=o.sibling;Qa=i,Ya=a,Ka=c}_l(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Qa=o):_l(e)}}function _l(e){for(;null!==Qa;){var t=Qa;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ka||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ka)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&$o(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(o(163))}Ka||512&t.flags&&il(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function wl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function xl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ec(t,i,e)}}var o=t.return;try{il(t)}catch(e){Ec(t,o,e)}break;case 5:var s=t.return;try{il(t)}catch(e){Ec(t,s,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Sl,El=Math.ceil,Cl=_.ReactCurrentDispatcher,kl=_.ReactCurrentOwner,Pl=_.ReactCurrentBatchConfig,Al=0,Tl=null,Rl=null,Ol=0,Ml=0,Il=Ei(0),Dl=0,Fl=null,Ll=0,Nl=0,jl=0,zl=null,Bl=null,Ul=0,Vl=1/0,Wl=null,$l=!1,Hl=null,ql=null,Gl=!1,Xl=null,Yl=0,Kl=0,Zl=null,Ql=-1,Jl=0;function ec(){return 6&Al?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 1&e.mode?2&Al&&0!==Ol?Ol&-Ol:null!==mo.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));yt(e,n,r),2&Al&&e===Tl||(e===Tl&&(!(2&Al)&&(Nl|=n),4===Dl&&ac(e,Ol)),rc(e,r),1===n&&0===Al&&!(1&t.mode)&&(Vl=Ze()+500,zi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?a&n&&!(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Tl?Ol:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),si((function(){!(6&Al)&&Vi()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Jl=0,6&Al)throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?Ol:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=mc(e,r);else{t=r;var i=Al;Al|=2;var s=pc();for(Tl===e&&Ol===t||(Wl=null,Vl=Ze()+500,dc(e,t));;)try{vc();break}catch(t){fc(e,t)}Po(),Cl.current=s,Al=i,null!==Rl?t=0:(Tl=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=oc(e,i)),1===t)throw n=Fl,dc(e,0),ac(e,r),rc(e,Ze()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=mc(e,r),2===t&&(s=pt(e),0!==s&&(r=s,t=oc(e,s))),1!==t)))throw n=Fl,dc(e,0),ac(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),t);break}wc(e,Bl,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~jl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Al)throw Error(o(327));xc();var t=dt(e,0);if(!(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fl,dc(e,0),ac(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Wl),rc(e,Ze()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=Ze()+500,zi&&Vi())}}function uc(e){null!==Xl&&0===Xl.tag&&!(6&Al)&&xc();var t=Al;Al|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,!(6&(Al=t))&&Vi()}}function hc(){Ml=Il.current,Ci(Il)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ii();break;case 3:Zo(),Ci(Ti),Ci(Ai),rs();break;case 5:Jo(r);break;case 4:Zo();break;case 13:case 19:Ci(es);break;case 10:Ao(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Tl=e,Rl=e=Ic(e.current,null),Ol=Ml=t,Dl=0,Fl=null,jl=Nl=Ll=0,Bl=zl=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Mo=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(Po(),is.current=Qs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,hs=!1,ds=0,kl.current=null,null===n||null===n.return){Dl=1,Fl=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(!(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ma(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),go(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Vo(s,fa(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ql&&ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Vo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(e){t=e,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=Qs,null===e?Qs:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Tl||!(268435455&Ll)&&!(268435455&Nl)||ac(Tl,Ol)}function mc(e,t){var n=Al;Al|=2;var r=pc();for(Tl===e&&Ol===t||(Wl=null,dc(e,t));;)try{yc();break}catch(t){fc(e,t)}if(Po(),Al=n,Cl.current=r,null!==Rl)throw Error(o(261));return Tl=null,Ol=0,Dl}function yc(){for(;null!==Rl;)bc(Rl)}function vc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,kl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ga(n,t,Ml)))return void(Rl=n);if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Xl);if(6&Al)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tl&&(Rl=Tl=null,Ol=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gl||(Gl=!0,Tc(tt,(function(){return xc(),null}))),s=!!(15990&n.flags),15990&n.subtreeFlags||s){s=Pl.transition,Pl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(ei=$t,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),$t=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ke(),Al=l,bt=a,Pl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Xl=e,Yl=i),0===(s=e.pendingLanes)&&(ql=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Hl,Hl=null,e;!!(1&Yl)&&0!==e.tag&&xc(),1&(s=e.pendingLanes)?e===Zl?Kl++:(Kl=0,Zl=e):Kl=0,Vi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function xc(){if(null!==Xl){var e=_t(Yl),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,6&Al)throw Error(o(331));var i=Al;for(Al|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(16&Qa.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var h=Qa;switch(h.tag){case 0:case 11:case 15:nl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Qa=d;else for(;null!==Qa;){var f=(h=Qa).sibling,p=h.return;if(ol(h),h===u){Qa=null;break}if(null!==f){f.return=p,Qa=f;break}Qa=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qa=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(2048&(s=Qa).flags)switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Qa=v;break e}Qa=s.return}}var b=e.current;for(Qa=b;null!==Qa;){var _=(a=Qa).child;if(2064&a.subtreeFlags&&null!==_)_.return=a,Qa=_;else e:for(a=b;null!==Qa;){if(2048&(l=Qa).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===a){Qa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qa=w;break e}Qa=l.return}}if(Al=i,Vi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Sc(e,t,n){e=Bo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Ze()-Ul?dc(e,0):jl|=n),rc(e,t)}function kc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Fo(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Tc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Mc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case S:return Fc(n.children,i,s,t);case E:a=8,i|=8;break;case C:return(e=Oc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case T:return(e=Oc(13,n,t,i)).elementType=T,e.lanes=s,e;case R:return(e=Oc(19,n,t,i)).elementType=R,e.lanes=s,e;case I:return Lc(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case P:a=9;break e;case A:a=11;break e;case O:a=14;break e;case M:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Fc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Uc(e){if(!e)return Pi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Fi(e,n,t)}return t}function Vc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=Uc(null),n=e.current,(o=zo(r=ec(),i=tc(n))).callback=null!=t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(nc(e,i,s,o),Uo(e,i,s)),s}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ba=!0;else{if(!(e.lanes&n||128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),po();break;case 5:Qo(t);break;case 1:Mi(t.type)&&Li(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(es,1&es.current),t.flags|=128,null):n&t.child.childLanes?Na(e,t,n):(ki(es,1&es.current),null!==(e=$a(e,t,n))?e.sibling:null);ki(es,1&es.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return $a(e,t,n)}(e,t,n);ba=!!(131072&e.flags)}else ba=!1,io&&1048576&t.flags&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);Ro(t,n),i=ms(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Pa(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ta(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),Wo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=$a(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Na(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ki(So,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){t=$a(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),To(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Oo(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Wa(e,t),t.tag=1,Mi(r)?(e=!0,Li(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return Ea(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=$c(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=$c(s);o.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=$c(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return $c(s)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),!(6&Al)&&(Vl=Ze()+500,Vi()))}break;case 13:uc((function(){var t=Fo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},xt=function(e){if(13===e.tag){var t=Fo(e,134217728);null!==t&&nc(t,e,134217728,ec()),qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Fo(e,t);null!==n&&nc(n,e,t,ec()),qc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bi,_i,wi,ke,Pe,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},115:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!o(e[l],s[l]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],s.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof s.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},8021:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),d=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),f={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(f,{default:()=>v}),e.exports=(r=f,u(o({},"__esModule",{value:!0}),r));var p=h(n(6540)),g=h(n(115)),m=n(7604),y=n(5635);class v extends p.Component{constructor(){super(...arguments),d(this,"mounted",!1),d(this,"isReady",!1),d(this,"isPlaying",!1),d(this,"isLoading",!0),d(this,"loadOnReady",null),d(this,"startOnPlay",!0),d(this,"seekOnPlay",null),d(this,"onDurationCalled",!1),d(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),d(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),d(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),n=this.getDuration();if(n){const r={playedSeconds:e,played:e/n};null!==t&&(r.loadedSeconds=t,r.loaded=t/n),r.playedSeconds===this.prevPlayed&&r.loadedSeconds===this.prevLoaded||this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),d(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:n,muted:r}=this.props;e(),r||null===n||this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),d(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==n&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),d(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),d(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:n}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,n())})),d(this,"handleError",((...e)=>{this.isLoading=!1,this.props.onError(...e)})),d(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),d(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:n,volume:r,muted:i,playbackRate:o,pip:s,loop:a,activePlayer:l,disableDeferredLoading:c}=this.props;if(!(0,g.default)(e.url,t)){if(this.isLoading&&!l.forceLoad&&!c&&!(0,y.isMediaStream)(t))return console.warn(`ReactPlayer: the attempt to load ${t} is being deferred until the player has loaded`),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!n||this.isPlaying||this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&s&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!s&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&null!==r&&this.player.setVolume(r),e.muted!==i&&(i?this.player.mute():(this.player.unmute(),null!==r&&setTimeout((()=>this.player.setVolume(r))))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==a&&this.player.setLoop&&this.player.setLoop(a)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,n){if(this.isReady){if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,n):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(e,n)}else 0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3))}render(){const e=this.props.activePlayer;return e?p.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}d(v,"displayName","Player"),d(v,"propTypes",m.propTypes),d(v,"defaultProps",m.defaultProps)},3199:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),d=(e,t,n)=>(((e,t,n)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),f={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(f,{createReactPlayer:()=>P}),e.exports=(r=f,u(o({},"__esModule",{value:!0}),r));var p=h(n(6540)),g=h(n(4744)),m=h(n(1811)),y=h(n(115)),v=n(7604),b=n(5635),_=h(n(8021));const w=(0,b.lazy)((()=>n.e(353).then(n.t.bind(n,6734,23)))),x="undefined"!=typeof window&&window.document&&"undefined"!=typeof document,S=void 0!==n.g&&n.g.window&&n.g.window.document,E=Object.keys(v.propTypes),C=x||S?p.Suspense:()=>null,k=[],P=(e,t)=>{var n;return n=class extends p.Component{constructor(){super(...arguments),d(this,"state",{showPreview:!!this.props.light}),d(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),d(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),d(this,"showPreview",(()=>{this.setState({showPreview:!0})})),d(this,"getDuration",(()=>this.player?this.player.getDuration():null)),d(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),d(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),d(this,"getInternalPlayer",((e="player")=>this.player?this.player.getInternalPlayer(e):null)),d(this,"seekTo",((e,t,n)=>{if(!this.player)return null;this.player.seekTo(e,t,n)})),d(this,"handleReady",(()=>{this.props.onReady(this)})),d(this,"getActivePlayer",(0,m.default)((n=>{for(const t of[...k,...e])if(t.canPlay(n))return t;return t||null}))),d(this,"getConfig",(0,m.default)(((e,t)=>{const{config:n}=this.props;return g.default.all([v.defaultProps.config,v.defaultProps.config[t]||{},n,n[t]||{}])}))),d(this,"getAttributes",(0,m.default)((e=>(0,b.omit)(this.props,E)))),d(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const n=this.getConfig(e,t.key);return p.default.createElement(_.default,{...this.props,key:t.key,ref:this.references.player,config:n,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,y.default)(this.props,e)||!(0,y.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:i,previewAriaLabel:o}=this.props;return p.default.createElement(w,{url:e,light:t,playIcon:n,previewTabIndex:r,previewAriaLabel:o,oEmbedUrl:i,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:n,height:r,fallback:i,wrapper:o}=this.props,{showPreview:s}=this.state,a=this.getAttributes(e),l="string"==typeof o?this.references.wrapper:void 0;return p.default.createElement(o,{ref:l,style:{...t,width:n,height:r},...a},p.default.createElement(C,{fallback:i},s?this.renderPreview(e):this.renderActivePlayer(e)))}},d(n,"displayName","ReactPlayer"),d(n,"propTypes",v.propTypes),d(n,"defaultProps",v.defaultProps),d(n,"addCustomPlayer",(e=>{k.push(e)})),d(n,"removeCustomPlayers",(()=>{k.length=0})),d(n,"canPlay",(t=>{for(const n of[...k,...e])if(n.canPlay(t))return!0;return!1})),d(n,"canEnablePIP",(t=>{for(const n of[...k,...e])if(n.canEnablePIP&&n.canEnablePIP(t))return!0;return!1})),n}},3554:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(h,{default:()=>g}),e.exports=(r=h,u(o({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?i(l(e)):{},u(e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)))(n(7015)),f=n(3199);const p=d.default[d.default.length-1];var g=(0,f.createReactPlayer)(d.default,p)},327:(e,t,n)=>{var r,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{AUDIO_EXTENSIONS:()=>E,DASH_EXTENSIONS:()=>P,FLV_EXTENSIONS:()=>A,HLS_EXTENSIONS:()=>k,MATCH_URL_DAILYMOTION:()=>_,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>g,MATCH_URL_KALTURA:()=>S,MATCH_URL_MIXCLOUD:()=>w,MATCH_URL_MUX:()=>f,MATCH_URL_SOUNDCLOUD:()=>h,MATCH_URL_STREAMABLE:()=>m,MATCH_URL_TWITCH_CHANNEL:()=>b,MATCH_URL_TWITCH_VIDEO:()=>v,MATCH_URL_VIDYARD:()=>x,MATCH_URL_VIMEO:()=>d,MATCH_URL_WISTIA:()=>y,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>C,canPlay:()=>R}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))a.call(e,n)||undefined===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c=n(5635);const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,h=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,d=/vimeo\.com\/(?!progressive_redirect).+/,f=/stream\.mux\.com\/(\w+)/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,g=/^https?:\/\/fb\.watch\/.+$/,m=/streamable\.com\/([a-z0-9]+)$/,y=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,v=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,b=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,_=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,w=/mixcloud\.com\/([^/]+\/[^/]+)/,x=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,S=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,E=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,C=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,k=/\.(m3u8)($|\?)/i,P=/\.(mpd)($|\?)/i,A=/\.(flv)($|\?)/i,T=e=>{if(e instanceof Array){for(const t of e){if("string"==typeof t&&T(t))return!0;if(T(t.src))return!0}return!1}return!(!(0,c.isMediaStream)(e)&&!(0,c.isBlobUrl)(e))||E.test(e)||C.test(e)||k.test(e)||P.test(e)||A.test(e)},R={youtube:e=>e instanceof Array?e.every((e=>u.test(e))):u.test(e),soundcloud:e=>h.test(e)&&!E.test(e),vimeo:e=>d.test(e)&&!C.test(e)&&!k.test(e),mux:e=>f.test(e),facebook:e=>p.test(e)||g.test(e),streamable:e=>m.test(e),wistia:e=>y.test(e),twitch:e=>v.test(e)||b.test(e),dailymotion:e=>_.test(e),mixcloud:e=>w.test(e),vidyard:e=>x.test(e),kaltura:e=>S.test(e),file:T}},7015:(e,t,n)=>{Object.create;var r,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{default:()=>h}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=o(t,l))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c=n(5635),u=n(327),h=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,c.lazy)((()=>n.e(446).then(n.t.bind(n,2910,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,c.lazy)((()=>n.e(979).then(n.t.bind(n,3127,23))))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,c.lazy)((()=>n.e(173).then(n.t.bind(n,1423,23))))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,c.lazy)((()=>n.e(723).then(n.t.bind(n,7553,23))))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,c.lazy)((()=>n.e(887).then(n.t.bind(n,1343,23))))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,c.lazy)((()=>n.e(627).then(n.t.bind(n,9643,23))))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,c.lazy)((()=>n.e(340).then(n.t.bind(n,3330,23))))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,c.lazy)((()=>n.e(42).then(n.t.bind(n,1400,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,c.lazy)((()=>n.e(328).then(n.t.bind(n,9348,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,c.lazy)((()=>n.e(570).then(n.t.bind(n,3276,23))))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,c.lazy)((()=>n.e(392).then(n.t.bind(n,3552,23))))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,c.lazy)((()=>n.e(463).then(n.t.bind(n,7945,23))))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:e=>u.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,c.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,c.lazy)((()=>n.e(458).then(n.t.bind(n,688,23))))}]},7604:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(h,{defaultProps:()=>E,propTypes:()=>x}),e.exports=(r=h,u(o({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?i(l(e)):{},u(e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)))(n(5556));const{string:f,bool:p,number:g,array:m,oneOfType:y,shape:v,object:b,func:_,node:w}=d.default,x={url:y([f,m,b]),playing:p,loop:p,controls:p,volume:g,muted:p,playbackRate:g,width:y([f,g]),height:y([f,g]),style:b,progressInterval:g,playsinline:p,pip:p,stopOnUnmount:p,light:y([p,f,b]),playIcon:w,previewTabIndex:g,previewAriaLabel:f,fallback:w,oEmbedUrl:f,wrapper:y([f,_,v({render:_.isRequired})]),config:v({soundcloud:v({options:b}),youtube:v({playerVars:b,embedOptions:b,onUnstarted:_}),facebook:v({appId:f,version:f,playerId:f,attributes:b}),dailymotion:v({params:b}),vimeo:v({playerOptions:b,title:f}),mux:v({attributes:b,version:f}),file:v({attributes:b,tracks:m,forceVideo:p,forceAudio:p,forceHLS:p,forceSafariHLS:p,forceDisableHls:p,forceDASH:p,forceFLV:p,hlsOptions:b,hlsVersion:f,dashVersion:f,flvVersion:f}),wistia:v({options:b,playerId:f,customControls:m}),mixcloud:v({options:b}),twitch:v({options:b,playerId:f}),vidyard:v({options:b})}),onReady:_,onStart:_,onPlay:_,onPause:_,onBuffer:_,onBufferEnd:_,onEnded:_,onError:_,onDuration:_,onSeek:_,onPlaybackRateChange:_,onPlaybackQualityChange:_,onProgress:_,onClickPreview:_,onEnablePIP:_,onDisablePIP:_},S=()=>{},E={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:S},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:S,onStart:S,onPlay:S,onPause:S,onBuffer:S,onBufferEnd:S,onEnded:S,onError:S,onDuration:S,onSeek:S,onPlaybackRateChange:S,onPlaybackQualityChange:S,onProgress:S,onClickPreview:S,onEnablePIP:S,onDisablePIP:S}},5635:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=s(t,i))||r.enumerable});return e},h=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),d={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(d,{callPlayer:()=>O,getConfig:()=>T,getSDK:()=>A,isBlobUrl:()=>I,isMediaStream:()=>M,lazy:()=>m,omit:()=>R,parseEndTime:()=>S,parseStartTime:()=>x,queryString:()=>C,randomString:()=>E,supportsWebKitPresentationMode:()=>D}),e.exports=(r=d,u(o({},"__esModule",{value:!0}),r));var f=h(n(6540)),p=h(n(6147)),g=h(n(4744));const m=e=>f.default.lazy((async()=>{const t=await e();return"function"==typeof t.default?t:t.default})),y=/[?&#](?:start|t)=([0-9hms]+)/,v=/[?&#]end=([0-9hms]+)/,b=/(\d+)(h|m|s)/g,_=/^\d+$/;function w(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const e=n[1];if(e.match(b))return function(e){let t=0,n=b.exec(e);for(;null!==n;){const[,r,i]=n;"h"===i&&(t+=60*parseInt(r,10)*60),"m"===i&&(t+=60*parseInt(r,10)),"s"===i&&(t+=parseInt(r,10)),n=b.exec(e)}return t}(e);if(_.test(e))return parseInt(e)}}function x(e){return w(e,y)}function S(e){return w(e,v)}function E(){return Math.random().toString(36).substr(2,5)}function C(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}function k(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const P={},A=function(e,t,n=null,r=(()=>!0),i=p.default){const o=k(t);return o&&r(o)?Promise.resolve(o):new Promise(((r,o)=>{if(P[e])return void P[e].push({resolve:r,reject:o});P[e]=[{resolve:r,reject:o}];const s=t=>{P[e].forEach((e=>e.resolve(t)))};if(n){const e=window[n];window[n]=function(){e&&e(),s(k(t))}}i(e,(r=>{r?(P[e].forEach((e=>e.reject(r))),P[e]=null):n||s(k(t))}))}))};function T(e,t){return(0,g.default)(t.config,e.config)}function R(e,...t){const n=[].concat(...t),r={},i=Object.keys(e);for(const t of i)-1===n.indexOf(t)&&(r[t]=e[t]);return r}function O(e,...t){if(!this.player||!this.player[e]){let t=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}return this.player[e](...t)}function M(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream}function I(e){return/^blob:/.test(e)}function D(e=document.createElement("video")){const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&t}},1020:(e,t,n)=>{"use strict";var r=n(6540),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+A(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+A(a=e[c],c);l+=T(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,i,u=o+A(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},I={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=F,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,_(e),!g)if(null!==r(c))g=!0,I(x);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,v(k),k=-1),p=!0;var o=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!T());){var s=d.callback;if("function"==typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,k=-1,P=5,A=-1;function T(){return!(t.unstable_now()-A<P)}function R(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"==typeof b)S=function(){b(R)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=R,S=function(){M.postMessage(null)}}else S=function(){y(R,0)};function I(e){C=e,E||(E=!0,S())}function D(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,I(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(v(k),k=-1):m=!0,D(w,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,I(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},2833:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},3185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerStyleSheet:()=>nn,StyleSheetConsumer:()=>Pt,StyleSheetContext:()=>kt,StyleSheetManager:()=>Rt,ThemeConsumer:()=>Ut,ThemeContext:()=>Bt,ThemeProvider:()=>Wt,__PRIVATE__:()=>rn,createGlobalStyle:()=>Jt,css:()=>Xt,default:()=>Zt,isStyledComponent:()=>Ye,keyframes:()=>en,styled:()=>Zt,useTheme:()=>Vt,version:()=>ue,withTheme:()=>tn});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var o=n(6540),s=n(2833),a=n.n(s),l="-ms-",c="-moz-",u="-webkit-",h="comm",d="rule",f="decl",p="@import",g="@keyframes",m="@layer",y=Math.abs,v=String.fromCharCode,b=Object.assign;function _(e){return e.trim()}function w(e,t){return(e=t.exec(e))?e[0]:e}function x(e,t,n){return e.replace(t,n)}function S(e,t,n){return e.indexOf(t,n)}function E(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function k(e){return e.length}function P(e){return e.length}function A(e,t){return t.push(e),e}function T(e,t){return e.filter((function(e){return!w(e,t)}))}var R=1,O=1,M=0,I=0,D=0,F="";function L(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:R,column:O,length:s,return:"",siblings:a}}function N(e,t){return b(L("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function j(e){for(;e.root;)e=N(e.root,{children:[e]});A(e,e.siblings)}function z(){return D=I>0?E(F,--I):0,O--,10===D&&(O=1,R--),D}function B(){return D=I<M?E(F,I++):0,O++,10===D&&(O=1,R++),D}function U(){return E(F,I)}function V(){return I}function W(e,t){return C(F,e,t)}function $(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H(e){return _(W(I-1,X(91===e?e+2:40===e?e+1:e)))}function q(e){for(;(D=U())&&D<33;)B();return $(e)>2||$(D)>3?"":" "}function G(e,t){for(;--t&&B()&&!(D<48||D>102||D>57&&D<65||D>70&&D<97););return W(e,V()+(t<6&&32==U()&&32==B()))}function X(e){for(;B();)switch(D){case e:return I;case 34:case 39:34!==e&&39!==e&&X(D);break;case 40:41===e&&X(e);break;case 92:B()}return I}function Y(e,t){for(;B()&&e+D!==57&&(e+D!==84||47!==U()););return"/*"+W(t,I-1)+"*"+v(47===e?e:B())}function K(e){for(;!$(U());)B();return W(e,I)}function Z(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Q(e,t,n,r){switch(e.type){case m:if(e.children.length)break;case p:case f:return e.return=e.return||e.value;case h:return"";case g:return e.return=e.value+"{"+Z(e.children,r)+"}";case d:if(!k(e.value=e.props.join(",")))return""}return k(n=Z(e.children,r))?e.return=e.value+"{"+n+"}":""}function J(e,t,n){switch(function(e,t){return 45^E(e,0)?(((t<<2^E(e,0))<<2^E(e,1))<<2^E(e,2))<<2^E(e,3):0}(e,t)){case 5103:return u+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return u+e+e;case 4789:return c+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return u+e+c+e+l+e+e;case 5936:switch(E(e,t+11)){case 114:return u+e+l+x(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return u+e+l+x(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return u+e+l+x(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return u+e+l+e+e;case 6165:return u+e+l+"flex-"+e+e;case 5187:return u+e+x(e,/(\w+).+(:[^]+)/,u+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return u+e+l+"flex-item-"+x(e,/flex-|-self/g,"")+(w(e,/flex-|baseline/)?"":l+"grid-row-"+x(e,/flex-|-self/g,""))+e;case 4675:return u+e+l+"flex-line-pack"+x(e,/align-content|flex-|-self/g,"")+e;case 5548:return u+e+l+x(e,"shrink","negative")+e;case 5292:return u+e+l+x(e,"basis","preferred-size")+e;case 6060:return u+"box-"+x(e,"-grow","")+u+e+l+x(e,"grow","positive")+e;case 4554:return u+x(e,/([^-])(transform)/g,"$1"+u+"$2")+e;case 6187:return x(x(x(e,/(zoom-|grab)/,u+"$1"),/(image-set)/,u+"$1"),e,"")+e;case 5495:case 3959:return x(e,/(image-set\([^]*)/,u+"$1$`$1");case 4968:return x(x(e,/(.+:)(flex-)?(.*)/,u+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+u+e+e;case 4200:if(!w(e,/flex-|baseline/))return l+"grid-column-align"+C(e,t)+e;break;case 2592:case 3360:return l+x(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,w(e.props,/grid-\w+-end/)}))?~S(e+(n=n[t].value),"span",0)?e:l+x(e,"-start","")+e+l+"grid-row-span:"+(~S(n,"span",0)?w(n,/\d+/):+w(n,/\d+/)-+w(e,/\d+/))+";":l+x(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return w(e.props,/grid-\w+-start/)}))?e:l+x(x(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return x(e,/(.+)-inline(.+)/,u+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(k(e)-1-t>6)switch(E(e,t+1)){case 109:if(45!==E(e,t+4))break;case 102:return x(e,/(.+:)(.+)-([^]+)/,"$1"+u+"$2-$3$1"+c+(108==E(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch",0)?J(x(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return x(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,s,a){return l+n+":"+r+a+(i?l+n+"-span:"+(o?s:+s-+r)+a:"")+e}));case 4949:if(121===E(e,t+6))return x(e,":",":"+u)+e;break;case 6444:switch(E(e,45===E(e,14)?18:11)){case 120:return x(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+u+(45===E(e,14)?"inline-":"")+"box$3$1"+u+"$2$3$1"+l+"$2box$3")+e;case 100:return x(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return x(e,"scroll-","scroll-snap-")+e}return e}function ee(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case f:return void(e.return=J(e.value,e.length,n));case g:return Z([N(e,{value:x(e.value,"@","@"+u)})],r);case d:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(w(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":j(N(e,{props:[x(t,/:(read-\w+)/,":"+c+"$1")]})),j(N(e,{props:[t]})),b(e,{props:T(n,r)});break;case"::placeholder":j(N(e,{props:[x(t,/:(plac\w+)/,":"+u+"input-$1")]})),j(N(e,{props:[x(t,/:(plac\w+)/,":"+c+"$1")]})),j(N(e,{props:[x(t,/:(plac\w+)/,l+"input-$1")]})),j(N(e,{props:[t]})),b(e,{props:T(n,r)})}return""}))}}function te(e){return function(e){return F="",e}(ne("",null,null,null,[""],e=function(e){return R=O=1,M=k(F=e),I=0,[]}(e),0,[0],e))}function ne(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,g=1,m=1,b=1,_=0,w="",C=i,P=o,T=r,R=w;m;)switch(p=_,_=B()){case 40:if(108!=p&&58==E(R,h-1)){-1!=S(R+=x(H(_),"&","&\f"),"&\f",y(c?a[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:R+=H(_);break;case 9:case 10:case 13:case 32:R+=q(p);break;case 92:R+=G(V()-1,7);continue;case 47:switch(U()){case 42:case 47:A(ie(Y(B(),V()),t,n,l),l);break;default:R+="/"}break;case 123*g:a[c++]=k(R)*b;case 125*g:case 59:case 0:switch(_){case 0:case 125:m=0;case 59+u:-1==b&&(R=x(R,/\f/g,"")),f>0&&k(R)-h&&A(f>32?oe(R+";",r,n,h-1,l):oe(x(R," ","")+";",r,n,h-2,l),l);break;case 59:R+=";";default:if(A(T=re(R,t,n,c,u,i,a,w,C=[],P=[],h,o),o),123===_)if(0===u)ne(R,t,T,T,C,o,h,a,P);else switch(99===d&&110===E(R,3)?100:d){case 100:case 108:case 109:case 115:ne(e,T,T,r&&A(re(e,T,T,0,0,i,a,w,i,C=[],h,P),P),i,P,h,a,r?C:P);break;default:ne(R,T,T,T,[""],P,0,a,P)}}c=u=f=0,g=b=1,w=R="",h=s;break;case 58:h=1+k(R),f=p;default:if(g<1)if(123==_)--g;else if(125==_&&0==g++&&125==z())continue;switch(R+=v(_),_*g){case 38:b=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(k(R)-1)*b,b=1;break;case 64:45===U()&&(R+=H(B())),d=U(),u=h=k(w=R+=K(V())),_++;break;case 45:45===p&&2==k(R)&&(g=0)}}return o}function re(e,t,n,r,i,o,s,a,l,c,u,h){for(var f=i-1,p=0===i?o:[""],g=P(p),m=0,v=0,b=0;m<r;++m)for(var w=0,S=C(e,f+1,f=y(v=s[m])),E=e;w<g;++w)(E=_(v>0?p[w]+" "+S:x(S,/&\f/g,p[w])))&&(l[b++]=E);return L(e,t,n,0===i?d:a,l,c,u,h)}function ie(e,t,n,r){return L(e,t,n,h,v(D),C(e,2,-2),0,r)}function oe(e,t,n,r,i){return L(e,t,n,f,C(e,0,r),C(e,r+1,-1),r,i)}var se=n(3969),ae="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",le="active",ce="data-styled-version",ue="6.1.11",he="/*!sc*/\n",de="undefined"!=typeof window&&"HTMLElement"in window,fe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY),pe={},ge=(new Set,Object.freeze([])),me=Object.freeze({});function ye(e,t,n){return void 0===n&&(n=me),e.theme!==n.theme&&e.theme||t||n.theme}var ve=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(_e,"")}var xe=/(a)(d)/gi,Se=52,Ee=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ce(e){var t,n="";for(t=Math.abs(e);t>Se;t=t/Se|0)n=Ee(t%Se)+n;return(Ee(t%Se)+n).replace(xe,"$1-$2")}var ke,Pe=5381,Ae=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Te=function(e){return Ae(Pe,e)};function Re(e){return Ce(Te(e)>>>0)}function Oe(e){return e.displayName||e.name||"Component"}function Me(e){return"string"==typeof e&&!0}var Ie="function"==typeof Symbol&&Symbol.for,De=Ie?Symbol.for("react.memo"):60115,Fe=Ie?Symbol.for("react.forward_ref"):60112,Le={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},je={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ze=((ke={})[Fe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ke[De]=je,ke);function Be(e){return("type"in(t=e)&&t.type.$$typeof)===De?je:"$$typeof"in e?ze[e.$$typeof]:Le;var t}var Ue=Object.defineProperty,Ve=Object.getOwnPropertyNames,We=Object.getOwnPropertySymbols,$e=Object.getOwnPropertyDescriptor,He=Object.getPrototypeOf,qe=Object.prototype;function Ge(e,t,n){if("string"!=typeof t){if(qe){var r=He(t);r&&r!==qe&&Ge(e,r,n)}var i=Ve(t);We&&(i=i.concat(We(t)));for(var o=Be(e),s=Be(t),a=0;a<i.length;++a){var l=i[a];if(!(l in Ne||n&&n[l]||s&&l in s||o&&l in o)){var c=$e(t,l);try{Ue(e,l,c)}catch(e){}}}}return e}function Xe(e){return"function"==typeof e}function Ye(e){return"object"==typeof e&&"styledComponentId"in e}function Ke(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Ze(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Qe(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Je(e,t,n){if(void 0===n&&(n=!1),!n&&!Qe(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Je(e[r],t[r]);else if(Qe(t))for(var r in t)e[r]=Je(e[r],t[r]);return e}function et(e,t){Object.defineProperty(e,"toString",{value:t})}function tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var nt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw tt(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=(o=0,t.length);o<a;o++)this.tag.insertRule(s,t[o])&&(this.groupSizes[e]++,s++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(he);return t},e}(),rt=new Map,it=new Map,ot=1,st=function(e){if(rt.has(e))return rt.get(e);for(;it.has(ot);)ot++;var t=ot++;return rt.set(e,t),it.set(t,e),t},at=function(e,t){ot=t+1,rt.set(e,t),it.set(t,e)},lt="style[".concat(ae,"][").concat(ce,'="').concat(ue,'"]'),ct=new RegExp("^".concat(ae,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ut=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},ht=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(he),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(ct);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(at(u,c),ut(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function dt(){return n.nc}var ft=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(ae,"]")));return t[t.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(ae,le),r.setAttribute(ce,ue);var s=dt();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},pt=function(){function e(e){this.element=ft(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw tt(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),gt=function(){function e(e){this.element=ft(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),mt=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),yt=de,vt={isServer:!de,useCSSOMInjection:!fe},bt=function(){function e(e,t,n){void 0===e&&(e=me),void 0===t&&(t={});var i=this;this.options=r(r({},vt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&de&&yt&&(yt=!1,function(e){for(var t=document.querySelectorAll(lt),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(ae)!==le&&(ht(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),et(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return it.get(e)}(n);if(void 0===i)return"continue";var o=e.names.get(i),s=t.getGroup(n);if(void 0===o||0===s.length)return"continue";var a="".concat(ae,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(s).concat(a,'{content:"').concat(l,'"}').concat(he)},o=0;o<n;o++)i(o);return r}(i)}))}return e.registerId=function(e){return st(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(r(r({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new mt(n):t?new pt(n):new gt(n)}(this.options),new nt(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(st(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(st(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(st(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),_t=/&/g,wt=/^\s*\/\/.*$/gm;function xt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=xt(e.children,t)),e}))}function St(e){var t,n,r,i=void 0===e?me:e,o=i.options,s=void 0===o?me:o,a=i.plugins,l=void 0===a?ge:a,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===d&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(_t,n).replace(r,c))})),s.prefix&&u.push(ee),u.push(Q);var h=function(e,i,o,a){void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(wt,""),c=te(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);s.namespace&&(c=xt(c,s.namespace));var h,d,f,p=[];return Z(c,(h=u.concat((f=function(e){return p.push(e)},function(e){e.root||(e=e.return)&&f(e)})),d=P(h),function(e,t,n,r){for(var i="",o=0;o<d;o++)i+=h[o](e,t,n,r)||"";return i})),p};return h.hash=l.length?l.reduce((function(e,t){return t.name||tt(15),Ae(e,t.name)}),Pe).toString():"",h}var Et=new bt,Ct=St(),kt=o.createContext({shouldForwardProp:void 0,styleSheet:Et,stylis:Ct}),Pt=kt.Consumer,At=o.createContext(void 0);function Tt(){return(0,o.useContext)(kt)}function Rt(e){var t=(0,o.useState)(e.stylisPlugins),n=t[0],r=t[1],i=Tt().styleSheet,s=(0,o.useMemo)((function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,i]),l=(0,o.useMemo)((function(){return St({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,o.useEffect)((function(){a()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var c=(0,o.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:s,stylis:l}}),[e.shouldForwardProp,s,l]);return o.createElement(kt.Provider,{value:c},o.createElement(At.Provider,{value:l},e.children))}var Ot=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ct);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,et(this,(function(){throw tt(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Ct),this.name+e.hash},e}(),Mt=function(e){return e>="A"&&e<="Z"};function It(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Mt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Dt=function(e){return null==e||!1===e||""===e},Ft=function(e){var t,n,r=[];for(var o in e){var s=e[o];e.hasOwnProperty(o)&&!Dt(s)&&(Array.isArray(s)&&s.isCss||Xe(s)?r.push("".concat(It(o),":"),s,";"):Qe(s)?r.push.apply(r,i(i(["".concat(o," {")],Ft(s),!1),["}"],!1)):r.push("".concat(It(o),": ").concat((t=o,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in se.A||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Lt(e,t,n,r){return Dt(e)?[]:Ye(e)?[".".concat(e.styledComponentId)]:Xe(e)?!Xe(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Lt(e(t),t,n,r):e instanceof Ot?n?(e.inject(n,r),[e.getName(r)]):[e]:Qe(e)?Ft(e):Array.isArray(e)?Array.prototype.concat.apply(ge,e.map((function(e){return Lt(e,t,n,r)}))):[e.toString()];var i}function Nt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Xe(n)&&!Ye(n))return!1}return!0}var jt=Te(ue),zt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Nt(e),this.componentId=t,this.baseHash=Ae(jt,t),this.baseStyle=n,bt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ke(r,this.staticRulesId);else{var i=Ze(Lt(this.rules,e,t,n)),o=Ce(Ae(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var s=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,s)}r=Ke(r,o),this.staticRulesId=o}else{for(var a=Ae(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=Ze(Lt(u,e,t,n));a=Ae(a,h+c),l+=h}}if(l){var d=Ce(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=Ke(r,d)}}return r},e}(),Bt=o.createContext(void 0),Ut=Bt.Consumer;function Vt(){var e=(0,o.useContext)(Bt);if(!e)throw tt(18);return e}function Wt(e){var t=o.useContext(Bt),n=(0,o.useMemo)((function(){return function(e,t){if(!e)throw tt(14);if(Xe(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw tt(8);return t?r(r({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?o.createElement(Bt.Provider,{value:n},e.children):null}var $t={};function Ht(e,t,n){var i=Ye(e),s=e,a=!Me(e),l=t.attrs,c=void 0===l?ge:l,u=t.componentId,h=void 0===u?function(e,t){var n="string"!=typeof e?"sc":we(e);$t[n]=($t[n]||0)+1;var r="".concat(n,"-").concat(Re(ue+n+$t[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):u,d=t.displayName,f=void 0===d?function(e){return Me(e)?"styled.".concat(e):"Styled(".concat(Oe(e),")")}(e):d,p=t.displayName&&t.componentId?"".concat(we(t.displayName),"-").concat(t.componentId):t.componentId||h,g=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,m=t.shouldForwardProp;if(i&&s.shouldForwardProp){var y=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return y(e,t)&&v(e,t)}}else m=y}var b=new zt(n,p,i?s.componentStyle:void 0);function _(e,t){return function(e,t,n){var i=e.attrs,s=e.componentStyle,a=e.defaultProps,l=e.foldedComponentIds,c=e.styledComponentId,u=e.target,h=o.useContext(Bt),d=Tt(),f=e.shouldForwardProp||d.shouldForwardProp,p=ye(t,h,a)||me,g=function(e,t,n){for(var i,o=r(r({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var a=Xe(i=e[s])?i(o):i;for(var l in a)o[l]="className"===l?Ke(o[l],a[l]):"style"===l?r(r({},o[l]),a[l]):a[l]}return t.className&&(o.className=Ke(o.className,t.className)),o}(i,t,p),m=g.as||u,y={};for(var v in g)void 0===g[v]||"$"===v[0]||"as"===v||"theme"===v&&g.theme===p||("forwardedAs"===v?y.as=g.forwardedAs:f&&!f(v,m)||(y[v]=g[v]));var b=function(e,t){var n=Tt();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,g),_=Ke(l,c);return b&&(_+=" "+b),g.className&&(_+=" "+g.className),y[Me(m)&&!ve.has(m)?"class":"className"]=_,y.ref=n,(0,o.createElement)(m,y)}(w,e,t)}_.displayName=f;var w=o.forwardRef(_);return w.attrs=g,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=m,w.foldedComponentIds=i?Ke(s.foldedComponentIds,s.styledComponentId):"",w.styledComponentId=p,w.target=i?s.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Je(e,i[r],!0);return e}({},s.defaultProps,e):e}}),et(w,(function(){return".".concat(w.styledComponentId)})),a&&Ge(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function qt(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}new Set;var Gt=function(e){return Object.assign(e,{isCss:!0})};function Xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xe(e)||Qe(e))return Gt(Lt(qt(ge,i([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Lt(r):Gt(Lt(qt(r,t)))}function Yt(e,t,n){if(void 0===n&&(n=me),!t)throw tt(1,t);var o=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,Xt.apply(void 0,i([r],o,!1)))};return o.attrs=function(i){return Yt(e,t,r(r({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},o.withConfig=function(i){return Yt(e,t,r(r({},n),i))},o}var Kt=function(e){return Yt(Ht,e)},Zt=Kt;ve.forEach((function(e){Zt[e]=Kt(e)}));var Qt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Nt(e),bt.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(Ze(Lt(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&bt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Jt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=Xt.apply(void 0,i([e],t,!1)),a="sc-global-".concat(Re(JSON.stringify(s))),l=new Qt(s,a),c=function(e){var t=Tt(),n=o.useContext(Bt),r=o.useRef(t.styleSheet.allocateGSInstance(a)).current;return t.styleSheet.server&&u(r,e,t.styleSheet,n,t.stylis),o.useLayoutEffect((function(){if(!t.styleSheet.server)return u(r,e,t.styleSheet,n,t.stylis),function(){return l.removeStyles(r,t.styleSheet)}}),[r,e,t.styleSheet,n,t.stylis]),null};function u(e,t,n,i,o){if(l.isStatic)l.renderStyles(e,pe,n,o);else{var s=r(r({},t),{theme:ye(t,i,c.defaultProps)});l.renderStyles(e,s,n,o)}}return o.memo(c)}function en(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ze(Xt.apply(void 0,i([e],t,!1))),o=Re(r);return new Ot(o,r)}function tn(e){var t=o.forwardRef((function(t,n){var i=ye(t,o.useContext(Bt),e.defaultProps);return o.createElement(e,r({},t,{theme:i,ref:n}))}));return t.displayName="WithTheme(".concat(Oe(e),")"),Ge(t,e)}var nn=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=dt(),r=Ze([n&&'nonce="'.concat(n,'"'),"".concat(ae,'="true"'),"".concat(ce,'="').concat(ue,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw tt(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw tt(2);var n=((t={})[ae]="",t[ce]=ue,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=dt();return i&&(n.nonce=i),[o.createElement("style",r({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new bt({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw tt(2);return o.createElement(Rt,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw tt(3)},e}(),rn={StyleSheet:bt,mainSheet:Et};"__sc-".concat(ae,"__")},9771:e=>{"use strict";e.exports=function(){}},7640:()=>{},3237:()=>{},7492:()=>{},1815:()=>{},6671:()=>{},2787:()=>{},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>e+".bundle.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="mediathread:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var i,o;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=s[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){i=l;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",dataWebpackPrefix+n),i.src=e),inProgress[e]=[t];var c=(t,n)=>{i.onerror=i.onload=null,clearTimeout(u);var r=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=c.bind(null,i.onerror),i.onload=c.bind(null,i.onload),o&&document.head.appendChild(i)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,a]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);a&&a(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkmediathread=self.webpackChunkmediathread||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(6540),t=__webpack_require__.t(e,2),n=__webpack_require__(5338),r=__webpack_require__(2297),i=__webpack_require__.n(r),o=(__webpack_require__(7612),__webpack_require__(7309)),s=__webpack_require__.n(o),a=__webpack_require__(2543),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.getElementById("csrf-token"),i=r?r.getAttribute("content"):"";return fetch(e,{method:t,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":i},body:n,credentials:"same-origin"})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"title",a=new URLSearchParams;a.append("course",window.MediaThread.current_course),a.append("limit",20),a.append("offset",o),a.append("order_by",s),a.append("annotations",!0),e&&a.append("search_text",e),"all"!==i&&a.append("modified",i),n&&n.length>0&&a.append("tag",n.map((function(e){return e.value}))),r&&r.length>0&&r.forEach((function(e){a.append("vocabulary-".concat(e.data.vocab_id),e.data.id)}));var c="/api/asset/";return t&&"all"!==t&&(c="/api/asset/user/".concat(t,"/")),l(c+"?"+a.toString()).then((function(e){if(200===e.status)return e.json();throw"Error loading assets: "+"(".concat(e.status,") ").concat(e.statusText)}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=window.MediaThread.current_course,n="/asset/?course=".concat(t);return e&&(n="/api/asset/".concat(e,"/?annotations=true&course=").concat(t)),l(n).then((function(e){if(200===e.status)return e.json();throw"Error loading asset: "+"(".concat(e.status,") ").concat(e.statusText)}))},h=function(e){return Math.floor(e/3600)},d=function(e){var t=e-3600*Math.floor(e/3600);return Math.floor(t/60)},f=function(e){var t=Math.floor(e/3600),n=e-3600*t-60*Math.floor((e-3600*t)/60);return Math.floor(n)},p=function(e){var t=e.split(":"),n=null,r=null,o=null;return t.length>2?(n=Number(t[0]),r=Number(t[1]),o=Number(t[2])):(r=Number(t[0]),o=Number(t[1])),i()(n)&&i()(r)&&i()(o)?3600*n+60*r+o:i()(r)&&i()(o)?60*r+o:null},g=function(e){return(e<10?"0":"")+e},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){return[h(e),d(e),f(e)]}(e);return n[0]||t?g(n[0])+":"+g(n[1])+":"+g(n[2]):g(n[1])+":"+g(n[2])},y=function(e,t){return Math.max(t-e,0)},v=function(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e},b=function(e){var t=e.added;return new Date(Date.parse(t)).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")},_=function(e){return"youtube"===e||"vimeo"===e||"mp4_pseudo"===e||"mp4_panopto"===e||"mp4"===e||"quicktime"===e||"video_pseudo"===e||"video"===e?"video":"image_fpxid"===e||"image_fpx"===e||"image"===e?"image":"mp4_audio"===e?"audio":"pdf"===e?"pdf":"unknown"},w=function(e){this&&(this.src="/media/img/thumb_".concat(e,".png"))},x=function(e){var t=e;return t.getCurrentTime&&"function"==typeof t.getCurrentTime?t.getCurrentTime():isNaN(t.currentTime)?null:t.currentTime},S=function(){var e="";if(window.MediaThread){var t=window.MediaThread.current_course;e="/course/".concat(t,"/")}return e},E=function(e){var t=S();return"".concat(t,"react/asset/").concat(e,"/")},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[e])return n[e];var r="No Tags";return t.metadata&&t.metadata.tags&&t.metadata.tags.forEach((function(t){if(parseInt(t.id,10)===parseInt(e,10))return r=t.name,void(n[e]=r)})),r},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e.map((function(e){var n="";return n=e.count>0?"".concat(e.name," (").concat(e.count,")"):"".concat(e.name),t&&(n=e.name),{value:e.name,label:n}})):[]},P=function(e){return e?e.map((function(e){var t=[],n=e.term_set||e.terms;return n&&n.forEach((function(n){var r=n;r.vocab_id=e.id,n.count>0?t.push({label:"".concat(n.display_name," (").concat(n.count,")"),value:n.name,data:r}):t.push({label:"".concat(n.display_name),value:n.name,data:r})})),{value:e.name||e.display_name,label:e.name||e.display_name,options:t}})):[]},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.find(".collapse").each((function(e,r){var i=jQuery(r),o=parseInt(i.data("selectionid"),10);if(t===o){i.addClass("show");var s=i.closest(".card");return s.addClass("active"),n&&s[0].scrollIntoView(),!1}}))},T=function(e){return{owner:e.owner,title:e.title,tags:e.tags,terms:e.terms,date:e.date}},R=function(e){var t=[];return e.forEach((function(e){if(!("vocabulary"in e))return!1;e.vocabulary.forEach((function(e){e.terms.forEach((function(e){t.includes(e.display_name)||t.push(e.display_name)}))}))})),t},O=__webpack_require__(5556),M=__webpack_require__.n(O),I=__webpack_require__(3757);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}function N(e,t,n){return t=z(t),function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,n||[],z(e).constructor):t.apply(e,n))}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}var U=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),N(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){return e.createElement("div",{className:"alert alert-info",role:"alert"},e.createElement("span",{className:"spinner-border spinner-border-sm text-dark",role:"status","aria-hidden":"true"})," ",e.createElement("strong",null,"Just a moment."),"  Mediathread is currently loading all of the items within this collection.")}}])&&F(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}function H(e,t,n){return t=G(t),function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q()?Reflect.construct(t,n||[],G(e).constructor):t.apply(e,n))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}var Y=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),H(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){return e.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},e.createElement("strong",null,"Hmmm.")," There are no matching items to your search request. Please try again.",e.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},e.createElement("span",{"aria-hidden":"true"},"×")))}}])&&W(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}function J(e,t,n){return t=te(t),function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ee()?Reflect.construct(t,n||[],te(e).constructor):t.apply(e,n))}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}var re=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=J(this,n,[e])).state={loading:!1},t.handleSort=t.handleSort.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(n,t),r=n,i=[{key:"handleSort",value:function(e,t){this.setState({loading:!0});var n=e.name.toLowerCase();"owner"===n?n="author":"date"===n&&(n="added");var r="asc"===t?n:"-"+n,i=this;c(this.props.title,this.props.owner,this.props.tags,this.props.terms,this.props.date,0,r).then((function(e){i.props.onUpdateAssets(e.assets,e.asset_count),i.setState({loading:!1})}))}},{key:"render",value:function(){if(0===this.props.assets.length)return e.createElement(Y,null);var t=this,n=[{name:"Title",selector:"title",sortable:!0,wrap:!0,format:function(n){return e.createElement("a",{href:E(n.id),onClick:function(e){return t.props.enterAssetDetailView(e,n)}},n.title)}},{name:"Selections",selector:"annotation_count",sortable:!1},{name:"Tags",selector:"tags",sortable:!1,wrap:!0,format:function(e){return e&&e.tags?e.tags.join(", "):e.tags}},{name:"Course Vocabulary",selector:"terms",sortable:!1,wrap:!0,format:function(e){return e&&e.annotations?R(e.annotations).join(", "):""}},{name:"Media",selector:"primary_type",sortable:!1,format:function(e){return _(e.primary_type)}},{name:"Owner",selector:"author.public_name",sortable:!0,wrap:!0},{name:"Date",format:b,selector:"added",sortable:!0}];return(0,I.an)("mediathread",{striped:{default:"rgba(0, 0, 0, 0.05)"}}),e.createElement(I.Ay,{theme:"mediathread",customStyles:{header:{style:{minHeight:0}},headRow:{style:{minHeight:"34px"}},headCells:{style:{color:"rgba(33, 37, 41)",fontSize:"16px",fontWeight:700,backgroundColor:"#ccc",borderColor:"#ccc",padding:"0.3rem"}},rows:{style:{fontSize:"16px",minHeight:"33px"}},cells:{style:{padding:"0.3rem"}}},className:"react-data-table",columns:n,dense:!0,highlightOnHover:!0,striped:!0,progressPending:this.state.loading,progressComponent:e.createElement(U,null),sortServer:!0,defaultSortField:"title",onSort:this.handleSort,data:this.props.assets})}}],i&&Z(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);re.propTypes={assets:M().array,enterAssetDetailView:M().func.isRequired,onUpdateAssets:M().func.isRequired,owner:M().string,title:M().string,tags:M().array,terms:M().array,date:M().string};var ie=__webpack_require__(748);const oe=__webpack_require__.p+"a0bb6417f5776c12ca7d059adad6b27c.js";function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function le(e,t){if(null==e)return{};var n,r,i=ae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ce(t)?t:t+""}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,he(r.key),r)}}function fe(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}function ye(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e,t,n){return(t=he(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},we=["onKeyDown","onKeyPress","onKeyUp"],xe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Se=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Ee=_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e(_e([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),we,!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),xe,!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),Se,!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Ce(e,t){var n={};return Ee.forEach((function(r){var i=e[r];i&&(n[r]=t?function(e){return i(e,t(r))}:i)})),n}function ke(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}function Pe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Pe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Ae=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Pe(e))&&(r&&(r+=" "),r+=t);return r};var Te=!0,Re="Invariant failed";function Oe(e,t){if(!e){if(Te)throw new Error(Re);var n="function"==typeof t?t():t,r=n?"".concat(Re,": ").concat(n):Re;throw new Error(r)}}const Me=(0,e.createContext)(null);function Ie(t){var n=t.children,r=t.type;return e.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}Ie.propTypes={children:M().node,type:M().oneOf(["error","loading","no-data"]).isRequired};var De=function(){function e(){ue(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return fe(e,[{key:"setDocument",value:function(e){this.pdfDocument=e}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setExternalLinkRel",value:function(e){this.externalLinkRel=e}},{key:"setExternalLinkTarget",value:function(e){this.externalLinkTarget=e}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:function(e){var t=this;new Promise((function(n){"string"==typeof e?t.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)})).then((function(n){Oe(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var r=n[0];new Promise((function(e){r instanceof Object?t.pdfDocument.getPageIndex(r).then((function(t){e(t)})).catch((function(){Oe(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"==typeof r?e(r):Oe(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(n){var r=n+1;Oe(r>=1&&r<=t.pagesCount,'"'.concat(r,'" is not a valid page number.')),t.pdfViewer.scrollPageIntoView({dest:e,pageIndex:n,pageNumber:r})}))}))}},{key:"navigateTo",value:function(e){this.goToDestination(e)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),e}();const Fe=1,Le=2;function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Be="undefined"!=typeof document;Be&&window.location.protocol;function Ue(e){return void 0!==e}function Ve(e){return Ue(e)&&null!==e}function We(e){return"string"==typeof e&&/^data:/.test(e)}function $e(e){Oe(We(e),"Invalid data URI.");var t=ze(e.split(","),2),n=t[0],r=t[1];return-1!==n.split(";").indexOf("base64")?atob(r):unescape(r)}var He="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function qe(){"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(He)}function Ge(e){e&&e.cancel&&e.cancel()}function Xe(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function Ye(e){return"RenderingCancelledException"===e.name}function Ke(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ze,Qe=(Ze={},[].concat(Ke(xe),Ke(Se),Ke(we)).forEach((function(e){Ze[e]=M().func})),Ze),Je=[M().string,M().instanceOf(ArrayBuffer),M().shape({data:M().oneOfType([M().object,M().string]),httpHeaders:M().object,range:M().object,url:M().string,withCredentials:M().bool})];"undefined"!=typeof File&&Je.push(M().instanceOf(File)),"undefined"!=typeof Blob&&Je.push(M().instanceOf(Blob));var et=M().oneOfType([M().string,M().arrayOf(M().string)]),tt=M().oneOfType(Je),nt=M().instanceOf(De),rt=(M().oneOf(["_self","_blank","_parent","_top"]),M().shape({commonObjs:M().shape({}).isRequired,getAnnotations:M().func.isRequired,getTextContent:M().func.isRequired,getViewport:M().func.isRequired,render:M().func.isRequired})),it=M().oneOfType([M().shape({getDestination:M().func.isRequired,getOutline:M().func.isRequired,getPage:M().func.isRequired,numPages:M().number.isRequired}),M().bool]),ot=M().oneOfType([M().func,M().shape({current:M().any})]),st=M().oneOf(["canvas","none","svg"]),at=M().oneOf([0,90,180,270]),lt=["url"];function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=ie.PDFDataRangeTransport,dt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var e;ue(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(pe(e=i.call.apply(i,[this].concat(n))),"state",{pdf:null}),be(pe(e),"viewer",{scrollPageIntoView:function(t){var n=t.dest,r=t.pageIndex,i=t.pageNumber,o=e.props.onItemClick;if(o)o({dest:n,pageIndex:r,pageNumber:i});else{var s=e.pages[r];s?s.scrollIntoView():"An internal link leading to page ".concat(i," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.")}}}),be(pe(e),"linkService",new De),be(pe(e),"loadDocument",(function(){Ge(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var t=ke(e.findDocumentSource());e.runningTask=t,t.promise.then((function(t){if(e.onSourceSuccess(),t){e.setState((function(e){return e.pdf?{pdf:null}:null}));var n=e.props,r=n.options,i=n.onLoadProgress,o=n.onPassword,s=ie.getDocument(ut(ut({},t),r));s.onPassword=o,i&&(s.onProgress=i),e.loadingTask=s,s.promise.then((function(t){e.setState((function(e){return e.pdf&&e.pdf.fingerprint===t.fingerprint?null:{pdf:t}}),e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))}})).catch((function(t){e.onSourceError(t)}))})),be(pe(e),"setupLinkService",(function(){var t=e.props,n=t.externalLinkRel,r=t.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(n),e.linkService.setExternalLinkTarget(r)})),be(pe(e),"onSourceSuccess",(function(){var t=e.props.onSourceSuccess;t&&t()})),be(pe(e),"onSourceError",(function(t){var n=e.props.onSourceError;n&&n(t)})),be(pe(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.pdf;t&&t(n),e.pages=new Array(n.numPages),e.linkService.setDocument(n)})),be(pe(e),"onLoadError",(function(t){e.setState({pdf:!1});var n=e.props.onLoadError;n&&n(t)})),be(pe(e),"findDocumentSource",(function(){return new Promise((function(t){var n,r=e.props.file;if(r||t(null),"string"==typeof r){if(We(r)){var i=$e(r);t({data:i})}qe(),t({url:r})}if(r instanceof ht&&t({range:r}),r instanceof ArrayBuffer&&t({data:r}),Be&&(n=r,Oe(Be,"isBlob can only be used in a browser environment"),n instanceof Blob||function(e){return Oe(Be,"isFile can only be used in a browser environment"),e instanceof File}(r)))(function(e){return new Promise((function(t,n){var r=new FileReader;return r.onload=function(){return t(new Uint8Array(r.result))},r.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case e.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e),null}))})(r).then((function(e){t({data:e})}));else{if(Oe("object"===ce(r),"Invalid parameter in file, need either Uint8Array, string or a parameter object"),Oe(r.url||r.data||r.range,"Invalid parameter object: need either .data, .range or .url"),"string"==typeof r.url){if(We(r.url)){var o=r.url,s=le(r,lt),a=$e(o);t(ut({data:a},s))}qe()}t(r)}}))})),be(pe(e),"registerPage",(function(t,n){e.pages[t]=n})),be(pe(e),"unregisterPage",(function(t){delete e.pages[t]})),e}return fe(o,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){Ge(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var e=this.linkService,t=this.registerPage,n=this.unregisterPage,r=this.props,i=r.imageResourcesPath,o=r.renderMode,s=r.rotate;return{imageResourcesPath:i,linkService:e,pdf:this.state.pdf,registerPage:t,renderMode:o,rotate:s,unregisterPage:n}}},{key:"eventProps",get:function(){var e=this;return Ce(this.props,(function(){return e.state.pdf}))}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(Me.Provider,{value:this.childContext},t)}},{key:"renderContent",value:function(){var t=this.props.file,n=this.state.pdf;if(!t){var r=this.props.noData;return e.createElement(Ie,{type:"no-data"},"function"==typeof r?r():r)}if(null===n){var i=this.props.loading;return e.createElement(Ie,{type:"loading"},"function"==typeof i?i():i)}if(!1===n){var o=this.props.error;return e.createElement(Ie,{type:"error"},"function"==typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.inputRef;return e.createElement("div",se({className:Ae("react-pdf__Document",n),ref:r},this.eventProps),this.renderContent())}}]),o}(e.PureComponent);dt.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(e,t){switch(t){case Fe:e(prompt("Enter the password to open this PDF file."));break;case Le:e(prompt("Invalid password. Please try again."))}}};var ft=M().oneOfType([M().func,M().node]);dt.propTypes=ut(ut({},Qe),{},{children:M().node,className:et,error:ft,externalLinkRel:M().string,externalLinkTarget:M().string,file:tt,imageResourcesPath:M().string,inputRef:ot,loading:ft,noData:ft,onItemClick:M().func,onLoadError:M().func,onLoadProgress:M().func,onLoadSuccess:M().func,onPassword:M().func,onSourceError:M().func,onSourceSuccess:M().func,rotate:M().number});const pt=(0,e.createContext)(null);var gt=function(){function e(t){var n=t.num,r=t.gen;ue(this,e),this.num=n,this.gen=r}return fe(e,[{key:"toString",value:function(){var e="".concat(this.num,"R");return 0!==this.gen&&(e+=this.gen),e}}]),e}(),mt=["item"];var yt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var e;ue(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(pe(e=i.call.apply(i,[this].concat(n))),"getDestination",(function(){return new Promise((function(t,n){if(Ue(e.destination))t(e.destination);else{var r=e.props,i=r.item,o=r.pdf;"string"==typeof i.dest?o.getDestination(i.dest).then(t).catch(n):t(i.dest)}})).then((function(t){return e.destination=t,t}))})),be(pe(e),"getPageIndex",(function(){return new Promise((function(t,n){var r=e.props.pdf;Ue(e.pageIndex)?t(e.pageIndex):e.getDestination().then((function(e){if(e){var i=ze(e,1)[0];r.getPageIndex(new gt(i)).then(t).catch(n)}}))})).then((function(t){return e.pageIndex=t,e.pageIndex}))})),be(pe(e),"getPageNumber",(function(){return new Promise((function(t,n){Ue(e.pageNumber)?t(e.pageNumber):e.getPageIndex().then((function(e){t(e+1)})).catch(n)})).then((function(t){return e.pageNumber=t,t}))})),be(pe(e),"onClick",(function(t){var n=e.props.onClick;return t.preventDefault(),!!n&&Promise.all([e.getDestination(),e.getPageIndex(),e.getPageNumber()]).then((function(e){var t=ze(e,3),r=t[0],i=t[1],o=t[2];n({dest:r,pageIndex:i,pageNumber:o})}))})),e}return fe(o,[{key:"renderSubitems",value:function(){var t=this.props,n=t.item,r=le(t,mt);if(!n.items||!n.items.length)return null;var i=n.items;return e.createElement("ul",null,i.map((function(t,n){return e.createElement(o,se({key:"string"==typeof t.destination?t.destination:n,item:t},r))})))}},{key:"render",value:function(){var t=this.props.item;return e.createElement("li",null,e.createElement("a",{href:"#",onClick:this.onClick},t.title),this.renderSubitems())}}]),o}(e.PureComponent),vt=M().oneOfType([M().string,M().arrayOf(M().any)]);yt.propTypes={item:M().shape({dest:vt,items:M().arrayOf(M().shape({dest:vt,title:M().string})),title:M().string}).isRequired,onClick:M().func,pdf:it.isRequired};const bt=function(t){return e.createElement(Me.Consumer,null,(function(n){return e.createElement(pt.Consumer,null,(function(r){return e.createElement(yt,se({},n,r,t))}))}))};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var e;ue(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(pe(e=i.call.apply(i,[this].concat(n))),"state",{outline:null}),be(pe(e),"loadOutline",(function(){var t=e.props.pdf;e.setState((function(e){return e.outline?{outline:null}:null}));var n=ke(t.getOutline());e.runningTask=n,n.promise.then((function(t){e.setState({outline:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),be(pe(e),"onLoadSuccess",(function(){var t=e.props.onLoadSuccess,n=e.state.outline;t&&t(n)})),be(pe(e),"onLoadError",(function(t){e.setState({outline:!1});var n=e.props.onLoadError;n&&n(t)})),be(pe(e),"onItemClick",(function(t){var n=t.dest,r=t.pageIndex,i=t.pageNumber,o=e.props.onItemClick;o&&o({dest:n,pageIndex:r,pageNumber:i})})),e}return fe(o,[{key:"componentDidMount",value:function(){Oe(this.props.pdf,"Attempted to load an outline, but no document was specified."),this.loadOutline()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;e.pdf&&t!==e.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){Ge(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var e=this;return Ce(this.props,(function(){return e.state.outline}))}},{key:"renderOutline",value:function(){var t=this.state.outline;return e.createElement("ul",null,t.map((function(t,n){return e.createElement(bt,{key:"string"==typeof t.destination?t.destination:n,item:t})})))}},{key:"render",value:function(){var t=this.props.pdf,n=this.state.outline;if(!t||!n)return null;var r=this.props,i=r.className,o=r.inputRef;return e.createElement("div",se({className:Ae("react-pdf__Outline",i),ref:o},this.eventProps),e.createElement(pt.Provider,{value:this.childContext},this.renderOutline()))}}]),o}(e.PureComponent);function xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}wt.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:et,inputRef:ot,onItemClick:M().func,onLoadError:M().func,onLoadSuccess:M().func,pdf:it},Qe);const St=(0,e.createContext)(null);var Et=ie.AnnotationMode,Ct=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var t;ue(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return be(pe(t=i.call.apply(i,[this].concat(r))),"canvasElement",(0,e.createRef)()),be(pe(t),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(Xe(r,i))})),be(pe(t),"onRenderError",(function(e){if(!Ye(e)){var n=t.props.onRenderError;n&&n(e)}})),be(pe(t),"drawPageOnCanvas",(function(){var e=t.canvasElement.current;if(!e)return null;var n=pe(t),r=n.renderViewport,i=n.viewport,o=t.props,s=o.canvasBackground,a=o.page,l=o.renderForms;e.width=r.width,e.height=r.height,e.style.width="".concat(Math.floor(i.width),"px"),e.style.height="".concat(Math.floor(i.height),"px");var c={annotationMode:l?Et.ENABLE_FORMS:Et.ENABLE,get canvasContext(){return e.getContext("2d",{alpha:!1})},viewport:r};s&&(c.background=s),t.cancelRenderingTask();var u=a.render(c);return t.renderer=u,u.promise.then(t.onRenderSuccess).catch(t.onRenderError)})),t}return fe(o,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasBackground,r=t.devicePixelRatio,i=t.page,o=t.renderForms;n===e.canvasBackground&&r===e.devicePixelRatio&&o===e.renderForms||(i.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var e=this.canvasElement.current;e&&(e.width=0,e.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){return this.props.devicePixelRatio||Be&&window.devicePixelRatio||1}},{key:"renderViewport",get:function(){var e=this.devicePixelRatio,t=this.props,n=t.page,r=t.rotate,i=t.scale;return n.getViewport({scale:i*e,rotation:r})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var t=this.props.canvasRef;return e.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:xt(t,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),o}(e.PureComponent);function kt(t){return e.createElement(St.Consumer,null,(function(n){return e.createElement(Ct,se({},n,t))}))}Ct.propTypes={canvasBackground:M().string,canvasRef:ot,devicePixelRatio:M().number,onRenderError:M().func,onRenderSuccess:M().func,page:rt.isRequired,renderForms:M().bool,rotate:at,scale:M().number.isRequired};var Pt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var e;ue(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(pe(e=i.call.apply(i,[this].concat(n))),"state",{svg:null}),be(pe(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,i=t.scale;n&&n(Xe(r,i))})),be(pe(e),"onRenderError",(function(t){if(!Ye(t)){var n=e.props.onRenderError;n&&n(t)}})),be(pe(e),"renderSVG",(function(){var t=e.props.page;return e.renderer=t.getOperatorList(),e.renderer.then((function(n){var r=new ie.SVGGraphics(t.commonObjs,t.objs);e.renderer=r.getSVG(n,e.viewport).then((function(t){e.setState({svg:t},e.onRenderSuccess)})).catch(e.onRenderError)})).catch(e.onRenderError)})),be(pe(e),"drawPageOnContainer",(function(t){var n=e.state.svg;if(t&&n){t.firstElementChild||t.appendChild(n);var r=e.viewport,i=r.width,o=r.height;n.setAttribute("width",i),n.setAttribute("height",o)}})),e}return fe(o,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var t=this,n=this.viewport,r=n.width,i=n.height;return e.createElement("div",{className:"react-pdf__Page__svg",ref:function(e){return t.drawPageOnContainer(e)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:r,height:i,userSelect:"none"}})}}]),o}(e.PureComponent);function At(t){return e.createElement(St.Consumer,null,(function(n){return e.createElement(Pt,se({},n,t))}))}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Pt.propTypes={onRenderError:M().func,onRenderSuccess:M().func,page:rt.isRequired,rotate:at,scale:M().number.isRequired};var Rt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var t;ue(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return be(pe(t=i.call.apply(i,[this].concat(r))),"state",{textContent:null}),be(pe(t),"layerElement",(0,e.createRef)()),be(pe(t),"endElement",(0,e.createRef)()),be(pe(t),"loadTextContent",(function(){var e=ke(t.props.page.getTextContent());t.runningTask=e,e.promise.then((function(e){t.setState({textContent:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),be(pe(t),"onLoadSuccess",(function(){var e=t.props.onGetTextSuccess,n=t.state.textContent;e&&e(n)})),be(pe(t),"onLoadError",(function(e){t.setState({textItems:!1});var n=t.props.onGetTextError;n&&n(e)})),be(pe(t),"onRenderSuccess",(function(){var e=t.props.onRenderTextLayerSuccess;e&&e()})),be(pe(t),"onRenderError",(function(e){var n=t.props.onRenderTextLayerError;n&&n(e)})),be(pe(t),"onMouseDown",(function(){var e=t.endElement.current;e&&e.classList.add("active")})),be(pe(t),"onMouseUp",(function(){var e=t.endElement.current;e&&e.classList.remove("active")})),t}return fe(o,[{key:"componentDidMount",value:function(){Oe(this.props.page,"Attempted to load page text content, but no page was specified."),parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),this.loadTextContent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;e.page&&t!==e.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){Ge(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,n=e.scale;return t.getViewport({scale:n})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}},{key:"renderTextLayer",value:function(){var e=this,t=this.state.textContent;if(!t)return null;var n=this.layerElement.current,r=this.viewport,i=this.props,o=i.customTextRenderer,s=i.pageIndex,a=i.pageNumber;Ge(this.runningTask),n.innerHTML="";var l={container:n,textContent:t,viewport:r},c=ie.renderTextLayer(l);this.runningTask=c,c.promise.then((function(){var r=document.createElement("div");if(r.className="endOfContent",n.append(r),e.endElement.current=r,o){var i=0;t.items.forEach((function(t,n){var r=e.layerElement.current.children[i],l=o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pageIndex:s,pageNumber:a,itemIndex:n},t));r.innerHTML=l,i+=t.str&&t.hasEOL?2:1}))}e.onRenderSuccess()})).catch((function(t){e.onRenderError(t)}))}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),o}(e.PureComponent);function Ot(t){return e.createElement(St.Consumer,null,(function(n){return e.createElement(Rt,se({},n,t))}))}Rt.propTypes={customTextRenderer:M().func,onGetTextError:M().func,onGetTextSuccess:M().func,onRenderTextLayerError:M().func,onRenderTextLayerSuccess:M().func,page:rt.isRequired,pageIndex:M().number.isRequired,pageNumber:M().number.isRequired,rotate:at,scale:M().number};var Mt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var t;ue(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return be(pe(t=i.call.apply(i,[this].concat(r))),"state",{annotations:null}),be(pe(t),"layerElement",(0,e.createRef)()),be(pe(t),"loadAnnotations",(function(){var e=ke(t.props.page.getAnnotations());t.runningTask=e,e.promise.then((function(e){t.setState({annotations:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),be(pe(t),"onLoadSuccess",(function(){var e=t.props.onGetAnnotationsSuccess,n=t.state.annotations;e&&e(n)})),be(pe(t),"onLoadError",(function(e){t.setState({annotations:!1});var n=t.props.onGetAnnotationsError;n&&n(e)})),be(pe(t),"onRenderSuccess",(function(){var e=t.props.onRenderAnnotationLayerSuccess;e&&e()})),be(pe(t),"onRenderError",(function(e){var n=t.props.onRenderAnnotationLayerError;n&&n(e)})),t}return fe(o,[{key:"componentDidMount",value:function(){Oe(this.props.page,"Attempted to load page annotations, but no page was specified."),parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,r=t.renderForms;(e.page&&n!==e.page||r!==e.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){Ge(this.runningTask)}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale;return t.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var e=this.state.annotations;if(e){var t=this.props,n=t.imageResourcesPath,r=t.linkService,i=t.page,o=t.renderForms,s=this.viewport.clone({dontFlip:!0}),a={annotations:e,div:this.layerElement.current,imageResourcesPath:n,linkService:r,page:i,renderForms:o,viewport:s};this.layerElement.current.innerHTML="";try{ie.AnnotationLayer.render(a),this.onRenderSuccess()}catch(e){this.onRenderError(e)}}}},{key:"render",value:function(){return e.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),o}(e.PureComponent);Mt.propTypes={imageResourcesPath:M().string,linkService:nt.isRequired,onGetAnnotationsError:M().func,onGetAnnotationsSuccess:M().func,onRenderAnnotationLayerError:M().func,onRenderAnnotationLayerSuccess:M().func,page:rt,renderForms:M().bool,rotate:at,scale:M().number};const It=function(t){return e.createElement(Me.Consumer,null,(function(n){return e.createElement(St.Consumer,null,(function(r){return e.createElement(Mt,se({},n,r,t))}))}))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=function(t){me(o,t);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(){var t;ue(this,o);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return be(pe(t=i.call.apply(i,[this].concat(r))),"state",{page:null}),be(pe(t),"pageElement",(0,e.createRef)()),be(pe(t),"onLoadSuccess",(function(){var e=t.props,n=e.onLoadSuccess,r=e.registerPage,i=t.state.page;n&&n(Xe(i,t.scale)),r&&r(t.pageIndex,t.pageElement.current)})),be(pe(t),"onLoadError",(function(e){t.setState({page:!1});var n=t.props.onLoadError;n&&n(e)})),be(pe(t),"loadPage",(function(){var e=t.props.pdf,n=t.getPageNumber();if(n){t.setState((function(e){return e.page?{page:null}:null}));var r=ke(e.getPage(n));t.runningTask=r,r.promise.then((function(e){t.setState({page:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})),t}return fe(o,[{key:"componentDidMount",value:function(){Oe(this.props.pdf,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;if(e.pdf&&t!==e.pdf||this.getPageNumber()!==this.getPageNumber(e)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(e)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterPage;e&&e(this.pageIndex),Ge(this.runningTask)}},{key:"childContext",get:function(){var e=this.pageIndex,t=this.pageNumber,n=this.state.page;if(!n)return{};var r=this.props,i=r.canvasBackground,o=r.customTextRenderer,s=r.devicePixelRatio,a=r.onGetAnnotationsError,l=r.onGetAnnotationsSuccess,c=r.onGetTextError,u=r.onGetTextSuccess,h=r.onRenderAnnotationLayerError,d=r.onRenderAnnotationLayerSuccess,f=r.onRenderError,p=r.onRenderSuccess,g=r.onRenderTextLayerError,m=r.onRenderTextLayerSuccess,y=r.renderForms,v=r.renderInteractiveForms;return{canvasBackground:i,customTextRenderer:o,devicePixelRatio:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onGetTextError:c,onGetTextSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,onRenderError:f,onRenderSuccess:p,onRenderTextLayerError:g,onRenderTextLayerSuccess:m,page:n,pageIndex:e,pageNumber:t,renderForms:null!=y?y:v,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ve(e.pageNumber)?e.pageNumber-1:Ve(e.pageIndex)?e.pageIndex:null}},{key:"getPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ve(e.pageNumber)?e.pageNumber:Ve(e.pageIndex)?e.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var e=this.props.rotate;if(Ve(e))return e;var t=this.state.page;return t?t.rotate:null}},{key:"scale",get:function(){var e=this.state.page;if(!e)return null;var t=this.props,n=t.scale,r=t.width,i=t.height,o=this.rotate,s=1,a=null===n?1:n;if(r||i){var l=e.getViewport({scale:1,rotation:o});s=r?r/l.width:i/l.height}return a*s}},{key:"eventProps",get:function(){var e=this;return Ce(this.props,(function(){var t=e.state.page;return t?Xe(t,e.scale):t}))}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var t=this.props,n=t.canvasRef;switch(t.renderMode){case"none":return null;case"svg":return e.createElement(At,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return e.createElement(kt,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){return this.props.renderTextLayer?e.createElement(Ot,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){return this.props.renderAnnotationLayer?e.createElement(It,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var t=this.props.children;return e.createElement(St.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),t)}},{key:"renderContent",value:function(){var t=this.pageNumber,n=this.props.pdf,r=this.state.page;if(!t){var i=this.props.noData;return e.createElement(Ie,{type:"no-data"},"function"==typeof i?i():i)}if(null===n||null===r){var o=this.props.loading;return e.createElement(Ie,{type:"loading"},"function"==typeof o?o():o)}if(!1===n||!1===r){var s=this.props.error;return e.createElement(Ie,{type:"error"},"function"==typeof s?s():s)}return this.renderChildren()}},{key:"render",value:function(){var t=this.pageNumber,n=this.props,r=n.className,i=n.inputRef;return e.createElement("div",se({className:Ae("react-pdf__Page",r),"data-page-number":t,ref:xt(i,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),o}(e.PureComponent);Lt.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:1};var Nt=M().oneOfType([M().func,M().node]);function jt(t,n){return e.createElement(Me.Consumer,null,(function(r){return e.createElement(Lt,se({ref:n},r,t))}))}Lt.propTypes=Ft(Ft({},Qe),{},{canvasBackground:M().string,children:M().node,className:et,customTextRenderer:M().func,devicePixelRatio:M().number,error:Nt,height:M().number,imageResourcesPath:M().string,inputRef:ot,loading:Nt,noData:Nt,onGetTextError:M().func,onGetTextSuccess:M().func,onLoadError:M().func,onLoadSuccess:M().func,onRenderError:M().func,onRenderSuccess:M().func,onRenderTextLayerError:M().func,onRenderTextLayerSuccess:M().func,pageIndex:function(e,t,n){var r=e[t],i=e.pageNumber,o=e.pdf;if(!Ue(o))return null;if(Ue(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat(ce(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var s=o.numPages;if(r+1>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s-1,"."))}else if(!Ue(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){var r=e[t],i=e.pageIndex,o=e.pdf;if(!Ue(o))return null;if(Ue(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat(ce(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var s=o.numPages;if(r>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s,"."))}else if(!Ue(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:it,registerPage:M().func,renderAnnotationLayer:M().bool,renderForms:M().bool,renderInteractiveForms:M().bool,renderMode:st,renderTextLayer:M().bool,rotate:at,scale:M().number,unregisterPage:M().func,width:M().number});const zt=e.forwardRef(jt);"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(He),ie.GlobalWorkerOptions.workerSrc=oe;const Bt=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Ut="propertychange",Vt=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Wt(e,t){return e>t?1:e<t?-1:0}function $t(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const r=e[i];if(r===t)return i;if(r<t)return n(t,e[i-1],r)>0?i-1:i}return r-1}if(n>0){for(let n=1;n<r;++n)if(e[n]<t)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(e[n]<=t)return n;return r-1}for(let n=1;n<r;++n){if(e[n]==t)return n;if(e[n]<t)return e[n-1]-t<t-e[n]?n-1:n}return r-1}function Ht(e,t,n){for(;t<n;){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function qt(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let t=0;t<r;t++)e[e.length]=n[t]}function Gt(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xt(){return!0}function Yt(){return!1}function Kt(){}function Zt(e){let t,n,r,i=!1;return function(){const o=Array.prototype.slice.call(arguments);return i&&this===r&&Gt(o,n)||(i=!0,r=this,n=o,t=e.apply(this,arguments)),t}}function Qt(e){for(const t in e)delete e[t]}function Jt(e){let t;for(t in e)return!1;return!t}const en=class extends Vt{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const i=t?new Bt(e):e;i.target||(i.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});let a;n in o||(o[n]=0,s[n]=0),++o[n];for(let e=0,t=r.length;e<t;++e)if(a="handleEvent"in r[e]?r[e].handleEvent(i):r[e].call(this,i),!1===a||i.propagationStopped){a=!1;break}if(0==--o[n]){let e=s[n];for(delete s[n];e--;)this.removeEventListener(n,Kt);delete o[n]}return a}disposeInternal(){this.listeners_&&Qt(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=Kt,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}},tn="change",nn="contextmenu",rn="click",on="keydown",sn="keypress",an="touchmove",ln="wheel";function cn(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){const r=n;n=function(){e.removeEventListener(t,n),r.apply(this,arguments)}}const o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function un(e,t,n,r){return cn(e,t,n,r,!0)}function hn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Qt(e))}class dn extends en{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(tn)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=cn(this,e[i],t);return r}return cn(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=un(this,e[i],t)}else n=un(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)hn(e[t]);else hn(e)}(n);else if(Array.isArray(e))for(let n=0,r=e.length;n<r;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}dn.prototype.on,dn.prototype.once,dn.prototype.un;const fn=dn;function pn(){throw new Error("Unimplemented abstract method.")}let gn=0;function mn(e){return e.ol_uid||(e.ol_uid=String(++gn))}class yn extends Bt{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}const vn=class extends fn{constructor(e){super(),this.on,this.once,this.un,mn(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new yn(n,e,t)),n=Ut,this.hasListener(n)&&this.dispatchEvent(new yn(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const n=r[e];r[e]=t,n!==t&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],Jt(this.values_)&&(this.values_=null),t||this.notify(e,n)}}},bn="add",_n="remove",wn="length";class xn extends Bt{constructor(e,t,n){super(e),this.element=t,this.index=n}}const Sn=class extends vn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let e=0,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(wn)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new xn(bn,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new xn(_n,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new xn(_n,n,e)),this.dispatchEvent(new xn(bn,t,e))}updateLength_(){this.set(wn,this.array_.length)}assertUnique_(e,t){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}},En="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Cn=En.includes("firefox"),kn=(En.includes("safari")&&!En.includes("chrom")&&(En.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(En)),En.includes("webkit")&&!En.includes("edge")),Pn=En.includes("macintosh"),An="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Tn="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,Rn="undefined"!=typeof Image&&Image.prototype.decode,On="function"==typeof createImageBitmap,Mn=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}return e}();function In(e,t){if(!e)throw new Error(t)}function Dn(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function Fn(e,t,n,r,i,o,s,a){const l=Math.sin(o),c=Math.cos(o);return e[0]=r*c,e[1]=i*l,e[2]=-r*l,e[3]=i*c,e[4]=s*r*c-a*r*l+t,e[5]=s*i*l+a*i*c+n,e}function Ln(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;In(0!==n,"Transformation matrix cannot be inverted");const i=t[0],o=t[1],s=t[2],a=t[3],l=t[4],c=t[5];return e[0]=a/n,e[1]=-o/n,e[2]=-s/n,e[3]=i/n,e[4]=(s*c-a*l)/n,e[5]=-(i*c-o*l)/n,e}let Nn;function jn(e){const t="matrix("+e.join(", ")+")";if(Tn)return t;const n=Nn||(Nn=document.createElement("div"));return n.style.transform=t,n.style.transform}new Array(6);const zn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bn(e){const t=[1/0,1/0,-1/0,-1/0];for(let n=0,r=e.length;n<r;++n)er(t,e[n]);return t}function Un(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Vn(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Wn(e,t,n){let r,i;return r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,i=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,r*r+i*i}function $n(e,t){return qn(e,t[0],t[1])}function Hn(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function qn(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function Gn(e,t){const n=e[0],r=e[1],i=e[2],o=e[3],s=t[0],a=t[1];let l=zn.UNKNOWN;return s<n?l|=zn.LEFT:s>i&&(l|=zn.RIGHT),a<r?l|=zn.BELOW:a>o&&(l|=zn.ABOVE),l===zn.UNKNOWN&&(l=zn.INTERSECTING),l}function Xn(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function Yn(e){return Xn(1/0,1/0,-1/0,-1/0,e)}function Kn(e,t){const n=e[0],r=e[1];return Xn(n,r,n,r,t)}function Zn(e,t,n,r,i){return tr(Yn(i),e,t,n,r)}function Qn(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Jn(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function er(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function tr(e,t,n,r,i){for(;n<r;n+=i)nr(e,t[n],t[n+1]);return e}function nr(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function rr(e,t){let n;return n=t(ir(e)),n||(n=t(or(e)),n||(n=t(hr(e)),n||(n=t(ur(e)),n||!1)))}function ir(e){return[e[0],e[1]]}function or(e){return[e[2],e[1]]}function sr(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function ar(e,t,n,r,i){const[o,s,a,l,c,u,h,d]=function(e,t,n,r){const i=t*r[0]/2,o=t*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,c=i*a,u=o*s,h=o*a,d=e[0],f=e[1];return[d-l+h,f-c-u,d-l-h,f-c+u,d+l-h,f+c+u,d+l+h,f+c-u,d-l+h,f-c-u]}(e,t,n,r);return Xn(Math.min(o,a,c,h),Math.min(s,l,u,d),Math.max(o,a,c,h),Math.max(s,l,u,d),i)}function lr(e){return e[3]-e[1]}function cr(e,t,n){const r=n||[1/0,1/0,-1/0,-1/0];return fr(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):Yn(r),r}function ur(e){return[e[0],e[3]]}function hr(e){return[e[2],e[3]]}function dr(e){return e[2]-e[0]}function fr(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function pr(e){return e[2]<e[0]||e[3]<e[1]}function gr(e,t){const n=t.getExtent(),r=sr(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const t=dr(n),i=Math.floor((r[0]-n[0])/t)*t;e[0]-=i,e[2]-=i}return e}const mr={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var yr={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};yr.max=yr.whitepoint[2].D65,yr.rgb=function(e,t){t=t||yr.whitepoint[2].E;var n,r,i,o=e[0]/t[0],s=e[1]/t[1],a=e[2]/t[2];return r=-.96924363628087*o+1.87596750150772*s+.041555057407175*a,i=.055630079696993*o+-.20397695888897*s+1.056971514242878*a,n=(n=3.240969941904521*o+-1.537383177570093*s+-.498610760293*a)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},mr.xyz=function(e,t){var n=e[0]/255,r=e[1]/255,i=e[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),s=.019330818715591*n+.11919477979462*r+.95053215224966*i;return[(.41239079926595*n+.35758433938387*r+.18048078840183*i)*(t=t||yr.whitepoint[2].E)[0],o*t[1],s*t[2]]};const vr=yr,br={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var r,i,o,s,a,l,c,u,h;return o=e[0],s=e[1],a=e[2],0===o?[0,0,0]:(t=t||"D65",n=n||2,r=s/(13*o)+4*(c=vr.whitepoint[n][t][0])/(c+15*(u=vr.whitepoint[n][t][1])+3*(h=vr.whitepoint[n][t][2]))||0,i=a/(13*o)+9*u/(c+15*u+3*h)||0,[9*(l=o>8?u*Math.pow((o+16)/116,3):u*o*.0011070564598794539)*r/(4*i)||0,l,l*(12-3*r-20*i)/(4*i)||0])}};vr.luv=function(e,t,n){var r,i,o,s,a,l,c,u,h,d,f;t=t||"D65",n=n||2,d=4*(c=vr.whitepoint[n][t][0])/(c+15*(u=vr.whitepoint[n][t][1])+3*(h=vr.whitepoint[n][t][2])),f=9*u/(c+15*u+3*h),r=4*(s=e[0])/(s+15*(a=e[1])+3*(l=e[2]))||0,i=9*a/(s+15*a+3*l)||0;var p=a/u;return[o=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*o*(r-d),13*o*(i-f)]};var _r={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},xyz:function(e){return br.xyz(_r.luv(e))}};const wr=_r;br.lchuv=function(e){var t=e[0],n=e[1],r=e[2],i=Math.sqrt(n*n+r*r),o=360*Math.atan2(r,n)/2/Math.PI;return o<0&&(o+=360),[t,i,o]},vr.lchuv=function(e){return br.lchuv(vr.luv(e))};const xr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Sr=function(e){var t,n,r=[],i=1;if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"==typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),xr[e])r=xr[e].slice(),n="rgb";else if("transparent"===e)i=0,n="rgb",r=[0,0,0];else if("#"===e[0]){var o=e.slice(1),s=o.length;i=1,s<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===s&&(i=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===s&&(i=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var a=t[1],l="cmyk"===(n=a.replace(/a$/,""))?4:"gray"===n?1:3;r=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=r.shift()),r=r.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===n?255*e:"h"===n[0]?100*e:"l"!==n[0]||t?"lab"===n?125*e:"lch"===n?t<2?150*e:360*e:"o"!==n[0]||t?"oklab"===n?.4*e:"oklch"===n?t<2?.4*e:360*e:e:e:100*e;if("h"===n[t]||2===t&&"h"===n[n.length-1]){if(void 0!==Er[e])return Er[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)})),i=r.length>l?r.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(r=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),n=e.match(/([a-z])/gi)?.join("")?.toLowerCase()||"rgb");return{space:n,values:r,alpha:i}};var Er={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};const Cr={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,i,o,s=e[0]/360,a=e[1]/100,l=e[2]/100,c=0;if(0===a)return[o=255*l,o,o];for(t=2*l-(n=l<.5?l*(1+a):l+a-l*a),i=[0,0,0];c<3;)(r=s+1/3*-(c-1))<0?r++:r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[c++]=255*o;return i}};function kr(e,t,n){return Math.min(Math.max(e,t),n)}function Pr(e,t,n,r,i,o){const s=i-n,a=o-r;if(0!==s||0!==a){const l=((e-n)*s+(t-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return Ar(e,t,n,r)}function Ar(e,t,n,r){const i=n-e,o=r-t;return i*i+o*o}function Tr(e){return e*Math.PI/180}function Rr(e,t){const n=e%t;return n*t<0?n+t:n}function Or(e,t,n){return e+n*(t-e)}function Mr(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function Ir(e,t){return Math.ceil(Mr(e,t))}function Dr(e){return"string"==typeof e?e:Wr(e)}mr.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(r,i,o),a=Math.max(r,i,o),l=a-s;return a===s?t=0:r===a?t=(i-o)/l:i===a?t=2+(o-r)/l:o===a&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(s+a)/2,[t,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]};const Fr=1024,Lr={};let Nr=0;function jr(e){if(4===e.length)return e;const t=e.slice();return t[3]=1,t}function zr(e){const t=vr.lchuv(mr.xyz(e));return t[3]=e[3],t}function Br(e){if(Lr.hasOwnProperty(e))return Lr[e];if(Nr>=Fr){let e=0;for(const t in Lr)3&e++||(delete Lr[t],--Nr)}const t=function(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var n=Sr(e);if(!n.space)return[];const r="h"===n.space[0]?Cr.min:mr.min,i="h"===n.space[0]?Cr.max:mr.max;return(t=Array(3))[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),t[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),t[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),"h"===n.space[0]&&(t=Cr.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}(e);if(4!==t.length)throw new Error('Failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('Failed to parse "'+e+'" as color');return Vr(t),Lr[e]=t,++Nr,t}function Ur(e){return Array.isArray(e)?e:Br(e)}function Vr(e){return e[0]=kr(e[0]+.5|0,0,255),e[1]=kr(e[1]+.5|0,0,255),e[2]=kr(e[2]+.5|0,0,255),e[3]=kr(e[3],0,1),e}function Wr(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}function $r(e,t,n){return t+":"+e+":"+(n?Dr(n):"null")}const Hr=new class{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const n=this.cache_[t];3&e++||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,n){const r=$r(e,t,n);return r in this.cache_?this.cache_[r]:null}set(e,t,n,r){const i=$r(e,t,n);this.cache_[i]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},qr="opacity",Gr="visible",Xr="extent",Yr="zIndex",Kr="maxResolution",Zr="minResolution",Qr="maxZoom",Jr="minZoom",ei="source",ti=class extends vn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[qr]=void 0!==e.opacity?e.opacity:1,In("number"==typeof t[qr],"Layer opacity must be a number"),t[Gr]=void 0===e.visible||e.visible,t[Yr]=e.zIndex,t[Kr]=void 0!==e.maxResolution?e.maxResolution:1/0,t[Zr]=void 0!==e.minResolution?e.minResolution:0,t[Jr]=void 0!==e.minZoom?e.minZoom:-1/0,t[Qr]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=kr(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return pn()}getLayerStatesArray(e){return pn()}getExtent(){return this.get(Xr)}getMaxResolution(){return this.get(Kr)}getMinResolution(){return this.get(Zr)}getMinZoom(){return this.get(Jr)}getMaxZoom(){return this.get(Qr)}getOpacity(){return this.get(qr)}getSourceState(){return pn()}getVisible(){return this.get(Gr)}getZIndex(){return this.get(Yr)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Xr,e)}setMaxResolution(e){this.set(Kr,e)}setMinResolution(e){this.set(Zr,e)}setMaxZoom(e){this.set(Qr,e)}setMinZoom(e){this.set(Jr,e)}setOpacity(e){In("number"==typeof e,"Layer opacity must be a number"),this.set(qr,e)}setVisible(e){this.set(Gr,e)}setZIndex(e){this.set(Yr,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},ni="prerender",ri="postrender",ii="precompose",oi="rendercomplete",si={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ai={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},li=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ai[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},ci=6378137,ui=Math.PI*ci,hi=[-ui,-ui,ui,ui],di=[-180,-85,180,85],fi=ci*Math.log(Math.tan(Math.PI/2));class pi extends li{constructor(e){super({code:e,units:"m",extent:hi,global:!0,worldExtent:di,getPointResolution:function(e,t){return e/Math.cosh(t[1]/ci)}})}}const gi=[new pi("EPSG:3857"),new pi("EPSG:102100"),new pi("EPSG:102113"),new pi("EPSG:900913"),new pi("http://www.opengis.net/def/crs/EPSG/0/3857"),new pi("http://www.opengis.net/gml/srs/epsg.xml#3857")];const mi=[-180,-90,180,90],yi=6378137*Math.PI/180;class vi extends li{constructor(e,t){super({code:e,units:"degrees",extent:mi,axisOrientation:t,global:!0,metersPerUnit:yi,worldExtent:mi})}}const bi=[new vi("CRS:84"),new vi("EPSG:4326","neu"),new vi("urn:ogc:def:crs:OGC:1.3:CRS84"),new vi("urn:ogc:def:crs:OGC:2:84"),new vi("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new vi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vi("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let _i={},wi={};function xi(e,t,n){const r=e.getCode(),i=t.getCode();r in wi||(wi[r]={}),wi[r][i]=n}function Si(e,t){let n=!0;for(let r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function Ei(e,t){const n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,o=e[1]*n+e[0]*r;return e[0]=i,e[1]=o,e}function Ci(e,t){const n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ki(e,t){return Math.sqrt(Ci(e,t))}function Pi(e,t){if(t.canWrapX()){const n=dr(t.getExtent()),r=function(e,t,n){const r=t.getExtent();let i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||dr(r),i=Math.floor((e[0]-r[0])/n)),i}(e,t,n);r&&(e[0]-=r*n)}return e}const Ai=6371008.8;function Ti(e,t,n){n=n||Ai;const r=Tr(e[1]),i=Tr(t[1]),o=(i-r)/2,s=Tr(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const Ri={info:1,warn:2,error:3,none:4};let Oi=Ri.info;function Mi(...e){Oi>Ri.warn||console.warn(...e)}let Ii=!0;function Di(e,t){if(void 0!==t)for(let n=0,r=e.length;n<r;++n)t[n]=e[n];else t=e.slice();return t}function Fi(e,t){if(void 0!==t&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function Li(e){!function(e,t){_i[e]=t}(e.getCode(),e),xi(e,e,Di)}function Ni(e){return"string"==typeof e?_i[t=e]||_i[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:e||null;var t}function ji(e,t,n,r){let i;const o=(e=Ni(e)).getPointResolutionFunc();if(o){if(i=o(t,n),r&&r!==e.getUnits()){const t=e.getMetersPerUnit();t&&(i=i*t/ai[r])}}else{const o=e.getUnits();if("degrees"==o&&!r||"degrees"==r)i=t;else{const s=Vi(e,Ni("EPSG:4326"));if(s===Fi&&"degrees"!==o)i=t*e.getMetersPerUnit();else{let e=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];e=s(e,e,2),i=(Ti(e.slice(0,2),e.slice(2,4))+Ti(e.slice(4,6),e.slice(6,8)))/2}const a=r?ai[r]:e.getMetersPerUnit();void 0!==a&&(i/=a)}}return i}function zi(e){!function(e){e.forEach(Li)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&xi(t,e,Di)}))}))}function Bi(e,t){return e?"string"==typeof e?Ni(e):e:Ni(t)}function Ui(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Vi(e,t)===Di)&&n}function Vi(e,t){let n=function(e,t){let n;return e in wi&&t in wi[e]&&(n=wi[e][t]),n}(e.getCode(),t.getCode());return n||(n=Fi),n}function Wi(e,t){return Vi(Ni(e),Ni(t))}function $i(e,t,n){return Wi(t,n)(e,void 0,e.length)}let Hi=null;function qi(){return Hi}function Gi(e,t){return e}function Xi(e,t){return Ii&&!Si(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Ii=!1,Mi("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Yi(e,t){return e}function Ki(e,t){return e}function Zi(e,t){return e}var Qi,Ji,eo;function to(e,t,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!t)return r;const l=t?0:o[0]*i,c=t?0:o[1]*i,u=a?a[0]:0,h=a?a[1]:0;let d=e[0]+l/2+u,f=e[2]-l/2+u,p=e[1]+c/2+h,g=e[3]-c/2+h;d>f&&(d=(f+d)/2,f=d),p>g&&(p=(g+p)/2,g=p);let m=kr(r[0],d,f),y=kr(r[1],p,g);if(s&&n&&i){const e=30*i;m+=-e*Math.log(1+Math.max(0,d-r[0])/e)+e*Math.log(1+Math.max(0,r[0]-f)/e),y+=-e*Math.log(1+Math.max(0,p-r[1])/e)+e*Math.log(1+Math.max(0,r[1]-g)/e)}return[m,y]}}function no(e){return e}function ro(e,t,n,r){const i=dr(t)/n[0],o=lr(t)/n[1];return r?Math.min(e,Math.max(i,o)):Math.min(e,Math.min(i,o))}function io(e,t,n){let r=Math.min(e,t);return r*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/e-1))/50+1),kr(r,n/2,2*t)}function oo(e,t,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=r?ro(e,r,a,i):e;return n&&l?io(o,s,t):kr(o,t,s)}}}function so(e){if(void 0!==e)return 0}function ao(e){if(void 0!==e)return e}function lo(e){return 1-function(e){return Math.pow(e,3)}(1-e)}function co(e){return 3*e*e-2*e*e*e}function uo(e){return e}function ho(e,t,n,r,i,o){o=o||[];let s=0;for(let a=t;a<n;a+=r){const t=e[a],n=e[a+1];o[s++]=i[0]*t+i[2]*n+i[4],o[s++]=i[1]*t+i[3]*n+i[5]}return o&&o.length!=s&&(o.length=s),o}function fo(e,t,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),c=o[0],u=o[1];let h=0;for(let i=t;i<n;i+=r){const t=e[i]-c,n=e[i+1]-u;s[h++]=c+t*a-n*l,s[h++]=u+t*l+n*a;for(let t=i+2;t<i+r;++t)s[h++]=e[t]}return s&&s.length!=h&&(s.length=h),s}zi(gi),zi(bi),Qi=gi,Ji=function(e,t,n){const r=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(r));for(let i=0;i<r;i+=n){t[i]=ui*e[i]/180;let n=ci*Math.log(Math.tan(Math.PI*(+e[i+1]+90)/360));n>fi?n=fi:n<-fi&&(n=-fi),t[i+1]=n}return t},eo=function(e,t,n){const r=e.length;n=n>1?n:2,void 0===t&&(t=n>2?e.slice():new Array(r));for(let i=0;i<r;i+=n)t[i]=180*e[i]/ui,t[i+1]=360*Math.atan(Math.exp(e[i+1]/ci))/Math.PI-90;return t},bi.forEach((function(e){Qi.forEach((function(t){xi(e,t,Ji),xi(t,e,eo)}))}));const po=[1,0,0,1,0,0],go=class extends vn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Zt(((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)}))}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return pn()}closestPointXY(e,t,n,r){return pn()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return pn()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Yn(e),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}rotate(e,t){pn()}scale(e,t,n){pn()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return pn()}getType(){return pn()}applyTransform(e){pn()}intersectsExtent(e){return pn()}translate(e,t){pn()}transform(e,t){const n=Ni(e),r="tile-pixels"==n.getUnits()?function(e,r,i){const o=n.getExtent(),s=n.getWorldExtent(),a=lr(s)/lr(o);return Fn(po,s[0],s[3],a,-a,0,0,0),ho(e,0,e.length,i,po,r),Wi(n,t)(e,r,i)}:Wi(n,t);return this.applyTransform(r),this}};function mo(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}function yo(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}const vo=class extends go{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Zn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return pn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=yo(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){pn()}setLayout(e,t,n){let r;if(e)r=yo(e);else{for(let e=0;e<n;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}r=t.length,e=mo(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();fo(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){void 0===t&&(t=e),n||(n=sr(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();!function(e,t,n,r,i,o,s,a){a=a||[];const l=s[0],c=s[1];let u=0;for(let t=0;t<n;t+=r){const n=e[t]-l,s=e[t+1]-c;a[u++]=l+i*n,a[u++]=c+o*s;for(let n=t+2;n<t+r;++n)a[u++]=e[n]}a&&a.length!=u&&(a.length=u)}(r,0,r.length,i,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();!function(e,t,n,r,i,o,s){s=s||[];let a=0;for(let t=0;t<n;t+=r){s[a++]=e[t]+i,s[a++]=e[t+1]+o;for(let n=t+2;n<t+r;++n)s[a++]=e[n]}s&&s.length!=a&&(s.length=a)}(n,0,n.length,r,e,t,n),this.changed()}}};function bo(e,t,n,r,i,o,s){const a=e[t],l=e[t+1],c=e[n]-a,u=e[n+1]-l;let h;if(0===c&&0===u)h=t;else{const d=((i-a)*c+(o-l)*u)/(c*c+u*u);if(d>1)h=n;else{if(d>0){for(let i=0;i<r;++i)s[i]=Or(e[t+i],e[n+i],d);return void(s.length=r)}h=t}}for(let t=0;t<r;++t)s[t]=e[h+t];s.length=r}function _o(e,t,n,r,i){let o=e[t],s=e[t+1];for(t+=r;t<n;t+=r){const n=e[t],r=e[t+1],a=Ar(o,s,n,r);a>i&&(i=a),o=n,s=r}return i}function wo(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=_o(e,t,s,r,i),t=s}return i}function xo(e,t,n,r,i,o,s,a,l,c,u){if(t==n)return c;let h,d;if(0===i){if(d=Ar(s,a,e[t],e[t+1]),d<c){for(h=0;h<r;++h)l[h]=e[t+h];return l.length=r,d}return c}u=u||[NaN,NaN];let f=t+r;for(;f<n;)if(bo(e,f-r,f,r,s,a,u),d=Ar(s,a,u[0],u[1]),d<c){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(c))/i|0,1);if(o&&(bo(e,n-r,t,r,s,a,u),d=Ar(s,a,u[0],u[1]),d<c)){for(c=d,h=0;h<r;++h)l[h]=u[h];l.length=r}return c}function So(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const d=n[h];c=xo(e,t,d,r,i,o,s,a,l,c,u),t=d}return c}function Eo(e,t,n,r){for(let r=0,i=n.length;r<i;++r)e[t++]=n[r];return t}function Co(e,t,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)e[t++]=o[n]}return t}function ko(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=Co(e,t,n[s],r);i[o++]=a,t=a}return i.length=o,i}function Po(e,t,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=ko(e,t,n[s],r,i[o]);0===a.length&&(a[0]=t),i[o++]=a,t=a[a.length-1]}return i.length=o,i}function Ao(e,t,n,r,i,o,s){const a=(n-t)/r;if(a<3){for(;t<n;t+=r)o[s++]=e[t],o[s++]=e[t+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,n-r];let u=0;for(;c.length>0;){const n=c.pop(),o=c.pop();let s=0;const a=e[o],h=e[o+1],d=e[n],f=e[n+1];for(let t=o+r;t<n;t+=r){const n=Pr(e[t],e[t+1],a,h,d,f);n>s&&(u=t,s=n)}s>i&&(l[(u-t)/r]=1,o+r<u&&c.push(o,u),u+r<n&&c.push(u,n))}for(let n=0;n<a;++n)l[n]&&(o[s++]=e[t+n*r],o[s++]=e[t+n*r+1]);return s}function To(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=Ao(e,t,c,r,i,o,s),a.push(s),t=c}return s}function Ro(e,t){return t*Math.round(e/t)}function Oo(e,t,n,r,i,o,s){if(t==n)return s;let a,l,c=Ro(e[t],i),u=Ro(e[t+1],i);t+=r,o[s++]=c,o[s++]=u;do{if(a=Ro(e[t],i),l=Ro(e[t+1],i),(t+=r)==n)return o[s++]=a,o[s++]=l,s}while(a==c&&l==u);for(;t<n;){const n=Ro(e[t],i),h=Ro(e[t+1],i);if(t+=r,n==a&&h==l)continue;const d=a-c,f=l-u,p=n-c,g=h-u;d*g==f*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(f<0&&g<f||f==g||f>0&&g>f)?(a=n,l=h):(o[s++]=a,o[s++]=l,c=a,u=l,a=n,l=h)}return o[s++]=a,o[s++]=l,s}function Mo(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l];s=Oo(e,t,c,r,i,o,s),a.push(s),t=c}return s}function Io(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=t;s<n;s+=r)i[o++]=e.slice(s,s+r);return i.length=o,i}function Do(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=Io(e,t,a,r,i[o]),t=a}return i.length=o,i}function Fo(e,t,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const a=n[s];i[o++]=1===a.length&&a[0]===t?[]:Do(e,t,a,r,i[o]),t=a[a.length-1]}return i.length=o,i}function Lo(e,t,n,r){let i=0,o=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];i+=s*n-o*r,o=n,s=r}return i/2}function No(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=Lo(e,t,s,r),t=s}return i}class jo extends vo{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new jo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<Wn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return Lo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Io(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Ao(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new jo(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,e,this.stride),this.changed()}}const zo=jo;class Bo extends vo{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Bo(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=Ar(e,t,i[0],i[1]);if(o<r){const e=this.stride;for(let t=0;t<e;++t)n[t]=i[t];return n.length=e,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Kn(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return qn(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Eo(this.flatCoordinates,0,e,this.stride),this.changed()}}const Uo=Bo;function Vo(e,t,n,r,i){return!rr(i,(function(i){return!Wo(e,t,n,r,i[0],i[1])}))}function Wo(e,t,n,r,i,o){let s=0,a=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];l<=o?r>o&&(n-a)*(o-l)-(i-a)*(r-l)>0&&s++:r<=o&&(n-a)*(o-l)-(i-a)*(r-l)<0&&s--,a=n,l=r}return 0!==s}function $o(e,t,n,r,i,o){if(0===n.length)return!1;if(!Wo(e,t,n[0],r,i,o))return!1;for(let t=1,s=n.length;t<s;++t)if(Wo(e,n[t-1],n[t],r,i,o))return!1;return!0}function Ho(e,t,n,r,i,o,s){let a,l,c,u,h,d,f;const p=i[o+1],g=[];for(let i=0,o=n.length;i<o;++i){const o=n[i];for(u=e[o-r],d=e[o-r+1],a=t;a<o;a+=r)h=e[a],f=e[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(c=(p-d)/(f-d)*(h-u)+u,g.push(c)),u=h,d=f}let m=NaN,y=-1/0;for(g.sort(Wt),u=g[0],a=1,l=g.length;a<l;++a){h=g[a];const i=Math.abs(h-u);i>y&&(c=(u+h)/2,$o(e,t,n,r,c,p)&&(m=c,y=i)),u=h}return isNaN(m)&&(m=i[o]),s?(s.push(m,p,y),s):[m,p,y]}function qo(e,t,n,r,i){let o=[];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=Ho(e,t,a,r,i,2*s,o),t=a[a.length-1]}return o}function Go(e,t,n,r,i){let o;for(t+=r;t<n;t+=r)if(o=i(e.slice(t-r,t),e.slice(t,t+r)),o)return o;return!1}function Xo(e,t,n,r,i){const o=tr([1/0,1/0,-1/0,-1/0],e,t,n,r);return!!fr(i,o)&&(!!Hn(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||Go(e,t,n,r,(function(e,t){return function(e,t,n){let r=!1;const i=Gn(e,t),o=Gn(e,n);if(i===zn.INTERSECTING||o===zn.INTERSECTING)r=!0;else{const s=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],d=n[0],f=n[1],p=(f-h)/(d-u);let g,m;o&zn.ABOVE&&!(i&zn.ABOVE)&&(g=d-(f-c)/p,r=g>=s&&g<=l),r||!(o&zn.RIGHT)||i&zn.RIGHT||(m=f-(d-l)*p,r=m>=a&&m<=c),r||!(o&zn.BELOW)||i&zn.BELOW||(g=d-(f-a)/p,r=g>=s&&g<=l),r||!(o&zn.LEFT)||i&zn.LEFT||(m=f-(d-s)*p,r=m>=a&&m<=c)}return r}(i,e,t)})))}function Yo(e,t,n,r,i){if(!function(e,t,n,r,i){return!!(Xo(e,t,n,r,i)||Wo(e,t,n,r,i[0],i[1])||Wo(e,t,n,r,i[0],i[3])||Wo(e,t,n,r,i[2],i[1])||Wo(e,t,n,r,i[2],i[3]))}(e,t,n[0],r,i))return!1;if(1===n.length)return!0;for(let t=1,o=n.length;t<o;++t)if(Vo(e,n[t-1],n[t],r,i)&&!Xo(e,n[t-1],n[t],r,i))return!1;return!0}function Ko(e,t,n,r){for(;t<n-r;){for(let i=0;i<r;++i){const o=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=o}t+=r,n-=r}}function Zo(e,t,n,r){let i=0,o=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const n=e[t],r=e[t+1];i+=(n-o)*(r+s),o=n,s=r}return 0===i?void 0:i>0}function Qo(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=Zo(e,t,s,r);if(0===o){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;t=s}return!0}function Jo(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(!Qo(e,t,s,r,i))return!1;s.length&&(t=s[s.length-1])}return!0}function es(e,t,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=Zo(e,t,s,r);(0===o?i&&a||!i&&!a:i&&!a||!i&&a)&&Ko(e,t,s,r),t=s}return t}function ts(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o)t=es(e,t,n[o],r,i);return t}class ns extends vo{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?qt(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ns(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<Wn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),So(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return $o(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return No(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),es(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Do(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=sr(this.getExtent());this.flatInteriorPoint_=Ho(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Uo(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new zo(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o],a=new zo(t.slice(i,s),e);r.push(a),i=s}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Qo(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=es(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Mo(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new ns(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return Yo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=ko(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const rs=ns;function is(e){if(pr(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],r=e[2],i=e[3],o=[t,n,t,i,r,i,r,n,t,n];return new ns(o,"XY",[o.length])}function os(e,t){setTimeout((function(){e(t)}),0)}function ss(e){return!(e.sourceCenter&&e.targetCenter&&!Si(e.sourceCenter,e.targetCenter))&&e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation}function as(e,t,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;return a+=(t[0]/2-n[0])*r,l+=(n[1]-t[1]/2)*r,s=-s,[a*o-l*s,l*o+a*s]}const ls=class extends vn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Bi(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&function(e){Ii=!(void 0===e||e)}(),e.center&&(e.center=Xi(e.center,this.projection_)),e.extent&&(e.extent=Ki(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const e in si)delete t[e];this.setProperties(t,!0);const n=function(e){let t,n,r;let i=void 0!==e.minZoom?e.minZoom:0,o=void 0!==e.maxZoom?e.maxZoom:28;const s=void 0!==e.zoomFactor?e.zoomFactor:2,a=void 0!==e.multiWorld&&e.multiWorld,l=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,c=void 0!==e.showFullExtent&&e.showFullExtent,u=Bi(e.projection,"EPSG:3857"),h=u.getExtent();let d=e.constrainOnlyCenter,f=e.extent;if(a||f||!u.isGlobal()||(d=!1,f=h),void 0!==e.resolutions){const s=e.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],t=e.constrainResolution?function(e,t,n,r){return t=void 0===t||t,function(i,o,s,a){if(void 0!==i){const l=e[0],c=e[e.length-1],u=n?ro(l,n,s,r):l;if(a)return t?io(i,u,c):kr(i,c,u);const h=Math.min(u,i),d=Math.floor($t(e,h,o));return e[d]>u&&d<e.length-1?e[d+1]:e[d]}}}(s,l,!d&&f,c):oo(n,r,l,!d&&f,c)}else{const a=(h?Math.max(dr(h),lr(h)):360*ai.degrees/u.getMetersPerUnit())/256/Math.pow(2,0),p=a/Math.pow(2,28);n=e.maxResolution,void 0!==n?i=0:n=a/Math.pow(s,i),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(s,o):a/Math.pow(s,o):p),o=i+Math.floor(Math.log(n/r)/Math.log(s)),r=n/Math.pow(s,o-i),t=e.constrainResolution?function(e,t,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,c){if(void 0!==s){const u=i?ro(t,i,l,o):t;if(c)return r?io(s,u,n):kr(s,n,u);const h=1e-9,d=Math.ceil(Math.log(t/u)/Math.log(e)-h),f=-a*(.5-h)+.5,p=Math.min(u,s),g=Math.floor(Math.log(t/p)/Math.log(e)+f),m=Math.max(d,g);return kr(t/Math.pow(e,m),n,u)}}}(s,n,r,l,!d&&f,c):oo(n,r,l,!d&&f,c)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:s}}(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return to(e.extent,e.constrainOnlyCenter,t)}const t=Bi(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,to(e,!1,!1)}return no}(e),i=n.constraint,o=function(e){if(void 0===e.enableRotation||e.enableRotation){const t=e.constrainRotation;return void 0===t||!0===t?function(e){const t=Tr(5);return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===t?ao:"number"==typeof t?function(e){const t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(t):ao}return so}(e);this.constraints_={center:r,resolution:i,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const i=this.getResolution(),o=i/2*(r[3]-t[3]+t[1]-r[1]),s=i/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-s])}}getUpdatedOptions_(e){const t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let e=0;e<t.length;++e){let n=arguments[e];n.center&&(n=Object.assign({},n),n.center=Xi(n.center,this.getProjection())),n.anchor&&(n=Object.assign({},n),n.anchor=Xi(n.anchor,this.getProjection())),t[e]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const e=arguments[r];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(r===n)return void(t&&os(t,!0));let i=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_;const l=[];for(;r<n;++r){const e=arguments[r],n={start:i,complete:!1,anchor:e.anchor,duration:void 0!==e.duration?e.duration:1e3,easing:e.easing||co,callback:t};if(e.center&&(n.sourceCenter=o,n.targetCenter=e.center.slice(),o=n.targetCenter),void 0!==e.zoom?(n.sourceResolution=s,n.targetResolution=this.getResolutionForZoom(e.zoom),s=n.targetResolution):e.resolution&&(n.sourceResolution=s,n.targetResolution=e.resolution,s=n.targetResolution),void 0!==e.rotation){n.sourceRotation=a;const t=Rr(e.rotation-a+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=a+t,a=n.targetRotation}ss(n)?n.complete=!0:i+=n.duration,l.push(n)}this.animations_.push(l),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let t=0,n=this.animations_.length;t<n;++t){const n=this.animations_[t];if(n[0].callback&&os(n[0].callback,!1),!e)for(let t=0,r=n.length;t<r;++t){const r=n[t];if(!r.complete){e=r.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let i=!0;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o.complete)continue;const s=e-o.start;let a=o.duration>0?s/o.duration:1;a>=1?(o.complete=!0,a=1):i=!1;const l=o.easing(a);if(o.sourceCenter){const e=o.sourceCenter[0],t=o.sourceCenter[1],n=o.targetCenter[0],r=o.targetCenter[1];this.nextCenter_=o.targetCenter;const i=e+l*(n-e),s=t+l*(r-t);this.targetCenter_=[i,s]}if(o.sourceResolution&&o.targetResolution){const e=1===l?o.targetResolution:o.sourceResolution+l*(o.targetResolution-o.sourceResolution);if(o.anchor){const t=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(e,0,t,!0);this.targetCenter_=this.calculateCenterZoom(n,o.anchor)}this.nextResolution_=o.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==o.sourceRotation&&void 0!==o.targetRotation){const e=1===l?Rr(o.targetRotation+Math.PI,2*Math.PI)-Math.PI:o.sourceRotation+l*(o.targetRotation-o.sourceRotation);if(o.anchor){const t=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(t,o.anchor)}this.nextRotation_=o.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),t=!0,!o.complete)break}if(i){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const e=r[0].callback;e&&os(e,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();var i,o;return void 0!==r&&(n=[r[0]-t[0],r[1]-t[1]],Ei(n,e-this.getRotation()),o=t,(i=n)[0]+=+o[0],i[1]+=+o[1]),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[t[0]-e*(t[0]-r[0])/i,t[1]-e*(t[1]-r[1])/i]),n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e?Gi(e,this.getProjection()):e}getCenterInternal(){return this.get(si.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return Yi(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();In(t,"The view center is not defined");const n=this.getResolution();In(void 0!==n,"The view resolution is not defined");const r=this.getRotation();return In(void 0!==r,"The view rotation is not defined"),ar(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(si.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Ki(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=dr(e)/t[0],r=lr(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*r)}}getRotation(){return this.get(si.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/t;return function(e){return Math.log(n/e)/t/i}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const i=this.padding_;if(i){const e=this.getViewportSizeMinusPadding_();r=as(r,this.getViewportSize_(),[e[0]/2+i[3],e[1]/2+i[0]],t,n)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t,n,r=this.minZoom_||0;if(this.resolutions_){const i=$t(this.resolutions_,e,1);r=i,t=this.resolutions_[i],n=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(t/e)/Math.log(n)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=kr(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,kr(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(In(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))In(!pr(e),"Cannot fit empty extent provided as `geometry`"),n=is(Ki(e,this.getProjection()));else if("Circle"===e.getType()){const t=Ki(e.getExtent(),this.getProjection());n=is(t),n.rotate(this.getRotation(),sr(t))}else{const t=qi();n=t?e.clone().transform(t,this.getProjection()):e}this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),i=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let e=0,t=i.length;e<t;e+=o){const t=i[e]*n-i[e+1]*r,o=i[e]*r+i[e+1]*n;s=Math.min(s,t),a=Math.min(a,o),l=Math.max(l,t),c=Math.max(c,o)}return[s,a,l,c]}fitInternal(e,t){let n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());const r=void 0!==t.padding?t.padding:[0,0,0,0],i=void 0!==t.nearest&&t.nearest;let o;o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;const s=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(s,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,i?0:1);const l=this.getRotation(),c=Math.sin(l),u=Math.cos(l),h=sr(s);h[0]+=(r[1]-r[3])/2*a,h[1]+=(r[0]-r[2])/2*a;const d=h[0]*u-h[1]*c,f=h[1]*u+h[0]*c,p=this.getConstrainedCenter([d,f],a),g=t.callback?t.callback:Kt;void 0!==t.duration?this.animateInternal({resolution:a,center:p,duration:t.duration,easing:t.easing},g):(this.targetResolution_=a,this.targetCenter_=p,this.applyTargetState_(!1,!0),os(g,!0))}centerOn(e,t,n){this.centerOnInternal(Xi(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(as(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let i;const o=this.padding_;if(o&&e){const s=this.getViewportSizeMinusPadding_(-n),a=as(e,r,[s[0]/2+o[3],s[1]/2+o[0]],t,n);i=[e[0]-a[0],e[1]-a[1]]}return i}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const t=Gi(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Xi(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Xi(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e?Xi(e,this.getProjection()):e)}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),s=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(si.ROTATION)!==r&&this.set(si.ROTATION,r),this.get(si.RESOLUTION)!==o&&(this.set(si.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),s&&this.get(si.CENTER)&&Si(this.get(si.CENTER),s)||this.set(si.CENTER,s),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200;const r=t||0,i=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,o),a=this.constraints_.center(this.targetCenter_,s,o,!1,this.calculateCenterShift(this.targetCenter_,s,i,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&Si(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:a,resolution:s,duration:e,easing:lo,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,t,n){n=n&&Xi(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}};function cs(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const us=class extends ti{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ei,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(ei)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(hn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=cn(e,tn,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t;const n=this.getMapInternal();let r;!e&&n&&(e=n.getView()),t=e instanceof ls?{viewState:e.getState(),extent:e.calculateExtent()}:e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),r=t.layerStatesArray?t.layerStatesArray.find((e=>e.layer===this)):this.getLayerState();const i=this.getExtent();return cs(r,t.viewState)&&(!i||fr(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const n=this.getSource();if(n&&(t=n.getAttributions()),!t)return[];let r=t(e instanceof ls?e.getViewStateAndExtent():e);return Array.isArray(r)||(r=[r]),r}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(hn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(hn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=cn(e,ii,(function(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);In(!t.some((function(e){return e.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}),this),this.mapRenderKey_=cn(this,tn,e.render,e),this.changed())}setSource(e){this.set(ei,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function hs(e,t){Hr.expire()}const ds=class extends Vt{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){pn()}calculateMatrices2D(e){const t=e.viewState,n=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Fn(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Ln(r,n)}forEachFeatureAtCoordinate(e,t,n,r,i,o,s,a){let l;const c=t.viewState;function u(e,t,n,r){return i.call(o,t,e?n:null,r)}const h=c.projection,d=Pi(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){const e=dr(h.getExtent());f.push([-e,0],[e,0])}const p=t.layerStatesArray,g=p.length,m=[],y=[];for(let r=0;r<f.length;r++)for(let i=g-1;i>=0;--i){const o=p[i],h=o.layer;if(h.hasRenderer()&&cs(o,c)&&s.call(a,h)){const i=h.getRenderer(),s=h.getSource();if(i&&s){const a=s.getWrapX()?d:e,c=u.bind(null,o.managed);y[0]=a[0]+f[r][0],y[1]=a[1]+f[r][1],l=i.forEachFeatureAtCoordinate(y,t,n,c,m)}if(l)return l}}if(0===m.length)return;const v=1/m.length;return m.forEach(((e,t)=>e.distanceSq+=t*v)),m.sort(((e,t)=>e.distanceSq-t.distanceSq)),m.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}hasFeatureAtCoordinate(e,t,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,r,Xt,this,i,o)}getMap(){return this.map_}renderFrame(e){pn()}flushDeclutterItems(e){}scheduleExpireIconCache(e){Hr.canExpireCache()&&e.postRenderFunctions.push(hs)}},fs=class extends Bt{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}},ps="ol-hidden",gs="ol-unselectable",ms="ol-control",ys="ol-collapsed",vs=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),bs=["style","variant","weight","size","lineHeight","family"],_s=function(e){const t=e.match(vs);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,r=bs.length;e<r;++e){const r=t[e+1];void 0!==r&&(n[bs[e]]=r)}return n.families=n.family.split(/,\s?/),n};function ws(e,t,n,r){let i;return i=n&&n.length?n.shift():Tn?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function xs(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Ss(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function Es(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}const Cs="10px sans-serif",ks="#000",Ps="round",As=[],Ts="round",Rs="#000",Os="center",Ms="middle",Is=[0,0,0,0],Ds=new vn;let Fs,Ls=null;const Ns={},js=function(){const e="32px ",t=["monospace","serif"],n=t.length,r="wmytzilWMYTZIL@#/&?$%10";let i,o;function s(i,s,a){let l=!0;for(let c=0;c<n;++c){const n=t[c];if(o=Us(i+" "+s+" "+e+n,r),a!=n){const t=Us(i+" "+s+" "+e+a+","+n,r);l=l&&t!=o}}return!!l}function a(){let e=!0;const t=Ds.getKeys();for(let n=0,r=t.length;n<r;++n){const r=t[n];Ds.get(r)<100&&(s.apply(this,r.split("\n"))?(Qt(Ns),Ls=null,Fs=void 0,Ds.set(r,100)):(Ds.set(r,Ds.get(r)+1,!0),e=!1))}e&&(clearInterval(i),i=void 0)}return function(e){const t=_s(e);if(!t)return;const n=t.families;for(let e=0,r=n.length;e<r;++e){const r=n[e],o=t.style+"\n"+t.weight+"\n"+r;void 0===Ds.get(o)&&(Ds.set(o,100,!0),s(t.style,t.weight,r)||(Ds.set(o,0,!0),void 0===i&&(i=setInterval(a,32))))}}}(),zs=function(){let e;return function(t){let n=Ns[t];if(null==n){if(Tn){const e=_s(t),r=Bs(t,"Žg");n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);Ns[t]=n}return n}}();function Bs(e,t){return Ls||(Ls=ws(1,1)),e!=Fs&&(Ls.font=e,Fs=Ls.font),Ls.measureText(t)}function Us(e,t){return Bs(e,t).width}function Vs(e,t,n){if(t in n)return n[t];const r=t.split("\n").reduce(((t,n)=>Math.max(t,Us(e,n))),0);return n[t]=r,r}const Ws=class extends ds{constructor(e){super(e),this.fontChangeListenerKey_=cn(Ds,Ut,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=gs+" ol-layers";const n=e.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,t){const n=this.getMap();if(n.hasListener(e)){const r=new fs(e,void 0,t);n.dispatchEvent(r)}}disposeInternal(){hn(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent(ii,e);const t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=e.viewState;this.children_.length=0;const r=this.declutterLayers_;r.length=0;let i=null;for(let o=0,s=t.length;o<s;++o){const s=t[o];e.layerIndex=o;const a=s.layer,l=a.getSourceState();if(!cs(s,n)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const c=a.render(e,i);c&&(c!==i&&(this.children_.push(c),i=c),"getDeclutter"in a&&r.push(a))}this.flushDeclutterItems(e),function(e,t){const n=e.childNodes;for(let r=0;;++r){const i=n[r],o=t[r];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--r):e.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const t=this.declutterLayers_;for(let n=t.length-1;n>=0;--n)t[n].renderDeclutter(e);t.length=0}};class $s extends Bt{constructor(e,t){super(e),this.layer=t}}const Hs="layers";class qs extends ti{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Hs,this.handleLayersChanged_),n?Array.isArray(n)?n=new Sn(n.slice(),{unique:!0}):In("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new Sn(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(hn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(cn(e,bn,this.handleLayersAdd_,this),cn(e,_n,this.handleLayersRemove_,this));for(const e in this.listenerKeys_)this.listenerKeys_[e].forEach(hn);Qt(this.listenerKeys_);const t=e.getArray();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.registerLayerListeners_(n),this.dispatchEvent(new $s("addlayer",n))}this.changed()}registerLayerListeners_(e){const t=[cn(e,Ut,this.handleLayerChange_,this),cn(e,tn,this.handleLayerChange_,this)];e instanceof qs&&t.push(cn(e,"addlayer",this.handleLayerGroupAdd_,this),cn(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[mn(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new $s("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new $s("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new $s("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,n=mn(t);this.listenerKeys_[n].forEach(hn),delete this.listenerKeys_[n],this.dispatchEvent(new $s("removelayer",t)),this.changed()}getLayers(){return this.get(Hs)}setLayers(e){const t=this.getLayers();if(t){const e=t.getArray();for(let t=0,n=e.length;t<n;++t)this.dispatchEvent(new $s("removelayer",e[t]))}this.set(Hs,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));const r=this.getLayerState();let i=r.zIndex;e||void 0!==r.zIndex||(i=0);for(let e=n,o=t.length;e<o;e++){const n=t[e];n.opacity*=r.opacity,n.visible=n.visible&&r.visible,n.maxResolution=Math.min(n.maxResolution,r.maxResolution),n.minResolution=Math.max(n.minResolution,r.minResolution),n.minZoom=Math.max(n.minZoom,r.minZoom),n.maxZoom=Math.min(n.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==n.extent?n.extent=cr(n.extent,r.extent):n.extent=r.extent),void 0===n.zIndex&&(n.zIndex=i)}return t}getSourceState(){return"ready"}}const Gs=qs,Xs=class extends Bt{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}},Ys=class extends Xs{constructor(e,t,n,r,i,o){super(e,t,i),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Ks={SINGLECLICK:"singleclick",CLICK:rn,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Zs="pointerdown",Qs=class extends en{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=cn(n,Zs,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=cn(n,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(an,this.boundHandleTouchMove_,!!Mn&&{passive:!1})}emulateClick_(e){let t=new Ys(Ks.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Ys(Ks.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const t=new Ys(Ks.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){const t=e,n=t.pointerId;if(t.type==Ks.POINTERUP||t.type==Ks.POINTERCANCEL){delete this.trackedTouches_[n];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=Ks.POINTERDOWN&&t.type!=Ks.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Ys(Ks.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(hn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const t=new Ys(Ks.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(cn(e,Ks.POINTERMOVE,this.handlePointerMove_,this),cn(e,Ks.POINTERUP,this.handlePointerUp_,this),cn(this.element_,Ks.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(cn(this.element_.getRootNode(),Ks.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Ys(Ks.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Ys(Ks.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(hn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(an,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(hn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(hn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Js="postrender",ea="loadstart",ta="loadend",na="layergroup",ra="size",ia="target",oa="view",sa=1/0,aa=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Qt(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(n);return delete this.queuedElements_[r],n}enqueue(e){In(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=sa&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,r=t.length,i=t[e],o=n[e],s=e;for(;e<r>>1;){const i=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<r&&n[o]<n[i]?o:i;t[e]=t[s],n[e]=n[s],e=s}t[e]=i,n[e]=o,this.siftDown_(s,e)}siftDown_(e,t){const n=this.elements_,r=this.priorities_,i=n[t],o=r[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(r[e]>o))break;n[t]=n[e],r[t]=r[e],t=e}n[t]=i,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let r=0;const i=t.length;let o,s,a;for(s=0;s<i;++s)o=t[s],a=e(o),a==sa?delete this.queuedElements_[this.keyFunction_(o)]:(n[r]=a,t[r++]=o);t.length=r,n.length=r,this.heapify_()}},la=class extends aa{constructor(e,t){super((function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(tn,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,n=t.getState();if(2===n||3===n||4===n){3!==n&&t.removeEventListener(tn,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n,r,i,o=0;for(;this.tilesLoading_<e&&o<t&&this.getCount()>0;)r=this.dequeue()[0],i=r.getKey(),n=r.getState(),0!==n||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load())}},ca=class extends vn{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Es(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Es(this.element);for(let e=0,t=this.listenerKeys.length;e<t;++e)hn(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Kt&&this.listenerKeys.push(cn(e,Js,this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},ua=class extends ca{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:t+"-expand",i=void 0!==e.collapseLabel?e.collapseLabel:"›",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i,this.collapseLabel_.className=o):this.collapseLabel_=i;const s=void 0!==e.label?e.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s,this.label_.className=r):this.label_=s;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(rn,this.handleClick_.bind(this),!1);const l=t+" "+gs+" "+ms+(this.collapsed_&&this.collapsible_?" "+ys:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap((t=>t.getAttributions(e))))),n=!this.getMap().getAllLayers().some((e=>e.getSource()&&!1===e.getSource().getAttributionsCollapsible()));return this.overrideCollapsible_||this.setCollapsible(n),t}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const t=this.collectSourceAttributions_(e),n=t.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Gt(t,this.renderedAttributions_)){!function(e){for(;e.lastChild;)e.removeChild(e.lastChild)}(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(ys),this.collapsed_?Ss(this.collapseLabel_,this.label_):Ss(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},ha=class extends ca{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"⇧",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(r));const i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),o.addEventListener(rn,this.handleClick_.bind(this),!1);const s=t+" "+gs+" "+ms,a=this.element;a.className=s,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ps)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:lo}):e.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const n=t.viewState.rotation;if(n!=this.rotation_){const e="rotate("+n+"rad)";if(this.autoHide_){const e=this.element.classList.contains(ps);e||0!==n?e&&0!==n&&this.element.classList.remove(ps):this.element.classList.add(ps)}this.label_.style.transform=e}this.rotation_=n}},da=class extends ca{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",i=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"–",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener(rn,this.handleClick_.bind(this,n),!1);const u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof s?document.createTextNode(s):s),u.addEventListener(rn,this.handleClick_.bind(this,-n),!1);const h=t+" "+gs+" "+ms,d=this.element;d.className=h,d.appendChild(c),d.appendChild(u),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const t=this.getMap().getView();if(!t)return;const n=t.getZoom();if(void 0!==n){const r=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:r,duration:this.duration_,easing:lo})):t.setZoom(r)}}},fa="active";function pa(e,t,n,r){const i=e.getZoom();if(void 0===i)return;const o=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:lo})}const ga=class extends vn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(fa)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(fa,e)}setMap(e){this.map_=e}},ma=class extends ga{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ks.DBLCLICK){const n=e.originalEvent,r=e.map,i=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;pa(r.getView(),o,i,this.duration_),n.preventDefault(),t=!0}return!t}};function ya(e){const t=e.length;let n=0,r=0;for(let i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}const va=class extends ga{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ks.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ks.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if(e.type==Ks.POINTERDOWN){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==Ks.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function ba(e){const t=arguments;return function(e){let n=!0;for(let r=0,i=t.length;r<i&&(n=n&&t[r](e),n);++r);return n}}const _a=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},wa=function(e){return!e.map.getTargetElement().hasAttribute("tabindex")||function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)}(e)},xa=Xt,Sa=function(e){const t=e.originalEvent;return 0==t.button&&!(kn&&Pn&&t.ctrlKey)},Ea=Yt,Ca=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},ka=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Pa=function(e){const t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},Aa=function(e){const t=e.originalEvent;return In(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},Ta=function(e){const t=e.originalEvent;return In(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},Ra=class extends va{constructor(e){super({stopDown:Yt}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:ba(Ca,Ta);this.condition_=e.onFocusOnly?ba(wa,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const n=this.targetPointers,r=t.getEventPixel(ya(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const t=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],n=e.map.getView();i=t,o=n.getResolution(),i[0]*=o,i[1]*=o,Ei(t,n.getRotation()),n.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();var i,o;this.lastCentroid=r,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(i),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(r),o[1]-e*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:lo})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},Oa=class extends va{constructor(e){e=e||{},super({stopDown:Yt}),this.condition_=e.condition?e.condition:_a,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!Aa(e))return;const t=e.map,n=t.getView();if(n.getConstraints().rotation===so)return;const r=t.getSize(),i=e.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){const e=o-this.lastAngle_;n.adjustRotationInternal(-e)}this.lastAngle_=o}handleUpEvent(e){return!Aa(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!Aa(e)&&(!(!Sa(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}},Ma=class extends Vt{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+n,r.top=Math.min(e[1],t[1])+n,r.width=Math.abs(t[0]-e[0])+n,r.height=Math.abs(t[1]-e[1])+n}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new rs([n])}getGeometry(){return this.geometry_}};class Ia extends Bt{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}const Da=class extends va{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new Ma(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Sa,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){const r=n[0]-t[0],i=n[1]-t[1];return r*r+i*i>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ia("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Ia(t?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ia("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},Fa=class extends Da{constructor(e){super({condition:(e=e||{}).condition?e.condition:ka,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(e),i=t.getResolution()/r;n=n.clone(),n.scale(i*i)}t.fitInternal(n,{duration:this.duration_,easing:lo})}},La="ArrowLeft",Na="ArrowRight",ja="ArrowDown",za=class extends ga{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return Ca(e)&&Pa(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==on){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&(r==ja||r==La||r==Na||"ArrowUp"==r)){const i=e.map.getView(),o=i.getResolution()*this.pixelDelta_;let s=0,a=0;r==ja?a=-o:r==La?s=-o:r==Na?s=o:a=o;const l=[s,a];Ei(l,i.getRotation()),function(e,t,n){const r=e.getCenterInternal();if(r){const i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:uo,center:e.getConstrainedCenter(i)})}}(i,l,this.duration_),n.preventDefault(),t=!0}}return!t}},Ba=class extends ga{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(e){return!function(e){const t=e.originalEvent;return Pn?t.metaKey:t.ctrlKey}(e)&&Pa(e)},this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;if(e.type==on||e.type==sn){const n=e.originalEvent,r=n.key;if(this.condition_(e)&&("+"===r||"-"===r)){const i=e.map,o="+"===r?this.delta_:-this.delta_;pa(i.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}},Ua=class{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let n=t-3;for(;n>0&&this.points_[n+2]>e;)n-=3;const r=this.points_[t+2]-this.points_[n+2];if(r<1e3/60)return!1;const i=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},Va=class extends ga{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const t=e.condition?e.condition:xa;this.condition_=e.onFocusOnly?ba(wa,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==ln)return!0;const t=e.map,n=e.originalEvent;let r;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==ln&&(r=n.deltaY,Cn&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=An),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;const i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=t.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=r;const s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,t),s),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-kr(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),pa(t,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},Wa=class extends va{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Yt),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;const n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const e=i-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=i;const o=e.map,s=o.getView();s.getConstraints().rotation!==so&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(ya(this.targetPointers))),this.rotating_&&(o.render(),s.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},$a=class extends va{constructor(e){const t=e=e||{};t.stopDown||(t.stopDown=Yt),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,s=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;const a=e.map,l=a.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(ya(this.targetPointers))),a.render(),l.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}};function Ha(e){e=e||{};const t=new Sn,n=new Ua(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new Oa),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new ma({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new Ra({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new Wa),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new $a({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new za),t.push(new Ba({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new Va({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new Fa({duration:e.zoomDuration})),t}function qa(e){return e[0]>0&&e[1]>0}function Ga(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}function Xa(e){e instanceof us?e.setMapInternal(null):e instanceof Gs&&e.getLayers().forEach(Xa)}function Ya(e,t){if(e instanceof us)e.setMapInternal(t);else if(e instanceof Gs){const n=e.getLayers().getArray();for(let e=0,r=n.length;e<r;++e)Ya(n[e],t)}}const Ka=class extends vn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},r=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new Gs({layers:e.layers});let i,o,s;return n[na]=r,n[ia]=e.target,n[oa]=e.view instanceof ls?e.view:new ls,void 0!==e.controls&&(Array.isArray(e.controls)?i=new Sn(e.controls.slice()):(In("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),i=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?o=new Sn(e.interactions.slice()):(In("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new Sn(e.overlays.slice()):(In("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new Sn,{controls:i,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:An,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=t.controls||function(e){e=e||{};const t=new Sn;return(void 0===e.zoom||e.zoom)&&t.push(new da(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new ha(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new ua(e.attributionOptions)),t}(),this.interactions=t.interactions||Ha({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new la(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(na,this.handleLayerGroupChanged_),this.addChangeListener(oa,this.handleViewChanged_),this.addChangeListener(ra,this.handleSizeChanged_),this.addChangeListener(ia,this.handleTargetChanged_),this.setProperties(t.values);const n=this;!e.view||e.view instanceof ls||e.view.then((function(e){n.setView(new ls(e))})),this.controls.addEventListener(bn,(e=>{e.element.setMap(this)})),this.controls.addEventListener(_n,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(bn,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(_n,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(bn,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(_n,(e=>{const t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Ya(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:Xt,s=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,s,t,null,o,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}getAllLayers(){const e=[];return function t(n){n.forEach((function(n){n instanceof Gs?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:Xt,i=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const t=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=t.width/n[0],i=t.height/n[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/r,(o.clientY-t.top)/i]}getTarget(){return this.get(ia)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Gi(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Dn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(na)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Sn)return void t.setLayers(e);const n=t.getLayers();n.clear(),n.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t];if(!n.visible)continue;const r=n.layer.getRenderer();if(r&&!r.ready)return!0;const i=n.layer.getSource();if(i&&i.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Xi(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Dn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ra)}getView(){return this.get(oa)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,r){return function(e,t,n,r,i){if(!e||!(n in e.wantedTiles))return sa;if(!e.wantedTiles[n][t.getKey()])return sa;const o=e.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,e,t,n,r)}handleBrowserEvent(e,t){t=t||e.type;const n=new Ys(t,this,e);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,n=t.type;if(n===Zs||n===ln||n===on){const e=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():e,r=t.target;if(this.overlayContainerStopEvent_.contains(r)||!(n===e?e.documentElement:n).contains(r))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const t=this.getInteractions().getArray().slice();for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.getMap()===this&&r.getActive()&&this.getTargetElement()&&(!r.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,r=n;if(e){const t=e.viewHints;if(t[0]||t[1]){const t=Date.now()-e.time>8;n=t?0:8,r=t?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,r))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener(oi)&&this.renderer_.dispatchRenderEvent(oi,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Xs(ta,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Xs(ea,this,e))));const n=this.postRenderFunctions_;for(let t=0,r=n.length;t<r;++t)n[t](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)hn(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(nn,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ln,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Es(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t,t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Ws(this)),this.mapBrowserEventHandler_=new Qs(this,this.moveTolerance_);for(const e in Ks)this.mapBrowserEventHandler_.addEventListener(Ks[e],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(nn,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ln,this.boundHandleBrowserEvent_,!!Mn&&{passive:!1});const e=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[cn(e,on,this.handleBrowserEvent,this),cn(e,sn,this.handleBrowserEvent,this)];const n=t.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(hn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(hn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=cn(e,Ut,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=cn(e,tn,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(hn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new $s("addlayer",e)),this.layerGroupPropertyListenerKeys_=[cn(e,Ut,this.render,this),cn(e,tn,this.render,this),cn(e,"addlayer",this.handleLayerAdd_,this),cn(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,n=e.length;t<n;++t){const n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Xa(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),r=this.frameState_;let i=null;if(void 0!==t&&qa(t)&&n&&n.isDef()){const r=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ar(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:r,wantedTiles:{},mapId:mn(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;i.nextExtent=ar(o.nextCenter,o.nextResolution,e,t)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!pr(this.previousExtent_)&&!Qn(i.extent,this.previousExtent_))&&(this.dispatchEvent(new Xs("movestart",this,r)),this.previousExtent_=Yn(this.previousExtent_)),this.previousExtent_&&!i.viewHints[0]&&!i.viewHints[1]&&!Qn(i.extent,this.previousExtent_)&&(this.dispatchEvent(new Xs("moveend",this,i)),Vn(i.extent,this.previousExtent_))),this.dispatchEvent(new Xs(Js,this,i)),this.renderComplete_=this.hasListener(ea)||this.hasListener(ta)||this.hasListener(oi)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new $s("removelayer",t)),this.set(na,e)}setSize(e){this.set(ra,e)}setTarget(e){this.set(ia,e)}setView(e){if(!e||e instanceof ls)return void this.set(oa,e);this.set(oa,new ls);const t=this;e.then((function(e){t.setView(new ls(e))}))}updateSize(){const e=this.getTargetElement();let t;if(e){const n=getComputedStyle(e),r=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||(t=[r,i],!qa(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Mi("No map visible because the map container's width or height are 0."))}const n=this.getSize();!t||n&&Gt(t,n)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}},Za=class extends us{constructor(e){super(e=e||{})}},Qa=class extends fn{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return pn()}getData(e){return null}prepareFrame(e){return pn()}renderFrame(e,t){return pn()}loadedTileCallback(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n}createLoadedTileFinder(e,t,n){return(r,i)=>{const o=this.loadedTileCallback.bind(this,n,r);return e.forEachLoadedTile(t,r,i,o)}}forEachFeatureAtCoordinate(e,t,n,r,i){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;2!==t.getState()&&3!==t.getState()||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return 2!=t&&3!=t&&e.addEventListener(tn,this.boundHandleImageChange_),0==t&&(e.load(),t=e.getState()),2==t}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},Ja=[];let el=null;const tl=class extends Qa{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,n){let r;el||(el=ws(1,1,void 0,{willReadFrequently:!0})),el.clearRect(0,0,1,1);try{el.drawImage(e,t,n,1,1,0,0,1,1),r=el.getImageData(0,0,1,1).data}catch(e){return el=null,null}return r}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let i,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&Gt(Ur(e.style.backgroundColor),Ur(n)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(o=t.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){i=document.createElement("div"),i.className=r;let e=i.style;e.position="absolute",e.width="100%",e.height="100%",o=ws();const t=o.canvas;i.appendChild(t),e=t.style,e.position="absolute",e.left="0",e.transformOrigin="top left",this.container=i,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=ur(n),i=hr(n),o=or(n),s=ir(n);Dn(t.coordinateToPixelTransform,r),Dn(t.coordinateToPixelTransform,i),Dn(t.coordinateToPixelTransform,o),Dn(t.coordinateToPixelTransform,s);const a=this.inversePixelTransform;Dn(a,r),Dn(a,i),Dn(a,o),Dn(a,s),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const i=new fs(e,this.inversePixelTransform,n,t);r.dispatchEvent(i)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(ni,e,t)}postRender(e,t){this.dispatchRenderEvent_(ri,e,t)}getRenderTransform(e,t,n,r,i,o,s){const a=i/2,l=o/2,c=r/t,u=-c,h=-e[0]+s,d=-e[1];return Fn(this.tempTransform,a,l,c,u,-n,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}},nl=class extends tl{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,i=r.resolution,o=this.getLayer().getSource(),s=e.viewHints;let a=e.extent;if(void 0!==t.extent&&(a=cr(a,Ki(t.extent,r.projection))),!s[0]&&!s[1]&&!pr(a))if(o){const e=r.projection,t=o.getImage(a,i,n,e);t&&(this.loadImage(t)?this.image_=t:4===t.getState()&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=Dn(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!$n(i,r))return null;const o=this.image_.getExtent(),s=this.image_.getImage(),a=dr(o),l=Math.floor(s.width*((r[0]-o[0])/a));if(l<0||l>=s.width)return null;const c=lr(o),u=Math.floor(s.height*((o[3]-r[1])/c));return u<0||u>=s.height?null:this.getImageData(s,l,u)}renderFrame(e,t){const n=this.image_,r=n.getExtent(),i=n.getResolution(),[o,s]=Array.isArray(i)?i:[i,i],a=n.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,u=e.viewState,h=u.center,d=u.resolution,f=c*o/(d*a),p=c*s/(d*a),g=e.extent,m=u.resolution,y=u.rotation,v=Math.round(dr(g)/m*c),b=Math.round(lr(g)/m*c);Fn(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,y,-v/2,-b/2),Ln(this.inversePixelTransform,this.pixelTransform);const _=jn(this.pixelTransform);this.useContainer(t,_,this.getBackground(e));const w=this.context,x=w.canvas;x.width!=v||x.height!=b?(x.width=v,x.height=b):this.containerReused||w.clearRect(0,0,v,b);let S=!1,E=!0;if(l.extent){const t=Ki(l.extent,u.projection);E=fr(t,e.extent),S=E&&!Hn(t,e.extent),S&&this.clipUnrotated(w,e,t)}const C=n.getImage(),k=Fn(this.tempTransform,v/2,b/2,f,p,0,a*(r[0]-h[0])/o,a*(h[1]-r[3])/s);this.renderedResolution=s*c/a;const P=C.width*k[0],A=C.height*k[3];if(this.getLayer().getSource().getInterpolate()||(w.imageSmoothingEnabled=!1),this.preRender(w,e),E&&P>=.5&&A>=.5){const e=k[4],t=k[5],n=l.opacity;let r;1!==n&&(r=w.globalAlpha,w.globalAlpha=n),w.drawImage(C,0,0,+C.width,+C.height,e,t,P,A),1!==n&&(w.globalAlpha=r)}return this.postRender(w,e),S&&w.restore(),w.imageSmoothingEnabled=!0,_!==x.style.transform&&(x.style.transform=_),this.container}},rl=class extends Za{constructor(e){super(e)}createRenderer(){return new nl(this)}getData(e){return super.getData(e)}};function il(e,t){return t&&(e.src=t),e.src&&Rn?new Promise(((t,n)=>e.decode().then((()=>t(e))).catch((r=>e.complete&&e.width?t(e):n(r))))):function(e,t){return new Promise(((t,n)=>{function r(){o(),t(e)}function i(){o(),n(new Error("Image load error"))}function o(){e.removeEventListener("load",r),e.removeEventListener("error",i)}e.addEventListener("load",r),e.addEventListener("error",i)}))}(e)}function ol(e,t){return t&&(e.src=t),e.src&&Rn&&On?e.decode().then((()=>createImageBitmap(e))).catch((t=>{if(e.complete&&e.width)return e;throw t})):il(e)}const sl=class extends en{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state="function"==typeof r?0:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(tn)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(0==this.state&&this.loader){this.state=1,this.changed();const t=this.getResolution(),n=Array.isArray(t)?t[0]:t;(e=()=>this.loader(this.getExtent(),n,this.getPixelRatio()),function(){let t;try{t=e()}catch(e){return Promise.reject(e)}return t instanceof Promise?t:Promise.resolve(t)}()).then((e=>{"image"in e&&(this.image_=e.image),"extent"in e&&(this.extent=e.extent),"resolution"in e&&(this.resolution=e.resolution),"pixelRatio"in e&&(this.pixelRatio_=e.pixelRatio),(e instanceof HTMLImageElement||e instanceof ImageBitmap||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)&&(this.image_=e),this.state=2})).catch((e=>{this.state=3,console.error(e)})).finally((()=>this.changed()))}var e}setImage(e){this.image_=e}setResolution(e){this.resolution=e}},al=class{constructor(e,t,n,r,i,o){this.sourceProj_=e,this.targetProj_=t;let s={};const a=Wi(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){const t=e[0]+"/"+e[1];return s[t]||(s[t]=a(e)),s[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&dr(r)>=dr(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?dr(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?dr(this.targetProj_.getExtent()):null;const l=ur(n),c=hr(n),u=or(n),h=ir(n),d=this.transformInv_(l),f=this.transformInv_(c),p=this.transformInv_(u),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(Math.log2(function(e){let t=0;return pr(e)||(t=dr(e)*lr(e)),t}(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,u,h,d,f,p,g,m),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach((function(t,n,r){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){const n=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];n[0][0]-e>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-e>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-e>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(t.source=n)}}))}s={}}addTriangle_(e,t,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[e,t,n]})}addQuad_(e,t,n,r,i,o,s,a,l){const c=Bn([i,o,s,a]),u=this.sourceWorldWidth_?dr(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1;let f=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=dr(Bn([e,t,n,r]))/this.targetWorldWidth_>.25||f),!d&&this.sourceProj_.isGlobal()&&u&&(f=u>.25||f)),!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!fr(c,this.maxSourceExtent_))return;let p=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(l>0)f=!0;else if(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){const t=[(e[0]+n[0])/2,(e[1]+n[1])/2],r=this.transformInv_(t);let o;o=d?(Rr(i[0],h)+Rr(s[0],h))/2-Rr(r[0],h):(i[0]+s[0])/2-r[0];const a=(i[1]+s[1])/2-r[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const c=[(t[0]+n[0])/2,(t[1]+n[1])/2],u=this.transformInv_(c),h=[(r[0]+e[0])/2,(r[1]+e[1])/2],d=this.transformInv_(h);this.addQuad_(e,t,c,h,i,o,u,d,l-1),this.addQuad_(h,c,n,r,d,u,s,a,l-1)}else{const c=[(e[0]+t[0])/2,(e[1]+t[1])/2],u=this.transformInv_(c),h=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=this.transformInv_(h);this.addQuad_(e,c,h,r,i,u,d,a,l-1),this.addQuad_(c,t,n,h,u,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(e,n,r,i,s,a),14&p||this.addTriangle_(e,n,t,i,s,o),p&&(13&p||this.addTriangle_(t,r,e,o,a,i),7&p||this.addTriangle_(t,r,n,o,a,s))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,n,r){const i=t.source;er(e,i[0]),er(e,i[1]),er(e,i[2])})),e}getTriangles(){return this.triangles_}};let ll;const cl=[];function ul(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function hl(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function dl(e){return Array.isArray(e)?Math.min(...e):e}const fl=class extends sl{constructor(e,t,n,r,i,o,s){let a=e.getExtent();a&&e.canWrapX()&&(a=a.slice(),a[0]=-1/0,a[2]=1/0);let l=t.getExtent();l&&t.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?cr(n,l):n,u=function(e,t,n,r){const i=$i(n,t,e);let o=ji(t,r,n);const s=t.getMetersPerUnit();void 0!==s&&(o*=s);const a=e.getMetersPerUnit();void 0!==a&&(o/=a);const l=e.getExtent();if(!l||$n(l,i)){const t=ji(e,o,i)/o;isFinite(t)&&t>0&&(o/=t)}return o}(e,t,sr(c),r),h=new al(e,t,c,a,.5*u,r),d=h.calculateSourceExtent(),f=pr(d)?null:o(d,u,i),p=f?0:4,g=f?f.getPixelRatio():1;super(n,r,g,p),this.targetProj_=t,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=f,this.sourcePixelRatio_=g,this.interpolate_=s,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){1==this.state&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(2==e){const e=dr(this.targetExtent_)/this.targetResolution_,t=lr(this.targetExtent_)/this.targetResolution_;this.canvas_=function(e,t,n,r,i,o,s,a,l,c,u,h,d){const f=ws(Math.round(n*e),Math.round(n*t),cl);if(h||(f.imageSmoothingEnabled=!1),0===l.length)return f.canvas;function p(e){return Math.round(e*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];let m;if(l.forEach((function(e,t,n){Jn(g,e.extent)})),!d||1!==l.length||0!==c){const e=dr(g),t=lr(g);m=ws(Math.round(n*e/r),Math.round(n*t/r),cl),h||(m.imageSmoothingEnabled=!1);const i=n/r;l.forEach((function(e,t,n){const r=e.extent[0]-g[0],o=-(e.extent[3]-g[3]),s=dr(e.extent),a=lr(e.extent);e.image.width>0&&e.image.height>0&&m.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,r*i,o*i,s*i,a*i)}))}const y=ur(s);return a.getTriangles().forEach((function(e,t,i){const s=e.source,a=e.target;let c=s[0][0],u=s[0][1],d=s[1][0],v=s[1][1],b=s[2][0],_=s[2][1];const w=p((a[0][0]-y[0])/o),x=p(-(a[0][1]-y[1])/o),S=p((a[1][0]-y[0])/o),E=p(-(a[1][1]-y[1])/o),C=p((a[2][0]-y[0])/o),k=p(-(a[2][1]-y[1])/o),P=c,A=u;c=0,u=0,d-=P,v-=A,b-=P,_-=A;const T=function(e){const t=e.length;for(let n=0;n<t;n++){let r=n,i=Math.abs(e[n][n]);for(let o=n+1;o<t;o++){const t=Math.abs(e[o][n]);t>i&&(i=t,r=o)}if(0===i)return null;const o=e[r];e[r]=e[n],e[n]=o;for(let r=n+1;r<t;r++){const i=-e[r][n]/e[n][n];for(let o=n;o<t+1;o++)n==o?e[r][o]=0:e[r][o]+=i*e[n][o]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=e[r][t]/e[r][r];for(let i=r-1;i>=0;i--)e[i][t]-=e[i][r]*n[r]}return n}([[d,v,0,0,S-w],[b,_,0,0,C-w],[0,0,d,v,E-x],[0,0,b,_,k-x]]);if(!T)return;if(f.save(),f.beginPath(),function(){if(void 0===ll){const e=ws(6,6,cl);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",ul(e,4,5,4,0),ul(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;ll=hl(t,0)||hl(t,4)||hl(t,8),xs(e),cl.push(e.canvas)}return ll}()||!h){f.moveTo(S,E);const e=4,t=w-S,n=x-E;for(let r=0;r<e;r++)f.lineTo(S+p((r+1)*t/e),E+p(r*n/(e-1))),r!=e-1&&f.lineTo(S+p((r+1)*t/e),E+p((r+1)*n/(e-1)));f.lineTo(C,k)}else f.moveTo(S,E),f.lineTo(w,x),f.lineTo(C,k);let R;if(f.clip(),f.transform(T[0],T[2],T[1],T[3],w,x),f.translate(g[0]-P,g[3]-A),m)R=m.canvas,f.scale(r/n,-r/n);else{const e=l[0],t=e.extent;R=e.image,f.scale(dr(t)/R.width,-lr(t)/R.height)}f.drawImage(R,0,0),f.restore()})),m&&(xs(m),cl.push(m.canvas)),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach((function(e,t,n){const r=e.target,i=(r[0][0]-y[0])/o,s=-(r[0][1]-y[1])/o,a=(r[1][0]-y[0])/o,l=-(r[1][1]-y[1])/o,c=(r[2][0]-y[0])/o,u=-(r[2][1]-y[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(i,s),f.lineTo(c,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}(e,t,this.sourcePixelRatio_,dl(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(0==this.state){this.state=1,this.changed();const e=this.sourceImage_.getState();2==e||3==e?this.reproject_():(this.sourceListenerKey_=cn(this.sourceImage_,tn,(function(e){const t=this.sourceImage_.getState();2!=t&&3!=t||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){hn(this.sourceListenerKey_),this.sourceListenerKey_=null}};function pl(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}const gl=class extends vn{constructor(e){super(),this.projection=Ni(e.projection),this.attributions_=pl(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise((function(e,n){t.viewResolver=e,t.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=pl(e),this.changed()}setState(e){this.state_=e,this.changed()}};class ml extends Bt{constructor(e,t){super(e),this.image=t}}function yl(e,t){e.getImage().src=t}const vl=class extends gl{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();return t&&(e=t[$t(t,e,0)]),e}getImage(e,t,n,r){const i=this.getProjection();if(!i||!r||Ui(i,r))return i&&(r=i),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ui(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Qn(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new fl(i,r,e,t,n,((e,t,n)=>this.getImageInternal(e,t,n,i)),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const i=function(e,t,n,r){const i=t/n,o=sr(e),s=Ir(dr(e)/i,4),a=Ir(lr(e)/i,4);return ar(o,i,0,[s+2*Ir(0*s/2,4),a+2*Ir(0*a/2,4)])}(e,t,n),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Hn(this.wantedExtent_,i)||Hn(this.image.getExtent(),i))&&(this.wantedResolution_&&dl(this.wantedResolution_)===o||dl(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=i,this.wantedResolution_=o,this.image=new sl(i,o,n,this.loader),this.image.addEventListener(tn,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case 1:this.loading=!0,n="imageloadstart";break;case 2:this.loading=!1,n="imageloadend";break;case 3:this.loading=!1,n="imageloaderror";break;default:return}this.hasListener(n)&&this.dispatchEvent(new ml(n,t))}},bl=class extends vl{constructor(e){const t=void 0!==e.crossOrigin?e.crossOrigin:null,n=void 0!==e.imageLoadFunction?e.imageLoadFunction:yl;super({attributions:e.attributions,interpolate:e.interpolate,projection:Ni(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new sl(this.imageExtent_,void 0,1,function(e){const t=e.load||ol,n=e.imageExtent,r=new Image;return null!==e.crossOrigin&&(r.crossOrigin=e.crossOrigin),()=>t(r,e.url).then((e=>{const t=dr(n)/e.width,r=lr(n)/e.height;return{image:e,extent:n,resolution:t!==r?[t,r]:r,pixelRatio:1}}))}({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(e,t)=>(this.image.setImage(e),n(this.image,t),ol(e))})),this.image.addEventListener(tn,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,n,r){return fr(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}};var _l=__webpack_require__(5341);class wl{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Ga(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new wl({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return pn()}getImage(e){return pn()}getHitDetectionImage(){return pn()}getPixelRatio(e){return 1}getImageState(){return pn()}getImageSize(){return pn()}getOrigin(){return pn()}getSize(){return pn()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ga(e)}listenImageChange(e){pn()}load(){pn()}unlistenImageChange(e){pn()}}const xl=wl;function Sl(e){return Array.isArray(e)?Wr(e):e}class El extends xl{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.render()}clone(){const e=this.getScale(),t=new El({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.canvases_[e];if(!t){const n=this.renderOptions_,r=ws(n.size*e,n.size*e);this.draw_(n,r,e),t=r.canvas,this.canvases_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){const e=r;r=i,i=e}const o=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/o,a=i*Math.sin(s),l=r-Math.sqrt(i*i-a*a),c=Math.sqrt(a*a+l*l),u=c/a;if("miter"===e&&u<=n)return u*t;const h=t/2/u,d=t/2*(l/c),f=Math.sqrt((r+h)*(r+h)+d*d)-r;if(void 0===this.radius2_||"bevel"===e)return 2*f;const p=r*Math.sin(s),g=i-Math.sqrt(r*r-p*p),m=Math.sqrt(p*p+g*g)/p;if(m<=n){const e=m*t/2-i-r;return 2*Math.max(f,e)}return 2*f}createRenderOptions(){let e,t=Ps,n=Ts,r=0,i=null,o=0,s=0;this.stroke_&&(e=Sl(this.stroke_.getColor()??Rs),s=this.stroke_.getWidth()??1,i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Ts,t=this.stroke_.getLineCap()??Ps,r=this.stroke_.getMiterLimit()??10);const a=this.calculateLineJoinSize_(n,s,r),l=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=ks),t.fillStyle=Sl(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),r=0;"string"==typeof n&&(n=Ur(n)),null===n?r=1:Array.isArray(n)&&(r=4===n.length?n[3]:1),0===r&&(t=ws(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const n=this.radius_;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);const i=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let s=0;s<t;s++){const t=i+s*o,a=s%2==0?n:r;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=ks,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}const Cl=El;class kl extends Cl{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new kl({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}const Pl=kl;class Al{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null}clone(){const e=this.getColor();return new Al({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}const Tl=Al;class Rl{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Rl({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const Ol=Rl;class Ml{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Fl,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new Ml({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Fl,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let Il=null;function Dl(e,t){if(!Il){const e=new Tl({color:"rgba(255,255,255,0.4)"}),t=new Ol({color:"#3399CC",width:1.25});Il=[new Ml({image:new Pl({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return Il}function Fl(e){return e.getGeometry()}const Ll=Ml;let Nl=null;class jl extends en{constructor(e,t,n,r,i){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=i,this.imageState_=void 0===r?0:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&2===this.imageState_){Nl||(Nl=ws(1,1,void 0,{willReadFrequently:!0})),Nl.drawImage(this.image_,0,0);try{Nl.getImageData(0,0,1,1),this.tainted_=!1}catch(e){Nl=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(tn)}handleImageError_(){this.imageState_=3,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=2,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],n=ws(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(0===this.imageState_){this.image_||this.initializeImage_(),this.imageState_=1;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&il(this.image_,this.src_).then((e=>{this.image_=e,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||2!==this.imageState_)return;const t=this.image_,n=document.createElement("canvas");n.width=Math.ceil(t.width*e),n.height=Math.ceil(t.height*e);const r=n.getContext("2d");r.scale(e,e),r.drawImage(t,0,0),r.globalCompositeOperation="multiply",r.fillStyle=Dr(this.color_),r.fillRect(0,0,n.width/e,n.height/e),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),this.canvas_[e]=n}}function zl(e,t,n,r){return void 0!==n&&void 0!==r?[n/e,r/t]:void 0!==n?n/e:void 0!==r?r/t:1}class Bl extends xl{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,n=void 0!==e.rotation?e.rotation:0,r=void 0!==e.scale?e.scale:1,i=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:n,scale:r,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:i,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;const o=void 0!==e.img?e.img:null;let s,a=e.src;if(In(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),void 0!==a&&0!==a.length||!o||(a=o.src||mn(o)),In(void 0!==a&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),In(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=0:void 0!==o&&(s=o instanceof HTMLImageElement?o.complete?o.src?2:0:1:2),this.color_=void 0!==e.color?Ur(e.color):null,this.iconImage_=function(e,t,n,r,i){let o=void 0===t?void 0:Hr.get(t,n,i);return o||(o=new jl(e,e instanceof HTMLImageElement?e.src||void 0:t,n,r,i),Hr.set(t,n,i,o)),o}(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){let t,n;if(e.size)[t,n]=e.size;else{const r=this.getImage(1);if(r.width&&r.height)t=r.width,n=r.height;else if(r instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(zl(n[0],n[1],e.width,e.height))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(zl(t,n,e.width,e.height))}}clone(){let e,t,n;return this.initialOptions_?(t=this.initialOptions_.width,n=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Bl({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){const t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){const e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(tn,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(tn,e)}}const Ul=Bl;class Vl{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Ga(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Tl({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){const e=this.getScale();return new Vl({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ga(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Wl=Vl;let $l=0;const Hl=0,ql=1<<$l++,Gl=1<<$l++,Xl=1<<$l++,Yl=1<<$l++,Kl=1<<$l++,Zl=Math.pow(2,5)-1,Ql={[ql]:"boolean",[Gl]:"number",[Xl]:"string",[Yl]:"color",[Kl]:"number[]"},Jl=Object.keys(Ql).map(Number).sort(Wt);function ec(e){const t=[];for(const r of Jl)(e&(n=r))===n&&t.push(Ql[r]);var n;return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function tc(e,t){return!!(e&t)}function nc(e,t){return e===t}class rc{constructor(e,t){this.type=e,this.value=t}}class ic{constructor(e,t,...n){this.type=e,this.operator=t,this.args=n}}function oc(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function sc(e,t,n){switch(typeof e){case"boolean":return new rc(ql,e);case"number":return new rc(Gl,e);case"string":{let t=Xl;return function(e){try{return Br(e),!0}catch(e){return!1}}(e)&&(t|=Yl),nc(t&n,Hl)||(t&=n),new rc(t,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(0===e.length)throw new Error("Empty expression");if("string"==typeof e[0])return function(e,t,n){const r=e[0],i=lc[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(e,t,n)}(e,t,n);for(const t of e)if("number"!=typeof t)throw new Error("Expected an array of numbers");let r=Kl;return 3!==e.length&&4!==e.length||(r|=Yl),n&&(r&=n),new rc(r,e)}const ac={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},lc={[ac.Get]:pc((([e,t])=>void 0!==t?function(e){switch(e){case"string":return Xl;case"color":return Yl;case"number":return Gl;case"boolean":return ql;case"number[]":return Kl;default:throw new Error(`Unrecognized type hint: ${e}`)}}(t.value):Zl),uc(1,2),(function(e,t){const n=sc(e[1],t);if(!(n instanceof rc))throw new Error("Expected a literal argument for get operation");if("string"!=typeof n.value)throw new Error("Expected a string argument for get operation");return t.properties.add(n.value),3===e.length?[n,sc(e[2],t)]:[n]})),[ac.Var]:pc((([e])=>e.type),uc(1,1),(function(e,t,n,r){const i=e[1];if("string"!=typeof i)throw new Error("Expected a string argument for var operation");if(t.variables.add(i),!("variables"in t.style)||void 0===t.style.variables[i])return[new rc(Zl,i)];const o=sc(t.style.variables[i],t);if(o.value=i,r&&!tc(r,o.type))throw new Error(`The variable ${i} has type ${ec(o.type)} but the following type was expected: ${ec(r)}`);return[o]})),[ac.Id]:pc(Gl|Xl,cc,(function(e,t){t.featureId=!0})),[ac.Concat]:pc(Xl,uc(2,1/0),hc(Zl)),[ac.GeometryType]:pc(Xl,cc),[ac.Resolution]:pc(Gl,cc),[ac.Zoom]:pc(Gl,cc),[ac.Time]:pc(Gl,cc),[ac.Any]:pc(ql,uc(2,1/0),hc(ql)),[ac.All]:pc(ql,uc(2,1/0),hc(ql)),[ac.Not]:pc(ql,uc(1,1),hc(ql)),[ac.Equal]:pc(ql,uc(2,2),hc(Zl),dc),[ac.NotEqual]:pc(ql,uc(2,2),hc(Zl),dc),[ac.GreaterThan]:pc(ql,uc(2,2),hc(Zl),dc),[ac.GreaterThanOrEqualTo]:pc(ql,uc(2,2),hc(Zl),dc),[ac.LessThan]:pc(ql,uc(2,2),hc(Zl),dc),[ac.LessThanOrEqualTo]:pc(ql,uc(2,2),hc(Zl),dc),[ac.Multiply]:pc((e=>{let t=Gl|Yl;for(let n=0;n<e.length;n++)t&=e[n].type;return t}),uc(2,1/0),hc(Gl|Yl),dc),[ac.Divide]:pc(Gl,uc(2,2),hc(Gl)),[ac.Add]:pc(Gl,uc(2,1/0),hc(Gl)),[ac.Subtract]:pc(Gl,uc(2,2),hc(Gl)),[ac.Clamp]:pc(Gl,uc(3,3),hc(Gl)),[ac.Mod]:pc(Gl,uc(2,2),hc(Gl)),[ac.Pow]:pc(Gl,uc(2,2),hc(Gl)),[ac.Abs]:pc(Gl,uc(1,1),hc(Gl)),[ac.Floor]:pc(Gl,uc(1,1),hc(Gl)),[ac.Ceil]:pc(Gl,uc(1,1),hc(Gl)),[ac.Round]:pc(Gl,uc(1,1),hc(Gl)),[ac.Sin]:pc(Gl,uc(1,1),hc(Gl)),[ac.Cos]:pc(Gl,uc(1,1),hc(Gl)),[ac.Atan]:pc(Gl,uc(1,2),hc(Gl)),[ac.Sqrt]:pc(Gl,uc(1,1),hc(Gl)),[ac.Match]:pc((e=>{let t=Zl;for(let n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t}),uc(4,1/0),fc,(function(e,t,n,r){const i=e.length-1;let o=sc(e[1],t).type;const s=sc(e[e.length-1],t);let a=void 0!==r?r&s.type:s.type;const l=new Array(i-2);for(let n=0;n<i-2;n+=2){const r=sc(e[n+2],t),i=sc(e[n+3],t);o&=r.type,a&=i.type,l[n]=r,l[n+1]=i}const c=Xl|Gl|ql;if(!tc(c,o))throw new Error(`Expected an input of type ${ec(c)} for the interpolate operation, got ${ec(o)} instead`);if(nc(a,Hl))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let n=0;n<i-2;n+=2){const r=sc(e[n+2],t,o),i=sc(e[n+3],t,a);l[n]=r,l[n+1]=i}return[sc(e[1],t,o),...l,sc(e[e.length-1],t,a)]})),[ac.Between]:pc(ql,uc(3,3),hc(Gl)),[ac.Interpolate]:pc((e=>{let t=Yl|Gl;for(let n=3;n<e.length;n+=2)t&=e[n].type;return t}),uc(6,1/0),fc,(function(e,t,n,r){const i=e[1];let o;switch(i[0]){case"linear":o=1;break;case"exponential":if(o=i[1],"number"!=typeof o)throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(o)} instead`);break;default:o=null}if(!o)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);o=sc(o,t);let s=sc(e[2],t);if(!tc(Gl,s.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${ec(s.type)} instead`);s=sc(e[2],t,Gl);const a=new Array(e.length-3);for(let n=0;n<a.length;n+=2){let r=sc(e[n+3],t);if(!tc(Gl,r.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${ec(r.type)} at position ${n+2} instead`);let i=sc(e[n+4],t);if(!tc(Gl|Yl,i.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${ec(i.type)} at position ${n+3} instead`);r=sc(e[n+3],t,Gl),i=sc(e[n+4],t,Gl|Yl),a[n]=r,a[n+1]=i}return[o,s,...a]})),[ac.Case]:pc((e=>{let t=Zl;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t}),uc(3,1/0),(function(e,t){const n=e[0],r=e.length-1;if(r%2==0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}),(function(e,t,n,r){const i=sc(e[e.length-1],t);let o=void 0!==r?r&i.type:i.type;const s=new Array(e.length-1);for(let n=0;n<s.length-1;n+=2){const r=sc(e[n+1],t),i=sc(e[n+2],t);if(!tc(ql,r.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${ec(r.type)} at position ${n} instead`);o&=i.type,s[n]=r,s[n+1]=i}if(nc(o,Hl))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let n=0;n<s.length-1;n+=2)s[n+1]=sc(e[n+2],t,o);return s[s.length-1]=sc(e[e.length-1],t,o),s})),[ac.In]:pc(ql,uc(2,2),(function(e,t){let n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof n[0]){if("literal"!==n[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=Xl|Gl;const i=new Array(n.length);for(let e=0;e<i.length;e++){const o=sc(n[e],t);r&=o.type,i[e]=o}if(nc(r,Hl))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[sc(e[1],t,r),...i]})),[ac.Number]:pc(Gl,uc(1,1/0),hc(Zl)),[ac.String]:pc(Xl,uc(1,1/0),hc(Zl)),[ac.Array]:pc((e=>3===e.length||4===e.length?Kl|Yl:Kl),uc(1,1/0),hc(Gl)),[ac.Color]:pc(Yl,uc(3,4),hc(Gl)),[ac.Band]:pc(Gl,uc(1,3),hc(Gl)),[ac.Palette]:pc(Yl,uc(2,2),(function(e,t){const n=sc(e[1],t,Gl);if(n.type!==Gl)throw new Error(`The first argument of palette must be an number, got ${ec(n.type)} instead`);const r=e[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let e=0;e<i.length;e++){const n=sc(r[e],t,Yl);if(!(n instanceof rc))throw new Error(`The palette color at index ${e} must be a literal value`);if(!tc(n.type,Yl))throw new Error(`The palette color at index ${e} should be of type color, got ${ec(n.type)} instead`);i[e]=n}return[n,...i]}))};function cc(e,t){const n=e[0];if(1!==e.length)throw new Error(`Expected no arguments for ${n} operation`);return[]}function uc(e,t){return function(n,r){const i=n[0],o=n.length-1;if(e===t){if(o!==e)throw new Error(`Expected ${e} argument${1===e?"":"s"} for ${i}, got ${o}`)}else if(o<e||o>t)throw new Error(`Expected ${t===1/0?`${e} or more`:`${e} to ${t}`} arguments for ${i}, got ${o}`)}}function hc(e){return function(t,n){const r=t[0],i=t.length-1,o=new Array(i);for(let s=0;s<i;++s){const i=sc(t[s+1],n);if(!tc(e,i.type)){const t=ec(e),n=ec(i.type);throw new Error(`Unexpected type for argument ${s} of ${r} operation, got ${t} but expected ${n}`)}i.type&=e,o[s]=i}return o}}function dc(e,t,n){const r=e[0],i=e.length-1;let o=Zl;for(let e=0;e<n.length;++e)o&=n[e].type;if(o===Hl)throw new Error(`No common type could be found for arguments of ${r} operation`);const s=new Array(i);for(let n=0;n<i;++n)s[n]=sc(e[n+1],t,o);return s}function fc(e,t){const n=e[0],r=e.length-1;if(r%2==1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function pc(e,...t){return function(n,r,i){const o=n[0];let s=[];for(let e=0;e<t.length;e++)s=t[e](n,r,s,i)||s;let a="function"==typeof e?e(s):e;if(void 0!==i){if(!tc(a,i))throw new Error(`The following expression was expected to return ${ec(i)}, but returns ${ec(a)} instead: ${JSON.stringify(n)}`);a&=i}if(a===Hl)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new ic(a,o,...s)}}function gc(e,t,n){const r=sc(e,n);if(!tc(t,r.type)){const e=ec(t),n=ec(r.type);throw new Error(`Expected expression to be of type ${e}, got ${n}`)}return mc(r,n)}function mc(e,t){if(e instanceof rc){if(e.type===Yl&&"string"==typeof e.value){const t=Br(e.value);return function(){return t}}return function(){return e.value}}const n=e.operator;switch(n){case ac.Number:case ac.String:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=mc(e.args[n],t);switch(n){case ac.Number:case ac.String:return e=>{for(let t=0;t<r;++t){const r=i[t](e);if(typeof r===n)return r}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}(e,t);case ac.Get:case ac.Var:return function(e,t){const n=e.args[0].value;switch(e.operator){case ac.Get:return e=>e.properties[n];case ac.Var:return e=>e.variables[n];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}(e);case ac.Id:return e=>e.featureId;case ac.Concat:{const n=e.args.map((e=>mc(e,t)));return e=>"".concat(...n.map((t=>t(e).toString())))}case ac.Resolution:return e=>e.resolution;case ac.Any:case ac.All:case ac.Not:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=mc(e.args[n],t);switch(n){case ac.Any:return e=>{for(let t=0;t<r;++t)if(i[t](e))return!0;return!1};case ac.All:return e=>{for(let t=0;t<r;++t)if(!i[t](e))return!1;return!0};case ac.Not:return e=>!i[0](e);default:throw new Error(`Unsupported logical operator ${n}`)}}(e,t);case ac.Equal:case ac.NotEqual:case ac.LessThan:case ac.LessThanOrEqualTo:case ac.GreaterThan:case ac.GreaterThanOrEqualTo:return function(e,t){const n=e.operator,r=mc(e.args[0],t),i=mc(e.args[1],t);switch(n){case ac.Equal:return e=>r(e)===i(e);case ac.NotEqual:return e=>r(e)!==i(e);case ac.LessThan:return e=>r(e)<i(e);case ac.LessThanOrEqualTo:return e=>r(e)<=i(e);case ac.GreaterThan:return e=>r(e)>i(e);case ac.GreaterThanOrEqualTo:return e=>r(e)>=i(e);default:throw new Error(`Unsupported comparison operator ${n}`)}}(e,t);case ac.Multiply:case ac.Divide:case ac.Add:case ac.Subtract:case ac.Clamp:case ac.Mod:case ac.Pow:case ac.Abs:case ac.Floor:case ac.Ceil:case ac.Round:case ac.Sin:case ac.Cos:case ac.Atan:case ac.Sqrt:return function(e,t){const n=e.operator,r=e.args.length,i=new Array(r);for(let n=0;n<r;++n)i[n]=mc(e.args[n],t);switch(n){case ac.Multiply:return e=>{let t=1;for(let n=0;n<r;++n)t*=i[n](e);return t};case ac.Divide:return e=>i[0](e)/i[1](e);case ac.Add:return e=>{let t=0;for(let n=0;n<r;++n)t+=i[n](e);return t};case ac.Subtract:return e=>i[0](e)-i[1](e);case ac.Clamp:return e=>{const t=i[0](e),n=i[1](e);if(t<n)return n;const r=i[2](e);return t>r?r:t};case ac.Mod:return e=>i[0](e)%i[1](e);case ac.Pow:return e=>Math.pow(i[0](e),i[1](e));case ac.Abs:return e=>Math.abs(i[0](e));case ac.Floor:return e=>Math.floor(i[0](e));case ac.Ceil:return e=>Math.ceil(i[0](e));case ac.Round:return e=>Math.round(i[0](e));case ac.Sin:return e=>Math.sin(i[0](e));case ac.Cos:return e=>Math.cos(i[0](e));case ac.Atan:return 2===r?e=>Math.atan2(i[0](e),i[1](e)):e=>Math.atan(i[0](e));case ac.Sqrt:return e=>Math.sqrt(i[0](e));default:throw new Error(`Unsupported numeric operator ${n}`)}}(e,t);case ac.Match:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=mc(e.args[i],t);return e=>{const t=r[0](e);for(let i=1;i<n;i+=2)if(t===r[i](e))return r[i+1](e);return r[n-1](e)}}(e,t);case ac.Interpolate:return function(e,t){const n=e.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=mc(e.args[i],t);return e=>{const t=r[0](e),i=r[1](e);let o,s;for(let a=2;a<n;a+=2){const n=r[a](e);let l=r[a+1](e);const c=Array.isArray(l);if(c&&(l=jr(l)),n>=i)return 2===a?l:c?vc(t,i,o,s,n,l):yc(t,i,o,s,n,l);o=n,s=l}return s}}(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function yc(e,t,n,r,i,o){const s=i-n;if(0===s)return r;const a=t-n;return r+(1===e?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1))*(o-r)}function vc(e,t,n,r,i,o){if(0==i-n)return r;const s=zr(r),a=zr(o);let l=a[2]-s[2];return l>180?l-=360:l<-180&&(l+=360),Vr(function(e){const t=vr.rgb(wr.xyz(e));return t[3]=e[3],t}([yc(e,t,n,s[0],i,a[0]),yc(e,t,n,s[1],i,a[1]),s[2]+yc(e,t,n,0,i,l),yc(e,t,n,r[3],i,o[3])]))}function bc(e){return!0}function _c(e){const t=oc(),n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=wc(e[i],t);const i={variables:{},properties:{},resolution:NaN,featureId:null},o=new Array(n);return function(e,s){if(i.properties=e.getPropertiesInternal(),i.resolution=s,t.featureId){const t=e.getId();i.featureId=void 0!==t?t:null}let a=0;for(let e=0;e<n;++e){const t=r[e](i);t&&(o[a]=t,a+=1)}return o.length=a,o}}function wc(e,t){const n=xc(e,"",t),r=Sc(e,"",t),i=function(e,t){const n="text-",r=Cc(e,n+"value",t);if(!r)return null;const i=xc(e,n,t),o=xc(e,n+"background-",t),s=Sc(e,n,t),a=Sc(e,n+"background-",t),l=Cc(e,n+"font",t),c=Ec(e,n+"max-angle",t),u=Ec(e,n+"offset-x",t),h=Ec(e,n+"offset-y",t),d=kc(e,n+"overflow",t),f=Cc(e,n+"placement",t),p=Ec(e,n+"repeat",t),g=Rc(e,n+"scale",t),m=kc(e,n+"rotate-with-view",t),y=Ec(e,n+"rotation",t),v=Cc(e,n+"align",t),b=Cc(e,n+"justify",t),_=Cc(e,n+"baseline",t),w=Ac(e,n+"padding",t),x=new Wl({});return function(e){if(x.setText(r(e)),i&&x.setFill(i(e)),o&&x.setBackgroundFill(o(e)),s&&x.setStroke(s(e)),a&&x.setBackgroundStroke(a(e)),l&&x.setFont(l(e)),c&&x.setMaxAngle(c(e)),u&&x.setOffsetX(u(e)),h&&x.setOffsetY(h(e)),d&&x.setOverflow(d(e)),f){const t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");x.setPlacement(t)}if(p&&x.setRepeat(p(e)),g&&x.setScale(g(e)),m&&x.setRotateWithView(m(e)),y&&x.setRotation(y(e)),v){const t=v(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");x.setTextAlign(t)}if(b){const t=b(e);if("left"!==t&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");x.setJustify(t)}if(_){const t=_(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");x.setTextBaseline(t)}return w&&x.setPadding(w(e)),x}}(e,t),o=function(e,t){return"icon-src"in e?function(e,t){const n="icon-",r=n+"src",i=Lc(e[r],r),o=Tc(e,n+"anchor",t),s=Rc(e,n+"scale",t),a=Ec(e,n+"opacity",t),l=Tc(e,n+"displacement",t),c=Ec(e,n+"rotation",t),u=kc(e,n+"rotate-with-view",t),h=Mc(e,n+"anchor-origin"),d=Ic(e,n+"anchor-x-units"),f=Ic(e,n+"anchor-y-units"),p=function(e,t){const n=e[t];if(void 0!==n)return jc(n,t)}(e,n+"color"),g=function(e,t){const n=e[t];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);return n}}(e,n+"cross-origin"),m=function(e,t){const n=e[t];if(void 0!==n)return Fc(n,t)}(e,n+"offset"),y=Mc(e,n+"offset-origin"),v=Oc(e,n+"width"),b=Oc(e,n+"height"),_=function(e,t){const n=e[t];if(void 0!==n){if("number"==typeof n)return Ga(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])throw new Error(`Expected a number or size array for ${t}`);return n}}(e,n+"size"),w=Dc(e,n+"declutter"),x=new Ul({src:i,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:g,offset:m,offsetOrigin:y,height:b,width:v,size:_,declutterMode:w});return function(e){return a&&x.setOpacity(a(e)),l&&x.setDisplacement(l(e)),c&&x.setRotation(c(e)),u&&x.setRotateWithView(u(e)),s&&x.setScale(s(e)),o&&x.setAnchor(o(e)),x}}(e,t):"shape-points"in e?function(e,t){const n="shape-",r=n+"points",i=Nc(e[r],r),o=xc(e,n,t),s=Sc(e,n,t),a=Rc(e,n+"scale",t),l=Tc(e,n+"displacement",t),c=Ec(e,n+"rotation",t),u=kc(e,n+"rotate-with-view",t),h=Oc(e,n+"radius"),d=Oc(e,n+"radius1"),f=Oc(e,n+"radius2"),p=Oc(e,n+"angle"),g=Dc(e,n+"declutter-mode"),m=new Cl({points:i,radius:h,radius1:d,radius2:f,angle:p,declutterMode:g});return function(e){return o&&m.setFill(o(e)),s&&m.setStroke(s(e)),l&&m.setDisplacement(l(e)),c&&m.setRotation(c(e)),u&&m.setRotateWithView(u(e)),a&&m.setScale(a(e)),m}}(e,t):"circle-radius"in e?function(e,t){const n="circle-",r=xc(e,n,t),i=Sc(e,n,t),o=Ec(e,n+"radius",t),s=Rc(e,n+"scale",t),a=Tc(e,n+"displacement",t),l=Ec(e,n+"rotation",t),c=kc(e,n+"rotate-with-view",t),u=Dc(e,n+"declutter-mode"),h=new Pl({radius:5,declutterMode:u});return function(e){return o&&h.setRadius(o(e)),r&&h.setFill(r(e)),i&&h.setStroke(i(e)),a&&h.setDisplacement(a(e)),l&&h.setRotation(l(e)),c&&h.setRotateWithView(c(e)),s&&h.setScale(s(e)),h}}(e,t):null}(e,t),s=Ec(e,"z-index",t);if(!(n||r||i||o||Jt(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new Ll;return function(e){let t=!0;if(n){const r=n(e);r&&(t=!1),a.setFill(r)}if(r){const n=r(e);n&&(t=!1),a.setStroke(n)}if(i){const n=i(e);n&&(t=!1),a.setText(n)}if(o){const n=o(e);n&&(t=!1),a.setImage(n)}return s&&a.setZIndex(s(e)),t?null:a}}function xc(e,t,n){const r=Pc(e,t+"fill-color",n);if(!r)return null;const i=new Tl;return function(e){const t=r(e);return"none"===t?null:(i.setColor(t),i)}}function Sc(e,t,n){const r=Ec(e,t+"stroke-width",n),i=Pc(e,t+"stroke-color",n);if(!r&&!i)return null;const o=Cc(e,t+"stroke-line-cap",n),s=Cc(e,t+"stroke-line-join",n),a=Ac(e,t+"stroke-line-dash",n),l=Ec(e,t+"stroke-line-dash-offset",n),c=Ec(e,t+"stroke-miter-limit",n),u=new Ol;return function(e){if(i){const t=i(e);if("none"===t)return null;u.setColor(t)}if(r&&u.setWidth(r(e)),o){const t=o(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");u.setLineCap(t)}if(s){const t=s(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(t)}return a&&u.setLineDash(a(e)),l&&u.setLineDashOffset(l(e)),c&&u.setMiterLimit(c(e)),u}}function Ec(e,t,n){if(!(t in e))return;const r=gc(e[t],Gl,n);return function(e){return Nc(r(e),t)}}function Cc(e,t,n){if(!(t in e))return null;const r=gc(e[t],Xl,n);return function(e){return Lc(r(e),t)}}function kc(e,t,n){if(!(t in e))return null;const r=gc(e[t],ql,n);return function(e){const n=r(e);if("boolean"!=typeof n)throw new Error(`Expected a boolean for ${t}`);return n}}function Pc(e,t,n){if(!(t in e))return null;const r=gc(e[t],Yl|Xl,n);return function(e){return jc(r(e),t)}}function Ac(e,t,n){if(!(t in e))return null;const r=gc(e[t],Kl,n);return function(e){return Fc(r(e),t)}}function Tc(e,t,n){if(!(t in e))return null;const r=gc(e[t],Kl,n);return function(e){const n=Fc(r(e),t);if(2!==n.length)throw new Error(`Expected two numbers for ${t}`);return n}}function Rc(e,t,n){if(!(t in e))return null;const r=gc(e[t],Kl|Gl,n);return function(e){return function(e,t){if("number"==typeof e)return e;const n=Fc(e,t);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${t}`);return n}(r(e),t)}}function Oc(e,t){const n=e[t];if(void 0!==n){if("number"!=typeof n)throw new Error(`Expected a number for ${t}`);return n}}function Mc(e,t){const n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Ic(e,t){const n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${t}`);return n}}function Dc(e,t){const n=e[t];if(void 0!==n){if("string"!=typeof n)throw new Error(`Expected a string for ${t}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function Fc(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let r=0;r<n;++r)if("number"!=typeof e[r])throw new Error(`Expected an array of numbers for ${t}`);return e}function Lc(e,t){if("string"!=typeof e)throw new Error(`Expected a string for ${t}`);return e}function Nc(e,t){if("number"!=typeof e)throw new Error(`Expected a number for ${t}`);return e}function jc(e,t){if("string"==typeof e)return e;const n=Fc(e,t),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}const zc="renderOrder",Bc=class extends us{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(zc)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new _l(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(zc,e)}setStyle(e){this.style_=function(e){if(void 0===e)return Dl;if(!e)return null;if("function"==typeof e)return e;if(e instanceof Ll)return e;if(!Array.isArray(e))return _c([e]);if(0===e.length)return[];const t=e.length,n=e[0];if(n instanceof Ll){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!(t instanceof Ll))throw new Error("Expected a list of style instances");n[r]=t}return n}if("style"in n){const n=new Array(t);for(let r=0;r<t;++r){const t=e[r];if(!("style"in t))throw new Error("Expected a list of rules with a style property");n[r]=t}return function(e){const t=oc(),n=function(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i){const n=e[i],o="filter"in n?gc(n.filter,ql,t):bc;let s;if(Array.isArray(n.style)){const e=n.style.length;s=new Array(e);for(let r=0;r<e;++r)s[r]=wc(n.style[r],t)}else s=[wc(n.style,t)];r[i]={filter:o,styles:s}}return function(t){const i=[];let o=!1;for(let s=0;s<n;++s)if((0,r[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of r[s].styles){const n=e(t);n&&i.push(n)}}return i}}(e,t),r={variables:{},properties:{},resolution:NaN,featureId:null};return function(e,i){if(r.properties=e.getPropertiesInternal(),r.resolution=i,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}return n(r)}}(n)}return _c(e)}(e),this.styleFunction_=null===e?void 0:function(e){let t;if("function"==typeof e)t=e;else{let n;Array.isArray(e)?n=e:(In("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}(this.style_),this.changed()}},Uc={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Vc=[Uc.FILL],Wc=[Uc.STROKE],$c=[Uc.BEGIN_PATH],Hc=[Uc.CLOSE_PATH],qc=Uc,Gc=class{drawCustom(e,t,n,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Xc=class extends Gc{constructor(e,t,n,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}appendFlatPointCoordinates(e,t){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates;let o=i.length;for(let s=0,a=e.length;s<a;s+=t)r[0]=e[s],r[1]=e[s+1],$n(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,n,r,i,o){const s=this.coordinates;let a=s.length;const l=this.getBufferedMaxExtent();o&&(t+=r);let c=e[t],u=e[t+1];const h=this.tmpCoordinate_;let d,f,p,g=!0;for(d=t+r;d<n;d+=r)h[0]=e[d],h[1]=e[d+1],p=Gn(l,h),p!==f?(g&&(s[a++]=c,s[a++]=u,g=!1),s[a++]=h[0],s[a++]=h[1]):p===zn.INTERSECTING?(s[a++]=h[0],s[a++]=h[1],g=!1):g=!0,c=h[0],u=h[1],f=p;return(i&&g||d===t+r)&&(s[a++]=c,s[a++]=u),a}drawCustomCoordinates_(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o],a=this.appendFlatLineCoordinates(e,t,s,r,!1,!1);i.push(a),t=s}return t}drawCustom(e,t,n,r){this.beginGeometry(e,t);const i=e.getType(),o=e.getStride(),s=this.coordinates.length;let a,l,c,u,h;switch(i){case"MultiPolygon":a=e.getOrientedFlatCoordinates(),u=[];const t=e.getEndss();h=0;for(let e=0,n=t.length;e<n;++e){const n=[];h=this.drawCustomCoordinates_(a,h,t[e],o,n),u.push(n)}this.instructions.push([qc.CUSTOM,s,u,e,n,Fo]),this.hitDetectionInstructions.push([qc.CUSTOM,s,u,e,r||n,Fo]);break;case"Polygon":case"MultiLineString":c=[],a="Polygon"==i?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(a,0,e.getEnds(),o,c),this.instructions.push([qc.CUSTOM,s,c,e,n,Do]),this.hitDetectionInstructions.push([qc.CUSTOM,s,c,e,r||n,Do]);break;case"LineString":case"Circle":a=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(a,0,a.length,o,!1,!1),this.instructions.push([qc.CUSTOM,s,l,e,n,Io]),this.hitDetectionInstructions.push([qc.CUSTOM,s,l,e,r||n,Io]);break;case"MultiPoint":a=e.getFlatCoordinates(),l=this.appendFlatPointCoordinates(a,o),l>s&&(this.instructions.push([qc.CUSTOM,s,l,e,n,Io]),this.hitDetectionInstructions.push([qc.CUSTOM,s,l,e,r||n,Io]));break;case"Point":a=e.getFlatCoordinates(),this.coordinates.push(a[0],a[1]),l=this.coordinates.length,this.instructions.push([qc.CUSTOM,s,l,e,n]),this.hitDetectionInstructions.push([qc.CUSTOM,s,l,e,r||n])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[qc.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[qc.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;let t;e.reverse();const n=e.length;let r,i,o=-1;for(t=0;t<n;++t)r=e[t],i=r[0],i==qc.END_GEOMETRY?o=t:i==qc.BEGIN_GEOMETRY&&(r[2]=t,Ht(this.hitDetectionInstructions,o,t),o=-1)}setFillStrokeStyle(e,t){const n=this.state;if(e){const t=e.getColor();n.fillStyle=Sl(t||ks)}else n.fillStyle=void 0;if(t){const e=t.getColor();n.strokeStyle=Sl(e||Rs);const r=t.getLineCap();n.lineCap=void 0!==r?r:Ps;const i=t.getLineDash();n.lineDash=i?i.slice():As;const o=t.getLineDashOffset();n.lineDashOffset=o||0;const s=t.getLineJoin();n.lineJoin=void 0!==s?s:Ts;const a=t.getWidth();n.lineWidth=void 0!==a?a:1;const l=t.getMiterLimit();n.miterLimit=void 0!==l?l:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(e){const t=e.fillStyle,n=[qc.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(!0),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[qc.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){const n=e.strokeStyle,r=e.lineCap,i=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=r||i!=e.currentLineDash&&!Gt(e.currentLineDash,i)||e.currentLineDashOffset!=o||e.currentLineJoin!=s||e.currentLineWidth!=a||e.currentMiterLimit!=l)&&(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=r,e.currentLineDash=i,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[qc.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Vn(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Un(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Yc=class extends Xc{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,a=n.length;this.instructions.push($c),this.hitDetectionInstructions.push($c);for(let i=0;i<a;++i){const o=n[i],a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,o,r,!0,!s),c=[qc.MOVE_TO_LINE_TO,a,l];this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(Hc),this.hitDetectionInstructions.push(Hc)),t=o}return o&&(this.instructions.push(Vc),this.hitDetectionInstructions.push(Vc)),s&&(this.instructions.push(Wc),this.hitDetectionInstructions.push(Wc)),t}drawCircle(e,t){const n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0===r&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([qc.SET_FILL_STYLE,ks]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([qc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,As,0]);const o=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,s,!1,!1);const l=[qc.CIRCLE,a];this.instructions.push($c,l),this.hitDetectionInstructions.push($c,l),void 0!==n.fillStyle&&(this.instructions.push(Vc),this.hitDetectionInstructions.push(Vc)),void 0!==n.strokeStyle&&(this.instructions.push(Wc),this.hitDetectionInstructions.push(Wc)),this.endGeometry(t)}drawPolygon(e,t){const n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0===r&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([qc.SET_FILL_STYLE,ks]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([qc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,As,0]);const o=e.getEnds(),s=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t)}drawMultiPolygon(e,t){const n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0===r&&void 0===i)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([qc.SET_FILL_STYLE,ks]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([qc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,As,0]);const o=e.getEndss(),s=e.getOrientedFlatCoordinates(),a=e.getStride();let l=0;for(let e=0,t=o.length;e<t;++e)l=this.drawFlatCoordinatess_(s,l,o[e],a);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(0!==e){const t=this.coordinates;for(let n=0,r=t.length;n<r;++n)t[n]=Ro(t[n],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}};function Kc(e,t,n,r,i){const o=[];let s=n,a=0,l=t.slice(n,2);for(;a<e&&s+i<r;){const[n,r]=l.slice(-2),c=t[s+i],u=t[s+i+1],h=Math.sqrt((c-n)*(c-n)+(u-r)*(u-r));if(a+=h,a>=e){const t=(e-a+h)/h,d=Or(n,c,t),f=Or(r,u,t);l.push(d,f),o.push(l),l=[d,f],a==e&&(s+=i),a=0}else if(a<e)l.push(t[s+i],t[s+i+1]),s+=i;else{const e=h-a,t=Or(n,c,e/h),d=Or(r,u,e/h);l.push(t,d),o.push(l),l=[t,d],a=0,s+=i}}return a>0&&o.push(l),o}function Zc(e,t,n,r,i){let o,s,a,l,c,u,h,d,f,p,g=n,m=n,y=0,v=0,b=n;for(s=n;s<r;s+=i){const n=t[s],r=t[s+1];void 0!==c&&(f=n-c,p=r-u,l=Math.sqrt(f*f+p*p),void 0!==h&&(v+=a,o=Math.acos((h*f+d*p)/(a*l)),o>e&&(v>y&&(y=v,g=b,m=s),v=0,b=s-i)),a=l,h=f,d=p),c=n,u=r}return v+=l,v>y?[b,s]:[g,m]}const Qc={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Jc={Circle:Yc,Default:Xc,Image:class extends Xc{constructor(e,t,n,r){super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),r=e.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([qc.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qc.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const n=e.getFlatCoordinates(),r=e.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([qc.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([qc.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const n=e.getAnchor(),r=e.getSize(),i=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},LineString:class extends Xc{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinates_(e,t,n,r){const i=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),s=[qc.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n}drawLineString(e,t){const n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0===r||void 0===i)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([qc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,As,0],$c);const o=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Wc),this.endGeometry(t)}drawMultiLineString(e,t){const n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0===r||void 0===i)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([qc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,As,0],$c);const o=e.getEnds(),s=e.getFlatCoordinates(),a=e.getStride();let l=0;for(let e=0,t=o.length;e<t;++e)l=this.drawFlatCoordinates_(s,l,o[e],a);this.hitDetectionInstructions.push(Wc),this.endGeometry(t)}finish(){const e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Wc),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Wc),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push($c)}},Polygon:Yc,Text:class extends Xc{constructor(e,t,n,r){super(e,t,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[ks]={fillStyle:ks},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""===this.text_||!i||!n&&!r)return;const o=this.coordinates;let s=o.length;const a=e.getType();let l=null,c=e.getStride();if("line"!==i.placement||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){let n=i.overflow?null:[];switch(a){case"Point":case"MultiPoint":l=e.getFlatCoordinates();break;case"LineString":l=e.getFlatMidpoint();break;case"Circle":l=e.getCenter();break;case"MultiLineString":l=e.getFlatMidpoints(),c=2;break;case"Polygon":l=e.getFlatInteriorPoint(),i.overflow||n.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();l=[];for(let e=0,r=t.length;e<r;e+=3)i.overflow||n.push(t[e+2]/this.resolution),l.push(t[e],t[e+1]);if(0===l.length)return;c=2}const r=this.appendFlatPointCoordinates(l,c);if(r===s)return;if(n&&(r-s)/2!=l.length/c){let e=s/2;n=n.filter(((t,n)=>{const r=o[2*(e+n)]===l[n*c]&&o[2*(e+n)+1]===l[n*c+1];return r||--e,r}))}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&this.updateFillStyle(this.state,this.createFill),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let u=i.padding;if(u!=Is&&(i.scale[0]<0||i.scale[1]<0)){let e=i.padding[0],t=i.padding[1],n=i.padding[2],r=i.padding[3];i.scale[0]<0&&(t=-t,r=-r),i.scale[1]<0&&(e=-e,n=-n),u=[e,t,n,r]}const h=this.pixelRatio;this.instructions.push([qc.DRAW_IMAGE,s,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,u==Is?Is:u.map((function(e){return e*h})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]);const d=1/h,f=this.state.fillStyle;i.backgroundFill&&(this.state.fillStyle=ks,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([qc.DRAW_IMAGE,s,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[d,d],NaN,void 0,this.declutterImageWithText_,u,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?ks:this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]),i.backgroundFill&&(this.state.fillStyle=f,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}else{if(!fr(this.getBufferedMaxExtent(),e.getExtent()))return;let n;if(l=e.getFlatCoordinates(),"LineString"==a)n=[l.length];else if("MultiLineString"==a)n=e.getEnds();else if("Polygon"==a)n=e.getEnds().slice(0,1);else if("MultiPolygon"==a){const t=e.getEndss();n=[];for(let e=0,r=t.length;e<r;++e)n.push(t[e][0])}this.beginGeometry(e,t);const r=i.repeat,u=r?void 0:i.textAlign;let h=0;for(let e=0,t=n.length;e<t;++e){let t;t=r?Kc(r*this.resolution,l,h,n[e],c):[l.slice(h,n[e])];for(let r=0,a=t.length;r<a;++r){const a=t[r];let l=0,d=a.length;if(null==u){const e=Zc(i.maxAngle,a,0,a.length,2);l=e[0],d=e[1]}for(let e=l;e<d;e+=c)o.push(a[e],a[e+1]);const f=o.length;h=n[e],this.drawChars_(s,f),s=f}}this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||Os,justify:t.justify,textBaseline:t.textBaseline||Ms,scale:t.scale});const o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))}drawChars_(e,t){const n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=Qc[r.textBaseline],c=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([qc.DRAW_CHARS,e,t,l,r.overflow,s,r.maxAngle,a,c,i,h*a,u,o,1]),this.hitDetectionInstructions.push([qc.DRAW_CHARS,e,t,l,r.overflow,s?ks:s,r.maxAngle,a,c,i,h*a,u,o,1/a])}setTextStyle(e,t){let n,r,i;if(e){const t=e.getFill();t?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Sl(t.getColor()||ks)):(r=null,this.textFillState_=r);const o=e.getStroke();if(o){i=this.textStrokeState_,i||(i={},this.textStrokeState_=i);const e=o.getLineDash(),t=o.getLineDashOffset(),n=o.getWidth(),r=o.getMiterLimit();i.lineCap=o.getLineCap()||Ps,i.lineDash=e?e.slice():As,i.lineDashOffset=void 0===t?0:t,i.lineJoin=o.getLineJoin()||Ts,i.lineWidth=void 0===n?1:n,i.miterLimit=void 0===r?10:r,i.strokeStyle=Sl(o.getColor()||Rs)}else i=null,this.textStrokeState_=i;n=this.textState_;const s=e.getFont()||Cs;js(s);const a=e.getScaleArray();n.overflow=e.getOverflow(),n.font=s,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||Ms,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Is,n.scale=void 0===a?[1,1]:a;const l=e.getOffsetX(),c=e.getOffsetY(),u=e.getRotateWithView(),h=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===c?0:c,this.textRotateWithView_=void 0!==u&&u,this.textRotation_=void 0===h?0:h,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:mn(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+mn(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}},eu=class{constructor(e,t,n,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const i=n[r].finish();e[t][r]=i}}return e}getBuilder(e,t){const n=void 0!==e?e.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let i=r[t];return void 0===i&&(i=new(0,Jc[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=i),i}};function tu(e,t,n,r,i,o,s,a,l,c,u,h){let d=e[t],f=e[t+1],p=0,g=0,m=0,y=0;function v(){p=d,g=f,d=e[t+=r],f=e[t+1],y+=m,m=Math.sqrt((d-p)*(d-p)+(f-g)*(f-g))}do{v()}while(t<n-r&&y+m<o);let b=0===m?0:(o-y)/m;const _=Or(p,d,b),w=Or(g,f,b),x=t-r,S=y,E=o+a*l(c,i,u);for(;t<n-r&&y+m<E;)v();b=0===m?0:(E-y)/m;const C=Or(p,d,b),k=Or(g,f,b);let P;if(h){const e=[_,w,C,k];fo(e,0,4,2,h,e,e),P=e[0]>e[2]}else P=_>C;const A=Math.PI,T=[],R=x+r===t;let O;if(m=0,y=S,d=e[t=x],f=e[t+1],R){v(),O=Math.atan2(f-g,d-p),P&&(O+=O>0?-A:A);const e=(C+_)/2,t=(k+w)/2;return T[0]=[e,t,(E-o)/2,O,i],T}for(let e=0,h=(i=i.replace(/\n/g," ")).length;e<h;){v();let _=Math.atan2(f-g,d-p);if(P&&(_+=_>0?-A:A),void 0!==O){let e=_-O;if(e+=e>A?-2*A:e<-A?2*A:0,Math.abs(e)>s)return null}O=_;const w=e;let x=0;for(;e<h;++e){const s=a*l(c,i[P?h-e-1:e],u);if(t+r<n&&y+m<o+x+s/2)break;x+=s}if(e===w)continue;const S=P?i.substring(h-w,h-e):i.substring(w,e);b=0===m?0:(o+x/2-y)/m;const E=Or(p,d,b),C=Or(g,f,b);T.push([E,C,x/2,_,S]),o+=x}return T}function nu(e,t,n,r){let i=e[t],o=e[t+1],s=0;for(let a=t+r;a<n;a+=r){const t=e[a],n=e[a+1];s+=Math.sqrt((t-i)*(t-i)+(n-o)*(n-o)),i=t,o=n}return s}const ru=[1/0,1/0,-1/0,-1/0],iu=[],ou=[],su=[],au=[];function lu(e){return e[3].declutterBox}const cu=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function uu(e,t){return"start"===t?t=cu.test(e)?"right":"left":"end"===t&&(t=cu.test(e)?"left":"right"),Qc[t]}function hu(e,t,n){return n>0&&e.push("\n",""),e.push(t,""),e}const du=class{constructor(e,t,n,r){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,n,r){const i=e+t+n+r;if(this.labels_[i])return this.labels_[i];const o=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,a=this.textStates[t],l=this.pixelRatio,c=[a.scale[0]*l,a.scale[1]*l],u=Array.isArray(e),h=a.justify?Qc[a.justify]:uu(Array.isArray(e)?e[0]:e,a.textAlign||Os),d=r&&o.lineWidth?o.lineWidth:0,f=u?e:e.split("\n").reduce(hu,[]),{width:p,height:g,widths:m,heights:y,lineWidths:v}=function(e,t){const n=[],r=[],i=[];let o=0,s=0,a=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const h=t[c];if("\n"===h||c===u){o=Math.max(o,s),i.push(s),s=0,a+=l;continue}const d=t[c+1]||e.font,f=Us(d,h);n.push(f),s+=f;const p=zs(d);r.push(p),l=Math.max(l,p)}return{width:o,height:a,widths:n,heights:r,lineWidths:i}}(a,f),b=p+d,_=[],w=(b+2)*c[0],x=(g+d)*c[1],S={width:w<0?Math.floor(w):Math.ceil(w),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:_};1==c[0]&&1==c[1]||_.push("scale",c),r&&(_.push("strokeStyle",o.strokeStyle),_.push("lineWidth",d),_.push("lineCap",o.lineCap),_.push("lineJoin",o.lineJoin),_.push("miterLimit",o.miterLimit),_.push("setLineDash",[o.lineDash]),_.push("lineDashOffset",o.lineDashOffset)),n&&_.push("fillStyle",s.fillStyle),_.push("textBaseline","middle"),_.push("textAlign","center");const E=.5-h;let C=h*b+E*d;const k=[],P=[];let A,T=0,R=0,O=0,M=0;for(let e=0,t=f.length;e<t;e+=2){const t=f[e];if("\n"===t){R+=T,T=0,C=h*b+E*d,++M;continue}const i=f[e+1]||a.font;i!==A&&(r&&k.push("font",i),n&&P.push("font",i),A=i),T=Math.max(T,y[O]);const o=[t,C+E*m[O]+h*(m[O]-v[M]),.5*(d+T)+R];C+=m[O],r&&k.push("strokeText",o),n&&P.push("fillText",o),++O}return Array.prototype.push.apply(_,k),Array.prototype.push.apply(_,P),this.labels_[i]=S,S}replayTextBackground_(e,t,n,r,i,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,i,o,s,a,l,c,u,h,d,f,p,g){let m=n-(s*=h[0]),y=r-(a*=h[1]);const v=i+l>e?e-l:i,b=o+c>t?t-c:o,_=f[3]+v*h[0]+f[1],w=f[0]+b*h[1]+f[2],x=m-f[3],S=y-f[0];let E;return(p||0!==u)&&(iu[0]=x,au[0]=x,iu[1]=S,ou[1]=S,ou[0]=x+_,su[0]=ou[0],su[1]=S+w,au[1]=su[1]),0!==u?(E=Fn([1,0,0,1,0,0],n,r,1,1,u,-n,-r),Dn(E,iu),Dn(E,ou),Dn(E,su),Dn(E,au),Xn(Math.min(iu[0],ou[0],su[0],au[0]),Math.min(iu[1],ou[1],su[1],au[1]),Math.max(iu[0],ou[0],su[0],au[0]),Math.max(iu[1],ou[1],su[1],au[1]),ru)):Xn(Math.min(x,x+_),Math.min(S,S+w),Math.max(x,x+_),Math.max(S,S+w),ru),d&&(m=Math.round(m),y=Math.round(y)),{drawImageX:m,drawImageY:y,drawImageW:v,drawImageH:b,originX:l,originY:c,declutterBox:{minX:ru[0],minY:ru[1],maxX:ru[2],maxY:ru[3],value:g},canvasTransform:E,scale:h}}replayImageOrLabel_(e,t,n,r,i,o,s){const a=!(!o&&!s),l=r.declutterBox,c=e.canvas,u=s?s[2]*r.scale[0]/2:0;return l.minX-u<=c.width/t&&l.maxX+u>=0&&l.minY-u<=c.height/t&&l.maxY+u>=0&&(a&&this.replayTextBackground_(e,iu,ou,su,au,o,s),function(e,t,n,r,i,o,s,a,l,c,u){e.save(),1!==n&&(e.globalAlpha*=n),t&&e.transform.apply(e,t),r.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),function(e,t){const n=e.contextInstructions;for(let e=0,r=n.length;e<r;e+=2)Array.isArray(n[e+1])?t[n[e]].apply(t,n[e+1]):t[n[e]]=n[e+1]}(r,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(r,i,o,s,a,0,0,s,a)):e.drawImage(r,i,o,s,a,l,c,s*u[0],a*u[1]),e.restore()}(e,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){if(this.alignFill_){const t=Dn(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,n,r){const i=this.textStates[t],o=this.createLabel(e,t,r,n),s=this.strokeStates[n],a=this.pixelRatio,l=uu(Array.isArray(e)?e[0]:e,i.textAlign||Os),c=Qc[i.textBaseline||Ms],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*i.scale[0])+2*(.5-l)*u,anchorY:c*o.height/a+2*(.5-c)*u}}execute_(e,t,n,r,i,o,s,a){let l;var c,u;this.pixelCoordinates_&&Gt(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ho(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=n,(c=this.renderedTransform_)[0]=u[0],c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5]);let h=0;const d=r.length;let f,p,g,m,y,v,b,_,w,x,S,E,C=0,k=0,P=0,A=null,T=null;const R=this.coordinateCache_,O=this.viewRotation_,M=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,I={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},D=this.instructions!=r||this.overlaps?0:200;let F,L,N,j;for(;h<d;){const n=r[h];switch(n[0]){case qc.BEGIN_GEOMETRY:F=n[1],j=n[3],F.getGeometry()?void 0===s||fr(s,j.getExtent())?++h:h=n[2]+1:h=n[2];break;case qc.BEGIN_PATH:k>D&&(this.fill_(e),k=0),P>D&&(e.stroke(),P=0),k||P||(e.beginPath(),m=NaN,y=NaN),++h;break;case qc.CIRCLE:C=n[1];const r=l[C],c=l[C+1],u=l[C+2]-r,d=l[C+3]-c,z=Math.sqrt(u*u+d*d);e.moveTo(r+z,c),e.arc(r,c,z,0,2*Math.PI,!0),++h;break;case qc.CLOSE_PATH:e.closePath(),++h;break;case qc.CUSTOM:C=n[1],f=n[2];const B=n[3],U=n[4],V=6==n.length?n[5]:void 0;I.geometry=B,I.feature=F,h in R||(R[h]=[]);const W=R[h];V?V(l,C,f,2,W):(W[0]=l[C],W[1]=l[C+1],W.length=2),U(W,I),++h;break;case qc.DRAW_IMAGE:C=n[1],f=n[2],_=n[3],p=n[4],g=n[5];let $=n[6];const H=n[7],q=n[8],G=n[9],X=n[10];let Y=n[11];const K=n[12];let Z=n[13];const Q=n[14],J=n[15];if(!_&&n.length>=20){w=n[19],x=n[20],S=n[21],E=n[22];const e=this.drawLabelWithPointPlacement_(w,x,S,E);_=e.label,n[3]=_;const t=n[23];p=(e.anchorX-t)*this.pixelRatio,n[4]=p;const r=n[24];g=(e.anchorY-r)*this.pixelRatio,n[5]=g,$=_.height,n[6]=$,Z=_.width,n[13]=Z}let ee,te,ne,re;n.length>25&&(ee=n[25]),n.length>17?(te=n[16],ne=n[17],re=n[18]):(te=Is,ne=!1,re=!1),X&&M?Y+=O:X||M||(Y-=O);let ie=0;for(;C<f;C+=2){if(ee&&ee[ie++]<Z/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(_.width,_.height,l[C],l[C+1],Z,$,p,g,q,G,Y,K,i,te,ne||re,F),r=[e,t,_,n,H,ne?A:null,re?T:null];if(a){if("none"===Q)continue;if("obstacle"===Q){a.insert(n.declutterBox);continue}{let e,t;if(J){const n=f-C;if(!J[n]){J[n]=r;continue}if(e=J[n],delete J[n],t=lu(e),a.collides(t))continue}if(a.collides(n.declutterBox))continue;e&&(a.insert(t),this.replayImageOrLabel_.apply(this,e)),a.insert(n.declutterBox)}}this.replayImageOrLabel_.apply(this,r)}++h;break;case qc.DRAW_CHARS:const oe=n[1],se=n[2],ae=n[3],le=n[4];E=n[5];const ce=n[6],ue=n[7],he=n[8];S=n[9];const de=n[10];w=n[11],x=n[12];const fe=[n[13],n[13]],pe=this.textStates[x],ge=pe.font,me=[pe.scale[0]*ue,pe.scale[1]*ue];let ye;ge in this.widths_?ye=this.widths_[ge]:(ye={},this.widths_[ge]=ye);const ve=nu(l,oe,se,2),be=Math.abs(me[0])*Vs(ge,w,ye);if(le||be<=ve){const n=tu(l,oe,se,2,w,(ve-be)*uu(w,this.textStates[x].textAlign),ce,Math.abs(me[0]),Vs,ge,ye,M?0:this.viewRotation_);e:if(n){const r=[];let i,o,s,l,c;if(S)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,x,"",S),p=c[2]+(me[0]<0?-de:de),g=ae*l.height+2*(.5-ae)*de*me[1]/me[0]-he;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,p,g,0,0,c[3],fe,!1,Is,!1,F);if(a&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}if(E)for(i=0,o=n.length;i<o;++i){c=n[i],s=c[4],l=this.createLabel(s,x,E,""),p=c[2],g=ae*l.height-he;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,c[0],c[1],l.width,l.height,p,g,0,0,c[3],fe,!1,Is,!1,F);if(a&&a.collides(o.declutterBox))break e;r.push([e,t,l,o,1,null,null])}a&&a.load(r.map(lu));for(let e=0,t=r.length;e<t;++e)this.replayImageOrLabel_.apply(this,r[e])}}++h;break;case qc.END_GEOMETRY:if(void 0!==o){F=n[1];const e=o(F,j);if(e)return e}++h;break;case qc.FILL:D?k++:this.fill_(e),++h;break;case qc.MOVE_TO_LINE_TO:for(C=n[1],f=n[2],L=l[C],N=l[C+1],v=L+.5|0,b=N+.5|0,v===m&&b===y||(e.moveTo(L,N),m=v,y=b),C+=2;C<f;C+=2)L=l[C],N=l[C+1],v=L+.5|0,b=N+.5|0,C!=f-2&&v===m&&b===y||(e.lineTo(L,N),m=v,y=b);++h;break;case qc.SET_FILL_STYLE:A=n,this.alignFill_=n[2],k&&(this.fill_(e),k=0,P&&(e.stroke(),P=0)),e.fillStyle=n[1],++h;break;case qc.SET_STROKE_STYLE:T=n,P&&(e.stroke(),P=0),this.setStrokeStyle_(e,n),++h;break;case qc.STROKE:D?P++:e.stroke(),++h;break;default:++h}}k&&this.fill_(e),P&&e.stroke()}execute(e,t,n,r,i,o){this.viewRotation_=r,this.execute_(e,t,n,this.instructions,i,void 0,void 0,o)}executeHitDetection(e,t,n,r,i){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,r,i)}},fu=["Polygon","Circle","LineString","Image","Text","Default"],pu={},gu=class{constructor(e,t,n,r,i,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}clip(e,t){const n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()}createExecutors_(e){for(const t in e){let n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);const r=e[t];for(const e in r){const t=r[e];n[e]=new du(this.resolution_,this.pixelRatio_,this.overlaps_,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const n=this.executorsByZIndex_[t];for(let t=0,r=e.length;t<r;++t)if(e[t]in n)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,i,o){const s=2*(r=Math.round(r))+1,a=Fn(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=ws(s,s,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;let u;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(u=[1/0,1/0,-1/0,-1/0],er(u,e),Un(u,t*(this.renderBuffer_+r),u));const h=function(e){if(void 0!==pu[e])return pu[e];const t=2*e+1,n=e*e,r=new Array(n+1);for(let i=0;i<=e;++i)for(let o=0;o<=e;++o){const s=i*i+o*o;if(s>n)break;let a=r[s];a||(a=[],r[s]=a),a.push(4*((e+i)*t+(e+o))+3),i>0&&a.push(4*((e-i)*t+(e+o))+3),o>0&&(a.push(4*((e+i)*t+(e-o))+3),i>0&&a.push(4*((e-i)*t+(e-o))+3))}const i=[];for(let e=0,t=r.length;e<t;++e)r[e]&&i.push(...r[e]);return pu[e]=i,i}(r);let d;function f(e,t){const n=c.getImageData(0,0,s,s).data;for(let a=0,l=h.length;a<l;a++)if(n[h[a]]>0){if(!o||"Image"!==d&&"Text"!==d||o.includes(e)){const n=(h[a]-3)/4,o=r-n%s,l=r-(n/s|0),c=i(e,t,o*o+l*l);if(c)return c}c.clearRect(0,0,s,s);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);let g,m,y,v,b;for(p.sort(Wt),g=p.length-1;g>=0;--g){const e=p[g].toString();for(y=this.executorsByZIndex_[e],m=fu.length-1;m>=0;--m)if(d=fu[m],v=y[d],void 0!==v&&(b=v.executeHitDetection(c,a,n,f,u),b))return b}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],i=t[2],o=t[3],s=[n,r,n,o,i,o,i,r];return ho(s,0,8,2,e,s),s}isEmpty(){return Jt(this.executorsByZIndex_)}execute(e,t,n,r,i,o,s){const a=Object.keys(this.executorsByZIndex_).map(Number);let l,c,u,h,d,f;for(a.sort(Wt),this.maxExtent_&&(e.save(),this.clip(e,n)),o=o||fu,s&&a.reverse(),l=0,c=a.length;l<c;++l){const c=a[l].toString();for(d=this.executorsByZIndex_[c],u=0,h=o.length;u<h;++u)f=d[o[u]],void 0!==f&&f.execute(e,t,n,r,i,s)}this.maxExtent_&&e.restore()}},mu=class extends Gc{constructor(e,t,n,r,i,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=r,this.transformRotation_=r?Mr(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=i,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,r){if(!this.image_)return;const i=ho(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let e=0,t=i.length;e<t;e+=2){const t=i[e]-this.imageAnchorX_,n=i[e+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const e=t+this.imageAnchorX_,r=n+this.imageAnchorY_;Fn(s,e,r,1,1,l,-e,-r),o.save(),o.transform.apply(o,s),o.translate(e,r),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}drawText_(e,t,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const i=ho(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=r){const e=i[t]+this.textOffsetX_,n=i[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,n),this.textFillState_&&o.fillText(this.text_,e,n))}}moveToLineTo_(e,t,n,r,i){const o=this.context_,s=ho(e,t,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;i&&(a-=2);for(let e=2;e<a;e+=2)o.lineTo(s[e],s[e+1]);return i&&o.closePath(),n}drawRings_(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t=this.moveToLineTo_(e,t,n[i],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=function(e,t,n){const r=e.getFlatCoordinates();if(!r)return null;const i=e.getStride();return ho(r,0,r.length,i,t,n)}(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],r=t[3]-t[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){const n=t.getGeometryFunction()(e);n&&(this.setStyle(t),this.drawGeometry(n))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let e=0,n=t.length;e<n;++e)this.drawGeometry(t[e])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),""!==this.text_&&this.drawText_(t,0,t.length,n)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(fr(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getFlatCoordinates();let r=0;const i=e.getEnds(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e)r=this.moveToLineTo_(n,r,i[e],o,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),fr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,n=e.getOrientedFlatCoordinates();let r=0;const i=e.getEndss(),o=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e){const t=i[e];r=this.drawRings_(n,r,t,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),Gt(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,n=this.contextTextState_,r=e.textAlign?e.textAlign:Os;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=r&&(n.textAlign=r,t.textAlign=r),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:Sl(t||ks)}}else this.fillState_=null;if(t){const e=t.getColor(),n=t.getLineCap(),r=t.getLineDash(),i=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=r||As;this.strokeState_={lineCap:void 0!==n?n:Ps,lineDash:1===this.pixelRatio_?l:l.map((e=>e*this.pixelRatio_)),lineDashOffset:(i||0)*this.pixelRatio_,lineJoin:void 0!==o?o:Ts,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:Sl(e||Rs)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize()))return void(this.image_=null);const n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),i=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/n,o[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n}setTextStyle(e){if(e){const t=e.getFill();if(t){const e=t.getColor();this.textFillState_={fillStyle:Sl(e||ks)}}else this.textFillState_=null;const n=e.getStroke();if(n){const e=n.getColor(),t=n.getLineCap(),r=n.getLineDash(),i=n.getLineDashOffset(),o=n.getLineJoin(),s=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:Ps,lineDash:r||As,lineDashOffset:i||0,lineJoin:void 0!==o?o:Ts,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:Sl(e||Rs)}}else this.textStrokeState_=null;const r=e.getFont(),i=e.getOffsetX(),o=e.getOffsetY(),s=e.getRotateWithView(),a=e.getRotation(),l=e.getScaleArray(),c=e.getText(),u=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:void 0!==r?r:Cs,textAlign:void 0!==u?u:Os,textBaseline:void 0!==h?h:Ms},this.text_=void 0!==c?Array.isArray(c)?c.reduce(((e,t,n)=>e+(n%2?" ":t)),""):c:"",this.textOffsetX_=void 0!==i?this.pixelRatio_*i:0,this.textOffsetY_=void 0!==o?this.pixelRatio_*o:0,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}},yu=.5,vu={Point:function(e,t,n,r,i){const o=n.getImage(),s=n.getText();let a;if(o){if(2!=o.getImageState())return;let l=e;if(i){const c=o.getDeclutterMode();if("none"!==c)if(l=i,"obstacle"===c){const i=e.getBuilder(n.getZIndex(),"Image");i.setImageStyle(o,a),i.drawPoint(t,r)}else s&&s.getText()&&(a={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawPoint(t,r)}if(s&&s.getText()){let o=e;i&&(o=i);const l=o.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,r)}},LineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const i=e.getBuilder(n.getZIndex(),"LineString");i.setFillStrokeStyle(null,o),i.drawLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}},Polygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const i=e.getBuilder(n.getZIndex(),"Polygon");i.setFillStrokeStyle(o,s),i.drawPolygon(t,r)}const a=n.getText();if(a&&a.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r)}},MultiPoint:function(e,t,n,r,i){const o=n.getImage(),s=n.getText();let a;if(o){if(2!=o.getImageState())return;let l=e;if(i){const c=o.getDeclutterMode();if("none"!==c)if(l=i,"obstacle"===c){const i=e.getBuilder(n.getZIndex(),"Image");i.setImageStyle(o,a),i.drawMultiPoint(t,r)}else s&&s.getText()&&(a={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,a),c.drawMultiPoint(t,r)}if(s&&s.getText()){let o=e;i&&(o=i);const l=o.getBuilder(n.getZIndex(),"Text");l.setTextStyle(s,a),l.drawText(t,r)}},MultiLineString:function(e,t,n,r,i){const o=n.getStroke();if(o){const i=e.getBuilder(n.getZIndex(),"LineString");i.setFillStrokeStyle(null,o),i.drawMultiLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}},MultiPolygon:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(s||o){const i=e.getBuilder(n.getZIndex(),"Polygon");i.setFillStrokeStyle(o,s),i.drawMultiPolygon(t,r)}const a=n.getText();if(a&&a.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r)}},GeometryCollection:function(e,t,n,r,i){const o=t.getGeometriesArray();let s,a;for(s=0,a=o.length;s<a;++s)(0,vu[o[s].getType()])(e,o[s],n,r,i)},Circle:function(e,t,n,r,i){const o=n.getFill(),s=n.getStroke();if(o||s){const i=e.getBuilder(n.getZIndex(),"Circle");i.setFillStrokeStyle(o,s),i.drawCircle(t,r)}const a=n.getText();if(a&&a.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,r)}}};function bu(e,t){return parseInt(mn(e),10)-parseInt(mn(t),10)}function _u(e,t){return.5*e/t}function wu(e,t,n,r,i,o,s){let a=!1;const l=n.getImage();if(l){const e=l.getImageState();2==e||3==e?l.unlistenImageChange(i):(0==e&&l.load(),l.listenImageChange(i),a=!0)}return function(e,t,n,r,i,o){const s=n.getGeometryFunction()(t);if(!s)return;const a=s.simplifyTransformed(r,i);n.getRenderer()?xu(e,a,n,t):(0,vu[a.getType()])(e,a,n,t,o)}(e,t,n,r,o,s),a}function xu(e,t,n,r){if("GeometryCollection"!=t.getType())e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer());else{const i=t.getGeometries();for(let t=0,o=i.length;t<o;++t)xu(e,i[t],n,r)}}const Su=class extends tl{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,n){const r=t.extent,i=t.viewState,o=i.center,s=i.resolution,a=i.projection,l=i.rotation,c=a.getExtent(),u=this.getLayer().getSource(),h=t.pixelRatio,d=t.viewHints,f=!(d[0]||d[1]),p=this.compositionContext_,g=Math.round(t.size[0]*h),m=Math.round(t.size[1]*h),y=u.getWrapX()&&a.canWrapX(),v=y?dr(c):null,b=y?Math.ceil((r[2]-c[2])/v)+1:1;let _=y?Math.floor((r[0]-c[0])/v):0;do{const t=this.getRenderTransform(o,s,l,h,g,m,_*v);e.execute(p,1,t,l,f,void 0,n)}while(++_<b)}setupCompositionContext_(){if(1!==this.opacity_){const e=ws(this.context.canvas.width,this.context.canvas.height,Ja);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,xs(this.compositionContext_),Ja.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const n=e.pixelRatio,r=e.layerStatesArray[e.layerIndex];!function(e,t,n){!function(e,t,n,r,i,o,s){e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s}(e,t,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),Ln(this.inversePixelTransform,this.pixelTransform);const i=jn(this.pixelTransform);this.useContainer(t,i,this.getBackground(e));const o=this.context,s=o.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;let c=a&&!a.isEmpty()||l&&!l.isEmpty();if(!c&&!this.getLayer().hasListener(ni)&&!this.getLayer().hasListener(ri))return null;const u=Math.round(e.size[0]*n),h=Math.round(e.size[1]*n);s.width!=u||s.height!=h?(s.width=u,s.height=h,s.style.transform!==i&&(s.style.transform=i)):this.containerReused||o.clearRect(0,0,u,h),this.preRender(o,e);const d=e.viewState;d.projection;this.opacity_=r.opacity,this.setupCompositionContext_();let f=!1;if(c&&r.extent&&this.clipping){const t=Ki(r.extent);c=fr(t,e.extent),f=c&&!Hn(t,e.extent),f&&this.clipUnrotated(this.compositionContext_,e,t)}return c&&this.renderWorlds(a,e),f&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise((t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=[this.context.canvas.width,this.context.canvas.height];Dn(this.pixelTransform,e);const t=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,i=this.renderedProjection_,o=this.wrappedRenderedExtent_,s=this.getLayer(),a=[],l=e[0]*yu,c=e[1]*yu;a.push(this.getRenderTransform(t,n,r,yu,l,c,0).slice());const u=s.getSource(),h=i.getExtent();if(u.getWrapX()&&i.canWrapX()&&!Hn(h,o)){let e=o[0];const i=dr(h);let s,u=0;for(;e<h[0];)--u,s=i*u,a.push(this.getRenderTransform(t,n,r,yu,l,c,s).slice()),e+=i;for(u=0,e=o[2];e>h[2];)++u,s=i*u,a.push(this.getRenderTransform(t,n,r,yu,l,c,s).slice()),e-=i}this.hitDetectionImageData_=function(e,t,n,r,i,o,s){const a=ws(e[0]*yu,e[1]*yu);a.imageSmoothingEnabled=!1;const l=a.canvas,c=new mu(a,yu,i,null,s),u=n.length,h=Math.floor(16777215/u),d={};for(let e=1;e<=u;++e){const t=n[e-1],s=t.getStyleFunction()||r;if(!s)continue;let a=s(t,o);if(!a)continue;Array.isArray(a)||(a=[a]);const l=(e*h).toString(16).padStart(7,"#00000");for(let e=0,n=a.length;e<n;++e){const n=a[e],r=n.getGeometryFunction()(t);if(!r||!fr(i,r.getExtent()))continue;const o=n.clone(),s=o.getFill();s&&s.setColor(l);const c=o.getStroke();c&&(c.setColor(l),c.setLineDash(null)),o.setText(void 0);const u=n.getImage();if(u){const e=u.getImageSize();if(!e)continue;const t=ws(e[0],e[1],void 0,{alpha:!1}),n=t.canvas;t.fillStyle=l,t.fillRect(0,0,n.width,n.height),o.setImage(new Ul({img:n,anchor:u.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:u.getOrigin(),opacity:1,size:u.getSize(),scale:u.getScale(),rotation:u.getRotation(),rotateWithView:u.getRotateWithView()}))}const h=o.getZIndex()||0;let f=d[h];f||(f={},d[h]=f,f.Polygon=[],f.Circle=[],f.LineString=[],f.Point=[]);const p=r.getType();if("GeometryCollection"===p){const e=r.getGeometriesArrayRecursive();for(let t=0,n=e.length;t<n;++t){const n=e[t];f[n.getType().replace("Multi","")].push(n,o)}}else f[p.replace("Multi","")].push(r,o)}}const f=Object.keys(d).map(Number).sort(Wt);for(let e=0,n=f.length;e<n;++e){const n=d[f[e]];for(const e in n){const r=n[e];for(let e=0,n=r.length;e<n;e+=2){c.setStyle(r[e+1]);for(let n=0,i=t.length;n<i;++n)c.setTransform(t[n]),c.drawGeometry(r[e])}}}return a.getImageData(0,0,l.width,l.height)}(e,a,this.renderedFeatures_,s.getStyleFunction(),o,n,r)}t(function(e,t,n){const r=[];if(n){const i=Math.floor(Math.round(e[0])*yu),o=Math.floor(Math.round(e[1])*yu),s=4*(kr(i,0,n.width-1)+kr(o,0,n.height-1)*n.width),a=n.data[s],l=n.data[s+1],c=n.data[s+2]+256*(l+256*a),u=Math.floor(16777215/t.length);c&&c%u==0&&r.push(t[c/u-1])}return r}(e,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(e,t,n,r,i){if(!this.replayGroup_)return;const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},c=function(e,t,n){const o=mn(e),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,i.splice(i.lastIndexOf(s),1),r(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return l[o]=!0,r(e,a,t);i.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:r})}};let u;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((r=>u=r.forEachFeatureAtCoordinate(e,o,s,n,c,r===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map((e=>e.value)):null))),u}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;const r=e.viewHints[0],i=e.viewHints[1],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!s&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const a=e.extent,l=e.viewState,c=l.projection,u=l.resolution,h=e.pixelRatio,d=t.getRevision(),f=t.getRenderBuffer();let p=t.getRenderOrder();void 0===p&&(p=bu);const g=l.center.slice(),m=Un(a,f*u),y=m.slice(),v=[m.slice()],b=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!Hn(b,e.extent)){const e=dr(b),t=Math.max(dr(m)/2,e);m[0]=b[0]-t,m[2]=b[2]+t,Pi(g,c);const n=gr(v[0],c);n[0]<b[0]&&n[2]<b[2]?v.push([n[0]+e,n[1],n[2]+e,n[3]]):n[0]>b[0]&&n[2]>b[2]&&v.push([n[0]-e,n[1],n[2]-e,n[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==p&&Hn(this.wrappedRenderedExtent_,m))return Gt(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const _=new eu(_u(u,h),m,u,h);let w;this.getLayer().getDeclutter()&&(w=new eu(_u(u,h),m,u,h));const x=qi();let S;if(x){for(let e=0,t=v.length;e<t;++e){const t=Yi(v[e]);n.loadFeatures(t,Zi(u),x)}S=Vi(x,c)}else for(let e=0,t=v.length;e<t;++e)n.loadFeatures(v[e],u,c);const E=function(e,t){const n=_u(e,t);return n*n}(u,h);let C=!0;const k=e=>{let n;const r=e.getStyleFunction()||t.getStyleFunction();if(r&&(n=r(e,u)),n){const t=this.renderFeature(e,E,n,_,S,w);C=C&&!t}},P=Yi(m),A=n.getFeaturesInExtent(P);p&&A.sort(p);for(let e=0,t=A.length;e<t;++e)k(A[e]);this.renderedFeatures_=A,this.ready=C;const T=_.finish(),R=new gu(m,u,h,n.getOverlaps(),T,t.getRenderBuffer());return w&&(this.declutterExecutorGroup=new gu(m,u,h,n.getOverlaps(),w.finish(),t.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=p,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=R,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,n,r,i,o){if(!n)return!1;let s=!1;if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)s=wu(r,e,n[a],t,this.boundHandleStyleImageChange_,i,o)||s;else s=wu(r,e,n,t,this.boundHandleStyleImageChange_,i,o);return s}},Eu=class extends Bc{constructor(e){super(e)}createRenderer(){return new Su(this)}},Cu=class{constructor(e){this.rbush_=new _l(e),this.items_={}}insert(e,t){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[mn(t)]=n}load(e,t){const n=new Array(t.length);for(let r=0,i=t.length;r<i;r++){const i=e[r],o=t[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:o};n[r]=s,this.items_[mn(o)]=s}this.rbush_.load(n)}remove(e){const t=mn(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)}update(e,t){const n=this.items_[mn(t)];Qn([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map((function(e){return e.value}))}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let r=0,i=e.length;r<i;r++)if(n=t(e[r]),n)return n;return n}isEmpty(){return Jt(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Xn(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}};function ku(e,t,n,r,i,o,s){let a,l;const c=(n-t)/r;if(1===c)a=t;else if(2===c)a=t,l=i;else if(0!==c){let o=e[t],s=e[t+1],c=0;const u=[0];for(let i=t+r;i<n;i+=r){const t=e[i],n=e[i+1];c+=Math.sqrt((t-o)*(t-o)+(n-s)*(n-s)),u.push(c),o=t,s=n}const h=i*c,d=function(e,t,n){let r,i;n=n||Wt;let o=0,s=e.length,a=!1;for(;o<s;)r=o+(s-o>>1),i=+n(e[r],t),i<0?o=r+1:(s=r,a=!i);return a?o:~o}(u,h);d<0?(l=(h-u[-d-2])/(u[-d-1]-u[-d-2]),a=t+(-d-2)*r):a=t+d*r}s=s>1?s:2,o=o||new Array(s);for(let t=0;t<s;++t)o[t]=void 0===a?NaN:void 0===l?e[a+t]:Or(e[a+t],e[a+r+t],l);return o}function Pu(e,t,n,r,i,o){if(n==t)return null;let s;if(i<e[t+r-1])return o?(s=e.slice(t,t+r),s[r-1]=i,s):null;if(e[n-1]<i)return o?(s=e.slice(n-r,n),s[r-1]=i,s):null;if(i==e[t+r-1])return e.slice(t,t+r);let a=t/r,l=n/r;for(;a<l;){const t=a+l>>1;i<e[(t+1)*r-1]?l=t:a=t+1}const c=e[a*r-1];if(i==c)return e.slice((a-1)*r,(a-1)*r+r);const u=(i-c)/(e[(a+1)*r-1]-c);s=[];for(let t=0;t<r-1;++t)s.push(Or(e[(a-1)*r+t],e[a*r+t],u));return s.push(i),s}function Au(e,t,n,r){const i=[];let o=[1/0,1/0,-1/0,-1/0];for(let s=0,a=n.length;s<a;++s){const a=n[s];o=Zn(e,t,a[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=a[a.length-1]}return i}const Tu=[1,0,0,1,0,0];class Ru{constructor(e,t,n,r,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?Kn(this.flatCoordinates_):Zn(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=sr(this.getExtent());this.flatInteriorPoints_=Ho(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=function(e,t){const n=[];let r,i=0,o=0;for(let s=0,a=t.length;s<a;++s){const a=t[s],l=Zo(e,i,a,2);if(void 0===r&&(r=l),l===r)n.push(t.slice(o,s+1));else{if(0===n.length)continue;n[n.length-1].push(t[o])}o=s+1,i=a}return n}(this.flatCoordinates_,this.ends_),t=Au(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=qo(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=ku(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const n=this.ends_;for(let r=0,i=n.length;r<i;++r){const i=n[r],o=ku(e,t,i,2,.5);qt(this.flatMidpoints_,o),t=i}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){const t=(e=Ni(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=lr(n)/lr(t);Fn(Tu,n[0],n[3],e,-e,0,0,0),ho(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Tu,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Ru(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Zt(((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const n=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":n.length=Ao(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),r=[n.length];break;case"MultiLineString":r=[],n.length=To(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,r);break;case"Polygon":r=[],n.length=Mo(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,r)}return r&&(this.simplifiedGeometry_=new Ru(this.type_,n,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_})),this}}Ru.prototype.getFlatCoordinates=Ru.prototype.getOrientedFlatCoordinates;const Ou=Ru,Mu="addfeature",Iu="removefeature";function Du(e,t){return[[-1/0,-1/0,1/0,1/0]]}function Fu(e,t){return function(n,r,i,o,s){const a=this;!function(e,t,n,r,i,o,s){const a=new XMLHttpRequest;a.open("GET","function"==typeof e?e(n,r,i):e,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){const e=t.getType();let r;"json"==e?r=JSON.parse(a.responseText):"text"==e?r=a.responseText:"xml"==e?(r=a.responseXML,r||(r=(new DOMParser).parseFromString(a.responseText,"application/xml"))):"arraybuffer"==e&&(r=a.response),r?o(t.readFeatures(r,{extent:n,featureProjection:i}),t.readProjection(r)):s()}else s()},a.onerror=s,a.send()}(e,t,n,r,i,(function(e,t){a.addFeatures(e),void 0!==o&&o(e)}),s||Kt)}}class Lu extends Bt{constructor(e,t,n){super(e),this.feature=t,this.features=n}}const Nu=class extends gl{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=Kt,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(In(this.format_,"`format` must be set when `url` is set"),this.loader_=Fu(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:Du;const t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,r;this.featuresRtree_=t?new Cu:null,this.loadedExtentsRtree_=new Cu,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(n=e.features,r=n.getArray()),t||void 0!==n||(n=new Sn(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=mn(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);const n=e.getGeometry();if(n){const t=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Lu(Mu,e))}setupChangeEvents_(e,t){t instanceof Ou||(this.featureChangeKeys_[e]=[cn(t,tn,this.handleFeatureChange_,this),cn(t,Ut,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(void 0!==t.getId()){const e=String(t.getId());if(e in this.idIndex_)if(t instanceof Ou){const r=this.idIndex_[e];r instanceof Ou?Array.isArray(r)?r.push(t):this.idIndex_[e]=[r,t]:n=!1}else n=!1;else this.idIndex_[e]=t}return n&&(In(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],r=[];for(let t=0,r=e.length;t<r;t++){const r=e[t],i=mn(r);this.addToIndex_(i,r)&&n.push(r)}for(let e=0,i=n.length;e<i;e++){const i=n[e],o=mn(i);this.setupChangeEvents_(o,i);const s=i.getGeometry();if(s){const e=s.getExtent();t.push(e),r.push(i)}else this.nullGeometryFeatures_[o]=i}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Mu))for(let e=0,t=n.length;e<t;e++)this.dispatchEvent(new Lu(Mu,n[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Mu,(function(n){t||(t=!0,e.push(n.feature),t=!1)})),this.addEventListener(Iu,(function(n){t||(t=!0,e.remove(n.feature),t=!1)})),e.addEventListener(bn,(e=>{t||(t=!0,this.addFeature(e.element),t=!1)})),e.addEventListener(_n,(e=>{t||(t=!0,this.removeFeature(e.element),t=!1)})),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(hn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const e=e=>{this.removeFeatureInternal(e)};this.featuresRtree_.forEach(e);for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Lu("clear");this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){const r=n.getGeometry();if(r instanceof Ou||r.intersectsCoordinate(e))return t(n)}))}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,(function(n){const r=n.getGeometry();if(r instanceof Ou||r.intersectsExtent(e)){const e=t(n);if(e)return e}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Jt(this.nullGeometryFeatures_)||qt(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const n=function(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];gr(e,t);const r=dr(n);if(dr(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}(e,t);return[].concat(...n.map((e=>this.featuresRtree_.getInExtent(e))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],r=e[1];let i=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||Xt,this.featuresRtree_.forEachInExtent(a,(function(e){if(t(e)){const t=e.getGeometry(),l=s;if(s=t instanceof Ou?0:t.closestPointXY(n,r,o,s),s<l){i=e;const t=Math.sqrt(s);a[0]=n-t,a[1]=r-t,a[2]=n+t,a[3]=r+t}}})),i}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,n=mn(t),r=t.getGeometry();if(r){const e=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);const i=t.getId();if(void 0!==i){const e=i.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Lu("changefeature",t))}hasFeature(e){const t=e.getId();return void 0!==t?t in this.idIndex_:mn(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Jt(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){const r=this.loadedExtentsRtree_,i=this.strategy_(e,t,n);for(let e=0,o=i.length;e<o;++e){const o=i[e];r.forEachInExtent(o,(function(e){return Hn(e.extent,o)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new Lu("featuresloadstart")),this.loader_.call(this,o,t,n,(e=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lu("featuresloadend",void 0,e))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Lu("featuresloaderror"))})),r.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let n;t.forEachInExtent(e,(function(t){if(Qn(t.extent,e))return n=t,!0})),n&&t.remove(n)}removeFeature(e){if(!e)return;const t=mn(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=mn(e),n=this.featureChangeKeys_[t];if(!n)return;n.forEach(hn),delete this.featureChangeKeys_[t];const r=e.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new Lu(Iu,e)),e}removeFromIdIndex_(e){let t=!1;for(const n in this.idIndex_){const r=this.idIndex_[n];if(e instanceof Ou&&Array.isArray(r)&&r.includes(e))r.splice(r.indexOf(e),1);else if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){In(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Fu(e,this.format_))}},ju={},zu=[];function Bu(e,t){if(Array.isArray(e))for(const n of e)Bu(n,t);else if("object"!=typeof e)Vu(Object.getOwnPropertyNames(t)),ju[e]=Object.assign(ju[e]||{},t);else for(const t in e)Bu(t,e[t])}function Uu(e){return ju[e]||{}}function Vu(e){zu.push(...e)}function Wu(e,t){let n;const r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i}function $u(e){return e%360*Math.PI/180}function Hu(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function qu(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Gu(e,t,n,r){return null!=t&&null!=n||(r=r||e.bbox(),null==t?t=r.width/r.height*n:null==n&&(n=r.height/r.width*t)),{width:t,height:n}}function Xu(e,t){const n=e.origin;let r=null!=e.ox?e.ox:null!=e.originX?e.originX:"center",i=null!=e.oy?e.oy:null!=e.originY?e.originY:"center";null!=n&&([r,i]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof r,s="string"==typeof i;if(o||s){const{height:e,width:n,x:a,y:l}=t.bbox();o&&(r=r.includes("left")?a:r.includes("right")?a+n:a+n/2),s&&(i=i.includes("top")?l:i.includes("bottom")?l+e:l+e/2)}return[r,i]}const Yu="http://www.w3.org/2000/svg",Ku="http://www.w3.org/2000/xmlns/",Zu="http://www.w3.org/1999/xlink",Qu={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class Ju{}const eh={},th="___SYMBOL___ROOT___";function nh(e,t=Yu){return Qu.document.createElementNS(t,e)}function rh(e,t=!1){if(e instanceof Ju)return e;if("object"==typeof e)return sh(e);if(null==e)return new eh[th];if("string"==typeof e&&"<"!==e.charAt(0))return sh(Qu.document.querySelector(e));const n=t?Qu.document.createElement("div"):nh("svg");return n.innerHTML=e,e=sh(n.firstChild),n.removeChild(n.firstChild),e}function ih(e,t){return t&&t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node?t:nh(e)}function oh(e){if(!e)return null;if(e.instance instanceof Ju)return e.instance;if("#document-fragment"===e.nodeName)return new eh.Fragment(e);let t=qu(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":eh[t]||(t="Dom"),new eh[t](e)}let sh=oh;function ah(e,t=e.name,n=!1){return eh[t]=e,n&&(eh[th]=e),Vu(Object.getOwnPropertyNames(e.prototype)),e}let lh=1e3;function ch(e){return"Svgjs"+qu(e)+lh++}function uh(e){for(let t=e.children.length-1;t>=0;t--)uh(e.children[t]);return e.id?(e.id=ch(e.nodeName),e):e}function hh(e,t){let n,r;for(r=(e=Array.isArray(e)?e:[e]).length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function dh(e){return function(...t){const n=t[t.length-1];return!n||n.constructor!==Object||n instanceof Array?e.apply(this,t):e.apply(this,t.slice(0,-1)).attr(n)}}Bu("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const e=this.position();return this.parent().add(this.remove(),e+1),this},backward:function(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(e){(e=rh(e)).remove();const t=this.position();return this.parent().add(e,t),this},after:function(e){(e=rh(e)).remove();const t=this.position();return this.parent().add(e,t+1),this},insertBefore:function(e){return(e=rh(e)).before(this),this},insertAfter:function(e){return(e=rh(e)).after(this),this}});const fh=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,ph=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,gh=/rgb\((\d+),(\d+),(\d+)\)/,mh=/(#[a-z_][a-z0-9\-_]*)/i,yh=/\)\s*,?\s*/,vh=/\s/g,bh=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,_h=/^rgb\(/,wh=/^(\s+)?$/,xh=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sh=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Eh=/[\s,]+/,Ch=/[MLHVCSQTAZ]/i;function kh(e){const t=Math.round(e),n=Math.max(0,Math.min(255,t)).toString(16);return 1===n.length?"0"+n:n}function Ph(e,t){for(let n=t.length;n--;)if(null==e[t[n]])return!1;return!0}function Ah(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}Bu("Dom",{classes:function(){const e=this.attr("class");return null==e?[]:e.trim().split(Eh)},hasClass:function(e){return-1!==this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!==e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}}),Bu("Dom",{css:function(e,t){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(e){return!!e.length})).forEach((function(e){const t=e.split(/\s*:\s*/);n[t[0]]=t[1]})),n;if(arguments.length<2){if(Array.isArray(e)){for(const t of e){const e=Hu(t);n[t]=this.node.style[e]}return n}if("string"==typeof e)return this.node.style[Hu(e)];if("object"==typeof e)for(const t in e)this.node.style[Hu(t)]=null==e[t]||wh.test(e[t])?"":e[t]}return 2===arguments.length&&(this.node.style[Hu(e)]=null==t||wh.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),Bu("Dom",{data:function(e,t,n){if(null==e)return this.data(Wu(function(e,t){let n;const r=e.length,i=[];for(n=0;n<r;n++)t(e[n])&&i.push(e[n]);return i}(this.node.attributes,(e=>0===e.nodeName.indexOf("data-"))),(e=>e.nodeName.slice(5))));if(e instanceof Array){const t={};for(const n of e)t[n]=this.data(n);return t}if("object"==typeof e)for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(t){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),Bu("Dom",{remember:function(e,t){if("object"==typeof arguments[0])for(const t in e)this.remember(t,e[t]);else{if(1===arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory=this._memory||{}}});class Th{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Th||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b}static random(e="vibrant",t,n){const{random:r,round:i,sin:o,PI:s}=Math;if("vibrant"===e){const e=24*r()+57,t=38*r()+45,n=360*r();return new Th(e,t,n,"lch")}if("sine"===e){const e=i(80*o(2*s*(t=null==t?r():t)/.5+.01)+150),n=i(50*o(2*s*t/.5+4.6)+200),a=i(100*o(2*s*t/.5+2.3)+150);return new Th(e,n,a)}if("pastel"===e){const e=8*r()+86,t=17*r()+9,n=360*r();return new Th(e,t,n,"lch")}if("dark"===e){const e=10+10*r(),t=50*r()+86,n=360*r();return new Th(e,t,n,"lch")}if("rgb"===e){const e=255*r(),t=255*r(),n=255*r();return new Th(e,t,n)}if("lab"===e){const e=100*r(),t=256*r()-128,n=256*r()-128;return new Th(e,t,n,"lab")}if("grey"===e){const e=255*r();return new Th(e,e,e)}throw new Error("Unsupported random color mode")}static test(e){return"string"==typeof e&&(bh.test(e)||_h.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,i,o]=[e,t,n].map((e=>e/255)),s=Math.min(1-r,1-i,1-o);return 1===s?new Th(0,0,0,1,"cmyk"):new Th((1-r-s)/(1-s),(1-i-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,i,o]=[e,t,n].map((e=>e/255)),s=Math.max(r,i,o),a=Math.min(r,i,o),l=(s+a)/2,c=s===a,u=s-a;return new Th(360*(c?0:s===r?((i-o)/u+(i<o?6:0))/6:s===i?((o-r)/u+2)/6:s===o?((r-i)/u+4)/6:0),100*(c?0:l>.5?u/(2-s-a):u/(s+a)),100*l,"hsl")}init(e=0,t=0,n=0,r=0,i="rgb"){if(e=e||0,this.space)for(const e in this.space)delete this[this.space[e]];if("number"==typeof e)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:e,_b:t,_c:n,_d:r,space:i});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const n=function(e,t){const n=Ph(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:Ph(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:Ph(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:Ph(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:Ph(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:Ph(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}(e,t);Object.assign(this,n)}else if("string"==typeof e)if(_h.test(e)){const t=e.replace(vh,""),[n,r,i]=gh.exec(t).slice(1,4).map((e=>parseInt(e)));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!bh.test(e))throw Error("Unsupported string format, can't construct Color");{const t=e=>parseInt(e,16),[,n,r,i]=ph.exec(function(e){return 4===e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}(e)).map(t);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}const{_a:o,_b:s,_c:a,_d:l}=this,c="rgb"===this.space?{r:o,g:s,b:a}:"xyz"===this.space?{x:o,y:s,z:a}:"hsl"===this.space?{h:o,s,l:a}:"lab"===this.space?{l:o,a:s,b:a}:"lch"===this.space?{l:o,c:s,h:a}:"cmyk"===this.space?{c:o,m:s,y:a,k:l}:{};Object.assign(this,c)}lab(){const{x:e,y:t,z:n}=this.xyz();return new Th(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),r=Math.sqrt(t**2+n**2);let i=180*Math.atan2(n,t)/Math.PI;return i<0&&(i*=-1,i=360-i),new Th(e,r,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(e=this.space)||"xyz"===e||"lch"===e){let{x:e,y:t,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:o}=this;if("lch"===this.space){const{c:e,h:t}=this,n=Math.PI/180;i=e*Math.cos(n*t),o=e*Math.sin(n*t)}const s=(r+16)/116,a=i/500+s,l=s-o/200,c=16/116,u=.008856,h=7.787;e=.95047*(a**3>u?a**3:(a-c)/h),t=1*(s**3>u?s**3:(s-c)/h),n=1.08883*(l**3>u?l**3:(l-c)/h)}const r=3.2406*e+-1.5372*t+-.4986*n,i=-.9689*e+1.8758*t+.0415*n,o=.0557*e+-.204*t+1.057*n,s=Math.pow,a=.0031308,l=r>a?1.055*s(r,1/2.4)-.055:12.92*r,c=i>a?1.055*s(i,1/2.4)-.055:12.92*i,u=o>a?1.055*s(o,1/2.4)-.055:12.92*o;return new Th(255*l,255*c,255*u)}if("hsl"===this.space){let{h:e,s:t,l:n}=this;if(e/=360,t/=100,n/=100,0===t)return n*=255,new Th(n,n,n);const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=255*Ah(i,r,e+1/3),s=255*Ah(i,r,e),a=255*Ah(i,r,e-1/3);return new Th(o,s,a)}if("cmyk"===this.space){const{c:e,m:t,y:n,k:r}=this,i=255*(1-Math.min(1,e*(1-r)+r)),o=255*(1-Math.min(1,t*(1-r)+r)),s=255*(1-Math.min(1,n*(1-r)+r));return new Th(i,o,s)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:r,space:i}=this;return[e,t,n,r,i]}toHex(){const[e,t,n]=this._clamped().map(kh);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,i,o]=[e,t,n].map((e=>e/255)),s=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,c=(.4124*s+.3576*a+.1805*l)/.95047,u=(.2126*s+.7152*a+.0722*l)/1,h=(.0193*s+.1192*a+.9505*l)/1.08883,d=c>.008856?Math.pow(c,1/3):7.787*c+16/116,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new Th(d,f,p,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:r,min:i,round:o}=Math;return[e,t,n].map((e=>r(0,i(o(e),255))))}}class Rh{constructor(...e){this.init(...e)}clone(){return new Rh(this)}init(e,t){const n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"==typeof e?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Mh.isMatrixLike(e)||(e=new Mh(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function Oh(e,t,n){return Math.abs(t-e)<(n||1e-6)}class Mh{constructor(...e){this.init(...e)}static formatTransforms(e){const t="both"===e.flip||!0===e.flip,n=e.flip&&(t||"x"===e.flip)?-1:1,r=e.flip&&(t||"y"===e.flip)?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,s=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,a=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,l=e.shear||0,c=e.rotate||e.theta||0,u=new Rh(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),h=u.x,d=u.y,f=new Rh(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),p=f.x,g=f.y,m=new Rh(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=m.x,v=m.y,b=new Rh(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:s,scaleY:a,skewX:i,skewY:o,shear:l,theta:c,rx:b.x,ry:b.y,tx:y,ty:v,ox:h,oy:d,px:p,py:g}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f}static matrixMultiply(e,t,n){const r=e.a*t.a+e.c*t.b,i=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,s=e.b*t.c+e.d*t.d,a=e.e+e.a*t.e+e.c*t.f,l=e.f+e.b*t.e+e.d*t.f;return n.a=r,n.b=i,n.c=o,n.d=s,n.e=a,n.f=l,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const r=e||0,i=t||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}clone(){return new Mh(this)}decompose(e=0,t=0){const n=this.a,r=this.b,i=this.c,o=this.d,s=this.e,a=this.f,l=n*o-r*i,c=l>0?1:-1,u=c*Math.sqrt(n*n+r*r),h=Math.atan2(c*r,c*n),d=180/Math.PI*h,f=Math.cos(h),p=Math.sin(h),g=(n*i+r*o)/l,m=i*u/(g*n-r)||o*u/(g*r+n);return{scaleX:u,scaleY:m,shear:g,rotate:d,translateX:s-e+e*f*u+t*(g*f*u-p*m),translateY:a-t+e*p*u+t*(g*p*u+f*m),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Mh(e);return Oh(this.a,t.a)&&Oh(this.b,t.b)&&Oh(this.c,t.c)&&Oh(this.d,t.d)&&Oh(this.e,t.e)&&Oh(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Mh.fromArray([1,0,0,1,0,0]);return e=e instanceof nd?e.matrixify():"string"==typeof e?Mh.fromArray(e.split(Eh).map(parseFloat)):Array.isArray(e)?Mh.fromArray(e):"object"==typeof e&&Mh.isMatrixLike(e)?e:"object"==typeof e?(new Mh).transform(e):6===arguments.length?Mh.fromArray([].slice.call(arguments)):t,this.a=null!=e.a?e.a:t.a,this.b=null!=e.b?e.b:t.b,this.c=null!=e.c?e.c:t.c,this.d=null!=e.d?e.d:t.d,this.e=null!=e.e?e.e:t.e,this.f=null!=e.f?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,r=this.d,i=this.e,o=this.f,s=e*r-t*n;if(!s)throw new Error("Cannot invert "+this);const a=r/s,l=-t/s,c=-n/s,u=e/s,h=-(a*i+c*o),d=-(l*i+u*o);return this.a=a,this.b=l,this.c=c,this.d=u,this.e=h,this.f=d,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Mh?e:new Mh(e);return Mh.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Mh?e:new Mh(e);return Mh.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=$u(e);const r=Math.cos(e),i=Math.sin(e),{a:o,b:s,c:a,d:l,e:c,f:u}=this;return this.a=o*r-s*i,this.b=s*r+o*i,this.c=a*r-l*i,this.d=l*r+a*i,this.e=c*r-u*i+n*i-t*r+t,this.f=u*r+c*i-t*i-n*r+n,this}scale(e,t,n,r){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,r=0){3===arguments.length&&(r=n,n=t,t=e);const{a:i,b:o,c:s,d:a,e:l,f:c}=this;return this.a=i*e,this.b=o*t,this.c=s*e,this.d=a*t,this.e=l*e-n*e+n,this.f=c*t-r*t+r,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:r,b:i,c:o,d:s,e:a,f:l}=this;return this.a=r+i*e,this.c=o+s*e,this.e=a+l*e-n*e,this}skew(e,t,n,r){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,r=0){3===arguments.length&&(r=n,n=t,t=e),e=$u(e),t=$u(t);const i=Math.tan(e),o=Math.tan(t),{a:s,b:a,c:l,d:c,e:u,f:h}=this;return this.a=s+a*i,this.b=a+s*o,this.c=l+c*i,this.d=c+l*o,this.e=u+h*i-r*i,this.f=h+u*o-n*o,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Mh.isMatrixLike(e))return new Mh(e).multiplyO(this);const t=Mh.formatTransforms(e),{x:n,y:r}=new Rh(t.ox,t.oy).transform(this),i=(new Mh).translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,r);if(isFinite(t.px)||isFinite(t.py)){const e=new Rh(n,r).transform(i),o=isFinite(t.px)?t.px-e.x:0,s=isFinite(t.py)?t.py-e.y:0;i.translateO(o,s)}return i.translateO(t.tx,t.ty),i}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Ih(){if(!Ih.nodes){const e=rh().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;Ih.nodes={svg:e,path:t}}if(!Ih.nodes.svg.node.parentNode){const e=Qu.document.body||Qu.document.documentElement;Ih.nodes.svg.addTo(e)}return Ih.nodes}function Dh(e){return!(e.width||e.height||e.x||e.y)}ah(Mh,"Matrix");class Fh{constructor(...e){this.init(...e)}addOffset(){return this.x+=Qu.window.pageXOffset,this.y+=Qu.window.pageYOffset,new Fh(this)}init(e){return e="string"==typeof e?e.split(Eh).map(parseFloat):Array.isArray(e)?e:"object"==typeof e?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Dh(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,i=Math.max(this.y+this.height,e.y+e.height)-n;return new Fh(t,n,r,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Mh||(e=new Mh(e));let t=1/0,n=-1/0,r=1/0,i=-1/0;return[new Rh(this.x,this.y),new Rh(this.x2,this.y),new Rh(this.x,this.y2),new Rh(this.x2,this.y2)].forEach((function(o){o=o.transform(e),t=Math.min(t,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.y)})),new Fh(t,r,n-t,i-r)}}function Lh(e,t,n){let r;try{if(r=t(e.node),Dh(r)&&!function(e){return e===Qu.document||(Qu.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===Qu.document}).call(Qu.document.documentElement,e)}(e.node))throw new Error("Element not in the dom")}catch(t){r=n(e)}return r}Bu({viewbox:{viewbox(e,t,n,r){return null==e?new Fh(this.attr("viewBox")):this.attr("viewBox",new Fh(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&"string"!=typeof n&&"string"!=typeof r||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=n/i.width,s=r/i.height,a=Math.min(o,s);if(null==e)return a;let l=a/e;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new Rh(n/2/o+i.x,r/2/s+i.y);const c=new Fh(i).transform(new Mh({scale:l,origin:t}));return this.viewbox(c)}}}),ah(Fh,"Box");class Nh extends Array{constructor(e=[],...t){if(super(e,...t),"number"==typeof e)return this;this.length=0,this.push(...e)}}hh([Nh],{each(e,...t){return"function"==typeof e?this.map(((t,n,r)=>e.call(t,t,n,r))):this.map((n=>n[e](...t)))},toArray(){return Array.prototype.concat.apply([],this)}});const jh=["toArray","constructor","each"];function zh(e,t){return new Nh(Wu((t||Qu.document).querySelectorAll(e),(function(e){return oh(e)})))}Nh.extend=function(e){e=e.reduce(((e,t)=>(jh.includes(t)||"_"===t[0]||(e[t]=function(...e){return this.each(t,...e)}),e)),{}),hh([Nh],e)};let Bh=0;const Uh={};function Vh(e){let t=e.getEventHolder();return t===Qu.window&&(t=Uh),t.events||(t.events={}),t.events}function Wh(e){return e.getEventTarget()}function $h(e,t,n,r,i){const o=n.bind(r||e),s=rh(e),a=Vh(s),l=Wh(s);t=Array.isArray(t)?t:t.split(Eh),n._svgjsListenerId||(n._svgjsListenerId=++Bh),t.forEach((function(e){const t=e.split(".")[0],r=e.split(".")[1]||"*";a[t]=a[t]||{},a[t][r]=a[t][r]||{},a[t][r][n._svgjsListenerId]=o,l.addEventListener(t,o,i||!1)}))}function Hh(e,t,n,r){const i=rh(e),o=Vh(i),s=Wh(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(Eh)).forEach((function(e){const t=e&&e.split(".")[0],a=e&&e.split(".")[1];let l,c;if(n)o[t]&&o[t][a||"*"]&&(s.removeEventListener(t,o[t][a||"*"][n],r||!1),delete o[t][a||"*"][n]);else if(t&&a){if(o[t]&&o[t][a]){for(c in o[t][a])Hh(s,[t,a].join("."),c);delete o[t][a]}}else if(a)for(e in o)for(l in o[e])a===l&&Hh(s,[e,a].join("."));else if(t){if(o[t]){for(l in o[t])Hh(s,[t,l].join("."));delete o[t]}}else{for(e in o)Hh(s,e);!function(e){let t=e.getEventHolder();t===Qu.window&&(t=Uh),t.events&&(t.events={})}(i)}}))}class qh extends Ju{addEventListener(){}dispatch(e,t,n){return function(e,t,n,r){const i=Wh(e);return t instanceof Qu.window.Event||(t=new Qu.window.CustomEvent(t,{detail:n,cancelable:!0,...r})),i.dispatchEvent(t),t}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const t in n)for(const r in n[t])n[t][r](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return Hh(this,e,t,n),this}on(e,t,n,r){return $h(this,e,t,n,r),this}removeEventListener(){}}function Gh(){}ah(qh,"EventTarget");const Xh=400,Yh=">",Kh=0,Zh={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Qh extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return"number"==typeof e||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Eh).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Jh{constructor(...e){this.init(...e)}convert(e){return new Jh(this.value,e)}divide(e){return e=new Jh(e),new Jh(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(fh))&&(this.value=parseFloat(t[1]),"%"===t[5]?this.value/=100:"s"===t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof Jh&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Jh(e),new Jh(this-e,this.unit||e.unit)}plus(e){return e=new Jh(e),new Jh(this+e,this.unit||e.unit)}times(e){return e=new Jh(e),new Jh(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const ed=[];class td extends qh{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=rh(e)).removeNamespace&&this.node instanceof Qu.window.SVGElement&&e.removeNamespace(),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return rh(e).put(this,t)}children(){return new Nh(Wu(this.node.children,(function(e){return oh(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=uh(n)),new this.constructor(n)}each(e,t){const n=this.children();let r,i;for(r=0,i=n.length;r<i;r++)e.apply(n[r],[r,n]),t&&n[r].each(e,t);return this}element(e,t){return this.put(new td(nh(e),t))}first(){return oh(this.node.firstChild)}get(e){return oh(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return void 0!==e||this.node.id||(this.node.id=ch(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return oh(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=oh(t.node.parentNode),!e)return t;do{if("string"==typeof e?t.matches(e):t instanceof e)return t}while(t=oh(t.node.parentNode));return t}put(e,t){return e=rh(e),this.add(e,t),e}putIn(e,t){return rh(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=rh(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,r=this.attr(t);for(const e in r)"number"==typeof r[e]&&(r[e]=Math.round(r[e]*n)/n);return this.attr(r),this}svg(e,t){return this.xml(e,t,Yu)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();let n=this;if(null!=e){if(n=oh(n.node.cloneNode(!0)),t){const t=e(n);if(n=t||n,!1===t)return""}n.each((function(){const t=e(this),n=t||this;!1===t?this.remove():t&&this!==n&&this.replace(n)}),!0)}return t?n.node.outerHTML:n.node.innerHTML}t=null!=t&&t;const r=nh("wrapper",n),i=Qu.document.createDocumentFragment();r.innerHTML=e;for(let e=r.children.length;e--;)i.appendChild(r.firstElementChild);const o=this.parent();return t?this.replace(i)&&o:this.add(i)}}hh(td,{attr:function(e,t,n){if(null==e){e={},t=this.node.attributes;for(const n of t)e[n.nodeName]=xh.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return e}if(e instanceof Array)return e.reduce(((e,t)=>(e[t]=this.attr(t),e)),{});if("object"==typeof e&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?Zh[e]:xh.test(t)?parseFloat(t):t;"number"==typeof(t=ed.reduce(((t,n)=>n(e,t,this)),t))?t=new Jh(t):Th.isColor(t)?t=new Th(t):t.constructor===Array&&(t=new Qh(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!==e&&"x"!==e||this.rebuild()}return this},find:function(e){return zh(e,this.node)},findOne:function(e){return oh(this.node.querySelector(e))}}),ah(td,"Dom");class nd extends td{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,e.hasAttribute("svgjs:data")&&this.setData(JSON.parse(e.getAttribute("svgjs:data"))||{})}center(e,t){return this.cx(e).cy(t)}cx(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new Jh(e).plus(this.x()))}dy(e=0){return this.y(new Jh(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t="string"==typeof e;t||(e=rh(e));const n=new Nh;let r=this;for(;(r=r.parent())&&r.node!==Qu.document&&"#document-fragment"!==r.nodeName&&(n.push(r),t||r.node!==e.node)&&(!t||!r.matches(e));)if(r.node===this.root().node)return null;return n}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(mh);return t?rh(t[1]):null}root(){const e=this.parent(eh[th]);return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const n=Gu(this,e,t);return this.width(new Jh(n.width)).height(new Jh(n.height))}width(e){return this.attr("width",e)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}}hh(nd,{bbox:function(){const e=Lh(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(Ih().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new Fh(e)},rbox:function(e){const t=Lh(this,(e=>e.getBoundingClientRect()),(e=>{throw new Error(`Getting rbox of element "${e.node.nodeName}" is not possible`)})),n=new Fh(t);return e?n.transform(e.screenCTM().inverseO()):n.addOffset()},inside:function(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height},point:function(e,t){return new Rh(e,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new Mh(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new Mh(t)}return new Mh(this.node.getScreenCTM())}}),ah(nd,"Element");const rd={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"===t?e:e+"-"+t}};["fill","stroke"].forEach((function(e){const t={};let n;t[e]=function(t){if(void 0===t)return this.attr(e);if("string"==typeof t||t instanceof Th||Th.isRgb(t)||t instanceof nd)this.attr(e,t);else for(n=rd[e].length-1;n>=0;n--)null!=t[rd[e][n]]&&this.attr(rd.prefix(e,rd[e][n]),t[rd[e][n]]);return this},Bu(["Element","Runner"],t)})),Bu(["Element","Runner"],{matrix:function(e,t,n,r,i,o){return null==e?new Mh(this):this.attr("transform",new Mh(e,t,n,r,i,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return-1==="xybothtrue".indexOf(e)&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}}),Bu("radius",{radius:function(e,t=e){return"radialGradient"===(this._element||this).type?this.attr("r",new Jh(e)):this.rx(e).ry(t)}}),Bu("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new Rh(this.node.getPointAtLength(e))}}),Bu(["Element","Runner"],{font:function(e,t){if("object"==typeof e){for(t in e)this.font(t,e[t]);return this}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t)}}),Bu("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(e,t){return e[t]=function(e){return null===e?this.off(t):this.on(t,e),this},e}),{})),Bu("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){const e=(this.attr("transform")||"").split(yh).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(Eh).map((function(e){return parseFloat(e)}))]})).reverse().reduce((function(e,t){return"matrix"===t[0]?e.lmultiply(Mh.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Mh);return e},toParent:function(e,t){if(this===e)return this;const n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this},toRoot:function(e){return this.toParent(this.root(),e)},transform:function(e,t){if(null==e||"string"==typeof e){const t=new Mh(this).decompose();return null==e?t:t[e]}Mh.isMatrixLike(e)||(e={...e,origin:Xu(e,this)});const n=new Mh(!0===t?this:t||!1).transform(e);return this.attr("transform",n)}});class id extends nd{flatten(e=this,t){return this.each((function(){if(this instanceof id)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=-1===t?e.children().length:t,this.each((function(n,r){return r[r.length-n-1].toParent(e,t)})),this.remove()}}ah(id,"Container");class od extends id{constructor(e,t=e){super(ih("defs",e),t)}flatten(){return this}ungroup(){return this}}ah(od,"Defs");class sd extends nd{}function ad(e){return this.attr("rx",e)}function ld(e){return this.attr("ry",e)}function cd(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())}function ud(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())}function hd(e){return this.attr("cx",e)}function dd(e){return this.attr("cy",e)}function fd(e){return null==e?2*this.rx():this.rx(new Jh(e).divide(2))}function pd(e){return null==e?2*this.ry():this.ry(new Jh(e).divide(2))}ah(sd,"Shape");var gd={__proto__:null,rx:ad,ry:ld,x:cd,y:ud,cx:hd,cy:dd,width:fd,height:pd};class md extends sd{constructor(e,t=e){super(ih("ellipse",e),t)}size(e,t){const n=Gu(this,e,t);return this.rx(new Jh(n.width).divide(2)).ry(new Jh(n.height).divide(2))}}hh(md,gd),Bu("Container",{ellipse:dh((function(e=0,t=e){return this.put(new md).size(e,t).move(0,0)}))}),ah(md,"Ellipse");class yd extends td{constructor(e=Qu.document.createDocumentFragment()){super(e)}xml(e,t,n){if("boolean"==typeof e&&(n=t,t=e,e=null),null==e||"function"==typeof e){const e=new td(nh("wrapper",n));return e.add(this.node.cloneNode(!0)),e.xml(!1,n)}return super.xml(e,!1,n)}}function vd(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new Jh(e),fy:new Jh(t)}):this.attr({x1:new Jh(e),y1:new Jh(t)})}function bd(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new Jh(e),cy:new Jh(t)}):this.attr({x2:new Jh(e),y2:new Jh(t)})}ah(yd,"Fragment");var _d,wd={__proto__:null,from:vd,to:bd};class xd extends id{constructor(e,t){super(ih(e+"Gradient","string"==typeof e?null:e),t)}attr(e,t,n){return"transform"===e&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new Fh}targets(){return zh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}hh(xd,wd),Bu({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:dh((function(e,t){return this.put(new xd(e)).update(t)}))}}),ah(xd,"Gradient");class Sd extends id{constructor(e,t=e){super(ih("pattern",e),t)}attr(e,t,n){return"transform"===e&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new Fh}targets(){return zh("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Bu({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:dh((function(e,t,n){return this.put(new Sd).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}))}}),ah(Sd,"Pattern");class Ed extends sd{constructor(e,t=e){super(ih("image",e),t)}load(e,t){if(!e)return this;const n=new Qu.window.Image;return $h(n,"load",(function(e){const r=this.parent(Sd);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Sd&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e)}),this),$h(n,"load error",(function(){Hh(n)})),this.attr("href",n.src=e,Zu)}}_d=function(e,t,n){return"fill"!==e&&"stroke"!==e||Sh.test(t)&&(t=n.root().defs().image(t)),t instanceof Ed&&(t=n.root().defs().pattern(0,0,(e=>{e.add(t)}))),t},ed.push(_d),Bu({Container:{image:dh((function(e,t){return this.put(new Ed).size(0,0).load(e,t)}))}}),ah(Ed,"Image");class Cd extends Qh{bbox(){let e=-1/0,t=-1/0,n=1/0,r=1/0;return this.forEach((function(i){e=Math.max(i[0],e),t=Math.max(i[1],t),n=Math.min(i[0],n),r=Math.min(i[1],r)})),new Fh(n,r,e-n,t-r)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+e,this[n][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Eh).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,r=e.length;n<r;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*e/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Mh.isMatrixLike(e)||(e=new Mh(e));for(let t=this.length;t--;){const[n,r]=this[t];this[t][0]=e.a*n+e.c*r+e.e,this[t][1]=e.b*n+e.d*r+e.f}return this}}var kd={__proto__:null,MorphArray:Cd,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){const t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){const t=this.bbox();return null==e?t.height:this.size(t.width,e)}};class Pd extends sd{constructor(e,t=e){super(ih("line",e),t)}array(){return new Cd([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,t){return this.attr(this.array().move(e,t).toLine())}plot(e,t,n,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:r}:new Cd(e).toLine(),this.attr(e))}size(e,t){const n=Gu(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}}hh(Pd,kd),Bu({Container:{line:dh((function(...e){return Pd.prototype.plot.apply(this.put(new Pd),null!=e[0]?e:[0,0,0,0])}))}}),ah(Pd,"Line");class Ad extends id{constructor(e,t=e){super(ih("marker",e),t)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,t){return this.attr("refX",e).attr("refY",t)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}}function Td(e,t){return function(n){return null==n?this[e]:(this[e]=n,t&&t.call(this),this)}}Bu({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:dh((function(e,t,n){return this.put(new Ad).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}))},marker:{marker(e,t,n,r){let i=["marker"];return"all"!==e&&i.push(e),i=i.join("-"),e=arguments[1]instanceof Ad?arguments[1]:this.defs().marker(t,n,r),this.attr(i,e)}}}),ah(Ad,"Marker");const Rd={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)},bezier:function(e,t,n,r){return function(i){return i<0?e>0?t/e*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*(1-i)**2*t+3*i**2*(1-i)*r+i**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return"none"===t?--n:"both"===t&&++n,(r,i=!1)=>{let o=Math.floor(r*e);const s=r*o%1==0;return"start"!==t&&"both"!==t||++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}};class Od{done(){return!1}}class Md extends Od{constructor(e=Yh){super(),this.ease=Rd[e]||e}step(e,t,n){return"number"!=typeof e?n<1?e:t:e+(t-e)*this.ease(n)}}class Id extends Od{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,r){return this.stepper(e,t,n,r)}}function Dd(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=Math.PI,r=Math.log(t/100+1e-10),i=-r/Math.sqrt(n*n+r*r),o=3.9/(i*e);this.d=2*i*o,this.k=o*o}hh(class extends Id{constructor(e=500,t=0){super(),this.duration(e).overshoot(t)}step(e,t,n,r){if("string"==typeof e)return e;if(r.done=n===1/0,n===1/0)return t;if(0===n)return e;n>100&&(n=16),n/=1e3;const i=r.velocity||0,o=-this.d*i-this.k*(e-t),s=e+i*n+o*n*n/2;return r.velocity=i+o*n,r.done=Math.abs(t-s)+Math.abs(i)<.002,r.done?t:s}},{duration:Td("_duration",Dd),overshoot:Td("_overshoot",Dd)}),hh(class extends Id{constructor(e=.1,t=.01,n=0,r=1e3){super(),this.p(e).i(t).d(n).windup(r)}step(e,t,n,r){if("string"==typeof e)return e;if(r.done=n===1/0,n===1/0)return t;if(0===n)return e;const i=t-e;let o=(r.integral||0)+i*n;const s=(i-(r.error||0))/n,a=this._windup;return!1!==a&&(o=Math.max(-a,Math.min(o,a))),r.error=i,r.integral=o,r.done=Math.abs(i)<.001,r.done?t:e+(this.P*i+this.I*o+this.D*s)}},{windup:Td("_windup"),p:Td("P"),i:Td("I"),d:Td("D")});const Fd={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Ld={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Nd="mlhvqtcsaz".split("");for(let e=0,t=Nd.length;e<t;++e)Ld[Nd[e]]=function(e){return function(t,n,r){if("H"===e)t[0]=t[0]+n.x;else if("V"===e)t[0]=t[0]+n.y;else if("A"===e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(let e=0,r=t.length;e<r;++e)t[e]=t[e]+(e%2?n.y:n.x);return Ld[e](t,n,r)}}(Nd[e].toUpperCase());function jd(e){return e.segment.length&&e.segment.length-1===Fd[e.segment[0].toUpperCase()]}function zd(e,t){e.inNumber&&Bd(e,!1);const n=Ch.test(t);if(n)e.segment=[t];else{const t=e.lastCommand,n=t.toLowerCase(),r=t===n;e.segment=["m"===n?r?"l":"L":t]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function Bd(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,jd(e)&&Ud(e)}function Ud(e){e.inSegment=!1,e.absolute&&(e.segment=function(e){const t=e.segment[0];return Ld[t](e.segment.slice(1),e.p,e.p0)}(e)),e.segments.push(e.segment)}function Vd(e){if(!e.segment.length)return!1;const t="A"===e.segment[0].toUpperCase(),n=e.segment.length;return t&&(4===n||5===n)}function Wd(e){return"E"===e.lastToken.toUpperCase()}class $d extends Qh{bbox(){return Ih().path.setAttribute("d",this.toString()),new Fh(Ih.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],"M"===n||"L"===n||"T"===n?(this[r][1]+=e,this[r][2]+=t):"H"===n?this[r][1]+=e:"V"===n?this[r][1]+=t:"C"===n||"S"===n||"Q"===n?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,"C"===n&&(this[r][5]+=e,this[r][6]+=t)):"A"===n&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(e,t=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new Rh,p:new Rh};for(;i.lastToken=r,r=e.charAt(n++);)if(i.inSegment||!zd(i,r))if("."!==r)if(isNaN(parseInt(r)))if(" "!==r&&","!==r)if("-"!==r)if("E"!==r.toUpperCase()){if(Ch.test(r)){if(i.inNumber)Bd(i,!1);else{if(!jd(i))throw new Error("parser Error");Ud(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!Wd(i)){Bd(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else i.inNumber&&Bd(i,!1);else{if("0"===i.number||Vd(i)){i.inNumber=!0,i.number=r,Bd(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){Bd(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&Bd(i,!1),i.inSegment&&jd(i)&&Ud(i),i.segments}(e)}size(e,t){const n=this.bbox();let r,i;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y):"H"===i?this[r][1]=(this[r][1]-n.x)*e/n.width+n.x:"V"===i?this[r][1]=(this[r][1]-n.y)*t/n.height+n.y:"C"===i||"S"===i||"Q"===i?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y,this[r][3]=(this[r][3]-n.x)*e/n.width+n.x,this[r][4]=(this[r][4]-n.y)*t/n.height+n.y,"C"===i&&(this[r][5]=(this[r][5]-n.x)*e/n.width+n.x,this[r][6]=(this[r][6]-n.y)*t/n.height+n.y)):"A"===i&&(this[r][1]=this[r][1]*e/n.width,this[r][2]=this[r][2]*t/n.height,this[r][6]=(this[r][6]-n.x)*e/n.width+n.x,this[r][7]=(this[r][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],null!=e[n][1]&&(t+=e[n][1],null!=e[n][2]&&(t+=" ",t+=e[n][2],null!=e[n][3]&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],null!=e[n][5]&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],null!=e[n][7]&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const Hd=e=>{const t=typeof e;return"number"===t?Jh:"string"===t?Th.isColor(e)?Th:Eh.test(e)?Ch.test(e)?$d:Qh:fh.test(e)?Jh:Gd:Zd.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?Qh:"object"===t?Kd:Gd};class qd{constructor(e){this._stepper=e||new Md("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return null==e?this._from:(this._from=this._set(e),this)}stepper(e){return null==e?this._stepper:(this._stepper=e,this)}to(e){return null==e?this._to:(this._to=this._set(e),this)}type(e){return null==e?this._type:(this._type=e,this)}_set(e){this._type||this.type(Hd(e));let t=new this._type(e);return this._type===Th&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Kd&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(e){return e.done=!0,e})),t}}class Gd{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Xd{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Xd.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Xd.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Yd=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class Kd{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,r=t.length;n<r;++n){if(t[n+1]===e[n+1]){if(t[n+1]===Th&&e[n+7]!==t[n+7]){const t=e[n+7],r=new Th(this.values.splice(n+3,5))[t]().toArray();this.values.splice(n+3,0,...r)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const r=(new e[n+1]).toArray(),i=t[n+2]+3;t.splice(n,i,e[n],e[n+1],e[n+2],...r),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const r=Hd(e[n]),i=new r(e[n]).toArray();t.push([n,r,i.length,...i])}return t.sort(Yd),this.values=t.reduce(((e,t)=>e.concat(t)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),r=t.shift(),i=t.shift(),o=t.splice(0,i);e[n]=new r(o)}return e}}const Zd=[Gd,Xd,Kd];class Qd extends sd{constructor(e,t=e){super(ih("path",e),t)}array(){return this._array||(this._array=new $d(this.attr("d")))}clear(){return delete this._array,this}height(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new $d(e))}size(e,t){const n=Gu(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)}x(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)}y(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}}Qd.prototype.MorphArray=$d,Bu({Container:{path:dh((function(e){return this.put(new Qd).plot(e||new $d)}))}}),ah(Qd,"Path");var Jd={__proto__:null,array:function(){return this._array||(this._array=new Cd(this.attr("points")))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new Cd(e))},size:function(e,t){const n=Gu(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}};class ef extends sd{constructor(e,t=e){super(ih("polygon",e),t)}}Bu({Container:{polygon:dh((function(e){return this.put(new ef).plot(e||new Cd)}))}}),hh(ef,kd),hh(ef,Jd),ah(ef,"Polygon");class tf extends sd{constructor(e,t=e){super(ih("polyline",e),t)}}Bu({Container:{polyline:dh((function(e){return this.put(new tf).plot(e||new Cd)}))}}),hh(tf,kd),hh(tf,Jd),ah(tf,"Polyline");class nf extends sd{constructor(e,t=e){super(ih("rect",e),t)}}hh(nf,{rx:ad,ry:ld}),Bu({Container:{rect:dh((function(e,t){return this.put(new nf).size(e,t)}))}}),ah(nf,"Rect");class rf{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=void 0!==e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const of={nextDraw:null,frames:new rf,timeouts:new rf,immediates:new rf,timer:()=>Qu.window.performance||Qu.window.Date,transforms:[],frame(e){const t=of.frames.push({run:e});return null===of.nextDraw&&(of.nextDraw=Qu.window.requestAnimationFrame(of._draw)),t},timeout(e,t){t=t||0;const n=of.timer().now()+t,r=of.timeouts.push({run:e,time:n});return null===of.nextDraw&&(of.nextDraw=Qu.window.requestAnimationFrame(of._draw)),r},immediate(e){const t=of.immediates.push(e);return null===of.nextDraw&&(of.nextDraw=Qu.window.requestAnimationFrame(of._draw)),t},cancelFrame(e){null!=e&&of.frames.remove(e)},clearTimeout(e){null!=e&&of.timeouts.remove(e)},cancelImmediate(e){null!=e&&of.immediates.remove(e)},_draw(e){let t=null;const n=of.timeouts.last();for(;(t=of.timeouts.shift())&&(e>=t.time?t.run():of.timeouts.push(t),t!==n););let r=null;const i=of.frames.last();for(;r!==i&&(r=of.frames.shift());)r.run(e);let o=null;for(;o=of.immediates.shift();)o();of.nextDraw=of.timeouts.first()||of.frames.first()?Qu.window.requestAnimationFrame(of._draw):null}},sf=function(e){const t=e.start,n=e.runner.duration();return{start:t,duration:n,end:t+n,runner:e.runner}},af=function(){const e=Qu.window;return(e.performance||e.Date).now()};class lf extends qh{constructor(e=af){super(),this._timeSource=e,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((e=>e.start+e.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return null==e?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(null==e)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(null==e)return this._runners.map(sf);let r=0;const i=this.getEndTime();if(t=t||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=t,t=0;else if("now"===n)r=this._time;else if("relative"===n){const n=this.getRunnerInfoById(e.id);n&&(r=n.start+t,t=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const e=this.getLastRunnerInfo();r=e?e.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),s={persist:null===o?this._persist:o,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(s),this._runners.sort(((e,t)=>e.start-t.start)),this._runnerIds=this._runners.map((e=>e.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return null==e?this._timeSource:(this._timeSource=e,this)}speed(e){return null==e?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return null==e?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return of.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=of.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let e=this._runners.length;e--;){const t=this._runners[e],n=t.runner;this._time-t.start<=0&&n.reset()}let i=!1;for(let e=0,t=this._runners.length;e<t;e++){const n=this._runners[e],o=n.runner;let s=r;const a=this._time-n.start;a<=0?i=!0:(a<s&&(s=a),o.active()&&(o.step(s).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--e,--t):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}Bu({Element:{timeline:function(e){return null==e?(this._timeline=this._timeline||new lf,this._timeline):(this._timeline=e,this)}}});class cf extends qh{constructor(e){super(),this.id=cf.id++,e="function"==typeof(e=null==e?Xh:e)?new Id(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof e&&e,this._isDeclarative=e instanceof Id,this._stepper=this._isDeclarative?e:new Md,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Mh,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let r=1,i=!1,o=0;return t=t||Kh,n=n||"last","object"!=typeof(e=e||Xh)||e instanceof Od||(t=e.delay||t,n=e.when||n,i=e.swing||i,r=e.times||r,o=e.wait||o,e=e.duration||Xh),{duration:e,delay:t,swing:i,times:r,wait:o,when:n}}active(e){return null==e?this.enabled:(this.enabled=e,this)}addTransform(e,t){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const r=cf.sanitise(e,t,n),i=new cf(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new Mh,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Md(e),this}element(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return"object"==typeof e&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(null==e){const e=Math.floor(this._time/t),n=(this._time-e*t)/this._duration;return Math.min(e+n,this._times)}const n=e%1,r=t*Math.floor(e)+this._duration*n;return this.time(r)}persist(e){return null==e?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,r=this._wait,i=this._times,o=this._swing,s=this._reverse;let a;if(null==e){const e=function(e){const t=o*Math.floor(e%(2*(r+n))/(r+n)),i=t&&!s||!t&&s,a=Math.pow(-1,i)*(e%(r+n))/n+i;return Math.max(Math.min(a,1),0)},l=i*(r+n)-r;return a=t<=0?Math.round(e(1e-5)):t<l?e(t):Math.round(e(l-1e-5)),a}const l=Math.floor(this.loops()),c=o&&l%2==0;return a=l+(c&&!s||s&&c?e:1-e),this.loops(a)}progress(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,r){return this._queue.push({initialiser:e||Gh,runner:t||Gh,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=null==e?!this._reverse:e,this}schedule(e,t,n){if(e instanceof lf||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);const s=this._isDeclarative;this.done=!s&&!o&&this._time>=r,this._reseted=!1;let a=!1;return(n||s)&&(this._initialise(n),this.transforms=new Mh,a=this._run(s?e:t),this.fire("step",this)),this.done=this.done||a&&s,o&&this.fire("finished",this),this}time(e){if(null==e)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return void 0===e?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const n=this._queue[t],r=this._isDeclarative||!n.initialised&&e;e=!n.finished,r&&e&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const e=this.timeline();e&&e.play()}}_run(e){let t=!0;for(let n=0,r=this._queue.length;n<r;++n){const r=this._queue[n],i=r.runner.call(this,e);r.finished=r.finished||!0===i,t=t&&r.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const t=this._queue.indexOf(this._history[e].caller);return this._queue.splice(t,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}cf.id=0;class uf{constructor(e=new Mh,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}hh([cf,uf],{mergeWith(e){return new uf(e.transforms.lmultiply(this.transforms),e.id)}});const hf=(e,t)=>e.lmultiplyO(t),df=e=>e.transforms;function ff(){const e=this._transformationRunners.runners.map(df).reduce(hf,new Mh);this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class pf{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new uf).forEach((e=>e.clearTransformsFromQueue())),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(!(e&&n.done&&e.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||e._timeline&&e._timeline._runnerIds.includes(e.id))e=n;else{this.remove(n.id);const r=n.mergeWith(e);this.edit(e.id,r),e=r,--t}}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Bu({Element:{animate(e,t,n){const r=cf.sanitise(e,t,n),i=this.timeline();return new cf(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter((t=>t.id<=e.id)).map(df).reduce(hf,new Mh)},_addRunner(e){this._transformationRunners.add(e),of.cancelImmediate(this._frameId),this._frameId=of.immediate(ff.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new pf).add(new uf(new Mh(this))))}}}),hh(cf,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if("string"==typeof t)return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let i=new qd(this._stepper).to(r),o=Object.keys(r);return this.queue((function(){i=i.from(this.element()[e](o))}),(function(t){return this.element()[e](i.at(t).valueOf()),i.done()}),(function(t){const n=Object.keys(t),s=(a=o,n.filter((e=>!a.includes(e))));var a;if(s.length){const t=this.element()[e](s),n=new Kd(i.from()).valueOf();Object.assign(n,t),i.from(n)}const l=new Kd(i.to()).valueOf();Object.assign(l,t),i.to(l),o=n,r=t})),this._rememberMorpher(e,i),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new qd(this._stepper).to(new Jh(e));return this.queue((function(){n=n.from(this.element().zoom())}),(function(e){return this.element().zoom(n.at(e),t),n.done()}),(function(e,r){t=r,n.to(e)})),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const r=Mh.isMatrixLike(e);n=null!=e.affine?e.affine:null!=n?n:!r;const i=new qd(this._stepper).type(n?Xd:Mh);let o,s,a,l,c;return this.queue((function(){s=s||this.element(),o=o||Xu(e,s),c=new Mh(t?void 0:s),s._addRunner(this),t||s._clearTransformRunnersBefore(this)}),(function(u){t||this.clearTransform();const{x:h,y:d}=new Rh(o).transform(s._currentTransform(this));let f=new Mh({...e,origin:[h,d]}),p=this._isDeclarative&&a?a:c;if(n){f=f.decompose(h,d),p=p.decompose(h,d);const e=f.rotate,t=p.rotate,n=[e-360,e,e+360],r=n.map((e=>Math.abs(e-t))),i=Math.min(...r),o=r.indexOf(i);f.rotate=n[o]}t&&(r||(f.rotate=e.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),i.from(p),i.to(f);const g=i.at(u);return l=g.rotate,a=new Mh(g),this.addTransform(a),s._addRunner(this),i.done()}),(function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(o=Xu(t,s)),e={...t,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(e,t){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new Jh(t),this._tryRetarget(e,t))return this;const n=new qd(this._stepper).to(t);let r=null;return this.queue((function(){r=this.element()[e](),n.from(r),n.to(r+t)}),(function(t){return this.element()[e](n.at(t)),n.done()}),(function(e){n.to(r+new Jh(e))})),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new qd(this._stepper).to(t);return this.queue((function(){n.from(this.element()[e]())}),(function(t){return this.element()[e](n.at(t)),n.done()})),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new Jh(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return e&&t||(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(4===arguments.length)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;const i=new qd(this._stepper).type(this._element.MorphArray).to(e);return this.queue((function(){i.from(this._element.array())}),(function(e){return this._element.plot(i.at(e)),i.done()})),this._rememberMorpher("plot",i),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new Fh(e,t,n,r))},update(e){return"object"!=typeof e?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this)}}),hh(cf,{rx:ad,ry:ld,from:vd,to:bd}),ah(cf,"Runner");class gf extends id{constructor(e,t=e){super(ih("svg",e),t),this.namespace()}defs(){return this.isRoot()?oh(this.node.querySelector("defs"))||this.put(new od):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Qu.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:Yu,version:"1.1"}).attr("xmlns:xlink",Zu,Ku).attr("xmlns:svgjs","http://svgjs.dev/svgjs",Ku):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Ku).attr("xmlns:svgjs",null,Ku)}root(){return this.isRoot()?this:super.root()}}Bu({Container:{nested:dh((function(){return this.put(new gf)}))}}),ah(gf,"Svg",!0);class mf extends id{constructor(e,t=e){super(ih("symbol",e),t)}}Bu({Container:{symbol:dh((function(){return this.put(new mf)}))}}),ah(mf,"Symbol");var yf={__proto__:null,plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(Qu.document.createTextNode(e)),this},length:function(){return this.node.getComputedTextLength()},x:function(e,t=this.bbox()){return null==e?t.x:this.attr("x",this.attr("x")+e-t.x)},y:function(e,t=this.bbox()){return null==e?t.y:this.attr("y",this.attr("y")+e-t.y)},move:function(e,t,n=this.bbox()){return this.x(e,n).y(t,n)},cx:function(e,t=this.bbox()){return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx)},cy:function(e,t=this.bbox()){return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy)},center:function(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)},ax:function(e){return this.attr("x",e)},ay:function(e){return this.attr("y",e)},amove:function(e,t){return this.ax(e).ay(t)},build:function(e){return this._build=!!e,this}};class vf extends sd{constructor(e,t=e){super(ih("text",e),t),this.dom.leading=new Jh(1.3),this._rebuild=!0,this._build=!1}leading(e){return null==e?this.dom.leading:(this.dom.leading=new Jh(e),this.rebuild())}rebuild(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){const e=this;let t=0;const n=this.dom.leading;this.each((function(r){const i=Qu.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new Jh(i);this.dom.newLined&&(this.attr("x",e.attr("x")),"\n"===this.text()?t+=o:(this.attr("dy",r?o+t:0),t=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Jh(e.leading||1.3),this}text(e){if(void 0===e){const t=this.node.childNodes;let n=0;e="";for(let r=0,i=t.length;r<i;++r)"textPath"!==t[r].nodeName?(r!==n&&3!==t[r].nodeType&&!0===oh(t[r]).dom.newLined&&(e+="\n"),e+=t[r].textContent):0===r&&(n=1);return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(let t=0,n=(e=(e+"").split("\n")).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}hh(vf,yf),Bu({Container:{text:dh((function(e=""){return this.put(new vf).text(e)})),plain:dh((function(e=""){return this.put(new vf).plain(e)}))}}),ah(vf,"Text");class bf extends sd{constructor(e,t=e){super(ih("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof vf))return this;const t=e.index(this),n=Qu.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new Jh(n);return this.dy(t?r:0).attr("x",e.x())}text(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}hh(bf,yf),Bu({Tspan:{tspan:dh((function(e=""){const t=new bf;return this._build||this.clear(),this.put(t).text(e)}))},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}}),ah(bf,"Tspan");class _f extends sd{constructor(e,t=e){super(ih("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Jh(e).divide(2))}}hh(_f,{x:cd,y:ud,cx:hd,cy:dd,width:fd,height:pd}),Bu({Container:{circle:dh((function(e=0){return this.put(new _f).size(e).move(0,0)}))}}),ah(_f,"Circle");class wf extends id{constructor(e,t=e){super(ih("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return zh("svg [clip-path*="+this.id()+"]")}}Bu({Container:{clip:dh((function(){return this.defs().put(new wf)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof wf?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),ah(wf,"ClipPath");class xf extends nd{constructor(e,t=e){super(ih("foreignObject",e),t)}}Bu({Container:{foreignObject:dh((function(e,t){return this.put(new xf).size(e,t)}))}}),ah(xf,"ForeignObject");var Sf={__proto__:null,dmove:function(e,t){return this.children().forEach(((n,r)=>{let i;try{i=n.bbox()}catch(e){return}const o=new Mh(n),s=o.translate(e,t).transform(o.inverse()),a=new Rh(i.x,i.y).transform(s);n.move(a.x,a.y)})),this},dx:function(e){return this.dmove(e,0)},dy:function(e){return this.dmove(0,e)},height:function(e,t=this.bbox()){return null==e?t.height:this.size(t.width,e,t)},move:function(e=0,t=0,n=this.bbox()){const r=e-n.x,i=t-n.y;return this.dmove(r,i)},size:function(e,t,n=this.bbox()){const r=Gu(this,e,t,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(((e,t)=>{const r=new Rh(n).transform(new Mh(e).inverse());e.scale(i,o,r.x,r.y)})),this},width:function(e,t=this.bbox()){return null==e?t.width:this.size(e,t.height,t)},x:function(e,t=this.bbox()){return null==e?t.x:this.move(e,t.y,t)},y:function(e,t=this.bbox()){return null==e?t.y:this.move(t.x,e,t)}};class Ef extends id{constructor(e,t=e){super(ih("g",e),t)}}hh(Ef,Sf),Bu({Container:{group:dh((function(){return this.put(new Ef)}))}}),ah(Ef,"G");class Cf extends id{constructor(e,t=e){super(ih("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Zu)}}hh(Cf,Sf),Bu({Container:{link:dh((function(e){return this.put(new Cf).to(e)}))},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new Cf,this.wrap(t)),"function"==typeof e?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&"a"===e.node.nodeName.toLowerCase()?e:null}}}),ah(Cf,"A");class kf extends id{constructor(e,t=e){super(ih("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return zh("svg [mask*="+this.id()+"]")}}Bu({Container:{mask:dh((function(){return this.defs().put(new kf)}))},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof kf?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),ah(kf,"Mask");class Pf extends nd{constructor(e,t=e){super(ih("stop",e),t)}update(e){return("number"==typeof e||e instanceof Jh)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new Jh(e.offset)),this}}Bu({Gradient:{stop:function(e,t,n){return this.put(new Pf).update(e,t,n)}}}),ah(Pf,"Stop");class Af extends nd{constructor(e,t=e){super(ih("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const e in t)n+=e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))+":"+t[e]+";";return n+="}",n}(e,t))}}Bu("Dom",{style(e,t){return this.put(new Af).rule(e,t)},fontface(e,t,n){return this.put(new Af).font(e,t,n)}}),ah(Af,"Style");class Tf extends vf{constructor(e,t=e){super(ih("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),null==e?n:this}track(){return this.reference("href")}}Bu({Container:{textPath:dh((function(e,t){return e instanceof vf||(e=this.text(e)),e.path(t)}))},Text:{path:dh((function(e,t=!0){const n=new Tf;let r;if(e instanceof Qd||(e=this.defs().path(e)),n.attr("href","#"+e,Zu),t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:dh((function(e){return e instanceof vf||(e=(new vf).addTo(this.parent()).text(e)),e.path(this)})),targets(){return zh("svg textPath").filter((e=>(e.attr("href")||"").includes(this.id())))}}}),Tf.prototype.MorphArray=$d,ah(Tf,"TextPath");class Rf extends sd{constructor(e,t=e){super(ih("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Zu)}}Bu({Container:{use:dh((function(e,t){return this.put(new Rf).use(e,t)}))}}),ah(Rf,"Use");const Of=rh;hh([gf,mf,Ed,Sd,Ad],Uu("viewbox")),hh([Pd,tf,ef,Qd],Uu("marker")),hh(vf,Uu("Text")),hh(Qd,Uu("Path")),hh(od,Uu("Defs")),hh([vf,bf],Uu("Tspan")),hh([nf,md,xd,cf],Uu("radius")),hh(qh,Uu("EventTarget")),hh(td,Uu("Dom")),hh(nd,Uu("Element")),hh(sd,Uu("Shape")),hh([id,yd],Uu("Container")),hh(xd,Uu("Gradient")),hh(cf,Uu("Runner")),Nh.extend([...new Set(zu)]),function(e=[]){Zd.push(...[].concat(e))}([Jh,Th,Fh,Mh,Qh,Cd,$d,Rh]),hh(Zd,{to(e){return(new qd).type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,i){return this.fromArray(e.map((function(e,o){return r.step(e,t[o],n,i[o],i)})))}});function Mf(e){return Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(e)}function If(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Df(r.key),r)}}function Df(e){var t=function(e,t){if("object"!=Mf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mf(t)?t:t+""}function Ff(e,t,n){return t=Nf(t),function(e,t){if(t&&("object"===Mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lf()?Reflect.construct(t,n||[],Nf(e).constructor):t.apply(e,n))}function Lf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lf=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nf(e)}function jf(e,t){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jf(e,t)}var zf=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Ff(this,n,[e])).state={currentAnnotation:-1},t.onPrevClick=t.onPrevClick.bind(t),t.onNextClick=t.onNextClick.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}(n,t),r=n,(i=[{key:"onPrevClick",value:function(e){if(e.preventDefault(),this.state.currentAnnotation>0){var t=this.state.currentAnnotation-1;this.setState({currentAnnotation:t}),this.props.onSelectedAnnotationUpdate(t)}else this.setState({currentAnnotation:-1}),this.props.onSelectedAnnotationUpdate(null)}},{key:"onNextClick",value:function(e){if(e.preventDefault(),this.state.currentAnnotation<this.props.asset.annotations.length-1){var t=this.state.currentAnnotation+1;this.setState({currentAnnotation:t}),this.props.onSelectedAnnotationUpdate(t)}}},{key:"render",value:function(){var t=this,n=this.state.currentAnnotation>=0?this.props.asset.annotations[this.state.currentAnnotation]:null,r=S(),i=E(this.props.asset.id),o=function(e){return t.props.enterAssetDetailView(e,t.props.asset)},s=1===this.props.asset.annotations.length?"":"s",a="".concat(this.props.asset.annotations.length," selection").concat(s);return n&&(i="".concat(r,"react/asset/")+n.asset_id+"/annotations/"+n.id+"/",o=function(e){},a="(".concat(this.state.currentAnnotation+1," of ")+"".concat(this.props.asset.annotations.length,") ")+n.title),e.createElement("nav",{className:"mx-1","aria-label":"Annotation navigation"},e.createElement("ul",{className:"pagination btn-sm selection-spinner"},e.createElement("li",{className:"page-item "+(this.state.currentAnnotation>-1?"":"disabled")},e.createElement("a",{className:"page-link",href:"#",onClick:this.onPrevClick,title:"Previous Selection","aria-label":"Previous Selection"},e.createElement("span",{"aria-hidden":"true"},e.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-caret-left-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"}))))),e.createElement("li",{className:"page-item w-100 text-center text-nowrap text-truncate"},e.createElement("a",{onClick:o,className:"page-link",href:i},a)),e.createElement("li",{className:"page-item "+(this.state.currentAnnotation<this.props.asset.annotations.length-1?"":"disabled")},e.createElement("a",{className:"page-link",href:"#",onClick:this.onNextClick,title:"Next Selection","aria-label":"Next Selection"},e.createElement("span",{"aria-hidden":"true"},e.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-caret-right-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})))))))}}])&&If(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);zf.propTypes={asset:M().object.isRequired,onSelectedAnnotationUpdate:M().func.isRequired,enterAssetDetailView:M().func.isRequired};var Bf=__webpack_require__(8251),Uf=__webpack_require__.n(Bf);function Vf(e){return Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(e)}function Wf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$f(r.key),r)}}function $f(e){var t=function(e,t){if("object"!=Vf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vf(t)?t:t+""}var Hf=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.asset=t},(t=[{key:"getType",value:function(){return _(this.asset.primary_type)}},{key:"getThumbnail",value:function(){if(!this.asset)return null;var e="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";if("youtube"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.url){var t=Uf()(this.asset.sources.youtube.url);return"https://i.ytimg.com/vi/".concat(t,"/hqdefault.jpg")}if("vimeo"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.vimeo){var n=this.asset.sources.vimeo.url,r="https://vimeo.com/api/oembed.json?url=".concat(n);return fetch(r).then((function(t){return 200===t.status?t.json().then((function(e){return e.thumbnail_url})):e+"img/thumb_video.png"}))}return"pdf"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.pdf?this.asset.sources.pdf.url:this.asset.thumb_url||(this.asset.sources&&this.asset.sources.image?this.asset.sources.image.url:null)}},{key:"getImage",value:function(){if(!this.asset||!this.asset.sources)return null;var e="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";return this.asset.sources&&!this.asset.sources.thumb&&(this.asset.sources.thumb=e+"img/thumb_image.png"),this.asset.sources&&this.asset.sources.image&&"source url"===this.asset.sources.image.url&&(this.asset.sources.image.url=e+"img/thumb_image.png"),this.asset.sources.image||this.asset.sources.thumb}},{key:"extractSource",value:function(){var e=this.asset.sources;if(e.youtube&&e.youtube.url){var t=Uf()(e.youtube.url);return{url:"https://youtube.com/watch?v=".concat(t),host:"youtube"}}return e.vimeo&&e.vimeo.url?{url:e.vimeo.url,host:"vimeo"}:e.video&&e.video.url?{url:e.video.url}:e.mp4_pseudo&&e.mp4_pseudo.url?{url:e.mp4_pseudo.url}:e.mp4&&e.mp4.url?{url:e.mp4.url}:e.mp4_panopto&&e.mp4_panopto.url?{url:e.mp4_panopto.url}:e.mp4_audio&&e.mp4_audio.url?{url:e.mp4_audio.url}:e.image&&e.image.url?{url:e.image.url,width:e.image.width,height:e.image.height}:null}},{key:"getCaptionTrack",value:function(){if(!this.asset||!this.asset.metadata)return null;var e=this.asset.metadata.find((function(e){return"caption_track"===e.key}));return e?e.value[0]:null}}])&&Wf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();class qf extends vn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new qf(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(hn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=cn(e,tn,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;return Array.isArray(e)?t=e:(In("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const Gf=qf;class Xf extends vo{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){qt(this.flatCoordinates,e),this.changed()}clone(){const e=new Xf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<Wn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,r))}forEachSegment(e){return Go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,Pu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Io(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return ku(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return nu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Ao(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Xf(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,e,this.stride),this.changed()}}const Yf=Xf;class Kf extends vo{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){qt(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Kf(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<Wn(this.getExtent(),e,t))return r;const i=this.flatCoordinates,o=this.stride;for(let s=0,a=i.length;s<a;s+=o){const a=Ar(e,t,i[s],i[s+1]);if(a<r){r=a;for(let e=0;e<o;++e)n[e]=i[s+e];n.length=o}}return r}getCoordinates(){return Io(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Uo(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,n=this.stride,r=[];for(let i=0,o=e.length;i<o;i+=n){const o=new Uo(e.slice(i,i+n),t);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,n=this.stride;for(let r=0,i=t.length;r<i;r+=n)if(qn(e,t[r],t[r+1]))return!0;return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Co(this.flatCoordinates,0,e,this.stride),this.changed()}}const Zf=Kf;class Qf extends vo{constructor(e,t,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&n)this.setFlatCoordinates(t,e),this.ends_=n;else{const t=e,n=[],r=[];for(let e=0,i=t.length;e<i;++e)qt(n,t[e].getFlatCoordinates()),r.push(n.length);const i=0===t.length?this.getLayout():t[0].getLayout();this.setFlatCoordinates(i,n),this.ends_=r}}appendLineString(e){qt(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Qf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<Wn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),So(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,r))}getCoordinateAtM(e,t,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,n=void 0!==n&&n,function(e,t,n,r,i,o,s){if(s)return Pu(e,t,n[n.length-1],r,i,o);let a;if(i<e[r-1])return o?(a=e.slice(0,r),a[r-1]=i,a):null;if(e[e.length-1]<i)return o?(a=e.slice(e.length-r),a[r-1]=i,a):null;for(let o=0,s=n.length;o<s;++o){const s=n[o];if(t!=s){if(i<e[t+r-1])return null;if(i<=e[s-1])return Pu(e,t,s,r,i,!1);t=s}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,t,n))}getCoordinates(){return Do(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Yf(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,n=this.layout,r=[];let i=0;for(let o=0,s=t.length;o<s;++o){const s=t[o],a=new Yf(e.slice(i,s),n);r.push(a),i=s}return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let n=0;const r=this.ends_,i=this.stride;for(let o=0,s=r.length;o<s;++o){const s=r[o];qt(e,ku(t,n,s,i,.5)),n=s}return e}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=To(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,n),new Qf(t,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){if(Xo(e,t,n[o],r,i))return!0;t=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=ko(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}const Jf=Qf;class ep extends vo{constructor(e,t,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const r=e,i=[],o=[];for(let e=0,t=r.length;e<t;++e){const t=r[e],n=i.length,s=t.getEnds();for(let e=0,t=s.length;e<t;++e)s[e]+=n;qt(i,t.getFlatCoordinates()),o.push(s)}t=0===r.length?this.getLayout():r[0].getLayout(),e=i,n=o}void 0!==t&&n?(this.setFlatCoordinates(t,e),this.endss_=n):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){const n=this.flatCoordinates.length;qt(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,r=t.length;e<r;++e)t[e]+=n}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=this.endss_[n].slice();const n=new ep(this.flatCoordinates.slice(),this.layout,t);return n.applyProperties(this),n}closestPointXY(e,t,n,r){return r<Wn(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];i=wo(e,t,s,r,i),t=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(e,t,n,r,i,o,s,a,l,c,u){u=u||[NaN,NaN];for(let o=0,h=n.length;o<h;++o){const h=n[o];c=So(e,t,h,r,i,true,s,a,l,c,u),t=h[h.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,e,t,n,r))}containsXY(e,t){return function(e,t,n,r,i,o){if(0===n.length)return!1;for(let s=0,a=n.length;s<a;++s){const a=n[s];if($o(e,t,a,r,i,o))return!0;t=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return function(e,t,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o];i+=No(e,t,s,r),t=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),ts(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Fo(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Au(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=qo(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Zf(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Jo(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ts(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=function(e,t,n,r,i,o,s,a){for(let l=0,c=n.length;l<c;++l){const c=n[l],u=[];s=Mo(e,t,c,r,i,o,s,u),a.push(u),t=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,n),new ep(t,"XY",n)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(0===e)t=0;else{const n=this.endss_[e-1];t=n[n.length-1]}const n=this.endss_[e].slice(),r=n[n.length-1];if(0!==t)for(let e=0,r=n.length;e<r;++e)n[e]-=t;return new rs(this.flatCoordinates.slice(t,r),this.layout,n)}getPolygons(){const e=this.layout,t=this.flatCoordinates,n=this.endss_,r=[];let i=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),a=s[s.length-1];if(0!==i)for(let e=0,t=s.length;e<t;++e)s[e]-=i;const l=new rs(t.slice(i,a),e,s);r.push(l),i=a}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return function(e,t,n,r,i){for(let o=0,s=n.length;o<s;++o){const s=n[o];if(Yo(e,t,s,r,i))return!0;t=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Po(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const e=n[n.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}const tp=ep;class np extends go{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(hn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(cn(this.geometries_[e],tn,this.changed,this))}clone(){const e=new np(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,n,r){if(r<Wn(this.getExtent(),e,t))return r;const i=this.geometries_;for(let o=0,s=i.length;o<s;++o)r=i[o].closestPointXY(e,t,n,r);return r}containsXY(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].containsXY(e,t))return!0;return!1}computeExtent(e){Yn(e);const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)Jn(e,t[n].getExtent());return e}getGeometries(){return rp(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].getType()===this.getType()?e=e.concat(t[n].getGeometriesArrayRecursive()):e.push(t[n]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],n=this.geometries_;let r=!1;for(let i=0,o=n.length;i<o;++i){const o=n[i],s=o.getSimplifiedGeometry(e);t.push(s),s!==o&&(r=!0)}if(r){const e=new np(null);return e.setGeometriesArray(t),e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].rotate(e,t);this.changed()}scale(e,t,n){n||(n=sr(this.getExtent()));const r=this.geometries_;for(let i=0,o=r.length;i<o;++i)r[i].scale(e,t,n);this.changed()}setGeometries(e){this.setGeometriesArray(rp(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)t[n].applyTransform(e);this.changed()}translate(e,t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function rp(e){const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const ip=np,op=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Gf,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let n=t.dataProjection?Ni(t.dataProjection):this.readProjection(e);t.extent&&n&&"tile-pixels"===n.getUnits()&&(n=Ni(n),n.setWorldExtent(t.extent)),t={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return pn()}readFeature(e,t){return pn()}readFeatures(e,t){return pn()}readGeometry(e,t){return pn()}readProjection(e){return pn()}writeFeature(e,t){return pn()}writeFeatures(e,t){return pn()}writeGeometry(e,t){return pn()}};function sp(e,t,n){const r=n?Ni(n.featureProjection):null,i=n?Ni(n.dataProjection):null;let o=e;if(r&&i&&!Ui(r,i)){t&&(o=e.clone());const n=t?r:i,s=t?i:r;"tile-pixels"===n.getUnits()?o.transform(n,s):o.applyTransform(Wi(n,s))}if(t&&n&&void 0!==n.decimals){const t=Math.pow(10,n.decimals),r=function(e){for(let n=0,r=e.length;n<r;++n)e[n]=Math.round(e[n]*t)/t;return e};o===e&&(o=e.clone()),o.applyTransform(r)}return o}const ap={Point:Uo,LineString:Yf,Polygon:rs,MultiPoint:Zf,MultiLineString:Jf,MultiPolygon:tp};function lp(e,t){const n=e.geometry;if(!n)return[];if(Array.isArray(n))return n.map((t=>lp({...e,geometry:t}))).flat();const r="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===r||"Circle"===r)throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return sp(new Ou(r,"Polygon"===r?function(e,t,n){return Array.isArray(t[0])?(Jo(e,0,t,n)||ts(e=e.slice(),0,t,n),e):(Qo(e,0,t,n)||es(e=e.slice(),0,t,n),e)}(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,e.properties||{},e.id).enableSimplifyTransformed(),!1,t)}function cp(e,t){if(!e)return null;if(Array.isArray(e)){const n=e.map((e=>cp(e,t)));return new ip(n)}return sp(new(0,ap[e.type])(e.flatCoordinates,e.layout,e.ends),!1,t)}function up(e){if("string"==typeof e){return JSON.parse(e)||null}return null!==e?e:null}const hp=class extends op{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(up(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(up(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return pn()}readFeaturesFromObject(e,t){return pn()}readGeometry(e,t){return this.readGeometryFromObject(up(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return pn()}readProjection(e){return this.readProjectionFromObject(up(e))}readProjectionFromObject(e){return pn()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return pn()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return pn()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return pn()}};function dp(e,t){if(!e)return null;let n;switch(e.type){case"Point":n=function(e){const t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:mo(t.length)}}(e);break;case"LineString":n=function(e){const t=e.coordinates,n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:mo(t[0].length)}}(e);break;case"Polygon":n=function(e){const t=e.coordinates,n=[],r=t[0][0].length;return{type:"Polygon",flatCoordinates:n,ends:ko(n,0,t,r),layout:mo(r)}}(e);break;case"MultiPoint":n=function(e){const t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:mo(t[0].length)}}(e);break;case"MultiLineString":n=function(e){const t=e.coordinates,n=t[0][0].length,r=[];return{type:"MultiLineString",flatCoordinates:r,ends:ko(r,0,t,n),layout:mo(n)}}(e);break;case"MultiPolygon":n=function(e){const t=e.coordinates,n=[],r=t[0][0][0].length;return{type:"MultiPolygon",flatCoordinates:n,ends:Po(n,0,t,r),layout:mo(r)}}(e);break;case"GeometryCollection":n=function(e,t){const n=e.geometries.map((function(e){return dp(e)}));return n}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return n}function fp(e,t){const n=(e=sp(e,!0,t)).getType();let r;switch(n){case"Point":r=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case"LineString":r=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case"Polygon":r=function(e,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"MultiPoint":r=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case"MultiLineString":r=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case"MultiPolygon":r=function(e,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}(e,t);break;case"GeometryCollection":r=function(e,t){delete(t=Object.assign({},t)).featureProjection;return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){return fp(e,t)}))}}(e,t);break;case"Circle":r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}const pp=class extends hp{constructor(e){e=e||{},super(),this.dataProjection=Ni(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Ni(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let n=null;n="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null};const r=dp(n.geometry);if(this.featureClass===Ou)return lp({geometry:r,id:n.id,properties:n.properties},t);const i=new Gf;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(cp(r,t)),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i}readFeaturesFromObject(e,t){let n=null;if("FeatureCollection"===e.type){n=[];const r=e.features;for(let e=0,i=r.length;e<i;++e){const i=this.readFeatureFromObject(r[e],t);i&&n.push(i)}}else n=[this.readFeatureFromObject(e,t)];return n.flat()}readGeometryFromObject(e,t){return function(e,t){return cp(dp(e),t)}(e,t)}readProjectionFromObject(e){const t=e.crs;let n;if(t)if("name"==t.type)n=Ni(t.properties.name);else{if("EPSG"!==t.type)throw new Error("Unknown SRS type");n=Ni("EPSG:"+t.properties.code)}else n=this.dataProjection;return n}writeFeatureObject(e,t){t=this.adaptOptions(t);const n={type:"Feature",geometry:null,properties:null},r=e.getId();if(void 0!==r&&(n.id=r),!e.hasProperties())return n;const i=e.getProperties(),o=e.getGeometry();return o&&(n.geometry=fp(o,t),delete i[e.getGeometryName()]),Jt(i)||(n.properties=i),n}writeFeaturesObject(e,t){t=this.adaptOptions(t);const n=[];for(let r=0,i=e.length;r<i;++r)n.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:n}}writeGeometryObject(e,t){return fp(e,this.adaptOptions(t))}};var gp=function(e,t){var n={w:180,h:90},r=e||180,i=t||90;return r/2>i?n.h=Math.ceil(180*i/r):n.w=Math.ceil(90*r/i),[-n.w,-n.h,n.w,n.h]},mp=function(){return[new Ll({stroke:new Ol({color:"blue",width:4}),fill:new Tl({color:"rgba(0, 0, 255, 0.1)"})})]},yp=function(e,t){var n,r=e.annotation.tool;n="polygon"===r?[new Ll({stroke:new Ol({color:"blue",width:3}),fill:new Tl({color:"rgba(0, 0, 255, 0.1)"})}),new Ll({image:new Pl({radius:4,fill:new Tl({color:"orange"})}),geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return new Zf(t)}})]:"freeformShape"===r?[new Ll({stroke:new Ol({color:"blue",width:3}),fill:new Tl({color:"rgba(0, 0, 255, 0.1)"})}),new Ll({image:new Pl({radius:1,fill:new Tl({color:"blue"})}),geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return new Zf(t)}})]:[new Ll({stroke:new Ol({color:"blue",width:3}),fill:new Tl({color:"rgba(0, 0, 255, 0.1)"})}),new Ll({image:new Pl({radius:1,fill:new Tl({color:"blue"})}),geometry:function(e){var t=e.getGeometry().getCoordinates()[0];return new Zf(t)}})];var i=e.annotation.geometry,o=t.getView(),s=o.getProjection(),a=new Nu({features:[new pp({dataProjection:s,featureProjection:s}).readFeature({type:"Feature",geometry:i})]}),l=new Eu({source:a,style:n});t.addLayer(l);var c=a.getFeatures()[0].getGeometry();return c&&o.fit(c,{padding:[20,20,20,20]}),l},vp=function(e){e&&e.getFeatures().forEach((function(t){e.removeFeature(t)}))},bp=function(e,t,n){vp(t);var r=gp(n.width,n.height);e.getView().fit(r)};function _p(e){return _p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(e)}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xp(r.key),r)}}function xp(e){var t=function(e,t){if("object"!=_p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=_p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_p(t)?t:t+""}function Sp(e,t,n){return t=Cp(t),function(e,t){if(t&&("object"===_p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ep()?Reflect.construct(t,n||[],Cp(e).constructor):t.apply(e,n))}function Ep(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ep=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cp(e)}function kp(e,t){return kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kp(e,t)}var Pp=function(e,t){return e.clientWidth/2-t.width/2},Ap=function(t){function n(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=Sp(this,n,[t]);var i="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";return r.state={selectedAnnotation:null,thumbnailUrl:i+"img/thumb_unknown.png",pdfPageNumber:1},r.pdfLeftMargin=0,r.pdfScale=1,r.selectionSource=new Nu,r.selectionLayer=new Eu({source:r.selectionSource}),r.asset=new Hf(r.props.asset),r.svgContainerRef=e.createRef(),r.pdfPageRef=e.createRef(),r.pdfViewer=null,r.onSelectedAnnotationUpdate=r.onSelectedAnnotationUpdate.bind(r),r.onPDFPageRenderSuccess=r.onPDFPageRenderSuccess.bind(r),r.refreshPdfAnnotation=r.refreshPdfAnnotation.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kp(e,t)}(n,t),r=n,i=[{key:"refreshPdfAnnotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e||this.state.selectedAnnotation)&&this.pdfPageRef&&this.pdfPageRef.current){var t=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfLeftMargin=Pp(t,this.pdfViewer);var n=e||this.state.selectedAnnotation,r=n.annotation.geometry.page||1;r===this.state.pdfPageNumber?(this.svgDraw.clear(),function(e,t,n=1,r=0,i=0){if(!t||!t.geometry||!t.geometry.coordinates)return void console.error("drawAnnotation error: coordinates not present",t);const[o,s,a,l]=function(e,t,n,r,i=1){return e*=i,t*=i,n*=i,r*=i,[Math.min(e,n),Math.min(t,r),Math.abs(n-e),Math.abs(r-t)]}(t.geometry.coordinates[0][0],t.geometry.coordinates[0][1],t.geometry.coordinates[1][0],t.geometry.coordinates[1][1],.75*n);e.rect(a,l).move(o-r,s-i).stroke({color:"#22f",width:2}).fill("none")}(this.svgDraw,n.annotation,this.pdfScale,-this.pdfLeftMargin,0)):this.setState({pdfPageNumber:r})}}},{key:"onSelectedAnnotationUpdate",value:function(e){var t=this.asset.getType(),n=this.props.asset.annotations[e];if(this.setState({selectedAnnotation:n}),"image"===t)if(this.selectionLayer&&this.map.removeLayer(this.selectionLayer),n){var r=yp(n,this.map);this.selectionLayer=r}else bp(this.map,this.selectionSource,this.asset.getImage());else if("pdf"===t){if(!this.svgDraw)return void console.error("Error: SVG element not found.");if(this.svgDraw.clear(),!n||!n.annotation)return void this.setState({pdfPageNumber:1});this.refreshPdfAnnotation(n)}}},{key:"render",value:function(){var t,n=this,r=this.asset.getType();t="pdf"===r?"PDF":v(r);var i=null;"video"===r&&this.state.selectedAnnotation&&(i=e.createElement("div",{className:"timecode"},e.createElement("span",{className:"badge badge-dark"},this.state.selectedAnnotation.annotation.startCode," - ",this.state.selectedAnnotation.annotation.endCode)));var o="asset: ".concat(this.props.asset.title);this.state.selectedAnnotation&&(o="annotation: ".concat(this.state.selectedAnnotation.title));var s=E(this.props.asset.id);return e.createElement("div",{className:"col-sm-4 border-right-8 border-white mb-4"},e.createElement("h5",{className:"text-nowrap text-truncate"},e.createElement("a",{onClick:function(e){return n.props.enterAssetDetailView(e,n.props.asset)},href:s,title:this.props.asset.title,dangerouslySetInnerHTML:{__html:this.props.asset.title}})),e.createElement("div",{key:this.props.asset.id},e.createElement("div",{className:"card-thumbnail","aria-live":"polite"},e.createElement("div",{className:"media-type"},e.createElement("span",{className:"badge badge-light"},t)),e.createElement("div",{className:"image-overlay"},e.createElement("a",{onClick:function(e){return n.props.enterAssetDetailView(e,n.props.asset)},href:s,title:this.props.asset.title},"image"===r&&e.createElement("div",{className:"ol-map mx-auto d-block img-fluid",role:"img","aria-label":"Image thumbnail for "+o,id:"map-".concat(this.props.asset.id)}),"video"===r&&e.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"Video thumbnail for "+o,src:this.state.thumbnailUrl,id:"video-".concat(this.props.asset.id),onError:function(){return w(r)}}),"audio"===r&&e.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"Audio thumbnail for "+o,src:this.state.thumbnailUrl,id:"audio-".concat(this.props.asset.id),onError:function(){return w(r)}}),"pdf"===r&&e.createElement("div",{className:"mx-auto d-block img-fluid text-center"},e.createElement(dt,{file:this.state.thumbnailUrl},e.createElement("div",{ref:this.pdfPageRef,className:"react-pdf-page-container"},e.createElement(zt,{pageNumber:this.state.pdfPageNumber,height:192,onRenderSuccess:this.onPDFPageRenderSuccess})))),"unknown"===r&&e.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"thumbnail for "+o,src:this.state.thumbnailUrl,id:"unknown-".concat(this.props.asset.id),onError:function(){return w(r)}})),i)),e.createElement(zf,{asset:this.props.asset,onSelectedAnnotationUpdate:this.onSelectedAnnotationUpdate,enterAssetDetailView:this.props.enterAssetDetailView})))}},{key:"componentDidMount",value:function(){var e=this,t=this.asset.getThumbnail();if("string"==typeof t)this.setState({thumbnailUrl:this.asset.getThumbnail()});else if(t&&t.then){var n=this;this.asset.getThumbnail().then((function(e){n.setState({thumbnailUrl:e})}))}var r=this.asset.getType();if("image"===r){var i=this.asset.getImage(),o=gp(i.width,i.height),s=new li({code:"Flatland:1",units:"pixels",extent:o});this.map=new Ka({target:"map-".concat(this.props.asset.id),controls:[],interactions:[],pixelRatio:1,layers:[new rl({source:new bl({url:i.url,projection:s,imageExtent:o})})],view:new ls({projection:s,center:sr(o),zoom:.5})})}var a="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";"unknown"===r&&this.setState({thumbnailUrl:a+"img/thumb_unknown.png"}),"audio"===r&&this.setState({thumbnailUrl:a+"img/thumb_audio.png"}),"pdf"===r&&window.addEventListener("resize",(function(t){return e.refreshPdfAnnotation(e.state.selectedAnnotation)}))}},{key:"componentWillUnmount",value:function(){"pdf"===this.asset.getType()&&window.removeEventListener("resize",this.refreshPdfAnnotation)}},{key:"onPDFPageRenderSuccess",value:function(e){this.pdfViewer=e;var t=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfScale=e.width/e.getViewport({scale:1}).width,this.pdfLeftMargin=Pp(t,e),this.svgDraw=Of().addTo(t),this.refreshPdfAnnotation(this.state.selectedAnnotation)}}],i&&wp(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ap.propTypes={asset:M().object.isRequired,currentUser:M().number.isRequired,enterAssetDetailView:M().func.isRequired};var Op=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Mp(t){var n=t.defaultInputValue,r=void 0===n?"":n,i=t.defaultMenuIsOpen,o=void 0!==i&&i,s=t.defaultValue,a=void 0===s?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,h=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,p=t.value,g=le(t,Op),m=ze((0,e.useState)(void 0!==l?l:r),2),y=m[0],v=m[1],b=ze((0,e.useState)(void 0!==c?c:o),2),_=b[0],w=b[1],x=ze((0,e.useState)(void 0!==p?p:a),2),S=x[0],E=x[1],C=(0,e.useCallback)((function(e,t){"function"==typeof u&&u(e,t),E(e)}),[u]),k=(0,e.useCallback)((function(e,t){var n;"function"==typeof h&&(n=h(e,t)),v(void 0!==n?n:e)}),[h]),P=(0,e.useCallback)((function(){"function"==typeof f&&f(),w(!0)}),[f]),A=(0,e.useCallback)((function(){"function"==typeof d&&d(),w(!1)}),[d]),T=void 0!==l?l:y,R=void 0!==c?c:_,O=void 0!==p?p:S;return Rp(Rp({},g),{},{inputValue:T,menuIsOpen:R,onChange:C,onInputChange:k,onMenuClose:A,onMenuOpen:P,value:O})}function Ip(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ip=function(){return!!e})()}var Dp=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Fp=Math.abs,Lp=String.fromCharCode,Np=Object.assign;function jp(e){return e.trim()}function zp(e,t,n){return e.replace(t,n)}function Bp(e,t){return e.indexOf(t)}function Up(e,t){return 0|e.charCodeAt(t)}function Vp(e,t,n){return e.slice(t,n)}function Wp(e){return e.length}function $p(e){return e.length}function Hp(e,t){return t.push(e),e}var qp=1,Gp=1,Xp=0,Yp=0,Kp=0,Zp="";function Qp(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:qp,column:Gp,length:s,return:""}}function Jp(e,t){return Np(Qp("",null,null,"",null,null,0),e,{length:-e.length},t)}function eg(){return Kp=Yp>0?Up(Zp,--Yp):0,Gp--,10===Kp&&(Gp=1,qp--),Kp}function tg(){return Kp=Yp<Xp?Up(Zp,Yp++):0,Gp++,10===Kp&&(Gp=1,qp++),Kp}function ng(){return Up(Zp,Yp)}function rg(){return Yp}function ig(e,t){return Vp(Zp,e,t)}function og(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sg(e){return qp=Gp=1,Xp=Wp(Zp=e),Yp=0,[]}function ag(e){return Zp="",e}function lg(e){return jp(ig(Yp-1,hg(91===e?e+2:40===e?e+1:e)))}function cg(e){for(;(Kp=ng())&&Kp<33;)tg();return og(e)>2||og(Kp)>3?"":" "}function ug(e,t){for(;--t&&tg()&&!(Kp<48||Kp>102||Kp>57&&Kp<65||Kp>70&&Kp<97););return ig(e,rg()+(t<6&&32==ng()&&32==tg()))}function hg(e){for(;tg();)switch(Kp){case e:return Yp;case 34:case 39:34!==e&&39!==e&&hg(Kp);break;case 40:41===e&&hg(e);break;case 92:tg()}return Yp}function dg(e,t){for(;tg()&&e+Kp!==57&&(e+Kp!==84||47!==ng()););return"/*"+ig(t,Yp-1)+"*"+Lp(47===e?e:tg())}function fg(e){for(;!og(ng());)tg();return ig(e,Yp)}var pg="-ms-",gg="-moz-",mg="-webkit-",yg="comm",vg="rule",bg="decl",_g="@keyframes";function wg(e,t){for(var n="",r=$p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function xg(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case bg:return e.return=e.return||e.value;case yg:return"";case _g:return e.return=e.value+"{"+wg(e.children,r)+"}";case vg:e.value=e.props.join(",")}return Wp(n=wg(e.children,r))?e.return=e.value+"{"+n+"}":""}function Sg(e){return ag(Eg("",null,null,null,[""],e=sg(e),0,[0],e))}function Eg(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,g=1,m=1,y=1,v=0,b="",_=i,w=o,x=r,S=b;m;)switch(p=v,v=tg()){case 40:if(108!=p&&58==Up(S,h-1)){-1!=Bp(S+=zp(lg(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=lg(v);break;case 9:case 10:case 13:case 32:S+=cg(p);break;case 92:S+=ug(rg()-1,7);continue;case 47:switch(ng()){case 42:case 47:Hp(kg(dg(tg(),rg()),t,n),l);break;default:S+="/"}break;case 123*g:a[c++]=Wp(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:-1==y&&(S=zp(S,/\f/g,"")),f>0&&Wp(S)-h&&Hp(f>32?Pg(S+";",r,n,h-1):Pg(zp(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Hp(x=Cg(S,t,n,c,u,i,a,b,_=[],w=[],h),o),123===v)if(0===u)Eg(S,t,x,x,_,o,h,a,w);else switch(99===d&&110===Up(S,3)?100:d){case 100:case 108:case 109:case 115:Eg(e,x,x,r&&Hp(Cg(e,x,x,0,0,i,a,b,i,_=[],h),w),i,w,h,a,r?_:w);break;default:Eg(S,x,x,x,[""],w,0,a,w)}}c=u=f=0,g=y=1,b=S="",h=s;break;case 58:h=1+Wp(S),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==eg())continue;switch(S+=Lp(v),v*g){case 38:y=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Wp(S)-1)*y,y=1;break;case 64:45===ng()&&(S+=lg(tg())),d=ng(),u=h=Wp(b=S+=fg(rg())),v++;break;case 45:45===p&&2==Wp(S)&&(g=0)}}return o}function Cg(e,t,n,r,i,o,s,a,l,c,u){for(var h=i-1,d=0===i?o:[""],f=$p(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=Vp(e,h+1,h=Fp(g=s[p])),b=e;y<f;++y)(b=jp(g>0?d[y]+" "+v:zp(v,/&\f/g,d[y])))&&(l[m++]=b);return Qp(e,t,n,0===i?vg:a,l,c,u)}function kg(e,t,n){return Qp(e,t,n,yg,Lp(Kp),Vp(e,2,-2),0)}function Pg(e,t,n,r){return Qp(e,t,n,bg,Vp(e,0,r),Vp(e,r+1,-1),r)}var Ag=function(e,t,n){for(var r=0,i=0;r=i,i=ng(),38===r&&12===i&&(t[n]=1),!og(i);)tg();return ig(e,Yp)},Tg=new WeakMap,Rg=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Tg.get(n))&&!r){Tg.set(e,!0);for(var i=[],o=function(e,t){return ag(function(e,t){var n=-1,r=44;do{switch(og(r)){case 0:38===r&&12===ng()&&(t[n]=1),e[n]+=Ag(Yp-1,t,n);break;case 2:e[n]+=lg(r);break;case 4:if(44===r){e[++n]=58===ng()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Lp(r)}}while(r=tg());return e}(sg(e),t))}(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Og=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Mg(e,t){switch(function(e,t){return 45^Up(e,0)?(((t<<2^Up(e,0))<<2^Up(e,1))<<2^Up(e,2))<<2^Up(e,3):0}(e,t)){case 5103:return mg+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mg+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mg+e+gg+e+pg+e+e;case 6828:case 4268:return mg+e+pg+e+e;case 6165:return mg+e+pg+"flex-"+e+e;case 5187:return mg+e+zp(e,/(\w+).+(:[^]+)/,mg+"box-$1$2"+pg+"flex-$1$2")+e;case 5443:return mg+e+pg+"flex-item-"+zp(e,/flex-|-self/,"")+e;case 4675:return mg+e+pg+"flex-line-pack"+zp(e,/align-content|flex-|-self/,"")+e;case 5548:return mg+e+pg+zp(e,"shrink","negative")+e;case 5292:return mg+e+pg+zp(e,"basis","preferred-size")+e;case 6060:return mg+"box-"+zp(e,"-grow","")+mg+e+pg+zp(e,"grow","positive")+e;case 4554:return mg+zp(e,/([^-])(transform)/g,"$1"+mg+"$2")+e;case 6187:return zp(zp(zp(e,/(zoom-|grab)/,mg+"$1"),/(image-set)/,mg+"$1"),e,"")+e;case 5495:case 3959:return zp(e,/(image-set\([^]*)/,mg+"$1$`$1");case 4968:return zp(zp(e,/(.+:)(flex-)?(.*)/,mg+"box-pack:$3"+pg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mg+e+e;case 4095:case 3583:case 4068:case 2532:return zp(e,/(.+)-inline(.+)/,mg+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wp(e)-1-t>6)switch(Up(e,t+1)){case 109:if(45!==Up(e,t+4))break;case 102:return zp(e,/(.+:)(.+)-([^]+)/,"$1"+mg+"$2-$3$1"+gg+(108==Up(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Bp(e,"stretch")?Mg(zp(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Up(e,t+1))break;case 6444:switch(Up(e,Wp(e)-3-(~Bp(e,"!important")&&10))){case 107:return zp(e,":",":"+mg)+e;case 101:return zp(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mg+(45===Up(e,14)?"inline-":"")+"box$3$1"+mg+"$2$3$1"+pg+"$2box$3")+e}break;case 5936:switch(Up(e,t+11)){case 114:return mg+e+pg+zp(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mg+e+pg+zp(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mg+e+pg+zp(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mg+e+pg+e+e}return e}var Ig=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case bg:e.return=Mg(e.value,e.length);break;case _g:return wg([Jp(e,{value:zp(e.value,"@","@"+mg)})],r);case vg:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return wg([Jp(e,{props:[zp(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return wg([Jp(e,{props:[zp(t,/:(plac\w+)/,":"+mg+"input-$1")]}),Jp(e,{props:[zp(t,/:(plac\w+)/,":-moz-$1")]}),Jp(e,{props:[zp(t,/:(plac\w+)/,pg+"input-$1")]})],r)}return""}))}}],Dg=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Ig,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u,h,d=[xg,(h=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],f=(c=[Rg,Og].concat(o,d),u=$p(c),function(e,t,n,r){for(var i="",o=0;o<u;o++)i+=c[o](e,t,n,r)||"";return i});i=function(e,t,n,r){l=n,wg(Sg(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Dp({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return p.sheet.hydrate(a),p},Fg=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Lg=__webpack_require__(3969);function Ng(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var jg=/[A-Z]|^ms/g,zg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bg=function(e){return 45===e.charCodeAt(1)},Ug=function(e){return null!=e&&"boolean"!=typeof e},Vg=Ng((function(e){return Bg(e)?e:e.replace(jg,"-$&").toLowerCase()})),Wg=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(zg,(function(e,t,n){return Hg={name:t,styles:n,next:Hg},t}))}return 1===Lg.A[e]||Bg(e)||"number"!=typeof t||0===t?t:t+"px"};function $g(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Hg={name:n.name,styles:n.styles,next:Hg},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Hg={name:r.name,styles:r.styles,next:Hg},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$g(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":Ug(s)&&(r+=Vg(o)+":"+Wg(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=$g(e,t,s);switch(o){case"animation":case"animationName":r+=Vg(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)Ug(s[l])&&(r+=Vg(o)+":"+Wg(o,s[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Hg,o=n(e);return Hg=i,$g(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var Hg,qg=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Gg=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Hg=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=$g(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=$g(n,t,e[s]),r&&(i+=o[s]);qg.lastIndex=0;for(var a,l="";null!==(a=qg.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Hg}},Xg=!!t.useInsertionEffect&&t.useInsertionEffect,Yg=Xg||function(e){return e()},Kg=(Xg||e.useLayoutEffect,{}.hasOwnProperty),Zg=e.createContext("undefined"!=typeof HTMLElement?Dg({key:"css"}):null);Zg.Provider;var Qg=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(Zg);return t(n,i,r)}))},Jg=e.createContext({}),em="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tm=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Fg(t,n,r),Yg((function(){return function(e,t,n){Fg(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},nm=Qg((function(t,n,r){var i=t.css;"string"==typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=t[em],s=[i],a="";"string"==typeof t.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,s,t.className):null!=t.className&&(a=t.className+" ");var l=Gg(s,void 0,e.useContext(Jg));a+=n.key+"-"+l.name;var c={};for(var u in t)Kg.call(t,u)&&"css"!==u&&u!==em&&(c[u]=t[u]);return c.ref=r,c.className=a,e.createElement(e.Fragment,null,e.createElement(tm,{cache:n,serialized:l,isStringTag:"string"==typeof o}),e.createElement(o,c))})),rm=nm,im=(__webpack_require__(4146),function(t,n){var r=arguments;if(null==n||!Kg.call(n,"css"))return e.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=rm,o[1]=function(e,t){var n={};for(var r in t)Kg.call(t,r)&&(n[r]=t[r]);return n[em]=e,n}(t,n);for(var s=2;s<i;s++)o[s]=r[s];return e.createElement.apply(null,o)});function om(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gg(t)}var sm=__webpack_require__(961);const am=Math.min,lm=Math.max,cm=Math.round,um=Math.floor,hm=e=>({x:e,y:e});function dm(e){return gm(e)?(e.nodeName||"").toLowerCase():"#document"}function fm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function pm(e){var t;return null==(t=(gm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function gm(e){return e instanceof Node||e instanceof fm(e).Node}function mm(e){return e instanceof Element||e instanceof fm(e).Element}function ym(e){return e instanceof HTMLElement||e instanceof fm(e).HTMLElement}function vm(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof fm(e).ShadowRoot)}function bm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=_m(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function _m(e){return fm(e).getComputedStyle(e)}function wm(e){const t=function(e){if("html"===dm(e))return e;const t=e.assignedSlot||e.parentNode||vm(e)&&e.host||pm(e);return vm(t)?t.host:t}(e);return function(e){return["html","body","#document"].includes(dm(e))}(t)?e.ownerDocument?e.ownerDocument.body:e.body:ym(t)&&bm(t)?t:wm(t)}function xm(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=wm(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=fm(i);return o?t.concat(s,s.visualViewport||[],bm(i)?i:[],s.frameElement&&n?xm(s.frameElement):[]):t.concat(i,xm(i,[],n))}function Sm(e){return mm(e)?e:e.contextElement}function Em(e){const t=Sm(e);if(!ym(t))return hm(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=function(e){const t=_m(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ym(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=cm(n)!==o||cm(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}(t);let s=(o?cm(n.width):n.width)/r,a=(o?cm(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Cm=hm(0);function km(e){const t=fm(e);return"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Cm}function Pm(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Sm(e);let s=hm(1);t&&(r?mm(r)&&(s=Em(r)):s=Em(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==fm(e))&&t}(o,n,r)?km(o):hm(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const e=fm(o),t=r&&mm(r)?fm(r):r;let n=e,i=n.frameElement;for(;i&&r&&t!==n;){const e=Em(i),t=i.getBoundingClientRect(),r=_m(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=s,n=fm(i),i=n.frameElement}}return function(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}({width:u,height:h,x:l,y:c})}const Am=e.useLayoutEffect;var Tm=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Rm=function(){};function Om(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Mm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&o.push("".concat(Om(e,s)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Im=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ce(e)&&null!==e?[e]:[];var t},Dm=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Rp({},le(e,Tm))},Fm=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,s=e.className;return{css:i(t,e),className:r(null!=n?n:{},o(t,e),s)}};function Lm(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Nm(e){return Lm(e)?window.pageYOffset:e.scrollTop}function jm(e,t){Lm(e)?window.scrollTo(0,t):e.scrollTop=t}function zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rm,i=Nm(e),o=t-i,s=0;!function t(){var a,l=o*((a=(a=s+=10)/n-1)*a*a+1)+i;jm(e,l),s<n?window.requestAnimationFrame(t):r(e)}()}function Bm(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?jm(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&jm(e,Math.max(t.offsetTop-i,0))}function Um(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Vm=!1,Wm={get passive(){return Vm=!0}},$m="undefined"!=typeof window?window:{};$m.addEventListener&&$m.removeEventListener&&($m.addEventListener("p",Rm,Wm),$m.removeEventListener("p",Rm,!1));var Hm=Vm;function qm(e){return null!=e}function Gm(e,t,n){return e?t:n}var Xm=["children","innerProps"],Ym=["children","innerProps"];var Km,Zm,Qm,Jm=function(e){return"auto"===e?"bottom":e},ey=(0,e.createContext)(null),ty=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,s=t.menuPosition,a=t.menuShouldScrollIntoView,l=t.theme,c=((0,e.useContext)(ey)||{}).setPortalPlacement,u=(0,e.useRef)(null),h=ze((0,e.useState)(i),2),d=h[0],f=h[1],p=ze((0,e.useState)(null),2),g=p[0],m=p[1],y=l.spacing.controlHeight;return Am((function(){var e=u.current;if(e){var t="fixed"===s,n=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,s=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),f=d.bottom,p=d.height,g=d.top,m=n.offsetParent.getBoundingClientRect().top,y=s||Lm(u=l)?window.innerHeight:u.clientHeight,v=Nm(l),b=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),w=m-_,x=y-g,S=w+v,E=h-v-g,C=f-y+v+b,k=v+g-_,P=160;switch(i){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:t};if(E>=p&&!s)return o&&zm(l,C,P),{placement:"bottom",maxHeight:t};if(!s&&E>=r||s&&x>=r)return o&&zm(l,C,P),{placement:"bottom",maxHeight:s?x-b:E-b};if("auto"===i||s){var A=t,T=s?w:S;return T>=r&&(A=Math.min(T-b-a,t)),{placement:"top",maxHeight:A}}if("bottom"===i)return o&&jm(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(w>=p)return{placement:"top",maxHeight:t};if(S>=p&&!s)return o&&zm(l,k,P),{placement:"top",maxHeight:t};if(!s&&S>=r||s&&w>=r){var R=t;return(!s&&S>=r||s&&w>=r)&&(R=s?w-_:S-_),o&&zm(l,k,P),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:y});f(n.maxHeight),m(n.placement),null==c||c(n.placement)}}),[i,o,s,a,r,c,y]),n({ref:u,placerProps:Rp(Rp({},t),{},{placement:g||Jm(o),maxHeight:d})})},ny=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return Rp({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},ry=ny,iy=ny,oy=["size"],sy=["innerProps","isRtl","size"],ay={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ly=function(e){var t=e.size,n=le(e,oy);return im("svg",se({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ay},n))},cy=function(e){return im(ly,se({size:20},e),im("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},uy=function(e){return im(ly,se({size:20},e),im("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hy=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Rp({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},dy=hy,fy=hy,py=function(){var e=om.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Km||(Zm=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Qm||(Qm=Zm.slice(0)),Km=Object.freeze(Object.defineProperties(Zm,{raw:{value:Object.freeze(Qm)}})))),gy=function(e){var t=e.delay,n=e.offset;return im("span",{css:om({animation:"".concat(py," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},my=["data"],yy=["innerRef","isDisabled","isHidden","inputClassName"],vy={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},by={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rp({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},vy)},_y=function(e){return Rp({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},vy)},wy=function(e){var t=e.children,n=e.innerProps;return im("div",n,t)},xy={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return im("div",se({},Fm(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||im(cy,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return im("div",se({ref:i},Fm(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":s}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return im("div",se({},Fm(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||im(uy,null))},DownChevron:uy,CrossIcon:cy,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,s=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return im("div",se({},Fm(e,"group",{group:!0}),a),im(o,se({},s,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),im("div",null,t))},GroupHeading:function(e){var t=Dm(e);t.data;var n=le(t,my);return im("div",se({},Fm(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return im("div",se({},Fm(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return im("span",se({},t,Fm(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Dm(e),i=r.innerRef,o=r.isDisabled,s=r.isHidden,a=r.inputClassName,l=le(r,yy);return im("div",se({},Fm(e,"input",{"input-container":!0}),{"data-value":n||""}),im("input",se({className:t({input:!0},a),ref:i,style:_y(s),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,o=le(e,sy);return im("div",se({},Fm(Rp(Rp({},o),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),im(gy,{delay:0,offset:n}),im(gy,{delay:160,offset:!0}),im(gy,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return im("div",se({},Fm(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return im("div",se({},Fm(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,s=t.menuPlacement,a=t.menuPosition,l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=ze((0,e.useState)(Jm(s)),2),h=u[0],d=u[1],f=(0,e.useMemo)((function(){return{setPortalPlacement:d}}),[]),p=ze((0,e.useState)(null),2),g=p[0],m=p[1],y=(0,e.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===a?0:window.pageYOffset,n=e[h]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||m({offset:n,rect:e})}}),[i,a,h,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);Am((function(){y()}),[y]);var v=(0,e.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Sm(e),u=i||o?[...c?xm(c):[],...xm(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const h=c&&a?function(e,t){let n,r=null;const i=pm(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(a||t(),!h||!d)return;const f={rootMargin:-um(u)+"px "+-um(i.clientWidth-(c+h))+"px "+-um(i.clientHeight-(u+d))+"px "+-um(c)+"px",threshold:lm(0,am(1,l))||1};let p=!0;function g(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(c,n):null;let d,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let g=l?Pm(e):null;return l&&function t(){const r=Pm(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||n(),g=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}(i,l.current,y,{elementResize:"ResizeObserver"in window}))}),[i,y]);Am((function(){v()}),[v]);var b=(0,e.useCallback)((function(e){l.current=e,v()}),[v]);if(!n&&"fixed"!==a||!g)return null;var _=im("div",se({ref:b},Fm(Rp(Rp({},t),{},{offset:g.offset,position:a,rect:g.rect}),"menuPortal",{"menu-portal":!0}),o),r);return im(ey.Provider,{value:f},n?(0,sm.createPortal)(_,n):_)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=le(e,Ym);return im("div",se({},Fm(Rp(Rp({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=le(e,Xm);return im("div",se({},Fm(Rp(Rp({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,s=e.removeProps,a=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return im(l,{data:r,innerProps:Rp(Rp({},Fm(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:a},im(c,{data:r,innerProps:Rp({},Fm(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),im(u,{data:r,innerProps:Rp(Rp({},Fm(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:a}))},MultiValueContainer:wy,MultiValueLabel:wy,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return im("div",se({role:"button"},n),t||im(cy,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,s=e.innerProps;return im("div",se({},Fm(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},s),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return im("div",se({},Fm(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return im("div",se({},Fm(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return im("div",se({},Fm(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return im("div",se({},Fm(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},Sy=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ey(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||Sy(r)&&Sy(i)))return!1;var r,i;return!0}for(var Cy={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ky=function(e){return im("span",se({css:Cy},e))},Py={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,s=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(o," focused, ").concat(u(s,n),".");if("menu"===t&&c){var h=a?" disabled":"",d="".concat(l?" selected":"").concat(h);return"".concat(o).concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Ay=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,s=t.isFocused,a=t.selectValue,l=t.selectProps,c=t.id,u=t.isAppleDevice,h=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,p=l.isMulti,g=l.isOptionDisabled,m=l.isSearchable,y=l.menuIsOpen,v=l.options,b=l.screenReaderStatus,_=l.tabSelectsValue,w=l.isLoading,x=l["aria-label"],S=l["aria-live"],E=(0,e.useMemo)((function(){return Rp(Rp({},Py),h||{})}),[h]),C=(0,e.useMemo)((function(){var e,t="";if(n&&E.onChange){var r=n.option,i=n.options,o=n.removedValue,s=n.removedValues,l=n.value,c=o||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=i||s||void 0,f=h?h.map(d):[],p=Rp({isDisabled:c&&g(c,a),label:u,labels:f},n);t=E.onChange(p)}return t}),[n,E,g,a,d]),k=(0,e.useMemo)((function(){var e="",t=r||i,n=!!(r&&a&&a.includes(r));if(t&&E.onFocus){var s={focused:t,label:d(t),isDisabled:g(t,a),isSelected:n,options:o,context:t===r?"menu":"value",selectValue:a,isAppleDevice:u};e=E.onFocus(s)}return e}),[r,i,d,g,E,o,a,u]),P=(0,e.useMemo)((function(){var e="";if(y&&v.length&&!w&&E.onFilter){var t=b({count:o.length});e=E.onFilter({inputValue:f,resultsMessage:t})}return e}),[o,f,y,E,v,b,w]),A="initial-input-focus"===(null==n?void 0:n.action),T=(0,e.useMemo)((function(){var e="";if(E.guidance){var t=i?"value":y?"menu":"input";e=E.guidance({"aria-label":x,context:t,isDisabled:r&&g(r,a),isMulti:p,isSearchable:m,tabSelectsValue:_,isInitialFocus:A})}return e}),[x,r,i,p,g,m,y,E,a,_,A]),R=im(e.Fragment,null,im("span",{id:"aria-selection"},C),im("span",{id:"aria-focused"},k),im("span",{id:"aria-results"},P),im("span",{id:"aria-guidance"},T));return im(e.Fragment,null,im(ky,{id:c},A&&R),im(ky,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!A&&R))},Ty=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Ry=new RegExp("["+Ty.map((function(e){return e.letters})).join("")+"]","g"),Oy={},My=0;My<Ty.length;My++)for(var Iy=Ty[My],Dy=0;Dy<Iy.letters.length;Dy++)Oy[Iy.letters[Dy]]=Iy.base;var Fy=function(e){return e.replace(Ry,(function(e){return Oy[e]}))},Ly=function(e,t){void 0===t&&(t=Ey);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(Fy),Ny=function(e){return e.replace(/^\s+|\s+$/g,"")},jy=function(e){return"".concat(e.label," ").concat(e.value)},zy=["innerRef"];function By(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=ze(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=ze(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(le(e,zy),"onExited","in","enter","exit","appear");return im("input",se({ref:t},n,{css:om({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Uy=["boxSizing","height","overflow","paddingRight","position"],Vy={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Wy(e){e.preventDefault()}function $y(e){e.stopPropagation()}function Hy(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function qy(){return"ontouchstart"in window||navigator.maxTouchPoints}var Gy=!("undefined"==typeof window||!window.document||!window.document.createElement),Xy=0,Yy={capture:!1,passive:!1},Ky=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Zy={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Qy(t){var n=t.children,r=t.lockEnabled,i=t.captureEnabled,o=function(t){var n=t.isEnabled,r=t.onBottomArrive,i=t.onBottomLeave,o=t.onTopArrive,s=t.onTopLeave,a=(0,e.useRef)(!1),l=(0,e.useRef)(!1),c=(0,e.useRef)(0),u=(0,e.useRef)(null),h=(0,e.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,f=u.current,p=t>0,g=h-d-c,m=!1;g>t&&a.current&&(i&&i(e),a.current=!1),p&&l.current&&(s&&s(e),l.current=!1),p&&t>g?(r&&!a.current&&r(e),f.scrollTop=h,m=!0,a.current=!0):!p&&-t>c&&(o&&!l.current&&o(e),f.scrollTop=0,m=!0,l.current=!0),m&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,o,s]),d=(0,e.useCallback)((function(e){h(e,e.deltaY)}),[h]),f=(0,e.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,e.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),g=(0,e.useCallback)((function(e){if(e){var t=!!Hm&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,d]),m=(0,e.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,d]);return(0,e.useEffect)((function(){if(n){var e=u.current;return g(e),function(){m(e)}}}),[n,g,m]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),s=function(t){var n=t.isEnabled,r=t.accountForScrollbars,i=void 0===r||r,o=(0,e.useRef)({}),s=(0,e.useRef)(null),a=(0,e.useCallback)((function(e){if(Gy){var t=document.body,n=t&&t.style;if(i&&Uy.forEach((function(e){var t=n&&n[e];o.current[e]=t})),i&&Xy<1){var r=parseInt(o.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,a=window.innerWidth-s+r||0;Object.keys(Vy).forEach((function(e){var t=Vy[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(a,"px"))}t&&qy()&&(t.addEventListener("touchmove",Wy,Yy),e&&(e.addEventListener("touchstart",Hy,Yy),e.addEventListener("touchmove",$y,Yy))),Xy+=1}}),[i]),l=(0,e.useCallback)((function(e){if(Gy){var t=document.body,n=t&&t.style;Xy=Math.max(Xy-1,0),i&&Xy<1&&Uy.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&qy()&&(t.removeEventListener("touchmove",Wy,Yy),e&&(e.removeEventListener("touchstart",Hy,Yy),e.removeEventListener("touchmove",$y,Yy)))}}),[i]);return(0,e.useEffect)((function(){if(n){var e=s.current;return a(e),function(){l(e)}}}),[n,a,l]),function(e){s.current=e}}({isEnabled:r});return im(e.Fragment,null,r&&im("div",{onClick:Ky,css:Zy}),n((function(e){o(e),s(e)})))}var Jy={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ev=function(e){var t=e.name,n=e.onFocus;return im("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Jy,value:"",onChange:function(){}})};function tv(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function nv(){return tv(/^Mac/i)}var rv=function(e){return e.label},iv=function(e){return e.value},ov={clearIndicator:fy,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,s=i.borderRadius;return Rp({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:dy,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return Rp({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Rp({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,s=i.colors;return Rp(Rp({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},by),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,s=i.spacing.baseUnit;return Rp({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*s})},loadingMessage:iy,menu:function(e,t){var n,r=e.placement,i=e.theme,o=i.borderRadius,s=i.spacing,a=i.colors;return Rp((be(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),be(n,"position","absolute"),be(n,"width","100%"),be(n,"zIndex",1),n),t?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Rp({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return Rp({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Rp({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,s=e.isFocused;return Rp({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:ry,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,s=o.spacing,a=o.colors;return Rp({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?a.primary:a.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return Rp({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return Rp({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Rp({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},sv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},av={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Um(),captureMenuScroll:!Um(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Rp({ignoreCase:!0,ignoreAccents:!0,stringify:jy,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,s=n.trim,a=n.matchFrom,l=s?Ny(t):t,c=s?Ny(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=Ly(l),c=Fy(c)),"start"===a?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:rv,getOptionValue:iv,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function lv(e,t,n,r){return{type:"option",data:t,isDisabled:mv(e,t,n),isSelected:yv(e,t,n),label:pv(e,t),value:gv(e,t),index:r}}function cv(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return lv(e,n,t,r)})).filter((function(t){return dv(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=lv(e,n,t,r);return dv(e,o)?o:void 0})).filter(qm)}function uv(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Ke(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function hv(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Ke(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function dv(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,s=t.label,a=t.value;return(!bv(e)||!o)&&vv(e,{label:s,value:a,data:i},r)}var fv=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},pv=function(e,t){return e.getOptionLabel(t)},gv=function(e,t){return e.getOptionValue(t)};function mv(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function yv(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=gv(e,t);return n.some((function(t){return gv(e,t)===r}))}function vv(e,t,n){return!e.filterOption||e.filterOption(t,n)}var bv=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},_v=1,wv=function(t){me(o,t);var n,r,i=(n=o,r=Ip(),function(){var e,t=ve(n);if(r){var i=ve(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ye(this,e)});function o(e){var t;if(ue(this,o),(t=i.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=nv()||tv(/^iPhone/i)||tv(/^iPad/i)||nv()&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,o=i.closeMenuOnSelect,s=i.isMulti,a=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:a}),o&&(t.setState({inputIsHiddenAfterUpdate:!s}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,s=t.state.selectValue,a=i&&t.isOptionSelected(e,s),l=t.isOptionDisabled(e,s);if(a){var c=t.getOptionValue(e);t.setValue(s.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});i?t.setValue([].concat(Ke(s),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==i})),s=Gm(n,o,o[0]||null);t.onChange(s,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Gm(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=Gm(e,i,i[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return fv(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return hv(cv(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Mm.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return pv(t.props,e)},t.getOptionValue=function(e){return gv(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=ov[e](n,r);i.boxSizing="border-box";var o=t.props.styles[e];return o?o(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Rp(Rp({},xy),e.components);var e},t.buildCategorizedOptions=function(){return cv(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return uv(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Rp({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Lm(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return bv(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,s=n.inputValue,a=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,h=n.tabSelectsValue,d=n.openMenuOnFocus,f=t.state,p=f.focusedOption,g=f.focusedValue,m=f.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||s)return;t.focusValue("previous");break;case"ArrowRight":if(!r||s)return;t.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(g)t.removeValue(g);else{if(!i)return;r?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!h||!p||d&&t.isOptionSelected(p,m))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:s}),t.onMenuClose()):a&&o&&t.clearValue();break;case" ":if(s)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++_v),t.state.selectValue=Im(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),r=t.buildFocusableOptions(),s=r.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=r[s],t.state.focusedOptionId=fv(n,r[s])}return t}return fe(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Bm(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Bm(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),s="first"===e?0:o.length-1;if(!this.props.isMulti){var a=o.indexOf(r[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[s],focusedOptionId:this.getFocusedOptionId(o[s])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,s=-1;if(n.length){switch(e){case"previous":s=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(s=i+1)}this.setState({inputIsHidden:-1!==s,focusedValue:n[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(sv):Rp(Rp({},sv),this.props.theme):sv}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,s=this.setValue,a=this.props,l=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:o,selectProps:a,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return mv(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return yv(this.props,e,t)}},{key:"filterOption",value:function(e,t){return vv(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,r=t.isSearchable,i=t.inputId,o=t.inputValue,s=t.tabIndex,a=t.form,l=t.menuIsOpen,c=t.required,u=this.getComponents().Input,h=this.state,d=h.inputIsHidden,f=h.ariaSelection,p=this.commonProps,g=i||this.getElementId("input"),m=Rp(Rp(Rp({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?e.createElement(u,se({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:g,innerRef:this.getInputRef,isDisabled:n,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:a,type:"text",value:o},m)):e.createElement(By,se({id:g,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Rm,onFocus:this.onInputFocus,disabled:n,tabIndex:s,inputMode:"none",form:a,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,o=n.MultiValueLabel,s=n.MultiValueRemove,a=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,f=u.isMulti,p=u.inputValue,g=u.placeholder,m=this.state,y=m.selectValue,v=m.focusedValue,b=m.isFocused;if(!this.hasValue()||!h)return p?null:e.createElement(l,se({},c,{key:"placeholder",isDisabled:d,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),g);if(f)return y.map((function(n,a){var l=n===v,u="".concat(t.getOptionLabel(n),"-").concat(t.getOptionValue(n));return e.createElement(r,se({},c,{components:{Container:i,Label:o,Remove:s},isFocused:l,isDisabled:d,key:u,index:a,removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),t.formatOptionLabel(n,"value"))}));if(p)return null;var _=y[0];return e.createElement(a,se({},c,{data:_,isDisabled:d}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;if(!this.isClearable()||!t||i||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,se({},n,{innerProps:a,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;return t&&o?e.createElement(t,se({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s})):null}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),n=t.DropdownIndicator,r=t.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return e.createElement(r,se({},i,{isDisabled:o,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,se({},n,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var t=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,o=n.Menu,s=n.MenuList,a=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,h=this.commonProps,d=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,g=f.inputValue,m=f.isLoading,y=f.loadingMessage,v=f.minMenuHeight,b=f.maxMenuHeight,_=f.menuIsOpen,w=f.menuPlacement,x=f.menuPosition,S=f.menuPortalTarget,E=f.menuShouldBlockScroll,C=f.menuShouldScrollIntoView,k=f.noOptionsMessage,P=f.onMenuScrollToTop,A=f.onMenuScrollToBottom;if(!_)return null;var T,R=function(n,r){var i=n.type,o=n.data,s=n.isDisabled,a=n.isSelected,l=n.label,c=n.value,f=d===o,p=s?void 0:function(){return t.onOptionHover(o)},g=s?void 0:function(){return t.selectOption(o)},m="".concat(t.getElementId("option"),"-").concat(r),y={id:m,onClick:g,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":t.isAppleDevice?void 0:a};return e.createElement(u,se({},h,{innerProps:y,data:o,isDisabled:s,isSelected:a,key:m,label:l,type:i,value:c,isFocused:f,innerRef:f?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,s=n.options,a=n.index,l="".concat(t.getElementId("group"),"-").concat(a),c="".concat(l,"-heading");return e.createElement(r,se({},h,{key:l,data:o,options:s,Heading:i,headingProps:{id:c,data:n.data},label:t.formatGroupLabel(n.data)}),n.options.map((function(e){return R(e,"".concat(a,"-").concat(e.index))})))}if("option"===n.type)return R(n,"".concat(n.index))}));else if(m){var O=y({inputValue:g});if(null===O)return null;T=e.createElement(l,h,O)}else{var M=k({inputValue:g});if(null===M)return null;T=e.createElement(c,h,M)}var I={minMenuHeight:v,maxMenuHeight:b,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:C},D=e.createElement(ty,se({},h,I),(function(n){var r=n.ref,i=n.placerProps,a=i.placement,l=i.maxHeight;return e.createElement(o,se({},h,I,{innerRef:r,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:m,placement:a}),e.createElement(Qy,{captureEnabled:p,onTopArrive:P,onBottomArrive:A,lockEnabled:E},(function(n){return e.createElement(s,se({},h,{innerRef:function(e){t.getMenuListRef(e),n(e)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:t.getElementId("listbox")},isLoading:m,maxHeight:l,focusedOption:d}),T)})))}));return S||"fixed"===x?e.createElement(a,se({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),D):D}},{key:"renderFormField",value:function(){var t=this,n=this.props,r=n.delimiter,i=n.isDisabled,o=n.isMulti,s=n.name,a=n.required,l=this.state.selectValue;if(a&&!this.hasValue()&&!i)return e.createElement(ev,{name:s,onFocus:this.onValueInputFocus});if(s&&!i){if(o){if(r){var c=l.map((function(e){return t.getOptionValue(e)})).join(r);return e.createElement("input",{name:s,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,r){return e.createElement("input",{key:"i-".concat(r),name:s,type:"hidden",value:t.getOptionValue(n)})})):e.createElement("input",{name:s,type:"hidden",value:""});return e.createElement("div",null,u)}var h=l[0]?this.getOptionValue(l[0]):"";return e.createElement("input",{name:s,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,o=n.focusedValue,s=n.isFocused,a=n.selectValue,l=this.getFocusableOptions();return e.createElement(Ay,se({},t,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:o,isFocused:s,selectValue:a,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),n=t.Control,r=t.IndicatorsContainer,i=t.SelectContainer,o=t.ValueContainer,s=this.props,a=s.className,l=s.id,c=s.isDisabled,u=s.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return e.createElement(i,se({},d,{className:a,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),e.createElement(n,se({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:u}),e.createElement(o,se({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(r,se({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,s=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,h=e.menuIsOpen,d=e.inputValue,f=e.isMulti,p=Im(u),g={};if(n&&(u!==n.value||c!==n.options||h!==n.menuIsOpen||d!==n.inputValue)){var m=h?function(e,t){return uv(cv(e,t))}(e,p):[],y=h?hv(cv(e,p),"".concat(l,"-option")):[],v=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,b=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);g={selectValue:p,focusedOption:b,focusedOptionId:fv(y,b),focusableOptionsWithIds:y,focusedValue:v,clearFocusValueOnUpdate:!1}}var _=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},w=o,x=s&&a;return s&&!x&&(w={value:Gm(f,p,p[0]||null),options:p,action:"initial-input-focus"},x=!a),"initial-input-focus"===(null==o?void 0:o.action)&&(w=null),Rp(Rp(Rp({},g),_),{},{prevProps:e,ariaSelection:w,prevWasFocused:x})}}]),o}(e.Component);wv.defaultProps=av;var xv=(0,e.forwardRef)((function(t,n){var r=Mp(t);return e.createElement(wv,se({ref:n},r))})),Sv=__webpack_require__(4792),Ev=__webpack_require__.n(Sv);function Cv(e){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(e)}function kv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iv(r.key),r)}}function Pv(e,t,n){return t=Tv(t),function(e,t){if(t&&("object"===Cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Av()?Reflect.construct(t,n||[],Tv(e).constructor):t.apply(e,n))}function Av(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Av=function(){return!!e})()}function Tv(e){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(e)}function Rv(e,t){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rv(e,t)}function Ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ov(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=Iv(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iv(e){var t=function(e,t){if("object"!=Cv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cv(t)?t:t+""}var Dv={container:function(e,t){return Mv(Mv({},e),{},{padding:0,height:"fit-content",zIndex:5})},control:function(e,t){return Mv(Mv({},e),{},{borderWidth:0,minHeight:"fit-content",height:"fit-content"})},singleValue:function(e,t){return Mv(Mv({},e),{},{top:"45%"})},placeholder:function(e,t){return Mv(Mv({},e),{},{top:"45%"})},menuPortal:function(e,t){return Mv(Mv({},e),{},{zIndex:4})},indicatorsContainer:function(e,t){return Mv(Mv({},e),{},{height:"29px"})},input:function(e,t){return Mv(Mv({},e),{},{height:"21px"})},option:function(e,t){return Mv(Mv({},e),{},{paddingLeft:"20px"})}},Fv={value:"me",label:"Me"},Lv={value:"all",label:"All Class Members"},Nv=function(e,t){if(window.MediaThread&&e===window.MediaThread.current_username)return Fv;if("all"===e)return Lv;var n=s()(t,(function(t){return t.username===e}));return n?{value:n.username,label:n.public_name}:null},jv=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Pv(this,n,[e])).handleOwnerChange=t.handleOwnerChange.bind(t),t.handleTagsChange=t.handleTagsChange.bind(t),t.handleTermsChange=t.handleTermsChange.bind(t),t.handleTitleChange=t.handleTitleChange.bind(t),t.handleTitleSearch=t.handleTitleSearch.bind(t),t.handleTitleFilterSearch=t.handleTitleFilterSearch.bind(t),t.handleDateChange=t.handleDateChange.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rv(e,t)}(n,t),r=n,i=[{key:"handleTagsChange",value:function(e){this.props.onUpdateFilter({tags:e})}},{key:"handleTermsChange",value:function(e){this.props.onUpdateFilter({terms:e})}},{key:"handleTitleSearch",value:function(e){"Enter"===e.key&&this.handleTitleFilterSearch()}},{key:"handleTitleFilterSearch",value:function(){this.filterItems(T(this.props))}},{key:"handleTitleChange",value:function(e){var t=e.target.value.toLowerCase();this.props.onUpdateFilter({title:t})}},{key:"handleOwnerChange",value:function(e){var t=e.value;"me"===t&&(t=window.MediaThread.current_username),this.props.onUpdateFilter({owner:t})}},{key:"handleDateChange",value:function(e){this.setState({date:e.value}),this.props.onUpdateFilter({date:e.value})}},{key:"filterItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.onUpdateItems(null);var t=this;c(e.title,e.owner,e.tags,e.terms,e.date,20*this.props.currentPage).then((function(e){t.props.onUpdateItems(e.assets,e.asset_count,e.active_tags,e.active_vocabulary),t.props.updatePageCount(e.asset_count)}),(function(e){console.error("asset get error!",e)}))}},{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.setState({filteredItems:this.props.items}),e.owner===this.props.owner&&e.tags===this.props.tags&&e.terms===this.props.terms&&e.date===this.props.date||this.filterItems(T(this.props))}},{key:"getOwnersOptions",value:function(){var e=[Fv,Lv];return this.props.owners&&this.props.owners.forEach((function(t){if(t.id===window.MediaThread.current_user)return!1;var n={label:t.public_name,value:t.username};e.push(n)})),e}},{key:"render",value:function(){var t,n=k(this.props.allTags),r=P(this.props.allTerms),i=(Math.random()+1).toString(36).substring(7),o="ownerFilter-".concat(i),s="termFilter-".concat(i),a="tagFilter-".concat(i),l="dateFilter-".concat(i),c="searchFilter-".concat(i);return e.createElement(e.Fragment,null,e.createElement("form",{id:"search-well"},e.createElement("div",{className:"form-row"},e.createElement("div",{className:"form-group col-md-3"},e.createElement("label",{htmlFor:c},"Title"),e.createElement("div",{className:"input-group mb-3"},e.createElement("input",{id:c,type:"text",className:"form-control form-control-sm",placeholder:"Search for...",onChange:this.handleTitleChange,onKeyDown:this.handleTitleSearch,value:this.props.title||""}),e.createElement("div",{className:"input-group-append"},e.createElement("a",{href:"#",className:"btn btn-secondary btn-sm",type:"button",onClick:this.handleTitleFilterSearch},"Search")))),e.createElement("div",{className:"form-group col-md-2"},e.createElement("label",{htmlFor:o},"Owner"),e.createElement(xv,{id:"ownerFilter",inputId:o,menuPortalTarget:document.body,styles:Dv,menuContainerStyle:{zIndex:5},className:"react-select form-control form-control-sm",onChange:this.handleOwnerChange,value:Nv(this.props.owner,this.props.owners),options:this.getOwnersOptions()})),e.createElement("div",{className:"form-group col-md-2"},e.createElement("label",{htmlFor:a},"Tag"),e.createElement(xv,{id:"tagFilter",inputId:a,menuPortalTarget:document.body,styles:Dv,className:"react-select form-control form-control-sm",onChange:this.handleTagsChange,value:this.props.tags,isMulti:!0,options:n})),window.MediaThread&&window.MediaThread.current_course_has_vocab&&e.createElement("div",{className:"form-group col-md-2"},e.createElement("label",{htmlFor:s},"Course Vocabulary"),e.createElement(xv,{id:"termFilter",inputId:s,menuPortalTarget:document.body,styles:Dv,className:"react-select form-control form-control-sm",onChange:this.handleTermsChange,value:this.props.terms,isMulti:!0,formatGroupLabel:function(t){return e.createElement("div",{className:"font-weight-bold"},e.createElement("span",null,t.label))},options:r})),e.createElement("div",{className:"form-group col-md-2"},e.createElement("label",{htmlFor:l},"Date"),e.createElement(xv,{id:"filterDate",inputId:l,menuPortalTarget:document.body,styles:Dv,className:"react-select form-control form-control-sm",onChange:this.handleDateChange,defaultValue:{value:"all",label:"All"},value:(t=this.props.date,"lastweek"===t?{value:t,label:"Within the last week"}:{value:t,label:Ev()(t)}),options:[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"lastweek",label:"Within the last week"}]})),e.createElement("div",{className:"form-group col-md-1"},e.createElement("label",{htmlFor:"clear-button",className:"sr-only"},"Clear"),e.createElement("div",{className:"input-group mb-3",style:{marginTop:"32px"}},e.createElement("a",{href:"#",className:"btn btn-secondary btn-sm btn-block",id:"clear-button",type:"button",onClick:this.props.onClearFilter},"Clear"))))))}}],i&&kv(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);jv.propTypes={items:M().array,itemCount:M().number,owners:M().array,currentPage:M().number.isRequired,updatePageCount:M().func.isRequired,allTags:M().array,allTerms:M().array,onUpdateItems:M().func.isRequired,onUpdateFilter:M().func.isRequired,onClearFilter:M().func.isRequired,owner:M().string,title:M().string,tags:M().array,terms:M().array,date:M().string};var zv=__webpack_require__(3554),Bv=__webpack_require__.n(zv),Uv=__webpack_require__(6942),Vv=__webpack_require__.n(Uv);function Wv(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function $v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Hv(t,n){return Object.keys(n).reduce((function(r,i){var o,s=r,a=s[Wv(i)],l=s[i],c=ae(s,[Wv(i),i].map($v)),u=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),s=o[0],a=o[1],l=void 0!==t,c=i.current;return i.current=l,!l&&c&&s!==n&&a(n),[l?t:s,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,t[u]),d=h[0],f=h[1];return se({},c,((o={})[i]=d,o[u]=f,o))}),t)}__webpack_require__(311);const qv=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function Gv(t){const n=qv(t);return(0,e.useCallback)((function(...e){return n.current&&n.current(...e)}),[n])}var Xv=__webpack_require__(4848);const Yv=e.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:Kv,Provider:Zv}=Yv;function Qv(t,n){const{prefixes:r}=(0,e.useContext)(Yv);return t||r[n]||n}const Jv=t=>e.forwardRef(((e,n)=>(0,Xv.jsx)("div",{...e,ref:n,className:Vv()(e.className,t)}))),eb=Jv("h4");eb.displayName="DivStyledAsH4";const tb=e.forwardRef((({className:e,bsPrefix:t,as:n=eb,...r},i)=>(t=Qv(t,"alert-heading"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));tb.displayName="AlertHeading";const nb=tb,rb=void 0!==__webpack_require__.g&&__webpack_require__.g.navigator&&"ReactNative"===__webpack_require__.g.navigator.product,ib="undefined"!=typeof document||rb?e.useLayoutEffect:e.useEffect;new WeakMap;const ob=["as","disabled"];function sb({tagName:e,disabled:t,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){e||(e=null!=n||null!=r||null!=i?"a":"button");const c={tagName:e};if("button"===e)return[{type:l||"button",disabled:t},c];const u=r=>{(t||"a"===e&&function(e){return!e||"#"===e.trim()}(n))&&r.preventDefault(),t?r.stopPropagation():null==s||s(r)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?i:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}const ab=e.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ob);const[o,{tagName:s}]=sb(Object.assign({tagName:n,disabled:r},i));return(0,Xv.jsx)(s,Object.assign({},i,o,{ref:t}))}));ab.displayName="Button";const lb=ab,cb=["onKeyDown"],ub=e.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cb);const[i]=sb(Object.assign({tagName:"a"},r)),o=Gv((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,Xv.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Xv.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var s}));ub.displayName="Anchor";const hb=ub,db=e.forwardRef((({className:e,bsPrefix:t,as:n=hb,...r},i)=>(t=Qv(t,"alert-link"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));db.displayName="AlertLink";const fb=db,pb=e.createContext(null);var gb="unmounted",mb="exited",yb="entering",vb="entered",bb="exiting",_b=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=mb,r.appearStatus=yb):i=vb:i=e.unmountOnExit||e.mountOnEnter?gb:mb,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,ge(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===gb?{status:mb}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==yb&&n!==vb&&(t=yb):n!==yb&&n!==vb||(t=bb)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===yb){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:sm.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===mb&&this.setState({status:gb})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[sm.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;e||n?(this.props.onEnter(o,s),this.safeSetState({status:yb},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:vb},(function(){t.props.onEntered(o,s)}))}))}))):this.safeSetState({status:vb},(function(){t.props.onEntered(o)}))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:sm.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:bb},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:mb},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:mb},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:sm.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if(t===gb)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,ae(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(pb.Provider,{value:null},"function"==typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function wb(){}_b.contextType=pb,_b.propTypes={},_b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wb,onEntering:wb,onEntered:wb,onExit:wb,onExiting:wb,onExited:wb},_b.UNMOUNTED=gb,_b.EXITED=mb,_b.ENTERING=yb,_b.ENTERED=vb,_b.EXITING=bb;const xb=_b;function Sb(e){return e&&e.ownerDocument||document}var Eb=/([A-Z])/g,Cb=/^ms-/;function kb(e){return function(e){return e.replace(Eb,"-$1").toLowerCase()}(e).replace(Cb,"-ms-")}var Pb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ab=function(e,t){var n="",r="";if("string"==typeof t)return e.style.getPropertyValue(kb(t))||function(e,t){return function(e){var t=Sb(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}(e).getPropertyValue(kb(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?function(e){return!(!e||!Pb.test(e))}(i)?r+=i+"("+o+") ":n+=kb(i)+": "+o+";":e.style.removeProperty(kb(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Tb=!("undefined"==typeof window||!window.document||!window.document.createElement);var Rb=!1,Ob=!1;try{var Mb={get passive(){return Rb=!0},get once(){return Ob=Rb=!0}};Tb&&(window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,!0))}catch(e){}const Ib=function(e,t,n,r){if(r&&"boolean"!=typeof r&&!Ob){var i=r.once,o=r.capture,s=n;!Ob&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,Rb?r:o)}e.addEventListener(t,n,r)},Db=function(e,t,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)},Fb=function(e,t,n,r){return Ib(e,t,n,r),function(){Db(e,t,n,r)}};function Lb(e,t,n,r){null==n&&(n=function(e){var t=Ab(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=function(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent("transitionend",n,r),e.dispatchEvent(i)}}(e,0,!0)}),t+n),o=Fb(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}(e,n,r),o=Fb(e,"transitionend",t);return function(){i(),o()}}function Nb(e,t){const n=Ab(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function jb(e,t){const n=Nb(e,"transitionDuration"),r=Nb(e,"transitionDelay"),i=Lb(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const zb=e=>e&&"function"!=typeof e?t=>{e.current=t}:e,Bb=function(t,n){return(0,e.useMemo)((()=>function(e,t){const n=zb(e),r=zb(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])},Ub=e.forwardRef((({onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:a,children:l,childRef:c,...u},h)=>{const d=(0,e.useRef)(null),f=Bb(d,c),p=e=>{var t;f((t=e)&&"setState"in t?sm.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&d.current&&e(d.current,t)},m=(0,e.useCallback)(g(t),[t]),y=(0,e.useCallback)(g(n),[n]),v=(0,e.useCallback)(g(r),[r]),b=(0,e.useCallback)(g(i),[i]),_=(0,e.useCallback)(g(o),[o]),w=(0,e.useCallback)(g(s),[s]),x=(0,e.useCallback)(g(a),[a]);return(0,Xv.jsx)(xb,{ref:h,...u,onEnter:m,onEntered:v,onEntering:y,onExit:b,onExited:w,onExiting:_,addEndListener:x,nodeRef:d,children:"function"==typeof l?(e,t)=>l(e,{...t,ref:p}):e.cloneElement(l,{ref:p})})})),Vb=Ub,Wb={[yb]:"show",[vb]:"show"},$b=e.forwardRef((({className:t,children:n,transitionClasses:r={},onEnter:i,...o},s)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},l=(0,e.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==i||i(e,t)}),[i]);return(0,Xv.jsx)(Vb,{ref:s,addEndListener:jb,...a,onEnter:l,childRef:n.ref,children:(i,o)=>e.cloneElement(n,{...o,className:Vv()("fade",t,n.props.className,Wb[i],r[i])})})}));$b.displayName="Fade";const Hb=$b,qb={"aria-label":M().string,onClick:M().func,variant:M().oneOf(["white"])},Gb=e.forwardRef((({className:e,variant:t,"aria-label":n="Close",...r},i)=>(0,Xv.jsx)("button",{ref:i,type:"button",className:Vv()("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r})));Gb.displayName="CloseButton",Gb.propTypes=qb;const Xb=Gb,Yb=e.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:s,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=Hb,...d}=Hv(e,{show:"onClose"}),f=Qv(n,"alert"),p=Gv((e=>{c&&c(!1,e)})),g=!0===h?Hb:h,m=(0,Xv.jsxs)("div",{role:"alert",...g?void 0:d,ref:t,className:Vv()(s,f,l&&`${f}-${l}`,u&&`${f}-dismissible`),children:[u&&(0,Xv.jsx)(Xb,{onClick:p,"aria-label":i,variant:o}),a]});return g?(0,Xv.jsx)(g,{unmountOnExit:!0,...d,ref:void 0,in:r,children:m}):r?m:null}));Yb.displayName="Alert";const Kb=Object.assign(Yb,{Link:fb,Heading:nb});__webpack_require__(2816);var Zb=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qb(e,t){return Zb(e.querySelectorAll(t))}const Jb=e.createContext(null);Jb.displayName="NavContext";const e_=Jb,t_=(e,t=null)=>null!=e?String(e):t||null,n_=e.createContext(null),r_=e.createContext(null),i_="data-rr-ui-";function o_(e){return`${i_}${e}`}const s_=["as","active","eventKey"];function a_({key:t,onClick:n,active:r,id:i,role:o,disabled:s}){const a=(0,e.useContext)(n_),l=(0,e.useContext)(e_),c=(0,e.useContext)(r_);let u=r;const h={role:o};if(l){o||"tablist"!==l.role||(h.role="tab");const e=l.getControllerId(null!=t?t:null),n=l.getControlledId(null!=t?t:null);h[o_("event-key")]=t,h.id=e||i,u=null==r&&null!=t?l.activeKey===t:r,!u&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(h["aria-controls"]=n)}return"tab"===h.role&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Gv((e=>{s||(null==n||n(e),null!=t&&a&&!e.isPropagationStopped()&&a(t,e))})),[h,{isActive:u}]}const l_=e.forwardRef(((e,t)=>{let{as:n=lb,active:r,eventKey:i}=e,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s_);const[s,a]=a_(Object.assign({key:t_(i,o.href),active:r},o));return s[o_("active")]=a.isActive,(0,Xv.jsx)(n,Object.assign({},o,s,{ref:t}))}));l_.displayName="NavItem";const c_=l_,u_=["as","onSelect","activeKey","role","onKeyDown"],h_=()=>{},d_=o_("event-key"),f_=e.forwardRef(((t,n)=>{let{as:r="div",onSelect:i,activeKey:o,role:s,onKeyDown:a}=t,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,u_);const c=function(){const[,t]=(0,e.useReducer)((e=>!e),!1);return t}(),u=(0,e.useRef)(!1),h=(0,e.useContext)(n_),d=(0,e.useContext)(r_);let f,p;d&&(s=s||"tablist",o=d.activeKey,f=d.getControlledId,p=d.getControllerId);const g=(0,e.useRef)(null),m=e=>{const t=g.current;if(!t)return null;const n=Qb(t,`[${d_}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=(e,t)=>{null!=e&&(null==i||i(e,t),null==h||h(e,t))};(0,e.useEffect)((()=>{if(g.current&&u.current){const e=g.current.querySelector(`[${d_}][aria-selected=true]`);null==e||e.focus()}u.current=!1}));const v=Bb(n,g);return(0,Xv.jsx)(n_.Provider,{value:y,children:(0,Xv.jsx)(e_.Provider,{value:{role:s,activeKey:t_(o),getControlledId:f||h_,getControllerId:p||h_},children:(0,Xv.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==a||a(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}t&&(e.preventDefault(),y(t.dataset[("EventKey","rrUiEventKey")]||null,e),u.current=!0,c())},ref:v,role:s}))})})}));f_.displayName="Nav";const p_=Object.assign(f_,{Item:c_}),g_=e.createContext(null);g_.displayName="NavbarContext";const m_=g_,y_=e.createContext(null);y_.displayName="CardHeaderContext";const v_=y_,b_=e.forwardRef((({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Qv(t,"nav-item"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));b_.displayName="NavItem";const __=b_,w_=e.forwardRef((({bsPrefix:e,className:t,as:n=hb,active:r,eventKey:i,disabled:o=!1,...s},a)=>{e=Qv(e,"nav-link");const[l,c]=a_({key:t_(i,s.href),active:r,disabled:o,...s});return(0,Xv.jsx)(n,{...s,...l,ref:a,disabled:o,className:Vv()(t,e,o&&"disabled",c.isActive&&"active")})}));w_.displayName="NavLink";const x_=w_,S_=e.forwardRef(((t,n)=>{const{as:r="div",bsPrefix:i,variant:o,fill:s=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...d}=Hv(t,{activeKey:"onSelect"}),f=Qv(i,"nav");let p,g,m=!1;const y=(0,e.useContext)(m_),v=(0,e.useContext)(v_);return y?(p=y.bsPrefix,m=null==l||l):v&&({cardHeaderBsPrefix:g}=v),(0,Xv.jsx)(p_,{as:r,ref:n,activeKey:h,className:Vv()(u,{[f]:!m,[`${p}-nav`]:m,[`${p}-nav-scroll`]:m&&c,[`${g}-${o}`]:!!g,[`${f}-${o}`]:!!o,[`${f}-fill`]:s,[`${f}-justified`]:a}),...d})}));S_.displayName="Nav";const E_=Object.assign(S_,{Item:__,Link:x_});class C_ extends vo{constructor(e,t,n){super(),void 0!==n&&void 0===t?this.setFlatCoordinates(n,e):(t=t||0,this.setCenterAndRadius(e,t,n))}clone(){const e=new C_(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const i=this.flatCoordinates,o=e-i[0],s=t-i[1],a=o*o+s*s;if(a<r){if(0===a)for(let e=0;e<this.stride;++e)n[e]=i[e];else{const e=this.getRadius()/Math.sqrt(a);n[0]=i[0]+e*o,n[1]=i[1]+e*s;for(let e=2;e<this.stride;++e)n[e]=i[e]}return n.length=this.stride,a}return r}containsXY(e,t){const n=this.flatCoordinates,r=e-n[0],i=t-n[1];return r*r+i*i<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,n=t[this.stride]-t[0];return Xn(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){if(fr(e,this.getExtent())){const t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||e[1]<=t[1]&&e[3]>=t[1]||rr(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(let n=1;n<t;++n)r[t+n]=e[n];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let i=Eo(r,0,e,this.stride);r[i++]=r[0]+t;for(let e=1,t=this.stride;e<t;++e)r[i++]=r[e];r.length=i,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const n=this.getCenter(),r=this.getStride();this.setCenter(fo(n,0,n.length,r,e,t,n)),this.changed()}}C_.prototype.transform;const k_=C_,P_="drawstart";class A_ extends Bt{constructor(e,t){super(e),this.feature=t}}function T_(e,t){return Ar(e[0],e[1],t[0],t[1])}function R_(e,t){const n=e.length;return t<0?e[t+n]:t>=n?e[t-n]:e[t]}function O_(e,t,n){let r,i;t<n?(r=t,i=n):(r=n,i=t);const o=Math.ceil(r),s=Math.floor(i);if(o>s)return T_(N_(e,r),N_(e,i));let a=0;r<o&&(a+=T_(N_(e,r),R_(e,o))),s<i&&(a+=T_(R_(e,s),N_(e,i)));for(let t=o;t<s-1;++t)a+=T_(R_(e,t),R_(e,t+1));return a}function M_(e,t,n){if(t instanceof Yf)D_(e,t.getCoordinates(),!1,n);else if(t instanceof Jf){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)D_(e,r[t],!1,n)}else if(t instanceof rs){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t)D_(e,r[t],!0,n)}else if(t instanceof tp){const r=t.getCoordinates();for(let t=0,i=r.length;t<i;++t){const i=r[t];for(let t=0,r=i.length;t<r;++t)D_(e,i[t],!0,n)}}else if(t instanceof ip){const r=t.getGeometries();for(let t=0;t<r.length;++t)M_(e,r[t],n)}}const I_={index:-1,endIndex:NaN};function D_(e,t,n,r){const i=e[0],o=e[1];for(let e=0,s=t.length-1;e<s;++e){const s=L_(i,o,t[e],t[e+1]);if(0===s.squaredDistance){const i=e+s.along;return void r.push({coordinates:t,ring:n,startIndex:i,endIndex:i})}}}const F_={along:0,squaredDistance:0};function L_(e,t,n,r){const i=n[0],o=n[1],s=r[0]-i,a=r[1]-o;let l=0,c=i,u=o;return 0===s&&0===a||(l=kr(((e-i)*s+(t-o)*a)/(s*s+a*a),0,1),c+=s*l,u+=a*l),F_.along=l,F_.squaredDistance=Mr(Ar(e,t,c,u),10),F_}function N_(e,t){const n=e.length;let r=Math.floor(t);const i=t-r;r>=n?r-=n:r<0&&(r+=n);let o=r+1;o>=n&&(o-=n);const s=e[r],a=s[0],l=s[1],c=e[o];return[a+(c[0]-a)*i,l+(c[1]-l)*i]}function j_(){const e=function(){const e={},t=[255,255,255,1],n=[0,153,255,1];return e.Polygon=[new Ml({fill:new Tl({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new Ml({stroke:new Ol({color:t,width:5})}),new Ml({stroke:new Ol({color:n,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new Ml({image:new Pl({radius:6,fill:new Tl({color:n}),stroke:new Ol({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}();return function(t,n){return e[t.getGeometry().getType()]}}const z_=class extends va{constructor(e){const t=e;t.stopDown||(t.stopDown=Yt),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+e)}}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Xt,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let n=e.geometryFunction;if(!n){const e=this.mode_;if("Circle"===e)n=function(e,t,n){const r=t||new k_([NaN,NaN]),i=Xi(e[0]),o=Ci(i,Xi(e[e.length-1]));r.setCenterAndRadius(i,Math.sqrt(o),this.geometryLayout_);const s=qi();return s&&r.transform(n,s),r};else{let t;"Point"===e?t=Uo:"LineString"===e?t=Yf:"Polygon"===e&&(t=rs),n=function(n,r,i){return r?"Polygon"===e?n[0].length?r.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):r.setCoordinates([],this.geometryLayout_):r.setCoordinates(n,this.geometryLayout_):r=new t(n,this.geometryLayout_),r}}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Eu({source:new Nu({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:j_(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Ca,this.freehandCondition_,e.freehand?this.freehandCondition_=xa:this.freehandCondition_=e.freehandCondition?e.freehandCondition:ka,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(fa,this.updateState_)}setTrace(e){let t;t=e?!0===e?xa:e:Ea,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===nn&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);let t=e.type===Ks.POINTERMOVE,n=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Ks.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Ks.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),n=!1):this.freehand_&&e.type===Ks.POINTERDOWN?n=!1:t&&this.getPointerCount()<2?(n=e.type===Ks.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Ks.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===Ks.DBLCLICK&&(n=!1),super.handleEvent(e)&&n}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new Ys(Ks.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))}),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active)return void this.deactivateTrace_();const t=this.getMap(),n=Bn([t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_])]),r=this.traceSource_.getFeaturesInExtent(n);if(0===r.length)return;const i=function(e,t){const n=[];for(let r=0;r<t.length;++r)M_(e,t[r].getGeometry(),n);return n}(e.coordinate,r);i.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:i,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const n=e.startIndex<=e.endIndex;n===e.startIndex<=t?n&&t>e.endIndex||!n&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(n&&t<e.endIndex||!n&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let n=0;if(e<t){const r=Math.ceil(e);let i=Math.floor(t);i===t&&(i-=1),n=i-r+1}else{const r=Math.floor(e);let i=Math.ceil(t);i===t&&(i+=1),n=r-i+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(e,t,n){if(t===n)return;const r=[];if(t<n){const i=Math.ceil(t);let o=Math.floor(n);o===n&&(o-=1);for(let t=i;t<=o;++t)r.push(R_(e.coordinates,t))}else{const i=Math.floor(t);let o=Math.ceil(n);o===n&&(o+=1);for(let t=i;t>=o;--t)r.push(R_(e.coordinates,t))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const t=this.traceState_;if(!t.active)return;if(-1===t.targetIndex&&ki(t.startPx,e.pixel)<this.snapTolerance_)return;const n=function(e,t,n,r){const i=e[0],o=e[1];let s=1/0,a=-1,l=NaN;for(let e=0;e<t.targets.length;++e){const n=t.targets[e],r=n.coordinates;let c,u=1/0;for(let e=0;e<r.length-1;++e){const t=L_(i,o,r[e],r[e+1]);t.squaredDistance<u&&(u=t.squaredDistance,c=e+t.along)}u<s&&(s=u,n.ring&&t.targetIndex===e&&(n.endIndex>n.startIndex?c<n.startIndex&&(c+=r.length):n.endIndex<n.startIndex&&c>n.startIndex&&(c-=r.length)),l=c,a=e)}const c=t.targets[a];let u=c.ring;if(t.targetIndex===a&&u){const e=N_(c.coordinates,l);ki(n.getPixelFromCoordinate(e),t.startPx)>r&&(u=!1)}if(u){const e=c.coordinates,t=e.length,n=c.startIndex,r=l;if(n<r){const i=O_(e,n,r);O_(e,n,r-t)<i&&(l-=t)}else{const i=O_(e,n,r);O_(e,n,r+t)<i&&(l+=t)}}return I_.index=a,I_.endIndex=l,I_}(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==n.index){if(-1!==t.targetIndex){const e=t.targets[t.targetIndex];this.removeTracedCoordinates_(e.startIndex,e.endIndex)}const e=t.targets[n.index];this.addTracedCoordinates_(e,e.startIndex,n.endIndex)}else{const e=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(e,n.endIndex)}t.targetIndex=n.index;const r=t.targets[t.targetIndex];r.endIndex=n.endIndex;const i=N_(r.coordinates,r.endIndex),o=this.getMap().getPixelFromCoordinate(i);e.coordinate=i,e.pixel=[Math.round(o[0]),Math.round(o[1])]}handleUpEvent(e){let t=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const n=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():this.freehand_||r&&"Point"!==this.mode_||(this.atFinish_(e.pixel,n)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,n=e.pixel,r=t[0]-n[0],i=t[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(e),this.modifyDrawing_(e.coordinate)):this.createOrUpdateSketchPoint_(e.coordinate.slice())}atFinish_(e,t){let n=!1;if(this.sketchFeature_){let r=!1,i=[this.finishCoordinate_];const o=this.mode_;if("Point"===o)n=!0;else if("Circle"===o)n=2===this.sketchCoords_.length;else if("LineString"===o)r=!t&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===o){const e=this.sketchCoords_;r=e[0].length>this.minPoints_,i=[e[0][0],e[0][e[0].length-2]],i=t?[e[0][0]]:[e[0][0],e[0][e[0].length-2]]}if(r){const t=this.getMap();for(let r=0,o=i.length;r<o;r++){const o=i[r],s=t.getPixelFromCoordinate(o),a=e[0]-s[0],l=e[1]-s[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=c,n){this.finishCoordinate_=o;break}}}}return n}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Gf(new Uo(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Gf);const t=e.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),n.changed()):(n=new Yf(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(e){const t=this.getMap().getView().getProjection(),n=yo(this.geometryLayout_);for(;e.length<n;)e.push(0);this.finishCoordinate_=e,"Point"===this.mode_?this.sketchCoords_=e.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Gf(new Yf(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Gf,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new A_(P_,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),n=this.sketchFeature_.getGeometry(),r=t.getView().getProjection(),i=yo(this.geometryLayout_);let o,s;for(;e.length<i;)e.push(0);"Point"===this.mode_?s=this.sketchCoords_:"Polygon"===this.mode_?(o=this.sketchCoords_[0],s=o[o.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(o=this.sketchCoords_,s=o[o.length-1]),s[0]=e[0],s[1]=e[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),"Polygon"===n.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let r,i;const o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=e.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),this.geometryFunction_(i,t,n)):"Polygon"===o&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():r=!0),i.push(e.slice()),r&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,t,n)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;for(let i=0;i<e;++i){let e;if("LineString"===r||"Circle"===r){if(e=this.sketchCoords_,e.splice(-2,1),e.length>=2){this.finishCoordinate_=e[e.length-2].slice();const t=this.finishCoordinate_.slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}this.geometryFunction_(e,t,n),"Polygon"===t.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if("Polygon"===r){e=this.sketchCoords_[0],e.splice(-2,1);const r=this.sketchLine_.getGeometry();if(e.length>=2){const t=e[e.length-2].slice();e[e.length-1]=t,this.createOrUpdateSketchPoint_(t)}r.setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t,n)}if(1===e.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const n=e.getGeometry(),r=this.getMap().getView().getProjection();"LineString"===this.mode_?(t.pop(),this.geometryFunction_(t,n,r)):"Polygon"===this.mode_&&(t[0].pop(),this.geometryFunction_(t,n,r),t=n.getCoordinates()),"MultiPoint"===this.type_?e.setGeometry(new Zf([t])):"MultiLineString"===this.type_?e.setGeometry(new Jf([t])):"MultiPolygon"===this.type_&&e.setGeometry(new tp([t])),this.dispatchEvent(new A_("drawend",e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new A_("drawabort",e))}appendCoordinates(e){const t=this.mode_,n=!this.sketchFeature_;let r;if(n&&this.startDrawing_(e[0]),"LineString"===t||"Circle"===t)r=this.sketchCoords_;else{if("Polygon"!==t)return;r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&r.shift(),r.pop();for(let t=0;t<e.length;t++)this.addToDrawing_(e[t]);const i=e[e.length-1];this.addToDrawing_(i),this.modifyDrawing_(i)}extend(e){const t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Gf(new Uo(n)),this.updateSketchFeatures_(),this.dispatchEvent(new A_(P_,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing(),this.overlay_.setMap(t?e:null)}};function B_(e){return B_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B_(e)}function U_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V_(r.key),r)}}function V_(e){var t=function(e,t){if("object"!=B_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=B_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B_(t)?t:t+""}function W_(e,t,n){return t=q_(t),$_(e,H_()?Reflect.construct(t,n||[],q_(e).constructor):t.apply(e,n))}function $_(e,t){if(t&&("object"===B_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(H_=function(){return!!e})()}function q_(e){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q_(e)}function G_(e,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G_(e,t)}var X_=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=document.createElement("button");r.setAttribute("aria-label","center image button"),r.innerHTML='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 432.2 432.2"><defs><style>.cls-1{fill:#fff;}</style></defs><circle class="cls-1" cx="388.29" cy="295.08" r="54.25" transform="translate(-214.44 -12.98) rotate(-9.22)"/><path class="cls-1" d="M575.51,266.21H544.45A159.23,159.23,0,0,0,417.16,138.92V107.86A28.88,28.88,0,0,0,388.28,79h0a28.87,28.87,0,0,0-28.87,28.88v31.06A159.23,159.23,0,0,0,232.13,266.21H201.07a28.88,28.88,0,1,0,0,57.75h31.06A159.22,159.22,0,0,0,359.41,451.24v31.07a28.87,28.87,0,0,0,28.87,28.87h0a28.88,28.88,0,0,0,28.88-28.87V451.25A159.23,159.23,0,0,0,544.45,324h31.06a28.88,28.88,0,1,0,0-57.75ZM417.16,412.37v-6.14a28.88,28.88,0,0,0-28.88-28.88h0a28.87,28.87,0,0,0-28.87,28.88v6.13A121.2,121.2,0,0,1,271,324h6.14a28.88,28.88,0,0,0,0-57.75H271a121.23,121.23,0,0,1,88.4-88.41v6.14a28.86,28.86,0,0,0,28.87,28.87h0a28.87,28.87,0,0,0,28.88-28.87V177.8a121.21,121.21,0,0,1,88.41,88.41h-6.14a28.88,28.88,0,0,0,0,57.75h6.14A121.22,121.22,0,0,1,417.16,412.37Z" transform="translate(-172.19 -78.98)"/></svg>';var i=document.createElement("div");i.className="center-btn ol-unselectable ol-control",i.appendChild(r);var o=e=W_(this,t,[{element:i,target:n.target}]);return r.addEventListener("click",e.handleCenter.bind(e,n.extent),!1),$_(e,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G_(e,t)}(t,e),n=t,(r=[{key:"handleCenter",value:function(e){var t=this.getMap().getView();t.setCenter(sr(e)),t.setZoom(1)}}])&&U_(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ca),Y_=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],K_=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),r=String(t.getOptionValue(e)).toLowerCase(),i=String(t.getOptionLabel(e)).toLowerCase();return r===n||i===n},Z_={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,r){return!(!e||t.some((function(t){return K_(e,t,r)}))||n.some((function(t){return K_(e,t,r)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},Q_=(0,e.forwardRef)((function(t,n){var r=function(t){var n=t.allowCreateWhileLoading,r=void 0!==n&&n,i=t.createOptionPosition,o=void 0===i?"last":i,s=t.formatCreateLabel,a=void 0===s?Z_.formatCreateLabel:s,l=t.isValidNewOption,c=void 0===l?Z_.isValidNewOption:l,u=t.getNewOptionData,h=void 0===u?Z_.getNewOptionData:u,d=t.onCreateOption,f=t.options,p=void 0===f?[]:f,g=t.onChange,m=le(t,Y_),y=m.getOptionValue,v=void 0===y?iv:y,b=m.getOptionLabel,_=void 0===b?rv:b,w=m.inputValue,x=m.isLoading,S=m.isMulti,E=m.value,C=m.name,k=(0,e.useMemo)((function(){return c(w,Im(E),p,{getOptionValue:v,getOptionLabel:_})?h(w,a(w)):void 0}),[a,h,_,v,w,c,p,E]),P=(0,e.useMemo)((function(){return!r&&x||!k?p:"first"===o?[k].concat(Ke(p)):[].concat(Ke(p),[k])}),[r,o,x,k,p]),A=(0,e.useCallback)((function(e,t){if("select-option"!==t.action)return g(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]!==k)g(e,t);else if(d)d(w);else{var r=h(w,w),i={action:"create-option",name:C,option:r};g(Gm(S,[].concat(Ke(Im(E)),[r]),r),i)}}),[h,w,S,C,k,d,g,E]);return Rp(Rp({},m),{},{options:P,onChange:A})}(Mp(t));return e.createElement(wv,se({ref:n},r))})),J_=Q_;const ew=e.forwardRef((({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const c=Qv(t,"btn"),[u,{tagName:h}]=sb({tagName:e,disabled:o,...a}),d=h;return(0,Xv.jsx)(d,{...u,...a,ref:l,disabled:o,className:Vv()(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&o&&"disabled")})}));ew.displayName="Button";const tw=ew,nw={type:M().string,tooltip:M().bool,as:M().elementType},rw=e.forwardRef((({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},o)=>(0,Xv.jsx)(e,{...i,ref:o,className:Vv()(t,`${n}-${r?"tooltip":"feedback"}`)})));rw.displayName="Feedback",rw.propTypes=nw;const iw=rw,ow=e.createContext({}),sw=e.forwardRef((({id:t,bsPrefix:n,className:r,type:i="checkbox",isValid:o=!1,isInvalid:s=!1,as:a="input",...l},c)=>{const{controlId:u}=(0,e.useContext)(ow);return n=Qv(n,"form-check-input"),(0,Xv.jsx)(a,{...l,ref:c,type:i,id:t||u,className:Vv()(r,n,o&&"is-valid",s&&"is-invalid")})}));sw.displayName="FormCheckInput";const aw=sw,lw=e.forwardRef((({bsPrefix:t,className:n,htmlFor:r,...i},o)=>{const{controlId:s}=(0,e.useContext)(ow);return t=Qv(t,"form-check-label"),(0,Xv.jsx)("label",{...i,ref:o,htmlFor:r||s,className:Vv()(n,t)})}));lw.displayName="FormCheckLabel";const cw=lw,uw=e.forwardRef((({id:t,bsPrefix:n,bsSwitchPrefix:r,inline:i=!1,reverse:o=!1,disabled:s=!1,isValid:a=!1,isInvalid:l=!1,feedbackTooltip:c=!1,feedback:u,feedbackType:h,className:d,style:f,title:p="",type:g="checkbox",label:m,children:y,as:v="input",...b},_)=>{n=Qv(n,"form-check"),r=Qv(r,"form-switch");const{controlId:w}=(0,e.useContext)(ow),x=(0,e.useMemo)((()=>({controlId:t||w})),[w,t]),S=!y&&null!=m&&!1!==m||function(t,n){return e.Children.toArray(t).some((t=>e.isValidElement(t)&&t.type===n))}(y,cw),E=(0,Xv.jsx)(aw,{...b,type:"switch"===g?"checkbox":g,ref:_,isValid:a,isInvalid:l,disabled:s,as:v});return(0,Xv.jsx)(ow.Provider,{value:x,children:(0,Xv.jsx)("div",{style:f,className:Vv()(d,S&&n,i&&`${n}-inline`,o&&`${n}-reverse`,"switch"===g&&r),children:y||(0,Xv.jsxs)(Xv.Fragment,{children:[E,S&&(0,Xv.jsx)(cw,{title:p,children:m}),u&&(0,Xv.jsx)(iw,{type:h,tooltip:c,children:u})]})})})}));uw.displayName="FormCheck";const hw=Object.assign(uw,{Input:aw,Label:cw});__webpack_require__(9771);const dw=e.forwardRef((({bsPrefix:t,type:n,size:r,htmlSize:i,id:o,className:s,isValid:a=!1,isInvalid:l=!1,plaintext:c,readOnly:u,as:h="input",...d},f)=>{const{controlId:p}=(0,e.useContext)(ow);return t=Qv(t,"form-control"),(0,Xv.jsx)(h,{...d,type:n,size:i,ref:f,readOnly:u,id:o||p,className:Vv()(s,c?`${t}-plaintext`:t,r&&`${t}-${r}`,"color"===n&&`${t}-color`,a&&"is-valid",l&&"is-invalid")})}));dw.displayName="FormControl";const fw=Object.assign(dw,{Feedback:iw}),pw=e.forwardRef((({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Qv(t,"form-floating"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));pw.displayName="FormFloating";const gw=pw,mw=e.forwardRef((({controlId:t,as:n="div",...r},i)=>{const o=(0,e.useMemo)((()=>({controlId:t})),[t]);return(0,Xv.jsx)(ow.Provider,{value:o,children:(0,Xv.jsx)(n,{...r,ref:i})})}));mw.displayName="FormGroup";const yw=mw;const vw=e.forwardRef(((t,n)=>{const[{className:r,...i},{as:o="div",bsPrefix:s,spans:a}]=function({as:t,bsPrefix:n,className:r,...i}){n=Qv(n,"col");const o=function(){const{breakpoints:t}=(0,e.useContext)(Yv);return t}(),s=function(){const{minBreakpoint:t}=(0,e.useContext)(Yv);return t}(),a=[],l=[];return o.forEach((e=>{const t=i[e];let r,o,c;delete i[e],"object"==typeof t&&null!=t?({span:r,offset:o,order:c}=t):r=t;const u=e!==s?`-${e}`:"";r&&a.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=c&&l.push(`order${u}-${c}`),null!=o&&l.push(`offset${u}-${o}`)})),[{...i,className:Vv()(r,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(t);return(0,Xv.jsx)(o,{...i,ref:n,className:Vv()(r,!a.length&&s)})}));vw.displayName="Col";const bw=vw,_w=e.forwardRef((({as:t="label",bsPrefix:n,column:r=!1,visuallyHidden:i=!1,className:o,htmlFor:s,...a},l)=>{const{controlId:c}=(0,e.useContext)(ow);n=Qv(n,"form-label");let u="col-form-label";"string"==typeof r&&(u=`${u} ${u}-${r}`);const h=Vv()(o,n,i&&"visually-hidden",r&&u);return s=s||c,r?(0,Xv.jsx)(bw,{ref:l,as:"label",className:h,htmlFor:s,...a}):(0,Xv.jsx)(t,{ref:l,className:h,htmlFor:s,...a})}));_w.displayName="FormLabel";const ww=_w,xw=e.forwardRef((({bsPrefix:t,className:n,id:r,...i},o)=>{const{controlId:s}=(0,e.useContext)(ow);return t=Qv(t,"form-range"),(0,Xv.jsx)("input",{...i,type:"range",ref:o,className:Vv()(n,t),id:r||s})}));xw.displayName="FormRange";const Sw=xw,Ew=e.forwardRef((({bsPrefix:t,size:n,htmlSize:r,className:i,isValid:o=!1,isInvalid:s=!1,id:a,...l},c)=>{const{controlId:u}=(0,e.useContext)(ow);return t=Qv(t,"form-select"),(0,Xv.jsx)("select",{...l,size:r,ref:c,className:Vv()(i,t,n&&`${t}-${n}`,o&&"is-valid",s&&"is-invalid"),id:a||u})}));Ew.displayName="FormSelect";const Cw=Ew,kw=e.forwardRef((({bsPrefix:e,className:t,as:n="small",muted:r,...i},o)=>(e=Qv(e,"form-text"),(0,Xv.jsx)(n,{...i,ref:o,className:Vv()(t,e,r&&"text-muted")}))));kw.displayName="FormText";const Pw=kw,Aw=e.forwardRef(((e,t)=>(0,Xv.jsx)(hw,{...e,ref:t,type:"switch"})));Aw.displayName="Switch";const Tw=Object.assign(Aw,{Input:hw.Input,Label:hw.Label}),Rw=e.forwardRef((({bsPrefix:e,className:t,children:n,controlId:r,label:i,...o},s)=>(e=Qv(e,"form-floating"),(0,Xv.jsxs)(yw,{ref:s,className:Vv()(t,e),controlId:r,...o,children:[n,(0,Xv.jsx)("label",{htmlFor:r,children:i})]}))));Rw.displayName="FloatingLabel";const Ow=Rw,Mw={_ref:M().any,validated:M().bool,as:M().elementType},Iw=e.forwardRef((({className:e,validated:t,as:n="form",...r},i)=>(0,Xv.jsx)(n,{...r,ref:i,className:Vv()(e,t&&"was-validated")})));Iw.displayName="Form",Iw.propTypes=Mw;const Dw=Object.assign(Iw,{Group:yw,Control:fw,Floating:gw,Check:hw,Switch:Tw,Label:ww,Text:Pw,Range:Sw,Select:Cw,FloatingLabel:Ow});function Fw(e){return Fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(e)}function Lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ww(r.key),r)}}function Nw(e,t,n){return t=zw(t),function(e,t){if(t&&("object"===Fw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jw()?Reflect.construct(t,n||[],zw(e).constructor):t.apply(e,n))}function jw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jw=function(){return!!e})()}function zw(e){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zw(e)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bw(e,t)}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uw(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=Ww(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ww(e){var t=function(e,t){if("object"!=Fw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Fw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fw(t)?t:t+""}var $w={container:function(e,t){return Vw(Vw({},e),{},{padding:0,height:"fit-content"})},control:function(e,t){return Vw(Vw({},e),{},{borderWidth:0,minHeight:"fit-content",height:"fit-content"})},singleValue:function(e,t){return Vw(Vw({},e),{},{top:"45%"})},placeholder:function(e,t){return Vw(Vw({},e),{},{top:"45%"})},option:function(e,t){return Vw(Vw({},e),{},{paddingLeft:"20px"})}},Hw=function(t){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=Nw(this,n,[t])).state={validated:!1,title:r.props.selection?r.props.selection.title:"",tags:r.props.selection?r.props.selection.tags:"",terms:r.props.selection?r.props.selection.terms:"",notes:r.props.selection?r.props.selection.body:""},r.tagsRef=e.createRef(),r.termsRef=e.createRef(),r.titleFieldRef=e.createRef(),r.handleTitleChange=r.handleTitleChange.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}(n,t),r=n,i=[{key:"handleTitleChange",value:function(e){e&&this.setState({title:e.target.value})}},{key:"handleSubmit",value:function(e){return"image"===this.props.type&&!function(e){if(e){var t=e.getFeatures();return t&&t.length>0}return!1}(this.props.selectionSource)&&!this.props.selection||"video"===this.props.type&&!this.props.selectionStartTime&&!this.props.selectionEndTime?(e.preventDefault(),e.stopPropagation(),this.props.onShowValidationError("Please select a portion of the media using the selections tools."),this.setState({validated:!0})):"video"===this.props.type&&this.props.selectionStartTime>this.props.selectionEndTime?(e.preventDefault(),e.stopPropagation(),this.props.onShowValidationError("The start time is greater than the end time. Please specify a valid time range"),this.setState({validated:!0})):!1!==e.currentTarget.checkValidity()?this.onSubmitForm(e):(e.preventDefault(),e.stopPropagation(),this.setState({validated:!0}))}},{key:"render",value:function(){var t=this,n=k(this.props.tags),r=P(this.props.terms),i=[],o=[];this.props.selection&&(i=k(this.props.selection.metadata.tags,!0),o=function(e){if(!e)return[];var t=[];return e.forEach((function(e){var n=e.term_set||e.terms;n&&n.forEach((function(n){var r=n;r.vocab_id=e.id,t.push({label:n.display_name||n.name,value:n.name,data:r})}))})),t}(this.props.selection.vocabulary));var s=this.props.terms&&this.props.terms.length>0;return e.createElement(Dw,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},e.createElement(Dw.Group,{className:"mb-3",controlId:"newSelectionTitle"},e.createElement(Dw.Label,null,"Title"),e.createElement(Dw.Control,{required:!0,type:"text",value:this.state.title,onChange:this.handleTitleChange,ref:this.titleFieldRef})),e.createElement(Dw.Group,{className:"mb-3"},e.createElement("label",{htmlFor:"newSelectionTagsInput"},"Tags"),e.createElement(J_,{id:"newSelectionTagsContainer",inputId:"newSelectionTagsInput",ref:this.tagsRef,menuPortalTarget:document.body,styles:$w,className:"react-select form-control",onChange:this.handleTagsChange,isMulti:!0,defaultValue:i,noOptionsMessage:function(e){return e.inputValue?"No tags found":""},options:n})),s&&e.createElement(Dw.Group,{className:"mb-3"},e.createElement("label",{htmlFor:"newSelectionTermsInput"},"Course Vocabulary"),e.createElement(xv,{id:"newSelectionTermsContainer",inputId:"newSelectionTermsInput",ref:this.termsRef,menuPortalTarget:document.body,styles:$w,className:"react-select form-control",onChange:this.handleTermsChange,isMulti:!0,defaultValue:o,formatGroupLabel:function(t){return e.createElement("div",{className:"font-weight-bold h6"},e.createElement("span",null,t.label))},options:r})),e.createElement(Dw.Group,{className:"mb-3"},e.createElement("label",{htmlFor:"newSelectionNotes"},"Notes"),e.createElement("textarea",{className:"form-control",id:"newSelectionNotes",defaultValue:this.props.selection?this.props.selection.metadata.body:"",rows:"3"})),this.props.onClickDelete&&this.props.selection&&e.createElement(tw,{variant:"danger",size:"sm",onClick:function(){return t.props.onClickDelete(t.props.selection.id)}},"Delete"),e.createElement("div",{className:"float-right"},this.props.onClickCancel&&e.createElement(e.Fragment,null,e.createElement(tw,{variant:"secondary",size:"sm",onClick:function(e){return t.props.onClickCancel(e,t.props.selection)}},"Cancel")," "),e.createElement(tw,{type:"submit",size:"sm"},"Save")))}}],i&&Lw(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function Gw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xw(r.key),r)}}function Xw(e){var t=function(e,t){if("object"!=qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qw(t)?t:t+""}function Yw(e,t,n){return t=Zw(t),function(e,t){if(t&&("object"===qw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kw()?Reflect.construct(t,n||[],Zw(e).constructor):t.apply(e,n))}function Kw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kw=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zw(e)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qw(e,t)}Hw.propTypes={type:M().string.isRequired,selection:M().object,tags:M().array,terms:M().array,selectionSource:M().object,selectionStartTime:M().number,selectionEndTime:M().number,onStartTimeClick:M().func.isRequired,onEndTimeClick:M().func.isRequired,onShowValidationError:M().func.isRequired,onClickCancel:M().func,onClickDelete:M().func};var Jw,ex=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Yw(this,t,[e])).onCreateSelection=n.onCreateSelection.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}(t,e),n=t,(r=[{key:"onSubmitForm",value:function(e){return this.onCreateSelection(e)}},{key:"onCreateSelection",value:function(e){var t=this.tagsRef.current.state.selectValue,n="";t&&t.forEach((function(e){n+=e.value+","}));var r=null;if(this.termsRef&&this.termsRef.current){var i=this.termsRef.current.state.selectValue;r=[],i&&i.forEach((function(e){e&&e.data&&r.push(e.data.id)}))}return this.props.onCreateSelection(e,n,r)}},{key:"componentDidMount",value:function(){var e=this;this.titleFieldRef.current.addEventListener("invalid",(function(t){e.props.onShowValidationError("Please specify a selection title.")}))}}])&&Gw(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Hw);function tx(e){if((!Jw&&0!==Jw||e)&&Tb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Jw=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Jw}function nx(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}function rx(e){void 0===e&&(e=Sb());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(t){return e.body}}function ix(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}ex.propTypes={type:M().string.isRequired,tags:M().array,terms:M().array,selectionSource:M().object,selectionStartTime:M().number,selectionEndTime:M().number,onStartTimeClick:M().func.isRequired,onEndTimeClick:M().func.isRequired,onCreateSelection:M().func.isRequired,onShowValidationError:M().func.isRequired};const ox=o_("modal-open"),sx=class{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}={}){this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Ab(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ox,""),Ab(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ox),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state))),t}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},ax=(0,e.createContext)(Tb?window:void 0);function lx(){return(0,e.useContext)(ax)}ax.Provider;const cx=(e,t)=>Tb?null==e?(t||Sb()).body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null,ux=function({children:t,in:n,onExited:r,mountOnEnter:i,unmountOnExit:o}){const s=(0,e.useRef)(null),a=(0,e.useRef)(n),l=Gv(r);(0,e.useEffect)((()=>{n?a.current=!0:l(s.current)}),[n,l]);const c=Bb(s,t.ref),u=(0,e.cloneElement)(t,{ref:c});return n?u:o||!a.current&&i?null:u},hx=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const dx=["component"],fx=e.forwardRef(((t,n)=>{let{component:r}=t,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,dx);const o=function(t){let{onEnter:n,onEntering:r,onEntered:i,onExit:o,onExiting:s,onExited:a,addEndListener:l,children:c}=t,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,hx);const{major:h}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}(),d=h>=19?c.props.ref:c.ref,f=(0,e.useRef)(null),p=Bb(f,"function"==typeof c?null:d),g=e=>t=>{e&&f.current&&e(f.current,t)},m=(0,e.useCallback)(g(n),[n]),y=(0,e.useCallback)(g(r),[r]),v=(0,e.useCallback)(g(i),[i]),b=(0,e.useCallback)(g(o),[o]),_=(0,e.useCallback)(g(s),[s]),w=(0,e.useCallback)(g(a),[a]),x=(0,e.useCallback)(g(l),[l]);return Object.assign({},u,{nodeRef:f},n&&{onEnter:m},r&&{onEntering:y},i&&{onEntered:v},o&&{onExit:b},s&&{onExiting:_},a&&{onExited:w},l&&{addEndListener:x},{children:"function"==typeof c?(e,t)=>c(e,Object.assign({},t,{ref:p})):(0,e.cloneElement)(c,{ref:p})})}(i);return(0,Xv.jsx)(r,Object.assign({ref:n},o))})),px=fx;function gx({children:t,in:n,onExited:r,onEntered:i,transition:o}){const[s,a]=(0,e.useState)(!n);n&&s&&a(!1);const l=function({in:t,onTransition:n}){const r=(0,e.useRef)(null),i=(0,e.useRef)(!0),o=Gv(n);return ib((()=>{if(!r.current)return;let e=!1;return o({in:t,element:r.current,initial:i.current,isStale:()=>e}),()=>{e=!0}}),[t,o]),ib((()=>(i.current=!1,()=>{i.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==i||i(e.element,e.initial):(a(!0),null==r||r(e.element)))}),(t=>{throw e.in||a(!0),t}))}}),c=Bb(l,t.ref);return s&&!n?null:(0,e.cloneElement)(t,{ref:c})}function mx(e,t,n){return e?(0,Xv.jsx)(px,Object.assign({},n,{component:e})):t?(0,Xv.jsx)(gx,Object.assign({},n,{transition:t})):(0,Xv.jsx)(ux,Object.assign({},n))}const yx=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let vx;const bx=(0,e.forwardRef)(((t,n)=>{let{show:r=!1,role:i="dialog",className:o,style:s,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:g,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:v=!0,restoreFocusOptions:b,renderDialog:_,renderBackdrop:w=(e=>(0,Xv.jsx)("div",Object.assign({},e))),manager:x,container:S,onShow:E,onHide:C=(()=>{}),onExit:k,onExited:P,onExiting:A,onEnter:T,onEntering:R,onEntered:O}=t,M=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,yx);const I=lx(),D=function(t,n){const r=lx(),[i,o]=(0,e.useState)((()=>cx(t,null==r?void 0:r.document)));if(!i){const e=cx(t);e&&o(e)}return(0,e.useEffect)((()=>{}),[n,i]),(0,e.useEffect)((()=>{const e=cx(t);e!==i&&o(e)}),[t,i]),i}(S),F=function(t){const n=lx(),r=t||function(e){return vx||(vx=new sx({ownerDocument:null==e?void 0:e.document})),vx}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,e.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((e=>{i.current.backdrop=e}),[])})}(x),L=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}(),N=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}(r),[j,z]=(0,e.useState)(!r),B=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>F),[F]),Tb&&!N&&r&&(B.current=rx(null==I?void 0:I.document)),r&&j&&z(!1);const U=Gv((()=>{if(F.add(),G.current=Fb(document,"keydown",H),q.current=Fb(document,"focus",(()=>setTimeout(W)),!0),E&&E(),m){var e,t;const n=rx(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==I?void 0:I.document);F.dialog&&n&&!ix(F.dialog,n)&&(B.current=n,F.dialog.focus())}})),V=Gv((()=>{var e;F.remove(),null==G.current||G.current(),null==q.current||q.current(),v&&(null==(e=B.current)||null==e.focus||e.focus(b),B.current=null)}));(0,e.useEffect)((()=>{r&&D&&U()}),[r,D,U]),(0,e.useEffect)((()=>{j&&V()}),[j,V]),nx((()=>{V()}));const W=Gv((()=>{if(!y||!L()||!F.isTopModal())return;const e=rx(null==I?void 0:I.document);F.dialog&&e&&!ix(F.dialog,e)&&F.dialog.focus()})),$=Gv((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&C())})),H=Gv((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==h||h(e),e.defaultPrevented||C())})),q=(0,e.useRef)(),G=(0,e.useRef)();if(!D)return null;const X=Object.assign({role:i,ref:F.setDialogRef,"aria-modal":"dialog"===i||void 0},M,{style:s,className:o,tabIndex:-1});let Y=_?_(X):(0,Xv.jsx)("div",Object.assign({},X,{children:e.cloneElement(a,{role:"document"})}));Y=mx(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:k,onExiting:A,onExited:(...e)=>{z(!0),null==P||P(...e)},onEnter:T,onEntering:R,onEntered:O,children:Y});let K=null;return l&&(K=w({ref:F.setBackdropRef,onClick:$}),K=mx(p,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:K})),(0,Xv.jsx)(Xv.Fragment,{children:sm.createPortal((0,Xv.jsxs)(Xv.Fragment,{children:[K,Y]}),D)})}));bx.displayName="Modal";const _x=Object.assign(bx,{Manager:sx});function wx(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const xx=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Sx=".sticky-top",Ex=".navbar-toggler";class Cx extends sx{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Ab(t,{[e]:`${parseFloat(Ab(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ab(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qb(t,xx).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Qb(t,Sx).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),Qb(t,Ex).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"==typeof n.className?n.className=wx(n.className,r):n.setAttribute("class",wx(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Qb(t,xx).forEach((e=>this.restore(i,e))),Qb(t,Sx).forEach((e=>this.restore(o,e))),Qb(t,Ex).forEach((e=>this.restore(o,e)))}}let kx;const Px=e.forwardRef((({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Qv(t,"modal-body"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));Px.displayName="ModalBody";const Ax=Px,Tx=e.createContext({onHide(){}}),Rx=e.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},c)=>{const u=`${e=Qv(e,"modal")}-dialog`,h="string"==typeof o?`${e}-fullscreen-${o}`:`${e}-fullscreen`;return(0,Xv.jsx)("div",{...l,ref:c,className:Vv()(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,o&&h),children:(0,Xv.jsx)("div",{className:Vv()(`${e}-content`,n),children:s})})}));Rx.displayName="ModalDialog";const Ox=Rx,Mx=e.forwardRef((({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Qv(t,"modal-footer"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));Mx.displayName="ModalFooter";const Ix=Mx,Dx=e.forwardRef((({closeLabel:t="Close",closeVariant:n,closeButton:r=!1,onHide:i,children:o,...s},a)=>{const l=(0,e.useContext)(Tx),c=Gv((()=>{null==l||l.onHide(),null==i||i()}));return(0,Xv.jsxs)("div",{ref:a,...s,children:[o,r&&(0,Xv.jsx)(Xb,{"aria-label":t,variant:n,onClick:c})]})})),Fx=Dx,Lx=e.forwardRef((({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(e=Qv(e,"modal-header"),(0,Xv.jsx)(Fx,{ref:o,...i,className:Vv()(t,e),closeLabel:n,closeButton:r}))));Lx.displayName="ModalHeader";const Nx=Lx,jx=Jv("h4"),zx=e.forwardRef((({className:e,bsPrefix:t,as:n=jx,...r},i)=>(t=Qv(t,"modal-title"),(0,Xv.jsx)(n,{ref:i,className:Vv()(e,t),...r}))));zx.displayName="ModalTitle";const Bx=zx;function Ux(e){return(0,Xv.jsx)(Hb,{...e,timeout:null})}function Vx(e){return(0,Xv.jsx)(Hb,{...e,timeout:null})}const Wx=e.forwardRef((({bsPrefix:t,className:n,style:r,dialogClassName:i,contentClassName:o,children:s,dialogAs:a=Ox,"data-bs-theme":l,"aria-labelledby":c,"aria-describedby":u,"aria-label":h,show:d=!1,animation:f=!0,backdrop:p=!0,keyboard:g=!0,onEscapeKeyDown:m,onShow:y,onHide:v,container:b,autoFocus:_=!0,enforceFocus:w=!0,restoreFocus:x=!0,restoreFocusOptions:S,onEntered:E,onExit:C,onExiting:k,onEnter:P,onEntering:A,onExited:T,backdropClassName:R,manager:O,...M},I)=>{const[D,F]=(0,e.useState)({}),[L,N]=(0,e.useState)(!1),j=(0,e.useRef)(!1),z=(0,e.useRef)(!1),B=(0,e.useRef)(null),[U,V]=(0,e.useState)(null),W=Bb(I,V),$=Gv(v),H=function(){const{dir:t}=(0,e.useContext)(Yv);return"rtl"===t}();t=Qv(t,"modal");const q=(0,e.useMemo)((()=>({onHide:$})),[$]);function G(){return O||function(e){return kx||(kx=new Cx(e)),kx}({isRTL:H})}function X(e){if(!Tb)return;const t=G().getScrollbarWidth()>0,n=e.scrollHeight>Sb(e).documentElement.clientHeight;F({paddingRight:t&&!n?tx():void 0,paddingLeft:!t&&n?tx():void 0})}const Y=Gv((()=>{U&&X(U.dialog)}));nx((()=>{Db(window,"resize",Y),null==B.current||B.current()}));const K=()=>{j.current=!0},Z=e=>{j.current&&U&&e.target===U.dialog&&(z.current=!0),j.current=!1},Q=()=>{N(!0),B.current=Lb(U.dialog,(()=>{N(!1)}))},J=e=>{"static"!==p?z.current||e.target!==e.currentTarget?z.current=!1:null==v||v():(e=>{e.target===e.currentTarget&&Q()})(e)},ee=(0,e.useCallback)((e=>(0,Xv.jsx)("div",{...e,className:Vv()(`${t}-backdrop`,R,!f&&"show")})),[f,R,t]),te={...r,...D};return te.display="block",(0,Xv.jsx)(Tx.Provider,{value:q,children:(0,Xv.jsx)(_x,{show:d,ref:W,backdrop:p,container:b,keyboard:!0,autoFocus:_,enforceFocus:w,restoreFocus:x,restoreFocusOptions:S,onEscapeKeyDown:e=>{g?null==m||m(e):(e.preventDefault(),"static"===p&&Q())},onShow:y,onHide:v,onEnter:(e,t)=>{e&&X(e),null==P||P(e,t)},onEntering:(e,t)=>{null==A||A(e,t),Ib(window,"resize",Y)},onEntered:E,onExit:e=>{null==B.current||B.current(),null==C||C(e)},onExiting:k,onExited:e=>{e&&(e.style.display=""),null==T||T(e),Db(window,"resize",Y)},manager:G(),transition:f?Ux:void 0,backdropTransition:f?Vx:void 0,renderBackdrop:ee,renderDialog:e=>(0,Xv.jsx)("div",{role:"dialog",...e,style:te,className:Vv()(n,t,L&&`${t}-static`,!f&&"show"),onClick:p?J:void 0,onMouseUp:Z,"data-bs-theme":l,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,children:(0,Xv.jsx)(a,{...M,onMouseDown:K,className:i,contentClassName:o,children:s})})})})}));Wx.displayName="Modal";const $x=Object.assign(Wx,{Body:Ax,Header:Nx,Title:Bx,Footer:Ix,Dialog:Ox,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Hx(e){return Hx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(e)}function qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gx(r.key),r)}}function Gx(e){var t=function(e,t){if("object"!=Hx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Hx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Hx(t)?t:t+""}function Xx(e,t,n){return t=Kx(t),function(e,t){if(t&&("object"===Hx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yx()?Reflect.construct(t,n||[],Kx(e).constructor):t.apply(e,n))}function Yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yx=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kx(e)}function Zx(e,t){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zx(e,t)}var Qx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Xx(this,t,[e])).onSaveSelection=n.onSaveSelection.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zx(e,t)}(t,e),n=t,(r=[{key:"onSubmitForm",value:function(e){return this.onSaveSelection(e)}},{key:"onSaveSelection",value:function(e){var t=this.tagsRef.current.state.selectValue,n="";t&&t.forEach((function(e){n+=e.value+","}));var r=null;if(this.termsRef&&this.termsRef.current){var i=this.termsRef.current.state.selectValue;r=[],i&&i.forEach((function(e){e&&e.data&&r.push(e.data.id)}))}return this.props.onSaveSelection(e,this.props.selection.id,n,r)}},{key:"componentDidMount",value:function(){var e=this;this.titleFieldRef.current.addEventListener("invalid",(function(t){e.props.onShowValidationError("Please specify a selection title.")}))}}])&&qx(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Hw);function Jx(e){return Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(e)}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tS(r.key),r)}}function tS(e){var t=function(e,t){if("object"!=Jx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Jx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jx(t)?t:t+""}function nS(e,t,n){return t=iS(t),function(e,t){if(t&&("object"===Jx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rS()?Reflect.construct(t,n||[],iS(e).constructor):t.apply(e,n))}function rS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rS=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iS(e)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oS(e,t)}Qx.propTypes={type:M().string.isRequired,selection:M().object.isRequired,tags:M().array,terms:M().array,onClickCancel:M().func.isRequired,onSaveSelection:M().func.isRequired,onClickDelete:M().func.isRequired,onShowValidationError:M().func.isRequired};var sS=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=nS(this,n,[e])).state={groupBy:"author"},t.onClickEdit=t.onClickEdit.bind(t),t.onClickDelete=t.onClickDelete.bind(t),t.onDeleteSelection=t.onDeleteSelection.bind(t),t.onSaveSelection=t.onSaveSelection.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}(n,t),r=n,(i=[{key:"onSelectGrouping",value:function(e,t){e.preventDefault(),this.setState({groupBy:t})}},{key:"onClickEdit",value:function(e,t){e.preventDefault(),this.props.onUpdateIsEditing(t)}},{key:"onClickDelete",value:function(e){this.props.showDeleteDialog(e)}},{key:"onDeleteSelection",value:function(e){return this.props.onUpdateIsEditing(null),this.props.onDeleteSelection(e)}},{key:"onSaveSelection",value:function(e,t,n,r){var i=this;return this.props.onSaveSelection(e,t,n,r).then((function(){i.props.onUpdateIsEditing(null)}))}},{key:"renderSelection",value:function(t,n,r,i){var o=this,s=parseInt(window.MediaThread.current_user,10)===parseInt(t.author.id,10);return e.createElement("div",{key:n,className:"card"},e.createElement("div",{className:"card-header"},e.createElement("h2",{className:"card-title mb-0"},e.createElement("button",{className:"btn btn-link btn-block text-left collapsed",type:"button","data-toggle":"collapse","data-target":"#selectionCollapse-".concat(n),"aria-expanded":"false"},t.title))),e.createElement("div",{id:"selectionCollapse-".concat(n),className:"collapse","data-title":t.title,"data-selectionid":t.id,"data-parent":"#selectionsAccordion"},e.createElement("div",{className:"card-body container"},t.author.public_name.length>0&&e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted selection-metadatalabel"},"Author"),e.createElement("span",{className:"col text-left selection-metadatavalue"},t.author.public_name)),"video"===this.props.type&&e.createElement(e.Fragment,null,e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted selection-metadatalabel"},"Selection "),e.createElement("span",{className:"col text-left selection-metadatavalue"},m(t.range1),String.fromCharCode(160),String.fromCharCode(8212),String.fromCharCode(160),m(t.range2))),e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted selection-metadatalabel"},"Duration"),e.createElement("span",{className:"col text-left selection-metadatavalue"}," ",m(y(t.range1,t.range2))))),r.length>0&&e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted selection-metadatalabel"},"Tags "),e.createElement("span",{className:"col text-left selection-metadatavalue"},r)),i.length>0&&e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted text-wrap selection-metadatalabel"},"Course Vocabulary "),e.createElement("span",{className:"col text-left selection-metadatavalue"},i)),t.metadata&&t.metadata.body&&e.createElement("p",{className:"card-text row"},e.createElement("span",{className:"text-muted selection-metadatalabel"},"Notes "),e.createElement("span",{className:"col text-left text-wrap selection-metadatavalue"},t.metadata.body)),e.createElement("p",{className:"card-text"},"video"===this.props.type&&e.createElement("button",{type:"button",onClick:this.props.onPlaySelection,className:"btn btn-primary btn-sm float-right"},"Play",e.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-play-fill ml-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}))),s&&e.createElement("a",{onClick:function(e){return o.onClickEdit(e,t)},href:"#",className:"btn btn-secondary btn-sm mr-2 float-right"},"Edit")))))}},{key:"renderSelectionGroup",value:function(t){var n=this,r=[],i=function(i){var o=t[i],s=null;Object.prototype.hasOwnProperty.call(o,"selections")&&(s=o.tagName||o.termName,o=o.selections),o.forEach((function(t,o){var a="".concat(i,"-").concat(t.id);0===o&&("author"===n.state.groupBy?r.push(e.createElement("h4",{key:"title-"+a},t.author.public_name)):"term"===n.state.groupBy&&"No Vocabulary"!=s?t.vocabulary.forEach((function(t){r.push(e.createElement("h4",{key:"title-"+a},v(t.display_name),": ",s))})):r.push(e.createElement("h4",{key:"title-"+a},s)));var l=[];t.metadata&&t.metadata.tags&&t.metadata.tags.forEach((function(n,r){var i=r<t.metadata.tags.length-1;l.push(e.createElement(e.Fragment,{key:"tagfragment-".concat(a,"-").concat(n.id)},e.createElement("a",{href:"#"},n.name),i&&", "))}));var c=[];t.vocabulary&&t.vocabulary.forEach((function(t){t.terms.forEach((function(n,r){var i=r<t.terms.length-1;c.push(e.createElement(e.Fragment,{key:"termfragment-".concat(a,"-").concat(n.id)},e.createElement("a",{href:"#"},n.display_name),i&&", "))}))})),r.push(n.renderSelection(t,a,l,c))}))};for(var o in t)i(o);return r}},{key:"renderEditForm",value:function(t){return e.createElement(e.Fragment,null,e.createElement("h3",null,"Edit Details"),e.createElement(Qx,{type:this.props.type,selection:t,selectionStartTime:this.props.selectionStartTime,selectionEndTime:this.props.selectionEndTime,tags:this.props.tags,terms:this.props.terms,selectionSource:this.props.selectionSource,onClickCancel:this.props.onClickCancel,onSaveSelection:this.onSaveSelection,onClickDelete:this.onClickDelete,onShowValidationError:this.props.onShowValidationError}),e.createElement($x,{show:this.props.showDeleteDialogBool,onHide:this.props.hideDeleteDialog},e.createElement($x.Header,{closeButton:!0},e.createElement($x.Title,null,"Delete Selection")),e.createElement($x.Body,null,"Delete this selection?"),e.createElement($x.Footer,null,e.createElement(tw,{variant:"secondary",onClick:this.props.hideDeleteDialog},"Cancel"),e.createElement(tw,{variant:"danger",onClick:this.onDeleteSelection},"Delete"))))}},{key:"render",value:function(){var t=this;if(this.props.isEditing)return this.renderEditForm(this.props.isEditing);var n;n="author"===this.state.groupBy?function(e){return(0,a.sortBy)((0,a.groupBy)(e,(function(e){return e.author.id})),[function(e){return e&&e.length>0&&e[0].author&&e[0].author.public_name?e[0].author.public_name.toLowerCase():null}])}(this.props.filteredSelections):"term"===this.state.groupBy?function(e){var t=[];return e.forEach((function(e){if(e.vocabulary&&e.vocabulary.length)e.vocabulary.forEach((function(n){if(!n||!n.terms)return!1;n.terms.forEach((function(n){var r=s()(t,(function(e){return parseInt(e.termId,10)===parseInt(n.id,10)}));r?r.selections.push(e):t.push({termName:n.display_name,termId:n.id,selections:[e]})}))}));else{var n=s()(t,(function(e){return 0===parseInt(e.termId,10)}));n?n.selections.push(e):t.push({termName:"No Vocabulary",termId:0,selections:[e]})}})),(0,a.sortBy)(t,[function(e){return e&&0===e.termId?null:e&&e.termName?e.termName.toLowerCase():null}])}(this.props.filteredSelections):function(e){var t=[];return e.forEach((function(e){if(e.metadata&&e.metadata.tags&&e.metadata.tags.length)e.metadata.tags.forEach((function(n){var r=s()(t,(function(e){return parseInt(e.tagId,10)===parseInt(n.id,10)}));r?r.selections.push(e):t.push({tagName:C(n.id,e,window.MediaThread.tag_cache),tagId:n.id,selections:[e]})}));else{var n=s()(t,(function(e){return 0===parseInt(e.tagId,10)}));n?n.selections.push(e):t.push({tagName:"No Tags",tagId:0,selections:[e]})}})),(0,a.sortBy)(t,[function(e){return e&&0===e.tagId?null:e&&e.tagName?e.tagName.toLowerCase():null}])}(this.props.filteredSelections);var r=this.renderSelectionGroup(n),i=!0;return this.props.filteredSelections&&this.props.filteredSelections.length&&(i=!1),e.createElement(e.Fragment,null,e.createElement("h3",null,"Selections"),e.createElement("div",{className:"d-flex"},e.createElement("div",{className:"btn-group mb-2",role:"group","aria-label":"View Toggle"},e.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("author"===this.state.groupBy?"active":""),onClick:function(e){return t.onSelectGrouping(e,"author")}},"Group by author"),e.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("tag"===this.state.groupBy?"active":""),onClick:function(e){return t.onSelectGrouping(e,"tag")}},"Group by tag"),window.MediaThread&&window.MediaThread.current_course_has_vocab&&e.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("term"===this.state.groupBy?"active":""),onClick:function(e){return t.onSelectGrouping(e,"term")}},"Group by course vocabulary")),e.createElement("form",{hidden:!0,className:"form-inline"},e.createElement("div",{className:"form-group"},e.createElement("label",{htmlFor:"annotationFilter",className:"ml-2"},"Filter by:"),e.createElement("input",{id:"annotationFilter",className:"form-control form-control-sm ml-1",type:"search"})))),e.createElement(Kb,{variant:"warning",show:i},"There are no selections of this item. ",e.createElement(Kb.Link,{href:"#",onClick:function(){return t.props.onSelectTab("createSelection")}},"Create a selection")," now to begin."),e.createElement("div",{className:"accordion",id:"selectionsAccordion"},r))}},{key:"isCollapsed",value:function(){return 0===jQuery("#selectionsAccordion .card .collapse.show").length}},{key:"registerAccordionEvents",value:function(){var e=this,t=jQuery("#selectionsAccordion");t.on("shown.bs.collapse",(function(t){var n=jQuery(t.target),r=n.data("title"),i=n.data("selectionid");i&&(i=parseInt(i,10));var o=s()(e.props.filteredSelections,{id:i});e.props.onViewSelection(t,o),e.props.onSelectSelection(r,i),jQuery(t.target).parent().addClass("active")})),t.on("show.bs.collapse",(function(t){e.props.onClearVectorLayer()})),t.on("hidden.bs.collapse",(function(t){e.isCollapsed()&&(e.props.onSelectSelection(null),jQuery(t.target).parent().removeClass("active"))}))}},{key:"componentDidUpdate",value:function(e,t){var n=window.location.pathname.match(/annotations\/(\d+)\//),r=null;if(n&&n.length>1&&(r=parseInt(n[1],10)),e.isEditing!==this.props.isEditing&&!this.props.isEditing&&(this.registerAccordionEvents(),e.isEditing&&(this.props.onClearVectorLayer(),r))){var i=s()(this.props.filteredSelections,{id:r});A(jQuery("#selectionsAccordion"),r,!0),this.props.onViewSelection(null,i)}}},{key:"componentDidMount",value:function(){this.registerAccordionEvents()}}])&&eS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function aS(e){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(e)}function lS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cS(r.key),r)}}function cS(e){var t=function(e,t){if("object"!=aS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=aS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==aS(t)?t:t+""}function uS(e,t,n){return t=dS(t),function(e,t){if(t&&("object"===aS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hS()?Reflect.construct(t,n||[],dS(e).constructor):t.apply(e,n))}function hS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hS=function(){return!!e})()}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dS(e)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fS(e,t)}sS.propTypes={type:M().string.isRequired,tags:M().array,terms:M().array,selectionSource:M().object,selectionStartTime:M().number,selectionEndTime:M().number,filteredSelections:M().array,isEditing:M().object,onUpdateIsEditing:M().func.isRequired,onSelectSelection:M().func.isRequired,onSelectTab:M().func.isRequired,onViewSelection:M().func.isRequired,onPlaySelection:M().func.isRequired,onSaveSelection:M().func.isRequired,onDeleteSelection:M().func.isRequired,onShowValidationError:M().func.isRequired,hideDeleteDialog:M().func.isRequired,showDeleteDialog:M().func.isRequired,showDeleteDialogBool:M().bool.isRequired,onClickCancel:M().func.isRequired,onClearVectorLayer:M().func.isRequired};var pS=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=uS(this,n,[e])).state={isEditing:!1,transcript:t.props.asset.transcript},t.onClickEdit=t.onClickEdit.bind(t),t.onClickCancel=t.onClickCancel.bind(t),t.handleSubmit=t.handleSubmit.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}(n,t),r=n,(i=[{key:"onClickEdit",value:function(){this.setState({isEditing:!0})}},{key:"onClickCancel",value:function(){this.setState({isEditing:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.currentTarget.querySelector("textarea").value;t&&(t=t.trim());var n,r,i,o=this;return(n=this.props.asset.id,r={transcript:t},i="/asset/".concat(n,"/save/"),l(i,"put",JSON.stringify(r)).then((function(e){if(200===e.status)return e.json();throw"Error updating asset: "+"(".concat(e.status,") ").concat(e.statusText)}))).then((function(){o.setState({isEditing:!1,transcript:t}),o.props.onUpdateAssetTranscript(t)}))}},{key:"render",value:function(){var t,n=e.createElement(e.Fragment,null,(40,(t=this.state.transcript)?t.length>40?t.substring(0,37)+"...":t:""),e.createElement("button",{className:"btn btn-sm btn-secondary d-block",onClick:this.onClickEdit},"Edit Transcript"));return this.state.isEditing&&(n=e.createElement("form",{onSubmit:this.handleSubmit},e.createElement("textarea",{className:"form-control mb-1",id:"assetTranscriptInput",rows:"4",defaultValue:this.state.transcript}),e.createElement("button",{className:"btn btn-sm btn-secondary",onClick:this.onClickCancel,type:"button"},"Cancel"),e.createElement("button",{className:"btn btn-sm btn-primary ml-1",onClick:this.onClickSave,type:"submit"},"Save"))),e.createElement("tr",null,e.createElement("th",{scope:"row"},e.createElement("label",{htmlFor:"assetTranscriptInput"},"Transcript")),e.createElement("td",null,n))}}])&&lS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function gS(e){return gS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gS(e)}function mS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yS(r.key),r)}}function yS(e){var t=function(e,t){if("object"!=gS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=gS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gS(t)?t:t+""}function vS(e,t,n){return t=_S(t),function(e,t){if(t&&("object"===gS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bS()?Reflect.construct(t,n||[],_S(e).constructor):t.apply(e,n))}function bS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bS=function(){return!!e})()}function _S(e){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_S(e)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wS(e,t)}pS.propTypes={asset:M().object.isRequired,onUpdateAssetTranscript:M().func.isRequired};var xS=function(t){function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=vS(this,n,[e])).state={references:null,validated:!1,isRenaming:!1,assetTitleEditing:t.props.asset?t.props.asset.title:null,assetTitle:t.props.asset?t.props.asset.title:null};var r=t;return function(){var e="/asset/references/".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,"/");return l(e).then((function(e){if(200===e.status)return e.json();throw"Error loading asset: "+"(".concat(e.status,") ").concat(e.statusText)}))}(t.props.asset.id).then((function(e){"references"in e&&r.setState({references:e.references})})),t.onClickRename=t.onClickRename.bind(t),t.onClickCancel=t.onClickCancel.bind(t),t.onClickRemove=t.onClickRemove.bind(t),t.handleSubmitRename=t.handleSubmitRename.bind(t),t.onChangeTitle=t.onChangeTitle.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}(n,t),r=n,i=[{key:"onClickRename",value:function(e){this.setState({isRenaming:!0})}},{key:"onClickCancel",value:function(e){this.setState({isRenaming:!1})}},{key:"onClickRemove",value:function(e){var t,n;if(!0===window.confirm("Remove this asset from your collection?")){var r=this;return(t=this.props.asset.id,n="/asset/delete/".concat(t,"/"),l(n).then((function(e){if(200===e.status)return e.json();throw"Error removing asset: "+"(".concat(e.status,") ").concat(e.statusText)}))).then((function(){return r.props.leaveAssetDetailView()})).then((function(){window.scrollTo(0,0)}))}return null}},{key:"handleSubmitRename",value:function(e){var t,n,r;if(e.preventDefault(),!1!==e.currentTarget.checkValidity()){var i=this;return(t=this.props.asset.id,n=this.state.assetTitleEditing,r="/asset/".concat(t,"/save/"),l(r,"put",JSON.stringify({title:n})).then((function(e){if(200===e.status)return e.json();throw"Error updating asset: "+"(".concat(e.status,") ").concat(e.statusText)}))).then((function(){i.setState({isRenaming:!1,assetTitle:i.state.assetTitleEditing}),i.props.onUpdateAssetTitle(i.state.assetTitleEditing)}))}return e.stopPropagation(),this.props.onShowValidationError("Please specify an item title."),this.setState({validated:!0})}},{key:"onChangeTitle",value:function(e){this.setState({assetTitleEditing:e.target.value})}},{key:"render",value:function(){var t=null;this.props.asset&&this.props.asset.author&&(t=this.props.asset.author.id);var n=!1;window.MediaThread&&window.MediaThread.current_user&&(n=t===window.MediaThread.current_user);var r=[];this.state.references&&this.state.references.forEach((function(t,n){r.push(e.createElement("li",{key:n},e.createElement("a",{href:t.url},t.title)))}));var i="There are no tags.",o="There are no vocabulary terms.";if(this.props.asset&&this.props.asset.annotations){var a=function(e){var t=[];return e.forEach((function(e){e.metadata.tags.forEach((function(e){t.includes(e.name)||t.push(e.name)}))})),t}(this.props.asset.annotations);a.length>0&&(i=a.join(", "));var l=R(this.props.asset.annotations);l.length>0&&(o=l.join(", "))}var c=null;if(this.props.asset&&this.props.asset.metadata){var u=s()(this.props.asset.metadata,{key:"Description"});u&&(u=u.value),u&&u.length&&(c=u[0])}var h=window.location.href,d=this.props.assetInstance.getType(),f=n&&("video"===d||"audio"===d);return e.createElement("div",{className:"tab-content",id:"pills-tabContent"},e.createElement("h3",null,"Tags"),e.createElement("p",null,i),e.createElement("hr",null),e.createElement("h3",null,"Course Vocabulary"),e.createElement("p",null,o),e.createElement("hr",null),e.createElement("h3",null,"Course References"),this.state.references&&0===this.state.references.length&&e.createElement("div",null,"There are no references in this course."),this.state.references&&this.state.references.length>0&&e.createElement("ul",null,r),e.createElement("hr",null),e.createElement("h3",null,"Additional Information (Metadata)"),e.createElement("table",{className:"table table-sm table-borderless mt-1 table-metadata"},e.createElement("tbody",null,e.createElement("tr",null,e.createElement("th",{scope:"row"},"Item Name"),e.createElement("td",null,this.state.isRenaming&&e.createElement(Dw,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmitRename},e.createElement(Dw.Group,{className:"mb-3"},e.createElement(Dw.Control,{required:!0,type:"text","aria-label":"Item Name",size:"sm",className:"mb-1",onChange:this.onChangeTitle,value:this.state.assetTitleEditing}),e.createElement("button",{onClick:this.onClickCancel,type:"button",className:"btn btn-sm btn-secondary mr-1"},"Cancel"),e.createElement("button",{type:"submit",className:"btn btn-sm btn-primary"},"Save"))),!this.state.isRenaming&&e.createElement(e.Fragment,null,this.state.assetTitle," ",n&&e.createElement("button",{type:"submit",onClick:this.onClickRename,className:"btn btn-secondary btn-sm d-block my-1"},"Rename this item")))),f&&e.createElement(pS,{asset:this.props.asset,onUpdateAssetTranscript:this.props.onUpdateAssetTranscript}),e.createElement("tr",null,e.createElement("th",{scope:"row"},"Permalink"),e.createElement("td",{className:"text-break"},e.createElement("a",{href:h},h))),e.createElement("tr",null,e.createElement("th",{scope:"row"},"Creator"),e.createElement("td",null,this.props.asset.author.public_name," (",this.props.asset.author.username,")")),this.props.asset&&this.props.asset.sources&&this.props.asset.sources.url&&e.createElement("tr",null,e.createElement("th",{scope:"row"},"Link"),e.createElement("td",null,e.createElement("a",{href:this.props.asset.sources.url.url,target:"_blank",rel:"noopener noreferrer"},"Original Source"))))),c&&e.createElement("div",null,e.createElement("div",{className:"font-weight-bold"},"Description"),e.createElement("p",{className:"description"},c)),this.props.asset&&this.props.asset.editable&&e.createElement("button",{type:"button",className:"btn btn-danger btn-sm float-right",onClick:this.onClickRemove},"Remove from my Collection"))}}],i&&mS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function SS(e){return SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SS(e)}function ES(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CS(r.key),r)}}function CS(e){var t=function(e,t){if("object"!=SS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=SS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==SS(t)?t:t+""}function kS(e,t,n){return t=AS(t),function(e,t){if(t&&("object"===SS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PS()?Reflect.construct(t,n||[],AS(e).constructor):t.apply(e,n))}function PS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PS=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AS(e)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TS(e,t)}xS.propTypes={assetInstance:M().object,asset:M().object,onUpdateAssetTitle:M().func.isRequired,onUpdateAssetTranscript:M().func.isRequired,onShowValidationError:M().func.isRequired,leaveAssetDetailView:M().func.isRequired};var RS=function(t){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=kS(this,n,[t])).spinnerRef=e.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}(n,t),r=n,(o=[{key:"render",value:function(){var t=0;return this.props.timecode&&(t=m(this.props.timecode,!0)),e.createElement("div",{className:"jux-timecode-editor"},e.createElement("input",{required:!0,id:"juxTimecode",ref:this.spinnerRef,min:m(this.props.min),max:"99:00:00",defaultValue:t}))}},{key:"componentDidUpdate",value:function(e){this.spinnerRef&&e.timecode!==this.props.timecode&&(this.spinnerRef.current.value=m(this.props.timecode,!0))}},{key:"componentDidMount",value:function(){if(this.spinnerRef){var e=this,t=this.spinnerRef.current;jQuery(t).timecodespinner({change:function(n){var r=p(n.target.value);i()(r)&&e.props.onChange(r),e.props.timecode!==t.value&&(t.value=m(e.props.timecode,!0))},spin:function(n,r){var o=r.value/100;if(i()(o)&&e.props.onChange(o),e.props.timecode!==t.value)return t.value=m(e.props.timecode,!0),!1}})}}},{key:"componentWillUnmount",value:function(){this.spinnerRef&&jQuery(this.spinnerRef.current).timecodespinner("destroy")}}])&&ES(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(e.Component);function OS(e){return OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OS(e)}function MS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IS(r.key),r)}}function IS(e){var t=function(e,t){if("object"!=OS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=OS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==OS(t)?t:t+""}function DS(e,t,n){return t=LS(t),function(e,t){if(t&&("object"===OS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FS()?Reflect.construct(t,n||[],LS(e).constructor):t.apply(e,n))}function FS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FS=function(){return!!e})()}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},LS(e)}function NS(e,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NS(e,t)}RS.propTypes={min:M().number.isRequired,onChange:M().func.isRequired,timecode:M().number};var jS=function(e){var t=window.location.pathname.replace(/annotations\/\d+\//,""),n=t;e&&(n=t+"annotations/".concat(e,"/")),window.history.pushState(null,null,n)},zS=function(){var e=window.jQuery("iframe.pdfjs")[0];e&&e.contentWindow.postMessage("disableRectangleTool","*")},BS=function(t){function n(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=DS(this,n,[t]);var i=null,o=!1;window&&window.location&&window.location.pathname&&(o=!!(i=window.location.pathname.match(/annotations\/(\d+)\//)))&&(i=window.parseInt(i[1],10));var a=null;return o&&(a=s()(r.props.asset.annotations,{id:i})),r.state={selectionStartTime:a?a.range1:0,selectionEndTime:a?a.range2:0,assetTitle:r.props.asset?r.props.asset.title:null,assetTranscript:r.props.asset?r.props.asset.transcript:null,deletingSelectionId:null,showDeleteDialog:!1,showDeletedDialog:!1,validationError:null,activeSelection:a?a.title:null,tab:"viewSelections",isDrawing:!1,isEditing:null,annotationTool:null,showCancel:!1,showClear:!1,toolType:null,pdfRect:null},r.draw=null,r.playerRef=e.createRef(),r.polygonButtonRef=e.createRef(),r.freeformShapeButtonRef=e.createRef(),r.drawlineButtonRef=e.createRef(),r.startButtonRef=e.createRef(),r.asset=new Hf(r.props.asset),r.type=r.asset.getType(),r.onStartTimeClick=r.onStartTimeClick.bind(r),r.onEndTimeClick=r.onEndTimeClick.bind(r),r.onCreateSelection=r.onCreateSelection.bind(r),r.onSaveSelection=r.onSaveSelection.bind(r),r.onDeleteSelection=r.onDeleteSelection.bind(r),r.showDeleteDialog=r.showDeleteDialog.bind(r),r.hideDeleteDialog=r.hideDeleteDialog.bind(r),r.hideDeletedDialog=r.hideDeletedDialog.bind(r),r.onShowValidationError=r.onShowValidationError.bind(r),r.hideValidationError=r.hideValidationError.bind(r),r.onClearActiveSelection=r.onClearActiveSelection.bind(r),r.onStartTimeUpdate=r.onStartTimeUpdate.bind(r),r.onEndTimeUpdate=r.onEndTimeUpdate.bind(r),r.onSelectSelection=r.onSelectSelection.bind(r),r.onViewSelection=r.onViewSelection.bind(r),r.onPlaySelection=r.onPlaySelection.bind(r),r.onSelectTab=r.onSelectTab.bind(r),r.onDrawEnd=r.onDrawEnd.bind(r),r.onDrawStart=r.onDrawStart.bind(r),r.onUpdateIsEditing=r.onUpdateIsEditing.bind(r),r.onClearVectorLayer=r.onClearVectorLayer.bind(r),r.addInteraction=r.addInteraction.bind(r),r.addFreeformInteraction=r.addFreeformInteraction.bind(r),r.addDrawlineInteraction=r.addDrawlineInteraction.bind(r),r.onUpdateAssetTitle=r.onUpdateAssetTitle.bind(r),r.onUpdateAssetTranscript=r.onUpdateAssetTranscript.bind(r),r.onDrawCancel=r.onDrawCancel.bind(r),r.onClickClear=r.onClickClear.bind(r),r.onClickCancel=r.onClickCancel.bind(r),r.onRectangleClicked=r.onRectangleClicked.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NS(e,t)}(n,t),r=n,i=[{key:"onUpdateIsEditing",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={isEditing:e};e||(n.isDrawing=!1,t&&(n.activeSelection=t.title)),this.setState(n,(function(){t&&A(jQuery("#selectionsAccordion"),t.id,!0)}))}},{key:"onUpdateAssetTitle",value:function(e){this.setState({assetTitle:e})}},{key:"onUpdateAssetTranscript",value:function(e){this.setState({assetTranscript:e})}},{key:"onCreateSelection",value:function(e,t,n){this.setState({validationError:null,showCancel:!1,showClear:!1,toolType:null}),e.preventDefault();var r,i,o=this,s={title:document.getElementById("newSelectionTitle").value,tags:t,terms:n,body:document.getElementById("newSelectionNotes").value},a={};if("image"===this.type){var c=this.selectionSource.getFeatures()[0].getGeometry(),h=c.getCoordinates(),d=c.getExtent();s.range1=-2,s.range2=-1,"polygon"===this.state.annotationTool?a={geometry:{type:"Polygon",coordinates:h},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"polygon"}:"freeformShape"===this.state.annotationTool?a={geometry:{type:"Polygon",coordinates:h},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"freeformShape"}:"drawline"===this.state.annotationTool&&(a={geometry:{type:"LineString",coordinates:h},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"drawline"})}else if("video"===this.type)s.range1=this.state.selectionStartTime||0,s.range2=this.state.selectionEndTime,a={startCode:m(this.state.selectionStartTime||0),endCode:m(this.state.selectionEndTime),duration:this.state.selectionEndTime-(this.state.selectionStartTime||0),timeScale:1,start:this.state.selectionStartTime||0,end:this.state.selectionEndTime};else if("pdf"===this.type){if(!this.state.pdfRect)return void this.onShowValidationError("Please make a selection on the PDF.");a={geometry:{type:"Rectangle",page:this.state.pdfRect.page,coordinates:this.state.pdfRect.coords}}}return s.annotation_data=a,(r=this.asset.asset.id,i=s,i.range1&&i.range2||(i.range1=-2,i.range2=-1),l("/asset/".concat(r,"/sherdnote/create/"),"post",JSON.stringify(i)).then((function(e){return 201===e.status?e.json():e.json().then((function(e){var t="";for(var n in e)t+="".concat(n,": ").concat(e[n],"\n");throw t.slice(0,-1)}))}))).then((function(t){return o.setState({activeSelection:t.title,tab:"viewSelections"},(function(){return u(o.asset.asset.id).then((function(e){return o.props.onUpdateAsset(e.assets[o.asset.asset.id])})).then((function(){return A(jQuery("#selectionsAccordion"),t.id,!0),t.annotation_data&&(t.annotation=JSON.parse(t.annotation_data)),o.onSelectSelection(t.title,t.id),o.setState({pdfRect:null}),o.onViewSelection(e,t)}))}))}))}},{key:"onSaveSelection",value:function(e,t,n,r){this.setState({validationError:null,showCancel:!1,showClear:!1,toolType:null}),zS(),e.preventDefault();var i=this,o=null,s={title:document.getElementById("newSelectionTitle").value,tags:n,terms:r,body:document.getElementById("newSelectionNotes").value};if("image"===this.type&&this.selectionSource&&this.selectionSource.getFeatures().length){var a=this.selectionSource.getFeatures()[0].getGeometry(),c=a.getCoordinates(),h=a.getExtent();"polygon"===this.state.annotationTool?o={geometry:{type:"Polygon",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:h,tool:"polygon"}:"freeformShape"===this.state.annotationTool?o={geometry:{type:"Polygon",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:h,tool:"freeformShape"}:"drawline"===this.state.annotationTool&&(o={geometry:{type:"LineString",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:h,tool:"drawline"})}else"video"===this.type?(s.range1=this.state.selectionStartTime||0,s.range2=this.state.selectionEndTime,o={startCode:m(this.state.selectionStartTime||0),endCode:m(this.state.selectionEndTime),duration:this.state.selectionEndTime-(this.state.selectionStartTime||0),timeScale:1,start:this.state.selectionStartTime||0,end:this.state.selectionEndTime}):"pdf"===this.type&&(o={geometry:{type:"Rectangle",page:this.state.pdfRect.page,coordinates:this.state.pdfRect.coords}});return o&&(s.annotation_data=JSON.stringify(o)),function(e,t,n){return l("/asset/save/".concat(e,"/annotations/").concat(t,"/"),"post",JSON.stringify(n))}(this.asset.asset.id,t,s).then((function(e){return u(i.asset.asset.id).then((function(e){return i.props.onUpdateAsset(e.assets[i.asset.asset.id])})).then((function(){A(jQuery("#selectionsAccordion"),t,!0)}))}),(function(e){i.setState({showCreateError:!0,createError:e},(function(){document.getElementById("create-error-alert").scrollIntoView()}))}))}},{key:"onDeleteSelection",value:function(e){e.preventDefault();var t,n,r=this;(t=this.asset.asset.id,n=this.state.deletingSelectionId,l("/asset/delete/".concat(t,"/annotations/").concat(n,"/"),"post").then((function(e){if(200===e.status)return e.json();throw"Error deleting selection: "+"(".concat(e.status,") ").concat(e.statusText)}))).then((function(){r.hideDeleteDialog(),r.setState({showDeletedDialog:!0}),u(r.asset.asset.id).then((function(e){r.props.onUpdateAsset(e.assets[r.asset.asset.id]),r.onClearActiveSelection()}))}))}},{key:"pause",value:function(){var e=this.playerRef.current.getInternalPlayer();e&&e.pauseVideo?e.pauseVideo():e&&e.pause&&e.pause()}},{key:"onPlayerProgress",value:function(e){this.state.selectionEndTime&&e.playedSeconds>this.state.selectionEndTime&&this.pause()}},{key:"onStartTimeUpdate",value:function(e){var t=e;e.target&&(t=p(e.target.value)),this.setState({selectionStartTime:t})}},{key:"onEndTimeUpdate",value:function(e){var t=e;e.target&&(t=p(e.target.value)),this.setState({selectionEndTime:t})}},{key:"onStartTimeClick",value:function(e){e.preventDefault();var t=x(this.playerRef.current.getInternalPlayer());if("number"==typeof t)this.setState({selectionStartTime:t});else if(t.then){var n=this;t.then((function(e){n.setState({selectionStartTime:e})}))}}},{key:"onEndTimeClick",value:function(e){e.preventDefault();var t=x(this.playerRef.current.getInternalPlayer());if("number"==typeof t)this.setState({selectionEndTime:t});else if(t.then){var n=this;t.then((function(e){n.setState({selectionEndTime:e})}))}this.pause()}},{key:"showDeleteDialog",value:function(e){this.setState({deletingSelectionId:e,showDeleteDialog:!0})}},{key:"hideDeleteDialog",value:function(){this.setState({deletingSelectionId:null,showDeleteDialog:!1})}},{key:"hideDeletedDialog",value:function(){this.setState({showDeletedDialog:!1})}},{key:"onShowValidationError",value:function(e){this.setState({validationError:e})}},{key:"hideValidationError",value:function(){this.setState({validationError:null})}},{key:"onSelectSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e&&null===t&&this.onClearActiveSelection(),this.setState({activeSelection:e}),jS(t)}},{key:"onClearActiveSelection",value:function(){var e={activeSelection:null};if("image"===this.type)this.draw&&this.map.removeInteraction(this.draw),this.selectionLayer&&this.map.removeLayer(this.selectionLayer),bp(this.map,this.selectionSource,this.asset.getImage());else if("video"===this.type)e.selectionStartTime=null,e.selectionEndTime=null;else if("pdf"===this.type){var t=window.jQuery("iframe.pdfjs")[0];t&&t.contentWindow.postMessage("onClearSelection","*")}this.setState(e)}},{key:"onViewSelection",value:function(e,t){if("image"===this.type){this.selectionLayer&&this.map.removeLayer(this.selectionLayer);var n=yp(t,this.map);this.selectionLayer=n}else if("video"===this.type)this.playerRef.current.seekTo(t.range1,"seconds"),this.setState({selectionStartTime:t.range1,selectionEndTime:t.range2});else if("pdf"===this.type){var r=window.jQuery("iframe.pdfjs")[0],i=t.annotation.geometry;i.message="onViewSelection",r&&r.contentWindow.postMessage(i,"*")}}},{key:"onSelectTab",value:function(e){this.setState({tab:e}),this.onClearActiveSelection(),jS(null)}},{key:"onClearVectorLayer",value:function(){this.selectionSource&&vp(this.selectionSource),this.selectionLayer&&this.map.removeLayer(this.selectionLayer)}},{key:"onClickClear",value:function(){this.onClearVectorLayer(),this.onClearActiveSelection(),this.setState({isDrawing:!1,showClear:!1,annotationTool:null,toolType:null}),zS()}},{key:"onPlaySelection",value:function(e){e.preventDefault();var t=this.playerRef.current.getInternalPlayer(),n=x(t);Math.round(n)!==Math.round(this.state.selectionStartTime)&&this.playerRef.current.seekTo(this.state.selectionStartTime,"seconds"),t&&t.playVideo?t.playVideo():t&&t.play&&t.play()}},{key:"onClickCancel",value:function(e,t){e.preventDefault(),this.onUpdateIsEditing(null,t),this.onClearActiveSelection(),this.setState({annotationTool:null,toolType:null})}},{key:"onRectangleClicked",value:function(){this.setState({toolType:"rect",showCancel:!0,showClear:!1});var e=window.jQuery("iframe.pdfjs")[0];e&&e.contentWindow.postMessage("enableRectangleTool","*")}},{key:"render",value:function(){var t=this,n=null,r=null,i="asset: ".concat(this.props.asset.title);if(this.state.activeSelection&&(i="annotation: ".concat(this.state.activeSelection)),"viewMetadata"===this.state.tab&&(r=e.createElement("div",{className:"input-group"},e.createElement("div",{className:"form-check form-control-sm invisible"},e.createElement("input",{className:"form-check-input",type:"checkbox"})))),"image"===this.type){var o=e.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},e.createElement("form",null,e.createElement("div",{className:"form-row align-items-center"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab&&this.state.isEditing)&&e.createElement(e.Fragment,null,e.createElement("p",{className:"av-selections"},"Draw Selection"),e.createElement("button",{type:"button",ref:this.polygonButtonRef,className:"btn btn-light btn-sm mr-2 polygon-button "+("polygon"===this.state.toolType?"bg-warning":""),onClick:this.addInteraction},e.createElement("svg",{className:"bi bi-pentagon",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M8 1.288l-6.842 5.56L3.733 15h8.534l2.575-8.153L8 1.288zM16 6.5L8 0 0 6.5 3 16h10l3-9.5z"}))," Polygon"),e.createElement("button",{type:"button",ref:this.freeformShapeButtonRef,className:"btn btn-light btn-sm mr-2 freeformShape-button "+("freeformShape"===this.state.toolType?"bg-warning":""),onClick:this.addFreeformInteraction},e.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fillRule:"evenodd",d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}))," Freeform Shape"),e.createElement("button",{type:"button",ref:this.drawlineButtonRef,className:"btn btn-light btn-sm mr-2 drawline-button "+("drawline"===this.state.toolType?"bg-warning":""),onClick:this.addDrawlineInteraction},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",className:"bi bi-brush",viewBox:"0 0 16 16"},e.createElement("path",{d:"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z"}))," Line"),this.state.showCancel&&e.createElement("button",{type:"button",id:"cancel-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onDrawCancel},"Cancel"),this.state.showClear&&!this.state.isEditing&&e.createElement("button",{type:"button",id:"clear-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onClickClear},"Clear")))));n=e.createElement(e.Fragment,null,o,e.createElement("div",{id:"map-".concat(this.props.asset.id),className:"ol-map",role:"img","aria-live":"polite","aria-label":"Image for "+i}))}else if("video"===this.type){var s="createSelection"===this.state.tab||this.state.activeSelection&&"viewSelections"===this.state.tab,a=e.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},e.createElement("form",null,e.createElement("div",{className:"form-row"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab)&&e.createElement(e.Fragment,null,e.createElement("div",{className:"col-md-10"},e.createElement("div",{className:"input-group"},this.state.activeSelection&&"viewSelections"===this.state.tab&&!this.state.isEditing&&e.createElement(e.Fragment,null,e.createElement("label",{className:"av-selections mt-1"},"Selection"),e.createElement("div",{className:"mt-1"},m(this.state.selectionStartTime),String.fromCharCode(160),String.fromCharCode(8212),String.fromCharCode(160),m(this.state.selectionEndTime))),("createSelection"===this.state.tab||this.state.isEditing)&&e.createElement(e.Fragment,null,e.createElement("label",{className:"av-selections mt-1",htmlFor:"juxTimecode"},"Selection"),e.createElement("button",{onClick:this.onStartTimeClick,ref:this.startButtonRef,type:"button",className:"btn btn-light btn-sm mr-1"},"Start"),e.createElement(RS,{min:0,onChange:this.onStartTimeUpdate,timecode:this.state.selectionStartTime}),e.createElement("button",{onClick:this.onEndTimeClick,type:"button",className:"btn btn-light btn-sm ml-2 mr-1"},"Stop"),e.createElement(RS,{min:1,onChange:this.onEndTimeUpdate,timecode:this.state.selectionEndTime})),e.createElement("div",{className:"ml-2 mt-1 "+(s?"":"invisible")},String.fromCharCode(8226)," Length:",String.fromCharCode(160),e.createElement("strong",null,m(y(this.state.selectionStartTime,this.state.selectionEndTime)))))),e.createElement("div",{className:"col-md-2 text-right"+(s?"":"invisible")},("createSelection"===this.state.tab||this.state.activeSelection&&"viewSelections"===this.state.tab)&&e.createElement("button",{onClick:this.onPlaySelection,type:"button",disabled:this.state.selectionStartTime>=this.state.selectionEndTime,className:"btn btn-primary btn-sm"},"Play",e.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-play-fill ml-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})))))))),l=this.asset.extractSource(),c=null;l&&(c=l.url);var u={file:{attributes:{}}};window.MediaThread.allow_item_download||(u.file.attributes.controlsList="nodownload");var h=this.asset.getCaptionTrack();h&&(u.file.attributes={crossOrigin:"true"},u.file.tracks=[{kind:"subtitles",src:h,default:!0}]),n=e.createElement(e.Fragment,null,a,e.createElement("div",{className:"embed-responsive embed-responsive-16by9","aria-live":"polite","aria-label":"Video for "+i},e.createElement(Bv(),{className:"react-player embed-responsive-item",width:"100%",height:"100%",style:{backgroundColor:"black"},onProgress:this.onPlayerProgress.bind(this),ref:this.playerRef,url:c,controls:!0,config:u})))}else if("pdf"===this.type){var d=e.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},e.createElement("form",null,e.createElement("div",{className:"form-row align-items-center"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab&&this.state.isEditing)&&e.createElement(e.Fragment,null,e.createElement("p",{className:"av-selections"},"Draw Selection"),e.createElement("button",{type:"button",onClick:this.onRectangleClicked,className:"btn btn-light btn-sm mr-2 polygon-button "+("rect"===this.state.toolType?"bg-warning":"")},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-square",viewBox:"0 0 16 16"},e.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}))," Rectangle"),this.state.showCancel&&e.createElement("button",{type:"button",id:"cancel-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onDrawCancel},"Cancel"),this.state.showClear&&!this.state.isEditing&&e.createElement("button",{type:"button",id:"clear-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onClickClear},"Clear")))));n=e.createElement(e.Fragment,null,d,e.createElement("div",{className:"d-flex","aria-live":"polite","aria-label":"PDF for "+i},e.createElement("iframe",{className:"flex-fill pdfjs",src:"/asset/pdfjs/".concat(this.asset.asset.id),style:{height:"600px"}})))}var f="Original Item";return"createSelection"===this.state.tab?f="1. Make a Selection":"viewSelections"===this.state.tab&&this.state.activeSelection&&(f=this.state.activeSelection),e.createElement("div",{className:"tab-content asset-detail"},e.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap"},e.createElement("h2",{className:"col-md-7 asset-detail-title"},this.state.assetTitle),e.createElement(E_,{className:"col-md-5 justify-content-end mb-2",variant:"pills",defaultActiveKey:"/"},e.createElement(E_.Item,null,e.createElement(E_.Link,{onClick:function(){return t.onSelectTab("viewSelections")},active:"viewSelections"===this.state.tab},"View Selections")),e.createElement(E_.Item,null,e.createElement(E_.Link,{onClick:function(){return t.onSelectTab("createSelection")},active:"createSelection"===this.state.tab},"Create Selection")),e.createElement(E_.Item,null,e.createElement(E_.Link,{onClick:function(){return t.onSelectTab("viewMetadata")},active:"viewMetadata"===this.state.tab},"View Metadata")))),e.createElement("div",{className:"col-md-6 offset-md-3"},e.createElement(Kb,{dismissible:!0,variant:"danger",onClose:this.hideValidationError,show:!!this.state.validationError},this.state.validationError),e.createElement(Kb,{dismissible:!0,variant:"primary",show:this.state.showDeletedDialog,onClose:this.hideDeletedDialog},"Selection deleted.")),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-sm-7"},e.createElement("h3",null,f),e.createElement("div",{className:"sticky-top"},n,this.state.assetTranscript&&e.createElement("div",{className:"mediathread-transcript"},this.state.assetTranscript))),e.createElement("div",{className:"col-sm-5"},"viewSelections"===this.state.tab&&e.createElement(sS,{type:this.type,tags:this.props.tags,terms:this.props.terms,selectionSource:this.selectionSource,selectionStartTime:this.state.selectionStartTime,selectionEndTime:this.state.selectionEndTime,filteredSelections:this.props.asset.annotations,isEditing:this.state.isEditing,onUpdateIsEditing:this.onUpdateIsEditing,onSelectSelection:this.onSelectSelection,onSelectTab:this.onSelectTab,onViewSelection:this.onViewSelection,onPlaySelection:this.onPlaySelection,onSaveSelection:this.onSaveSelection,onShowValidationError:this.onShowValidationError,onDeleteSelection:this.onDeleteSelection,hideDeleteDialog:this.hideDeleteDialog,showDeleteDialog:this.showDeleteDialog,showDeleteDialogBool:this.state.showDeleteDialog,onClickCancel:this.onClickCancel,onClearVectorLayer:this.onClearVectorLayer}),"createSelection"===this.state.tab&&e.createElement(e.Fragment,null,e.createElement("h3",null,"2. Add Details"),e.createElement(ex,{type:this.type,tags:this.props.tags,terms:this.props.terms,selectionSource:this.selectionSource,selectionStartTime:this.state.selectionStartTime,selectionEndTime:this.state.selectionEndTime,onStartTimeClick:this.onStartTimeClick,onEndTimeClick:this.onEndTimeClick,onCreateSelection:this.onCreateSelection,onShowValidationError:this.onShowValidationError})),"viewMetadata"===this.state.tab&&e.createElement(xS,{assetInstance:this.asset,asset:this.props.asset,onUpdateAssetTitle:this.onUpdateAssetTitle,onUpdateAssetTranscript:this.onUpdateAssetTranscript,onShowValidationError:this.onShowValidationError,leaveAssetDetailView:this.props.leaveAssetDetailView}))))}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.tab!==this.state.tab&&"createSelection"===this.state.tab?"video"===this.type&&this.startButtonRef.current.focus():"pdf"===this.type&&"createSelection"===t.tab&&t.tab!==this.state.tab&&zS(),t.isDrawing!==this.state.isDrawing)if(this.state.isDrawing)this.map.getControls().clear(),this.map.getInteractions().clear(),this.map.addInteraction(this.draw);else{this.map.addControl(new da);var r=this.asset.getImage(),i=gp(r.width,r.height);this.map.addControl(new X_({extent:i})),Ha().forEach((function(e){n.map.addInteraction(e)}))}}},{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.match(/annotations\/(\d+)\//),n=null;if(t&&t.length>1&&(n=parseInt(t[1],10),A(jQuery("#selectionsAccordion"),n,!0)),"image"===this.type){var r=this.asset.getImage(),i=gp(r.width,r.height),o=new li({code:"xkcd-image",units:"pixels",extent:i});this.selectionSource=new Nu({wrapX:!1});var a=new Eu({source:this.selectionSource});if(this.map=new Ka({target:"map-".concat(this.props.asset.id),controls:[new da,new X_({extent:i})],keyboardEventTarget:document,layers:[new rl({source:new bl({url:r.url,projection:o,imageExtent:i})}),a],view:new ls({projection:o,center:sr(i),zoom:1})}),this.map.on("loadend",(function(){window.jQuery(".ol-zoom-in").attr("aria-label","Zoom in"),window.jQuery(".ol-zoom-out").attr("aria-label","Zoom out"),window.jQuery(".ol-layer>canvas").attr("aria-label","Image for asset: "+e.props.asset.title)})),n){var l=s()(this.props.asset.annotations,{id:n});this.onViewSelection(null,l)}}else"pdf"===this.type&&(window.onmessage=function(t){if(t.data.message&&"pdfAnnotationRectCreated"===t.data.message)e.setState({pdfRect:t.data.rect,toolType:null,showCancel:!1,showClear:!0});else if(t.data.message&&"pdfLoaded"===t.data.message){if(n){var r=s()(e.props.asset.annotations,{id:n});e.onViewSelection(null,r)}}else t.data.message&&"pdfAnnotationRectStarted"===t.data.message&&e.setState({showCancel:!1,showClear:!0})})}},{key:"onDrawEnd",value:function(e){this.setState({showCancel:!1,isDrawing:!1,toolType:null}),e.feature.setStyle(mp),this.draw&&this.map.removeInteraction(this.draw)}},{key:"onDrawCancel",value:function(){this.setState({showCancel:!1,isDrawing:!1,annotationTool:null,toolType:null}),this.draw&&this.map.removeInteraction(this.draw),"pdf"===this.type&&zS()}},{key:"onDrawStart",value:function(){this.setState({isDrawing:!0,showCancel:!1,showClear:!0}),this.onClearVectorLayer()}},{key:"addInteraction",value:function(){this.setState({annotationTool:"polygon",showCancel:!0,showClear:!1,toolType:"polygon"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new z_({source:this.selectionSource,stopClick:!0,type:"Polygon"}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}},{key:"addFreeformInteraction",value:function(){this.setState({annotationTool:"freeformShape",showCancel:!0,showClear:!1,toolType:"freeformShape"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new z_({source:this.selectionSource,type:"Polygon",freehand:!0}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}},{key:"addDrawlineInteraction",value:function(){this.setState({annotationTool:"drawline",showCancel:!0,showClear:!1,toolType:"drawline"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new z_({source:this.selectionSource,type:"LineString",freehand:!0}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}}],i&&MS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function US(e){return US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},US(e)}function VS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WS(r.key),r)}}function WS(e){var t=function(e,t){if("object"!=US(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=US(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==US(t)?t:t+""}function $S(e,t,n){return t=qS(t),function(e,t){if(t&&("object"===US(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HS()?Reflect.construct(t,n||[],qS(e).constructor):t.apply(e,n))}function HS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HS=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qS(e)}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GS(e,t)}BS.propTypes={asset:M().object,tags:M().array,terms:M().array,leaveAssetDetailView:M().func.isRequired,onUpdateAsset:M().func.isRequired};var XS=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),$S(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){return e.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},e.createElement("strong",null,"Hmmm.")," You have not collected any items. Click ",e.createElement("strong",null,"Add to Collection")," to get started or search for items your classmates have collected using the ",e.createElement("strong",null,"Owner")," list.",e.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},e.createElement("span",{"aria-hidden":"true"},"×")))}}])&&VS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function YS(e){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YS(e)}function KS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZS(r.key),r)}}function ZS(e){var t=function(e,t){if("object"!=YS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=YS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==YS(t)?t:t+""}function QS(e,t,n){return t=eE(t),function(e,t){if(t&&("object"===YS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JS()?Reflect.construct(t,n||[],eE(e).constructor):t.apply(e,n))}function JS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JS=function(){return!!e})()}function eE(e){return eE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eE(e)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tE(e,t)}var nE=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=QS(this,n,[e])).nextPage=t.nextPage.bind(t),t.prevPage=t.prevPage.bind(t),t.lastPage=t.lastPage.bind(t),t.firstPage=t.firstPage.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}(n,t),r=n,(i=[{key:"setPageAndUpdateAssets",value:function(e){this.props.onUpdateItems(null),this.props.updateCurrentPage(e);var t=T(this.props),n=this;c(t.title,t.owner,t.tags,t.terms,t.date,20*e).then((function(e){n.props.onUpdateItems(e.assets,e.asset_count,e.active_tags,e.active_vocabulary),n.props.updatePageCount(e.asset_count)}),(function(e){console.error("asset get error!",e)}))}},{key:"lastPage",value:function(){this.setPageAndUpdateAssets(this.props.pageCount-1)}},{key:"firstPage",value:function(){this.setPageAndUpdateAssets(0)}},{key:"nextPage",value:function(){var e=Math.min(this.props.currentPage+1,this.props.pageCount-1);this.setPageAndUpdateAssets(e)}},{key:"prevPage",value:function(){var e=Math.max(this.props.currentPage-1,0);this.setPageAndUpdateAssets(e)}},{key:"render",value:function(){return e.createElement("div",{className:"col-md-6"},e.createElement("ul",{className:"pagination nav justify-content-end btn-sm",style:{padding:0}},e.createElement("li",{className:"page-item "+(this.props.currentPage<=0?"disabled":"")},e.createElement("a",{className:"page-link",href:"#","aria-label":"First",onClick:this.firstPage},"First")),e.createElement("li",{className:"page-item "+(this.props.currentPage<=0?"disabled":"")},e.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:this.prevPage},"Previous")),e.createElement("li",{className:"page-item active"},e.createElement("div",{className:"page-link"},this.props.currentPage+1," of ",Math.max(this.props.pageCount,1),e.createElement("span",{className:"sr-only"},"(current)"))),e.createElement("li",{className:"page-item "+(this.props.currentPage>=this.props.pageCount-1?"disabled":"")},e.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:this.nextPage},"Next")),e.createElement("li",{className:"page-item "+(this.props.currentPage>=this.props.pageCount-1?"disabled":"")},e.createElement("a",{className:"page-link",href:"#","aria-label":"Last",onClick:this.lastPage},"Last"))))}}])&&KS(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}function iE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oE(r.key),r)}}function oE(e){var t=function(e,t){if("object"!=rE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=rE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rE(t)?t:t+""}function sE(e,t,n){return t=lE(t),function(e,t){if(t&&("object"===rE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aE()?Reflect.construct(t,n||[],lE(e).constructor):t.apply(e,n))}function aE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aE=function(){return!!e})()}function lE(e){return lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lE(e)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cE(e,t)}nE.propTypes={currentPage:M().number.isRequired,pageCount:M().number.isRequired,updatePageCount:M().func.isRequired,updateCurrentPage:M().func.isRequired,onUpdateItems:M().func.isRequired,owner:M().string,title:M().string,tags:M().array,terms:M().array,date:M().string};var uE=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),sE(this,n,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}(n,t),r=n,(i=[{key:"render",value:function(){var t=this,n=(Math.random()+1).toString(36).substring(7);return e.createElement("div",{className:"col-md-6"},e.createElement("div",{id:"view-toggle=".concat(n),className:"btn-group",role:"group","aria-label":"View Toggle"},e.createElement("button",{type:"button",id:"viewtoggle-grid-".concat(n),"data-testid":"viewtoggle-grid",onClick:function(){return t.props.setViewMode("grid")},className:"btn btn-outline-primary btn-sm "+("grid"===this.props.viewMode?"active":"")},"Grid"),e.createElement("button",{type:"button",id:"viewtoggle-list-".concat(n),"data-testid":"viewtoggle-list",onClick:function(){return t.props.setViewMode("list")},className:"btn btn-outline-primary btn-sm "+("list"===this.props.viewMode?"active":"")},"List")))}}])&&iE(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function hE(e){return hE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(e)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pE(r.key),r)}}function pE(e){var t=function(e,t){if("object"!=hE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=hE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hE(t)?t:t+""}function gE(e,t,n){return t=yE(t),function(e,t){if(t&&("object"===hE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mE()?Reflect.construct(t,n||[],yE(e).constructor):t.apply(e,n))}function mE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mE=function(){return!!e})()}function yE(e){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yE(e)}function vE(e,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vE(e,t)}uE.propTypes={viewMode:M().string.isRequired,setViewMode:M().func.isRequired};var bE=function(e){if(e){e.preventDefault();var t=null;if(e.target.href?t=e.target.href:e.currentTarget&&e.currentTarget.href&&(t=e.currentTarget.href),t){var n={url:location.pathname};window.history.pushState(n,null,location.pathname),window.history.pushState({url:t},null,t)}}},_E=function(t){function n(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=gE(this,n,[t])).state={viewMode:"grid",selectedAsset:null,title:null,owner:window.MediaThread?window.MediaThread.current_username:"all",tags:[],terms:[],date:"all",currentPage:0,pageCount:1},r.setViewMode=r.setViewMode.bind(r),r.enterAssetDetailView=r.enterAssetDetailView.bind(r),r.leaveAssetDetailView=r.leaveAssetDetailView.bind(r),r.onUpdateAsset=r.onUpdateAsset.bind(r),r.onUpdateFilter=r.onUpdateFilter.bind(r),r.updatePageCount=r.updatePageCount.bind(r),r.updateCurrentPage=r.updateCurrentPage.bind(r),r.onClearFilter=r.onClearFilter.bind(r),r.filterRef=e.createRef(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vE(e,t)}(n,t),r=n,i=[{key:"onUpdateFilter",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=pE(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({currentPage:0},e))}},{key:"onClearFilter",value:function(){this.setState({title:null,owner:window.MediaThread?window.MediaThread.current_username:"all",tags:[],terms:[],date:"all",currentPage:0})}},{key:"updateCurrentPage",value:function(e){this.setState({currentPage:e})}},{key:"updatePageCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.props.assetCount),this.setState({pageCount:Math.ceil(e/20)})}},{key:"componentDidUpdate",value:function(e,t){e.asset!==this.props.asset&&this.setState({selectedAsset:this.props.asset}),e.assetCount!==this.props.assetCount&&this.updatePageCount()}},{key:"componentDidMount",value:function(){window.addEventListener("popstate",(function(e){e.state&&e.state.url&&(window.location.href=e.state.url)}))}},{key:"setViewMode",value:function(e){this.setState({viewMode:e})}},{key:"enterAssetDetailView",value:function(e,t){bE(e),t&&t.title&&jQuery("title").text(t.title+" | Mediathread"),jQuery(".collection-header").removeClass("d-flex").addClass("d-none"),jQuery(".collectionAdd").removeClass("show");var n=this;u(t.id).then((function(e){n.setState({selectedAsset:e.assets[t.id]},(function(){window.scrollTo(0,0)}))}),(function(e){n.setState({assetError:e})}))}},{key:"leaveAssetDetailView",value:function(e){if(jQuery(".collection-header").removeClass("d-none").addClass("d-flex"),bE(e),window.MediaThread&&window.MediaThread.current_course_title&&jQuery("title").text(window.MediaThread.current_course_title+" | Mediathread"),this.props.assets&&this.props.assets.length){var t=this;c(this.state.title,this.state.owner,this.state.tags,this.state.terms,this.state.date).then((function(e){t.props.onUpdateAssets(e.assets,e.asset_count,e.active_tags,e.active_vocabulary),t.updatePageCount(e.asset_count)}),(function(e){console.error("asset get error!",e)}))}else{var n=this;c("",window.MediaThread.current_username).then((function(e){n.props.onUpdateAssets(e.assets,e.asset_count,e.active_tags,e.active_vocabulary,e.space_viewer.id)}))}return this.setState({selectedAsset:null})}},{key:"onUpdateAsset",value:function(e){this.setState({selectedAsset:e})}},{key:"render",value:function(){var t=[],n=e.createElement(U,null),r=this,i=this.props.assets;if(this.state.selectedAsset)n=e.createElement(BS,{asset:this.state.selectedAsset,tags:this.props.tags,terms:this.props.terms,leaveAssetDetailView:this.leaveAssetDetailView,onUpdateAsset:this.onUpdateAsset});else if(this.props.assetError)n=e.createElement("strong",null,this.props.assetError);else if(i&&"grid"===this.state.viewMode){var o=[];i.forEach((function(n,i){o.length>=3&&(t.push(e.createElement("div",{key:i,className:"card-group"},o)),o=[]),o.push(e.createElement(Ap,{key:n.id,asset:n,enterAssetDetailView:r.enterAssetDetailView,currentUser:r.props.currentUser}))})),o.length>0&&t.push(e.createElement("div",{key:o[0].key,className:"card-group"},o));var s=window.MediaThread?window.MediaThread.current_username:"me";n=this.state.title||this.state.owner!==s||this.state.tags&&0!==this.state.tags.length||this.state.terms&&0!==this.state.terms.length||"all"!==this.state.date||0!==t.length?0===t.length?e.createElement(Y,null):e.createElement("div",null,t):e.createElement(XS,null)}else i&&"list"===this.state.viewMode&&(n=e.createElement(re,{assets:i,enterAssetDetailView:this.enterAssetDetailView,onUpdateAssets:this.props.onUpdateAssets,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}));var a=null;if(this.state.selectedAsset){var l=S();a=e.createElement("div",{className:"row mt-2"},e.createElement("div",{className:"col-md-auto"},e.createElement("nav",{"aria-label":"breadcrumb"},e.createElement("ol",{className:"breadcrumb bg-light mb-0"},e.createElement("li",{className:"breadcrumb-item","aria-current":"page"},e.createElement("a",{href:l,onClick:this.leaveAssetDetailView,title:"Back to Collection"},"Back to the collection"))))))}return e.createElement("div",{role:"tabpanel"},a,!this.state.selectedAsset&&e.createElement(e.Fragment,null,e.createElement(jv,{ref:this.filterRef,items:this.props.assets,itemCount:this.props.assetCount,currentPage:this.state.currentPage,updatePageCount:this.updatePageCount,owners:this.props.owners,allTags:this.props.tags,allTerms:this.props.terms,onUpdateItems:this.props.onUpdateAssets,onUpdateFilter:this.onUpdateFilter,onClearFilter:this.onClearFilter,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}),e.createElement("div",{className:"row mb-1"},e.createElement(uE,{viewMode:this.state.viewMode,setViewMode:this.setViewMode}),e.createElement(nE,{onUpdateItems:this.props.onUpdateAssets,currentPage:this.state.currentPage,pageCount:this.state.pageCount,updatePageCount:this.updatePageCount,updateCurrentPage:this.updateCurrentPage,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}))),e.createElement("div",{className:"assets"},n),!this.state.selectedAsset&&e.createElement("div",{className:"row mt-1"},e.createElement(uE,{viewMode:this.state.viewMode,setViewMode:this.setViewMode}),e.createElement(nE,{onUpdateItems:this.props.onUpdateAssets,currentPage:this.state.currentPage,pageCount:this.state.pageCount,updatePageCount:this.updatePageCount,updateCurrentPage:this.updateCurrentPage,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date})))}}],i&&fE(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);function wE(e){return wE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wE(e)}function xE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SE(r.key),r)}}function SE(e){var t=function(e,t){if("object"!=wE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=wE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wE(t)?t:t+""}function EE(e,t,n){return t=kE(t),function(e,t){if(t&&("object"===wE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CE()?Reflect.construct(t,n||[],kE(e).constructor):t.apply(e,n))}function CE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CE=function(){return!!e})()}function kE(e){return kE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kE(e)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PE(e,t)}_E.propTypes={asset:M().object,assets:M().array,assetCount:M().number,onUpdateAssets:M().func.isRequired,owners:M().array,tags:M().array,terms:M().array,assetError:M().string,currentUser:M().number};var AE=function(t){function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=EE(this,n,[e])).state={asset:null,assets:null,assetCount:null,assetError:null,owners:null,tags:null,terms:null};var r=null,i=window.location.pathname.match(/\/asset\/(\d+)\//);i&&i.length>=2&&(r=parseInt(i[1],10)),t.assetId=r;var o=t;return r?u(r).then((function(e){o.setState({asset:e.assets[r],assetCount:1,tags:e.active_tags,terms:e.active_vocabulary})}),(function(e){o.setState({assetError:e})})):c("",window.MediaThread.current_username).then((function(e){o.setState({assets:e.assets,assetCount:e.asset_count,tags:e.active_tags,terms:e.active_vocabulary,currentUser:e.space_viewer.id})}),(function(e){o.setState({assetError:e})})),u().then((function(e){e.panels.length>0&&o.setState({owners:e.panels[0].owners})}),(function(e){console.error("getAsset error",e)})),t.onUpdateAssets=t.onUpdateAssets.bind(t),"undefined"!=typeof jQuery&&jQuery.widget("ui.timecodespinner",jQuery.ui.spinner,{options:{step:100,page:60},_parse:function(e){return"string"==typeof e?Number(e)==e?Number(e):100*p(e):e},_format:function(e){return m(e/100,!0)}}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}(n,t),r=n,i=[{key:"onUpdateAssets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={assets:e};t&&(o.assetCount=t),n&&(o.tags=n),r&&(o.terms=r),i&&(o.currentUser=i),this.setState(o)}},{key:"render",value:function(){return e.createElement("div",{className:"tab-content"},e.createElement(_E,{asset:this.state.asset,assets:this.state.assets,assetCount:this.state.assetCount,onUpdateAssets:this.onUpdateAssets,owners:this.state.owners,tags:this.state.tags,terms:this.state.terms,assetError:this.state.assetError,currentUser:this.state.currentUser}))}},{key:"componentDidMount",value:function(){this.assetId&&(jQuery(".collection-header").removeClass("d-flex").addClass("d-none"),jQuery(".collectionAdd").removeClass("show"))}}],i&&xE(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(e.Component);document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".react-loading-msg").remove();var t=document.querySelector("#react-container");(0,n.H)(t).render(e.createElement(AE,null))}))})()})();