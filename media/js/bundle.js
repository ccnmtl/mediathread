/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={5042:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},4184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function i(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(t)?u?l.arrayMerge(t,n,l):function(t,e,n){var i={};return n.isMergeableObject(t)&&o(t).forEach((function(e){i[e]=r(t[e],n)})),o(e).forEach((function(o){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(a(t,o)&&n.isMergeableObject(e[o])?i[o]=function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(o,n)(t[o],e[o],n):i[o]=r(e[o],n))})),i}(t,n,l):r(n,l)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return s(t,n,e)}),{})};var l=s;t.exports=l},6998:function(t){t.exports=function(t,e){if(null==e&&(e={fuzzy:!0}),/youtu\.?be/.test(t)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(t))return r[n].exec(t)[1];if(e.fuzzy){var i=t.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},8679:(t,e,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var y=a[m];if(!(o[y]||r&&r[y]||g&&g[y]||s&&s[y])){var v=d(n,y);try{u(e,y,v)}catch(t){}}}}return e}},6103:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case u:case d:case m:case g:case l:return t;default:return e}}case i:return e}}}function x(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=r,e.ForwardRef=d,e.Fragment=o,e.Lazy=m,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||w(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===m},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===h||t===s||t===a||t===p||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===v||t.$$typeof===b||t.$$typeof===_||t.$$typeof===y)},e.typeOf=w},1296:(t,e,n)=>{"use strict";t.exports=n(6103)},1143:t=>{"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},9090:t=>{function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function n(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=t,r.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?e:n)(a,i),a.onload||e(a,i),o.appendChild(a)}},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7529),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),d=!n&&!c&&!h&&l(t),p=n||c||h||d,f=p?r(t.length,String):[],g=f.length;for(var m in t)!e&&!u.call(t,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4286:t=>{t.exports=function(t){return t.split("")}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,y){var v=l(t),b=l(e),_=v?d:s(t),w=b?d:s(e),x=(_=_==h?p:_)==p,S=(w=w==h?p:w)==p,C=_==w;if(C&&u(t)){if(!u(e))return!1;v=!0,x=!1}if(C&&!x)return y||(y=new r),v||c(t)?i(t,e,n,g,m,y):o(t,e,_,n,g,m,y);if(!(1&n)){var E=x&&f.call(t,"__wrapped__"),P=S&&f.call(e,"__wrapped__");if(E||P){var k=E?t.value():t,O=P?e.value():e;return y||(y=new r),m(k,O,n,g,y)}}return!!C&&(y||(y=new r),a(t,e,n,g,m,y))}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],h=t[c],d=u[1];if(l&&u[2]){if(void 0===h&&!(c in t))return!1}else{var p=new r;if(o)var f=o(h,d,c,t,e,p);if(!(void 0===f?i(d,h,3,o,p):f))return!1}}return!0}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},4259:t=>{t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},180:(t,e,n)=>{var r=n(4259);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},8805:(t,e,n)=>{var r=n(180),i=n(2689),o=n(3140),a=n(9833);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),l=n?r(n,1).join(""):e.slice(1);return s[t]()+l}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,h=e.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(t),p=l.get(e);if(d&&p)return d==e&&p==t;var f=-1,g=!0,m=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++f<c;){var y=t[f],v=e[f];if(a)var b=u?a(v,y,f,e,t,l):a(y,v,f,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(y===t||s(y,t,n,a,l)))return m.push(e)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),t.size!=e.size&&!f)return!1;var g=d.get(t);if(g)return g==e;r|=2,d.set(t,e);var m=a(p(t),p(e),r,u,h,d);return d.delete(t),m;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var h=c;h--;){var d=u[h];if(!(l?d in e:i.call(e,d)))return!1}var p=s.get(t),f=s.get(e);if(p&&f)return p==e&&f==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=l;++h<c;){var y=t[d=u[h]],v=e[d];if(o)var b=l?o(v,y,d,e,t,s):o(y,v,d,t,e,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",g=u(r),m=u(i),y=u(o),v=u(a),b=u(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=f||i&&_(new i)!=c||o&&_(o.resolve())!=h||a&&_(new a)!=d||s&&_(new s)!=p)&&(_=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return f;case m:return c;case y:return h;case v:return d;case b:return p}return e}),t.exports=_},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,h=!1;++u<c;){var d=l(e[u]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(d,c)&&(o(t)||i(t))}},2689:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7529:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},3140:(t,e,n)=>{var r=n(4286),i=n(2689),o=n(676);t.exports=function(t){return i(t)?o(t):r(t)}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},676:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+e+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",l=s+a+"(?:\\u200d(?:"+[r,i,o].join("|")+")"+s+a+")*",u="(?:"+[r+e+"?",e,i,o,"[\\ud800-\\udfff]"].join("|")+")",c=RegExp(n+"(?="+n+")|"+u+l,"g");t.exports=function(t){return t.match(c)||[]}},8403:(t,e,n)=>{var r=n(9833),i=n(1700);t.exports=function(t){return i(r(t).toLowerCase())}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3105:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},7398:(t,e,n)=>{var r=n(5639).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(7518),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=32,u=128,c=1/0,h=9007199254740991,d=NaN,p=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",v="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",x="[object Map]",S="[object Number]",C="[object Object]",E="[object Promise]",P="[object RegExp]",k="[object Set]",O="[object String]",A="[object Symbol]",R="[object WeakMap]",T="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",D="[object Float64Array]",j="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,$=RegExp(G.source),X=RegExp(q.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+Ct+"]",Pt="["+wt+"]",kt="\\d+",Ot="["+xt+"]",At="[^\\ud800-\\udfff"+Ct+kt+"\\u2700-\\u27bf"+xt+St+"]",Rt="\\ud83c[\\udffb-\\udfff]",Tt="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+St+"]",jt="(?:"+Ot+"|"+At+")",Lt="(?:"+Dt+"|"+At+")",Ft="(?:['’](?:d|ll|m|re|s|t|ve))?",Nt="(?:['’](?:D|LL|M|RE|S|T|VE))?",zt="(?:"+Pt+"|"+Rt+")?",Ut="[\\ufe0e\\ufe0f]?",Bt=Ut+zt+"(?:\\u200d(?:"+[Tt,Mt,It].join("|")+")"+Ut+zt+")*",Vt="(?:"+["[\\u2700-\\u27bf]",Mt,It].join("|")+")"+Bt,Wt="(?:"+[Tt+Pt+"?",Pt,Mt,It,"[\\ud800-\\udfff]"].join("|")+")",Ht=RegExp("['’]","g"),Gt=RegExp(Pt,"g"),qt=RegExp(Rt+"(?="+Rt+")|"+Wt+Bt,"g"),$t=RegExp([Dt+"?"+Ot+"+"+Ft+"(?="+[Et,Dt,"$"].join("|")+")",Lt+"+"+Nt+"(?="+[Et,Dt+jt,"$"].join("|")+")",Dt+"?"+jt+"+"+Ft,Dt+"+"+Nt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Vt].join("|"),"g"),Xt=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Yt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zt=-1,Qt={};Qt[I]=Qt[D]=Qt[j]=Qt[L]=Qt[F]=Qt[N]=Qt[z]=Qt[U]=Qt[B]=!0,Qt[g]=Qt[m]=Qt[T]=Qt[y]=Qt[M]=Qt[v]=Qt[b]=Qt[_]=Qt[x]=Qt[S]=Qt[C]=Qt[P]=Qt[k]=Qt[O]=Qt[R]=!1;var Jt={};Jt[g]=Jt[m]=Jt[T]=Jt[M]=Jt[y]=Jt[v]=Jt[I]=Jt[D]=Jt[j]=Jt[L]=Jt[F]=Jt[x]=Jt[S]=Jt[C]=Jt[P]=Jt[k]=Jt[O]=Jt[A]=Jt[N]=Jt[z]=Jt[U]=Jt[B]=!0,Jt[b]=Jt[_]=Jt[R]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ie="object"==typeof self&&self&&self.Object===Object&&self,oe=re||ie||Function("return this")(),ae=e&&!e.nodeType&&e,se=ae&&t&&!t.nodeType&&t,le=se&&se.exports===ae,ue=le&&re.process,ce=function(){try{return se&&se.require&&se.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(t){}}(),he=ce&&ce.isArrayBuffer,de=ce&&ce.isDate,pe=ce&&ce.isMap,fe=ce&&ce.isRegExp,ge=ce&&ce.isSet,me=ce&&ce.isTypedArray;function ye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ve(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function be(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function xe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Se(t,e){return!(null==t||!t.length)&&Ie(t,e,0)>-1}function Ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ee(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Pe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ke(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Re=Fe("length");function Te(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Me(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ie(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Me(t,je,n)}function De(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function je(t){return t!=t}function Le(t,e){var n=null==t?0:t.length;return n?Ue(t,e)/n:d}function Fe(t){return function(e){return null==e?i:e[t]}}function Ne(t){return function(e){return null==t?i:t[e]}}function ze(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ue(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Be(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ve(t){return t?t.slice(0,sn(t)+1).replace(rt,""):t}function We(t){return function(e){return t(e)}}function He(t,e){return Ee(e,(function(e){return t[e]}))}function Ge(t,e){return t.has(e)}function qe(t,e){for(var n=-1,r=t.length;++n<r&&Ie(e,t[n],0)>-1;);return n}function $e(t,e){for(var n=t.length;n--&&Ie(e,t[n],0)>-1;);return n}function Xe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Ye=Ne({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ke=Ne({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ze(t){return"\\"+te[t]}function Qe(t){return Xt.test(t)}function Je(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function tn(t,e){return function(n){return t(e(n))}}function en(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[i++]=n)}return o}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function on(t){return Qe(t)?function(t){for(var e=qt.lastIndex=0;qt.test(t);)++e;return e}(t):Re(t)}function an(t){return Qe(t)?function(t){return t.match(qt)||[]}(t):function(t){return t.split("")}(t)}function sn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var ln=Ne({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),un=function t(e){var n,r=(e=null==e?oe:un.defaults(oe.Object(),e,un.pick(oe,Kt))).Array,it=e.Date,wt=e.Error,xt=e.Function,St=e.Math,Ct=e.Object,Et=e.RegExp,Pt=e.String,kt=e.TypeError,Ot=r.prototype,At=xt.prototype,Rt=Ct.prototype,Tt=e["__core-js_shared__"],Mt=At.toString,It=Rt.hasOwnProperty,Dt=0,jt=(n=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=Rt.toString,Ft=Mt.call(Ct),Nt=oe._,zt=Et("^"+Mt.call(It).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=le?e.Buffer:i,Bt=e.Symbol,Vt=e.Uint8Array,Wt=Ut?Ut.allocUnsafe:i,qt=tn(Ct.getPrototypeOf,Ct),Xt=Ct.create,te=Rt.propertyIsEnumerable,re=Ot.splice,ie=Bt?Bt.isConcatSpreadable:i,ae=Bt?Bt.iterator:i,se=Bt?Bt.toStringTag:i,ue=function(){try{var t=uo(Ct,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=e.clearTimeout!==oe.clearTimeout&&e.clearTimeout,Re=it&&it.now!==oe.Date.now&&it.now,Ne=e.setTimeout!==oe.setTimeout&&e.setTimeout,cn=St.ceil,hn=St.floor,dn=Ct.getOwnPropertySymbols,pn=Ut?Ut.isBuffer:i,fn=e.isFinite,gn=Ot.join,mn=tn(Ct.keys,Ct),yn=St.max,vn=St.min,bn=it.now,_n=e.parseInt,wn=St.random,xn=Ot.reverse,Sn=uo(e,"DataView"),Cn=uo(e,"Map"),En=uo(e,"Promise"),Pn=uo(e,"Set"),kn=uo(e,"WeakMap"),On=uo(Ct,"create"),An=kn&&new kn,Rn={},Tn=zo(Sn),Mn=zo(Cn),In=zo(En),Dn=zo(Pn),jn=zo(kn),Ln=Bt?Bt.prototype:i,Fn=Ln?Ln.valueOf:i,Nn=Ln?Ln.toString:i;function zn(t){if(ns(t)&&!Ga(t)&&!(t instanceof Wn)){if(t instanceof Vn)return t;if(It.call(t,"__wrapped__"))return Uo(t)}return new Vn(t)}var Un=function(){function t(){}return function(e){if(!es(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Bn(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qn;++e<n;)this.add(t[e])}function Xn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Yn(t,e){var n=Ga(t),r=!n&&Ha(t),i=!n&&!r&&Ya(t),o=!n&&!r&&!i&&cs(t),a=n||r||i||o,s=a?Be(t.length,Pt):[],l=s.length;for(var u in t)!e&&!It.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yo(u,l))||s.push(u);return s}function Kn(t){var e=t.length;return e?t[qr(0,e-1)]:i}function Zn(t,e){return Do(ki(t),ar(e,0,t.length))}function Qn(t){return Do(ki(t))}function Jn(t,e,n){(n!==i&&!Ba(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];It.call(t,e)&&Ba(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(Ba(t[n][0],e))return n;return-1}function nr(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function rr(t,e){return t&&Oi(e,Ms(e),t)}function ir(t,e,n){"__proto__"==e&&ue?ue(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function or(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:ks(t,e[n]);return a}function ar(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,o,a){var s,l=1&e,u=2&e,c=4&e;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!es(t))return t;var h=Ga(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&It.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return ki(t,s)}else{var d=po(t),p=d==_||d==w;if(Ya(t))return wi(t,l);if(d==C||d==g||p&&!o){if(s=u||p?{}:go(t),!l)return u?function(t,e){return Oi(t,ho(t),e)}(t,function(t,e){return t&&Oi(e,Is(e),t)}(s,t)):function(t,e){return Oi(t,co(t),e)}(t,rr(s,t))}else{if(!Jt[d])return o?t:{};s=function(t,e,n){var r,i=t.constructor;switch(e){case T:return xi(t);case y:case v:return new i(+t);case M:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case D:case j:case L:case F:case N:case z:case U:case B:return Si(t,n);case x:return new i;case S:case O:return new i(t);case P:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case k:return new i;case A:return r=t,Fn?Ct(Fn.call(r)):{}}}(t,d,l)}}a||(a=new Xn);var f=a.get(t);if(f)return f;a.set(t,s),ss(t)?t.forEach((function(r){s.add(sr(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,i){s.set(i,sr(r,e,n,i,t,a))}));var m=h?i:(c?u?no:eo:u?Is:Ms)(t);return be(m||t,(function(r,i){m&&(r=t[i=r]),tr(s,i,sr(r,e,n,i,t,a))})),s}function lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ct(t);r--;){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function ur(t,e,n){if("function"!=typeof t)throw new kt(o);return Ro((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,o=Se,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Ee(e,We(n))),r?(o=Ce,a=!1):e.length>=200&&(o=Ge,a=!1,e=new $n(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else o(e,h,r)||l.push(c)}return l}zn.templateSettings={escape:Y,evaluate:K,interpolate:Z,variable:"",imports:{_:zn}},zn.prototype=Bn.prototype,zn.prototype.constructor=zn,Vn.prototype=Un(Bn.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Un(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Hn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===a?i:n}return It.call(e,t)?e[t]:i},Hn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:It.call(e,t)},Hn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?a:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Gn.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return er(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Cn||Gn),string:new Hn}},qn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},qn.prototype.get=function(t){return so(this,t).get(t)},qn.prototype.has=function(t){return so(this,t).has(t)},qn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(t){return this.__data__.set(t,a),this},$n.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xn.prototype.get=function(t){return this.__data__.get(t)},Xn.prototype.has=function(t){return this.__data__.has(t)},Xn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Cn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(t,e),this.size=n.size,this};var hr=Ti(br),dr=Ti(_r,!0);function pr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function fr(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(l===i?s==s&&!us(s):n(s,l)))var l=s,u=a}return u}function gr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function mr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=mo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?mr(s,e-1,n,r,i):Pe(i,s):r||(i[i.length]=s)}return i}var yr=Mi(),vr=Mi(!0);function br(t,e){return t&&yr(t,e,Ms)}function _r(t,e){return t&&vr(t,e,Ms)}function wr(t,e){return xe(e,(function(e){return Qa(t[e])}))}function xr(t,e){for(var n=0,r=(e=yi(e,t)).length;null!=t&&n<r;)t=t[No(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Ga(t)?r:Pe(r,n(t))}function Cr(t){return null==t?t===i?"[object Undefined]":"[object Null]":se&&se in Ct(t)?function(t){var e=It.call(t,se),n=t[se];try{t[se]=i;var r=!0}catch(t){}var o=Lt.call(t);return r&&(e?t[se]=n:delete t[se]),o}(t):function(t){return Lt.call(t)}(t)}function Er(t,e){return t>e}function Pr(t,e){return null!=t&&It.call(t,e)}function kr(t,e){return null!=t&&e in Ct(t)}function Or(t,e,n){for(var o=n?Ce:Se,a=t[0].length,s=t.length,l=s,u=r(s),c=1/0,h=[];l--;){var d=t[l];l&&e&&(d=Ee(d,We(e))),c=vn(d.length,c),u[l]=!n&&(e||a>=120&&d.length>=120)?new $n(l&&d):i}d=t[0];var p=-1,f=u[0];t:for(;++p<a&&h.length<c;){var g=d[p],m=e?e(g):g;if(g=n||0!==g?g:0,!(f?Ge(f,m):o(h,m,n))){for(l=s;--l;){var y=u[l];if(!(y?Ge(y,m):o(t[l],m,n)))continue t}f&&f.push(m),h.push(g)}}return h}function Ar(t,e,n){var r=null==(t=Po(t,e=yi(e,t)))?t:t[No(Zo(e))];return null==r?i:ye(r,t,n)}function Rr(t){return ns(t)&&Cr(t)==g}function Tr(t,e,n,r,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=Ga(t),l=Ga(e),u=s?m:po(t),c=l?m:po(e),h=(u=u==g?C:u)==C,d=(c=c==g?C:c)==C,p=u==c;if(p&&Ya(t)){if(!Ya(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new Xn),s||cs(t)?Ji(t,e,n,r,o,a):function(t,e,n,r,i,o,a){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case y:case v:case S:return Ba(+t,+e);case b:return t.name==e.name&&t.message==e.message;case P:case O:return t==e+"";case x:var s=Je;case k:var l=1&r;if(s||(s=nn),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var c=Ji(s(t),s(e),r,i,o,a);return a.delete(t),c;case A:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,u,n,r,o,a);if(!(1&n)){var f=h&&It.call(t,"__wrapped__"),_=d&&It.call(e,"__wrapped__");if(f||_){var w=f?t.value():t,E=_?e.value():e;return a||(a=new Xn),o(w,E,n,r,a)}}return!!p&&(a||(a=new Xn),function(t,e,n,r,o,a){var s=1&n,l=eo(t),u=l.length;if(u!=eo(e).length&&!s)return!1;for(var c=u;c--;){var h=l[c];if(!(s?h in e:It.call(e,h)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var f=!0;a.set(t,e),a.set(e,t);for(var g=s;++c<u;){var m=t[h=l[c]],y=e[h];if(r)var v=s?r(y,m,h,e,t,a):r(m,y,h,t,e,a);if(!(v===i?m===y||o(m,y,n,r,a):v)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return a.delete(t),a.delete(e),f}(t,e,n,r,o,a))}(t,e,n,r,Tr,o))}function Mr(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=Ct(t);o--;){var l=n[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=n[o])[0],c=t[u],h=l[1];if(s&&l[2]){if(c===i&&!(u in t))return!1}else{var d=new Xn;if(r)var p=r(c,h,u,t,e,d);if(!(p===i?Tr(h,c,3,r,d):p))return!1}}return!0}function Ir(t){return!(!es(t)||(e=t,jt&&jt in e))&&(Qa(t)?zt:gt).test(zo(t));var e}function Dr(t){return"function"==typeof t?t:null==t?il:"object"==typeof t?Ga(t)?zr(t[0],t[1]):Nr(t):pl(t)}function jr(t){if(!xo(t))return mn(t);var e=[];for(var n in Ct(t))It.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t,e){return t<e}function Fr(t,e){var n=-1,i=$a(t)?r(t.length):[];return hr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Nr(t){var e=lo(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(n){return n===t||Mr(n,t,e)}}function zr(t,e){return bo(t)&&So(e)?Co(No(t),e):function(n){var r=ks(n,t);return r===i&&r===e?Os(n,t):Tr(e,r,3)}}function Ur(t,e,n,r,o){t!==e&&yr(e,(function(a,s){if(o||(o=new Xn),es(a))!function(t,e,n,r,o,a,s){var l=Oo(t,n),u=Oo(e,n),c=s.get(u);if(c)Jn(t,n,c);else{var h=a?a(l,u,n+"",t,e,s):i,d=h===i;if(d){var p=Ga(u),f=!p&&Ya(u),g=!p&&!f&&cs(u);h=u,p||f||g?Ga(l)?h=l:Xa(l)?h=ki(l):f?(d=!1,h=wi(u,!0)):g?(d=!1,h=Si(u,!0)):h=[]:os(u)||Ha(u)?(h=l,Ha(l)?h=vs(l):es(l)&&!Qa(l)||(h=go(u))):d=!1}d&&(s.set(u,h),o(h,u,r,a,s),s.delete(u)),Jn(t,n,h)}}(t,e,s,n,Ur,r,o);else{var l=r?r(Oo(t,s),a,s+"",t,e,o):i;l===i&&(l=a),Jn(t,s,l)}}),Is)}function Br(t,e){var n=t.length;if(n)return yo(e+=e<0?n:0,n)?t[e]:i}function Vr(t,e,n){e=e.length?Ee(e,(function(t){return Ga(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[il];var r=-1;e=Ee(e,We(ao()));var i=Fr(t,(function(t,n,i){var o=Ee(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Ci(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function Wr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=xr(t,a);n(s,a)&&Zr(o,yi(a,t),s)}return o}function Hr(t,e,n,r){var i=r?De:Ie,o=-1,a=e.length,s=t;for(t===e&&(e=ki(e)),n&&(s=Ee(t,We(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&re.call(s,l,1),re.call(t,l,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;yo(i)?re.call(t,i,1):ui(t,i)}}return t}function qr(t,e){return t+hn(wn()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=hn(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return To(Eo(t,e,il),t+"")}function Yr(t){return Kn(Bs(t))}function Kr(t,e){var n=Bs(t);return Do(n,ar(e,0,n.length))}function Zr(t,e,n,r){if(!es(t))return t;for(var o=-1,a=(e=yi(e,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=No(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=s){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=es(h)?h:yo(e[o+1])?[]:{})}tr(l,u,c),l=l[u]}return t}var Qr=An?function(t,e){return An.set(t,e),t}:il,Jr=ue?function(t,e){return ue(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:il;function ti(t){return Do(Bs(t))}function ei(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function ni(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!us(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ii(t,e,il,n)}function ii(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,l=null===e,u=us(e),c=e===i;o<a;){var h=hn((o+a)/2),d=n(t[h]),p=d!==i,f=null===d,g=d==d,m=us(d);if(s)var y=r||g;else y=c?g&&(r||p):l?g&&p&&(r||!f):u?g&&p&&!f&&(r||!m):!f&&!m&&(r?d<=e:d<e);y?o=h+1:a=h}return vn(a,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ba(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ai(t){return"number"==typeof t?t:us(t)?d:+t}function si(t){if("string"==typeof t)return t;if(Ga(t))return Ee(t,si)+"";if(us(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=Se,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Ce;else if(o>=200){var u=e?null:$i(t);if(u)return nn(u);a=!1,i=Ge,l=new $n}else l=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function ui(t,e){return null==(t=Po(t,e=yi(e,t)))||delete t[No(Zo(e))]}function ci(t,e,n,r){return Zr(t,e,n(xr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function di(t,e){var n=t;return n instanceof Wn&&(n=n.value()),ke(e,(function(t,e){return e.func.apply(e.thisArg,Pe([t],e.args))}),n)}function pi(t,e,n){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],l=-1;++l<i;)l!=o&&(a[o]=cr(a[o]||s,t[l],e,n));return li(mr(a,1),e,n)}function fi(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;){var l=r<a?e[r]:i;n(s,t[r],l)}return s}function gi(t){return Xa(t)?t:[]}function mi(t){return"function"==typeof t?t:il}function yi(t,e){return Ga(t)?t:bo(t,e)?[t]:Fo(bs(t))}var vi=Xr;function bi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var _i=ce||function(t){return oe.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function Si(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ci(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=us(t),s=e!==i,l=null===e,u=e==e,c=us(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function Ei(t,e,n,i){for(var o=-1,a=t.length,s=n.length,l=-1,u=e.length,c=yn(a-s,0),h=r(u+c),d=!i;++l<u;)h[l]=e[l];for(;++o<s;)(d||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}function Pi(t,e,n,i){for(var o=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,h=yn(a-l,0),d=r(h+c),p=!i;++o<h;)d[o]=t[o];for(var f=o;++u<c;)d[f+u]=e[u];for(;++s<l;)(p||o<a)&&(d[f+n[s]]=t[o++]);return d}function ki(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Oi(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=r?r(n[l],t[l],l,n,t):i;u===i&&(u=t[l]),o?ir(n,l,u):tr(n,l,u)}return n}function Ai(t,e){return function(n,r){var i=Ga(n)?ve:nr,o=e?e():{};return i(n,t,ao(r,2),o)}}function Ri(t){return Xr((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&vo(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=Ct(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}function Ti(t,e){return function(n,r){if(null==n)return n;if(!$a(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ct(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(t){return function(e,n,r){for(var i=-1,o=Ct(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function Ii(t){return function(e){var n=Qe(e=bs(e))?an(e):i,r=n?n[0]:e.charAt(0),o=n?bi(n,1).join(""):e.slice(1);return r[t]()+o}}function Di(t){return function(e){return ke(Qs(Hs(e).replace(Ht,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function Li(t){return function(e,n,r){var o=Ct(e);if(!$a(e)){var a=ao(n,3);e=Ms(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function Fi(t){return to((function(e){var n=e.length,r=n,a=Vn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new kt(o);if(a&&!l&&"wrapper"==io(s))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var u=io(s=e[r]),c="wrapper"==u?ro(s):i;l=c&&_o(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[io(c[0])].apply(l,c[3]):1==s.length&&_o(s)?l[u]():l.thru(s)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&Ga(r))return l.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ni(t,e,n,o,a,s,l,c,h,d){var p=e&u,f=1&e,g=2&e,m=24&e,y=512&e,v=g?i:ji(t);return function i(){for(var u=arguments.length,b=r(u),_=u;_--;)b[_]=arguments[_];if(m)var w=oo(i),x=Xe(b,w);if(o&&(b=Ei(b,o,a,m)),s&&(b=Pi(b,s,l,m)),u-=x,m&&u<d){var S=en(b,w);return Gi(t,e,Ni,i.placeholder,n,b,S,c,h,d-u)}var C=f?n:this,E=g?C[t]:t;return u=b.length,c?b=ko(b,c):y&&u>1&&b.reverse(),p&&h<u&&(b.length=h),this&&this!==oe&&this instanceof i&&(E=v||ji(E)),E.apply(C,b)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return br(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ui(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ai(n),r=ai(r)),o=t(n,r)}return o}}function Bi(t){return to((function(e){return e=Ee(e,We(ao())),Xr((function(n){var r=this;return t(e,(function(t){return ye(t,r,n)}))}))}))}function Vi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,cn(t/on(e)));return Qe(e)?bi(an(r),0,t).join(""):r.slice(0,t)}function Wi(t){return function(e,n,o){return o&&"number"!=typeof o&&vo(e,n,o)&&(n=o=i),e=fs(e),n===i?(n=e,e=0):n=fs(n),function(t,e,n,i){for(var o=-1,a=yn(cn((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:fs(o),t)}}function Hi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function Gi(t,e,n,r,o,a,s,u,c,h){var d=8&e;e|=d?l:64,4&(e&=~(d?64:l))||(e&=-4);var p=[t,e,o,d?a:i,d?s:i,d?i:a,d?i:s,u,c,h],f=n.apply(i,p);return _o(t)&&Ao(f,p),f.placeholder=r,Mo(f,t,e)}function qi(t){var e=St[t];return function(t,n){if(t=ys(t),(n=null==n?0:vn(gs(n),292))&&fn(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=Pn&&1/nn(new Pn([,-0]))[1]==c?function(t){return new Pn(t)}:ul;function Xi(t){return function(e){var n=po(e);return n==x?Je(e):n==k?rn(e):function(t,e){return Ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,n,a,c,h,d,p){var f=2&e;if(!f&&"function"!=typeof t)throw new kt(o);var g=a?a.length:0;if(g||(e&=-97,a=c=i),d=d===i?d:yn(gs(d),0),p=p===i?p:gs(p),g-=c?c.length:0,64&e){var m=a,y=c;a=c=i}var v=f?i:ro(t),b=[t,e,n,a,c,m,y,h,d,p];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==u&&8==n||r==u&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Ei(c,l,e[4]):l,t[4]=c?en(t[3],s):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Pi(c,l,e[6]):l,t[6]=c?en(t[5],s):e[6]),(l=e[7])&&(t[7]=l),r&u&&(t[8]=null==t[8]?e[8]:vn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(b,v),t=b[0],e=b[1],n=b[2],a=b[3],c=b[4],!(p=b[9]=b[9]===i?f?0:t.length:yn(b[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,n){var o=ji(t);return function a(){for(var s=arguments.length,l=r(s),u=s,c=oo(a);u--;)l[u]=arguments[u];var h=s<3&&l[0]!==c&&l[s-1]!==c?[]:en(l,c);return(s-=h.length)<n?Gi(t,e,Ni,a.placeholder,i,l,h,i,i,n-s):ye(this&&this!==oe&&this instanceof a?o:t,this,l)}}(t,e,p):e!=l&&33!=e||c.length?Ni.apply(i,b):function(t,e,n,i){var o=1&e,a=ji(t);return function e(){for(var s=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==oe&&this instanceof e?a:t;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++s];return ye(d,o?n:this,h)}}(t,e,n,a);else var _=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==oe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Mo((v?Qr:Ao)(_,b),t,e)}function Ki(t,e,n,r){return t===i||Ba(t,Rt[n])&&!It.call(r,n)?e:t}function Zi(t,e,n,r,o,a){return es(t)&&es(e)&&(a.set(e,t),Ur(t,e,i,Zi,a),a.delete(e)),t}function Qi(t){return os(t)?i:t}function Ji(t,e,n,r,o,a){var s=1&n,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var d=-1,p=!0,f=2&n?new $n:i;for(a.set(t,e),a.set(e,t);++d<l;){var g=t[d],m=e[d];if(r)var y=s?r(m,g,d,e,t,a):r(g,m,d,t,e,a);if(y!==i){if(y)continue;p=!1;break}if(f){if(!Ae(e,(function(t,e){if(!Ge(f,e)&&(g===t||o(g,t,n,r,a)))return f.push(e)}))){p=!1;break}}else if(g!==m&&!o(g,m,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function to(t){return To(Eo(t,i,qo),t+"")}function eo(t){return Sr(t,Ms,co)}function no(t){return Sr(t,Is,ho)}var ro=An?function(t){return An.get(t)}:ul;function io(t){for(var e=t.name+"",n=Rn[e],r=It.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(It.call(zn,"placeholder")?zn:t).placeholder}function ao(){var t=zn.iteratee||ol;return t=t===ol?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lo(t){for(var e=Ms(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function uo(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ir(n)?n:i}var co=dn?function(t){return null==t?[]:(t=Ct(t),xe(dn(t),(function(e){return te.call(t,e)})))}:ml,ho=dn?function(t){for(var e=[];t;)Pe(e,co(t)),t=qt(t);return e}:ml,po=Cr;function fo(t,e,n){for(var r=-1,i=(e=yi(e,t)).length,o=!1;++r<i;){var a=No(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ts(i)&&yo(a,i)&&(Ga(t)||Ha(t))}function go(t){return"function"!=typeof t.constructor||xo(t)?{}:Un(qt(t))}function mo(t){return Ga(t)||Ha(t)||!!(ie&&t&&t[ie])}function yo(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function vo(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?$a(n)&&yo(e,n.length):"string"==r&&e in n)&&Ba(n[e],t)}function bo(t,e){if(Ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!us(t))||J.test(t)||!Q.test(t)||null!=e&&t in Ct(e)}function _o(t){var e=io(t),n=zn[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(Sn&&po(new Sn(new ArrayBuffer(1)))!=M||Cn&&po(new Cn)!=x||En&&po(En.resolve())!=E||Pn&&po(new Pn)!=k||kn&&po(new kn)!=R)&&(po=function(t){var e=Cr(t),n=e==C?t.constructor:i,r=n?zo(n):"";if(r)switch(r){case Tn:return M;case Mn:return x;case In:return E;case Dn:return k;case jn:return R}return e});var wo=Tt?Qa:yl;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function So(t){return t==t&&!es(t)}function Co(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Ct(n))}}function Eo(t,e,n){return e=yn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=yn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(s),ye(t,this,l)}}function Po(t,e){return e.length<2?t:xr(t,ei(e,0,-1))}function ko(t,e){for(var n=t.length,r=vn(e.length,n),o=ki(t);r--;){var a=e[r];t[r]=yo(a,n)?o[a]:i}return t}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ao=Io(Qr),Ro=Ne||function(t,e){return oe.setTimeout(t,e)},To=Io(Jr);function Mo(t,e,n){var r=e+"";return To(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return be(f,(function(n){var r="_."+n[0];e&n[1]&&!Se(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(st):[]}(r),n)))}function Io(t){var e=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Do(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=qr(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var jo,Lo,Fo=(jo=ja((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(ct,"$1"):n||t)})),e}),(function(t){return 500===Lo.size&&Lo.clear(),t})),Lo=jo.cache,jo);function No(t){if("string"==typeof t||us(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function zo(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof Wn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=ki(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Bo=Xr((function(t,e){return Xa(t)?cr(t,mr(e,1,Xa,!0)):[]})),Vo=Xr((function(t,e){var n=Zo(e);return Xa(n)&&(n=i),Xa(t)?cr(t,mr(e,1,Xa,!0),ao(n,2)):[]})),Wo=Xr((function(t,e){var n=Zo(e);return Xa(n)&&(n=i),Xa(t)?cr(t,mr(e,1,Xa,!0),i,n):[]}));function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=yn(r+i,0)),Me(t,ao(e,3),i)}function Go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?yn(r+o,0):vn(o,r-1)),Me(t,ao(e,3),o,!0)}function qo(t){return null!=t&&t.length?mr(t,1):[]}function $o(t){return t&&t.length?t[0]:i}var Xo=Xr((function(t){var e=Ee(t,gi);return e.length&&e[0]===t[0]?Or(e):[]})),Yo=Xr((function(t){var e=Zo(t),n=Ee(t,gi);return e===Zo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,ao(e,2)):[]})),Ko=Xr((function(t){var e=Zo(t),n=Ee(t,gi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Zo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Qo=Xr(Jo);function Jo(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var ta=to((function(t,e){var n=null==t?0:t.length,r=or(t,e);return Gr(t,Ee(e,(function(t){return yo(t,n)?+t:t})).sort(Ci)),r}));function ea(t){return null==t?t:xn.call(t)}var na=Xr((function(t){return li(mr(t,1,Xa,!0))})),ra=Xr((function(t){var e=Zo(t);return Xa(e)&&(e=i),li(mr(t,1,Xa,!0),ao(e,2))})),ia=Xr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,li(mr(t,1,Xa,!0),i,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=xe(t,(function(t){if(Xa(t))return e=yn(t.length,e),!0})),Be(e,(function(e){return Ee(t,Fe(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Ee(n,(function(t){return ye(e,i,t)}))}var sa=Xr((function(t,e){return Xa(t)?cr(t,e):[]})),la=Xr((function(t){return pi(xe(t,Xa))})),ua=Xr((function(t){var e=Zo(t);return Xa(e)&&(e=i),pi(xe(t,Xa),ao(e,2))})),ca=Xr((function(t){var e=Zo(t);return e="function"==typeof e?e:i,pi(xe(t,Xa),i,e)})),ha=Xr(oa),da=Xr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,aa(t,n)}));function pa(t){var e=zn(t);return e.__chain__=!0,e}function fa(t,e){return e(t)}var ga=to((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wn&&yo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:fa,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ma=Ai((function(t,e,n){It.call(t,n)?++t[n]:ir(t,n,1)})),ya=Li(Ho),va=Li(Go);function ba(t,e){return(Ga(t)?be:hr)(t,ao(e,3))}function _a(t,e){return(Ga(t)?_e:dr)(t,ao(e,3))}var wa=Ai((function(t,e,n){It.call(t,n)?t[n].push(e):ir(t,n,[e])})),xa=Xr((function(t,e,n){var i=-1,o="function"==typeof e,a=$a(t)?r(t.length):[];return hr(t,(function(t){a[++i]=o?ye(e,t,n):Ar(t,e,n)})),a})),Sa=Ai((function(t,e,n){ir(t,n,e)}));function Ca(t,e){return(Ga(t)?Ee:Fr)(t,ao(e,3))}var Ea=Ai((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Pa=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&vo(t,e[0],e[1])?e=[]:n>2&&vo(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,mr(e,1),[])})),ka=Re||function(){return oe.Date.now()};function Oa(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Yi(t,u,i,i,i,i,e)}function Aa(t,e){var n;if("function"!=typeof e)throw new kt(o);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ra=Xr((function(t,e,n){var r=1;if(n.length){var i=en(n,oo(Ra));r|=l}return Yi(t,r,e,n,i)})),Ta=Xr((function(t,e,n){var r=3;if(n.length){var i=en(n,oo(Ta));r|=l}return Yi(e,r,t,n,i)}));function Ma(t,e,n){var r,a,s,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new kt(o);function g(e){var n=r,o=a;return r=a=i,h=e,l=t.apply(o,n)}function m(t){return h=t,u=Ro(v,e),d?g(t):l}function y(t){var n=t-c;return c===i||n>=e||n<0||p&&t-h>=s}function v(){var t=ka();if(y(t))return b(t);u=Ro(v,function(t){var n=e-(t-c);return p?vn(n,s-(t-h)):n}(t))}function b(t){return u=i,f&&r?g(t):(r=a=i,l)}function _(){var t=ka(),n=y(t);if(r=arguments,a=this,c=t,n){if(u===i)return m(c);if(p)return _i(u),u=Ro(v,e),g(c)}return u===i&&(u=Ro(v,e)),l}return e=ys(e)||0,es(n)&&(d=!!n.leading,s=(p="maxWait"in n)?yn(ys(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),_.cancel=function(){u!==i&&_i(u),h=0,r=c=a=u=i},_.flush=function(){return u===i?l:b(ka())},_}var Ia=Xr((function(t,e){return ur(t,1,e)})),Da=Xr((function(t,e,n){return ur(t,ys(e)||0,n)}));function ja(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new kt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||qn),n}function La(t){if("function"!=typeof t)throw new kt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=qn;var Fa=vi((function(t,e){var n=(e=1==e.length&&Ga(e[0])?Ee(e[0],We(ao())):Ee(mr(e,1),We(ao()))).length;return Xr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ye(t,this,r)}))})),Na=Xr((function(t,e){var n=en(e,oo(Na));return Yi(t,l,i,e,n)})),za=Xr((function(t,e){var n=en(e,oo(za));return Yi(t,64,i,e,n)})),Ua=to((function(t,e){return Yi(t,256,i,i,i,e)}));function Ba(t,e){return t===e||t!=t&&e!=e}var Va=Hi(Er),Wa=Hi((function(t,e){return t>=e})),Ha=Rr(function(){return arguments}())?Rr:function(t){return ns(t)&&It.call(t,"callee")&&!te.call(t,"callee")},Ga=r.isArray,qa=he?We(he):function(t){return ns(t)&&Cr(t)==T};function $a(t){return null!=t&&ts(t.length)&&!Qa(t)}function Xa(t){return ns(t)&&$a(t)}var Ya=pn||yl,Ka=de?We(de):function(t){return ns(t)&&Cr(t)==v};function Za(t){if(!ns(t))return!1;var e=Cr(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Qa(t){if(!es(t))return!1;var e=Cr(t);return e==_||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ja(t){return"number"==typeof t&&t==gs(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=pe?We(pe):function(t){return ns(t)&&po(t)==x};function is(t){return"number"==typeof t||ns(t)&&Cr(t)==S}function os(t){if(!ns(t)||Cr(t)!=C)return!1;var e=qt(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Mt.call(n)==Ft}var as=fe?We(fe):function(t){return ns(t)&&Cr(t)==P},ss=ge?We(ge):function(t){return ns(t)&&po(t)==k};function ls(t){return"string"==typeof t||!Ga(t)&&ns(t)&&Cr(t)==O}function us(t){return"symbol"==typeof t||ns(t)&&Cr(t)==A}var cs=me?We(me):function(t){return ns(t)&&ts(t.length)&&!!Qt[Cr(t)]},hs=Hi(Lr),ds=Hi((function(t,e){return t<=e}));function ps(t){if(!t)return[];if($a(t))return ls(t)?an(t):ki(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=po(t);return(e==x?Je:e==k?nn:Bs)(t)}function fs(t){return t?(t=ys(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gs(t){var e=fs(t),n=e%1;return e==e?n?e-n:e:0}function ms(t){return t?ar(gs(t),0,p):0}function ys(t){if("number"==typeof t)return t;if(us(t))return d;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ve(t);var n=ft.test(t);return n||mt.test(t)?ne(t.slice(2),n?2:8):pt.test(t)?d:+t}function vs(t){return Oi(t,Is(t))}function bs(t){return null==t?"":si(t)}var _s=Ri((function(t,e){if(xo(e)||$a(e))Oi(e,Ms(e),t);else for(var n in e)It.call(e,n)&&tr(t,n,e[n])})),ws=Ri((function(t,e){Oi(e,Is(e),t)})),xs=Ri((function(t,e,n,r){Oi(e,Is(e),t,r)})),Ss=Ri((function(t,e,n,r){Oi(e,Ms(e),t,r)})),Cs=to(or),Es=Xr((function(t,e){t=Ct(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&vo(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=Is(a),l=-1,u=s.length;++l<u;){var c=s[l],h=t[c];(h===i||Ba(h,Rt[c])&&!It.call(t,c))&&(t[c]=a[c])}return t})),Ps=Xr((function(t){return t.push(i,Zi),ye(js,i,t)}));function ks(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Os(t,e){return null!=t&&fo(t,e,kr)}var As=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),el(il)),Rs=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),It.call(t,e)?t[e].push(n):t[e]=[n]}),ao),Ts=Xr(Ar);function Ms(t){return $a(t)?Yn(t):jr(t)}function Is(t){return $a(t)?Yn(t,!0):function(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&It.call(t,r))&&n.push(r);return n}(t)}var Ds=Ri((function(t,e,n){Ur(t,e,n)})),js=Ri((function(t,e,n,r){Ur(t,e,n,r)})),Ls=to((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ee(e,(function(e){return e=yi(e,t),r||(r=e.length>1),e})),Oi(t,no(t),n),r&&(n=sr(n,7,Qi));for(var i=e.length;i--;)ui(n,e[i]);return n})),Fs=to((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return Os(t,n)}))}(t,e)}));function Ns(t,e){if(null==t)return{};var n=Ee(no(t),(function(t){return[t]}));return e=ao(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var zs=Xi(Ms),Us=Xi(Is);function Bs(t){return null==t?[]:He(t,Ms(t))}var Vs=Di((function(t,e,n){return e=e.toLowerCase(),t+(n?Ws(e):e)}));function Ws(t){return Zs(bs(t).toLowerCase())}function Hs(t){return(t=bs(t))&&t.replace(vt,Ye).replace(Gt,"")}var Gs=Di((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qs=Di((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),$s=Ii("toLowerCase"),Xs=Di((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ys=Di((function(t,e,n){return t+(n?" ":"")+Zs(e)})),Ks=Di((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Zs=Ii("toUpperCase");function Qs(t,e,n){return t=bs(t),(e=n?i:e)===i?function(t){return Yt.test(t)}(t)?function(t){return t.match($t)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var Js=Xr((function(t,e){try{return ye(t,i,e)}catch(t){return Za(t)?t:new wt(t)}})),tl=to((function(t,e){return be(e,(function(e){e=No(e),ir(t,e,Ra(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Fi(),rl=Fi(!0);function il(t){return t}function ol(t){return Dr("function"==typeof t?t:sr(t,1))}var al=Xr((function(t,e){return function(n){return Ar(n,t,e)}})),sl=Xr((function(t,e){return function(n){return Ar(t,n,e)}}));function ll(t,e,n){var r=Ms(e),i=wr(e,r);null!=n||es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ms(e)));var o=!(es(n)&&"chain"in n&&!n.chain),a=Qa(t);return be(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ki(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Pe([this.value()],arguments))})})),t}function ul(){}var cl=Bi(Ee),hl=Bi(we),dl=Bi(Ae);function pl(t){return bo(t)?Fe(No(t)):function(t){return function(e){return xr(e,t)}}(t)}var fl=Wi(),gl=Wi(!0);function ml(){return[]}function yl(){return!1}var vl,bl=Ui((function(t,e){return t+e}),0),_l=qi("ceil"),wl=Ui((function(t,e){return t/e}),1),xl=qi("floor"),Sl=Ui((function(t,e){return t*e}),1),Cl=qi("round"),El=Ui((function(t,e){return t-e}),0);return zn.after=function(t,e){if("function"!=typeof e)throw new kt(o);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=Oa,zn.assign=_s,zn.assignIn=ws,zn.assignInWith=xs,zn.assignWith=Ss,zn.at=Cs,zn.before=Aa,zn.bind=Ra,zn.bindAll=tl,zn.bindKey=Ta,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ga(t)?t:[t]},zn.chain=pa,zn.chunk=function(t,e,n){e=(n?vo(t,e,n):e===i)?1:yn(gs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,l=r(cn(o/e));a<o;)l[s++]=ei(t,a,a+=e);return l},zn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Pe(Ga(n)?ki(n):[n],mr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=ao();return t=e?Ee(t,(function(t){if("function"!=typeof t[1])throw new kt(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ye(i[0],this,n))return ye(i[1],this,n)}}))},zn.conforms=function(t){return function(t){var e=Ms(t);return function(n){return lr(n,t,e)}}(sr(t,1))},zn.constant=el,zn.countBy=ma,zn.create=function(t,e){var n=Un(t);return null==e?n:rr(n,e)},zn.curry=function t(e,n,r){var o=Yi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},zn.curryRight=function t(e,n,r){var o=Yi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},zn.debounce=Ma,zn.defaults=Es,zn.defaultsDeep=Ps,zn.defer=Ia,zn.delay=Da,zn.difference=Bo,zn.differenceBy=Vo,zn.differenceWith=Wo,zn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:gs(e))<0?0:e,r):[]},zn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:gs(e)))<0?0:e):[]},zn.dropRightWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!0,!0):[]},zn.dropWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!0):[]},zn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&vo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},zn.filter=function(t,e){return(Ga(t)?xe:gr)(t,ao(e,3))},zn.flatMap=function(t,e){return mr(Ca(t,e),1)},zn.flatMapDeep=function(t,e){return mr(Ca(t,e),c)},zn.flatMapDepth=function(t,e,n){return n=n===i?1:gs(n),mr(Ca(t,e),n)},zn.flatten=qo,zn.flattenDeep=function(t){return null!=t&&t.length?mr(t,c):[]},zn.flattenDepth=function(t,e){return null!=t&&t.length?mr(t,e=e===i?1:gs(e)):[]},zn.flip=function(t){return Yi(t,512)},zn.flow=nl,zn.flowRight=rl,zn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},zn.functions=function(t){return null==t?[]:wr(t,Ms(t))},zn.functionsIn=function(t){return null==t?[]:wr(t,Is(t))},zn.groupBy=wa,zn.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},zn.intersection=Xo,zn.intersectionBy=Yo,zn.intersectionWith=Ko,zn.invert=As,zn.invertBy=Rs,zn.invokeMap=xa,zn.iteratee=ol,zn.keyBy=Sa,zn.keys=Ms,zn.keysIn=Is,zn.map=Ca,zn.mapKeys=function(t,e){var n={};return e=ao(e,3),br(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},zn.mapValues=function(t,e){var n={};return e=ao(e,3),br(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},zn.matches=function(t){return Nr(sr(t,1))},zn.matchesProperty=function(t,e){return zr(t,sr(e,1))},zn.memoize=ja,zn.merge=Ds,zn.mergeWith=js,zn.method=al,zn.methodOf=sl,zn.mixin=ll,zn.negate=La,zn.nthArg=function(t){return t=gs(t),Xr((function(e){return Br(e,t)}))},zn.omit=Ls,zn.omitBy=function(t,e){return Ns(t,La(ao(e)))},zn.once=function(t){return Aa(2,t)},zn.orderBy=function(t,e,n,r){return null==t?[]:(Ga(e)||(e=null==e?[]:[e]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Vr(t,e,n))},zn.over=cl,zn.overArgs=Fa,zn.overEvery=hl,zn.overSome=dl,zn.partial=Na,zn.partialRight=za,zn.partition=Ea,zn.pick=Fs,zn.pickBy=Ns,zn.property=pl,zn.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},zn.pull=Qo,zn.pullAll=Jo,zn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,ao(n,2)):t},zn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,i,n):t},zn.pullAt=ta,zn.range=fl,zn.rangeRight=gl,zn.rearg=Ua,zn.reject=function(t,e){return(Ga(t)?xe:gr)(t,La(ao(e,3)))},zn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ao(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Gr(t,i),n},zn.rest=function(t,e){if("function"!=typeof t)throw new kt(o);return Xr(t,e=e===i?e:gs(e))},zn.reverse=ea,zn.sampleSize=function(t,e,n){return e=(n?vo(t,e,n):e===i)?1:gs(e),(Ga(t)?Zn:Kr)(t,e)},zn.set=function(t,e,n){return null==t?t:Zr(t,e,n)},zn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Zr(t,e,n,r)},zn.shuffle=function(t){return(Ga(t)?Qn:ti)(t)},zn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&vo(t,e,n)?(e=0,n=r):(e=null==e?0:gs(e),n=n===i?r:gs(n)),ei(t,e,n)):[]},zn.sortBy=Pa,zn.sortedUniq=function(t){return t&&t.length?oi(t):[]},zn.sortedUniqBy=function(t,e){return t&&t.length?oi(t,ao(e,2)):[]},zn.split=function(t,e,n){return n&&"number"!=typeof n&&vo(t,e,n)&&(e=n=i),(n=n===i?p:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=si(e))&&Qe(t)?bi(an(t),0,n):t.split(e,n):[]},zn.spread=function(t,e){if("function"!=typeof t)throw new kt(o);return e=null==e?0:yn(gs(e),0),Xr((function(n){var r=n[e],i=bi(n,0,e);return r&&Pe(i,r),ye(t,this,i)}))},zn.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},zn.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:gs(e))<0?0:e):[]},zn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:gs(e)))<0?0:e,r):[]},zn.takeRightWhile=function(t,e){return t&&t.length?hi(t,ao(e,3),!1,!0):[]},zn.takeWhile=function(t,e){return t&&t.length?hi(t,ao(e,3)):[]},zn.tap=function(t,e){return e(t),t},zn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new kt(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ma(t,e,{leading:r,maxWait:e,trailing:i})},zn.thru=fa,zn.toArray=ps,zn.toPairs=zs,zn.toPairsIn=Us,zn.toPath=function(t){return Ga(t)?Ee(t,No):us(t)?[t]:ki(Fo(bs(t)))},zn.toPlainObject=vs,zn.transform=function(t,e,n){var r=Ga(t),i=r||Ya(t)||cs(t);if(e=ao(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:es(t)&&Qa(o)?Un(qt(t)):{}}return(i?be:br)(t,(function(t,r,i){return e(n,t,r,i)})),n},zn.unary=function(t){return Oa(t,1)},zn.union=na,zn.unionBy=ra,zn.unionWith=ia,zn.uniq=function(t){return t&&t.length?li(t):[]},zn.uniqBy=function(t,e){return t&&t.length?li(t,ao(e,2)):[]},zn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?li(t,i,e):[]},zn.unset=function(t,e){return null==t||ui(t,e)},zn.unzip=oa,zn.unzipWith=aa,zn.update=function(t,e,n){return null==t?t:ci(t,e,mi(n))},zn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,mi(n),r)},zn.values=Bs,zn.valuesIn=function(t){return null==t?[]:He(t,Is(t))},zn.without=sa,zn.words=Qs,zn.wrap=function(t,e){return Na(mi(e),t)},zn.xor=la,zn.xorBy=ua,zn.xorWith=ca,zn.zip=ha,zn.zipObject=function(t,e){return fi(t||[],e||[],tr)},zn.zipObjectDeep=function(t,e){return fi(t||[],e||[],Zr)},zn.zipWith=da,zn.entries=zs,zn.entriesIn=Us,zn.extend=ws,zn.extendWith=xs,ll(zn,zn),zn.add=bl,zn.attempt=Js,zn.camelCase=Vs,zn.capitalize=Ws,zn.ceil=_l,zn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ys(n))==n?n:0),e!==i&&(e=(e=ys(e))==e?e:0),ar(ys(t),e,n)},zn.clone=function(t){return sr(t,4)},zn.cloneDeep=function(t){return sr(t,5)},zn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},zn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},zn.conformsTo=function(t,e){return null==e||lr(t,e,Ms(e))},zn.deburr=Hs,zn.defaultTo=function(t,e){return null==t||t!=t?e:t},zn.divide=wl,zn.endsWith=function(t,e,n){t=bs(t),e=si(e);var r=t.length,o=n=n===i?r:ar(gs(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},zn.eq=Ba,zn.escape=function(t){return(t=bs(t))&&X.test(t)?t.replace(q,Ke):t},zn.escapeRegExp=function(t){return(t=bs(t))&&nt.test(t)?t.replace(et,"\\$&"):t},zn.every=function(t,e,n){var r=Ga(t)?we:pr;return n&&vo(t,e,n)&&(e=i),r(t,ao(e,3))},zn.find=ya,zn.findIndex=Ho,zn.findKey=function(t,e){return Te(t,ao(e,3),br)},zn.findLast=va,zn.findLastIndex=Go,zn.findLastKey=function(t,e){return Te(t,ao(e,3),_r)},zn.floor=xl,zn.forEach=ba,zn.forEachRight=_a,zn.forIn=function(t,e){return null==t?t:yr(t,ao(e,3),Is)},zn.forInRight=function(t,e){return null==t?t:vr(t,ao(e,3),Is)},zn.forOwn=function(t,e){return t&&br(t,ao(e,3))},zn.forOwnRight=function(t,e){return t&&_r(t,ao(e,3))},zn.get=ks,zn.gt=Va,zn.gte=Wa,zn.has=function(t,e){return null!=t&&fo(t,e,Pr)},zn.hasIn=Os,zn.head=$o,zn.identity=il,zn.includes=function(t,e,n,r){t=$a(t)?t:Bs(t),n=n&&!r?gs(n):0;var i=t.length;return n<0&&(n=yn(i+n,0)),ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ie(t,e,n)>-1},zn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=yn(r+i,0)),Ie(t,e,i)},zn.inRange=function(t,e,n){return e=fs(e),n===i?(n=e,e=0):n=fs(n),function(t,e,n){return t>=vn(e,n)&&t<yn(e,n)}(t=ys(t),e,n)},zn.invoke=Ts,zn.isArguments=Ha,zn.isArray=Ga,zn.isArrayBuffer=qa,zn.isArrayLike=$a,zn.isArrayLikeObject=Xa,zn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&Cr(t)==y},zn.isBuffer=Ya,zn.isDate=Ka,zn.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},zn.isEmpty=function(t){if(null==t)return!0;if($a(t)&&(Ga(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||cs(t)||Ha(t)))return!t.length;var e=po(t);if(e==x||e==k)return!t.size;if(xo(t))return!jr(t).length;for(var n in t)if(It.call(t,n))return!1;return!0},zn.isEqual=function(t,e){return Tr(t,e)},zn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Tr(t,e,i,n):!!r},zn.isError=Za,zn.isFinite=function(t){return"number"==typeof t&&fn(t)},zn.isFunction=Qa,zn.isInteger=Ja,zn.isLength=ts,zn.isMap=rs,zn.isMatch=function(t,e){return t===e||Mr(t,e,lo(e))},zn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Mr(t,e,lo(e),n)},zn.isNaN=function(t){return is(t)&&t!=+t},zn.isNative=function(t){if(wo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ir(t)},zn.isNil=function(t){return null==t},zn.isNull=function(t){return null===t},zn.isNumber=is,zn.isObject=es,zn.isObjectLike=ns,zn.isPlainObject=os,zn.isRegExp=as,zn.isSafeInteger=function(t){return Ja(t)&&t>=-9007199254740991&&t<=h},zn.isSet=ss,zn.isString=ls,zn.isSymbol=us,zn.isTypedArray=cs,zn.isUndefined=function(t){return t===i},zn.isWeakMap=function(t){return ns(t)&&po(t)==R},zn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==Cr(t)},zn.join=function(t,e){return null==t?"":gn.call(t,e)},zn.kebabCase=Gs,zn.last=Zo,zn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?yn(r+o,0):vn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Me(t,je,o,!0)},zn.lowerCase=qs,zn.lowerFirst=$s,zn.lt=hs,zn.lte=ds,zn.max=function(t){return t&&t.length?fr(t,il,Er):i},zn.maxBy=function(t,e){return t&&t.length?fr(t,ao(e,2),Er):i},zn.mean=function(t){return Le(t,il)},zn.meanBy=function(t,e){return Le(t,ao(e,2))},zn.min=function(t){return t&&t.length?fr(t,il,Lr):i},zn.minBy=function(t,e){return t&&t.length?fr(t,ao(e,2),Lr):i},zn.stubArray=ml,zn.stubFalse=yl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=Sl,zn.nth=function(t,e){return t&&t.length?Br(t,gs(e)):i},zn.noConflict=function(){return oe._===this&&(oe._=Nt),this},zn.noop=ul,zn.now=ka,zn.pad=function(t,e,n){t=bs(t);var r=(e=gs(e))?on(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Vi(hn(i),n)+t+Vi(cn(i),n)},zn.padEnd=function(t,e,n){t=bs(t);var r=(e=gs(e))?on(t):0;return e&&r<e?t+Vi(e-r,n):t},zn.padStart=function(t,e,n){t=bs(t);var r=(e=gs(e))?on(t):0;return e&&r<e?Vi(e-r,n)+t:t},zn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(bs(t).replace(rt,""),e||0)},zn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&vo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fs(t),e===i?(e=t,t=0):e=fs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=wn();return vn(t+o*(e-t+ee("1e-"+((o+"").length-1))),e)}return qr(t,e)},zn.reduce=function(t,e,n){var r=Ga(t)?ke:ze,i=arguments.length<3;return r(t,ao(e,4),n,i,hr)},zn.reduceRight=function(t,e,n){var r=Ga(t)?Oe:ze,i=arguments.length<3;return r(t,ao(e,4),n,i,dr)},zn.repeat=function(t,e,n){return e=(n?vo(t,e,n):e===i)?1:gs(e),$r(bs(t),e)},zn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=function(t,e,n){var r=-1,o=(e=yi(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[No(e[r])];a===i&&(r=o,a=n),t=Qa(a)?a.call(t):a}return t},zn.round=Cl,zn.runInContext=t,zn.sample=function(t){return(Ga(t)?Kn:Yr)(t)},zn.size=function(t){if(null==t)return 0;if($a(t))return ls(t)?on(t):t.length;var e=po(t);return e==x||e==k?t.size:jr(t).length},zn.snakeCase=Xs,zn.some=function(t,e,n){var r=Ga(t)?Ae:ni;return n&&vo(t,e,n)&&(e=i),r(t,ao(e,3))},zn.sortedIndex=function(t,e){return ri(t,e)},zn.sortedIndexBy=function(t,e,n){return ii(t,e,ao(n,2))},zn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&Ba(t[r],e))return r}return-1},zn.sortedLastIndex=function(t,e){return ri(t,e,!0)},zn.sortedLastIndexBy=function(t,e,n){return ii(t,e,ao(n,2),!0)},zn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(Ba(t[n],e))return n}return-1},zn.startCase=Ys,zn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ar(gs(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},zn.subtract=El,zn.sum=function(t){return t&&t.length?Ue(t,il):0},zn.sumBy=function(t,e){return t&&t.length?Ue(t,ao(e,2)):0},zn.template=function(t,e,n){var r=zn.templateSettings;n&&vo(t,e,n)&&(e=i),t=bs(t),e=xs({},e,r,Ki);var o,a,s=xs({},e.imports,r.imports,Ki),l=Ms(s),u=He(s,l),c=0,h=e.interpolate||bt,d="__p += '",p=Et((e.escape||bt).source+"|"+h.source+"|"+(h===Z?ht:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),f="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zt+"]")+"\n";t.replace(p,(function(e,n,r,i,s,l){return r||(r=i),d+=t.slice(c,l).replace(_t,Ze),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var g=It.call(e,"variable")&&e.variable;if(g){if(ut.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(V,""):d).replace(W,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Js((function(){return xt(l,f+"return "+d).apply(i,u)}));if(m.source=d,Za(m))throw m;return m},zn.times=function(t,e){if((t=gs(t))<1||t>h)return[];var n=p,r=vn(t,p);e=ao(e),t-=p;for(var i=Be(r,e);++n<t;)e(n);return i},zn.toFinite=fs,zn.toInteger=gs,zn.toLength=ms,zn.toLower=function(t){return bs(t).toLowerCase()},zn.toNumber=ys,zn.toSafeInteger=function(t){return t?ar(gs(t),-9007199254740991,h):0===t?t:0},zn.toString=bs,zn.toUpper=function(t){return bs(t).toUpperCase()},zn.trim=function(t,e,n){if((t=bs(t))&&(n||e===i))return Ve(t);if(!t||!(e=si(e)))return t;var r=an(t),o=an(e);return bi(r,qe(r,o),$e(r,o)+1).join("")},zn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.slice(0,sn(t)+1);if(!t||!(e=si(e)))return t;var r=an(t);return bi(r,0,$e(r,an(e))+1).join("")},zn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=si(e)))return t;var r=an(t);return bi(r,qe(r,an(e))).join("")},zn.truncate=function(t,e){var n=30,r="...";if(es(e)){var o="separator"in e?e.separator:o;n="length"in e?gs(e.length):n,r="omission"in e?si(e.omission):r}var a=(t=bs(t)).length;if(Qe(t)){var s=an(t);a=s.length}if(n>=a)return t;var l=n-on(r);if(l<1)return r;var u=s?bi(s,0,l).join(""):t.slice(0,l);if(o===i)return u+r;if(s&&(l+=u.length-l),as(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=Et(o.source,bs(dt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(t.indexOf(si(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},zn.unescape=function(t){return(t=bs(t))&&$.test(t)?t.replace(G,ln):t},zn.uniqueId=function(t){var e=++Dt;return bs(t)+e},zn.upperCase=Ks,zn.upperFirst=Zs,zn.each=ba,zn.eachRight=_a,zn.first=$o,ll(zn,(vl={},br(zn,(function(t,e){It.call(zn.prototype,e)||(vl[e]=t)})),vl),{chain:!1}),zn.VERSION="4.17.21",be(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){zn[t].placeholder=zn})),be(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===i?1:yn(gs(n),0);var r=this.__filtered__&&!e?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,p),type:t+(r.__dir__<0?"Right":"")}),r},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),be(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ao(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),be(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),be(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Ar(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(La(ao(t)))},Wn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(p)},br(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=zn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(zn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,l=e instanceof Wn,u=s[0],c=l||Ga(e),h=function(t){var e=o.apply(zn,Pe([t],s));return r&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=a&&!d,g=l&&!p;if(!a&&c){e=g?e:new Wn(this);var m=t.apply(e,s);return m.__actions__.push({func:fa,args:[h],thisArg:i}),new Vn(m,d)}return f&&g?t.apply(this,s):(m=this.thru(h),f?r?m.value()[0]:m.value():m)})})),be(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ga(i)?i:[],t)}return this[n]((function(n){return e.apply(Ga(n)?n:[],t)}))}})),br(Wn.prototype,(function(t,e){var n=zn[e];if(n){var r=n.name+"";It.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}})),Rn[Ni(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=ki(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ki(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ki(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ga(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=vn(e,t+a);break;case"takeRight":t=yn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,h=c.length,d=0,p=vn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return di(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var g=-1,m=t[u+=e];++g<h;){var y=c[g],v=y.iteratee,b=y.type,_=v(m);if(2==b)m=_;else if(!_){if(1==b)continue t;break t}}f[d++]=m}return f},zn.prototype.at=ga,zn.prototype.chain=function(){return pa(this)},zn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,n=this;n instanceof Bn;){var r=Uo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:fa,args:[ea],thisArg:i}),new Vn(e,this.__chain__)}return this.thru(ea)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,ae&&(zn.prototype[ae]=function(){return this}),zn}();oe._=un,(r=function(){return un}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},1700:(t,e,n)=>{var r=n(8805)("toUpperCase");t.exports=r},845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((i=t[n])===(o=e[n])||r(i)&&r(o)))return!1;var i,o;return!0}const o=function(t,e){var n;void 0===e&&(e=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&e(i,o)||(r=t.apply(this,i),a=!0,n=this,o=i),r}}},9299:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=c,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let n=0;for(let r=0;r<e;r++)n+=c(t[r]);let r=0;const i=new Uint8Array(n);for(let n=0;n<e;n++){let e=t[n];e instanceof Uint8Array||(e="string"==typeof e?u(e):new Uint8Array(e));const o=e.byteLength;i.set(e,r),r+=o}return i},e.assert=function(t,e){t||a(e)},e.bytesToString=function(t){"object"==typeof t&&null!==t&&void 0!==t.length||a("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise((function(n,r){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,r(t)}})),t},e.createValidAbsoluteUrl=function(t,e=null,n=null){if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=f(t)}catch(t){}}const r=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(t=>"\n"===t?"\\n":"\r"===t?"\\r":`\\${t}`))},e.getModificationDate=function(t=new Date){return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return i},e.info=function(t){i>=r.INFOS&&console.log(`Info: ${t}`)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(i=t)},e.shadow=s,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=u,e.stringToPDFString=function(t){if(t[0]>="ï"){let e;if("þ"===t[0]&&"ÿ"===t[1]?e="utf-16be":"ÿ"===t[0]&&"þ"===t[1]?e="utf-16le":"ï"===t[0]&&"»"===t[1]&&"¿"===t[2]&&(e="utf-8"),e)try{const n=new TextDecoder(e,{fatal:!0}),r=u(t);return n.decode(r)}catch(t){o(`stringToPDFString: "${t}".`)}}const e=[];for(let n=0,r=t.length;n<r;n++){const r=p[t.charCodeAt(n)];e.push(r?String.fromCharCode(r):t.charAt(n))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["þÿ"];for(let n=0,r=t.length;n<r;n++){const r=t.charCodeAt(n);e.push(String.fromCharCode(r>>8&255),String.fromCharCode(255&r))}return e.join("")},e.stringToUTF8String=f,e.unreachable=a,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=o,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.LINE_FACTOR=1.35,e.LINE_DESCENT_FACTOR=.35,e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.AnnotationEditorPrefix="pdfjs_internal_editor_",e.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},e.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=r,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function o(t){i>=r.WARNINGS&&console.log(`Warning: ${t}`)}function a(t){throw new Error(t)}function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const l=function(){function t(e,n){this.constructor===t&&a("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();function u(t){"string"!=typeof t&&a("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function c(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void a("Invalid argument for arrayByteLength")}e.BaseException=l,e.PasswordException=class extends l{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends l{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends l{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends l{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends l{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends l{constructor(t){super(t,"FormatError")}},e.AbortException=class extends l{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return s(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return s(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return s(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const h=[...Array(256).keys()].map((t=>t.toString(16).padStart(2,"0")));class d{static makeHexColor(t,e,n){return`#${h[t]}${h[e]}${h[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[2],e[2]=n,n=e[1],e[1]=e[3],e[3]=n,t[1]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=d.applyTransform(t,e),r=d.applyTransform(t.slice(2,4),e),i=d.applyTransform([t[0],t[3]],e),o=d.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,s=Math.sqrt((n+o)**2-4*(n*o-i*r))/2,l=a+s||1,u=a-s||1;return[Math.sqrt(l),Math.sqrt(u)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[n,i,r,o]}static bezierBoundingBox(t,e,n,r,i,o,a,s){const l=[],u=[[],[]];let c,h,d,p,f,g,m,y;for(let u=0;u<2;++u)if(0===u?(h=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*a,d=3*n-3*t):(h=6*e-12*r+6*o,c=-3*e+9*r-9*o+3*s,d=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(h)<1e-12)continue;p=-d/h,0<p&&p<1&&l.push(p)}else m=h*h-4*d*c,y=Math.sqrt(m),m<0||(f=(-h+y)/(2*c),0<f&&f<1&&l.push(f),g=(-h-y)/(2*c),0<g&&g<1&&l.push(g));let v,b=l.length;const _=b;for(;b--;)p=l[b],v=1-p,u[0][b]=v*v*v*t+3*v*v*p*n+3*v*p*p*i+p*p*p*a,u[1][b]=v*v*v*e+3*v*v*p*r+3*v*p*p*o+p*p*p*s;return u[0][_]=t,u[1][_]=e,u[0][_+1]=a,u[1][_+1]=s,u[0].length=u[1].length=_+2,[Math.min(...u[0]),Math.min(...u[1]),Math.max(...u[0]),Math.max(...u[1])]}}e.Util=d;const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{n(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let n;if("string"==typeof t||t instanceof URL)n={url:t};else if((0,_util.isArrayBuffer)(t))n={data:t};else if(t instanceof PDFDataRangeTransport)n={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=t}const r=Object.create(null);let i=null,o=null;for(const t in n){const e=n[t];switch(t){case"url":if("undefined"!=typeof window)try{r[t]=new URL(e,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof e||e instanceof URL){r[t]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=e;continue;case"worker":o=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)r[t]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)r[t]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[t]=new Uint8Array(e)}else r[t]=new Uint8Array(e)}continue}r[t]=e}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"==typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){const t={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=o}const a=e.docId;return o.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(o,r,i,a),n=new Promise((function(t){let e;i?e=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(e=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(e)}));return Promise.all([t,n]).then((function([t,n]){if(e.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(a,t,o.port),s=new WorkerTransport(i,e,n,r);e._transport=s,i.send("Ready",null)}))})).catch(e._capability.reject),e}async function _fetchDocument(t,e,n,r){if(t.destroyed)throw new Error("Worker was destroyed");n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename);const i=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,n,r,i=!1){this._pageIndex=t,this._pageInfo=e,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations({intent:t="display"}={}){const e=this._transport.getRenderingIntent(t);let n=this._annotationPromises.get(e.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,n),n=n.then((t=>{for(const e of t)void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str)}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str)});return t}))),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:i=null,imageLayer:o=null,canvasFactory:a=null,background:s=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:c=null,printAnnotationStorage:h=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const d=this._transport.getRenderingIntent(n,r,h);this.pendingCleanup=!1,l||(l=this._transport.getOptionalContentConfig());let p=this._intentStates.get(d.cacheKey);p||(p=Object.create(null),this._intentStates.set(d.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const f=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(d.renderingIntent&_util.RenderingIntentFlag.PRINT);p.displayReadyCapability||(p.displayReadyCapability=(0,_util.createPromiseCapability)(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(d));const m=t=>{p.renderTasks.delete(y),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(y.capability.reject(t),this._abortOperatorList({intentState:p,reason:t instanceof Error?t:new Error(t)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:m,params:{canvasContext:t,viewport:e,transform:i,imageLayer:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:f,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(p.renderTasks||=new Set).add(y);const v=y.task;return Promise.all([p.displayReadyCapability.promise,l]).then((([t,e])=>{this.pendingCleanup?m():(this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:t,optionalContentConfig:e}),y.operatorListChanged())})).catch(m),v}getOperatorList({intent:t="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){const r=this._transport.getRenderingIntent(t,e,n,!0);let i,o=this._intentStates.get(r.cacheKey);return o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o)),o.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(i))},o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||=new Set).add(i),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then((t=>_xfa_text.XfaText.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const r=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){r.read().then((function({value:n,done:r}){r?t(i):(Object.assign(i.styles,n.styles),i.items.push(...n.items),e())}),n)}()}))}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();this.objs.clear();for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const t of e.renderTasks)t.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageMap:n}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:n}).getReader(),i=this._intentStates.get(e);i.streamReader=r;const o=()=>{r.read().then((({value:t,done:e})=>{e?i.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,i),o())}),(t=>{if(i.streamReader=null,!this._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(const t of i.renderTasks)t.operatorListChanged();this._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(t);else{if(!i.opListReadCapability)throw t;i.opListReadCapability.reject(t)}}}))};o()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(!n){if(t.renderTasks.size>0)return;if(e instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:t,reason:e,force:!0}),t.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(e.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,e){const n={data:structuredClone(t,e)};this._deferred.then((()=>{for(const t of this._listeners)t.call(this,n)}))}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(t){return!1}const r=new URL(e,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))};class PDFWorker{static#e=new WeakMap;constructor({name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#e.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return PDFWorker.#e.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{o()}catch(t){this._setupFakeWorker()}}));const o=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void o()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(r,e);const i=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#e.has(t.port)?this.#e.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(t){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#n=null;#r=new Map;#i=new Map;#o=null;constructor(t,e,n,r){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#n}getRenderingIntent(t,e=_util.AnnotationMode.ENABLE,n=null,r=!1){let i=_util.RenderingIntentFlag.DISPLAY,o=null;switch(t){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const e of this.#r.values())t.push(e._destroy());this.#r.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),r.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(t,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const n=t=>{t instanceof Error?this._passwordCapability.reject(t):this._passwordCapability.resolve({password:t})};try{e.onPassword(n,t.code)}catch(t){this._passwordCapability.reject(t)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{this.destroyed||this.#r.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(([e,n,r])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(n){case"Font":const i=this._params;if("error"in r){const t=r.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(e,t);break}let o=null;i.pdfBug&&globalThis.FontInspector?.enabled&&(o={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const a=new _font_loader.FontFaceObject(r,{isEvalSupported:i.isEvalSupported,disableFontFace:i.disableFontFace,ignoreErrors:i.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:o});this.fontLoader.bind(a).catch((n=>t.sendWithPromise("FontFallback",{id:e}))).finally((()=>{!i.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(e,a)}));break;case"FontPath":case"Image":this.commonObjs.resolve(e,r);break;default:throw new Error(`Got unknown common object type ${n}`)}})),t.on("obj",(([t,e,n,r])=>{if(this.destroyed)return;const i=this.#r.get(e);if(!i.objs.has(t))switch(n){case"Image":i.objs.resolve(t,r);const e=8e6;if(r){let t;if(r.bitmap){const{bitmap:e,width:n,height:o}=r;t=n*o*4,i._bitmaps.add(e)}else t=r.data?.length||0;t>e&&(i.cleanupAfterRender=!0)}break;case"Pattern":i.objs.resolve(t,r);break;default:throw new Error(`Got unknown object type ${n}`)}})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("DocStats",(t=>{this.destroyed||(this.#n=Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(e,t,this,this._params.ownerDocument,this._params.pdfBug);return this.#r.set(e,n),n}));return this.#i.set(e,r),r}getPageIndex(t){return"object"!=typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((t=>new _optional_content_config.OptionalContentConfig(t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#o||=this.messageHandler.sendWithPromise("GetMetadata",null).then((t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of this.#r.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#o=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}class PDFObjects{#a=Object.create(null);#s(t){return this.#a[t]||(this.#a[t]={capability:(0,_util.createPromiseCapability)(),data:null})}get(t,e=null){if(e){const n=this.#s(t);return n.capability.promise.then((()=>e(n.data))),null}const n=this.#a[t];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){return this.#a[t]?.capability.settled||!1}resolve(t,e=null){const n=this.#s(t);n.data=e,n.capability.resolve()}clear(){this.#a=Object.create(null)}}class RenderTask{#l=null;constructor(t){this.#l=t,this.onContinue=null}get promise(){return this.#l.capability.promise}cancel(){this.#l.cancel()}get separateAnnots(){const{separateAnnots:t}=this.#l.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#l;return t.form||t.canvas&&e?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#u=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:s,useRequestAnimationFrame:l=!1,pdfBug:u=!1,pageColors:c=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=s,this._pdfBug=u,this.pageColors=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#u.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#u.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:i,imageLayer:o,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,o,e,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#u.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#u.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var r=n(1),i=n(6),o=n(10);class a{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this._storage.get(t)}remove(t){if(this._storage.delete(t),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this._storage.values())if(t instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this._storage.get(t);let r=!1;if(void 0!==n)for(const[t,i]of Object.entries(e))n[t]!==i&&(r=!0,n[t]=i);else r=!0,this._storage.set(t,e);r&&this.#c(),e instanceof i.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this._storage.has(t)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}#c(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new s(this)}get serializable(){if(0===this._storage.size)return null;const t=new Map;for(const[e,n]of this._storage){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&t.set(e,r)}return t}static getHash(t){if(!t)return"";const e=new o.MurmurHash3_64;for(const[n,r]of t)e.update(`${n}:${JSON.stringify(r)}`);return e.hexdigest()}}e.AnnotationStorage=a;class s extends a{#h=null;constructor(t){super(),this.#h=structuredClone(t.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#h}}e.PrintAnnotationStorage=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var r=n(7),i=n(1);class o{#d=this.focusin.bind(this);#p=this.focusout.bind(this);#f=!1;#g=!1;#m=!1;#y=o._zIndex++;static _colorManager=new r.ColorManager;static _zIndex=1;constructor(t){this.constructor===o&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null;const[e,n]=this.parent.viewportBaseDimensions;this.x=t.x/e,this.y=t.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#y}focusin(t){this.#f?this.#f=!1:this.parent.setSelected(this)}focusout(t){this.isAttachedToDOM&&(t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove()))}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(t){const e=this.parent.div.getBoundingClientRect();this.startX=t.clientX-e.x,this.startY=t.clientY-e.y,t.dataTransfer.setData("text/plain",this.id),t.dataTransfer.effectAllowed="move"}setAt(t,e,n,r){const[i,o]=this.parent.viewportBaseDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/i,this.y=(e+r)/o,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(t,e){const[n,r]=this.parent.viewportBaseDimensions;[t,e]=this.screenToPageTranslation(t,e),this.x+=t/n,this.y+=e/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(t,e){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}setDims(t,e){const[n,r]=this.parent.viewportBaseDimensions;this.div.style.width=100*t/n+"%",this.div.style.height=100*e/r+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#d),this.div.addEventListener("focusout",this.#p);const[t,e]=this.getInitialTranslation();return this.translate(t,e),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(t){const e=r.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#f=!0)}getRect(t,e){const[n,r]=this.parent.viewportBaseDimensions,[i,o]=this.parent.pageDimensions,a=i*t/n,s=o*e/r,l=this.x*i,u=this.y*o,c=this.width*i,h=this.height*o;switch(this.rotation){case 0:return[l+a,o-u-s-h,l+a+c,o-u-s];case 90:return[l+s,o-u+a,l+s+h,o-u+a+c];case 180:return[l-a-c,o-u+s,l-a,o-u+s+h];case 270:return[l-s-h,o-u-a-c,l-s,o-u-a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,i,o]=t,a=i-n,s=o-r;switch(this.rotation){case 0:return[n,e-o,a,s];case 90:return[n,e-r,s,a];case 180:return[i,e-r,a,s];case 270:return[i,e-o,s,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#d)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(t,e){const n=new this.prototype.constructor({parent:e,id:e.getNextId()});n.rotation=t.rotation;const[r,i]=e.pageDimensions,[o,a,s,l]=n.getRectInCurrentCoords(t.rect,i);return n.x=o/r,n.y=a/i,n.width=s/r,n.height=l/i,n}remove(){this.div.removeEventListener("focusin",this.#d),this.div.removeEventListener("focusout",this.#p),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(t,e){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=function(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))},e.opacityToHex=function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")};var r=n(1),i=n(8);class o{#v=0;getId(){return`${r.AnnotationEditorPrefix}${this.#v++}`}}class a{#b=[];#_=!1;#w;#x=-1;constructor(t=128){this.#w=t}add({cmd:t,undo:e,mustExec:n,type:r=NaN,overwriteIfSameType:i=!1,keepUndo:o=!1}){if(n&&t(),this.#_)return;const a={cmd:t,undo:e,type:r};if(-1===this.#x)return this.#b.length>0&&(this.#b.length=0),this.#x=0,void this.#b.push(a);if(i&&this.#b[this.#x].type===r)return o&&(a.undo=this.#b[this.#x].undo),void(this.#b[this.#x]=a);const s=this.#x+1;s===this.#w?this.#b.splice(0,1):(this.#x=s,s<this.#b.length&&this.#b.splice(s)),this.#b.push(a)}undo(){-1!==this.#x&&(this.#_=!0,this.#b[this.#x].undo(),this.#_=!1,this.#x-=1)}redo(){this.#x<this.#b.length-1&&(this.#x+=1,this.#_=!0,this.#b[this.#x].cmd(),this.#_=!1)}hasSomethingToUndo(){return-1!==this.#x}hasSomethingToRedo(){return this.#x<this.#b.length-1}destroy(){this.#b=null}}e.CommandManager=a;class s{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const e=s.platform.isMac;for(const[n,r]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),r),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,r),this.allKeys.add(t.split("+").at(-1)))}}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}#S(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#S(e));n&&(n.bind(t)(),e.stopPropagation(),e.preventDefault())}}e.KeyboardManager=s;class l{#C=null;copy(t){t&&(Array.isArray(t)?this.#C=t.map((t=>t.serialize())):this.#C=[t.serialize()],this.#C=this.#C.filter((t=>!!t)),0===this.#C.length&&(this.#C=null))}paste(){return this.#C}isEmpty(){return null===this.#C}destroy(){this.#C=null}}class u{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(t),(0,r.shadow)(this,"_colors",t)}convert(t){const e=(0,i.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[t,n]of this._colors)if(n.every(((t,n)=>t===e[n])))return u._colorsMapping.get(t);return e}getHexCode(t){const e=this._colors.get(t);return e?r.Util.makeHexColor(...e):t}}e.ColorManager=u;class c{#E=null;#P=new Map;#k=new Map;#O=new l;#A=new a;#R=0;#T=null;#M=null;#I=new o;#D=!1;#j=r.AnnotationEditorType.NONE;#L=new Set;#F=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#z=this.onPageChanging.bind(this);#U={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#B=null;static _keyboardManager=new s([[["ctrl+a","mac+meta+a"],c.prototype.selectAll],[["ctrl+c","mac+meta+c"],c.prototype.copy],[["ctrl+v","mac+meta+v"],c.prototype.paste],[["ctrl+x","mac+meta+x"],c.prototype.cut],[["ctrl+z","mac+meta+z"],c.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],c.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],c.prototype.delete],[["Escape","mac+Escape"],c.prototype.unselectAll]]);constructor(t,e){this.#B=t,this.#M=e,this.#M._on("editingaction",this.#N),this.#M._on("pagechanging",this.#z)}destroy(){this.#V(),this.#M._off("editingaction",this.#N),this.#M._off("pagechanging",this.#z);for(const t of this.#k.values())t.destroy();this.#k.clear(),this.#P.clear(),this.#E=null,this.#L.clear(),this.#O.destroy(),this.#A.destroy()}onPageChanging({pageNumber:t}){this.#R=t-1}focusMainContainer(){this.#B.focus()}#W(){this.#B.addEventListener("keydown",this.#F)}#V(){this.#B.removeEventListener("keydown",this.#F)}keydown(t){this.getActive()?.shouldGetKeyboardEvents()||c._keyboardManager.exec(this,t)}onEditingAction(t){["undo","redo","cut","copy","paste","delete","selectAll"].includes(t.name)&&this[t.name]()}#H(t){Object.entries(t).some((([t,e])=>this.#U[t]!==e))&&this.#M.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#U,t)})}#G(t){this.#M.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#W(),this.#H({isEditing:this.#j!==r.AnnotationEditorType.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#A.hasSomethingToUndo(),hasSomethingToRedo:this.#A.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#O.isEmpty()})):(this.#V(),this.#H({isEditing:!1}))}registerEditorTypes(t){this.#T=t;for(const t of this.#T)this.#G(t.defaultPropertiesToUpdate)}getId(){return this.#I.getId()}addLayer(t){this.#k.set(t.pageIndex,t),this.#D?t.enable():t.disable()}removeLayer(t){this.#k.delete(t.pageIndex)}updateMode(t){if(this.#j=t,t===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#$();else{this.setEditingState(!0),this.#X();for(const e of this.#k.values())e.updateMode(t)}}updateToolbar(t){t!==this.#j&&this.#M.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){for(const n of this.#L)n.updateParams(t,e);for(const n of this.#T)n.updateDefaultParams(t,e)}#X(){if(!this.#D){this.#D=!0;for(const t of this.#k.values())t.enable()}}#$(){if(this.unselectAll(),this.#D){this.#D=!1;for(const t of this.#k.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#P.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#P.get(t)}addEditor(t){this.#P.set(t.id,t)}removeEditor(t){this.#P.delete(t.id),this.unselect(t)}#Y(t){const e=this.#k.get(t.pageIndex);e?e.addOrRebuild(t):this.addEditor(t)}setActiveEditor(t){this.#E!==t&&(this.#E=t,t&&this.#G(t.propertiesToUpdate))}toggleSelected(t){if(this.#L.has(t))return this.#L.delete(t),t.unselect(),void this.#H({hasSelectedEditor:this.hasSelection});this.#L.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#H({hasSelectedEditor:!0})}setSelected(t){for(const e of this.#L)e!==t&&e.unselect();this.#L.clear(),this.#L.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#H({hasSelectedEditor:!0})}isSelected(t){return this.#L.has(t)}unselect(t){t.unselect(),this.#L.delete(t),this.#H({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#L.size}undo(){this.#A.undo(),this.#H({hasSomethingToUndo:this.#A.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#A.redo(),this.#H({hasSomethingToUndo:!0,hasSomethingToRedo:this.#A.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(t){this.#A.add(t),this.#H({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(0===this.#P.size)return!0;if(1===this.#P.size)for(const t of this.#P.values())return t.isEmpty();return!1}delete(){if(this.#E&&this.#E.commitOrRemove(),!this.hasSelection)return;const t=[...this.#L];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)this.#Y(e)},mustExec:!0})}copy(){if(this.#E&&this.#E.commitOrRemove(),this.hasSelection){const t=[];for(const e of this.#L)e.isEmpty()||t.push(e);if(0===t.length)return;this.#O.copy(t),this.#H({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#O.isEmpty())return;this.unselectAll();const t=this.#k.get(this.#R),e=this.#O.paste().map((e=>t.deserialize(e)));this.addCommands({cmd:()=>{for(const t of e)this.#Y(t);this.#K(e)},undo:()=>{for(const t of e)t.remove()},mustExec:!0})}#K(t){this.#L.clear();for(const e of t)e.isEmpty()||(this.#L.add(e),e.select());this.#H({hasSelectedEditor:!0})}selectAll(){for(const t of this.#L)t.commit();this.#K(this.#P.values())}unselectAll(){if(this.#E)this.#E.commitOrRemove();else if(0!==this.#K.size){for(const t of this.#L)t.unselect();this.#L.clear(),this.#H({hasSelectedEditor:!1})}}isActive(t){return this.#E===t}getActive(){return this.#E}getMode(){return this.#j}}e.AnnotationEditorUIManager=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getColorValues=function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,m(r))}e.remove()},e.getCurrentTransform=function(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform();return[e,n,r,i,o,a]},e.getCurrentTransformInverse=function(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform().invertSelf();return[e,n,r,i,o,a]},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)},e.getPdfFilenameFromUrl=function(t,e="document.pdf"){if("string"!=typeof t)return e;if(p(t))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch(t){}return o||e},e.getRGB=m,e.getXfaPageViewport=function(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new h({viewBox:o,scale:e,rotation:n})},e.isDataScheme=p,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=f,e.loadScript=function(t,e=!1){return new Promise(((n,r)=>{const i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),n(t)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))};var r=n(9),i=n(1);e.AnnotationPrefix="pdfjs_internal_id_";class o{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=o;class a extends r.BaseCanvasFactory{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function s(t,e=!1){if(f(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);return e?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const o=new XMLHttpRequest;o.open("GET",t,!0),e&&(o.responseType="arraybuffer"),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){let t;if(e&&o.response?t=new Uint8Array(o.response):!e&&o.responseText&&(t=(0,i.stringToBytes)(o.responseText)),t)return void n(t)}r(new Error(o.statusText))}},o.send(null)}))}e.DOMCanvasFactory=a;class l extends r.BaseCMapReaderFactory{_fetchData(t,e){return s(t,this.isCompressed).then((t=>({cMapData:t,compressionType:e})))}}e.DOMCMapReaderFactory=l;class u extends r.BaseStandardFontDataFactory{_fetchData(t){return s(t,!0)}}e.DOMStandardFontDataFactory=u;class c extends r.BaseSVGFactory{_createSVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}e.DOMSVGFactory=c;class h{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=i;const a=(t[2]+t[0])/2,s=(t[3]+t[1])/2;let l,u,c,h,d,p,f,g;switch((n%=360)<0&&(n+=360),n){case 180:l=-1,u=0,c=0,h=1;break;case 90:l=0,u=1,c=1,h=0;break;case 270:l=0,u=-1,c=-1,h=0;break;case 0:l=1,u=0,c=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(c=-c,h=-h),0===l?(d=Math.abs(s-t[1])*e+r,p=Math.abs(a-t[0])*e+i,f=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(d=Math.abs(a-t[0])*e+r,p=Math.abs(s-t[1])*e+i,f=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[l*e,u*e,c*e,h*e,d-l*e*a-c*e*s,p-u*e*a-h*e*s],this.width=f,this.height=g}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new h({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(t,e){return i.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=i.Util.applyTransform([t[0],t[1]],this.transform),n=i.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return i.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=h;class d extends i.BaseException{constructor(t,e){super(t,"RenderingCancelledException"),this.type=e}}function p(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function f(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(t){return!1}}let g;function m(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):((0,i.warn)(`Not a valid color format: "${t}"`),[0,0,0])}e.RenderingCancelledException=d,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,i.warn)(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,i.warn)(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const t of this.times){const n=t.name;n.length>e&&(e=n.length)}for(const n of this.times){const r=n.end-n.start;t.push(`${n.name.padEnd(e)} ${r}ms\n`)}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||"string"!=typeof t)return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=g.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let s=parseInt(e[6],10);s=s>=0&&s<=59?s:0;const l=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let c=parseInt(e[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===l?(o+=u,a+=c):"+"===l&&(o-=u,a-=c),new Date(Date.UTC(n,r,i,o,a,s))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class o{constructor({baseUrl:t=null,isCompressed:e=!1}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(e,n).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)}))}_fetchData(t,e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class a{constructor({baseUrl:t=null}){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch((t=>{throw new Error(`Unable to load font data at: ${e}`)}))}_fetchData(t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=a;class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,o=4294901760,a=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}update(t){let e,n;if("string"==typeof t){e=new Uint8Array(2*t.length),n=0;for(let r=0,i=t.length;r<i;r++){const i=t.charCodeAt(r);i<=255?e[n++]=i:(e[n++]=i>>>8,e[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),n=e.byteLength}const i=n>>2,s=n-4*i,l=new Uint32Array(e.buffer,0,i);let u=0,c=0,h=this.h1,d=this.h2;const p=3432918353,f=461845907,g=11601,m=13715;for(let t=0;t<i;t++)1&t?(u=l[t],u=u*p&o|u*g&a,u=u<<15|u>>>17,u=u*f&o|u*m&a,h^=u,h=h<<13|h>>>19,h=5*h+3864292196):(c=l[t],c=c*p&o|c*g&a,c=c<<15|c>>>17,c=c*f&o|c*m&a,d^=c,d=d<<13|d>>>19,d=5*d+3864292196);switch(u=0,s){case 3:u^=e[4*i+2]<<16;case 2:u^=e[4*i+1]<<8;case 1:u^=e[4*i],u=u*p&o|u*g&a,u=u<<15|u>>>17,u=u*f&o|u*m&a,1&i?h^=u:d^=u}this.h1=h,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&o|36045*t&a,e=4283543511*e&o|(2950163797*(e<<16|t>>>16)&o)>>>16,t^=e>>>1,t=444984403*t&o|60499*t&a,e=3301882366*e&o|(3120437893*(e<<16|t>>>16)&o)>>>16,t^=e>>>1;const n=(t>>>0).toString(16),r=(e>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=n(1);class i{constructor({docId:t,onUnsupportedFeature:e,ownerDocument:n=globalThis.document,styleElement:o=null}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this._document=n,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(e));const n=e.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([e],[t],r)}))}}_queueLoadingCallback(t){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;e.FontLoader=o,e.FontLoader=o=class extends i{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;return("undefined"==typeof navigator||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(t=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,n={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,n){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function o(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}let a,s;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let c=0;const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=o(d,976,h.length,h);const p=1482184792;let f=i(d,16);for(a=0,s=h.length-3;a<s;a+=4)f=f-p+i(h,a)|0;a<h.length&&(f=f-p+i(h+"XXX",a)|0),d=o(d,16,4,(0,r.string32)(f));const g=`@font-face {font-family:"${h}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(g);const m=[];for(const t of e)m.push(t.loadedName);m.push(h);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const t of m){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=t,y.append(e)}this._document.body.append(y),function t(e,n){if(c++,c>30)return(0,r.warn)("Load test font never loaded."),void n();u.font="30px "+e,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(h,(()=>{y.remove(),n.complete()}))}},e.FontFaceObject=class{constructor(t,{isEvalSupported:e=!0,disableFontFace:n=!1,ignoreErrors:r=!1,onUnsupportedFeature:i,fontRegistry:o=null}){this.compiledGlyphs=Object.create(null);for(const e in t)this[e]=t[e];this.isEvalSupported=!1!==e,this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._onUnsupportedFeature=i,this.fontRegistry=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${t}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const t=[];for(const e of n){const n=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",n,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const r of n)"scale"===r.cmd&&(r.args=[e,-e]),t[r.cmd].apply(t,r.args)}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(8),i=n(1),o=n(13),a=n(14),s=n(3);const l=4096,u=s.isNodeJS&&"undefined"==typeof Path2D?-1:1e3,c=16;class h{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function d(t,e,n,i,o,a,s,l,u,c){const[h,d,p,f,g,m]=(0,r.getCurrentTransform)(t);if(0===d&&0===p){const r=s*h+g,y=Math.round(r),v=l*f+m,b=Math.round(v),_=(s+u)*h+g,w=Math.abs(Math.round(_)-y)||1,x=(l+c)*f+m,S=Math.abs(Math.round(x)-b)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(f),y,b),t.drawImage(e,n,i,o,a,0,0,w,S),t.setTransform(h,d,p,f,g,m),[w,S]}if(0===h&&0===f){const r=l*p+g,y=Math.round(r),v=s*d+m,b=Math.round(v),_=(l+c)*p+g,w=Math.abs(Math.round(_)-y)||1,x=(s+u)*d+m,S=Math.abs(Math.round(x)-b)||1;return t.setTransform(0,Math.sign(d),Math.sign(p),0,y,b),t.drawImage(e,n,i,o,a,0,0,S,w),t.setTransform(h,d,p,f,g,m),[S,w]}return t.drawImage(e,n,i,o,a,s,l,u,c),[Math.hypot(h,d)*u,Math.hypot(p,f)*c]}class p{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=i.Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=i.Util.applyTransform(e,t),r=i.Util.applyTransform(e.slice(2),t);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(t,e){i.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,o,a,s,l,u,c){const h=i.Util.bezierBoundingBox(e,n,r,o,a,s,l,u);if(c)return c[0]=Math.min(c[0],h[0],h[2]),c[1]=Math.max(c[1],h[0],h[2]),c[2]=Math.min(c[2],h[1],h[3]),void(c[3]=Math.max(c[3],h[1],h[3]));this.updateRectMinMax(t,h)}getPathBoundingBox(t=o.PathType.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===o.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const t=i.Util.singularValueDecompose2dScale(e),r=t[0]*this.lineWidth/2,o=t[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=o.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function f(t,e,n=null){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const r=e.height,o=e.width,a=r%c,s=(r-a)/c,l=0===a?s:s+1,u=t.createImageData(o,c);let h,d=0;const p=e.data,f=u.data;let g,m,y,v,b,_,w,x;if(n)switch(n.length){case 1:b=n[0],_=n[0],w=n[0],x=n[0];break;case 4:b=n[0],_=n[1],w=n[2],x=n[3]}if(e.kind===i.ImageKind.GRAYSCALE_1BPP){const e=p.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),r=n.length,v=o+7>>3;let b=4294967295,_=i.FeatureTest.isLittleEndian?4278190080:255;for(x&&255===x[0]&&0===x[255]&&([b,_]=[_,b]),g=0;g<l;g++){for(y=g<s?c:a,h=0,m=0;m<y;m++){const t=e-d;let r=0;const i=t>v?o:8*t-7,a=-8&i;let s=0,l=0;for(;r<a;r+=8)l=p[d++],n[h++]=128&l?b:_,n[h++]=64&l?b:_,n[h++]=32&l?b:_,n[h++]=16&l?b:_,n[h++]=8&l?b:_,n[h++]=4&l?b:_,n[h++]=2&l?b:_,n[h++]=1&l?b:_;for(;r<i;r++)0===s&&(l=p[d++],s=128),n[h++]=l&s?b:_,s>>=1}for(;h<r;)n[h++]=0;t.putImageData(u,0,g*c)}}else if(e.kind===i.ImageKind.RGBA_32BPP){const e=!!(b||_||w);for(m=0,v=o*c*4,g=0;g<s;g++){if(f.set(p.subarray(d,d+v)),d+=v,e)for(let t=0;t<v;t+=4)b&&(f[t+0]=b[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),w&&(f[t+2]=w[f[t+2]]);t.putImageData(u,0,m),m+=c}if(g<l){if(v=o*a*4,f.set(p.subarray(d,d+v)),e)for(let t=0;t<v;t+=4)b&&(f[t+0]=b[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),w&&(f[t+2]=w[f[t+2]]);t.putImageData(u,0,m)}}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const e=!!(b||_||w);for(y=c,v=o*y,g=0;g<l;g++){for(g>=s&&(y=a,v=o*y),h=0,m=v;m--;)f[h++]=p[d++],f[h++]=p[d++],f[h++]=p[d++],f[h++]=255;if(e)for(let t=0;t<h;t+=4)b&&(f[t+0]=b[f[t+0]]),_&&(f[t+1]=_[f[t+1]]),w&&(f[t+2]=w[f[t+2]]);t.putImageData(u,0,g*c)}}}}function g(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,r=e.width,i=n%c,o=(n-i)/c,s=0===i?o:o+1,l=t.createImageData(r,c);let u=0;const h=e.data,d=l.data;for(let e=0;e<s;e++){const n=e<o?c:i;({srcPos:u}=(0,a.applyMaskImageData)({src:h,srcPos:u,dest:d,width:r,height:n})),t.putImageData(l,0,e*c)}}function m(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,i=n.length;r<i;r++){const i=n[r];void 0!==t[i]&&(e[i]=t[i])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function y(t,e){t.strokeStyle=t.fillStyle=e||"#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function v(t,e,n,r){const i=t.length;for(let o=3;o<i;o+=4){const i=t[o];if(0===i)t[o-3]=e,t[o-2]=n,t[o-1]=r;else if(i<255){const a=255-i;t[o-3]=t[o-3]*i+e*a>>8,t[o-2]=t[o-2]*i+n*a>>8,t[o-1]=t[o-1]*i+r*a>>8}}}function b(t,e,n){const r=t.length;for(let i=3;i<r;i+=4){const r=n?n[t[i]]:t[i];e[i]=e[i]*r*.00392156862745098|0}}function _(t,e,n){const r=t.length;for(let i=3;i<r;i+=4){const r=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[r>>8]>>8:e[i]*r>>16}}function w(t,e){const n=i.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=o||n[1]<=o}const x=["butt","round","square"],S=["miter","round","bevel"],C={},E={};class P{constructor(t,e,n,r,i,o,a,s){this.ctx=t,this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new h(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=s?.background||null,this.foregroundColor=s?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const o=this.ctx.canvas.width,a=this.ctx.canvas.height,s=i||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const e=this.backgroundColor=this.ctx.fillStyle;let n=!0,i=s;if(this.ctx.fillStyle=s,i=this.ctx.fillStyle,n="string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i),"#000000"===t&&"#ffffff"===e||t===e||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,o,a]=(0,r.getRGB)(i),s=t=>(t/=255)<=.03928?t/12.92:((t+.055)/1.055)**2.4,l=Math.round(.2126*s(n)+.7152*s(o)+.0722*s(a));this.selectColor=(n,r,i)=>{const o=.2126*s(n)+.7152*s(r)+.0722*s(i);return Math.round(o)===l?e:t}}}if(this.ctx.fillStyle=this.backgroundColor||s,this.ctx.fillRect(0,0,o,a),this.ctx.restore(),n){const t=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),y(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(t,e,n,r){const o=t.argsArray,a=t.fnArray;let s=e||0;const l=o.length;if(l===s)return s;const u=l-s>10&&"function"==typeof n,c=u?Date.now()+15:0;let h=0;const d=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if(f=a[s],f!==i.OPS.dependency)this[f].apply(this,o[s]);else for(const t of o[s]){const e=t.startsWith("g_")?d:p;if(!e.has(t))return e.get(t,n),s}if(s++,s===l)return s;if(u&&++h>10){if(Date.now()>c)return n(),s;h=0}}}#Z(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Z(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(t,e){const n=t.width,r=t.height;let i,o,a=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=n,u=r,c="prescale1";for(;a>2&&l>1||s>2&&u>1;){let e=l,n=u;a>2&&l>1&&(e=Math.ceil(l/2),a/=l/e),s>2&&u>1&&(n=Math.ceil(u/2),s/=u/n),i=this.cachedCanvases.getCanvas(c,e,n),o=i.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,l,u,0,0,e,n),t=i.canvas,l=e,u=n,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:a}=t,s=this.current.fillColor,l=this.current.patternFill,u=(0,r.getCurrentTransform)(e);let c,h,p,f;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer,n=u.slice(0,4);h=JSON.stringify(l?n:[n,s]),c=this._cachedBitmapsMap.get(e),c||(c=new Map,this._cachedBitmapsMap.set(e,c));const r=c.get(h);if(r&&!l)return{canvas:r,offsetX:Math.round(Math.min(u[0],u[2])+u[4]),offsetY:Math.round(Math.min(u[1],u[3])+u[5])};p=r}p||(f=this.cachedCanvases.getCanvas("maskCanvas",n,a),g(f.context,t));let m=i.Util.transform(u,[1/n,0,0,-1/a,0,0]);m=i.Util.transform(m,[1,0,0,1,0,-a]);const y=i.Util.applyTransform([0,0],m),v=i.Util.applyTransform([n,a],m),b=i.Util.normalizeRect([y[0],y[1],v[0],v[1]]),_=Math.round(b[2]-b[0])||1,x=Math.round(b[3]-b[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,x),C=S.context,E=Math.min(y[0],v[0]),P=Math.min(y[1],v[1]);C.translate(-E,-P),C.transform(...m),p||(p=this._scaleImage(f.canvas,(0,r.getCurrentTransformInverse)(C)),p=p.img,c&&l&&c.set(h,p)),C.imageSmoothingEnabled=w((0,r.getCurrentTransform)(C),t.interpolate),d(C,p,0,0,p.width,p.height,0,0,n,a),C.globalCompositeOperation="source-in";const k=i.Util.transform((0,r.getCurrentTransformInverse)(C),[1,0,0,1,-E,-P]);return C.fillStyle=l?s.getPattern(e,this,k,o.PathType.FILL):s,C.fillRect(0,0,n,a),c&&!l&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,S.canvas)),{canvas:S.canvas,offsetX:Math.round(E),offsetY:Math.round(P)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=x[t]}setLineJoin(t){this.ctx.lineJoin=S[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let e=0,n=t.length;e<n;e++){const n=t[e],r=n[0],i=n[1];switch(r){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,o),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,i,o,a){e.transform(t,n,r,i,o,a),this.__originalTransform(t,n,r,i,o,a)},t.setTransform=function(t,n,r,i,o,a){e.setTransform(t,n,r,i,o,a),this.__originalSetTransform(t,n,r,i,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,i,o,a){e.bezierCurveTo(t,n,r,i,o,a),this.__originalBezierCurveTo(t,n,r,i,o,a)},t.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;(function(t,e,n,r){const i=r[0],o=r[1],a=r[2]-i,s=r[3]-o;0!==a&&0!==s&&(function(t,e,n,r,i,o,a,s,l,u,c){const h=!!o,d=h?o[0]:0,p=h?o[1]:0,f=h?o[2]:0;let g;g="Luminosity"===i?_:b;const m=Math.min(r,Math.ceil(1048576/n));for(let i=0;i<r;i+=m){const o=Math.min(m,r-i),y=t.getImageData(s-u,i+(l-c),n,o),b=e.getImageData(s,i+l,n,o);h&&v(y.data,d,p,f),g(y.data,b.data,a),e.putImageData(b,s,i+l)}}(e.context,n,a,s,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())})(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const o=this.ctx,a=this.current;let s,l,u=a.x,c=a.y;const h=(0,r.getCurrentTransform)(o),d=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=d?n.slice(0):null;for(let n=0,r=0,f=t.length;n<f;n++)switch(0|t[n]){case i.OPS.rectangle:u=e[r++],c=e[r++];const t=e[r++],n=e[r++],f=u+t,g=c+n;o.moveTo(u,c),0===t||0===n?o.lineTo(f,g):(o.lineTo(f,c),o.lineTo(f,g),o.lineTo(u,g)),d||a.updateRectMinMax(h,[u,c,f,g]),o.closePath();break;case i.OPS.moveTo:u=e[r++],c=e[r++],o.moveTo(u,c),d||a.updatePathMinMax(h,u,c);break;case i.OPS.lineTo:u=e[r++],c=e[r++],o.lineTo(u,c),d||a.updatePathMinMax(h,u,c);break;case i.OPS.curveTo:s=u,l=c,u=e[r+4],c=e[r+5],o.bezierCurveTo(e[r],e[r+1],e[r+2],e[r+3],u,c),a.updateCurvePathMinMax(h,s,l,e[r],e[r+1],e[r+2],e[r+3],u,c,p),r+=6;break;case i.OPS.curveTo2:s=u,l=c,o.bezierCurveTo(u,c,e[r],e[r+1],e[r+2],e[r+3]),a.updateCurvePathMinMax(h,s,l,u,c,e[r],e[r+1],e[r+2],e[r+3],p),u=e[r+2],c=e[r+3],r+=4;break;case i.OPS.curveTo3:s=u,l=c,u=e[r+2],c=e[r+3],o.bezierCurveTo(e[r],e[r+1],u,c,u,c),a.updateCurvePathMinMax(h,s,l,e[r],e[r+1],u,c,u,c,p),r+=4;break;case i.OPS.closePath:o.closePath()}d&&a.updateScalingPathMinMax(h,p),a.setCurrentPoint(u,c)}closePath(){this.ctx.closePath()}stroke(t){t=void 0===t||t;const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),o.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t){t=void 0===t||t;const e=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),o.PathType.FILL),i=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),i&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=C}eoClip(){this.pendingClip=E}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const o=n.loadedName||"sans-serif";let a="normal";n.black?a="900":n.bold&&(a="bold");const s=n.italic?"italic":"normal",l=`"${o}", ${n.fallbackName}`;let u=e;e<16?u=16:e>100&&(u=100),this.current.fontSizeScale=e/u,this.ctx.font=`${s} ${a} ${u}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,o){const a=this.ctx,s=this.current,l=s.font,u=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,h=u&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(u&i.TextRenderingMode.ADD_TO_PATH_FLAG),p=s.patternFill&&!l.missingFile;let f;(l.disableFontFace||d||p)&&(f=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p?(a.save(),a.translate(e,n),a.beginPath(),f(a,c),o&&a.setTransform(...o),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||a.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||a.fillText(t,e,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||a.strokeText(t,e,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(a),x:e,y:n,fontSize:c,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let t=3;t<e.length;t+=4)if(e[t]>0&&e[t]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(0===a)return;const s=this.ctx,l=e.fontSizeScale,u=e.charSpacing,c=e.wordSpacing,h=e.fontDirection,d=e.textHScale*h,p=t.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,y=a*e.fontMatrix[0],v=e.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let b;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),h>0?s.scale(d,-1):s.scale(d,1),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this,(0,r.getCurrentTransformInverse)(s),o.PathType.FILL);b=(0,r.getCurrentTransform)(s),s.restore(),s.fillStyle=t}let _=e.lineWidth;const w=e.textMatrixScale;if(0===w||0===_){const t=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;t!==i.TextRenderingMode.STROKE&&t!==i.TextRenderingMode.FILL_STROKE||(_=this.getSinglePixelWidth())}else _/=w;1!==l&&(s.scale(l,l),_/=l),s.lineWidth=_;let x,S=0;for(x=0;x<p;++x){const e=t[x];if("number"==typeof e){S+=g*e*a/1e3;continue}let r=!1;const i=(e.isSpace?c:0)+u,o=e.fontChar,d=e.accent;let p,_,w,C=e.width;if(f){const t=e.vmetric||m,n=-(e.vmetric?t[1]:.5*C)*y,r=t[2]*y;C=t?-t[0]:C,p=n/l,_=(S+r)/l}else p=S/l,_=0;if(n.remeasure&&C>0){const t=1e3*s.measureText(o).width/a*l;if(C<t&&this.isFontSubpixelAAEnabled){const e=C/t;r=!0,s.save(),s.scale(e,1),p/=e}else C!==t&&(p+=(C-t)/2e3*a/l)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(v&&!d)s.fillText(o,p,_);else if(this.paintChar(o,p,_,b),d){const t=p+a*d.offset.x/l,e=_-a*d.offset.y/l;this.paintChar(d.fontChar,t,e,b)}w=f?C*y-i*h:C*y+i*h,S+=w,r&&s.restore()}f?e.y-=S:e.x+=S*d,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,o=n.fontSize,a=n.fontDirection,s=r.vertical?1:-1,l=n.charSpacing,u=n.wordSpacing,c=n.textHScale*a,h=n.fontMatrix||i.FONT_IDENTITY_MATRIX,d=t.length;let p,f,g,m;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==o){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,a),p=0;p<d;++p){if(f=t[p],"number"==typeof f){m=s*f*o/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const a=(f.isSpace?u:0)+l,d=r.charProcOperatorList[f.operatorListId];d?(this.contentVisible&&(this.processingType3=f,this.save(),e.scale(o,o),e.transform(...h),this.executeOperatorList(d),this.restore()),g=i.Util.applyTransform([f.width,0],h)[0]*o+a,e.translate(g,0),n.x+=g*c):(0,i.warn)(`Type3 character "${f.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],i=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),a={createCanvasGraphics:t=>new P(t,this.commonObjs,this.objs,this.canvasFactory)};e=new o.TilingPattern(t,n,this.ctx,a,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const r=this.selectColor?.(t,e,n)||i.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(t,e,n){const r=this.selectColor?.(t,e,n)||i.Util.makeHexColor(t,e,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=(0,o.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),o.PathType.SHADING);const a=(0,r.getCurrentTransformInverse)(e);if(a){const t=e.canvas,n=t.width,r=t.height,o=i.Util.applyTransform([0,0],a),s=i.Util.applyTransform([0,r],a),l=i.Util.applyTransform([n,0],a),u=i.Util.applyTransform([n,r],a),c=Math.min(o[0],s[0],l[0],u[0]),h=Math.min(o[1],s[1],l[1],u[1]),d=Math.max(o[0],s[0],l[0],u[0]),p=Math.max(o[1],s[1],l[1],u[1]);this.ctx.fillRect(c,h,d-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform(...t),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups."),t.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(t.bbox,(0,r.getCurrentTransform)(e));const a=[0,0,e.canvas.width,e.canvas.height];o=i.Util.intersect(o,a)||[0,0,0,0];const s=Math.floor(o[0]),u=Math.floor(o[1]);let c=Math.max(Math.ceil(o[2])-s,1),h=Math.max(Math.ceil(o[3])-u,1),d=1,p=1;c>l&&(d=c/l,c=l),h>l&&(p=h/l,h=l),this.current.startNewPathAndClipBox([0,0,c,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,c,h),y=g.context;y.scale(1/d,1/p),y.translate(-s,-u),y.transform(...n),t.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:s,offsetY:u,scaleX:d,scaleY:p,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,u),e.scale(d,p),e.save()),m(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,o,a){if(this.#Z(),y(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(e)&&4===e.length){const o=e[2]-e[0],s=e[3]-e[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=o,e[3]=s;const[a,l]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:u}=this,c=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(s*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.setTransform(a,0,0,-l,0,s*l),y(this.ctx,this.foregroundColor)}else y(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],o,s),this.ctx.clip(),this.endPath()}this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(t){const{width:e,height:n}=t;if(e>u||n>u)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o,a,s,l=new Uint8Array(i*(n+1));const c=e+7&-8;let h=new Uint8Array(c*n),d=0;for(const e of t.data){let t=128;for(;t>0;)h[d++]=e&t?0:255,t>>=1}let p=0;for(d=0,0!==h[d]&&(l[0]=1,++p),a=1;a<e;a++)h[d]!==h[d+1]&&(l[a]=h[d]?2:1,++p),d++;for(0!==h[d]&&(l[a]=2,++p),o=1;o<n;o++){d=o*c,s=o*i,h[d-c]!==h[d]&&(l[s]=h[d]?1:8,++p);let t=(h[d]?4:0)+(h[d-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0),r[t]&&(l[s+a]=r[t],++p),d++;if(h[d-c]!==h[d]&&(l[s+a]=h[d]?2:4,++p),p>1e3)return null}for(d=c*(n-1),s=o*i,0!==h[d]&&(l[s]=8,++p),a=1;a<e;a++)h[d]!==h[d+1]&&(l[s+a]=h[d]?4:8,++p),d++;if(0!==h[d]&&(l[s+a]=4,++p),p>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(o=0;p&&o<=n;o++){let t=o*i;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;g.moveTo(t%i,o);const r=t;let a=l[t];do{const e=f[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),g.lineTo(t%i,t/i|0),l[t]||--p}while(r!==t);--o}return h=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(g),t.beginPath(),t.restore()}}(t)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(t),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,o=0,a,s){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const u=(0,r.getCurrentTransform)(l);l.transform(e,n,o,a,0,0);const c=this._createMaskCanvas(t);l.setTransform(1,0,0,1,0,0);for(let t=0,r=s.length;t<r;t+=2){const r=i.Util.transform(u,[e,n,o,a,s[t],s[t+1]]),[h,d]=i.Util.applyTransform([0,0],r);l.drawImage(c.canvas,h,d)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of t){const{data:t,width:s,height:l,transform:u}=a,c=this.cachedCanvases.getCanvas("maskCanvas",s,l),h=c.context;h.save(),g(h,this.getObject(t,a)),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,(0,r.getCurrentTransformInverse)(e),o.PathType.FILL):n,h.fillRect(0,0,s,l),h.restore(),e.save(),e.transform(...u),e.scale(1,-1),d(e,c.canvas,0,0,s,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o)return void(0,i.warn)("Dependent image isn't ready yet");const a=o.width,s=o.height,l=[];for(let t=0,i=r.length;t<i;t+=2)l.push({transform:[e,0,0,n,r[t],r[t+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(o,l)}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,o=this.ctx;let a;if(this.save(),o.scale(1/e,-1/n),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)a=t;else{const r=this.cachedCanvases.getCanvas("inlineImage",e,n);f(r.context,t,this.current.transferMaps),a=r.canvas}const s=this._scaleImage(a,(0,r.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=w((0,r.getCurrentTransform)(o),t.interpolate);const[l,u]=d(o,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,e,n);if(this.imageLayer){const[e,o]=i.Util.applyTransform([0,-n],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:o,width:l,height:u})}this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,o=t.width,a=t.height,s=this.cachedCanvases.getCanvas("inlineImage",o,a);f(s.context,t,this.current.transferMaps);for(const l of e){if(n.save(),n.transform(...l.transform),n.scale(1,-1),d(n,s.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){const[e,n]=i.Util.applyTransform([l.x,l.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:n,width:o,height:a})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===E?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=(0,r.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:t}=this.current,e=(0,r.getCurrentTransform)(this.ctx);let n,i;if(0===e[1]&&0===e[2]){const r=Math.abs(e[0]),o=Math.abs(e[3]);if(0===t)n=1/r,i=1/o;else{const e=r*t,a=o*t;n=e<1?1/e:1,i=a<1?1/a:1}}else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),o=Math.hypot(e[0],e[1]),a=Math.hypot(e[2],e[3]);if(0===t)n=a/r,i=o/r;else{const e=t*r;n=a>e?a/e:1,i=o>e?o/e:1}}this._cachedScaleForStroking=[n,i]}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,o]=this.getScaleForStroking();if(e.lineWidth=n||1,1===i&&1===o)return void e.stroke();let a,s,l;t&&(a=(0,r.getCurrentTransform)(e),s=e.getLineDash().slice(),l=e.lineDashOffset),e.scale(i,o);const u=Math.max(i,o);e.setLineDash(e.getLineDash().map((t=>t/u))),e.lineDashOffset/=u,e.stroke(),t&&(e.setTransform(...a),e.setLineDash(s),e.lineDashOffset=l)}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}e.CanvasGraphics=P;for(const t in i.OPS)void 0!==P.prototype[t]&&(P.prototype[i.OPS[t]]=P.prototype[t])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new u(t);case"Mesh":return new d(t);case"Dummy":return new p}throw new Error(`Unknown IR type: ${t[0]}`)};var r=n(1),i=n(8),o=n(3);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(t,e){if(!e||o.isNodeJS)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}e.PathType=a;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class u extends l{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const t of this._colorStops)e.addColorStop(t[0],t[1]);return e}getPattern(t,e,n,o){let l;if(o===a.STROKE||o===a.FILL){const a=e.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(t))||[0,0,0,0],u=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,h=e.cachedCanvases.getCanvas("pattern",u,c,!0),d=h.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=r.Util.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),s(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),l=t.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);try{l.setTransform(p)}catch(t){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${t?.message}".`)}}else s(t,this._bbox),l=this._createGradient(t);return l}}function c(t,e,n,r,i,o,a,s){const l=e.coords,u=e.colors,c=t.data,h=4*t.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=a,a=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=a,a=s,s=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=a,a=d);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(f>=v)return;const b=u[o],_=u[o+1],w=u[o+2],x=u[a],S=u[a+1],C=u[a+2],E=u[s],P=u[s+1],k=u[s+2],O=Math.round(f),A=Math.round(v);let R,T,M,I,D,j,L,F;for(let t=O;t<=A;t++){if(t<m){let e;e=t<f?0:(f-t)/(f-m),R=p-(p-g)*e,T=b-(b-x)*e,M=_-(_-S)*e,I=w-(w-C)*e}else{let e;e=t>v?1:m===v?0:(m-t)/(m-v),R=g-(g-y)*e,T=x-(x-E)*e,M=S-(S-P)*e,I=C-(C-k)*e}let e;e=t<f?0:t>v?1:(f-t)/(f-v),D=p-(p-y)*e,j=b-(b-E)*e,L=_-(_-P)*e,F=w-(w-k)*e;const n=Math.round(Math.min(R,D)),r=Math.round(Math.max(R,D));let i=h*t+4*n;for(let t=n;t<=r;t++)e=(R-t)/(R-D),e<0?e=0:e>1&&(e=1),c[i++]=T-(T-j)*e|0,c[i++]=M-(M-L)*e|0,c[i++]=I-(I-F)*e|0,c[i++]=255}}function h(t,e,n){const r=e.coords,i=e.colors;let o,a;switch(e.type){case"lattice":const s=e.verticesPerRow,l=Math.floor(r.length/s)-1,u=s-1;for(o=0;o<l;o++){let e=o*s;for(let o=0;o<u;o++,e++)c(t,n,r[e],r[e+1],r[e+s],i[e],i[e+1],i[e+s]),c(t,n,r[e+s+1],r[e+1],r[e+s],i[e+s+1],i[e+1],i[e+s])}break;case"triangles":for(o=0,a=r.length;o<a;o+=3)c(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class d extends l{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,s=Math.min(Math.ceil(Math.abs(o*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),u=o/s,c=a/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/u,scaleY:1/c},p=s+4,f=l+4,g=n.getCanvas("mesh",p,f,!1),m=g.context,y=m.createImageData(s,l);if(e){const t=y.data;for(let n=0,r=t.length;n<r;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const t of this._figures)h(y,t,d);return m.putImageData(y,2,2),{canvas:g.canvas,offsetX:r-2*u,offsetY:i-2*c,scaleX:u,scaleY:c}}getPattern(t,e,n,o){let l;if(s(t,this._bbox),o===a.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(t));else if(l=r.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*t[0],l[1]*t[1]]}const u=this._createMeshCanvas(l,o===a.SHADING?null:this._background,e.cachedCanvases);return o!==a.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class p extends l{getPattern(){return"hotpink"}}class f{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(t,e,n,r,i){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,o=this.xstep,a=this.ystep,s=this.paintType,l=this.tilingType,u=this.color,c=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const h=n[0],d=n[1],p=n[2],f=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),y=[g[0]*m[0],g[1]*m[1]],v=this.getSizeAndScale(o,this.ctx.canvas.width,y[0]),b=this.getSizeAndScale(a,this.ctx.canvas.height,y[1]),_=t.cachedCanvases.getCanvas("pattern",v.size,b.size,!0),w=_.context,x=c.createCanvasGraphics(w);x.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(x,s,u);let S=h,C=d,E=p,P=f;return h<0&&(S=0,E+=Math.abs(h)),d<0&&(C=0,P+=Math.abs(d)),w.translate(-v.scale*S,-b.scale*C),x.transform(v.scale,0,0,b.scale,0,0),w.save(),this.clipBbox(x,S,C,E,P),x.baseTransform=(0,i.getCurrentTransform)(x.ctx),x.executeOperatorList(e),x.endDrawing(),{canvas:_.canvas,scaleX:v.scale,scaleY:b.scale,offsetX:S,offsetY:C}}getSizeAndScale(t,e,n){t=Math.abs(t);const r=Math.max(f.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*n);return i>=r?i=r:n=i/t,{scale:n,size:i}}clipBbox(t,e,n,r,o){const a=r-e,s=o-n;t.ctx.rect(e,n,a,s),t.current.updateRectMinMax((0,i.getCurrentTransform)(t.ctx),[e,n,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,o=t.current;switch(e){case 1:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,o.fillColor=t.fillStyle,o.strokeColor=t.strokeStyle;break;case 2:const a=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new r.FormatError(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,i){let o=n;i!==a.SHADING&&(o=r.Util.transform(o,e.baseTransform),this.matrix&&(o=r.Util.transform(o,this.matrix)));const s=this.createPatternCanvas(e);let l=new DOMMatrix(o);l=l.translate(s.offsetX,s.offsetY),l=l.scale(1/s.scaleX,1/s.scaleY);const u=t.createPattern(s.canvas,"repeat");try{u.setTransform(l)}catch(t){(0,r.warn)(`TilingPattern.getPattern: "${t?.message}".`)}return u}}e.TilingPattern=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function({src:t,srcPos:e=0,dest:n,destPos:i=0,width:o,height:a,inverseDecode:s=!1}){const l=r.FeatureTest.isLittleEndian?4278190080:255,[u,c]=s?[0,l]:[l,0],h=o>>3,d=7&o,p=t.length;n=new Uint32Array(n.buffer);for(let r=0;r<a;r++){for(const r=e+h;e<r;e++){const r=e<p?t[e]:255;n[i++]=128&r?c:u,n[i++]=64&r?c:u,n[i++]=32&r?c:u,n[i++]=16&r?c:u,n[i++]=8&r?c:u,n[i++]=4&r?c:u,n[i++]=2&r?c:u,n[i++]=1&r?c:u}if(0===d)continue;const r=e<p?t[e++]:255;for(let t=0;t<d;t++)n[i++]=r&1<<7-t?c:u}return{srcPos:e,destPos:i}};var r=n(1)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=n(1);function i(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new r.AbortException(t.message);case"MissingPDFException":return new r.MissingPDFException(t.message);case"PasswordException":return new r.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new r.UnknownErrorException(t.message,t.details);default:return new r.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],1===e.callback)n.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");n.reject(i(e.reason))}return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,o=e.sourceName;new Promise((function(t){t(r(e.data))})).then((function(r){n.postMessage({sourceName:t,targetName:o,callback:1,callbackId:e.callbackId,data:r})}),(function(r){n.postMessage({sourceName:t,targetName:o,callback:2,callbackId:e.callbackId,reason:i(r)})}))}else e.streamId?this._createStreamSink(e):r(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,o=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(t){o.reject(t)}return o.promise}sendWithStream(t,e,n,o){const a=this.streamId++,s=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:n=>{const i=(0,r.createPromiseCapability)();return this.streamControllers[a]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:s,targetName:l,action:t,streamId:a,data:e,desiredSize:n.desiredSize},o),i.promise},pull:t=>{const e=(0,r.createPromiseCapability)();return this.streamControllers[a].pullCall=e,u.postMessage({sourceName:s,targetName:l,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,r.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,r.createPromiseCapability)();return this.streamControllers[a].cancelCall=e,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:s,targetName:l,stream:1,streamId:a,reason:i(t)}),e.promise}},n)}_createStreamSink(t){const e=t.streamId,n=this.sourceName,o=t.sourceName,a=this.comObj,s=this,l=this.actionHandler[t.action],u={enqueue(t,i=1,s){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:o,stream:4,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:o,stream:3,streamId:e}),delete s.streamSinks[e])},error(t){(0,r.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:o,stream:5,streamId:e,reason:i(t)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,new Promise((function(e){e(l(t.data,u))})).then((function(){a.postMessage({sourceName:n,targetName:o,stream:8,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:o,stream:8,streamId:e,reason:i(t)})}))}_processStreamMessage(t){const e=t.streamId,n=this.sourceName,o=t.sourceName,a=this.comObj,s=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case 8:t.success?s.startCall.resolve():s.startCall.reject(i(t.reason));break;case 7:t.success?s.pullCall.resolve():s.pullCall.reject(i(t.reason));break;case 6:if(!l){a.postMessage({sourceName:n,targetName:o,stream:7,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,new Promise((function(t){t(l.onPull&&l.onPull())})).then((function(){a.postMessage({sourceName:n,targetName:o,stream:7,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:o,stream:7,streamId:e,reason:i(t)})}));break;case 4:if((0,r.assert)(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case 3:if((0,r.assert)(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this._deleteStreamController(s,e);break;case 5:(0,r.assert)(s,"error should have stream controller"),s.controller.error(i(t.reason)),this._deleteStreamController(s,e);break;case 2:t.success?s.cancelCall.resolve():s.cancelCall.reject(i(t.reason)),this._deleteStreamController(s,e);break;case 1:if(!l)break;new Promise((function(e){e(l.onCancel&&l.onCancel(i(t.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:o,stream:2,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:o,stream:2,streamId:e,reason:i(t)})})),l.sinkCapability.reject(i(t.reason)),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(1);e.Metadata=class{#Q;#J;constructor({parsedData:t,rawData:e}){this.#Q=t,this.#J=e}getRaw(){return this.#J}get(t){return this.#Q.get(t)??null}getAll(){return(0,r.objectFromMap)(this.#Q)}has(t){return this.#Q.has(t)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(1);const i=Symbol("INTERNAL");class o{#tt=!0;constructor(t,e){this.name=t,this.intent=e}get visible(){return this.#tt}_setVisible(t,e){t!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#tt=e}}e.OptionalContentConfig=class{#et=!0;#nt=new Map;#rt=null;#it=null;constructor(t){if(this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#it=t.order;for(const e of t.groups)this.#nt.set(e.id,new o(e.name,e.intent));if("OFF"===t.baseState)for(const t of this.#nt.values())t._setVisible(i,!1);for(const e of t.on)this.#nt.get(e)._setVisible(i,!0);for(const e of t.off)this.#nt.get(e)._setVisible(i,!1);this.#rt=new Map;for(const[t,e]of this.#nt)this.#rt.set(t,e.visible)}}#ot(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let o;if(Array.isArray(e))o=this.#ot(e);else{if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;o=this.#nt.get(e).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}isVisible(t){if(0===this.#nt.size)return!0;if(!t)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this.#nt.has(t.id)?this.#nt.get(t.id).visible:((0,r.warn)(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#ot(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#nt.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#nt.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#nt.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#nt.get(e).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${t.policy}.`),!0}return(0,r.warn)(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){this.#nt.has(t)?(this.#nt.get(t)._setVisible(i,!!e),this.#et=null):(0,r.warn)(`Optional content group not found: ${t}`)}get hasInitialVisibility(){if(null!==this.#et)return this.#et;for(const[t,e]of this.#nt){const n=this.#rt.get(t);if(e.visible!==n)return this.#et=!1}return this.#et=!0}getOrder(){return this.#nt.size?this.#it?this.#it.slice():[...this.#nt.keys()]:null}getGroups(){return this.#nt.size>0?(0,r.objectFromMap)(this.#nt):null}getGroup(t){return this.#nt.get(t)||null}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=n(1),i=n(8);e.PDFDataTransportStream=class{constructor(t,e){(0,r.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const n=t.initialData;if(n?.length>0){const t=new Uint8Array(n).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];e?.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;e?.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new o(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new a(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}};class o{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};return function t(r){if(!r)return;let i=null;const o=r.name;if("#text"===o)i=r.value;else{if(!n.shouldBuildText(o))return;r?.attributes?.textContent?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&e.push({str:i}),r.children)for(const e of r.children)t(e)}(t),r}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=n(9);const i=function(t){return new Promise(((e,n)=>{__webpack_require__(172).readFile(t,((t,r)=>{!t&&r?e(new Uint8Array(r)):n(new Error(t))}))}))};class o extends r.BaseCanvasFactory{_createCanvas(t,e){return __webpack_require__(3414).createCanvas(t,e)}}e.NodeCanvasFactory=o;class a extends r.BaseCMapReaderFactory{_fetchData(t,e){return i(t).then((t=>({cMapData:t,compressionType:e})))}}e.NodeCMapReaderFactory=a;class s extends r.BaseStandardFontDataFactory{_fetchData(t){return i(t)}}e.NodeStandardFontDataFactory=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var r=n(7),i=n(1),o=n(23),a=n(24);class s{#at;#st=!1;#lt=this.pointerup.bind(this);#ut=this.pointerdown.bind(this);#ct=new Map;#ht=!1;#dt=!1;#pt;static _initialized=!1;constructor(t){s._initialized||(s._initialized=!0,o.FreeTextEditor.initialize(t.l10n),a.InkEditor.initialize(t.l10n),t.uiManager.registerEditorTypes([o.FreeTextEditor,a.InkEditor])),this.#pt=t.uiManager,this.annotationStorage=t.annotationStorage,this.pageIndex=t.pageIndex,this.div=t.div,this.#at=t.accessibilityManager,this.#pt.addLayer(this)}updateToolbar(t){this.#pt.updateToolbar(t)}updateMode(t=this.#pt.getMode()){this.#ft(),t===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#pt.unselectAll()}addInkEditorIfNeeded(t){if(t||this.#pt.getMode()===i.AnnotationEditorType.INK){if(!t)for(const t of this.#ct.values())if(t.isEmpty())return void t.setInBackground();this.#gt({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(t){this.#pt.setEditingState(t)}addCommands(t){this.#pt.addCommands(t)}enable(){this.div.style.pointerEvents="auto";for(const t of this.#ct.values())t.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const t of this.#ct.values())t.disableEditing()}setActiveEditor(t){this.#pt.getActive()!==t&&this.#pt.setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",this.#ut),this.div.addEventListener("pointerup",this.#lt)}disableClick(){this.div.removeEventListener("pointerdown",this.#ut),this.div.removeEventListener("pointerup",this.#lt)}attach(t){this.#ct.set(t.id,t)}detach(t){this.#ct.delete(t.id),this.#at?.removePointerInTextLayer(t.contentDiv)}remove(t){this.#pt.removeEditor(t),this.detach(t),this.annotationStorage.remove(t.id),t.div.style.display="none",setTimeout((()=>{t.div.style.display="",t.div.remove(),t.isAttachedToDOM=!1,document.activeElement===document.body&&this.#pt.focusMainContainer()}),0),this.#dt||this.addInkEditorIfNeeded(!1)}#mt(t){t.parent!==this&&(this.attach(t),t.pageIndex=this.pageIndex,t.parent?.detach(t),t.parent=this,t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(this.#mt(t),this.#pt.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}this.moveEditorInDOM(t),t.onceAdded(),this.addToAnnotationStorage(t)}moveEditorInDOM(t){this.#at?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addToAnnotationStorage(t){t.isEmpty()||this.annotationStorage.has(t.id)||this.annotationStorage.setValue(t.id,t)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addANewEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!0})}addUndoableEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#pt.getId()}#yt(t){switch(this.#pt.getMode()){case i.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(t);case i.AnnotationEditorType.INK:return new a.InkEditor(t)}return null}deserialize(t){switch(t.annotationType){case i.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(t,this);case i.AnnotationEditorType.INK:return a.InkEditor.deserialize(t,this)}return null}#gt(t){const e=this.getNextId(),n=this.#yt({parent:this,id:e,x:t.offsetX,y:t.offsetY});return n&&this.add(n),n}setSelected(t){this.#pt.setSelected(t)}toggleSelected(t){this.#pt.toggleSelected(t)}isSelected(t){return this.#pt.isSelected(t)}unselect(t){this.#pt.unselect(t)}pointerup(t){const e=r.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&this.#ht&&(this.#ht=!1,this.#st?this.#gt(t):this.#st=!0)}pointerdown(t){const e=r.KeyboardManager.platform.isMac;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;this.#ht=!0;const n=this.#pt.getActive();this.#st=!n||n.isEmpty()}drop(t){const e=t.dataTransfer.getData("text/plain"),n=this.#pt.getEditor(e);if(!n)return;t.preventDefault(),t.dataTransfer.dropEffect="move",this.#mt(n);const r=this.div.getBoundingClientRect(),i=t.clientX-r.x,o=t.clientY-r.y;n.translate(i-n.startX,o-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(t){t.preventDefault()}destroy(){this.#pt.getActive()?.parent===this&&this.#pt.setActiveEditor(null);for(const t of this.#ct.values())this.#at?.removePointerInTextLayer(t.contentDiv),t.isAttachedToDOM=!1,t.div.remove(),t.parent=null;this.div=null,this.#ct.clear(),this.#pt.removeLayer(this)}#ft(){this.#dt=!0;for(const t of this.#ct.values())t.isEmpty()&&t.remove();this.#dt=!1}render(t){this.viewport=t.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const t of this.#pt.getEditors(this.pageIndex))this.add(t);this.updateMode()}update(t){this.viewport=t.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[t,e,n,r]=this.viewport.viewBox;return[n-t,r-e]}get viewportBaseDimensions(){const{width:t,height:e,rotation:n}=this.viewport;return n%180==0?[t,e]:[e,t]}setDimensions(){const{width:t,height:e,rotation:n}=this.viewport,r=n%180!=0,i=Math.floor(t)+"px",o=Math.floor(e)+"px";this.div.style.width=r?o:i,this.div.style.height=r?i:o,this.div.setAttribute("data-main-rotation",n)}}e.AnnotationEditorLayer=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=n(1),i=n(7),o=n(6);class a extends o.AnnotationEditor{#vt=this.editorDivBlur.bind(this);#bt=this.editorDivFocus.bind(this);#_t=this.editorDivKeydown.bind(this);#wt;#xt="";#St=!1;#Ct;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.prototype.commitOrRemove]]);static _type="freetext";constructor(t){super({...t,name:"freeTextEditor"}),this.#wt=t.color||a._defaultColor||o.AnnotationEditor._defaultLineColor,this.#Ct=t.fontSize||a._defaultFontSize}static initialize(t){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((e=>[e,t.get(e)])));const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:a._defaultFontSize=e;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:a._defaultColor=e}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Et(e);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Pt(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,a._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,a._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Ct],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#wt]]}#Et(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#Ct)*this.parent.scaleFactor),this.#Ct=t,this.#kt()},n=this.#Ct;this.parent.addCommands({cmd:()=>{e(t)},undo:()=>{e(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Pt(t){const e=this.#wt;this.parent.addCommands({cmd:()=>{this.#wt=t,this.editorDiv.style.color=t},undo:()=>{this.#wt=e,this.editorDiv.style.color=e},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-a._internalPadding*this.parent.scaleFactor,-(a._internalPadding+this.#Ct)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#_t),this.editorDiv.addEventListener("focus",this.#bt),this.editorDiv.addEventListener("blur",this.#vt))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#_t),this.editorDiv.removeEventListener("focus",this.#bt),this.editorDiv.removeEventListener("blur",this.#vt),this.div.focus(),this.isEditing=!1)}focusin(t){super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#Ot(){const t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n].firstChild;"#text"===r?.nodeName?e.push(r.data):e.push("")}return e.join("\n")}#kt(){const[t,e]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/t,this.height=n.height/e}commit(){super.commit(),this.#St||(this.#St=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#xt=this.#Ot().trimEnd(),this.#kt()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(t){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(t){a._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),a._l10nPromise.get("editor_free_text_aria_label").then((t=>this.editorDiv?.setAttribute("aria-label",t))),a._l10nPromise.get("free_text_default_content").then((t=>this.editorDiv?.setAttribute("default-content",t))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Ct}px * var(--scale-factor))`,n.color=this.#wt,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r);for(const t of this.#xt.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(t,e){const n=super.deserialize(t,e);return n.#Ct=t.fontSize,n.#wt=r.Util.makeHexColor(...t.color),n.#xt=t.value,n}serialize(){if(this.isEmpty())return null;const t=a._internalPadding*this.parent.scaleFactor,e=this.getRect(t,t),n=o.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#Ct,value:this.#xt,pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}e.FreeTextEditor=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return o.fitCurve}});var r=n(1),i=n(6),o=n(25),a=n(7);const s=16;class l extends i.AnnotationEditor{#At=0;#Rt=0;#Tt=0;#Mt=this.canvasPointermove.bind(this);#It=this.canvasPointerleave.bind(this);#Dt=this.canvasPointerup.bind(this);#jt=this.canvasPointerdown.bind(this);#Lt=!1;#Ft=!1;#Nt=null;#zt=null;#Ut=0;#Bt=0;#Vt=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(t){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((e=>[e,t.get(e)])))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=e;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=e;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=e/100}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#Wt(e);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Pt(e);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#Ht(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#Wt(t){const e=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=t,this.#Gt()},undo:()=>{this.thickness=e,this.#Gt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Pt(t){const e=this.color;this.parent.addCommands({cmd:()=>{this.color=t,this.#qt()},undo:()=>{this.color=e,this.#qt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Ht(t){t/=100;const e=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=t,this.#qt()},undo:()=>{this.opacity=e,this.#qt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#$t(),this.#Xt()),this.isAttachedToDOM||(this.parent.add(this),this.#Yt()),this.#Gt())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#zt.disconnect(),this.#zt=null,super.remove())}enableEditMode(){this.#Lt||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#jt),this.canvas.addEventListener("pointerup",this.#Dt))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#jt),this.canvas.removeEventListener("pointerup",this.#Dt))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Kt(){const{width:t,height:e,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,t,t,e];case 180:return[t,e,t,e];case 270:return[e,0,t,e];default:return[0,0,t,e]}}#Zt(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,a.opacityToHex)(this.opacity)}`}#Qt(t,e){this.isEditing=!0,this.#Ft||(this.#Ft=!0,this.#Yt(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([t,e]),this.#Nt=null,this.#Zt(),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.#Vt=()=>{this.#Vt&&(this.#Nt&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#qt(),this.ctx.lineTo(...this.#Nt),this.#Nt=null,this.ctx.stroke()),window.requestAnimationFrame(this.#Vt))},window.requestAnimationFrame(this.#Vt)}#Jt(t,e){const[n,r]=this.currentPath.at(-1);t===n&&e===r||(this.currentPath.push([t,e]),this.#Nt=[t,e])}#te(t,e){this.ctx.closePath(),this.#Vt=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(t===n&&e===r||this.currentPath.push([t,e]),1!==this.currentPath.length)i=(0,o.fitCurve)(this.currentPath,30,null);else{const n=[t,e];i=[[n,n.slice(),n.slice(),n]]}const a=l.#ee(i);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(a),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#$t(),this.#Xt()),this.#Gt())},mustExec:!0})}#qt(){if(this.isEmpty())return void this.#ne();this.#Zt();const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#ne();for(const t of this.bezierPath2D)e.stroke(t)}commit(){this.#Lt||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Lt=!0,this.div.classList.add("disabled"),this.#Gt(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(t){super.focusin(t),this.enableEditMode()}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!this.#Lt&&(this.setInForeground(),"mouse"!==t.type&&this.div.focus(),t.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#It),this.canvas.addEventListener("pointermove",this.#Mt),this.#Qt(t.offsetX,t.offsetY))}canvasPointermove(t){t.stopPropagation(),this.#Jt(t.offsetX,t.offsetY)}canvasPointerup(t){0===t.button&&this.isInEditMode()&&0!==this.currentPath.length&&(t.stopPropagation(),this.#re(t),this.setInBackground())}canvasPointerleave(t){this.#re(t),this.setInBackground()}#re(t){this.#te(t.offsetX,t.offsetY),this.canvas.removeEventListener("pointerleave",this.#It),this.canvas.removeEventListener("pointermove",this.#Mt),this.parent.addToAnnotationStorage(this)}#$t(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",l._l10nPromise.get("editor_ink_canvas_aria_label").then((t=>this.canvas?.setAttribute("aria-label",t))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Xt(){this.#zt=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),this.#zt.observe(this.div)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),l._l10nPromise.get("editor_ink_aria_label").then((t=>this.div?.setAttribute("aria-label",t)));const[n,r,i,o]=this.#Kt();if(this.setAt(n,r,0,0),this.setDims(i,o),this.#$t(),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this.#Ft=!0,this.#Yt(),this.setDims(this.width*n,this.height*r),this.#qt(),this.#ie(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Xt(),this.div}#Yt(){if(!this.#Ft)return;const[t,e]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#ne()}setDimensions(t,e){const n=Math.round(t),r=Math.round(e);if(this.#Ut===n&&this.#Bt===r)return;this.#Ut=n,this.#Bt=r,this.canvas.style.visibility="hidden",this.#At&&Math.abs(this.#At-t/e)>.01&&(e=Math.ceil(t/this.#At),this.setDims(t,e));const[i,o]=this.parent.viewportBaseDimensions;this.width=t/i,this.height=e/o,this.#Lt&&this.#oe(t,e),this.#Yt(),this.#qt(),this.canvas.style.visibility="visible"}#oe(t,e){const n=this.#ae(),r=(t-n)/this.#Tt,i=(e-n)/this.#Rt;this.scaleFactor=Math.min(r,i)}#ne(){const t=this.#ae()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#ee(t){const e=new Path2D;for(let n=0,r=t.length;n<r;n++){const[r,i,o,a]=t[n];0===n&&e.moveTo(...r),e.bezierCurveTo(i[0],i[1],o[0],o[1],a[0],a[1])}return e}#se(t,e,n,r){const i=[],o=this.thickness/2;let a,s;for(const l of this.paths){a=[],s=[];for(let i=0,u=l.length;i<u;i++){const[u,c,h,d]=l[i],p=t*(u[0]+e)+o,f=r-t*(u[1]+n)-o,g=t*(c[0]+e)+o,m=r-t*(c[1]+n)-o,y=t*(h[0]+e)+o,v=r-t*(h[1]+n)-o,b=t*(d[0]+e)+o,_=r-t*(d[1]+n)-o;0===i&&(a.push(p,f),s.push(p,f)),a.push(g,m,y,v,b,_),this.#le(p,f,g,m,y,v,b,_,4,s)}i.push({bezier:a,points:s})}return i}#le(t,e,n,r,i,o,a,s,l,u){if(this.#ue(t,e,n,r,i,o,a,s))u.push(a,s);else{for(let c=1;c<l-1;c++){const h=c/l,d=1-h;let p=h*t+d*n,f=h*e+d*r,g=h*n+d*i,m=h*r+d*o;p=h*p+d*g,f=h*f+d*m,g=h*g+d*(h*i+d*a),m=h*m+d*(h*o+d*s),p=h*p+d*g,f=h*f+d*m,u.push(p,f)}u.push(a,s)}}#ue(t,e,n,r,i,o,a,s){const l=(3*n-2*t-a)**2,u=(3*r-2*e-s)**2,c=(3*i-t-2*a)**2,h=(3*o-e-2*s)**2;return Math.max(l,c)+Math.max(u,h)<=10}#ce(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const o of this.paths)for(const[a,s,l,u]of o){const o=r.Util.bezierBoundingBox(...a,...s,...l,...u);t=Math.min(t,o[0]),n=Math.min(n,o[1]),e=Math.max(e,o[2]),i=Math.max(i,o[3])}return[t,n,e,i]}#ae(){return this.#Lt?Math.ceil(this.thickness*this.parent.scaleFactor):0}#Gt(t=!1){if(this.isEmpty())return;if(!this.#Lt)return void this.#qt();const e=this.#ce(),n=this.#ae();this.#Tt=Math.max(s,e[2]-e[0]),this.#Rt=Math.max(s,e[3]-e[1]);const r=Math.ceil(n+this.#Tt*this.scaleFactor),i=Math.ceil(n+this.#Rt*this.scaleFactor),[o,a]=this.parent.viewportBaseDimensions;this.width=r/o,this.height=i/a,this.#At=r/i,this.#ie();const l=this.translationX,u=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#Yt(),this.#qt(),this.#Ut=r,this.#Bt=i,this.setDims(r,i);const c=t?n/this.scaleFactor/2:0;this.translate(l-this.translationX-c,u-this.translationY-c)}#ie(){const{style:t}=this.div;this.#At>=1?(t.minHeight="16px",t.minWidth=`${Math.round(this.#At*s)}px`):(t.minWidth="16px",t.minHeight=`${Math.round(s/this.#At)}px`)}static deserialize(t,e){const n=super.deserialize(t,e);n.thickness=t.thickness,n.color=r.Util.makeHexColor(...t.color),n.opacity=t.opacity;const[i,o]=e.pageDimensions,a=n.width*i,l=n.height*o,u=e.scaleFactor,c=t.thickness/2;n.#At=a/l,n.#Lt=!0,n.#Ut=Math.round(a),n.#Bt=Math.round(l);for(const{bezier:e}of t.paths){const t=[];n.paths.push(t);let r=u*(e[0]-c),i=u*(l-e[1]-c);for(let n=2,o=e.length;n<o;n+=6){const o=u*(e[n]-c),a=u*(l-e[n+1]-c),s=u*(e[n+2]-c),h=u*(l-e[n+3]-c),d=u*(e[n+4]-c),p=u*(l-e[n+5]-c);t.push([[r,i],[o,a],[s,h],[d,p]]),r=d,i=p}const o=this.#ee(t);n.bezierPath2D.push(o)}const h=n.#ce();return n.#Tt=Math.max(s,h[2]-h[0]),n.#Rt=Math.max(s,h[3]-h[1]),n.#oe(a,l),n}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=this.rotation%180==0?t[3]-t[1]:t[2]-t[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#se(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,e),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}e.InkEditor=l},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const r=n(26);e.fitCurve=r},t=>{function e(t,i,o,a,s){var u,c,h,d,p,f,g,m,y,v,b,_,w;if(2===t.length)return _=l.vectorLen(l.subtract(t[0],t[1]))/3,[u=[t[0],l.addArrays(t[0],l.mulItems(i,_)),l.addArrays(t[1],l.mulItems(o,_)),t[1]]];if(c=function(t){var e,n,r,i=[];return t.forEach(((t,o)=>{e=o?n+l.vectorLen(l.subtract(t,r)):0,i.push(e),n=e,r=t})),i=i.map((t=>t/n))}(t),[u,d,f]=n(t,c,c,i,o,s),0===d||d<a)return[u];if(d<a*a)for(h=c,p=d,g=f,w=0;w<20;w++){if(h=r(u,t,h),[u,d,f]=n(t,c,h,i,o,s),d<a)return[u];if(f===g){let t=d/p;if(t>.9999&&t<1.0001)break}p=d,g=f}return b=[],(m=l.subtract(t[f-1],t[f+1])).every((t=>0===t))&&(m=l.subtract(t[f-1],t[f]),[m[0],m[1]]=[-m[1],m[0]]),y=l.normalize(m),v=l.mulItems(y,-1),(b=b.concat(e(t.slice(0,f+1),i,y,a,s))).concat(e(t.slice(f),v,o,a,s))}function n(t,e,n,r,i,s){var c,h,d;return c=function(t,e,n,r){var i,o,a,s,c,h,d,p,f,g,m,y,v,b,_,w,x,S=t[0],C=t[t.length-1];for(i=[S,null,null,C],o=l.zeros_Xx2x2(e.length),v=0,b=e.length;v<b;v++)x=1-(w=e[v]),(a=o[v])[0]=l.mulItems(n,3*w*(x*x)),a[1]=l.mulItems(r,3*x*(w*w));for(s=[[0,0],[0,0]],c=[0,0],v=0,b=t.length;v<b;v++)w=e[v],a=o[v],s[0][0]+=l.dot(a[0],a[0]),s[0][1]+=l.dot(a[0],a[1]),s[1][0]+=l.dot(a[0],a[1]),s[1][1]+=l.dot(a[1],a[1]),_=l.subtract(t[v],u.q([S,S,C,C],w)),c[0]+=l.dot(a[0],_),c[1]+=l.dot(a[1],_);return h=s[0][0]*s[1][1]-s[1][0]*s[0][1],d=s[0][0]*c[1]-s[1][0]*c[0],p=c[0]*s[1][1]-c[1]*s[0][1],g=0===h?0:d/h,(f=0===h?0:p/h)<(m=1e-6*(y=l.vectorLen(l.subtract(S,C))))||g<m?(i[1]=l.addArrays(S,l.mulItems(n,y/3)),i[2]=l.addArrays(C,l.mulItems(r,y/3))):(i[1]=l.addArrays(S,l.mulItems(n,f)),i[2]=l.addArrays(C,l.mulItems(r,g))),i}(t,n,r,i),[h,d]=function(t,e,n){var r,i,s,c,h,d,p,f;i=0,s=Math.floor(t.length/2);const g=o(e,10);for(h=0,d=t.length;h<d;h++)p=t[h],f=a(0,n[h],g,10),(r=(c=l.subtract(u.q(e,f),p))[0]*c[0]+c[1]*c[1])>i&&(i=r,s=h);return[i,s]}(t,c,e),s&&s({bez:c,points:t,params:e,maxErr:h,maxPoint:d}),[c,h,d]}function r(t,e,n){return n.map(((n,r)=>i(t,e[r],n)))}function i(t,e,n){var r=l.subtract(u.q(t,n),e),i=u.qprime(t,n),o=l.mulMatrix(r,i),a=l.sum(l.squareItems(i))+2*l.mulMatrix(r,u.qprimeprime(t,n));return 0===a?n:n-o/a}var o=function(t,e){for(var n,r=[0],i=t[0],o=0,a=1;a<=e;a++)n=u.q(t,a/e),o+=l.vectorLen(l.subtract(n,i)),r.push(o),i=n;return r.map((t=>t/o))};function a(t,e,n,r){if(e<0)return 0;if(e>1)return 1;for(var i,o,a,s,l=1;l<=r;l++)if(e<=n[l]){a=(l-1)/r,o=l/r,s=(e-(i=n[l-1]))/(n[l]-i)*(o-a)+a;break}return s}function s(t,e){return l.normalize(l.subtract(t,e))}class l{static zeros_Xx2x2(t){for(var e=[];t--;)e.push([0,0]);return e}static mulItems(t,e){return t.map((t=>t*e))}static mulMatrix(t,e){return t.reduce(((t,n,r)=>t+n*e[r]),0)}static subtract(t,e){return t.map(((t,n)=>t-e[n]))}static addArrays(t,e){return t.map(((t,n)=>t+e[n]))}static addItems(t,e){return t.map((t=>t+e))}static sum(t){return t.reduce(((t,e)=>t+e))}static dot(t,e){return l.mulMatrix(t,e)}static vectorLen(t){return Math.hypot(...t)}static divItems(t,e){return t.map((t=>t/e))}static squareItems(t){return t.map((t=>t*t))}static normalize(t){return this.divItems(t,this.vectorLen(t))}}class u{static q(t,e){var n=1-e,r=l.mulItems(t[0],n*n*n),i=l.mulItems(t[1],3*n*n*e),o=l.mulItems(t[2],3*n*e*e),a=l.mulItems(t[3],e*e*e);return l.addArrays(l.addArrays(r,i),l.addArrays(o,a))}static qprime(t,e){var n=1-e,r=l.mulItems(l.subtract(t[1],t[0]),3*n*n),i=l.mulItems(l.subtract(t[2],t[1]),6*n*e),o=l.mulItems(l.subtract(t[3],t[2]),3*e*e);return l.addArrays(l.addArrays(r,i),o)}static qprimeprime(t,e){return l.addArrays(l.mulItems(l.addArrays(l.subtract(t[2],l.mulItems(t[1],2)),t[0]),6*(1-e)),l.mulItems(l.addArrays(l.subtract(t[3],l.mulItems(t[2],2)),t[1]),6*e))}}t.exports=function(t,n,r){if(!Array.isArray(t))throw new TypeError("First argument should be an array");if(t.forEach((e=>{if(!Array.isArray(e)||e.some((t=>"number"!=typeof t))||e.length!==t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(t=t.filter(((e,n)=>0===n||!e.every(((e,r)=>e===t[n-1][r]))))).length<2)return[];const i=t.length,o=s(t[1],t[0]),a=s(t[i-2],t[i-1]);return e(t,o,a,n,r)},t.exports.fitCubic=e,t.exports.createTangent=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var r=n(1),i=n(8),o=n(5),a=n(28),s=n(29);const l=1e3,u=new WeakSet;function c(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class h{static create(t){switch(t.data.annotationType){case r.AnnotationType.LINK:return new p(t);case r.AnnotationType.TEXT:return new f(t);case r.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new m(t);case"Btn":return t.data.radioButton?new v(t):t.data.checkBox?new y(t):new b(t);case"Ch":return new _(t)}return new g(t);case r.AnnotationType.POPUP:return new w(t);case r.AnnotationType.FREETEXT:return new S(t);case r.AnnotationType.LINE:return new C(t);case r.AnnotationType.SQUARE:return new E(t);case r.AnnotationType.CIRCLE:return new P(t);case r.AnnotationType.POLYLINE:return new k(t);case r.AnnotationType.CARET:return new A(t);case r.AnnotationType.INK:return new R(t);case r.AnnotationType.POLYGON:return new O(t);case r.AnnotationType.HIGHLIGHT:return new T(t);case r.AnnotationType.UNDERLINE:return new M(t);case r.AnnotationType.SQUIGGLY:return new I(t);case r.AnnotationType.STRIKEOUT:return new D(t);case r.AnnotationType.STAMP:return new j(t);case r.AnnotationType.FILEATTACHMENT:return new L(t);default:return new d(t)}}}class d{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,e&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(t=!1){const e=this.data,n=this.page,i=this.viewport,o=document.createElement("section"),{width:a,height:s}=c(e.rect),[l,u,h,d]=i.viewBox,p=h-l,f=d-u;o.setAttribute("data-annotation-id",e.id);const g=r.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(!t&&e.borderStyle.width>0){o.style.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;o.style.borderRadius=e}else if(this instanceof v){const t=`calc(${a}px * var(--scale-factor)) / calc(${s}px * var(--scale-factor))`;o.style.borderRadius=t}switch(e.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}const i=e.borderColor||null;i?o.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):o.style.borderWidth=0}o.style.left=100*(g[0]-l)/p+"%",o.style.top=100*(g[1]-u)/f+"%";const{rotation:m}=e;return e.hasOwnCanvas||0===m?(o.style.width=100*a/p+"%",o.style.height=100*s/f+"%"):this.setRotation(m,o),o}setRotation(t,e=this.container){const[n,r,i,o]=this.viewport.viewBox,a=i-n,s=o-r,{width:l,height:u}=c(this.data.rect);let h,d;t%180==0?(h=100*l/a,d=100*u/s):(h=100*u/a,d=100*l/s),e.style.width=`${h}%`,e.style.height=`${d}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const r=n.detail[t];n.target.style[e]=a.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:t=>{const e=t.detail.display%2==1;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{this.container.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const i=t[r]||n[r];i&&i(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,i]of Object.entries(e)){const o=n[r];o&&(o({detail:{[r]:i},target:t}),delete e[r])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const e=[],n=this.data.rect;for(const n of this.data.quadPoints)this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],e.push(this._createContainer(t));return this.data.rect=n,e}_createPopup(t,e){let n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).className="popupTriggerArea",n.append(t));const r=new x({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(t){for(const e of this.quadrilaterals)e.className=t;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:o,exportValues:a}of i){if(-1===t)continue;if(o===e)continue;const i="string"==typeof a?a:null,s=document.querySelector(`[data-element-id="${o}"]`);!s||u.has(s)?n.push({id:o,exportValue:i,domElement:s}):(0,r.warn)(`_getElementsByName - element not allowed: ${o}`)}return n}for(const r of document.getElementsByName(t)){const{id:t,exportValue:i}=r;t!==e&&u.has(r)&&n.push({id:t,exportValue:i,domElement:r})}return n}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class p extends d{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((t,e)=>{const r=0===e?n:n.cloneNode();return t.append(r),t})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const i=n.get(r);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n&&n();const{fields:t,refs:i,include:o}=e,a=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===o&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const s=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;s.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(u.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class f extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class g extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:e,isMac:n}=d.platform;return e&&t.ctrlKey||n&&t.metaKey}_setEventListener(t,e,n,r){e.includes("mouse")?t.addEventListener(e,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(e,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(t)}})}))}_setEventListeners(t,e,n){for(const[r,i]of e)("Action"===i||this.data.actions?.[i])&&this._setEventListener(t,r,i,n)}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":r.Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const{fontColor:e}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=t.style;let o;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]),e=t/(Math.round(t/(r.LINE_FACTOR*n))||1);o=Math.min(n,Math.round(e/r.LINE_FACTOR))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]);o=Math.min(n,Math.round(t/r.LINE_FACTOR))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=r.Util.makeHexColor(e[0],e[1],e[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class m extends g{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,r){const i=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),i.setValue(o.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let i=r.formattedValue||r.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));const a={userValue:i,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",i),this.data.doNotScroll&&(n.style.overflowX="hidden")),u.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{t.setValue(e,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";n.value=a.userValue=e,a.formattedValue=null}));let s=t=>{const{formattedValue:e}=a;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(t=>{a.userValue&&(t.target.value=a.userValue),a.valueOnFocus=t.target.value})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){a.userValue=n.detail.value??"",t.setValue(e,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:r}=n.detail;a.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),t.setValue(e,{formattedValue:r})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let o=a.userValue;!o||o.length<=r||(o=o.slice(0,r),i.value=a.userValue=o,t.setValue(e,{value:o}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(t=>{let n=-1;if("Escape"===t.key?n=0:"Enter"===t.key?n=2:"Tab"===t.key&&(n=3),-1===n)return;const{value:r}=t.target;a.valueOnFocus!==r&&(a.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const r=s;s=null,n.addEventListener("blur",(t=>{const{value:n}=t.target;a.userValue=n,this._mouseState.isDown&&a.valueOnFocus!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),r(t)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(t=>{const{data:n,target:r}=t,{value:i,selectionStart:o,selectionEnd:a}=r;let s=o,l=a;switch(t.inputType){case"deleteWordBackward":{const t=i.substring(0,o).match(/\w*[^\w]*$/);t&&(s-=t[0].length);break}case"deleteWordForward":{const t=i.substring(o).match(/^[^\w]*\w*/);t&&(l+=t[0].length);break}case"deleteContentBackward":o===a&&(s-=1);break;case"deleteContentForward":o===a&&(l+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:s,selEnd:l}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(s&&n.addEventListener("blur",s),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${t}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class y extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,t.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return u.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=l,i.addEventListener("change",(r=>{const{name:i,checked:o}=r.target;for(const r of this._getElementsByName(i,n)){const n=o&&r.exportValue===e.exportValue;r.domElement&&(r.domElement.checked=n),t.setValue(r.id,{value:n})}t.setValue(n,{value:o})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(e=>{const r={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class v extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;"string"==typeof r&&(r=r!==e.buttonValue,t.setValue(n,{value:r}));const i=document.createElement("input");if(u.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=l,i.addEventListener("change",(e=>{const{name:r,checked:i}=e.target;for(const e of this._getElementsByName(r,n))t.setValue(e.id,{value:!1});t.setValue(n,{value:i})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!=n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;i.addEventListener("updatefromsandbox",(e=>{const i={value:e=>{const i=r===e.detail.value;for(const r of this._getElementsByName(e.target.name)){const e=i&&r.id===n;r.domElement&&(r.domElement.checked=e),t.setValue(r.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b extends p{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class _ extends g{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");u.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=l;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const t of r.options)t.selected=t.value===e}));for(const t of this.data.options){const e=document.createElement("option");e.textContent=t.displayValue,e.value=t.exportValue,n.value.includes(t.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let o=null;if(i){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),r.prepend(t),o=()=>{t.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=(t,e)=>{const n=e?"value":"textContent",r=t.target.options;return t.target.multiple?Array.prototype.filter.call(r,(t=>t.selected)).map((t=>t[n])):-1===r.selectedIndex?null:r[r.selectedIndex][n]},s=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){o?.();const i=n.detail.value,s=new Set(Array.isArray(i)?i:[i]);for(const t of r.options)t.selected=s.has(t.value);t.setValue(e,{value:a(n,!0)})},multipleSelection(t){r.multiple=!0},remove(n){const i=r.options,o=n.detail.remove;i[o].selected=!1,r.remove(o),i.length>0&&-1===Array.prototype.findIndex.call(i,(t=>t.selected))&&(i[0].selected=!0),t.setValue(e,{value:a(n,!0),items:s(n)})},clear(n){for(;0!==r.length;)r.remove(0);t.setValue(e,{value:null,items:[]})},insert(n){const{index:i,displayValue:o,exportValue:l}=n.detail.insert,u=r.children[i],c=document.createElement("option");c.textContent=o,c.value=l,u?u.before(c):r.append(c),t.setValue(e,{value:a(n,!0),items:s(n)})},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const t of i){const{displayValue:e,exportValue:n}=t,i=document.createElement("option");i.textContent=e,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(n,!0),items:s(n)})},indices(n){const r=new Set(n.detail.indices);for(const t of n.target.options)t.selected=r.has(t.index);t.setValue(e,{value:a(n,!0)})},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=a(n,!0),i=a(n,!1);t.setValue(e,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(t=>t.target.checked))):r.addEventListener("input",(function(n){t.setValue(e,{value:a(n,!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class w extends d{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t=`[data-annotation-id="${this.data.parentId}"]`,e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;const n=new x({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,o=r.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),a=o[0]+this.data.parentRect[2]-this.data.parentRect[0],s=o[1],[l,u,c,h]=this.viewport.viewBox,d=c-l,p=h-u;return this.container.style.left=100*(a-l)/d+"%",this.container.style.top=100*(s-u)/p+"%",this.container.append(n.render()),this.container}}class x{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const e=document.createElement("div");e.className="popup";const n=this.color;if(n){const t=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];e.style.backgroundColor=r.Util.makeHexColor(0|t,0|i,0|o)}const o=document.createElement("h1");o.dir=this.titleObj.dir,o.textContent=this.titleObj.str,e.append(o);const a=i.PDFDateString.toDateObject(this.modificationDate);if(a){const t=document.createElement("span");t.className="popupDate",t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:a.toLocaleDateString(),time:a.toLocaleTimeString()}),e.append(t)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const t=this._formatContents(this.contentsObj);e.append(t)}else s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:e}),e.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const t of this.trigger)t.addEventListener("click",this._toggle.bind(this)),t.addEventListener("mouseover",this._show.bind(this,!1)),t.addEventListener("mouseout",this._hide.bind(this,!1));return e.addEventListener("click",this._hide.bind(this,!0)),t.append(e),t}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.className="popupContent",n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let t=0,e=r.length;t<e;++t){const i=r[t];n.append(document.createTextNode(i)),t<e-1&&n.append(document.createElement("br"))}return n}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(t=!0){t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class S extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const t=document.createElement("div");t.className="annotationTextContent",t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),r=this.svgFactory.create(e,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,t),this.container}}class E extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,t),this.container}}class P extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:e,height:n}=c(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,t),this.container}}class k extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=c(t.rect),r=this.svgFactory.create(e,n,!0);let i=[];for(const e of t.vertices){const n=e.x-t.rect[0],r=t.rect[3]-e.y;i.push(n+","+r)}i=i.join(" ");const o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",i),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),this._createPopup(o,t),this.container}}class O extends k{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class A extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=c(t.rect),r=this.svgFactory.create(e,n,!0);for(const e of t.inkLists){let n=[];for(const r of e){const e=r.x-t.rect[0],i=t.rect[3]-r.y;n.push(`${e},${i}`)}n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",n),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),this._createPopup(i,t),r.append(i)}return this.container.append(r),this.container}}class T extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class M extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class j extends d{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends d{constructor(t){super(t,{isRenderable:!0});const{filename:e,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(e),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:e,content:n})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.className="popupTriggerArea",t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.append(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class F{static#he(t,e,n,r){const o=t.firstChild||t;o.id=`${i.AnnotationPrefix}${e}`,n.append(t),r?.moveElementInDOM(n,t,o,!1)}static render(t){const{annotations:e,div:n,viewport:a,accessibilityManager:s}=t;this.#de(n,a);let l=0;for(const u of e){if(u.annotationType!==r.AnnotationType.POPUP){const{width:t,height:e}=c(u.rect);if(t<=0||e<=0)continue}const e=h.create({data:u,layer:n,page:t.page,viewport:a,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new o.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(e.isRenderable){const t=e.render();if(u.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const e of t)e.style.zIndex=l++,F.#he(e,u.id,n,s);else t.style.zIndex=l++,e instanceof w?n.prepend(t):F.#he(t,u.id,n,s)}}this.#pe(n,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:e,div:n,viewport:r}=t;this.#de(n,r),this.#pe(n,e),n.hidden=!1}static#de(t,{width:e,height:n,rotation:r}){const{style:i}=t,o=r%180!=0,a=Math.floor(e)+"px",s=Math.floor(n)+"px";i.width=o?s:a,i.height=o?a:s,t.setAttribute("data-main-rotation",r)}static#pe(t,e){if(e){for(const[n,r]of e){const e=t.querySelector(`[data-annotation-id="${n}"]`);if(!e)continue;const{firstChild:i}=e;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):e.append(r)}e.clear()}}}e.AnnotationLayer=F},(t,e)=>{function n(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=class{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_HTML([t]){const e=n(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_HTML([t,e,r]){return`#${n(t)}${n(e)}${n(r)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,i=1-e,o=1-n;return["CMYK",r,i,o,Math.min(r,i,o)]}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=n(20);e.XfaLayer=class{static setupStorage(t,e,n,r,i){const o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(t=>{r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==o.value)for(const t of n.children)t.attributes.value===o.value&&(t.attributes.selected=!0);t.addEventListener("input",(t=>{const n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:i})}))}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:i}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${r}`);for(const[e,n]of Object.entries(o))if(null!=n)switch(e){case"class":n.length&&t.setAttribute(e,n.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",n);break;case"style":Object.assign(t.style,n);break;case"textContent":t.textContent=n;break;default:(!a||"href"!==e&&"newWindow"!==e)&&t.setAttribute(e,n)}a&&i.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,o=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:o,linkService:n});const s=[[i,-1,a]],l=t.div;if(l.append(a),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=e}"richText"!==o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];for(;s.length>0;){const[t,i,a]=s.at(-1);if(i+1===t.children.length){s.pop();continue}const l=t.children[++s.at(-1)[1]];if(null===l)continue;const{name:c}=l;if("#text"===c){const t=document.createTextNode(l.value);u.push(t),a.append(t);continue}let h;if(h=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,c):document.createElement(c),a.append(h),l.attributes&&this.setAttributes({html:h,element:l,storage:e,intent:o,linkService:n}),l.children&&l.children.length>0)s.push([l,-1,h]);else if(l.value){const t=document.createTextNode(l.value);r.XfaText.shouldBuildText(c)&&u.push(t),h.append(t)}}for(const t of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:u}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=function(t){const e=new d({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var r=n(1),i=n(8);const o=30,a=new Map,s=/^\s+$/g;function l(t,e,n,i){const l=document.createElement("span"),u=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};t._textDivs.push(l);const c=r.Util.transform(t._viewport.transform,e.transform);let h=Math.atan2(c[1],c[0]);const d=n[e.fontName];d.vertical&&(h+=Math.PI/2);const p=Math.hypot(c[2],c[3]),f=p*function(t,e){const n=a.get(t);if(n)return n;e.save(),e.font=`30px ${t}`;const r=e.measureText("");let i=r.fontBoundingBoxAscent,s=Math.abs(r.fontBoundingBoxDescent);if(i){e.restore();const n=i/(i+s);return a.set(t,n),n}e.strokeStyle="red",e.clearRect(0,0,o,o),e.strokeText("g",0,0);let l=e.getImageData(0,0,o,o).data;s=0;for(let t=l.length-1-3;t>=0;t-=4)if(l[t]>0){s=Math.ceil(t/4/o);break}e.clearRect(0,0,o,o),e.strokeText("A",0,o),l=e.getImageData(0,0,o,o).data,i=0;for(let t=0,e=l.length;t<e;t+=4)if(l[t]>0){i=o-Math.floor(t/4/o);break}if(e.restore(),i){const e=i/(i+s);return a.set(t,e),e}return a.set(t,.8),.8}(d.fontFamily,i);let g,m;0===h?(g=c[4],m=c[5]-f):(g=c[4]+f*Math.sin(h),m=c[5]-f*Math.cos(h)),l.style.left=`${g}px`,l.style.top=`${m}px`,l.style.fontSize=`${p}px`,l.style.fontFamily=d.fontFamily,u.fontSize=p,l.setAttribute("role","presentation"),l.textContent=e.str,l.dir=e.dir,t._fontInspectorEnabled&&(l.dataset.fontName=e.fontName),0!==h&&(u.angle=h*(180/Math.PI));let y=!1;if(e.str.length>1||t._enhanceTextSelection&&s.test(e.str))y=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(y=!0)}if(y&&(d.vertical?u.canvasWidth=e.height*t._viewport.scale:u.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(l,u),t._textContentStream&&t._layoutText(l),t._enhanceTextSelection&&u.hasText){let n=1,i=0;0!==h&&(n=Math.cos(h),i=Math.sin(h));const o=(d.vertical?e.height:e.width)*t._viewport.scale,a=p;let s,u;0!==h?(s=[n,i,-i,n,g,m],u=r.Util.getAxialAlignedBoundingBox([0,0,o,a],s)):u=[g,m,g+o,m+a],t._bounds.push({left:u[0],top:u[1],right:u[2],bottom:u[3],div:l,size:[o,a],m:s})}}function u(t){if(t._canceled)return;const e=t._textDivs,n=t._capability,r=e.length;if(r>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(let n=0;n<r;n++)t._layoutText(e[n]);t._renderingDone=!0,n.resolve()}function c(t,e,n){let r=0;for(let i=0;i<n;i++){const n=t[e++];n>0&&(r=r?Math.min(n,r):n)}return r}function h(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of e){let e=0;for(;e<n.length&&n[e].end<=t.y1;)e++;let r,i,o=n.length-1;for(;o>=0&&n[o].start>=t.y2;)o--;let a,s,l=-1/0;for(a=e;a<=o;a++){let e;r=n[a],i=r.boundary,e=i.x2>t.x1?i.index>t.index?i.x1New:t.x1:void 0===i.x2New?(i.x2+t.x1)/2:i.x2New,e>l&&(l=e)}for(t.x1New=l,a=e;a<=o;a++)r=n[a],i=r.boundary,void 0===i.x2New?i.x2>t.x1?i.index>t.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));const u=[];let c=null;for(a=e;a<=o;a++){r=n[a],i=r.boundary;const e=i.x2>t.x2?i:t;c===e?u.at(-1).end=r.end:(u.push({start:r.start,end:r.end,boundary:e}),c=e)}for(n[e].start<t.y1&&(u[0].start=t.y1,u.unshift({start:n[e].start,end:t.y1,boundary:n[e].boundary})),t.y2<n[o].end&&(u.at(-1).end=t.y2,u.push({start:t.y2,end:n[o].end,boundary:n[o].boundary})),a=e;a<=o;a++){if(r=n[a],i=r.boundary,void 0!==i.x2New)continue;let t=!1;for(s=e-1;!t&&s>=0&&n[s].start>=i.y1;s--)t=n[s].boundary===i;for(s=o+1;!t&&s<n.length&&n[s].end<=i.y2;s++)t=n[s].boundary===i;for(s=0;!t&&s<u.length;s++)t=u[s].boundary===i;t||(i.x2New=l)}Array.prototype.splice.apply(n,[e,o-e+1,...u])}for(const e of n){const n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))}}class d{constructor({textContent:t,textContentStream:e,container:n,viewport:o,textDivs:a,textContentItemsStr:s,enhanceTextSelection:l}){l&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=t,this._textContentStream=e,this._container=n,this._document=n.ownerDocument,this._viewport=o,this._textDivs=a||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(t,e){for(let n=0,r=t.length;n<r;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),l(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id",`${t[n].id}`),e.append(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._textDivProperties.get(t);let n="";if(0!==e.canvasWidth&&e.hasText){const{fontFamily:r}=t.style,{fontSize:i}=e;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i*this._devicePixelRatio}px ${r}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);const{width:o}=this._layoutTextCtx.measureText(t.textContent);if(o>0){const t=this._devicePixelRatio*e.canvasWidth/o;this._enhanceTextSelection&&(e.scale=t),n=`scaleX(${t})`}}if(0!==e.angle&&(n=`rotate(${e.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.append(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(t=0){const e=(0,r.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=o,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const t=this._textContent.items,n=this._textContent.styles;this._processItems(t,n),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then((({value:r,done:i})=>{i?e.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),t())}),e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then((()=>{n=null,t?this._renderTimer=setTimeout((()=>{u(this),this._renderTimer=null}),t):u(this)}),this._capability.reject)}expandTextDivs(t=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(t){const e=t._bounds,n=t._viewport,i=function(t,e,n){const r=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));h(t,r);const i=new Array(n.length);for(const t of r){const e=t.index;i[e]={left:t.x1New,top:0,right:t.x2New,bottom:0}}n.map((function(e,n){const o=i[n],a=r[n];a.x1=e.top,a.y1=t-o.right,a.x2=e.bottom,a.y2=t-o.left,a.index=n,a.x1New=void 0,a.x2New=void 0})),h(e,r);for(const t of r){const e=t.index;i[e].top=t.x1New,i[e].bottom=t.x2New}return i}(n.width,n.height,e);for(let n=0;n<i.length;n++){const o=e[n].div,a=t._textDivProperties.get(o);if(0===a.angle){a.paddingLeft=e[n].left-i[n].left,a.paddingTop=e[n].top-i[n].top,a.paddingRight=i[n].right-e[n].right,a.paddingBottom=i[n].bottom-e[n].bottom,t._textDivProperties.set(o,a);continue}const s=i[n],l=e[n],u=l.m,h=u[0],d=u[1],p=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],f=new Float64Array(64);for(let t=0,e=p.length;t<e;t++){const e=r.Util.applyTransform(p[t],u);f[t+0]=h&&(s.left-e[0])/h,f[t+4]=d&&(s.top-e[1])/d,f[t+8]=h&&(s.right-e[0])/h,f[t+12]=d&&(s.bottom-e[1])/d,f[t+16]=d&&(s.left-e[0])/-d,f[t+20]=h&&(s.top-e[1])/h,f[t+24]=d&&(s.right-e[0])/-d,f[t+28]=h&&(s.bottom-e[1])/h,f[t+32]=h&&(s.left-e[0])/-h,f[t+36]=d&&(s.top-e[1])/-d,f[t+40]=h&&(s.right-e[0])/-h,f[t+44]=d&&(s.bottom-e[1])/-d,f[t+48]=d&&(s.left-e[0])/d,f[t+52]=h&&(s.top-e[1])/-h,f[t+56]=d&&(s.right-e[0])/d,f[t+60]=h&&(s.bottom-e[1])/-h}const g=1+Math.min(Math.abs(h),Math.abs(d));a.paddingLeft=c(f,32,16)/g,a.paddingTop=c(f,48,16)/g,a.paddingRight=c(f,0,16)/g,a.paddingBottom=c(f,16,16)/g,t._textDivProperties.set(o,a)}}(this),this._bounds=null);const e=[],n=[];for(let r=0,i=this._textDivs.length;r<i;r++){const i=this._textDivs[r],o=this._textDivProperties.get(i);o.hasText&&(t?(e.length=0,n.length=0,o.originalTransform&&e.push(o.originalTransform),o.paddingTop>0?(n.push(`${o.paddingTop}px`),e.push(`translateY(${-o.paddingTop}px)`)):n.push(0),o.paddingRight>0?n.push(o.paddingRight/o.scale+"px"):n.push(0),o.paddingBottom>0?n.push(`${o.paddingBottom}px`):n.push(0),o.paddingLeft>0?(n.push(o.paddingLeft/o.scale+"px"),e.push(`translateX(${-o.paddingLeft/o.scale}px)`)):n.push(0),i.style.padding=n.join(" "),e.length&&(i.style.transform=e.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}e.TextLayerRenderTask=d},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(8),i=n(1),o=n(3);let a=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=a;{const s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",c=["butt","round","square"],h=["miter","round","bevel"],d=function(t,e="",n=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([t],{type:e}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${e};base64,`;for(let e=0,n=t.length;e<n;e+=3){const o=255&t[e],a=255&t[e+1],s=255&t[e+2];i+=r[o>>2]+r[(3&o)<<4|a>>4]+r[e+1<n?(15&a)<<2|s>>6:64]+r[e+2<n?63&s:64]}return i},p=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let t=0;t<8;t++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;e[t]=n}function n(t,n,r,i){let o=i;const a=n.length;r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a,o+=4,r[o]=255&t.charCodeAt(0),r[o+1]=255&t.charCodeAt(1),r[o+2]=255&t.charCodeAt(2),r[o+3]=255&t.charCodeAt(3),o+=4,r.set(n,o),o+=n.length;const s=function(t,n,r){let i=-1;for(let o=n;o<r;o++){const n=255&(i^t[o]);i=i>>>8^e[n]}return-1^i}(r,i+4,o);r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s}function r(t){let e=t.length;const n=65535,r=Math.ceil(e/n),i=new Uint8Array(2+e+5*r+4);let o=0;i[o++]=120,i[o++]=156;let a=0;for(;e>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(t.subarray(a,a+n),o),o+=n,a+=n,e-=n;i[o++]=1,i[o++]=255&e,i[o++]=e>>8&255,i[o++]=255&~e,i[o++]=(65535&~e)>>8&255,i.set(t.subarray(a),o),o+=t.length-a;const s=function(t,e,n){let r=1,i=0;for(let e=0;e<n;++e)r=(r+(255&t[e]))%65521,i=(i+r)%65521;return i<<16|r}(t,0,t.length);return i[o++]=s>>24&255,i[o++]=s>>16&255,i[o++]=s>>8&255,i[o++]=255&s,i}return function(e,a,s){return function(e,a,s,l){const u=e.width,c=e.height;let h,p,f;const g=e.data;switch(a){case i.ImageKind.GRAYSCALE_1BPP:p=0,h=1,f=u+7>>3;break;case i.ImageKind.RGB_24BPP:p=2,h=8,f=3*u;break;case i.ImageKind.RGBA_32BPP:p=6,h=8,f=4*u;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+f)*c);let y=0,v=0;for(let t=0;t<c;++t)m[y++]=0,m.set(g.subarray(v,v+f),y),v+=f,y+=f;if(a===i.ImageKind.GRAYSCALE_1BPP&&l){y=0;for(let t=0;t<c;t++){y++;for(let t=0;t<f;t++)m[y++]^=255}}const b=new Uint8Array([u>>24&255,u>>16&255,u>>8&255,255&u,c>>24&255,c>>16&255,c>>8&255,255&c,h,p,0,0,0]),_=function(t){if(!o.isNodeJS)return r(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const n=__webpack_require__(2258).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(t)}(m),w=t.length+36+b.length+_.length,x=new Uint8Array(w);let S=0;return x.set(t,S),S+=t.length,n("IHDR",b,x,S),S+=12+b.length,n("IDATA",_,x,S),S+=12+_.length,n("IEND",new Uint8Array(0),x,S),d(x,"image/png",s)}(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,a,s)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function g(t){let e=[];const n=[];for(const r of t)"save"!==r.fn?"restore"===r.fn?e=n.pop():e.push(r):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e.at(-1).items);return e}function m(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)}function y(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${m(t[0])} ${m(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2])return`rotate(${m(180*Math.acos(t[0])/Math.PI)})`}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${m(t[4])} ${m(t[5])})`;return`matrix(${m(t[0])} ${m(t[1])} ${m(t[2])} ${m(t[3])} ${m(t[4])} ${m(t[5])})`}let v=0,b=0,_=0;e.SVGGraphics=a=class{constructor(t,e,n=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const t in i.OPS)this._operatorIdMapping[i.OPS[t]]=t}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,n=t.argsArray;for(let t=0,r=e.length;t<r;t++)if(e[t]===i.OPS.dependency)for(const e of n[t]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(t,e,n,r,o,a){const s=[t,e,n,r,o,a];this.transformMatrix=i.Util.transform(this.transformMatrix,s),this.tgrp=null}getSVG(t,e){this.viewport=e;const n=this._initialize(e);return this.loadDependencies(t).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),n)))}convertOpList(t){const e=this._operatorIdMapping,n=t.argsArray,r=t.fnArray,i=[];for(let t=0,o=r.length;t<o;t++){const o=r[t];i.push({fnId:o,fn:e[o],args:n[t]})}return g(i)}executeOpTree(t){for(const e of t){const t=e.fn,n=e.fnId,r=e.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,i.warn)(`Unimplemented operator ${t}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,n,r,i,o){const a=this.current;a.textMatrix=a.lineMatrix=[t,e,n,r,i,o],a.textMatrixScale=Math.hypot(t,e),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${m(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",m(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${m(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",m(-n.y))}showText(t){const e=this.current,n=e.font,r=e.fontSize;if(0===r)return;const o=e.fontSizeScale,a=e.charSpacing,u=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,d=n.vertical,p=d?1:-1,f=n.defaultVMetrics,g=r*e.fontMatrix[0];let v=0;for(const i of t){if(null===i){v+=c*u;continue}if("number"==typeof i){v+=p*i*r/1e3;continue}const t=(i.isSpace?u:0)+a,s=i.fontChar;let l,h,m,y=i.width;if(d){let t;const e=i.vmetric||f;t=i.vmetric?e[1]:.5*y,t=-t*g;const n=e[2]*g;y=e?-e[0]:y,l=t/o,h=(v+n)/o}else l=v/o,h=0;(i.isInFont||n.missingFile)&&(e.xcoords.push(e.x+l),d&&e.ycoords.push(-e.y+h),e.tspan.textContent+=s),m=d?y*g-t*c:y*g+t*c,v+=m}e.tspan.setAttributeNS(null,"x",e.xcoords.map(m).join(" ")),d?e.tspan.setAttributeNS(null,"y",e.ycoords.map(m).join(" ")):e.tspan.setAttributeNS(null,"y",m(-e.y)),d?e.y-=v:e.x+=v*h,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",`${m(e.fontSize)}px`),e.fontStyle!==s.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==s.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);const b=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(b===i.TextRenderingMode.FILL||b===i.TextRenderingMode.FILL_STROKE?(e.fillColor!==s.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),b===i.TextRenderingMode.STROKE||b===i.TextRenderingMode.FILL_STROKE){const t=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,t)}let _=e.textMatrix;0!==e.textRise&&(_=_.slice(),_[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform",`${y(_)} scale(${m(h)}, -1)`),e.txtElement.setAttributeNS(l,"xml:space","preserve"),e.txtElement.append(e.tspan),e.txtgrp.append(e.txtElement),this._ensureTransformGroup().append(e.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const e=d(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,n=this.commonObjs.get(t[0]);let r=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let o="normal";n.black?o="900":n.bold&&(o="bold");const a=n.italic?"italic":"normal";r<0?(r=-r,e.fontDirection=-1):e.fontDirection=1,e.fontSize=r,e.fontFamily=n.loadedName,e.fontWeight=o,e.fontStyle=a,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",m(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=c[t]}setLineJoin(t){this.current.lineJoin=h[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,n){this.current.strokeColor=i.Util.makeHexColor(t,e,n)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,n){this.current.fillColor=i.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),o=i.Util.applyTransform([0,0],r),a=i.Util.applyTransform([0,n],r),s=i.Util.applyTransform([e,0],r),l=i.Util.applyTransform([e,n],r),u=Math.min(o[0],a[0],s[0],l[0]),c=Math.min(o[1],a[1],s[1],l[1]),h=Math.max(o[0],a[0],s[0],l[0]),d=Math.max(o[1],a[1],s[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",u),p.setAttributeNS(null,"y",c),p.setAttributeNS(null,"width",h-u),p.setAttributeNS(null,"height",d-c),p.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(p)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],n=t[2],r=t[3]||i.IDENTITY_MATRIX,[o,a,s,l]=t[4],u=t[5],c=t[6],h=t[7],d="shading"+_++,[p,f,g,m]=i.Util.normalizeRect([...i.Util.applyTransform([o,a],r),...i.Util.applyTransform([s,l],r)]),[y,v]=i.Util.singularValueDecompose2dScale(r),b=u*y,w=c*v,x=this.svgFactory.createElement("svg:pattern");x.setAttributeNS(null,"id",d),x.setAttributeNS(null,"patternUnits","userSpaceOnUse"),x.setAttributeNS(null,"width",b),x.setAttributeNS(null,"height",w),x.setAttributeNS(null,"x",`${p}`),x.setAttributeNS(null,"y",`${f}`);const S=this.svg,C=this.transformMatrix,E=this.current.fillColor,P=this.current.strokeColor,k=this.svgFactory.create(g-p,m-f);if(this.svg=k,this.transformMatrix=r,2===h){const t=i.Util.makeHexColor(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(n)),this.svg=S,this.transformMatrix=C,this.current.fillColor=E,this.current.strokeColor=P,x.append(k.childNodes[0]),this.defs.append(x),`url(#${d})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading"+_++,n=t[3];let r;switch(t[1]){case"axial":const n=t[4],i=t[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const o=t[4],a=t[5],s=t[6],l=t[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",a[0]),r.setAttributeNS(null,"cy",a[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",o[0]),r.setAttributeNS(null,"fy",o[1]),r.setAttributeNS(null,"fr",s);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const t of n){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),r.append(e)}return this.defs.append(r),`url(#${e})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const n=this.current;let r=n.x,o=n.y,a=[],s=0;for(const n of t)switch(0|n){case i.OPS.rectangle:r=e[s++],o=e[s++];const t=r+e[s++],n=o+e[s++];a.push("M",m(r),m(o),"L",m(t),m(o),"L",m(t),m(n),"L",m(r),m(n),"Z");break;case i.OPS.moveTo:r=e[s++],o=e[s++],a.push("M",m(r),m(o));break;case i.OPS.lineTo:r=e[s++],o=e[s++],a.push("L",m(r),m(o));break;case i.OPS.curveTo:r=e[s+4],o=e[s+5],a.push("C",m(e[s]),m(e[s+1]),m(e[s+2]),m(e[s+3]),m(r),m(o)),s+=6;break;case i.OPS.curveTo2:a.push("C",m(r),m(o),m(e[s]),m(e[s+1]),m(e[s+2]),m(e[s+3])),r=e[s+2],o=e[s+3],s+=4;break;case i.OPS.curveTo3:r=e[s+2],o=e[s+3],a.push("C",m(e[s]),m(e[s+1]),m(r),m(o),m(r),m(o)),s+=4;break;case i.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,o)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+v++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",y(this.transformMatrix));const r=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),t.activeClipUrl){t.clipGroup=null;for(const t of this.extraStack)t.clipGroup=null;n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${e}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const n=this.current;let r=n.dashArray;1!==e&&r.length>0&&(r=r.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",m(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",m(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",r.map(m).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",m(e*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const n=t.width,r=t.height,i=p(t,this.forceDataSchema,!!e),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",m(n)),o.setAttributeNS(null,"height",m(r)),this.current.element=o,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS(u,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",m(-r)),a.setAttributeNS(null,"width",m(n)+"px"),a.setAttributeNS(null,"height",m(r)+"px"),a.setAttributeNS(null,"transform",`scale(${m(1/n)} ${m(-1/r)})`),e?e.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(t){const e=this.current,n=t.width,r=t.height,i=e.fillColor;e.maskId="mask"+b++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",e.maskId);const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",m(n)),a.setAttributeNS(null,"height",m(r)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(a),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],n=e[3]-e[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",e[0]),r.setAttributeNS(null,"y",e[1]),r.setAttributeNS(null,"width",m(t)),r.setAttributeNS(null,"height",m(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",y(t.transform)),e.append(r),this.svg=r,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=n(1),i=n(33);const o=__webpack_require__(172),a=__webpack_require__(2001),s=__webpack_require__(1895),l=__webpack_require__(6558),u=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=l.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?l.parse(`file:///${t}`):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class c{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class p extends c{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:o,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=a.request(d(this._url,t.httpHeaders),e):this._request=s.request(d(this._url,t.httpHeaders),e),this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class f extends h{constructor(t,e,n){super(t),this._httpHeaders={};for(const e in t.httpHeaders){const n=t.httpHeaders[e];void 0!==n&&(this._httpHeaders[e]=n)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const i=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=t}};this._request=null,"http:"===this._url.protocol?this._request=a.request(d(this._url,this._httpHeaders),i):this._request=s.request(d(this._url,this._httpHeaders),i),this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class g extends c{constructor(t){super(t);let e=decodeURIComponent(this._url.path);u.test(this._url.href)&&(e=e.replace(/^\//,"")),o.lstat(e,((t,n)=>{if(t)return"ENOENT"===t.code&&(t=new r.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(o.createReadStream(e)),this._headersCapability.resolve()}))}}class m extends h{constructor(t,e,n){super(t);let r=decodeURIComponent(this._url.path);u.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(o.createReadStream(r,{start:e,end:n-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,i.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(t){}if((0,o.isPdfFile)(t))return t}return null},e.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(i.suggestedLength=o,o<=2*n||r||!e||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},e.validateResponseStatus=function(t){return 200===t||206===t};var r=n(1),i=n(34),o=n(8)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=l(t),t=u(t),a(t)}if(n=function(t){const e=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,r,i]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[r,i]}const o=[];for(let t=0;t<e.length&&t in e;++t){let[n,r]=e[t];r=s(r),n&&(r=unescape(r),0===t&&(r=l(r))),o.push(r)}return o.join("")}(t),n)return a(u(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=s(n);return t=u(t),a(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function o(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),e=!1}catch(t){}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=o("utf-8",t),e&&(t=o("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){const e=t.indexOf("'");return-1===e?t:o(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function u(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return o(e,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{r=atob(r)}catch(t){}return o(e,r)}))}return""};var r=n(1)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=n(1),i=n(33);class o{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const t in n)r[t]=n[t];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const t in this.httpHeaders){const n=this.httpHeaders[t];void 0!==n&&e.setRequestHeader(t,n)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError?.(i.status);const o=i.status||200;if((200!==o||206!==n.expectedStatus)&&o!==n.expectedStatus)return void n.onError?.(i.status);const a=function(t){const e=t.response;return"string"!=typeof e?e:(0,r.stringToBytes)(e).buffer}(i);if(206===o){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new o(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new s(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class a{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:r,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=n(1),i=n(33);function o(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function a(t){const e=new Headers;for(const n in t){const r=t[n];void 0!==r&&e.append(n,r)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new l(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class s{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=a(this._stream.httpHeaders);const n=e.url;fetch(n,o(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:o,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}class l{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,o(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,l);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),o=__w_pdfjs_require__(7),a=__w_pdfjs_require__(27),s=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),u=__w_pdfjs_require__(30),c=__w_pdfjs_require__(31),h=__w_pdfjs_require__(29);if(l.isNodeJS){const{PDFNodeStream:t}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)((e=>new t(e)))}else{const{PDFNetworkStream:t}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)((n=>(0,r.isValidFetchUrl)(n.url)?new e(n):new t(n)))}})(),__webpack_exports__})(),module.exports=factory()},4391:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];function r(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=null;return e.forEach((function(t){if(null==i){var e=t.apply(void 0,n);null!=e&&(i=e)}})),i}return(0,i.default)(r)};var r,i=(r=n(2613))&&r.__esModule?r:{default:r};t.exports=e.default},2613:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return e?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];return t.apply(void 0,[n,r,s,o,l].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n},t.exports=e.default},2703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(t,e,n)=>{t.exports=n(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2582:function(t){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var d=n[r],p=i,f=o;for(e(n,i,r),a(n[o],d)>0&&e(n,i,o);p<f;){for(e(n,p,f),p++,f--;a(n[p],d)<0;)p++;for(;a(n[f],d)>0;)f--}0===a(n[i],d)?e(n,i,f):e(n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;p(t,s)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||d(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=f([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!d(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=f(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=f([])).leaf=!1,i.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var h=Math.min(c+u-1,n);g(t,c,h,l,this.compareMinY);for(var d=c;d<=h;d+=l){var p=Math.min(d+l-1,h);i.children.push(this._build(t,d,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=c(l),h=(d=t,p=l,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}e=a||e.children[0]}var d,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,l,u,h,d=1/0,p=1/0,f=e;f<=n-e;f++){var g=a(t,0,f,this.toBBox),m=a(t,f,n,this.toBBox),y=(i=g,o=m,void 0,void 0,void 0,void 0,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),v=c(g)+c(m);y<d?(d=y,r=f,p=v<p?v:p):y===d&&v<p&&(p=v,r=f)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),l=a(t,n-e,n,i),u=h(o)+h(l),c=e;c<n-e;c++){var d=t.children[c];s(o,t.leaf?i(d):d),u+=h(o)}for(var p=n-e-1;p>=e;p--){var f=t.children[p];s(l,t.leaf?i(f):f),u+=h(l)}return u},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},44:(t,e,n)=>{"use strict";var r=n(7294),i=n(1117);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a,s=function(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}(r),l=o(r),u=o(i);function c(t,e){return t[e]}function h(t,e){return e.split(".").reduce(((t,e)=>{const n=e.match(/[^\]\\[.]+/g);if(n&&n.length>1)for(let e=0;e<n.length;e++)return t[n[e]][n[e+1]];return t[e]}),t)}function d(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function p(t=[],e,n="id"){const r=t.slice(),i=c(e,n);return i?r.splice(r.findIndex((t=>c(t,n)===i)),1):r.splice(r.findIndex((t=>t===e)),1),r}function f(t){return t.map(((t,e)=>{const n=Object.assign(Object.assign({},t),{sortable:t.sortable||!!t.sortFunction||void 0});return t.id||(n.id=e+1),n}))}function g(t,e){return Math.ceil(t/e)}function m(t,e){return Math.min(t,e)}!function(t){t.ASC="asc",t.DESC="desc"}(a||(a={}));const y=()=>null;function v(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach((e=>{if(!e.when||"function"!=typeof e.when)throw new Error('"when" must be defined in the conditional style object and must be function');e.when(t)&&(r=e.style||{},e.classNames&&(i=[...i,...e.classNames]),"function"==typeof e.style&&(r=e.style(t)||{}))})),{style:r,classNames:i.join(" ")}}function b(t,e=[],n="id"){const r=c(t,n);return r?e.some((t=>c(t,n)===r)):e.some((e=>e===t))}function _(t,e){return e?t.findIndex((t=>w(t.id,e))):-1}function w(t,e){return t==e}function x(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:n,rows:r,rowCount:i,mergeSelections:o}=e,a=!t.allSelected,s=!t.toggleOnSelectedRowsChange;if(o){const e=a?[...t.selectedRows,...r.filter((e=>!b(e,t.selectedRows,n)))]:t.selectedRows.filter((t=>!b(t,r,n)));return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:e.length,selectedRows:e,toggleOnSelectedRowsChange:s})}return Object.assign(Object.assign({},t),{allSelected:a,selectedCount:a?i:0,selectedRows:a?r:[],toggleOnSelectedRowsChange:s})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:o,rowCount:a,singleSelect:s}=e;return s?o?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):o?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:p(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===a,selectedRows:d(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:o,mergeSelections:a}=e;if(a){const e=[...t.selectedRows,...i.filter((e=>!b(e,t.selectedRows,r)))];return Object.assign(Object.assign({},t),{selectedCount:e.length,allSelected:!1,selectedRows:e,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===o,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:n}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:n})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:o}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),o&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:o,persistSelectedOnPageChange:a}=e,s=i&&a,l=i&&!a||o;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),s&&{allSelected:!1}),l&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:n,page:r}=e;return Object.assign(Object.assign({},t),{currentPage:r,rowsPerPage:n})}}}const S=i.css`
	pointer-events: none;
	opacity: 0.4;
`,C=u.default.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&S};
	${({theme:t})=>t.table.style};
`,E=i.css`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,P=u.default.div`
	display: flex;
	width: 100%;
	${({fixedHeader:t})=>t&&E};
	${({theme:t})=>t.head.style};
`,k=u.default.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,O=(t,...e)=>i.css`
		@media screen and (max-width: ${599}px) {
			${i.css(t,...e)}
		}
	`,A=(t,...e)=>i.css`
		@media screen and (max-width: ${959}px) {
			${i.css(t,...e)}
		}
	`,R=(t,...e)=>i.css`
		@media screen and (max-width: ${1280}px) {
			${i.css(t,...e)}
		}
	`,T=u.default.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,headCell:e})=>t[e?"headCells":"cells"].style};
	${({noPadding:t})=>t&&"padding: 0"};
`,M=u.default(T)`
	flex-grow: ${({button:t,grow:e})=>0===e||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&i.css`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&"sm"===t&&O`
    display: none;
  `};
	${({hide:t})=>t&&"md"===t&&A`
    display: none;
  `};
	${({hide:t})=>t&&"lg"===t&&R`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&(t=>(e,...n)=>i.css`
				@media screen and (max-width: ${t}px) {
					${i.css(e,...n)}
				}
			`)(t)`
    display: none;
  `};
`,I=i.css`
	div:first-child {
		white-space: ${({wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,D=u.default(M).attrs((t=>({style:t.style})))`
	${({renderAsCell:t})=>!t&&I};
	${({theme:t,isDragging:e})=>e&&t.cells.draggingStyle};
	${({cellStyle:t})=>t};
`;var j=s.memo((function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:o,onDragStart:a,onDragOver:l,onDragEnd:u,onDragEnter:c,onDragLeave:d}){const{style:p,classNames:f}=v(n,e.conditionalCellStyles,["rdt_TableCell"]);return s.createElement(D,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,cellStyle:e.style,renderAsCell:!!e.cell,allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,wrapCell:e.wrap,style:p,isDragging:o,onDragStart:a,onDragOver:l,onDragEnd:u,onDragEnter:c,onDragLeave:d},!e.cell&&s.createElement("div",{"data-tag":i},function(t,e,n,r){if(!e)return null;if("string"!=typeof e&&"function"!=typeof e)throw new Error("selector must be a . delimited string eg (my.property) or function (e.g. row => row.field");return n&&"function"==typeof n?n(t,r):e&&"function"==typeof e?e(t,r):h(t,e)}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))})),L=s.memo((function({name:t,component:e="input",componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:o=!1,onClick:a=y}){const l=e,u="input"!==l?n.style:(t=>Object.assign(Object.assign({fontSize:"18px"},!t&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(o),c=s.useMemo((()=>function(t,...e){let n;return Object.keys(t).map((e=>t[e])).forEach(((r,i)=>{const o=t;"function"==typeof r&&(n=Object.assign(Object.assign({},o),{[Object.keys(t)[i]]:r(...e)}))})),n||t}(n,r)),[n,r]);return s.createElement(l,Object.assign({type:"checkbox",ref:t=>{t&&(t.indeterminate=r)},style:u,onClick:o?y:a,name:t,"aria-label":t,checked:i,disabled:o},c,{onChange:y}))}));const F=u.default(T)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function N({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:o,selectableRowsComponentProps:a,selectableRowsSingle:l,selectableRowDisabled:u,onSelectedRow:c}){const h=!(!u||!u(n));return s.createElement(F,{onClick:t=>t.stopPropagation(),className:"rdt_TableCell",noPadding:!0},s.createElement(L,{name:t,component:o,componentOptions:a,checked:i,"aria-checked":i,onClick:()=>{c({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:l})},disabled:h}))}const z=u.default.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function U({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:o}){const a=e?n.expanded:n.collapsed;return s.createElement(z,{"aria-disabled":t,onClick:()=>o&&o(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},a)}const B=u.default(T)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function V({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:o=!1}){return s.createElement(B,{onClick:t=>t.stopPropagation(),noPadding:!0},s.createElement(U,{id:r,row:t,expanded:e,expandableIcon:n,disabled:o,onToggled:i}))}const W=u.default.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({extendedRowStyle:t})=>t};
`;var H,G,q,$=s.memo((function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const o=["rdt_ExpanderRow",...i.split(" ").filter((t=>"rdt_TableRow"!==t))].join(" ");return s.createElement(W,{className:o,extendedRowStyle:r},s.createElement(e,Object.assign({data:t},n)))}));e.Nm=void 0,(H=e.Nm||(e.Nm={})).LTR="ltr",H.RTL="rtl",H.AUTO="auto",e.v2=void 0,(G=e.v2||(e.v2={})).LEFT="left",G.RIGHT="right",G.CENTER="center",e.pU=void 0,(q=e.pU||(e.pU={})).SM="sm",q.MD="md",q.LG="lg";const X=i.css`
	&:hover {
		${({highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,Y=i.css`
	&:hover {
		cursor: pointer;
	}
`,K=u.default.div.attrs((t=>({style:t.style})))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({highlightOnHover:t})=>t&&X};
	${({pointerOnHover:t})=>t&&Y};
	${({selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
`;function Z({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:o,expandableRows:a=!1,expandableRowsComponent:l,expandableRowsComponentProps:u,expandableRowsHideExpander:h,expandOnRowClicked:d=!1,expandOnRowDoubleClicked:p=!1,highlightOnHover:f=!1,id:g,expandableInheritConditionalStyles:m,keyField:b,onRowClicked:_=y,onRowDoubleClicked:x=y,onRowMouseEnter:S=y,onRowMouseLeave:C=y,onRowExpandToggled:E=y,onSelectedRow:P=y,pointerOnHover:k=!1,row:O,rowCount:A,rowIndex:R,selectableRowDisabled:T=null,selectableRows:M=!1,selectableRowsComponent:I,selectableRowsComponentProps:D,selectableRowsHighlight:L=!1,selectableRowsSingle:F=!1,selected:z,striped:U=!1,draggingColumnId:B,onDragStart:W,onDragOver:H,onDragEnd:G,onDragEnter:q,onDragLeave:X}){const[Y,Z]=s.useState(n);s.useEffect((()=>{Z(n)}),[n]);const Q=s.useCallback((()=>{Z(!Y),E(!Y,O)}),[Y,E,O]),J=k||a&&(d||p),tt=s.useCallback((t=>{t.target&&"allowRowEvents"===t.target.getAttribute("data-tag")&&(_(O,t),!r&&a&&d&&Q())}),[r,d,a,Q,_,O]),et=s.useCallback((t=>{t.target&&"allowRowEvents"===t.target.getAttribute("data-tag")&&(x(O,t),!r&&a&&p&&Q())}),[r,p,a,Q,x,O]),nt=s.useCallback((t=>{S(O,t)}),[S,O]),rt=s.useCallback((t=>{C(O,t)}),[C,O]),it=c(O,b),{style:ot,classNames:at}=v(O,e,["rdt_TableRow"]),st=L&&z,lt=m?ot:{},ut=U&&R%2==0;return s.createElement(s.Fragment,null,s.createElement(K,{id:`row-${g}`,role:"row",striped:ut,highlightOnHover:f,pointerOnHover:!r&&J,dense:i,onClick:tt,onDoubleClick:et,onMouseEnter:nt,onMouseLeave:rt,className:at,selected:st,style:ot},M&&s.createElement(N,{name:`select-row-${it}`,keyField:b,row:O,rowCount:A,selected:z,selectableRowsComponent:I,selectableRowsComponentProps:D,selectableRowDisabled:T,selectableRowsSingle:F,onSelectedRow:P}),a&&!h&&s.createElement(V,{id:it,expandableIcon:o,expanded:Y,row:O,onToggled:Q,disabled:r}),t.map((t=>t.omit?null:s.createElement(j,{id:`cell-${t.id}-${it}`,key:`cell-${t.id}-${it}`,dataTag:t.ignoreRowClick||t.button?null:"allowRowEvents",column:t,row:O,rowIndex:R,isDragging:w(B,t.id),onDragStart:W,onDragOver:H,onDragEnd:G,onDragEnter:q,onDragLeave:X})))),a&&Y&&s.createElement($,{key:`expander-${it}`,data:O,extendedRowStyle:lt,extendedClassNames:at,ExpanderComponent:l,expanderComponentProps:u}))}const Q=u.default.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({sortDirection:t})=>"desc"===t&&"transform: rotate(180deg)"};
`,J=({sortActive:t,sortDirection:e})=>l.default.createElement(Q,{sortActive:t,sortDirection:e},"▲"),tt=u.default(M)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,isDragging:e})=>e&&t.headCells.draggingStyle};
`,et=i.css`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({sortActive:t})=>!t&&i.css`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,nt=u.default.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&et};
`,rt=u.default.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var it=s.memo((function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:o,sortServer:l,pagination:u,paginationServer:c,persistSelectedOnSort:h,selectableRowsVisibleOnly:d,onSort:p,onDragStart:f,onDragOver:g,onDragEnd:m,onDragEnter:y,onDragLeave:v}){s.useEffect((()=>{"string"==typeof t.selector&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)}),[]);const[b,_]=s.useState(!1),x=s.useRef(null);if(s.useEffect((()=>{x.current&&_(x.current.scrollWidth>x.current.clientWidth)}),[b]),t.omit)return null;const S=()=>{if(!t.sortable&&!t.selector)return;let e=i;w(r.id,t.id)&&(e=i===a.ASC?a.DESC:a.ASC),p({type:"SORT_CHANGE",sortDirection:e,selectedColumn:t,clearSelectedOnSort:u&&c&&!h||l||d})},C=t=>s.createElement(J,{sortActive:t,sortDirection:i}),E=()=>s.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},o),P=!(!t.sortable||!w(r.id,t.id)),k=!t.sortable||e,O=t.sortable&&!o&&!t.right,A=t.sortable&&!o&&t.right,R=t.sortable&&o&&!t.right,T=t.sortable&&o&&t.right;return s.createElement(tt,{"data-column-id":t.id,className:"rdt_TableCol",headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,isDragging:w(t.id,n),onDragStart:f,onDragOver:g,onDragEnd:m,onDragEnter:y,onDragLeave:v},t.name&&s.createElement(nt,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:k?void 0:S,onKeyPress:k?void 0:t=>{"Enter"===t.key&&S()},sortActive:!k&&P,disabled:k},!k&&T&&E(),!k&&A&&C(P),"string"==typeof t.name?s.createElement(rt,{title:b?t.name:void 0,ref:x,"data-column-id":t.id},t.name):t.name,!k&&R&&E(),!k&&O&&C(P)))}));const ot=u.default(T)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function at({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:o,selectableRowsComponent:a,selectableRowsComponentProps:l,selectableRowDisabled:u,onSelectAllRows:c}){const h=o.length>0&&!r,d=u?e.filter((t=>!u(t))):e,p=0===d.length,f=Math.min(e.length,d.length);return s.createElement(ot,{className:"rdt_TableCol",headCell:t,noPadding:!0},s.createElement(L,{name:"select-all-rows",component:a,componentOptions:l,onClick:()=>{c({type:"SELECT_ALL_ROWS",rows:d,rowCount:f,mergeSelections:i,keyField:n})},checked:r,indeterminate:h,disabled:p}))}function st(t=e.Nm.AUTO){const n="object"==typeof window,[r,i]=s.useState(!1);return s.useEffect((()=>{if(n)if("auto"!==t)i("rtl"===t);else{const t=!(!window.document||!window.document.createElement),e=document.getElementsByTagName("BODY")[0],n=document.getElementsByTagName("HTML")[0],r="rtl"===e.dir||"rtl"===n.dir;i(t&&r)}}),[t,n]),r}const lt=u.default.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,ut=u.default.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,ct=u.default.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,visible:e})=>e&&t.contextMenu.activeStyle};
`;function ht({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const o=st(i),a=r>0;return n?s.createElement(ct,{visible:a},s.cloneElement(n,{selectedCount:r})):s.createElement(ct,{visible:a,rtl:o},s.createElement(lt,null,((t,e,n)=>{if(0===e)return null;const r=1===e?t.singular:t.plural;return n?`${e} ${t.message||""} ${r}`:`${e} ${r} ${t.message||""}`})(t,r,o)),s.createElement(ut,null,e))}const dt=u.default.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,pt=u.default.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,ft=u.default.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,gt=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:o,direction:a,showMenu:l=!0})=>s.createElement(dt,{className:"rdt_TableHeader",role:"heading","aria-level":1},s.createElement(pt,null,t),e&&s.createElement(ft,null,e),l&&s.createElement(ht,{contextMessage:n,contextActions:r,contextComponent:i,direction:a,selectedCount:o}));function mt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const yt={left:"flex-start",right:"flex-end",center:"center"},vt=u.default.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>yt[t]};
	flex-wrap: ${({wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,bt=t=>{var{align:e="right",wrapContent:n=!0}=t,r=mt(t,["align","wrapContent"]);return s.createElement(vt,Object.assign({align:e,wrapContent:n},r))},_t=u.default.div`
	display: flex;
	flex-direction: column;
`,wt=u.default.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({responsive:t,fixedHeader:e})=>t&&i.css`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({fixedHeader:t=!1,fixedHeaderScrollHeight:e="100vh"})=>t&&i.css`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,xt=u.default.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,St=u.default.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,Ct=u.default(T)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,Et=u.default.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,Pt=()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},l.default.createElement("path",{d:"M7 10l5 5 5-5z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),kt=u.default.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,Ot=u.default.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,At=t=>{var{defaultValue:e,onChange:n}=t,r=mt(t,["defaultValue","onChange"]);return s.createElement(Ot,null,s.createElement(kt,Object.assign({onChange:n,defaultValue:e},r)),s.createElement(Pt,null))},Rt={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return l.default.createElement("div",null,"To add an expander pass in a component instance via ",l.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:l.default.createElement((()=>l.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),l.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))),null),expanded:l.default.createElement((()=>l.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),l.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:l.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:l.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:e.v2.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),l.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))),null),paginationIconLastPage:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))),null),paginationIconNext:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),paginationIconPrevious:l.default.createElement((()=>l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},l.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),l.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:e.Nm.AUTO,onChangePage:y,onChangeRowsPerPage:y,onRowClicked:y,onRowDoubleClicked:y,onRowMouseEnter:y,onRowMouseLeave:y,onRowExpandToggled:y,onSelectedRowsChange:y,onSort:y,onColumnOrderChange:y},Tt={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Mt=u.default.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,It=u.default.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,Dt=u.default.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${O`
    width: 100%;
    justify-content: space-around;
  `};
`,jt=u.default.span`
	flex-shrink: 1;
	user-select: none;
`,Lt=u.default(jt)`
	margin: 0 24px;
`,Ft=u.default(jt)`
	margin: 0 4px;
`;var Nt=s.memo((function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=Rt.direction,paginationRowsPerPageOptions:i=Rt.paginationRowsPerPageOptions,paginationIconLastPage:o=Rt.paginationIconLastPage,paginationIconFirstPage:a=Rt.paginationIconFirstPage,paginationIconNext:l=Rt.paginationIconNext,paginationIconPrevious:u=Rt.paginationIconPrevious,paginationComponentOptions:c=Rt.paginationComponentOptions,onChangeRowsPerPage:h=Rt.onChangeRowsPerPage,onChangePage:d=Rt.onChangePage}){const p=(()=>{const t="object"==typeof window;function e(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}}const[n,r]=s.useState(e);return s.useEffect((()=>{if(!t)return()=>null;function n(){r(e())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),n})(),f=st(r),m=p.width&&p.width>599,y=g(e,t),v=n*t,b=v-t+1,_=1===n,w=n===y,x=Object.assign(Object.assign({},Tt),c),S=n===y?`${b}-${e} ${x.rangeSeparatorText} ${e}`:`${b}-${v} ${x.rangeSeparatorText} ${e}`,C=s.useCallback((()=>d(n-1)),[n,d]),E=s.useCallback((()=>d(n+1)),[n,d]),P=s.useCallback((()=>d(1)),[d]),k=s.useCallback((()=>d(g(e,t))),[d,e,t]),O=s.useCallback((t=>h(Number(t.target.value),n)),[n,h]),A=i.map((t=>s.createElement("option",{key:t,value:t},t)));x.selectAllRowsItem&&A.push(s.createElement("option",{key:-1,value:e},x.selectAllRowsItemText));const R=s.createElement(At,{onChange:O,defaultValue:t,"aria-label":x.rowsPerPageText},A);return s.createElement(Mt,{className:"rdt_Pagination"},!x.noRowsPerPage&&m&&s.createElement(s.Fragment,null,s.createElement(Ft,null,x.rowsPerPageText),R),m&&s.createElement(Lt,null,S),s.createElement(Dt,null,s.createElement(It,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":_,onClick:P,disabled:_,isRTL:f},a),s.createElement(It,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":_,onClick:C,disabled:_,isRTL:f},u),!m&&R,s.createElement(It,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":w,onClick:E,disabled:w,isRTL:f},l),s.createElement(It,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":w,onClick:k,disabled:w,isRTL:f},o)))}));const zt=(t,e)=>{const n=s.useRef(!0);s.useEffect((()=>{n.current?n.current=!1:t()}),e)};var Ut=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Bt}(t)}(t)},Bt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Vt(t,e){return!1!==e.clone&&e.isMergeableObject(t)?qt((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Wt(t,e,n){return t.concat(e).map((function(t){return Vt(t,n)}))}function Ht(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function Gt(t,e){try{return e in t}catch(t){return!1}}function qt(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Wt,n.isMergeableObject=n.isMergeableObject||Ut,n.cloneUnlessOtherwiseSpecified=Vt;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Ht(t).forEach((function(e){r[e]=Vt(t[e],n)})),Ht(e).forEach((function(i){(function(t,e){return Gt(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(Gt(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return qt;var n=e.customMerge(t);return"function"==typeof n?n:qt}(i,n)(t[i],e[i],n):r[i]=Vt(e[i],n))})),r}(t,e,n):Vt(e,n)}qt.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return qt(t,n,e)}),{})};var $t=qt;const Xt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},Yt={default:Xt,light:Xt,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function Kt(t,e,n,r){const[i,o]=s.useState((()=>f(t))),[l,u]=s.useState(""),c=s.useRef("");zt((()=>{o(f(t))}),[t]);const h=s.useCallback((t=>{var e,n,r;const{attributes:o}=t.target,a=null===(e=o.getNamedItem("data-column-id"))||void 0===e?void 0:e.value;a&&(c.current=(null===(r=null===(n=i[_(i,a)])||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())||"",u(c.current))}),[i]),d=s.useCallback((t=>{var n;const{attributes:r}=t.target,a=null===(n=r.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(a&&c.current&&a!==c.current){const t=_(i,c.current),n=_(i,a),r=[...i];r[t]=i[n],r[n]=i[t],o(r),e(r)}}),[e,i]),p=s.useCallback((t=>{t.preventDefault()}),[]),g=s.useCallback((t=>{t.preventDefault()}),[]),m=s.useCallback((t=>{t.preventDefault(),c.current="",u("")}),[]),y=function(t=!1){return t?a.ASC:a.DESC}(r),v=s.useMemo((()=>i[_(i,null==n?void 0:n.toString())]||{}),[n,i]);return{tableColumns:i,draggingColumnId:l,handleDragStart:h,handleDragEnter:d,handleDragOver:p,handleDragLeave:g,handleDragEnd:m,defaultSortDirection:y,defaultSortColumn:v}}var Zt=s.memo((function(t){const{data:e=Rt.data,columns:n=Rt.columns,title:r=Rt.title,actions:o=Rt.actions,keyField:l=Rt.keyField,striped:u=Rt.striped,highlightOnHover:d=Rt.highlightOnHover,pointerOnHover:p=Rt.pointerOnHover,dense:f=Rt.dense,selectableRows:y=Rt.selectableRows,selectableRowsSingle:v=Rt.selectableRowsSingle,selectableRowsHighlight:_=Rt.selectableRowsHighlight,selectableRowsNoSelectAll:w=Rt.selectableRowsNoSelectAll,selectableRowsVisibleOnly:S=Rt.selectableRowsVisibleOnly,selectableRowSelected:E=Rt.selectableRowSelected,selectableRowDisabled:O=Rt.selectableRowDisabled,selectableRowsComponent:A=Rt.selectableRowsComponent,selectableRowsComponentProps:R=Rt.selectableRowsComponentProps,onRowExpandToggled:M=Rt.onRowExpandToggled,onSelectedRowsChange:I=Rt.onSelectedRowsChange,expandableIcon:D=Rt.expandableIcon,onChangeRowsPerPage:j=Rt.onChangeRowsPerPage,onChangePage:L=Rt.onChangePage,paginationServer:F=Rt.paginationServer,paginationServerOptions:N=Rt.paginationServerOptions,paginationTotalRows:z=Rt.paginationTotalRows,paginationDefaultPage:U=Rt.paginationDefaultPage,paginationResetDefaultPage:B=Rt.paginationResetDefaultPage,paginationPerPage:V=Rt.paginationPerPage,paginationRowsPerPageOptions:W=Rt.paginationRowsPerPageOptions,paginationIconLastPage:H=Rt.paginationIconLastPage,paginationIconFirstPage:G=Rt.paginationIconFirstPage,paginationIconNext:q=Rt.paginationIconNext,paginationIconPrevious:$=Rt.paginationIconPrevious,paginationComponent:X=Rt.paginationComponent,paginationComponentOptions:Y=Rt.paginationComponentOptions,responsive:K=Rt.responsive,progressPending:Q=Rt.progressPending,progressComponent:J=Rt.progressComponent,persistTableHead:tt=Rt.persistTableHead,noDataComponent:et=Rt.noDataComponent,disabled:nt=Rt.disabled,noTableHead:rt=Rt.noTableHead,noHeader:ot=Rt.noHeader,fixedHeader:st=Rt.fixedHeader,fixedHeaderScrollHeight:lt=Rt.fixedHeaderScrollHeight,pagination:ut=Rt.pagination,subHeader:ct=Rt.subHeader,subHeaderAlign:ht=Rt.subHeaderAlign,subHeaderWrap:dt=Rt.subHeaderWrap,subHeaderComponent:pt=Rt.subHeaderComponent,noContextMenu:ft=Rt.noContextMenu,contextMessage:mt=Rt.contextMessage,contextActions:yt=Rt.contextActions,contextComponent:vt=Rt.contextComponent,expandableRows:Pt=Rt.expandableRows,onRowClicked:kt=Rt.onRowClicked,onRowDoubleClicked:Ot=Rt.onRowDoubleClicked,onRowMouseEnter:At=Rt.onRowMouseEnter,onRowMouseLeave:Tt=Rt.onRowMouseLeave,sortIcon:Mt=Rt.sortIcon,onSort:It=Rt.onSort,sortFunction:Dt=Rt.sortFunction,sortServer:jt=Rt.sortServer,expandableRowsComponent:Lt=Rt.expandableRowsComponent,expandableRowsComponentProps:Ft=Rt.expandableRowsComponentProps,expandableRowDisabled:Ut=Rt.expandableRowDisabled,expandableRowsHideExpander:Bt=Rt.expandableRowsHideExpander,expandOnRowClicked:Vt=Rt.expandOnRowClicked,expandOnRowDoubleClicked:Wt=Rt.expandOnRowDoubleClicked,expandableRowExpanded:Ht=Rt.expandableRowExpanded,expandableInheritConditionalStyles:Gt=Rt.expandableInheritConditionalStyles,defaultSortFieldId:qt=Rt.defaultSortFieldId,defaultSortAsc:Xt=Rt.defaultSortAsc,clearSelectedRows:Zt=Rt.clearSelectedRows,conditionalRowStyles:Qt=Rt.conditionalRowStyles,theme:Jt=Rt.theme,customStyles:te=Rt.customStyles,direction:ee=Rt.direction,onColumnOrderChange:ne=Rt.onColumnOrderChange,className:re}=t,{tableColumns:ie,draggingColumnId:oe,handleDragStart:ae,handleDragEnter:se,handleDragOver:le,handleDragLeave:ue,handleDragEnd:ce,defaultSortDirection:he,defaultSortColumn:de}=Kt(n,ne,qt,Xt),[{rowsPerPage:pe,currentPage:fe,selectedRows:ge,allSelected:me,selectedCount:ye,selectedColumn:ve,sortDirection:be,toggleOnSelectedRowsChange:_e},we]=s.useReducer(x,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:de,toggleOnSelectedRowsChange:!1,sortDirection:he,currentPage:U,rowsPerPage:V,selectedRowsFlag:!1,contextMessage:Rt.contextMessage}),{persistSelectedOnSort:xe=!1,persistSelectedOnPageChange:Se=!1}=N,Ce=!(!F||!Se&&!xe),Ee=ut&&!Q&&e.length>0,Pe=X||Nt,ke=s.useMemo((()=>((t={},e="default",n="default")=>{const r=Yt[e]?e:n;return $t({table:{style:{color:(i=Yt[r]).text.primary,backgroundColor:i.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:i.text.primary,backgroundColor:i.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:i.background.default,minHeight:"52px"}},head:{style:{color:i.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:i.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:i.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:i.context.background,fontSize:"18px",fontWeight:400,color:i.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:i.text.primary,backgroundColor:i.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:i.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:i.selected.text,backgroundColor:i.selected.default,borderBottomColor:i.background.default}},highlightOnHoverStyle:{color:i.highlightOnHover.text,backgroundColor:i.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:i.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:i.background.default},stripedStyle:{color:i.striped.text,backgroundColor:i.striped.default}},expanderRow:{style:{color:i.text.primary,backgroundColor:i.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:i.button.default,fill:i.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:i.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:i.button.hover},"&:focus":{outline:"none",backgroundColor:i.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:i.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:i.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:i.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:i.button.default,fill:i.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:i.button.disabled,fill:i.button.disabled},"&:hover:not(:disabled)":{backgroundColor:i.button.hover},"&:focus":{outline:"none",backgroundColor:i.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:i.text.primary,backgroundColor:i.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:i.text.primary,backgroundColor:i.background.default}}},t);var i})(te,Jt)),[te,Jt]),Oe=s.useMemo((()=>Object.assign({},"auto"!==ee&&{dir:ee})),[ee]),Ae=s.useMemo((()=>{if(jt)return e;if((null==ve?void 0:ve.sortFunction)&&"function"==typeof ve.sortFunction){const t=ve.sortFunction,n=be===a.ASC?t:(e,n)=>-1*t(e,n);return[...e].sort(n)}return function(t,e,n,r){return e?r&&"function"==typeof r?r(t.slice(0),e,n):t.slice(0).sort(((t,r)=>{let i,o;if("string"==typeof e?(i=h(t,e),o=h(r,e)):(i=e(t),o=e(r)),"asc"===n){if(i<o)return-1;if(i>o)return 1}if("desc"===n){if(i>o)return-1;if(i<o)return 1}return 0})):t}(e,null==ve?void 0:ve.selector,be,Dt)}),[jt,ve,be,e,Dt]),Re=s.useMemo((()=>{if(ut&&!F){const t=fe*pe,e=t-pe;return Ae.slice(e,t)}return Ae}),[fe,ut,F,pe,Ae]),Te=s.useCallback((t=>{we(t)}),[]),Me=s.useCallback((t=>{we(t)}),[]),Ie=s.useCallback((t=>{we(t)}),[]),De=s.useCallback(((t,e)=>kt(t,e)),[kt]),je=s.useCallback(((t,e)=>Ot(t,e)),[Ot]),Le=s.useCallback(((t,e)=>At(t,e)),[At]),Fe=s.useCallback(((t,e)=>Tt(t,e)),[Tt]),Ne=s.useCallback((t=>we({type:"CHANGE_PAGE",page:t,paginationServer:F,visibleOnly:S,persistSelectedOnPageChange:Se})),[F,Se,S]),ze=s.useCallback((t=>{const e=g(z||Re.length,t),n=m(fe,e);F||Ne(n),we({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:t})}),[fe,Ne,F,z,Re.length]);if(ut&&!F&&Ae.length>0&&0===Re.length){const t=g(Ae.length,pe),e=m(fe,t);Ne(e)}zt((()=>{I({allSelected:me,selectedCount:ye,selectedRows:ge.slice(0)})}),[_e]),zt((()=>{It(ve,be,Ae.slice(0))}),[ve,be]),zt((()=>{L(fe,z||Ae.length)}),[fe]),zt((()=>{j(pe,fe)}),[pe]),zt((()=>{Ne(U)}),[U,B]),zt((()=>{if(ut&&F&&z>0){const t=g(z,pe),e=m(fe,t);fe!==e&&Ne(e)}}),[z]),s.useEffect((()=>{we({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:Zt})}),[v,Zt]),s.useEffect((()=>{if(!E)return;const t=Ae.filter((t=>E(t))),e=v?t.slice(0,1):t;we({type:"SELECT_MULTIPLE_ROWS",keyField:l,selectedRows:e,totalRows:Ae.length,mergeSelections:Ce})}),[e,E]);const Ue=S?Re:Ae,Be=Se||v||w;return s.createElement(i.ThemeProvider,{theme:ke},!ot&&(!!r||!!o)&&s.createElement(gt,{title:r,actions:o,showMenu:!ft,selectedCount:ye,direction:ee,contextActions:yt,contextComponent:vt,contextMessage:mt}),ct&&s.createElement(bt,{align:ht,wrapContent:dt},pt),s.createElement(wt,Object.assign({responsive:K,fixedHeader:st,fixedHeaderScrollHeight:lt,className:re},Oe),s.createElement(St,null,Q&&!tt&&s.createElement(xt,null,J),s.createElement(C,{disabled:nt,className:"rdt_Table",role:"table"},!rt&&(!!tt||Ae.length>0&&!Q)&&s.createElement(P,{className:"rdt_TableHead",role:"rowgroup",fixedHeader:st},s.createElement(k,{className:"rdt_TableHeadRow",role:"row",dense:f},y&&(Be?s.createElement(T,{style:{flex:"0 0 48px"}}):s.createElement(at,{allSelected:me,selectedRows:ge,selectableRowsComponent:A,selectableRowsComponentProps:R,selectableRowDisabled:O,rowData:Ue,keyField:l,mergeSelections:Ce,onSelectAllRows:Me})),Pt&&!Bt&&s.createElement(Ct,null),ie.map((t=>s.createElement(it,{key:t.id,column:t,selectedColumn:ve,disabled:Q||0===Ae.length,pagination:ut,paginationServer:F,persistSelectedOnSort:xe,selectableRowsVisibleOnly:S,sortDirection:be,sortIcon:Mt,sortServer:jt,onSort:Te,onDragStart:ae,onDragOver:le,onDragEnd:ce,onDragEnter:se,onDragLeave:ue,draggingColumnId:oe}))))),!Ae.length&&!Q&&s.createElement(Et,null,et),Q&&tt&&s.createElement(xt,null,J),!Q&&Ae.length>0&&s.createElement(_t,{className:"rdt_TableBody",role:"rowgroup"},Re.map(((t,e)=>{const n=c(t,l),r=function(t=""){return"number"!=typeof t&&(!t||0===t.length)}(n)?e:n,i=b(t,ge,l),o=!!(Pt&&Ht&&Ht(t)),a=!!(Pt&&Ut&&Ut(t));return s.createElement(Z,{id:r,key:r,keyField:l,"data-row-id":r,columns:ie,row:t,rowCount:Ae.length,rowIndex:e,selectableRows:y,expandableRows:Pt,expandableIcon:D,highlightOnHover:d,pointerOnHover:p,dense:f,expandOnRowClicked:Vt,expandOnRowDoubleClicked:Wt,expandableRowsComponent:Lt,expandableRowsComponentProps:Ft,expandableRowsHideExpander:Bt,defaultExpanderDisabled:a,defaultExpanded:o,expandableInheritConditionalStyles:Gt,conditionalRowStyles:Qt,selected:i,selectableRowsHighlight:_,selectableRowsComponent:A,selectableRowsComponentProps:R,selectableRowDisabled:O,selectableRowsSingle:v,striped:u,onRowExpandToggled:M,onRowClicked:De,onRowDoubleClicked:je,onRowMouseEnter:Le,onRowMouseLeave:Fe,onSelectedRow:Ie,draggingColumnId:oe,onDragStart:ae,onDragOver:le,onDragEnd:ce,onDragEnter:se,onDragLeave:ue})})))))),Ee&&s.createElement("div",null,s.createElement(Pe,{onChangePage:Ne,onChangeRowsPerPage:ze,rowCount:z||Ae.length,currentPage:fe,rowsPerPage:pe,direction:ee,paginationRowsPerPageOptions:W,paginationIconLastPage:H,paginationIconFirstPage:G,paginationIconNext:q,paginationIconPrevious:$,paginationComponentOptions:Y})))}));e.jG=function(t="default",e,n="default"){return Yt[t]||(Yt[t]=$t(Yt[n],e||{})),Yt[t]=$t(Yt[t],e||{}),Yt[t]},e.ZP=Zt},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(3840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(f,t)||!h.call(p,t)&&(d.test(t)?f[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=D&&t[D]||t["@@iterator"])?t:null}var L,F=Object.assign;function N(t){if(void 0===L)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var z=!1;function U(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?N(t):""}function B(t){switch(t.tag){case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return U(t.type,!1);case 11:return U(t.type.render,!1);case 1:return U(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case M:e=t._payload,t=t._init;try{return V(t(e))}catch(t){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function G(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=G(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function X(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function K(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){Z(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&X(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(pt).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var yt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,Ct=null;function Et(t){if(t=bi(t)){if("function"!=typeof xt)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function Pt(t){St?Ct?Ct.push(t):Ct=[t]:St=t}function kt(){if(St){var t=St,e=Ct;if(Ct=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Ot(t,e){return t(e)}function At(){}var Rt=!1;function Tt(t,e,n){if(Rt)return t(e,n);Rt=!0;try{return Ot(t,e,n)}finally{Rt=!1,(null!==St||null!==Ct)&&(At(),kt())}}function Mt(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var It=!1;if(c)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ct){It=!1}function jt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Lt=!1,Ft=null,Nt=!1,zt=null,Ut={onError:function(t){Lt=!0,Ft=t}};function Bt(t,e,n,r,i,o,a,s,l){Lt=!1,Ft=null,jt.apply(Ut,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Ht(t){if(Vt(t)!==t)throw Error(o(188))}function Gt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ht(i),t;if(a===r)return Ht(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var $t=i.unstable_scheduleCallback,Xt=i.unstable_cancelCallback,Yt=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Zt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null,ae=Math.clz32?Math.clz32:function(t){return 0==(t>>>=0)?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2,ue=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!=(o&=a)&&(r=he(o))}else 0!=(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0==(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!=(4194240&o)))return e;if(0!=(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ue;return 0==(4194240&(ue<<=1))&&(ue=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function _e(t){return 1<(t&=-t)?4<t?0!=(268435455&t)?16:536870912:4:1}var we,xe,Se,Ce,Ee,Pe=!1,ke=[],Oe=null,Ae=null,Re=null,Te=new Map,Me=new Map,Ie=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function je(t,e){switch(t){case"focusin":case"focusout":Oe=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&null!==(e=bi(e))&&xe(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=vi(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,e.shift()}return!0}function ze(t,e,n){Ne(t)&&n.delete(e)}function Ue(){Pe=!1,null!==Oe&&Ne(Oe)&&(Oe=null),null!==Ae&&Ne(Ae)&&(Ae=null),null!==Re&&Ne(Re)&&(Re=null),Te.forEach(ze),Me.forEach(ze)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,Pe||(Pe=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function Ve(t){function e(e){return Be(e,t)}if(0<ke.length){Be(ke[0],t);for(var n=1;n<ke.length;n++){var r=ke[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Oe&&Be(Oe,t),null!==Ae&&Be(Ae,t),null!==Re&&Be(Re,t),Te.forEach(e),Me.forEach(e),n=0;n<Ie.length;n++)(r=Ie[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ie.length&&null===(n=Ie[0]).blockedOn;)Fe(n),null===n.blockedOn&&Ie.shift()}var We=_.ReactCurrentBatchConfig,He=!0;function Ge(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=1,$e(t,e,n,r)}finally{be=i,We.transition=o}}function qe(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=4,$e(t,e,n,r)}finally{be=i,We.transition=o}}function $e(t,e,n,r){if(He){var i=Ye(t,e,n,r);if(null===i)Hr(t,e,r,Xe,n),je(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Oe=Le(Oe,t,e,n,r,i),!0;case"dragenter":return Ae=Le(Ae,t,e,n,r,i),!0;case"mouseover":return Re=Le(Re,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Te.set(o,Le(Te.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Me.set(o,Le(Me.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(je(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&we(o),null===(o=Ye(t,e,n,r))&&Hr(t,e,r,Xe,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Xe=null;function Ye(t,e,n,r){if(Xe=null,null!==(t=vi(t=wt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xe=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Ze=null,Qe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Qe,r=n.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=F({},un,{view:0,detail:0}),dn=on(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),fn=on(pn),gn=on(F({},pn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),yn=on(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return Cn}var Pn=F({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),kn=on(Pn),On=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=on(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=F({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(Tn),In=[9,13,27,32],Dn=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Ln=c&&"TextEvent"in window&&!jn,Fn=c&&(!Dn||jn&&8<jn&&11>=jn),Nn=String.fromCharCode(32),zn=!1;function Un(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Gn(t,e,n,r){Pt(r),0<(e=qr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,$n=null;function Xn(t){Nr(t,0)}function Yn(t){if($(_i(t)))return t}function Kn(t,e){if("change"===t)return e}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"==typeof tr.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),$n=qn=null)}function nr(t){if("value"===t.propertyName&&Yn($n)){var e=[];Gn(e,$n,t,wt(t)),Tt(Xn,e)}}function rr(t,e,n){"focusin"===t?(er(),$n=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn($n)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function lr(t,e){if(sr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=ur(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ur(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=X();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=X((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||(r="selectionStart"in(r=mr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Cr={};function Er(t){if(Sr[t])return Sr[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Cr)return Sr[t]=n[e];return t}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Pr=Er("animationend"),kr=Er("animationiteration"),Or=Er("animationstart"),Ar=Er("transitionend"),Rr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){Rr.set(t,e),l(e,[t])}for(var Ir=0;Ir<Tr.length;Ir++){var Dr=Tr[Ir];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Pr,"onAnimationEnd"),Mr(kr,"onAnimationIteration"),Mr(Or,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Fr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,u){if(Bt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var c=Ft;Lt=!1,Ft=null,Nt||(Nt=!0,zt=c)}}(r,e,void 0,t),t.currentTarget=null}function Nr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Fr(i,s,u),o=l}}}if(Nt)throw t=zt,Nt=!1,zt=null,t}function zr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Wr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Wr(n,t,r,e)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[Br]){t[Br]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Br]||(e[Br]=!0,Ur("selectionchange",!1,e))}}function Wr(t,e,n,r){switch(Ke(e)){case 1:var i=Ge;break;case 4:i=qe;break;default:i=$e}n=i.bind(null,e,n,t),i=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Tt((function(){var r=o,i=wt(n),a=[];t:{var s=Rr.get(t);if(void 0!==s){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Pr:case kr:case Or:l=yn;break;case Ar:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!=(4&e),h=!c&&"scroll"===t,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&null!=(g=Mt(f,d))&&c.push(Gr(f,g,p))),h)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===_t||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Vt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(c=On,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:_i(l),p=null==u?s:_i(u),(s=new c(g,f+"leave",l,n,i)).target=h,s.relatedTarget=p,g=null,vi(i)===r&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,g=c),h=g,l&&u)t:{for(d=u,f=0,p=c=l;p;p=$r(p))f++;for(p=0,g=d;g;g=$r(g))p++;for(;0<f-p;)c=$r(c),f--;for(;0<p-f;)d=$r(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break t;c=$r(c),d=$r(d)}c=null}else c=null;null!==l&&Xr(a,s,l,c,!1),null!==u&&null!==h&&Xr(a,h,u,c,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Kn;else if(Hn(s))if(Zn)m=ar;else{m=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(t,r))?Gn(a,m,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?_i(r):window,t){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var v;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=tn()):(Qe="value"in(Ze=i)?Ze.value:Ze.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new _n(b,t,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=Bn(n)))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(zn=!0,Nn);case"textInput":return(t=e.data)===Nn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Dn&&Un(t,e)?(t=tn(),Je=Qe=Ze=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Nr(a,e)}))}function Gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Mt(t,n))&&r.unshift(Gr(t,o,i)),null!=(o=Mt(t,e))&&r.push(Gr(t,o,i))),t=t.return}return r}function $r(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Xr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Mt(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Mt(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(t){return("string"==typeof t?t:""+t).replace(Yr,"\n").replace(Kr,"")}function Qr(t,e,n){if(e=Zr(e),Zr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function ui(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[di])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[fi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[pi]||null}var xi=[],Si=-1;function Ci(t){return{current:t}}function Ei(t){0>Si||(t.current=xi[Si],xi[Si]=null,Si--)}function Pi(t,e){Si++,xi[Si]=t.current,t.current=e}var ki={},Oi=Ci(ki),Ai=Ci(!1),Ri=ki;function Ti(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mi(t){return null!=t.childContextTypes}function Ii(){Ei(Ai),Ei(Oi)}function Di(t,e,n){if(Oi.current!==ki)throw Error(o(168));Pi(Oi,e),Pi(Ai,n)}function ji(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,W(t)||"Unknown",i));return F({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,Ri=Oi.current,Pi(Oi,t),Pi(Ai,Ai.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=ji(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,Ei(Ai),Ei(Oi),Pi(Oi,t)):Ei(Ai),Pi(Ai,n)}var Ni=null,zi=!1,Ui=!1;function Bi(t){null===Ni?Ni=[t]:Ni.push(t)}function Vi(){if(!Ui&&null!==Ni){Ui=!0;var t=0,e=be;try{var n=Ni;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Ni=null,zi=!1}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),$t(Jt,Vi),e}finally{be=e,Ui=!1}}return null}var Wi=[],Hi=0,Gi=null,qi=0,$i=[],Xi=0,Yi=null,Ki=1,Zi="";function Qi(t,e){Wi[Hi++]=qi,Wi[Hi++]=Gi,Gi=t,qi=e}function Ji(t,e,n){$i[Xi++]=Ki,$i[Xi++]=Zi,$i[Xi++]=Yi,Yi=t;var r=Ki;t=Zi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-ae(e)+i|n<<i|r,Zi=o+t}else Ki=1<<o|n<<i|r,Zi=t}function to(t){null!==t.return&&(Qi(t,1),Ji(t,1,0))}function eo(t){for(;t===Gi;)Gi=Wi[--Hi],Wi[Hi]=null,qi=Wi[--Hi],Wi[Hi]=null;for(;t===Yi;)Yi=$i[--Xi],$i[Xi]=null,Zi=$i[--Xi],$i[Xi]=null,Ki=$i[--Xi],$i[Xi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ui(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yi?{id:Ki,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!=(1&t.mode)&&0==(128&t.flags)}function uo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ui(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw po(),Error(o(418));for(;e;)ao(t,e),e=ui(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ui(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ui(t.stateNode.nextSibling):null;return!0}function po(){for(var t=ro;t;)t=ui(t.nextSibling)}function fo(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var mo=_.ReactCurrentBatchConfig;function yo(t,e){if(t&&t.defaultProps){for(var n in e=F({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var vo=Ci(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function So(t){var e=vo.current;Ei(vo),t._currentValue=e}function Co(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){bo=t,wo=_o=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(_s=!0),t.firstContext=null)}function Po(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===_o){if(null===bo)throw Error(o(308));_o=t,bo.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var ko=null;function Oo(t){null===ko?ko=[t]:ko.push(t)}function Ao(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Oo(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ro(t,r)}function Ro(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var To=!1;function Mo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Do(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Ol)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ro(t,n)}return null===(i=r.interleaved)?(e.next=e,Oo(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ro(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!=(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function No(t,e,n,r){var i=t.updateQueue;To=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=t.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(a=0,c=u=l=null,s=o;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var f=t,g=s;switch(d=e,p=n,g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(p,h,d);break t}h=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(d="function"==typeof(f=g.payload)?f.call(p,h,d):f))break t;h=F({},h,d);break t;case 2:To=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Ll|=a,t.lanes=a,t.memoizedState=h}}function zo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:F({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Vo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tu(),i=eu(t),o=Do(r,i);o.payload=e,null!=n&&(o.callback=n),null!==(e=jo(t,o,i))&&(nu(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tu(),i=eu(t),o=Do(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),null!==(e=jo(t,o,i))&&(nu(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tu(),r=eu(t),i=Do(n,r);i.tag=2,null!=e&&(i.callback=e),null!==(e=jo(t,i,r))&&(nu(e,t,r,n),Lo(e,t,r))}};function Wo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function Ho(t,e,n){var r=!1,i=ki,o=e.contextType;return"object"==typeof o&&null!==o?o=Po(o):(i=Mi(e)?Ri:Oi.current,o=(r=null!=(r=e.contextTypes))?Ti(t,i):ki),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Go(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vo.enqueueReplaceState(e,e.state,null)}function qo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uo,Mo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=Po(o):(o=Mi(e)?Ri:Oi.current,i.context=Ti(t,o)),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(Bo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Vo.enqueueReplaceState(i,i.state,null),No(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function $o(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Uo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yo(t){return(0,t._init)(t._payload)}function Ko(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Iu(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Fu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===M&&Yo(o)===e.type)?((r=i(e,n.props)).ref=$o(t,e,n),r.return=t,r):((r=Du(n.type,n.key,n.props,null,t.mode,r)).ref=$o(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=ju(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Fu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Du(e.type,e.key,e.props,null,t.mode,n)).ref=$o(t,null,e),n.return=t,n;case x:return(e=Nu(e,t.mode,n)).return=t,e;case M:return d(t,(0,e._init)(e._payload),n)}if(et(e)||j(e))return(e=ju(e,t.mode,n,null)).return=t,e;Xo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(t,e,n,r):null;case x:return n.key===i?c(t,e,n,r):null;case M:return p(t,e,(i=n._init)(n._payload),r)}if(et(n)||j(n))return null!==i?null:h(t,e,n,r,null);Xo(t,n)}return null}function f(t,e,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case M:return f(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||j(r))return h(e,t=t.get(n)||null,r,i,null);Xo(e,r)}return null}function g(i,o,s,l){for(var u=null,c=null,h=o,g=o=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=p(i,h,s[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),o=a(y,o,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return n(i,h),io&&Qi(i,g),u;if(null===h){for(;g<s.length;g++)null!==(h=d(i,s[g],l))&&(o=a(h,o,g),null===c?u=h:c.sibling=h,c=h);return io&&Qi(i,g),u}for(h=r(i,h);g<s.length;g++)null!==(m=f(h,i,g,s[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),io&&Qi(i,g),u}function m(i,s,l,u){var c=j(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,u);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),io&&Qi(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return io&&Qi(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===h?c=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),io&&Qi(i,m),c}return function t(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===M&&Yo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=$o(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===S?((o=ju(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Du(a.type,a.key,a.props,null,r.mode,l)).ref=$o(r,o,a),l.return=r,r=l)}return s(r);case x:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Nu(a,r.mode,l)).return=r,r=o}return s(r);case M:return t(r,o,(c=a._init)(a._payload),l)}if(et(a))return g(r,o,a,l);if(j(a))return m(r,o,a,l);Xo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Zo=Ko(!0),Qo=Ko(!1),Jo={},ta=Ci(Jo),ea=Ci(Jo),na=Ci(Jo);function ra(t){if(t===Jo)throw Error(o(174));return t}function ia(t,e){switch(Pi(na,e),Pi(ea,t),Pi(ta,Jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ei(ta),Pi(ta,e)}function oa(){Ei(ta),Ei(ea),Ei(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(Pi(ea,t),Pi(ta,n))}function sa(t){ea.current===t&&(Ei(ta),Ei(ea))}var la=Ci(0);function ua(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ca=[];function ha(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var da=_.ReactCurrentDispatcher,pa=_.ReactCurrentBatchConfig,fa=0,ga=null,ma=null,ya=null,va=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function Sa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ca(t,e,n,r,i,a){if(fa=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,da.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=ma=null,e.updateQueue=null,da.current=us,t=n(r,i)}while(ba)}if(da.current=as,e=null!==ma&&null!==ma.next,fa=0,ya=ma=ga=null,va=!1,e)throw Error(o(300));return t}function Ea(){var t=0!==_a;return _a=0,t}function Pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=t:ya=ya.next=t,ya}function ka(){if(null===ma){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=ma.next;var e=null===ya?ga.memoizedState:ya.next;if(null!==e)ya=e,ma=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ma=t).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ya?ga.memoizedState=ya=t:ya=ya.next=t}return ya}function Oa(t,e){return"function"==typeof e?e(t):e}function Aa(t){var e=ka(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((fa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,ga.lanes|=h,Ll|=h}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,e.memoizedState)||(_s=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ga.lanes|=a,Ll|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ra(t){var e=ka(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(_s=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Ma(t,e){var n=ga,r=ka(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ha(ja.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,za(9,Da.bind(null,n,r,i,e),void 0,null),null===Al)throw Error(o(349));0!=(30&fa)||Ia(n,e,i)}return i}function Ia(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Da(t,e,n,r){e.value=n,e.getSnapshot=r,La(e)&&Fa(t)}function ja(t,e,n){return n((function(){La(e)&&Fa(t)}))}function La(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(t){return!0}}function Fa(t){var e=Ro(t,1);null!==e&&nu(e,t,1,-1)}function Na(t){var e=Pa();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ga,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ua(){return ka().memoizedState}function Ba(t,e,n,r){var i=Pa();ga.flags|=t,i.memoizedState=za(1|e,n,void 0,void 0===r?null:r)}function Va(t,e,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=za(e,n,o,r))}ga.flags|=t,i.memoizedState=za(1|e,n,o,r)}function Wa(t,e){return Ba(8390656,8,t,e)}function Ha(t,e){return Va(2048,8,t,e)}function Ga(t,e){return Va(4,2,t,e)}function qa(t,e){return Va(4,4,t,e)}function $a(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xa(t,e,n){return n=null!=n?n.concat([t]):null,Va(4,4,$a.bind(null,e,t),n)}function Ya(){}function Ka(t,e){var n=ka();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Za(t,e){var n=ka();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qa(t,e,n){return 0==(21&fa)?(t.baseState&&(t.baseState=!1,_s=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),ga.lanes|=n,Ll|=n,t.baseState=!0),e)}function Ja(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{be=n,pa.transition=r}}function ts(){return ka().memoizedState}function es(t,e,n){var r=eu(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t)?is(e,n):null!==(n=Ao(t,e,n,r))&&(nu(n,t,r,tu()),os(n,e,r))}function ns(t,e,n){var r=eu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Oo(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(t){}null!==(n=Ao(t,e,i,r))&&(nu(n,t,r,i=tu()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function is(t,e){ba=va=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!=(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var as={readContext:Po,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Po,useCallback:function(t,e){return Pa().memoizedState=[t,void 0===e?null:e],t},useContext:Po,useEffect:Wa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Ba(4194308,4,$a.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ba(4,2,t,e)},useMemo:function(t,e){var n=Pa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ga,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Pa().memoizedState=t},useState:Na,useDebugValue:Ya,useDeferredValue:function(t){return Pa().memoizedState=t},useTransition:function(){var t=Na(!1),e=t[0];return t=Ja.bind(null,t[1]),Pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ga,i=Pa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Al)throw Error(o(349));0!=(30&fa)||Ia(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Wa(ja.bind(null,r,a,t),[t]),r.flags|=2048,za(9,Da.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Pa(),e=Al.identifierPrefix;if(io){var n=Zi;e=":"+e+"R"+(n=(Ki&~(1<<32-ae(Ki)-1)).toString(32)+n),0<(n=_a++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Po,useCallback:Ka,useContext:Po,useEffect:Ha,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:qa,useMemo:Za,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Oa)},useDebugValue:Ya,useDeferredValue:function(t){return Qa(ka(),ma.memoizedState,t)},useTransition:function(){return[Aa(Oa)[0],ka().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ma,useId:ts,unstable_isNewReconciler:!1},us={readContext:Po,useCallback:Ka,useContext:Po,useEffect:Ha,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:qa,useMemo:Za,useReducer:Ra,useRef:Ua,useState:function(){return Ra(Oa)},useDebugValue:Ya,useDeferredValue:function(t){var e=ka();return null===ma?e.memoizedState=t:Qa(e,ma.memoizedState,t)},useTransition:function(){return[Ra(Oa)[0],ka().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ma,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",r=e;do{n+=B(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),ds(0,e)},n}function gs(t,e,n){(n=Do(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,e),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ms(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ps;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Eu.bind(null,t,e,n),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vs(t,e,n,r,i){return 0==(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Do(-1,1)).tag=2,jo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=_.ReactCurrentOwner,_s=!1;function ws(t,e,n,r){e.child=null===t?Qo(e,null,n,r):Zo(e,t.child,n,r)}function xs(t,e,n,r,i){n=n.render;var o=e.ref;return Eo(e,i),r=Ca(t,e,n,r,o,i),n=Ea(),null===t||_s?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function Ss(t,e,n,r,i){if(null===t){var o=n.type;return"function"!=typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Du(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Cs(t,e,o,r,i))}if(o=t.child,0==(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Hs(t,e,i)}return e.flags|=1,(t=Iu(o,r)).ref=e.ref,t.return=e,e.child=t}function Cs(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(_s=!1,e.pendingProps=r=o,0==(t.lanes&i))return e.lanes=t.lanes,Hs(t,e,i);0!=(131072&t.flags)&&(_s=!0)}}return ks(t,e,n,r,i)}function Es(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0==(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Il,Ml),Ml|=n;else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pi(Il,Ml),Ml|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Il,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pi(Il,Ml),Ml|=r;return ws(t,e,i,n),e.child}function Ps(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ks(t,e,n,r,i){var o=Mi(n)?Ri:Oi.current;return o=Ti(e,o),Eo(e,i),n=Ca(t,e,n,r,o,i),r=Ea(),null===t||_s?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function Os(t,e,n,r,i){if(Mi(n)){var o=!0;Li(e)}else o=!1;if(Eo(e,i),null===e.stateNode)Ws(t,e),Ho(e,n,r),qo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Po(u):Ti(e,u=Mi(n)?Ri:Oi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Go(e,a,r,u),To=!1;var d=e.memoizedState;a.state=d,No(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Ai.current||To?("function"==typeof c&&(Bo(e,n,c,r),l=e.memoizedState),(s=To||Wo(e,n,s,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4194308)):("function"==typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Io(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:yo(e.type,s),a.props=u,h=e.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Po(l):Ti(e,l=Mi(n)?Ri:Oi.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Go(e,a,r,l),To=!1,d=e.memoizedState,a.state=d,No(e,r,a,i);var f=e.memoizedState;s!==h||d!==f||Ai.current||To?("function"==typeof p&&(Bo(e,n,p,r),f=e.memoizedState),(u=To||Wo(e,n,u,r,d,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return As(t,e,n,r,o,i)}function As(t,e,n,r,i,o){Ps(t,e);var a=0!=(128&e.flags);if(!r&&!a)return i&&Fi(e,n,!1),Hs(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Zo(e,t.child,null,o),e.child=Zo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function Rs(t){var e=t.stateNode;e.pendingContext?Di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(0,e.context,!1),ia(t,e.containerInfo)}function Ts(t,e,n,r,i){return fo(),go(i),e.flags|=256,ws(t,e,n,r),e.child}var Ms,Is,Ds,js={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=0!=(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!=(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Pi(la,1&a),null===t)return uo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0==(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,i,0,null),t=ju(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=js,t):Ns(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,zs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(a=ju(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!=(1&e.mode)&&Zo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=js,a);if(0==(1&e.mode))return zs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(l=0!=(s&t.childLanes),_s||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(t,i),nu(r,t,i,-1))}return gu(),zs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=ku.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ui(i.nextSibling),no=e,io=!0,oo=null,null!==t&&($i[Xi++]=Ki,$i[Xi++]=Zi,$i[Xi++]=Yi,Ki=t.id,Zi=t.overflow,Yi=e),(e=Ns(e,r.children)).flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var u={mode:"hidden",children:i.children};return 0==(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=u,e.deletions=null):(i=Iu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Iu(r,s):(s=ju(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=js,i}return t=(s=t.child).sibling,i=Iu(s,{mode:"visible",children:i.children}),0==(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ns(t,e){return(e=Lu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function zs(t,e,n,r){return null!==r&&go(r),Zo(e,t.child,null,n),(t=Ns(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Us(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Co(t.return,e,n)}function Bs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!=(2&(r=la.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!=(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Us(t,n,e);else if(19===t.tag)Us(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pi(la,r),0==(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ua(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ua(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bs(e,!0,n,null,o);break;case"together":Bs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){0==(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0==(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Iu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Iu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Gs(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $s(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return Mi(e.type)&&Ii(),qs(e),null;case 3:return r=e.stateNode,oa(),Ei(Ai),Ei(Oi),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0==(256&e.flags)||(e.flags|=1024,null!==oo&&(au(oo),oo=null))),qs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Is(t,e,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[di]=e,r[pi]=a,t=0!=(1&e.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":it(r,a),zr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,t),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,t),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),at(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[pi]=r,Ms(t,e),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":zr("cancel",t),zr("close",t),i=r;break;case"iframe":case"object":case"embed":zr("load",t),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],t);i=r;break;case"source":zr("error",t),i=r;break;case"img":case"image":case"link":zr("error",t),zr("load",t),i=r;break;case"details":zr("toggle",t),i=r;break;case"input":K(t,r),i=Y(t,r),zr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),zr("invalid",t)}for(a in vt(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?mt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"==typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",t):null!=c&&b(t,a,c,l))}switch(n){case"input":q(t),J(t,r,!1);break;case"textarea":q(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Ds(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Qr(r.nodeValue,n,0!=(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!=(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return qs(e),null;case 13:if(Ei(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&e.mode)&&0==(128&e.flags))po(),fo(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=e}else fo(),0==(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!=(128&e.flags)?(e.lanes=n,e):((r=null!==r)!=(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!=(1&e.mode)&&(null===t||0!=(1&la.current)?0===Dl&&(Dl=3):gu())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return oa(),null===t&&Vr(e.stateNode.containerInfo),qs(e),null;case 10:return So(e.type._context),qs(e),null;case 19:if(Ei(la),null===(a=e.memoizedState))return qs(e),null;if(r=0!=(128&e.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Dl||null!==t&&0!=(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ua(t))){for(e.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pi(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Zt()>Vl&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ua(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(e),null}else 2*Zt()-a.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,r=!0,Gs(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Zt(),e.sibling=null,n=la.current,Pi(la,r?1&n|2:1&n),e):(qs(e),null);case 22:case 23:return hu(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!=(1&e.mode)?0!=(1073741824&Ml)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Xs(t,e){switch(eo(e),e.tag){case 1:return Mi(e.type)&&Ii(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ei(Ai),Ei(Oi),ha(),0!=(65536&(t=e.flags))&&0==(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ei(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));fo()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ei(la),null;case 4:return oa(),null;case 10:return So(e.type._context),null;case 22:case 23:return hu(),null;default:return null}}Ms=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=Y(t,i),r=Y(t,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(t.onclick=Jr)}for(c in vt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",t),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Ds=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ys=!1,Ks=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cu(t,e,n)}else n.current=null}function tl(t,e,n){try{n()}catch(n){Cu(t,e,n)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(e=t.stateNode)&&(delete e[di],delete e[pi],delete e[gi],delete e[mi],delete e[yi]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}var cl=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)pl(t,e,n),n=n.sibling}function pl(t,e,n){if(oe&&"function"==typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(t){}switch(n.tag){case 5:Ks||Js(n,e);case 6:var r=cl,i=hl;cl=null,dl(t,e,n),hl=i,null!==(cl=r)&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(t=cl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ve(t)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(t,e,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tl(n,e,a),i=i.next}while(i!==r)}dl(t,e,n);break;case 1:if(!Ks&&(Js(n,e),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(t){Cu(n,e,t)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,dl(t,e,n),Ks=r):dl(t,e,n);break;default:dl(t,e,n)}}function fl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=Ou.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===cl)throw Error(o(160));pl(a,s,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(t){Cu(i,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(e){Cu(t,t.return,e)}try{nl(5,t,t.return)}catch(e){Cu(t,t.return,e)}}break;case 1:gl(e,t),yl(t),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(e,t),yl(t),512&r&&null!==n&&Js(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(e){Cu(t,t.return,e)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),bt(l,s);var c=bt(l,a);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?mt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,c)}switch(l){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?nt(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(e){Cu(t,t.return,e)}}break;case 6:if(gl(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(e){Cu(t,t.return,e)}}break;case 3:if(gl(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(e){Cu(t,t.return,e)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Zt())),4&r&&fl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ks=(c=Ks)||h,gl(e,t),Ks=c):gl(e,t),yl(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!=(1&t.mode))for(Qs=t,h=t.child;null!==h;){for(d=Qs=h;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Js(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(t){Cu(r,n,t)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,Qs=f):wl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=gt("display",s))}catch(e){Cu(t,t.return,e)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(e){Cu(t,t.return,e)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),yl(t),4&r&&fl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),ul(t,sl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(e){Cu(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Qs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!=(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var u=Ks;if(Ys=a,(Ks=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Qs=l):xl(i);for(;null!==o;)Qs=o,bl(o,e,n),o=o.sibling;Qs=i,Ys=s,Ks=u}_l(t)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):_l(t)}}function _l(t){for(;null!==Qs;){var e=Qs;if(0!=(8772&e.flags)){var n=e.alternate;try{if(0!=(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ks||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&zo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}zo(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(o(163))}Ks||512&e.flags&&il(e)}catch(t){Cu(e,e.return,t)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function wl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function xl(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(t){Cu(e,n,t)}break;case 1:var r=e.stateNode;if("function"==typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(t){Cu(e,i,t)}}var o=e.return;try{il(e)}catch(t){Cu(e,o,t)}break;case 5:var a=e.return;try{il(e)}catch(t){Cu(e,a,t)}}}catch(t){Cu(e,e.return,t)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var Sl,Cl=Math.ceil,El=_.ReactCurrentDispatcher,Pl=_.ReactCurrentOwner,kl=_.ReactCurrentBatchConfig,Ol=0,Al=null,Rl=null,Tl=0,Ml=0,Il=Ci(0),Dl=0,jl=null,Ll=0,Fl=0,Nl=0,zl=null,Ul=null,Bl=0,Vl=1/0,Wl=null,Hl=!1,Gl=null,ql=null,$l=!1,Xl=null,Yl=0,Kl=0,Zl=null,Ql=-1,Jl=0;function tu(){return 0!=(6&Ol)?Zt():-1!==Ql?Ql:Ql=Zt()}function eu(t){return 0==(1&t.mode)?1:0!=(2&Ol)&&0!==Tl?Tl&-Tl:null!==mo.transition?(0===Jl&&(Jl=ge()),Jl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nu(t,e,n,r){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));ye(t,n,r),0!=(2&Ol)&&t===Al||(t===Al&&(0==(2&Ol)&&(Fl|=n),4===Dl&&su(t,Tl)),ru(t,r),1===n&&0===Ol&&0==(1&e.mode)&&(Vl=Zt()+500,zi&&Vi()))}function ru(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!=(s&n)&&0==(s&r)||(i[a]=pe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=de(t,t===Al?Tl:0);if(0===r)null!==n&&Xt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Xt(n),1===e)0===t.tag?function(t){zi=!0,Bi(t)}(lu.bind(null,t)):Bi(lu.bind(null,t)),ai((function(){0==(6&Ol)&&Vi()})),n=null;else{switch(_e(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Au(n,iu.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iu(t,e){if(Ql=-1,Jl=0,0!=(6&Ol))throw Error(o(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var r=de(t,t===Al?Tl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&t.expiredLanes)||e)e=mu(t,r);else{e=r;var i=Ol;Ol|=2;var a=fu();for(Al===t&&Tl===e||(Wl=null,Vl=Zt()+500,du(t,e));;)try{vu();break}catch(e){pu(t,e)}xo(),El.current=a,Ol=i,null!==Rl?e=0:(Al=null,Tl=0,e=Dl)}if(0!==e){if(2===e&&0!==(i=fe(t))&&(r=i,e=ou(t,i)),1===e)throw n=jl,du(t,0),su(t,r),ru(t,Zt()),n;if(6===e)su(t,r);else{if(i=t.current.alternate,0==(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=mu(t,r))&&0!==(a=fe(t))&&(r=a,e=ou(t,a)),1===e))throw n=jl,du(t,0),su(t,r),ru(t,Zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wu(t,Ul,Wl);break;case 3:if(su(t,r),(130023424&r)===r&&10<(e=Bl+500-Zt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wu.bind(null,t,Ul,Wl),e);break}wu(t,Ul,Wl);break;case 4:if(su(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){t.timeoutHandle=ri(wu.bind(null,t,Ul,Wl),r);break}wu(t,Ul,Wl);break;default:throw Error(o(329))}}}return ru(t,Zt()),t.callbackNode===n?iu.bind(null,t):null}function ou(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),2!==(t=mu(t,e))&&(e=Ul,Ul=n,null!==e&&au(e)),t}function au(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function su(t,e){for(e&=~Nl,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function lu(t){if(0!=(6&Ol))throw Error(o(327));xu();var e=de(t,0);if(0==(1&e))return ru(t,Zt()),null;var n=mu(t,e);if(0!==t.tag&&2===n){var r=fe(t);0!==r&&(e=r,n=ou(t,r))}if(1===n)throw n=jl,du(t,0),su(t,e),ru(t,Zt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t,Ul,Wl),ru(t,Zt()),null}function uu(t,e){var n=Ol;Ol|=1;try{return t(e)}finally{0===(Ol=n)&&(Vl=Zt()+500,zi&&Vi())}}function cu(t){null!==Xl&&0===Xl.tag&&0==(6&Ol)&&xu();var e=Ol;Ol|=1;var n=kl.transition,r=be;try{if(kl.transition=null,be=1,t)return t()}finally{be=r,kl.transition=n,0==(6&(Ol=e))&&Vi()}}function hu(){Ml=Il.current,Ei(Il)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ii();break;case 3:oa(),Ei(Ai),Ei(Oi),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(la);break;case 10:So(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Al=t,Rl=t=Iu(t.current,null),Tl=Ml=e,Dl=0,jl=null,Nl=Fl=Ll=0,Ul=zl=null,null!==ko){for(e=0;e<ko.length;e++)if(null!==(r=(n=ko[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return t}function pu(t,e){for(;;){var n=Rl;try{if(xo(),da.current=as,va){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ya=ma=ga=null,ba=!1,_a=0,Pl.current=null,null===n||null===n.return){Dl=1,jl=e,Rl=null;break}t:{var a=t,s=n.return,l=n,u=e;if(e=Tl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ys(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,e),1&f.mode&&ms(a,c,e),u=c;var g=(e=f).updateQueue;if(null===g){var m=new Set;m.add(u),e.updateQueue=m}else g.add(u);break t}if(0==(1&e)){ms(a,c,e),gu();break t}u=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,e),go(cs(u,l));break t}}a=u=cs(u,l),4!==Dl&&(Dl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,fs(0,u,e));break t;case 1:l=u;var v=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof v.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,gs(a,l,e));break t}}a=a.return}while(null!==a)}_u(n)}catch(t){e=t,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fu(){var t=El.current;return El.current=as,null===t?as:t}function gu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0==(268435455&Ll)&&0==(268435455&Fl)||su(Al,Tl)}function mu(t,e){var n=Ol;Ol|=2;var r=fu();for(Al===t&&Tl===e||(Wl=null,du(t,e));;)try{yu();break}catch(e){pu(t,e)}if(xo(),Ol=n,El.current=r,null!==Rl)throw Error(o(261));return Al=null,Tl=0,Dl}function yu(){for(;null!==Rl;)bu(Rl)}function vu(){for(;null!==Rl&&!Yt();)bu(Rl)}function bu(t){var e=Sl(t.alternate,t,Ml);t.memoizedProps=t.pendingProps,null===e?_u(t):Rl=e,Pl.current=null}function _u(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(32768&e.flags)){if(null!==(n=$s(n,e,Ml)))return void(Rl=n)}else{if(null!==(n=Xs(n,e)))return n.flags&=32767,void(Rl=n);if(null===t)return Dl=6,void(Rl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Rl=e);Rl=e=t}while(null!==e);0===Dl&&(Dl=5)}function wu(t,e,n){var r=be,i=kl.transition;try{kl.transition=null,be=1,function(t,e,n,r){do{xu()}while(null!==Xl);if(0!=(6&Ol))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Al&&(Rl=Al=null,Tl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||$l||($l=!0,Au(ee,(function(){return xu(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=kl.transition,kl.transition=null;var s=be;be=1;var l=Ol;Ol|=4,Pl.current=null,function(t,e){if(ti=He,pr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(t){n=null;break t}var s=0,l=-1,u=-1,c=0,h=0,d=t,p=null;e:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===t)break e;if(p===n&&++c===i&&(l=s),p===a&&++h===r&&(u=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var g=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:yo(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(t){Cu(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}g=el,el=!1}(t,n),ml(n,t),fr(ei),He=!!ti,ei=ti=null,t.current=n,vl(n,t,i),Kt(),Ol=l,be=s,kl.transition=a}else t.current=n;if($l&&($l=!1,Xl=t,Yl=i),0===(a=t.pendingLanes)&&(ql=null),function(t){if(oe&&"function"==typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128==(128&t.current.flags))}catch(t){}}(n.stateNode),ru(t,Zt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=Gl,Gl=null,t;0!=(1&Yl)&&0!==t.tag&&xu(),0!=(1&(a=t.pendingLanes))?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,Vi()}(t,e,n,r)}finally{kl.transition=i,be=r}return null}function xu(){if(null!==Xl){var t=_e(Yl),e=kl.transition,n=be;try{if(kl.transition=null,be=16>t?16:t,null===Xl)var r=!1;else{if(t=Xl,Xl=null,Yl=0,0!=(6&Ol))throw Error(o(331));var i=Ol;for(Ol|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!=(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Qs=d;else for(;null!==Qs;){var p=(h=Qs).sibling,f=h.return;if(ol(h),h===c){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!=(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break t}Qs=a.return}}var b=t.current;for(Qs=b;null!==Qs;){var _=(s=Qs).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else t:for(s=b;null!==Qs;){if(0!=(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(t){Cu(l,l.return,t)}if(l===s){Qs=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break t}Qs=l.return}}if(Ol=i,Vi(),oe&&"function"==typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(t){}r=!0}return r}finally{be=n,kl.transition=e}}return!1}function Su(t,e,n){t=jo(t,e=fs(0,e=cs(n,e),1),1),e=tu(),null!==t&&(ye(t,1,e),ru(t,e))}function Cu(t,e,n){if(3===t.tag)Su(t,t,n);else for(;null!==e;){if(3===e.tag){Su(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){e=jo(e,t=gs(e,t=cs(n,t),1),1),t=tu(),null!==e&&(ye(e,1,t),ru(e,t));break}}e=e.return}}function Eu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tu(),t.pingedLanes|=t.suspendedLanes&n,Al===t&&(Tl&n)===n&&(4===Dl||3===Dl&&(130023424&Tl)===Tl&&500>Zt()-Bl?du(t,0):Nl|=n),ru(t,e)}function Pu(t,e){0===e&&(0==(1&t.mode)?e=1:(e=ce,0==(130023424&(ce<<=1))&&(ce=4194304)));var n=tu();null!==(t=Ro(t,e))&&(ye(t,e,n),ru(t,n))}function ku(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Pu(t,n)}function Ou(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Pu(t,n)}function Au(t,e){return $t(t,e)}function Ru(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(t,e,n,r){return new Ru(t,e,n,r)}function Mu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Iu(t,e){var n=t.alternate;return null===n?((n=Tu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Du(t,e,n,r,i,a){var s=2;if(r=t,"function"==typeof t)Mu(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case S:return ju(n.children,i,a,e);case C:s=8,i|=8;break;case E:return(t=Tu(12,n,e,2|i)).elementType=E,t.lanes=a,t;case A:return(t=Tu(13,n,e,i)).elementType=A,t.lanes=a,t;case R:return(t=Tu(19,n,e,i)).elementType=R,t.lanes=a,t;case I:return Lu(n,i,a,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case P:s=10;break t;case k:s=9;break t;case O:s=11;break t;case T:s=14;break t;case M:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tu(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function ju(t,e,n,r){return(t=Tu(7,t,r,e)).lanes=n,t}function Lu(t,e,n,r){return(t=Tu(22,t,r,e)).elementType=I,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return(t=Tu(6,t,null,e)).lanes=n,t}function Nu(t,e,n){return(e=Tu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zu(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(t,e,n,r,i,o,a,s,l){return t=new zu(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Tu(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),t}function Bu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Vu(t){if(!t)return ki;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Mi(n))return ji(t,n,e)}return e}function Wu(t,e,n,r,i,o,a,s,l){return(t=Uu(n,r,!0,t,0,o,0,s,l)).context=Vu(null),n=t.current,(o=Do(r=tu(),i=eu(n))).callback=null!=e?e:null,jo(n,o,i),t.current.lanes=i,ye(t,i,r),ru(t,r),t}function Hu(t,e,n,r){var i=e.current,o=tu(),a=eu(i);return n=Vu(n),null===e.context?e.context=n:e.pendingContext=n,(e=Do(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=jo(i,e,a))&&(nu(t,i,a,o),Lo(t,i,a)),a}function Gu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function $u(t,e){qu(t,e),(t=t.alternate)&&qu(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ai.current)_s=!0;else{if(0==(t.lanes&n)&&0==(128&e.flags))return _s=!1,function(t,e,n){switch(e.tag){case 3:Rs(e),fo();break;case 5:aa(e);break;case 1:Mi(e.type)&&Li(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pi(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Pi(la,1&la.current),e.flags|=128,null):0!=(n&e.child.childLanes)?Fs(t,e,n):(Pi(la,1&la.current),null!==(t=Hs(t,e,n))?t.sibling:null);Pi(la,1&la.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(128&t.flags)){if(r)return Vs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,Es(t,e,n)}return Hs(t,e,n)}(t,e,n);_s=0!=(131072&t.flags)}else _s=!1,io&&0!=(1048576&e.flags)&&Ji(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ws(t,e),t=e.pendingProps;var i=Ti(e,Oi.current);Eo(e,n),i=Ca(null,e,r,t,i,n);var a=Ea();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(e),i.updater=Vo,e.stateNode=i,i._reactInternals=e,qo(e,r,t,n),e=As(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"==typeof t)return Mu(t)?1:0;if(null!=t){if((t=t.$$typeof)===O)return 11;if(t===T)return 14}return 2}(r),t=yo(r,t),i){case 0:e=ks(null,e,r,t,n);break t;case 1:e=Os(null,e,r,t,n);break t;case 11:e=xs(null,e,r,t,n);break t;case 14:e=Ss(null,e,r,yo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,ks(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Os(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 3:t:{if(Rs(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Io(t,e),No(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ts(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Ts(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ui(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Qo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){e=Hs(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&uo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Ps(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&uo(e),null;case 13:return Fs(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Zo(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xs(t,e,r,i=e.elementType===r?i:yo(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Pi(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){e=Hs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Do(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Co(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),r=r(i=Po(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=yo(r=e.type,e.pendingProps),Ss(t,e,r,i=yo(r.type,i),n);case 15:return Cs(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Ws(t,e),e.tag=1,Mi(r)?(t=!0,Li(e)):t=!1,Eo(e,n),Ho(e,r,i),qo(e,r,i,n),As(null,e,r,!0,t,n);case 19:return Vs(t,e,n);case 22:return Es(t,e,n)}throw Error(o(156,e.tag))};var Xu="function"==typeof reportError?reportError:function(t){console.error(t)};function Yu(t){this._internalRoot=t}function Ku(t){this._internalRoot=t}function Zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ju(){}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var t=Gu(a);s.call(t)}}Hu(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var t=Gu(a);o.call(t)}}var a=Wu(e,r,t,0,null,!1,0,"",Ju);return t._reactRootContainer=a,t[fi]=a.current,Vr(8===t.nodeType?t.parentNode:t),cu(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof r){var s=r;r=function(){var t=Gu(l);s.call(t)}}var l=Uu(t,0,!1,null,0,!1,0,"",Ju);return t._reactRootContainer=l,t[fi]=l.current,Vr(8===t.nodeType?t.parentNode:t),cu((function(){Hu(e,l,n,r)})),l}(n,e,t,i,r);return Gu(a)}Ku.prototype.render=Yu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hu(t,e,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cu((function(){Hu(null,t,null,null)})),e[fi]=null}},Ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ie.length&&0!==e&&e<Ie[n].priority;n++);Ie.splice(n,0,t),0===n&&Fe(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),ru(e,Zt()),0==(6&Ol)&&(Vl=Zt()+500,Vi()))}break;case 13:cu((function(){var e=Ro(t,1);if(null!==e){var n=tu();nu(e,t,1,n)}})),$u(t,1)}},xe=function(t){if(13===t.tag){var e=Ro(t,134217728);null!==e&&nu(e,t,134217728,tu()),$u(t,134217728)}},Se=function(t){if(13===t.tag){var e=eu(t),n=Ro(t,e);null!==n&&nu(n,t,e,tu()),$u(t,e)}},Ce=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));$(r),Q(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ot=uu,At=cu;var ec={usingClientEntryPoint:!1,Events:[bi,_i,wi,Pt,kt,uu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Gt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ie=ic.inject(rc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(e))throw Error(o(200));return Bu(t,e,null,n)},e.createRoot=function(t,e){if(!Zu(t))throw Error(o(299));var n=!1,r="",i=Xu;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Uu(t,1,!1,null,0,n,0,r,i),t[fi]=e.current,Vr(8===t.nodeType?t.parentNode:t),new Yu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return null===(t=Gt(e))?null:t.stateNode},e.flushSync=function(t){return cu(t)},e.hydrate=function(t,e,n){if(!Qu(e))throw Error(o(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Zu(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Xu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Wu(e,null,t,1,null!=n?n:null,i,0,a,s),t[fi]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ku(e)},e.render=function(t,e,n){if(!Qu(e))throw Error(o(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Qu(t))throw Error(o(40));return!!t._reactRootContainer&&(cu((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[fi]=null}))})),!0)},e.unstable_batchedUpdates=uu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qu(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tc(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},745:(t,e,n)=>{"use strict";var r=n(3935);e.s=r.createRoot,r.hydrateRoot},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},9590:t=>{var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!o(t[u[l]],a[u[l]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},9921:(t,e)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");n=Symbol.for("react.module.reference"),e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===s||t===a||t===d||t===p||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===f||t.$$typeof===l||t.$$typeof===u||t.$$typeof===h||t.$$typeof===n||void 0!==t.getModuleId)},e.typeOf=function(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case d:case p:return t;default:switch(t=t&&t.$$typeof){case c:case u:case h:case g:case f:case l:return t;default:return e}}case i:return e}}}},9864:(t,e,n)=>{"use strict";t.exports=n(9921)},722:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),a=(i=n(9590))&&i.__esModule?i:{default:i},s=n(5741),l=n(8045);function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,t);var e,n,r,i,s=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(r);if(i){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function u(){var t;h(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(g(t=s.call.apply(s,[this].concat(n))),"mounted",!1),y(g(t),"isReady",!1),y(g(t),"isPlaying",!1),y(g(t),"isLoading",!0),y(g(t),"loadOnReady",null),y(g(t),"startOnPlay",!0),y(g(t),"seekOnPlay",null),y(g(t),"onDurationCalled",!1),y(g(t),"handlePlayerMount",(function(e){t.player||(t.player=e,t.player.load(t.props.url)),t.progress()})),y(g(t),"getInternalPlayer",(function(e){return t.player?t.player[e]:null})),y(g(t),"progress",(function(){if(t.props.url&&t.player&&t.isReady){var e=t.getCurrentTime()||0,n=t.getSecondsLoaded(),r=t.getDuration();if(r){var i={playedSeconds:e,played:e/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===t.prevPlayed&&i.loadedSeconds===t.prevLoaded||t.props.onProgress(i),t.prevPlayed=i.playedSeconds,t.prevLoaded=i.loadedSeconds}}t.progressTimeout=setTimeout(t.progress,t.props.progressFrequency||t.props.progressInterval)})),y(g(t),"handleReady",(function(){if(t.mounted){t.isReady=!0,t.isLoading=!1;var e=t.props,n=e.onReady,r=e.playing,i=e.volume,o=e.muted;n(),o||null===i||t.player.setVolume(i),t.loadOnReady?(t.player.load(t.loadOnReady,!0),t.loadOnReady=null):r&&t.player.play(),t.handleDurationCheck()}})),y(g(t),"handlePlay",(function(){t.isPlaying=!0,t.isLoading=!1;var e=t.props,n=e.onStart,r=e.onPlay,i=e.playbackRate;t.startOnPlay&&(t.player.setPlaybackRate&&1!==i&&t.player.setPlaybackRate(i),n(),t.startOnPlay=!1),r(),t.seekOnPlay&&(t.seekTo(t.seekOnPlay),t.seekOnPlay=null),t.handleDurationCheck()})),y(g(t),"handlePause",(function(e){t.isPlaying=!1,t.isLoading||t.props.onPause(e)})),y(g(t),"handleEnded",(function(){var e=t.props,n=e.activePlayer,r=e.loop,i=e.onEnded;n.loopOnEnded&&r&&t.seekTo(0),r||(t.isPlaying=!1,i())})),y(g(t),"handleError",(function(){var e;t.isLoading=!1,(e=t.props).onError.apply(e,arguments)})),y(g(t),"handleDurationCheck",(function(){clearTimeout(t.durationCheckTimeout);var e=t.getDuration();e?t.onDurationCalled||(t.props.onDuration(e),t.onDurationCalled=!0):t.durationCheckTimeout=setTimeout(t.handleDurationCheck,100)})),y(g(t),"handleLoaded",(function(){t.isLoading=!1})),t}return e=u,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,u=n.playbackRate,c=n.pip,h=n.loop,d=n.activePlayer,p=n.disableDeferredLoading;if(!(0,a.default)(t.url,r)){if(this.isLoading&&!d.forceLoad&&!p&&!(0,l.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}t.playing||!i||this.isPlaying||this.player.play(),t.playing&&!i&&this.isPlaying&&this.player.pause(),!t.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&null!==o&&this.player.setVolume(o),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return e.player.setVolume(o)})))),t.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),t.loop!==h&&this.player.setLoop&&this.player.setLoop(h)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(t,e){var n=this;if(this.isReady){if(e?"fraction"===e:t>0&&t<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*t):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(t)}else 0!==t&&(this.seekOnPlay=t,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var t=this.props.activePlayer;return t?o.default.createElement(t,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&d(e.prototype,n),u}(o.Component);e.default=v,y(v,"displayName","Player"),y(v,"propTypes",s.propTypes),y(v,"defaultProps",s.defaultProps)},3855:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}(n(7294));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="64px",m={},y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(y,t);var e,n,r,o,a=(r=y,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(o){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function y(){var t;l(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(d(t=a.call.apply(a,[this].concat(n))),"mounted",!1),f(d(t),"state",{image:null}),f(d(t),"handleKeyPress",(function(e){"Enter"!==e.key&&" "!==e.key||t.props.onClick()})),t}return e=y,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.url,r=e.light;t.url===n&&t.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(t){var e=this,n=t.url,r=t.light,o=t.oEmbedUrl;if(!i.default.isValidElement(r))if("string"!=typeof r){if(!m[n])return this.setState({image:null}),window.fetch(o.replace("{url}",n)).then((function(t){return t.json()})).then((function(t){if(t.thumbnail_url&&e.mounted){var r=t.thumbnail_url.replace("height=100","height=480");e.setState({image:r}),m[n]=r}}));this.setState({image:m[n]})}else this.setState({image:r})}},{key:"render",value:function(){var t=this.props,e=t.light,n=t.onClick,r=t.playIcon,o=t.previewTabIndex,a=this.state.image,l=i.default.isValidElement(e),u={display:"flex",alignItems:"center",justifyContent:"center"},c={preview:s({width:"100%",height:"100%",backgroundImage:a&&!l?"url(".concat(a,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},u),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:g,width:g,height:g,position:l?"absolute":void 0},u),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},h=i.default.createElement("div",{style:c.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:c.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:c.preview,className:"react-player__preview",onClick:n,tabIndex:o,onKeyPress:this.handleKeyPress},l?e:null,r||h)}}])&&u(e.prototype,n),y}(i.Component);e.default=y},390:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createReactPlayer=void 0;var r=E(n(7294)),i=c(n(9996)),o=c(n(845)),a=c(n(9590)),s=n(5741),l=n(8045),u=c(n(722));function c(t){return t&&t.__esModule?t:{default:t}}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}function g(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function _(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return C=function(){return t},t}function E(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!=typeof t)return{default:t};var e=C();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var P=(0,r.lazy)((function(){return Promise.resolve().then((function(){return E(n(3855))}))})),k="undefined"!=typeof window&&window.document,O=void 0!==n.g&&n.g.window&&n.g.window.document,A=Object.keys(s.propTypes),R=k||O?r.Suspense:function(){return null},T=[];e.createReactPlayer=function(t,e){var n,c;return c=n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(E,n);var c,h,d,m,C=(d=E,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(d);if(m){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function E(){var n;y(this,E);for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return S(w(n=C.call.apply(C,[this].concat(c))),"state",{showPreview:!!n.props.light}),S(w(n),"references",{wrapper:function(t){n.wrapper=t},player:function(t){n.player=t}}),S(w(n),"handleClickPreview",(function(t){n.setState({showPreview:!1}),n.props.onClickPreview(t)})),S(w(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(w(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(w(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(w(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(w(n),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(t):null})),S(w(n),"seekTo",(function(t,e){if(!n.player)return null;n.player.seekTo(t,e)})),S(w(n),"handleReady",(function(){n.props.onReady(w(n))})),S(w(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(T,g(t));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return e||null}))),S(w(n),"getConfig",(0,o.default)((function(t,e){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[e]||{},r,r[e]||{}])}))),S(w(n),"getAttributes",(0,o.default)((function(t){return(0,l.omit)(n.props,A)}))),S(w(n),"renderActivePlayer",(function(t){if(!t)return null;var e=n.getActivePlayer(t);if(!e)return null;var i=n.getConfig(t,e.key);return r.default.createElement(u.default,f({},n.props,{key:e.key,ref:n.references.player,config:i,activePlayer:e.lazyPlayer||e,onReady:n.handleReady}))})),n}return c=E,h=[{key:"shouldComponentUpdate",value:function(t,e){return!(0,a.default)(this.props,t)||!(0,a.default)(this.state,e)}},{key:"componentDidUpdate",value:function(t){var e=this.props.light;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(t){if(!t)return null;var e=this.props,n=e.light,i=e.playIcon,o=e.previewTabIndex,a=e.oEmbedUrl;return r.default.createElement(P,{url:t,light:n,playIcon:i,previewTabIndex:o,oEmbedUrl:a,onClick:this.handleClickPreview})}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.style,i=t.width,o=t.height,a=t.fallback,s=t.wrapper,l=this.state.showPreview,u=this.getAttributes(e),c="string"==typeof s?this.references.wrapper:void 0;return r.default.createElement(s,f({ref:c,style:p(p({},n),{},{width:i,height:o})},u),r.default.createElement(R,{fallback:a},l?this.renderPreview(e):this.renderActivePlayer(e)))}}],h&&v(c.prototype,h),E}(r.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",s.propTypes),S(n,"defaultProps",s.defaultProps),S(n,"addCustomPlayer",(function(t){T.push(t)})),S(n,"removeCustomPlayers",(function(){T.length=0})),S(n,"canPlay",(function(e){for(var n=0,r=[].concat(T,g(t));n<r.length;n++)if(r[n].canPlay(e))return!0;return!1})),S(n,"canEnablePIP",(function(e){for(var n=0,r=[].concat(T,g(t));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(e))return!0}return!1})),c}},2004:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=n(6497))&&r.__esModule?r:{default:r},o=n(390),a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);e.Z=s},1776:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var r=n(8045);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;e.MATCH_URL_YOUTUBE=o;var a=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;e.MATCH_URL_SOUNDCLOUD=a;var s=/vimeo\.com\/(?!progressive_redirect).+/;e.MATCH_URL_VIMEO=s;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;e.MATCH_URL_FACEBOOK=l;var u=/^https?:\/\/fb\.watch\/.+$/;e.MATCH_URL_FACEBOOK_WATCH=u;var c=/streamable\.com\/([a-z0-9]+)$/;e.MATCH_URL_STREAMABLE=c;var h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;e.MATCH_URL_WISTIA=h;var d=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;e.MATCH_URL_TWITCH_VIDEO=d;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;e.MATCH_URL_TWITCH_CHANNEL=p;var f=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;e.MATCH_URL_DAILYMOTION=f;var g=/mixcloud\.com\/([^/]+\/[^/]+)/;e.MATCH_URL_MIXCLOUD=g;var m=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;e.MATCH_URL_VIDYARD=m;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;e.MATCH_URL_KALTURA=y;var v=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;e.AUDIO_EXTENSIONS=v;var b=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;e.VIDEO_EXTENSIONS=b;var _=/\.(m3u8)($|\?)/i;e.HLS_EXTENSIONS=_;var w=/\.(mpd)($|\?)/i;e.DASH_EXTENSIONS=w;var x=/\.(flv)($|\?)/i;e.FLV_EXTENSIONS=x;var S={youtube:function(t){return t instanceof Array?t.every((function(t){return o.test(t)})):o.test(t)},soundcloud:function(t){return a.test(t)&&!v.test(t)},vimeo:function(t){return s.test(t)&&!b.test(t)&&!_.test(t)},facebook:function(t){return l.test(t)||u.test(t)},streamable:function(t){return c.test(t)},wistia:function(t){return h.test(t)},twitch:function(t){return d.test(t)||p.test(t)},dailymotion:function(t){return f.test(t)},mixcloud:function(t){return g.test(t)},vidyard:function(t){return m.test(t)},kaltura:function(t){return y.test(t)},file:function t(e){if(e instanceof Array){var n,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"==typeof a&&t(a))return!0;if(t(a.src))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(e)&&!(0,r.isBlobUrl)(e))||v.test(e)||b.test(e)||_.test(e)||w.test(e)||x.test(e)}};e.canPlay=S},6807:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(v,t);var e,n,r,s,l=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(r);if(s){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){var t;h(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(g(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),y(g(t),"onDurationChange",(function(){var e=t.getDuration();t.props.onDuration(e)})),y(g(t),"mute",(function(){t.callPlayer("setMuted",!0)})),y(g(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),y(g(t),"ref",(function(e){t.container=e})),t}return e=v,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e,n,r=this,i=this.props,s=i.controls,l=i.config,h=i.onError,d=i.playing,p=(e=t.match(a.MATCH_URL_DAILYMOTION),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];this.player?this.player.load(p,{start:(0,o.parseStartTime)(t),autoplay:d}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(t){return t.player})).then((function(e){if(r.container){var n=e.player;r.player=new n(r.container,{width:"100%",height:"100%",video:p,params:u({controls:s,autoplay:r.props.playing,mute:r.props.muted,start:(0,o.parseStartTime)(t),origin:window.location.origin},l.params),events:{apiready:r.props.onReady,seeked:function(){return r.props.onSeek(r.player.currentTime)},video_end:r.props.onEnded,durationchange:r.onDurationChange,pause:r.props.onPause,playing:r.props.onPlay,waiting:r.props.onBuffer,error:function(t){return h(t)}}})}}),h)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&d(e.prototype,n),v}(i.Component);e.default=v,y(v,"displayName","DailyMotion"),y(v,"canPlay",a.canPlay.dailymotion),y(v,"loopOnEnded",!0)},1972:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m="https://connect.facebook.net/en_US/sdk.js",y="fbAsyncInit",v="facebook-player-",b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(b,t);var e,n,r,a,s=(r=b,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(a){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function b(){var t;u(this,b);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(p(t),"playerID",t.props.config.playerId||"".concat(v).concat((0,o.randomString)())),g(p(t),"mute",(function(){t.callPlayer("mute")})),g(p(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=b,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;e?(0,o.getSDK)(m,"FB",y).then((function(t){return t.XFBML.parse()})):(0,o.getSDK)(m,"FB",y).then((function(t){t.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),t.Event.subscribe("xfbml.render",(function(t){n.props.onLoaded()})),t.Event.subscribe("xfbml.ready",(function(t){"video"===t.type&&t.id===n.playerID&&(n.player=t.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},t))}}])&&c(e.prototype,n),b}(i.Component);e.default=b,g(b,"displayName","Facebook"),g(b,"canPlay",a.canPlay.facebook),g(b,"loopOnEnded",!0)},4926:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m="undefined"!=typeof navigator,y=m&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,v=m&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,b=/www\.dropbox\.com\/.+/,_=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,t);var e,n,r,s,m=(r=y,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(s){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function y(){var t;u(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(p(t=m.call.apply(m,[this].concat(n))),"onReady",(function(){var e;return(e=t.props).onReady.apply(e,arguments)})),g(p(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),g(p(t),"onBuffer",(function(){var e;return(e=t.props).onBuffer.apply(e,arguments)})),g(p(t),"onBufferEnd",(function(){var e;return(e=t.props).onBufferEnd.apply(e,arguments)})),g(p(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),g(p(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),g(p(t),"onError",(function(){var e;return(e=t.props).onError.apply(e,arguments)})),g(p(t),"onPlayBackRateChange",(function(e){return t.props.onPlaybackRateChange(e.target.playbackRate)})),g(p(t),"onEnablePIP",(function(){var e;return(e=t.props).onEnablePIP.apply(e,arguments)})),g(p(t),"onDisablePIP",(function(e){var n=t.props,r=n.onDisablePIP,i=n.playing;r(e),i&&t.play()})),g(p(t),"onPresentationModeChange",(function(e){if(t.player&&(0,o.supportsWebKitPresentationMode)(t.player)){var n=t.player.webkitPresentationMode;"picture-in-picture"===n?t.onEnablePIP(e):"inline"===n&&t.onDisablePIP(e)}})),g(p(t),"onSeek",(function(e){t.props.onSeek(e.target.currentTime)})),g(p(t),"mute",(function(){t.player.muted=!0})),g(p(t),"unmute",(function(){t.player.muted=!1})),g(p(t),"renderSourceElement",(function(t,e){return"string"==typeof t?i.default.createElement("source",{key:e,src:t}):i.default.createElement("source",l({key:e},t))})),g(p(t),"renderTrack",(function(t,e){return i.default.createElement("track",l({key:e},t))})),g(p(t),"ref",(function(e){t.player&&(t.prevPlayer=t.player),t.player=e})),t}return e=y,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),v&&this.player.load()}},{key:"componentDidUpdate",value:function(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url===t.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(t){var e=this.props,n=e.url,r=e.playsinline;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("ratechange",this.onPlayBackRateChange),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||t.addEventListener("canplay",this.onReady),r&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(t,e){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("ratechange",this.onPlayBackRateChange),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(e)||t.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(t){return!t.config.forceVideo&&!t.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio)}},{key:"shouldUseHLS",value:function(t){return!!this.props.config.forceHLS||!v&&(a.HLS_EXTENSIONS.test(t)||_.test(t))}},{key:"shouldUseDASH",value:function(t){return a.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(t){return a.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}},{key:"load",value:function(t){var e=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(e.hls=new n(i),e.hls.on(n.Events.MANIFEST_PARSED,(function(){e.props.onReady()})),e.hls.on(n.Events.ERROR,(function(t,r){e.props.onError(t,r,e.hls,n)})),_.test(t)){var r=t.match(_)[1];e.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else e.hls.loadSource(t);e.hls.attachMedia(e.player),e.props.onLoaded()})),this.shouldUseDASH(t)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){e.dash=n.MediaPlayer().create(),e.dash.initialize(e.player,t,e.props.playing),e.dash.on("error",e.props.onError),parseInt(a)<3?e.dash.getDebug().setLogToBrowserConsole(!1):e.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),e.props.onLoaded()})),this.shouldUseFLV(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){e.flv=n.createPlayer({type:"flv",url:t}),e.flv.attachMediaElement(e.player),e.flv.on(n.Events.ERROR,(function(t,r){e.props.onError(t,r,e.flv,n)})),e.flv.load(),e.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,o.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var t=this.player.play();t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(t){this.player.currentTime=t}},{key:"setVolume",value:function(t){this.player.volume=t}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(t){try{this.player.playbackRate=t}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var t=this.player,e=t.duration,n=t.seekable;return e===1/0&&n.length>0?n.end(n.length-1):e}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var t=this.player.buffered;if(0===t.length)return 0;var e=t.end(t.length-1),n=this.getDuration();return e>n?n:e}},{key:"getSource",value:function(t){var e=this.shouldUseHLS(t),n=this.shouldUseDASH(t),r=this.shouldUseFLV(t);if(!(t instanceof Array||(0,o.isMediaStream)(t)||e||n||r))return b.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.playing,r=t.loop,o=t.controls,a=t.muted,s=t.config,u=t.width,c=t.height,h=this.shouldUseAudio(this.props)?"audio":"video",d={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(h,l({ref:this.ref,src:this.getSource(e),style:d,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),e instanceof Array&&e.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(e.prototype,n),y}(i.Component);e.default=w,g(w,"displayName","FilePlayer"),g(w,"canPlay",a.canPlay.file)},3911:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(g,t);var e,n,r,a,s=(r=g,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){var t;l(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),f(d(t),"duration",null),f(d(t),"currentTime",null),f(d(t),"secondsLoaded",null),f(d(t),"mute",(function(){t.callPlayer("mute")})),f(d(t),"unmute",(function(){t.callPlayer("unmute")})),f(d(t),"ref",(function(e){t.iframe=e})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.on("ready",(function(){setTimeout((function(){e.player.isReady=!0,e.player.setLoop(e.props.loop),e.props.muted&&e.player.mute(),e.addListeners(e.player,e.props),e.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(t,e){var n=this;t.on("play",e.onPlay),t.on("pause",e.onPause),t.on("ended",e.onEnded),t.on("error",e.onError),t.on("timeupdate",(function(t){var e=t.duration,r=t.seconds;n.duration=e,n.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(e.prototype,n),g}(i.Component);e.default=g,f(g,"displayName","Kaltura"),f(g,"canPlay",a.canPlay.kaltura)},143:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(y,t);var e,n,r,s,l=(r=y,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function y(){var t;c(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(f(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),m(f(t),"duration",null),m(f(t),"currentTime",null),m(f(t),"secondsLoaded",null),m(f(t),"mute",(function(){})),m(f(t),"unmute",(function(){})),m(f(t),"ref",(function(e){t.iframe=e})),t}return e=y,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(t){e.player=t.PlayerWidget(e.iframe),e.player.ready.then((function(){e.player.events.play.on(e.props.onPlay),e.player.events.pause.on(e.props.onPause),e.player.events.ended.on(e.props.onEnded),e.player.events.error.on(e.props.error),e.player.events.progress.on((function(t,n){e.currentTime=t,e.duration=n})),e.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.config,r=e.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0",allow:"autoplay"})}}],n&&h(e.prototype,n),y}(i.Component);e.default=y,m(y,"displayName","Mixcloud"),m(y,"canPlay",a.canPlay.mixcloud),m(y,"loopOnEnded",!0)},2648:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,t);var e,n,r,a,s=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(a){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(f(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(f(t),"duration",null),m(f(t),"currentTime",null),m(f(t),"fractionLoaded",null),m(f(t),"mute",(function(){t.setVolume(0)})),m(f(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),m(f(t),"ref",(function(e){t.iframe=e})),t}return e=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;e||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(t){n.currentTime=t.currentPosition/1e3,n.fractionLoaded=t.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(t){return n.props.onError(t)}))),n.player.load(t,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(t){n.duration=t/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",1e3*t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:t,frameBorder:0,allow:"autoplay"})}}])&&h(e.prototype,n),l}(i.Component);e.default=y,m(y,"displayName","SoundCloud"),m(y,"canPlay",a.canPlay.soundcloud),m(y,"loopOnEnded",!0)},993:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(m,t);var e,n,r,s,g=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function m(){var t;l(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(d(t=g.call.apply(g,[this].concat(n))),"callPlayer",o.callPlayer),f(d(t),"duration",null),f(d(t),"currentTime",null),f(d(t),"secondsLoaded",null),f(d(t),"mute",(function(){t.callPlayer("mute")})),f(d(t),"unmute",(function(){t.callPlayer("unmute")})),f(d(t),"ref",(function(e){t.iframe=e})),t}return e=m,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.setLoop(e.props.loop),e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.props.muted&&e.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(t),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&u(e.prototype,n),m}(i.Component);e.default=g,f(g,"displayName","Streamable"),f(g,"canPlay",a.canPlay.streamable)},9482:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m="twitch-player-",y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(v,t);var e,n,r,s,y=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(s){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function v(){var t;u(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(p(t=y.call.apply(y,[this].concat(n))),"callPlayer",o.callPlayer),g(p(t),"playerID",t.props.config.playerId||"".concat(m).concat((0,o.randomString)())),g(p(t),"mute",(function(){t.callPlayer("setMuted",!0)})),g(p(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playsinline,s=r.onError,u=r.config,c=r.controls,h=a.MATCH_URL_TWITCH_CHANNEL.test(t),d=h?t.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:t.match(a.MATCH_URL_TWITCH_VIDEO)[1];e?h?this.player.setChannel(d):this.player.setVideo("v"+d):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({video:h?"":d,channel:h?d:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!h||c,time:(0,o.parseStartTime)(t)},u.options));var r=e.Player,a=r.READY,s=r.PLAYING,p=r.PAUSE,f=r.ENDED,m=r.ONLINE,y=r.OFFLINE,v=r.SEEK;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(p,n.props.onPause),n.player.addEventListener(f,n.props.onEnded),n.player.addEventListener(v,n.props.onSeek),n.player.addEventListener(m,n.props.onLoaded),n.player.addEventListener(y,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&c(e.prototype,n),v}(i.Component);e.default=y,g(y,"displayName","Twitch"),g(y,"canPlay",a.canPlay.twitch),g(y,"loopOnEnded",!0)},6596:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,t);var e,n,r,s,m=(r=y,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(s){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function y(){var t;u(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(p(t=m.call.apply(m,[this].concat(n))),"callPlayer",o.callPlayer),g(p(t),"mute",(function(){t.setVolume(0)})),g(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),g(p(t),"ref",(function(e){t.container=e})),t}return e=y,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.config,s=n.onError,u=n.onDuration,c=t&&t.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(t){e.container&&(t.api.addReadyListener((function(t,n){e.player||(e.player=n,e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seek",e.props.onSeek),e.player.on("playerComplete",e.props.onEnded))}),c),t.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({uuid:c,container:e.container,autoplay:r?1:0},i.options)),t.api.getPlayerMetadata(c).then((function(t){e.duration=t.length_in_seconds,u(t.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackSpeed",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}],n&&c(e.prototype,n),y}(i.Component);e.default=m,g(m,"displayName","Vidyard"),g(m,"canPlay",a.canPlay.vidyard)},868:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,r,a,s=(r=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(r);if(a){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){var t;u(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(p(t),"duration",null),g(p(t),"currentTime",null),g(p(t),"secondsLoaded",null),g(p(t),"mute",(function(){t.setVolume(0)})),g(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),g(p(t),"ref",(function(e){t.container=e})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){if(e.container){var r=e.props.config,i=r.playerOptions,o=r.title;e.player=new n.Player(e.container,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({url:t,autoplay:e.props.playing,muted:e.props.muted,loop:e.props.loop,playsinline:e.props.playsinline,controls:e.props.controls},i)),e.player.ready().then((function(){var t=e.container.querySelector("iframe");t.style.width="100%",t.style.height="100%",o&&(t.title=o)})).catch(e.props.onError),e.player.on("loaded",(function(){e.props.onReady(),e.refreshDuration()})),e.player.on("play",(function(){e.props.onPlay(),e.refreshDuration()})),e.player.on("pause",e.props.onPause),e.player.on("seeked",(function(t){return e.props.onSeek(t.seconds)})),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.seconds;e.currentTime=n})),e.player.on("progress",(function(t){var n=t.seconds;e.secondsLoaded=n})),e.player.on("bufferstart",e.props.onBuffer),e.player.on("bufferend",e.props.onBufferEnd),e.player.on("playbackratechange",(function(t){return e.props.onPlaybackRateChange(t.playbackRate)}))}}),this.props.onError)}},{key:"refreshDuration",value:function(){var t=this;this.player.getDuration().then((function(e){t.duration=e}))}},{key:"play",value:function(){var t=this.callPlayer("play");t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:t})}}],n&&c(e.prototype,n),m}(i.Component);e.default=m,g(m,"displayName","Vimeo"),g(m,"canPlay",a.canPlay.vimeo),g(m,"forceLoad",!0)},8018:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y="wistia-player-",v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(v,t);var e,n,r,s,l=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function v(){var t;c(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(f(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),m(f(t),"playerID",t.props.config.playerId||"".concat(y).concat((0,o.randomString)())),m(f(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),m(f(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),m(f(t),"onSeek",(function(){var e;return(e=t.props).onSeek.apply(e,arguments)})),m(f(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),m(f(t),"onPlaybackRateChange",(function(){var e;return(e=t.props).onPlaybackRateChange.apply(e,arguments)})),m(f(t),"mute",(function(){t.callPlayer("mute")})),m(f(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,l=n.config,c=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(t){l.customControls&&l.customControls.forEach((function(e){return t.defineControl(e)})),window._wq=window._wq||[],window._wq.push({id:e.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},l.options),onReady:function(t){e.player=t,e.unbind(),e.player.bind("play",e.onPlay),e.player.bind("pause",e.onPause),e.player.bind("seek",e.onSeek),e.player.bind("end",e.onEnded),e.player.bind("playbackratechange",e.onPlaybackRateChange),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(t){this.callPlayer("time",t)}},{key:"setVolume",value:function(t){this.callPlayer("volume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("playbackRate",t)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.url,e=t&&t.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(e);return i.default.createElement("div",{id:this.playerID,key:e,className:n,style:{width:"100%",height:"100%"}})}}],n&&h(e.prototype,n),v}(i.Component);e.default=v,m(v,"displayName","Wistia"),m(v,"canPlay",a.canPlay.wistia),m(v,"loopOnEnded",!0)},356:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function g(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,w=/youtube-nocookie\.com/,x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,t);var e,n,r,s,l=(r=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function h(){var t;d(this,h);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(m(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(m(t),"parsePlaylist",(function(e){return e instanceof Array?{listType:"playlist",playlist:e.map(t.getID).join(",")}:b.test(e)?{listType:"playlist",list:c(e.match(b),2)[1].replace(/^UC/,"UU")}:_.test(e)?{listType:"user_uploads",list:c(e.match(_),2)[1]}:{}})),v(m(t),"onStateChange",(function(e){var n=e.data,r=t.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,h=r.config,d=h.playerVars,p=h.onUnstarted,f=window.YT.PlayerState,g=f.UNSTARTED,m=f.PLAYING,y=f.PAUSED,v=f.BUFFERING,b=f.ENDED,_=f.CUED;if(n===g&&p(),n===m&&(i(),s()),n===y&&o(),n===v&&a(),n===b){var w=!!t.callPlayer("getPlaylist");c&&!w&&(d.start?t.seekTo(d.start):t.play()),l()}n===_&&u()})),v(m(t),"mute",(function(){t.callPlayer("mute")})),v(m(t),"unmute",(function(){t.callPlayer("unMute")})),v(m(t),"ref",(function(e){t.container=e})),t}return e=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(t){return!t||t instanceof Array||b.test(t)?null:t.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,l=r.controls,c=r.loop,h=r.config,d=r.onError,p=h.playerVars,f=h.embedOptions,g=this.getID(t);if(e)return b.test(t)||_.test(t)||t instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(t)):void this.player.cueVideoById({videoId:g,startSeconds:(0,o.parseStartTime)(t)||p.start,endSeconds:(0,o.parseEndTime)(t)||p.end});(0,o.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(t){return t.loaded})).then((function(e){n.container&&(n.player=new e.Player(n.container,u({width:"100%",height:"100%",videoId:g,playerVars:u(u({autoplay:i?1:0,mute:a?1:0,controls:l?1:0,start:(0,o.parseStartTime)(t),end:(0,o.parseEndTime)(t),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(t)),p),events:{onReady:function(){c&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(t){return n.props.onPlaybackRateChange(t.data)},onStateChange:n.onStateChange,onError:function(t){return d(t.data)}},host:w.test(t)?"https://www.youtube-nocookie.com":void 0},f)))}),d),f.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",t),this.props.playing||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&p(e.prototype,n),h}(i.Component);e.default=x,v(x,"displayName","YouTube"),v(x,"canPlay",a.canPlay.youtube)},6497:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7294),i=n(8045),o=n(1776);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var u=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(356))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(2648))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(868))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(1972))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(993))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(8018))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(9482))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6807))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(143))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6596))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(3911))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(t){return o.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(t)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(4926))}))}))}];e.default=u},5741:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r},o=i.default.string,a=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,h=i.default.object,d=i.default.func,p=i.default.node,f={url:u([o,l,h]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:u([o,s]),height:u([o,s]),style:h,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:u([a,o,h]),playIcon:p,previewTabIndex:s,fallback:p,oEmbedUrl:o,wrapper:u([o,d,c({render:d.isRequired})]),config:c({soundcloud:c({options:h}),youtube:c({playerVars:h,embedOptions:h,onUnstarted:d}),facebook:c({appId:o,version:o,playerId:o,attributes:h}),dailymotion:c({params:h}),vimeo:c({playerOptions:h,title:o}),file:c({attributes:h,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:h,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:c({options:h,playerId:o,customControls:l}),mixcloud:c({options:h}),twitch:c({options:h,playerId:o}),vidyard:c({options:h})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onPlaybackRateChange:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d};e.propTypes=f;var g=function(){},m={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:g},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:g,onStart:g,onPlay:g,onPause:g,onBuffer:g,onBufferEnd:g,onEnded:g,onError:g,onDuration:g,onSeek:g,onPlaybackRateChange:g,onProgress:g,onClickPreview:g,onEnablePIP:g,onDisablePIP:g};e.defaultProps=m},8045:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(t){return h(t,s)},e.parseEndTime=function(t){return h(t,l)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},e.getSDK=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=d(e);return a&&i(a)?Promise.resolve(a):new Promise((function(r,i){if(p[t])p[t].push({resolve:r,reject:i});else{p[t]=[{resolve:r,reject:i}];var a=function(e){p[t].forEach((function(t){return t.resolve(e)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(d(e))}}o(t,(function(r){r?(p[t].forEach((function(t){return t.reject(r)})),p[t]=null):n||a(d(e))}))}}))},e.getConfig=function(t,e){return(0,i.default)(e.config,t.config)},e.omit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(e=[]).concat.apply(e,r),a={},s=Object.keys(t),l=0,u=s;l<u.length;l++){var c=u[l];-1===o.indexOf(c)&&(a[c]=t[c])}return a},e.callPlayer=function(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c – ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=this.player)[t].apply(e,i)},e.isMediaStream=function(t){return"undefined"!=typeof window&&void 0!==window.MediaStream&&t instanceof window.MediaStream},e.isBlobUrl=function(t){return/^blob:/.test(t)},e.supportsWebKitPresentationMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),e=!1===/iPhone|iPod/.test(navigator.userAgent);return t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSetPresentationMode&&e};var r=o(n(9090)),i=o(n(9996));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,u=/(\d+)(h|m|s)/g,c=/^\d+$/;function h(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(u))return function(t){for(var e,n,r=0,i=u.exec(t);null!==i;){var o=(n=3,function(t){if(Array.isArray(t))return t}(e=i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[1],l=o[2];"h"===l&&(r+=60*parseInt(s,10)*60),"m"===l&&(r+=60*parseInt(s,10)),"s"===l&&(r+=parseInt(s,10)),i=u.exec(t)}return r}(r);if(c.test(r))return parseInt(r)}}}function d(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var p={}},5251:(t,e,n)=>{"use strict";var r=n(7294),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:c,props:o,_owner:s.current}}e.Fragment=o,e.jsx=u,e.jsxs=u},2408:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!C.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function P(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var k=/\/+/g;function O(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+O(l,0):o,w(a)?(i="",null!=t&&(i=t.replace(k,"$&/")+"/"),A(a,e,i,"",(function(t){return t}))):null!=a&&(P(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var u=0;u<t.length;u++){var c=o+O(s=t[u],u);l+=A(s,e,i,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=A(s=s.value,e,i,c=o+O(s,u++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function R(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var M={current:null},I={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};e.Children={map:R,forEach:function(t,e,n){R(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!P(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)x.call(e,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=I.transition;I.transition={};try{t()}finally{I.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return M.current.useCallback(t,e)},e.useContext=function(t){return M.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return M.current.useDeferredValue(t)},e.useEffect=function(t,e){return M.current.useEffect(t,e)},e.useId=function(){return M.current.useId()},e.useImperativeHandle=function(t,e,n){return M.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return M.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return M.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return M.current.useMemo(t,e)},e.useReducer=function(t,e,n){return M.current.useReducer(t,e,n)},e.useRef=function(t){return M.current.useRef(t)},e.useState=function(t){return M.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return M.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return M.current.useTransition()},e.version="18.2.0"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},5893:(t,e,n)=>{"use strict";t.exports=n(5251)},53:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],u=s+1,c=t[u];if(0>o(l,n))u<i&&0>o(c,l)?(t[r]=c,t[u]=n,r=u):(t[r]=l,t[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break t;t[r]=c,t[u]=n,r=u}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(u,e)}e=r(c)}}function w(t){if(m=!1,_(t),!g)if(null!==r(u))g=!0,I(x);else{var e=r(c);null!==e&&D(w,e.startTime-t)}}function x(t,n){g=!1,m&&(m=!1,v(P),P=-1),f=!0;var o=p;try{for(_(n),d=r(u);null!==d&&(!(d.expirationTime>n)||t&&!A());){var a=d.callback;if("function"==typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?d.callback=s:d===r(u)&&i(u),_(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,p=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,P=-1,k=5,O=-1;function A(){return!(e.unstable_now()-O<k)}function R(){if(null!==E){var t=e.unstable_now();O=t;var n=!0;try{n=E(!0,t)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"==typeof b)S=function(){b(R)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,M=T.port2;T.port1.onmessage=R,S=function(){M.postMessage(null)}}else S=function(){y(R,0)};function I(t){E=t,C||(C=!0,S())}function D(t,n){P=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,I(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(u)&&t===r(c)&&(m?(v(P),P=-1):m=!0,D(w,o-a))):(t.sortIndex=s,n(u,t),g||f||(g=!0,I(x))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},6774:t=>{t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=t[u],h=e[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},1117:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ServerStyleSheet:()=>Bt,StyleSheetConsumer:()=>ot,StyleSheetContext:()=>it,StyleSheetManager:()=>ht,ThemeConsumer:()=>It,ThemeContext:()=>Mt,ThemeProvider:()=>Dt,__PRIVATE__:()=>Ht,createGlobalStyle:()=>zt,css:()=>wt,default:()=>Gt,isStyledComponent:()=>w,keyframes:()=>Ut,useTheme:()=>Wt,version:()=>S,withTheme:()=>Vt});var r=n(9864),i=n(7294),o=n(6774),a=n.n(o);const s=function(t){function e(t,r,l,u,d){for(var p,f,g,m,_,x=0,S=0,C=0,E=0,P=0,M=0,D=g=p=0,L=0,F=0,N=0,z=0,U=l.length,B=U-1,V="",W="",H="",G="";L<U;){if(f=l.charCodeAt(L),L===B&&0!==S+E+C+x&&(0!==S&&(f=47===S?10:47),E=C=x=0,U++,B++),0===S+E+C+x){if(L===B&&(0<F&&(V=V.replace(h,"")),0<V.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(L)}f=59}switch(f){case 123:for(p=(V=V.trim()).charCodeAt(0),g=1,z=++L;L<U;){switch(f=l.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(f=l.charCodeAt(L+1)){case 42:case 47:t:{for(D=L+1;D<B;++D)switch(l.charCodeAt(D)){case 47:if(42===f&&42===l.charCodeAt(D-1)&&L+2!==D){L=D+1;break t}break;case 10:if(47===f){L=D+1;break t}}L=D}}break;case 91:f++;case 40:f++;case 34:case 39:for(;L++<B&&l.charCodeAt(L)!==f;);}if(0===g)break;L++}if(g=l.substring(z,L),0===p&&(p=(V=V.replace(c,"").trim()).charCodeAt(0)),64===p){switch(0<F&&(V=V.replace(h,"")),f=V.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=T}if(z=(g=e(r,F,g,f,d+1)).length,0<I&&(_=s(3,g,F=n(T,V,N),r,O,k,z,f,d,u),V=F.join(""),void 0!==_&&0===(z=(g=_.trim()).length)&&(f=0,g="")),0<z)switch(f){case 115:V=V.replace(w,a);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(y,"$1 $2"))+"{"+g+"}",g=1===R||2===R&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===u&&(W+=g,g="")}else g=""}else g=e(r,n(r,V,N),g,u,d+1);H+=g,g=N=F=D=p=0,V="",f=l.charCodeAt(++L);break;case 125:case 59:if(1<(z=(V=(0<F?V.replace(h,""):V).trim()).length))switch(0===D&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(z=(V=V.replace(" ",":")).length),0<I&&void 0!==(_=s(1,V,r,t,O,k,W.length,u,d,u))&&0===(z=(V=_.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),f=V.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){G+=V+l.charAt(L);break}default:58!==V.charCodeAt(z-1)&&(W+=i(V,p,f,V.charCodeAt(2)))}N=F=D=p=0,V="",f=l.charCodeAt(++L)}}switch(f){case 13:case 10:47===S?S=0:0===1+p&&107!==u&&0<V.length&&(F=1,V+="\0"),0<I*j&&s(0,V,r,t,O,k,W.length,u,d,u),k=1,O++;break;case 59:case 125:if(0===S+E+C+x){k++;break}default:switch(k++,m=l.charAt(L),f){case 9:case 32:if(0===E+x+S)switch(P){case 44:case 58:case 9:case 32:m="";break;default:32!==f&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+S+x&&(F=N=1,m="\f"+m);break;case 108:if(0===E+S+x+A&&0<D)switch(L-D){case 2:112===P&&58===l.charCodeAt(L-3)&&(A=P);case 8:111===M&&(A=M)}break;case 58:0===E+S+x&&(D=L);break;case 44:0===S+C+E+x&&(F=1,m+="\r");break;case 34:case 39:0===S&&(E=E===f?0:0===E?f:E);break;case 91:0===E+S+C&&x++;break;case 93:0===E+S+C&&x--;break;case 41:0===E+S+x&&C--;break;case 40:0===E+S+x&&(0===p&&(2*P+3*M==533||(p=1)),C++);break;case 64:0===S+C+E+x+D+g&&(g=1);break;case 42:case 47:if(!(0<E+x+C))switch(S){case 0:switch(2*f+3*l.charCodeAt(L+1)){case 235:S=47;break;case 220:z=L,S=42}break;case 42:47===f&&42===P&&z+2!==L&&(33===l.charCodeAt(z+2)&&(W+=l.substring(z,L+1)),m="",S=0)}}0===S&&(V+=m)}M=P,P=f,L++}if(0<(z=W.length)){if(F=r,0<I&&void 0!==(_=s(2,W,F,t,O,k,z,u,d,u))&&0===(W=_).length)return G+W+H;if(W=F.join(",")+"{"+W+"}",0!=R*A){switch(2!==R||o(W,2)||(A=0),A){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(v,"::-webkit-input-$1")+W.replace(v,"::-moz-$1")+W.replace(v,":-ms-input-$1")+W}A=0}}return G+W+H}function n(t,e,n){var i=e.trim().split(g);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=r(t,e[s],n).trim();break;default:var l=s=0;for(e=[];s<o;++s)for(var u=0;u<a;++u)e[l++]=r(t[u]+" ",i[s],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",s=2*e+3*n+4*r;if(944===s){t=a.indexOf(":",9)+1;var l=a.substring(t,a.length-1).trim();return l=a.substring(0,t).trim()+l+";",1===R||2===R&&o(l,1)?"-webkit-"+l+l:l}if(0===R||2===R&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(P,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(e=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=a.replace(_,"tb");break;case 232:l=a.replace(_,"tb-rl");break;case 220:l=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(l=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(C,"$1"),n,e)}function a(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(x," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,a,s,l,c){for(var h,d=0,p=e;d<I;++d)switch(h=M[d].call(u,t,p,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function l(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?R=1:(R=2,D=t):R=0),l}function u(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,O,k,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=e(T,r,n,0,0);return 0<I&&void 0!==(i=s(-2,o,r,r,O,k,o.length,0,0,0))&&(o=i),A=0,k=O=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,k=1,O=1,A=0,R=1,T=[],M=[],I=0,D=null,j=0;return u.use=function t(e){switch(e){case void 0:case null:I=M.length=0;break;default:if("function"==typeof e)M[I++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else j=0|!!e}return t},u.set=l,void 0!==t&&l(t),u},l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var u=n(5042),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const h=(0,u.Z)((function(t){return c.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var d=n(8679),p=n.n(d);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var g=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},m=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!(0,r.typeOf)(t)},y=Object.freeze([]),v=Object.freeze({});function b(t){return"function"==typeof t}function _(t){return t.displayName||t.name||"Component"}function w(t){return t&&"string"==typeof t.styledComponentId}var x="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",S="5.3.6",C="undefined"!=typeof window&&"HTMLElement"in window,E=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY),P={};function k(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var O=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&k(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=0,l=e.length;s<l;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),A=new Map,R=new Map,T=1,M=function(t){if(A.has(t))return A.get(t);for(;R.has(T);)T++;var e=T++;return A.set(t,e),R.set(e,t),e},I=function(t){return R.get(t)},D=function(t,e){e>=T&&(T=e+1),A.set(t,e),R.set(e,t)},j="style["+x+'][data-styled-version="5.3.6"]',L=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),F=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},N=function(t,e){for(var n=(e.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(L);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(D(u,l),F(t,u,s[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},z=function(){return n.nc},U=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.3.6");var a=z();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},B=function(){function t(t){var e=this.element=U(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}k(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),V=function(){function t(t){var e=this.element=U(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),W=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),H=C,G={isServer:!C,useCSSOMInjection:!E},q=function(){function t(t,e,n){void 0===t&&(t=v),void 0===e&&(e={}),this.options=f({},G,{},t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&C&&H&&(H=!1,function(t){for(var e=document.querySelectorAll(j),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(x)&&(N(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return M(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(f({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new W(i):r?new B(i):new V(i),new O(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(M(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(M(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(M(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=I(i);if(void 0!==o){var a=t.names.get(o),s=e.getGroup(i);if(a&&s&&a.size){var l=x+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(t){t.length>0&&(u+=t+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},t}(),$=/(a)(d)/gi,X=function(t){return String.fromCharCode(t+(t>25?39:97))};function Y(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=X(e%52)+n;return(X(e%52)+n).replace($,"$1-$2")}var K=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Z=function(t){return K(5381,t)};function Q(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(b(n)&&!w(n))return!1}return!0}var J=Z("5.3.6"),tt=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(t),this.componentId=e,this.baseHash=K(J,e),this.baseStyle=n,q.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=bt(this.rules,t,e,n).join(""),a=Y(K(this.baseHash,o)>>>0);if(!e.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);e.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=K(this.baseHash,n.hash),c="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)c+=d;else if(d){var p=bt(d,t,e,n),f=Array.isArray(p)?p.join(""):p;u=K(u,f+h),c+=f}}if(c){var g=Y(u>>>0);if(!e.hasNameForId(r,g)){var m=n(c,"."+g,void 0,r);e.insertRules(r,g,m)}i.push(g)}}return i.join(" ")},t}(),et=/^\s*\/\/.*$/gm,nt=[":","[",".","#"];function rt(t){var e,n,r,i,o=void 0===t?v:t,a=o.options,l=void 0===a?v:a,u=o.plugins,c=void 0===u?y:u,h=new s(l),d=[],p=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,l,u,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return t(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}((function(t){d.push(t)})),f=function(t,r,o){return 0===r&&-1!==nt.indexOf(o[n.length])||o.match(i)?t:"."+e};function g(t,o,a,s){void 0===s&&(s="&");var l=t.replace(et,""),u=o&&a?a+" "+o+" { "+l+" }":l;return e=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,u)}return h.use([].concat(c,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},p,function(t){if(-2===t){var e=d;return d=[],e}}])),g.hash=c.length?c.reduce((function(t,e){return e.name||k(15),K(t,e.name)}),5381).toString():"",g}var it=i.createContext(),ot=it.Consumer,at=i.createContext(),st=(at.Consumer,new q),lt=rt();function ut(){return(0,i.useContext)(it)||st}function ct(){return(0,i.useContext)(at)||lt}function ht(t){var e=(0,i.useState)(t.stylisPlugins),n=e[0],r=e[1],o=ut(),s=(0,i.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),l=(0,i.useMemo)((function(){return rt({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){a()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),i.createElement(it.Provider,{value:s},i.createElement(at.Provider,{value:l},t.children))}var dt=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=lt);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return k(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=lt),this.name+t.hash},t}(),pt=/([A-Z])/,ft=/([A-Z])/g,gt=/^ms-/,mt=function(t){return"-"+t.toLowerCase()};function yt(t){return pt.test(t)?t.replace(ft,mt).replace(gt,"-ms-"):t}var vt=function(t){return null==t||!1===t||""===t};function bt(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)""!==(i=bt(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return vt(t)?"":w(t)?"."+t.styledComponentId:b(t)?"function"!=typeof(u=t)||u.prototype&&u.prototype.isReactComponent||!e?t:bt(t(e),e,n,r):t instanceof dt?n?(t.inject(n,r),t.getName(r)):t:m(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!vt(e[a])&&(Array.isArray(e[a])&&e[a].isCss||b(e[a])?o.push(yt(a)+":",e[a],";"):m(e[a])?o.push.apply(o,t(e[a],a)):o.push(yt(a)+": "+(r=a,(null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in l?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var u}var _t=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function wt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return b(t)||m(t)?_t(bt(g(y,[t].concat(n)))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:_t(bt(g(t,n)))}new Set;var xt=function(t,e,n){return void 0===n&&(n=v),t.theme!==n.theme&&t.theme||e||n.theme},St=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ct=/(^-|-$)/g;function Et(t){return t.replace(St,"-").replace(Ct,"")}var Pt=function(t){return Y(Z(t)>>>0)};function kt(t){return"string"==typeof t&&!0}var Ot=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},At=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function Rt(t,e,n){var r=t[n];Ot(e)&&Ot(r)?Tt(r,e):t[n]=e}function Tt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Ot(a))for(var s in a)At(s)&&Rt(t,a[s],s)}return t}var Mt=i.createContext(),It=Mt.Consumer;function Dt(t){var e=(0,i.useContext)(Mt),n=(0,i.useMemo)((function(){return function(t,e){return t?b(t)?t(e):Array.isArray(t)||"object"!=typeof t?k(8):e?f({},e,{},t):t:k(14)}(t.theme,e)}),[t.theme,e]);return t.children?i.createElement(Mt.Provider,{value:n},t.children):null}var jt={};function Lt(t,e,n){var r=w(t),o=!kt(t),a=e.attrs,s=void 0===a?y:a,l=e.componentId,u=void 0===l?function(t,e){var n="string"!=typeof t?"sc":Et(t);jt[n]=(jt[n]||0)+1;var r=n+"-"+Pt("5.3.6"+n+jt[n]);return e?e+"-"+r:r}(e.displayName,e.parentComponentId):l,c=e.displayName,d=void 0===c?function(t){return kt(t)?"styled."+t:"Styled("+_(t)+")"}(t):c,g=e.displayName&&e.componentId?Et(e.displayName)+"-"+e.componentId:e.componentId||u,m=r&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,x=e.shouldForwardProp;r&&t.shouldForwardProp&&(x=e.shouldForwardProp?function(n,r,i){return t.shouldForwardProp(n,r,i)&&e.shouldForwardProp(n,r,i)}:t.shouldForwardProp);var S,C=new tt(n,g,r?t.componentStyle:void 0),E=C.isStatic&&0===s.length,P=function(t,e){return function(t,e,n,r){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,u=t.shouldForwardProp,c=t.styledComponentId,d=t.target,p=function(t,e,n){void 0===t&&(t=v);var r=f({},e,{theme:t}),i={};return n.forEach((function(t){var e,n,o,a=t;for(e in b(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]})),[r,i]}(xt(e,(0,i.useContext)(Mt),s)||v,e,o),g=p[0],m=p[1],y=function(t,e,n,r){var i=ut(),o=ct();return e?t.generateAndInjectStyles(v,i,o):t.generateAndInjectStyles(n,i,o)}(a,r,g),_=n,w=m.$as||e.$as||m.as||e.as||d,x=kt(w),S=m!==e?f({},e,{},m):e,C={};for(var E in S)"$"!==E[0]&&"as"!==E&&("forwardedAs"===E?C.as=S[E]:(u?u(E,h,w):!x||h(E))&&(C[E]=S[E]));return e.style&&m.style!==e.style&&(C.style=f({},e.style,{},m.style)),C.className=Array.prototype.concat(l,c,y!==c?y:null,e.className,m.className).filter(Boolean).join(" "),C.ref=_,(0,i.createElement)(w,C)}(S,t,e,E)};return P.displayName=d,(S=i.forwardRef(P)).attrs=m,S.componentStyle=C,S.displayName=d,S.shouldForwardProp=x,S.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):y,S.styledComponentId=g,S.target=r?t.target:t,S.withComponent=function(t){var r=e.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["componentId"]),o=r&&r+"-"+(kt(t)?t:Et(_(t)));return Lt(t,f({},i,{attrs:m,componentId:o}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?Tt({},t.defaultProps,e):e}}),S.toString=function(){return"."+S.styledComponentId},o&&p()(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Ft=function(t){return function t(e,n,i){if(void 0===i&&(i=v),!(0,r.isValidElementType)(n))return k(1,String(n));var o=function(){return e(n,i,wt.apply(void 0,arguments))};return o.withConfig=function(r){return t(e,n,f({},i,{},r))},o.attrs=function(r){return t(e,n,f({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Lt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(t){Ft[t]=Ft(t)}));var Nt=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Q(t),q.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,r){var i=r(bt(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&q.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();function zt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=wt.apply(void 0,[t].concat(n)),a="sc-global-"+Pt(JSON.stringify(o)),s=new Nt(o,a);function l(t){var e=ut(),n=ct(),r=(0,i.useContext)(Mt),o=(0,i.useRef)(e.allocateGSInstance(a)).current;return e.server&&u(o,t,e,r,n),(0,i.useLayoutEffect)((function(){if(!e.server)return u(o,t,e,r,n),function(){return s.removeStyles(o,e)}}),[o,t,e,r,n]),null}function u(t,e,n,r,i){if(s.isStatic)s.renderStyles(t,P,n,i);else{var o=f({},e,{theme:xt(e,r,l.defaultProps)});s.renderStyles(t,o,n,i)}}return i.memo(l)}function Ut(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=wt.apply(void 0,[t].concat(n)).join(""),o=Pt(i);return new dt(o,i)}var Bt=function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=z();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?k(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return k(2);var n=((e={})[x]="",e["data-styled-version"]="5.3.6",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),r=z();return r&&(n.nonce=r),[i.createElement("style",f({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new q({isServer:!0}),this.sealed=!1}var e=t.prototype;return e.collectStyles=function(t){return this.sealed?k(2):i.createElement(ht,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return k(3)},t}(),Vt=function(t){var e=i.forwardRef((function(e,n){var r=(0,i.useContext)(Mt),o=t.defaultProps,a=xt(e,r,o);return i.createElement(t,f({},e,{theme:a,ref:n}))}));return p()(e,t),e.displayName="WithTheme("+_(t)+")",e},Wt=function(){return(0,i.useContext)(Mt)},Ht={StyleSheet:q,masterSheet:st};const Gt=Ft},2473:t=>{"use strict";t.exports=function(){}},3414:()=>{},172:()=>{},2001:()=>{},1895:()=>{},6558:()=>{},2258:()=>{}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(7294),e=__webpack_require__.t(t,2),n=__webpack_require__(745),r=__webpack_require__(7398),i=__webpack_require__.n(r),o=(__webpack_require__(3105),__webpack_require__(3311)),a=__webpack_require__.n(o),s=__webpack_require__(6486),l=20,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.getElementById("csrf-token"),i=r?r.getAttribute("content"):"";return fetch(t,{method:e,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRFToken":i},body:n,credentials:"same-origin"})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"title",s=new URLSearchParams;s.append("course",window.MediaThread.current_course),s.append("limit",l),s.append("offset",o),s.append("order_by",a),s.append("annotations",!0),t&&s.append("search_text",t),"all"!==i&&s.append("modified",i),n&&n.length>0&&s.append("tag",n.map((function(t){return t.value}))),r&&r.length>0&&r.forEach((function(t){s.append("vocabulary-".concat(t.data.vocab_id),t.data.id)}));var c="/api/asset/";return e&&"all"!==e&&(c="/api/asset/user/".concat(e,"/")),u(c+"?"+s.toString()).then((function(t){if(200===t.status)return t.json();throw"Error loading assets: "+"(".concat(t.status,") ").concat(t.statusText)}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=window.MediaThread.current_course,n="/asset/?course=".concat(e);return t&&(n="/api/asset/".concat(t,"/?annotations=true&course=").concat(e)),u(n).then((function(t){if(200===t.status)return t.json();throw"Error loading asset: "+"(".concat(t.status,") ").concat(t.statusText)}))},d=function(t){return Math.floor(t/3600)},p=function(t){var e=t-3600*Math.floor(t/3600);return Math.floor(e/60)},f=function(t){var e=Math.floor(t/3600),n=t-3600*e-60*Math.floor((t-3600*e)/60);return Math.floor(n)},g=function(t){return[d(t),p(t),f(t)]},m=function(t){var e=t.split(":"),n=null,r=null,o=null;return e.length>2?(n=Number(e[0]),r=Number(e[1]),o=Number(e[2])):(r=Number(e[0]),o=Number(e[1])),i()(n)&&i()(r)&&i()(o)?3600*n+60*r+o:i()(r)&&i()(o)?60*r+o:null},y=function(t){return(t<10?"0":"")+t},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=g(t);return n[0]||e?y(n[0])+":"+y(n[1])+":"+y(n[2]):y(n[1])+":"+y(n[2])},b=function(t,e){return Math.max(e-t,0)},_=function(t){return t.length?t.charAt(0).toUpperCase()+t.slice(1):t},w=function(t){var e=t.added;return new Date(Date.parse(e)).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}).replace(/\//g,".")},x=function(t){return"youtube"===t||"vimeo"===t||"mp4_pseudo"===t||"mp4_panopto"===t||"mp4"===t||"quicktime"===t||"video_pseudo"===t||"video"===t?"video":"image_fpxid"===t||"image_fpx"===t||"image"===t?"image":"mp4_audio"===t?"audio":"pdf"===t?"pdf":"unknown"},S=function(t){this&&(this.src="/media/img/thumb_".concat(t,".png"))},C=function(t){var e=t;return e.getCurrentTime&&"function"==typeof e.getCurrentTime?e.getCurrentTime():isNaN(e.currentTime)?null:e.currentTime},E=function(){var t="";if(window.MediaThread){var e=window.MediaThread.current_course;t="/course/".concat(e,"/")}return t},P=function(t){var e=E();return"".concat(e,"react/asset/").concat(t,"/")},k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n[t])return n[t];var r="No Tags";return e.metadata&&e.metadata.tags&&e.metadata.tags.forEach((function(e){if(parseInt(e.id,10)===parseInt(t,10))return r=e.name,void(n[t]=r)})),r},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?t.map((function(t){var n="";return n=t.count>0?"".concat(t.name," (").concat(t.count,")"):"".concat(t.name),e&&(n=t.name),{value:t.name,label:n}})):[]},A=function(t){return t?t.map((function(t){var e=[],n=t.term_set||t.terms;return n&&n.forEach((function(n){var r=n;r.vocab_id=t.id,n.count>0?e.push({label:"".concat(n.display_name," (").concat(n.count,")"),value:n.name,data:r}):e.push({label:"".concat(n.display_name),value:n.name,data:r})})),{value:t.name||t.display_name,label:t.name||t.display_name,options:e}})):[]},R=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.find(".collapse").each((function(t,r){var i=jQuery(r),o=parseInt(i.data("selectionid"),10);if(e===o){i.addClass("show");var a=i.closest(".card");return a.addClass("active"),n&&a[0].scrollIntoView(),!1}}))},T=function(t){return{owner:t.owner,title:t.title,tags:t.tags,terms:t.terms,date:t.date}},M=function(t){var e=[];return t.forEach((function(t){if(!("vocabulary"in t))return!1;t.vocabulary.forEach((function(t){t.terms.forEach((function(t){e.includes(t.display_name)||e.push(t.display_name)}))}))})),e},I=__webpack_require__(5697),D=__webpack_require__.n(I),j=__webpack_require__(44);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}function U(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var V=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(i);if(o){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return U(this,t)});function s(){return F(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"alert alert-info",role:"alert"},t.createElement("span",{className:"spinner-border spinner-border-sm text-dark",role:"status","aria-hidden":"true"})," ",t.createElement("strong",null,"Just a moment."),"  Mediathread is currently loading all of the items within this collection.")}}])&&N(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function $(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var Y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(i);if(o){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return $(this,t)});function s(){return H(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},t.createElement("strong",null,"Hmmm.")," There are no matching items to your search request. Please try again.",t.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},t.createElement("span",{"aria-hidden":"true"},"×")))}}])&&G(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function J(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var nt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(i);if(o){var n=et(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return J(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={loading:!1},e.handleSort=e.handleSort.bind(tt(e)),e}return n=s,r=[{key:"handleSort",value:function(t,e){this.setState({loading:!0});var n=t.name.toLowerCase();"owner"===n?n="author":"date"===n&&(n="added");var r="asc"===e?n:"-"+n,i=this;c(this.props.title,this.props.owner,this.props.tags,this.props.terms,this.props.date,0,r).then((function(t){i.props.onUpdateAssets(t.assets,t.asset_count),i.setState({loading:!1})}))}},{key:"render",value:function(){if(0===this.props.assets.length)return t.createElement(Y,null);var e=this,n=[{name:"Title",selector:"title",sortable:!0,wrap:!0,format:function(n){return t.createElement("a",{href:P(n.id),onClick:function(t){return e.props.enterAssetDetailView(t,n)}},n.title)}},{name:"Selections",selector:"annotation_count",sortable:!1},{name:"Tags",selector:"tags",sortable:!1,wrap:!0,format:function(t){return t&&t.tags?t.tags.join(", "):t.tags}},{name:"Course Vocabulary",selector:"terms",sortable:!1,wrap:!0,format:function(t){return t&&t.annotations?M(t.annotations).join(", "):""}},{name:"Media",selector:"primary_type",sortable:!1,format:function(t){return x(t.primary_type)}},{name:"Owner",selector:"author.public_name",sortable:!0,wrap:!0},{name:"Date",format:w,selector:"added",sortable:!0}];return(0,j.jG)("mediathread",{striped:{default:"rgba(0, 0, 0, 0.05)"}}),t.createElement(j.ZP,{theme:"mediathread",customStyles:{header:{style:{minHeight:0}},headRow:{style:{minHeight:"34px"}},headCells:{style:{color:"rgba(33, 37, 41)",fontSize:"16px",fontWeight:700,backgroundColor:"#ccc",borderColor:"#ccc",padding:"0.3rem"}},rows:{style:{fontSize:"16px",minHeight:"33px"}},cells:{style:{padding:"0.3rem"}}},className:"react-data-table",columns:n,dense:!0,highlightOnHover:!0,striped:!0,progressPending:this.state.loading,progressComponent:t.createElement(V,null),sortServer:!0,defaultSortField:"title",onSort:this.handleSort,data:this.props.assets})}}],r&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);nt.propTypes={assets:D().array,enterAssetDetailView:D().func.isRequired,onUpdateAssets:D().func.isRequired,owner:D().string,title:D().string,tags:D().array,terms:D().array,date:D().string};var rt=__webpack_require__(9299);const it=__webpack_require__.p+"a0bb6417f5776c12ca7d059adad6b27c.js";function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(this,arguments)}function at(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function st(t,e){if(null==t)return{};var n,r,i=at(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e,n){return e&&ct(t.prototype,e),n&&ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function ft(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}function gt(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=["onKeyDown","onKeyPress","onKeyUp"],bt=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],_t=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wt=[].concat(["onCopy","onCut","onPaste"],["onCompositionEnd","onCompositionStart","onCompositionUpdate"],vt,["onFocus","onBlur"],["onChange","onInput","onInvalid","onReset","onSubmit"],["onError","onLoad"],bt,["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],["onSelect"],_t,["onScroll"],["onWheel"],["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],["onLoad","onError"],["onAnimationStart","onAnimationEnd","onAnimationIteration"],["onTransitionEnd"],["onToggle"]);const xt=function(t,e){var n={};return wt.forEach((function(r){r in t&&(n[r]=e?function(n){return t[r](n,e(r))}:t[r])})),n};function St(t){var e=!1,n=new Promise((function(n,r){t.then((function(){return!e&&n.apply(void 0,arguments)})).catch((function(t){return!e&&r(t)}))}));return{promise:n,cancel:function(){e=!0}}}function Ct(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Ct(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}const Et=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Ct(t))&&(r&&(r+=" "),r+=e);return r};function Pt(t,e){if(!t)throw new Error("Invariant failed")}const kt=(0,t.createContext)(null);function Ot(e){var n=e.children,r=e.type;return t.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}Ot.propTypes={children:D().node,type:D().oneOf(["error","loading","no-data"]).isRequired};var At=function(){function t(){ut(this,t),this.externalLinkTarget=null,this.externalLinkRel=null}return ht(t,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise((function(n){"string"==typeof t?e.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)})).then((function(n){Pt(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var r=n[0];new Promise((function(t){r instanceof Object?e.pdfDocument.getPageIndex(r).then((function(e){t(e)})).catch((function(){Pt(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"==typeof r?t(r):Pt(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(n){var r=n+1;Pt(r>=1&&r<=e.pagesCount,'"'.concat(r,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:t,pageIndex:n,pageNumber:r})}))}))}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),t}();const Rt=1,Tt=2;function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function It(t,e){if(t){if("string"==typeof t)return Mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(t,e):void 0}}function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||It(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jt="undefined"!=typeof window;jt&&window.location.protocol;function Lt(t){return void 0!==t}function Ft(t){return Lt(t)&&null!==t}function Nt(t){return t instanceof ArrayBuffer}function zt(t){return Pt(jt),t instanceof Blob}function Ut(t){return Pt(jt),t instanceof File}function Bt(t){return"string"==typeof t&&/^data:/.test(t)}function Vt(t){Pt(Bt(t));var e=Dt(t.split(","),2),n=e[0],r=e[1];return-1!==n.split(";").indexOf("base64")?atob(r):unescape(r)}var Wt="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ht(){"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Wt)}function Gt(t){t&&t.cancel&&t.cancel()}function qt(t,e){return Object.defineProperty(t,"width",{get:function(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get:function(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),t}function $t(t){return"RenderingCancelledException"===t.name}function Xt(t){return new Promise((function(e,n){var r=new FileReader;return r.onload=function(){return e(new Uint8Array(r.result))},r.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t),null}))}function Yt(t){return function(t){if(Array.isArray(t))return Mt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kt,Zt=(Kt={},[].concat(Yt(bt),Yt(_t),Yt(vt)).forEach((function(t){Kt[t]=D().func})),Kt),Qt=[D().string,D().instanceOf(ArrayBuffer),D().shape({data:D().oneOfType([D().object,D().string]),httpHeaders:D().object,range:D().object,url:D().string,withCredentials:D().bool})];"undefined"!=typeof File&&Qt.push(D().instanceOf(File)),"undefined"!=typeof Blob&&Qt.push(D().instanceOf(Blob));var Jt=D().oneOfType([D().string,D().arrayOf(D().string)]),te=D().oneOfType(Qt),ee=D().instanceOf(At),ne=(D().oneOf(["_self","_blank","_parent","_top"]),D().shape({commonObjs:D().shape({}).isRequired,getAnnotations:D().func.isRequired,getTextContent:D().func.isRequired,getViewport:D().func.isRequired,render:D().func.isRequired})),re=D().oneOfType([D().shape({getDestination:D().func.isRequired,getOutline:D().func.isRequired,getPage:D().func.isRequired,numPages:D().number.isRequired}),D().bool]),ie=D().oneOfType([D().func,D().shape({current:D().any})]),oe=D().oneOf(["canvas","none","svg"]),ae=D().oneOf([0,90,180,270]),se=["url"];function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ce=rt.PDFDataRangeTransport,he=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var t;ut(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yt(dt(t=i.call.apply(i,[this].concat(n))),"state",{pdf:null}),yt(dt(t),"viewer",{scrollPageIntoView:function(e){var n=e.dest,r=e.pageIndex,i=e.pageNumber,o=t.props.onItemClick;if(o)o({dest:n,pageIndex:r,pageNumber:i});else{var a=t.pages[r];a?a.scrollIntoView():"An internal link leading to page ".concat(i," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.")}}}),yt(dt(t),"linkService",new At),yt(dt(t),"loadDocument",(function(){Gt(t.runningTask),t.loadingTask&&t.loadingTask.destroy();var e=St(t.findDocumentSource());t.runningTask=e,e.promise.then((function(e){if(t.onSourceSuccess(),e){t.setState((function(t){return t.pdf?{pdf:null}:null}));var n=t.props,r=n.options,i=n.onLoadProgress,o=n.onPassword,a=rt.getDocument(ue(ue({},e),r));a.onPassword=o,i&&(a.onProgress=i),t.loadingTask=a,a.promise.then((function(e){t.setState((function(t){return t.pdf&&t.pdf.fingerprint===e.fingerprint?null:{pdf:e}}),t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})).catch((function(e){t.onSourceError(e)}))})),yt(dt(t),"setupLinkService",(function(){var e=t.props,n=e.externalLinkRel,r=e.externalLinkTarget;t.linkService.setViewer(t.viewer),t.linkService.setExternalLinkRel(n),t.linkService.setExternalLinkTarget(r)})),yt(dt(t),"onSourceSuccess",(function(){var e=t.props.onSourceSuccess;e&&e()})),yt(dt(t),"onSourceError",(function(e){var n=t.props.onSourceError;n&&n(e)})),yt(dt(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.pdf;e&&e(n),t.pages=new Array(n.numPages),t.linkService.setDocument(n)})),yt(dt(t),"onLoadError",(function(e){t.setState({pdf:!1});var n=t.props.onLoadError;n&&n(e)})),yt(dt(t),"findDocumentSource",(function(){return new Promise((function(e){var n=t.props.file;if(n||e(null),"string"==typeof n){if(Bt(n)){var r=Vt(n);e({data:r})}Ht(),e({url:n})}if(n instanceof ce&&e({range:n}),Nt(n)&&e({data:n}),jt&&(zt(n)||Ut(n)))Xt(n).then((function(t){e({data:t})}));else{if(Pt("object"===lt(n)),Pt(n.url||n.data||n.range),"string"==typeof n.url){if(Bt(n.url)){var i=n.url,o=st(n,se),a=Vt(i);e(ue({data:a},o))}Ht()}e(n)}}))})),yt(dt(t),"registerPage",(function(e,n){t.pages[e]=n})),yt(dt(t),"unregisterPage",(function(e){delete t.pages[e]})),t}return ht(o,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){this.props.file!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){Gt(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,e=this.registerPage,n=this.unregisterPage,r=this.props,i=r.imageResourcesPath,o=r.renderMode,a=r.rotate;return{imageResourcesPath:i,linkService:t,pdf:this.state.pdf,registerPage:e,renderMode:o,rotate:a,unregisterPage:n}}},{key:"eventProps",get:function(){var t=this;return xt(this.props,(function(){return t.state.pdf}))}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(kt.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,n=this.state.pdf;if(!e){var r=this.props.noData;return t.createElement(Ot,{type:"no-data"},"function"==typeof r?r():r)}if(null===n){var i=this.props.loading;return t.createElement(Ot,{type:"loading"},"function"==typeof i?i():i)}if(!1===n){var o=this.props.error;return t.createElement(Ot,{type:"error"},"function"==typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.inputRef;return t.createElement("div",ot({className:Et("react-pdf__Document",n),ref:r},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);he.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(t,e){switch(e){case Rt:t(prompt("Enter the password to open this PDF file."));break;case Tt:t(prompt("Invalid password. Please try again."))}}};var de=D().oneOfType([D().func,D().node]);he.propTypes=ue(ue({},Zt),{},{children:D().node,className:Jt,error:de,externalLinkRel:D().string,externalLinkTarget:D().string,file:te,imageResourcesPath:D().string,inputRef:ie,loading:de,noData:de,onItemClick:D().func,onLoadError:D().func,onLoadProgress:D().func,onLoadSuccess:D().func,onPassword:D().func,onSourceError:D().func,onSourceSuccess:D().func,rotate:D().number});const pe=(0,t.createContext)(null);var fe=function(){function t(e){var n=e.num,r=e.gen;ut(this,t),this.num=n,this.gen=r}return ht(t,[{key:"toString",value:function(){var t="".concat(this.num,"R");return 0!==this.gen&&(t+=this.gen),t}}]),t}(),ge=["item"];var me=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var t;ut(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yt(dt(t=i.call.apply(i,[this].concat(n))),"getDestination",(function(){return new Promise((function(e,n){var r=t.props,i=r.item,o=r.pdf;return Lt(t.destination)||("string"==typeof i.dest?o.getDestination(i.dest).then(e).catch(n):e(i.dest)),t.destination})).then((function(e){return t.destination=e,e}))})),yt(dt(t),"getPageIndex",(function(){return new Promise((function(e,n){var r=t.props.pdf;Lt(t.pageIndex)&&e(t.pageIndex),t.getDestination().then((function(t){if(t){var i=Dt(t,1)[0];r.getPageIndex(new fe(i)).then(e).catch(n)}}))})).then((function(e){return t.pageIndex=e,t.pageIndex}))})),yt(dt(t),"getPageNumber",(function(){return new Promise((function(e,n){Lt(t.pageNumber)&&e(t.pageNumber),t.getPageIndex().then((function(t){e(t+1)})).catch(n)})).then((function(e){return t.pageNumber=e,e}))})),yt(dt(t),"onClick",(function(e){var n=t.props.onClick;return e.preventDefault(),!!n&&Promise.all([t.getDestination(),t.getPageIndex(),t.getPageNumber()]).then((function(t){var e=Dt(t,3),r=e[0],i=e[1],o=e[2];n({dest:r,pageIndex:i,pageNumber:o})}))})),t}return ht(o,[{key:"renderSubitems",value:function(){var e=this.props,n=e.item,r=st(e,ge);if(!n.items||!n.items.length)return null;var i=n.items;return t.createElement("ul",null,i.map((function(e,n){return t.createElement(o,ot({key:"string"==typeof e.destination?e.destination:n,item:e},r))})))}},{key:"render",value:function(){var e=this.props.item;return t.createElement("li",null,t.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),o}(t.PureComponent),ye=D().oneOfType([D().string,D().arrayOf(D().any)]);me.propTypes={item:D().shape({dest:ye,items:D().arrayOf(D().shape({dest:ye,title:D().string})),title:D().string}).isRequired,onClick:D().func,pdf:re.isRequired};const ve=function(e){return t.createElement(kt.Consumer,null,(function(n){return t.createElement(pe.Consumer,null,(function(r){return t.createElement(me,ot({},n,r,e))}))}))};function be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var _e=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var t;ut(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yt(dt(t=i.call.apply(i,[this].concat(n))),"state",{outline:null}),yt(dt(t),"loadOutline",(function(){var e=t.props.pdf;t.setState((function(t){return t.outline?{outline:null}:null}));var n=St(e.getOutline());t.runningTask=n,n.promise.then((function(e){t.setState({outline:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),yt(dt(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.outline;e&&e(n)})),yt(dt(t),"onLoadError",(function(e){t.setState({outline:!1});var n=t.props.onLoadError;n&&n(e)})),yt(dt(t),"onItemClick",(function(e){var n=e.dest,r=e.pageIndex,i=e.pageNumber,o=t.props.onItemClick;o&&o({dest:n,pageIndex:r,pageNumber:i})})),t}return ht(o,[{key:"componentDidMount",value:function(){Pt(this.props.pdf),this.loadOutline()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;t.pdf&&e!==t.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){Gt(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var t=this;return xt(this.props,(function(){return t.state.outline}))}},{key:"renderOutline",value:function(){var e=this.state.outline;return t.createElement("ul",null,e.map((function(e,n){return t.createElement(ve,{key:"string"==typeof e.destination?e.destination:n,item:e})})))}},{key:"render",value:function(){var e=this.props.pdf,n=this.state.outline;if(!e||!n)return null;var r=this.props,i=r.className,o=r.inputRef;return t.createElement("div",ot({className:Et("react-pdf__Outline",i),ref:o},this.eventProps),t.createElement(pe.Provider,{value:this.childContext},this.renderOutline()))}}]),o}(t.PureComponent);function we(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){r.forEach((function(e){"function"==typeof e?e(t):e.current=t}))}}_e.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?be(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:Jt,inputRef:ie,onItemClick:D().func,onLoadError:D().func,onLoadSuccess:D().func,pdf:re},Zt);const xe=(0,t.createContext)(null);var Se=rt.AnnotationMode,Ce=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var e;ut(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return yt(dt(e=i.call.apply(i,[this].concat(r))),"canvasElement",(0,t.createRef)()),yt(dt(e),"onRenderSuccess",(function(){e.renderer=null;var t=e.props,n=t.onRenderSuccess,r=t.page,i=t.scale;n&&n(qt(r,i))})),yt(dt(e),"onRenderError",(function(t){if(!$t(t)){var n=e.props.onRenderError;n&&n(t)}})),yt(dt(e),"drawPageOnCanvas",(function(){var t=e.canvasElement.current;if(!t)return null;var n=dt(e),r=n.renderViewport,i=n.viewport,o=e.props,a=o.canvasBackground,s=o.page,l=o.renderForms;t.width=r.width,t.height=r.height,t.style.width="".concat(Math.floor(i.width),"px"),t.style.height="".concat(Math.floor(i.height),"px");var u={annotationMode:l?Se.ENABLE_FORMS:Se.ENABLE,get canvasContext(){return t.getContext("2d")},viewport:r};a&&(u.background=a),e.cancelRenderingTask();var c=s.render(u);return e.renderer=c,c.promise.then(e.onRenderSuccess).catch(e.onRenderError)})),e}return ht(o,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.canvasBackground,r=e.devicePixelRatio,i=e.page,o=e.renderForms;n===t.canvasBackground&&r===t.devicePixelRatio&&o===t.renderForms||(i.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var t=this.canvasElement.current;t&&(t.width=0,t.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){return this.props.devicePixelRatio||jt&&window.devicePixelRatio||1}},{key:"renderViewport",get:function(){var t=this.devicePixelRatio,e=this.props,n=e.page,r=e.rotate,i=e.scale;return n.getViewport({scale:i*t,rotation:r})}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this.props.canvasRef;return t.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:we(e,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),o}(t.PureComponent);function Ee(e){return t.createElement(xe.Consumer,null,(function(n){return t.createElement(Ce,ot({},n,e))}))}Ce.propTypes={canvasBackground:D().string,canvasRef:ie,devicePixelRatio:D().number,onRenderError:D().func,onRenderSuccess:D().func,page:ne.isRequired,renderForms:D().bool,rotate:ae,scale:D().number.isRequired};var Pe=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var t;ut(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yt(dt(t=i.call.apply(i,[this].concat(n))),"state",{svg:null}),yt(dt(t),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(qt(r,i))})),yt(dt(t),"onRenderError",(function(e){if(!$t(e)){var n=t.props.onRenderError;n&&n(e)}})),yt(dt(t),"renderSVG",(function(){var e=t.props.page;return t.renderer=e.getOperatorList(),t.renderer.then((function(n){var r=new rt.SVGGraphics(e.commonObjs,e.objs);t.renderer=r.getSVG(n,t.viewport).then((function(e){t.setState({svg:e},t.onRenderSuccess)})).catch(t.onRenderError)})).catch(t.onRenderError)})),yt(dt(t),"drawPageOnContainer",(function(e){var n=t.state.svg;if(e&&n){e.firstElementChild||e.appendChild(n);var r=t.viewport,i=r.width,o=r.height;n.setAttribute("width",i),n.setAttribute("height",o)}})),t}return ht(o,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,n=this.viewport,r=n.width,i=n.height;return t.createElement("div",{className:"react-pdf__Page__svg",ref:function(t){return e.drawPageOnContainer(t)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:r,height:i,userSelect:"none"}})}}]),o}(t.PureComponent);function ke(e){return t.createElement(xe.Consumer,null,(function(n){return t.createElement(Pe,ot({},n,e))}))}function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}Pe.propTypes={onRenderError:D().func,onRenderSuccess:D().func,page:ne.isRequired,rotate:ae,scale:D().number.isRequired};var Ae=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var e;ut(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return yt(dt(e=i.call.apply(i,[this].concat(r))),"state",{textContent:null}),yt(dt(e),"layerElement",(0,t.createRef)()),yt(dt(e),"endElement",(0,t.createRef)()),yt(dt(e),"loadTextContent",(function(){var t=St(e.props.page.getTextContent());e.runningTask=t,t.promise.then((function(t){e.setState({textContent:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),yt(dt(e),"onLoadSuccess",(function(){var t=e.props.onGetTextSuccess,n=e.state.textContent;t&&t(n)})),yt(dt(e),"onLoadError",(function(t){e.setState({textItems:!1});var n=e.props.onGetTextError;n&&n(t)})),yt(dt(e),"onRenderSuccess",(function(){var t=e.props.onRenderTextLayerSuccess;t&&t()})),yt(dt(e),"onRenderError",(function(t){var n=e.props.onRenderTextLayerError;n&&n(t)})),yt(dt(e),"onMouseDown",(function(){var t=e.endElement.current;t&&t.classList.add("active")})),yt(dt(e),"onMouseUp",(function(){var t=e.endElement.current;t&&t.classList.remove("active")})),e}return ht(o,[{key:"componentDidMount",value:function(){Pt(this.props.page),parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),this.loadTextContent()}},{key:"componentDidUpdate",value:function(t){var e=this.props.page;t.page&&e!==t.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){Gt(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"renderTextLayer",value:function(){var t=this,e=this.state.textContent;if(!e)return null;var n=this.layerElement.current,r=this.viewport,i=this.props.customTextRenderer;Gt(this.runningTask),n.innerHTML="";var o={container:n,textContent:e,viewport:r},a=rt.renderTextLayer(o);this.runningTask=a,a.promise.then((function(){var r=document.createElement("div");if(r.className="endOfContent",n.append(r),t.endElement.current=r,i){var o=0;e.items.forEach((function(e,n){var r=t.layerElement.current.children[o],a=i(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({itemIndex:n},e));r.innerHTML=a,o+=e.str&&e.hasEOL?2:1}))}t.onRenderSuccess()})).catch((function(e){t.onRenderError(e)}))}},{key:"render",value:function(){return t.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),o}(t.PureComponent);function Re(e){return t.createElement(xe.Consumer,null,(function(n){return t.createElement(Ae,ot({},n,e))}))}Ae.propTypes={customTextRenderer:D().func,onGetTextError:D().func,onGetTextSuccess:D().func,onRenderTextLayerError:D().func,onRenderTextLayerSuccess:D().func,page:ne.isRequired,rotate:ae,scale:D().number};var Te=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var e;ut(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return yt(dt(e=i.call.apply(i,[this].concat(r))),"state",{annotations:null}),yt(dt(e),"layerElement",(0,t.createRef)()),yt(dt(e),"loadAnnotations",(function(){var t=St(e.props.page.getAnnotations());e.runningTask=t,t.promise.then((function(t){e.setState({annotations:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))})),yt(dt(e),"onLoadSuccess",(function(){var t=e.props.onGetAnnotationsSuccess,n=e.state.annotations;t&&t(n)})),yt(dt(e),"onLoadError",(function(t){e.setState({annotations:!1});var n=e.props.onGetAnnotationsError;n&&n(t)})),yt(dt(e),"onRenderSuccess",(function(){var t=e.props.onRenderAnnotationLayerSuccess;t&&t()})),yt(dt(e),"onRenderError",(function(t){var n=e.props.onRenderAnnotationLayerError;n&&n(t)})),e}return ht(o,[{key:"componentDidMount",value:function(){Pt(this.props.page),parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.page,r=e.renderForms;(t.page&&n!==t.page||r!==t.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){Gt(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(t){var e=this.props,n=e.imageResourcesPath,r=e.linkService,i=e.page,o=e.renderForms,a=this.viewport.clone({dontFlip:!0}),s={annotations:t,div:this.layerElement.current,imageResourcesPath:n,linkService:r,page:i,renderForms:o,viewport:a};this.layerElement.current.innerHTML="";try{rt.AnnotationLayer.render(s),this.onRenderSuccess()}catch(t){this.onRenderError(t)}}}},{key:"render",value:function(){return t.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),o}(t.PureComponent);Te.propTypes={imageResourcesPath:D().string,linkService:ee.isRequired,onGetAnnotationsError:D().func,onGetAnnotationsSuccess:D().func,onRenderAnnotationLayerError:D().func,onRenderAnnotationLayerSuccess:D().func,page:ne,renderForms:D().bool,rotate:ae,scale:D().number};const Me=function(e){return t.createElement(kt.Consumer,null,(function(n){return t.createElement(xe.Consumer,null,(function(r){return t.createElement(Te,ot({},n,r,e))}))}))};function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var je=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(){var e;ut(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return yt(dt(e=i.call.apply(i,[this].concat(r))),"state",{page:null}),yt(dt(e),"pageElement",(0,t.createRef)()),yt(dt(e),"onLoadSuccess",(function(){var t=e.props,n=t.onLoadSuccess,r=t.registerPage,i=e.state.page;n&&n(qt(i,e.scale)),r&&r(e.pageIndex,e.pageElement.current)})),yt(dt(e),"onLoadError",(function(t){e.setState({page:!1});var n=e.props.onLoadError;n&&n(t)})),yt(dt(e),"loadPage",(function(){var t=e.props.pdf,n=e.getPageNumber();if(n){e.setState((function(t){return t.page?{page:null}:null}));var r=St(t.getPage(n));e.runningTask=r,r.promise.then((function(t){e.setState({page:t},e.onLoadSuccess)})).catch((function(t){e.onLoadError(t)}))}})),e}return ht(o,[{key:"componentDidMount",value:function(){Pt(this.props.pdf),this.loadPage()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;if(t.pdf&&e!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),Gt(this.runningTask)}},{key:"childContext",get:function(){var t=this.state.page;if(!t)return{};var e=this.props,n=e.canvasBackground,r=e.customTextRenderer,i=e.devicePixelRatio,o=e.onGetAnnotationsError,a=e.onGetAnnotationsSuccess,s=e.onGetTextError,l=e.onGetTextSuccess,u=e.onRenderAnnotationLayerError,c=e.onRenderAnnotationLayerSuccess,h=e.onRenderError,d=e.onRenderSuccess,p=e.onRenderTextLayerError,f=e.onRenderTextLayerSuccess,g=e.renderForms,m=e.renderInteractiveForms;return{canvasBackground:n,customTextRenderer:r,devicePixelRatio:i,onGetAnnotationsError:o,onGetAnnotationsSuccess:a,onGetTextError:s,onGetTextSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:c,onRenderError:h,onRenderSuccess:d,onRenderTextLayerError:p,onRenderTextLayerSuccess:f,page:t,renderForms:null!=g?g:m,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ft(t.pageNumber)?t.pageNumber-1:Ft(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return Ft(t.pageNumber)?t.pageNumber:Ft(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(Ft(t))return t;var e=this.state.page;return e?e.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var e=this.props,n=e.scale,r=e.width,i=e.height,o=this.rotate,a=1,s=null===n?1:n;if(r||i){var l=t.getViewport({scale:1,rotation:o});a=r?r/l.width:i/l.height}return s*a}},{key:"eventProps",get:function(){var t=this;return xt(this.props,(function(){var e=t.state.page;return e?qt(e,t.scale):e}))}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var e=this.props,n=e.canvasRef;switch(e.renderMode){case"none":return null;case"svg":return t.createElement(ke,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return t.createElement(Ee,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){return this.props.renderTextLayer?t.createElement(Re,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){return this.props.renderAnnotationLayer?t.createElement(Me,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(xe.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,n=this.props.pdf,r=this.state.page;if(!e){var i=this.props.noData;return t.createElement(Ot,{type:"no-data"},"function"==typeof i?i():i)}if(null===n||null===r){var o=this.props.loading;return t.createElement(Ot,{type:"loading"},"function"==typeof o?o():o)}if(!1===n||!1===r){var a=this.props.error;return t.createElement(Ot,{type:"error"},"function"==typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var e=this.pageNumber,n=this.props,r=n.className,i=n.inputRef;return t.createElement("div",ot({className:Et("react-pdf__Page",r),"data-page-number":e,ref:we(i,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);je.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:1};var Le=D().oneOfType([D().func,D().node]);function Fe(e,n){return t.createElement(kt.Consumer,null,(function(r){return t.createElement(je,ot({ref:n},r,e))}))}je.propTypes=De(De({},Zt),{},{canvasBackground:D().string,children:D().node,className:Jt,customTextRenderer:D().func,devicePixelRatio:D().number,error:Le,height:D().number,imageResourcesPath:D().string,inputRef:ie,loading:Le,noData:Le,onGetTextError:D().func,onGetTextSuccess:D().func,onLoadError:D().func,onLoadSuccess:D().func,onRenderError:D().func,onRenderSuccess:D().func,onRenderTextLayerError:D().func,onRenderTextLayerSuccess:D().func,pageIndex:function(t,e,n){var r=t[e],i=t.pageNumber,o=t.pdf;if(!Lt(o))return null;if(Lt(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(lt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(e,"` to be greater or equal to 0."));var a=o.numPages;if(r+1>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a-1,"."))}else if(!Lt(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(t,e,n){var r=t[e],i=t.pageIndex,o=t.pdf;if(!Lt(o))return null;if(Lt(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(lt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(e,"` to be greater or equal to 1."));var a=o.numPages;if(r>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a,"."))}else if(!Lt(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:re,registerPage:D().func,renderAnnotationLayer:D().bool,renderForms:D().bool,renderInteractiveForms:D().bool,renderMode:oe,renderTextLayer:D().bool,rotate:ae,scale:D().number,unregisterPage:D().func,width:D().number});const Ne=t.forwardRef(Fe);"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(Wt),rt.GlobalWorkerOptions.workerSrc=it;const ze=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Ue(t,e){return t>e?1:t<e?-1:0}function Be(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Ve(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function We(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function He(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ge(){return!0}function qe(){return!1}function $e(){}function Xe(){return function(){throw new Error("Unimplemented abstract method.")}()}var Ye=0;function Ke(t){return t.ol_uid||(t.ol_uid=String(++Ye))}var Ze,Qe="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Je=-1!==Qe.indexOf("firefox"),tn=(-1!==Qe.indexOf("safari")&&-1==Qe.indexOf("chrom")&&(Qe.indexOf("version/15.4")>=0||Qe.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==Qe.indexOf("webkit")&&-1==Qe.indexOf("edge")),en=-1!==Qe.indexOf("macintosh"),nn="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,rn="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,on="undefined"!=typeof Image&&Image.prototype.decode,an=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}(),sn=(Ze=function(t,e){return Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ze(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const ln=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/v"+"6.15.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return sn(e,t),e}(Error);function un(t,e){if(!t)throw new ln(e)}var cn;function hn(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function dn(t,e,n,r,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=a*r*u-s*r*l+e,t[5]=a*i*l+s*i*u+n,t}function pn(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];un(0!==r,32);var i=e[0],o=e[1],a=e[2],s=e[3],l=e[4],u=e[5];return t[0]=s/r,t[1]=-o/r,t[2]=-a/r,t[3]=i/r,t[4]=(a*u-s*l)/r,t[5]=-(i*u-o*l)/r,t}function fn(t){var e="matrix("+t.join(", ")+")";if(rn)return e;var n=cn||(cn=document.createElement("div"));return n.style.transform=e,n.style.transform}new Array(6);function gn(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)On(e,t[n]);return e}function mn(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function yn(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function vn(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function bn(t,e){return wn(t,e[0],e[1])}function _n(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function wn(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function xn(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=0;return a<n?l|=16:a>i&&(l|=4),s<r?l|=8:s>o&&(l|=2),0===l&&(l=1),l}function Sn(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function Cn(t){return Sn(1/0,1/0,-1/0,-1/0,t)}function En(t,e,n,r,i){return An(Cn(i),t,e,n,r)}function Pn(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function kn(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function On(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function An(t,e,n,r,i){for(;n<r;n+=i)Rn(t,e[n],e[n+1]);return t}function Rn(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Tn(t,e){var n;return(n=e(Mn(t)))||(n=e(In(t)))||(n=e(zn(t)))?n:(n=e(Nn(t)))||!1}function Mn(t){return[t[0],t[1]]}function In(t){return[t[2],t[1]]}function Dn(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function jn(t,e,n,r,i){var o=function(t,e,n,r){var i=e*r[0]/2,o=e*r[1]/2,a=Math.cos(n),s=Math.sin(n),l=i*a,u=i*s,c=o*a,h=o*s,d=t[0],p=t[1];return[d-l+h,p-u-c,d-l-h,p-u+c,d+l-h,p+u+c,d+l+h,p+u-c,d-l+h,p-u-c]}(t,e,n,r),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],d=o[6],p=o[7];return Sn(Math.min(a,l,c,d),Math.min(s,u,h,p),Math.max(a,l,c,d),Math.max(s,u,h,p),i)}function Ln(t){return t[3]-t[1]}function Fn(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return Bn(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):Cn(r),r}function Nn(t){return[t[0],t[3]]}function zn(t){return[t[2],t[3]]}function Un(t){return t[2]-t[0]}function Bn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Vn(t){return t[2]<t[0]||t[3]<t[1]}function Wn(t,e){var n=e.getExtent(),r=Dn(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=Un(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function Hn(t,e,n){return Math.min(Math.max(t,e),n)}var Gn="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},qn="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function $n(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return Xn(t,e,n,r)}function Xn(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Yn(t){return t*Math.PI/180}function Kn(t,e){var n=t%e;return n*e<0?n+e:n}function Zn(t,e,n){return t+n*(e-t)}var Qn=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Jn=/^([a-z]*)$|^hsla?\(.*\)$/i;function tr(t){return"string"==typeof t?t:ir(t)}var er=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0==(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;if(Jn.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),Qn.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?rr(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),rr(o)):un(!1,14);return o}(n),t[n]=r,++e}return r}}();function nr(t){return Array.isArray(t)?t:er(t)}function rr(t){return t[0]=Hn(t[0]+.5|0,0,255),t[1]=Hn(t[1]+.5|0,0,255),t[2]=Hn(t[2]+.5|0,0,255),t[3]=Hn(t[3],0,1),t}function ir(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}function or(t,e,n){return e+":"+t+":"+(n?tr(n):"null")}var ar=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=or(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=or(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}());const sr=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),lr="propertychange";var ur="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function cr(t){for(var e in t)delete t[e]}var hr="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function dr(t){var e;for(e in t)return!1;return!e}var pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fr=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return pr(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(r){var i=e?new sr(t):t;i.target||(i.target=this.eventTarget_||this);var o,a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var l=0,u=r.length;l<u;++l)if(!1===(o="handleEvent"in r[l]?r[l].handleEvent(i):r[l].call(this,i))||i.propagationStopped){o=!1;break}if(0==--a[n]){var c=s[n];for(delete s[n];c--;)this.removeEventListener(n,$e);delete a[n]}return o}},e.prototype.disposeInternal=function(){this.listeners_&&cr(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=$e,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(ze),gr="change",mr="contextmenu",yr="click",vr="keydown",br="keypress",_r="touchmove",wr="wheel";function xr(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function Sr(t,e,n,r){return xr(t,e,n,r,!0)}function Cr(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),cr(t))}var Er=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return Er(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(gr)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=xr(this,t[i],e);return r}return xr(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=Sr(this,t[i],e)}else n=Sr(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Cr(t[e]);else Cr(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(fr);Pr.prototype.on,Pr.prototype.once,Pr.prototype.un;const kr=Pr;var Or=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ar=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return Or(e,t),e}(sr);const Rr=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,Ke(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return Or(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&ur({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new Ar(n,t,e)),n=lr,this.hasListener(n)&&this.dispatchEvent(new Ar(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&ur(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],dr(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(kr),Tr="opacity",Mr="visible",Ir="extent",Dr="zIndex",jr="maxResolution",Lr="minResolution",Fr="maxZoom",Nr="minZoom",zr="source";var Ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Br=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var r=ur({},e);return"object"==typeof e.properties&&(delete r.properties,ur(r,e.properties)),r.opacity=void 0!==e.opacity?e.opacity:1,un("number"==typeof r.opacity,64),r.visible=void 0===e.visible||e.visible,r.zIndex=e.zIndex,r.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,r.minResolution=void 0!==e.minResolution?e.minResolution:0,r.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,r.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?r.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return Ur(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Hn(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Xe()},e.prototype.getLayerStatesArray=function(t){return Xe()},e.prototype.getExtent=function(){return this.get(Ir)},e.prototype.getMaxResolution=function(){return this.get(jr)},e.prototype.getMinResolution=function(){return this.get(Lr)},e.prototype.getMinZoom=function(){return this.get(Nr)},e.prototype.getMaxZoom=function(){return this.get(Fr)},e.prototype.getOpacity=function(){return this.get(Tr)},e.prototype.getSourceState=function(){return Xe()},e.prototype.getVisible=function(){return this.get(Mr)},e.prototype.getZIndex=function(){return this.get(Dr)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(Ir,t)},e.prototype.setMaxResolution=function(t){this.set(jr,t)},e.prototype.setMinResolution=function(t){this.set(Lr,t)},e.prototype.setMaxZoom=function(t){this.set(Fr,t)},e.prototype.setMinZoom=function(t){this.set(Nr,t)},e.prototype.setOpacity=function(t){un("number"==typeof t,64),this.set(Tr,t)},e.prototype.setVisible=function(t){this.set(Mr,t)},e.prototype.setZIndex=function(t){this.set(Dr,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(Rr);const Vr=Br,Wr="precompose",Hr="rendercomplete";var Gr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=function(t){function e(e){var n=this,r=ur({},e);delete r.source,(n=t.call(this,r)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(zr,n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return Gr(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(zr)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Cr(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=xr(t,gr,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.getData=function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set("map",t)},e.prototype.getMapInternal=function(){return this.get("map")},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Cr(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Cr(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=xr(t,Wr,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);un(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=xr(this,gr,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(zr,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Vr);function $r(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Xr=qr;function Yr(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Kr(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function Zr(t,e){if(e.canWrapX()){var n=Un(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Un(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}var Qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jr=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Qr(e,t),e.prototype.dispatchRenderEvent=function(t,e){Xe()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;dn(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),pn(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var l,u=e.viewState;function c(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=u.projection,d=Zr(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&r){var f=Un(h.getExtent());p.push([-f,0],[f,0])}for(var g=e.layerStatesArray,m=g.length,y=[],v=[],b=0;b<p.length;b++)for(var _=m-1;_>=0;--_){var w=g[_],x=w.layer;if(x.hasRenderer()&&$r(w,u)&&a.call(s,x)){var S=x.getRenderer(),C=x.getSource();if(S&&C){var E=C.getWrapX()?d:t,P=c.bind(null,w.managed);v[0]=E[0]+p[b][0],v[1]=E[1]+p[b][1],l=S.forEachFeatureAtCoordinate(v,e,n,P,y)}if(l)return l}}if(0!==y.length){var k=1/y.length;return y.forEach((function(t,e){return t.distanceSq+=e*k})),y.sort((function(t,e){return t.distanceSq-e.distanceSq})),y.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return Xe()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Ge,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Xe()},e.prototype.scheduleExpireIconCache=function(t){ar.canExpireCache()&&t.postRenderFunctions.push(ti)},e}(ze);function ti(t,e){ar.expire()}const ei=Jr;var ni=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ri=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return ni(e,t),e}(sr);var ii="ol-hidden",oi="ol-control",ai=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),si=["style","variant","weight","size","lineHeight","family"],li=function(t){var e=t.match(ai);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=si.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[si[r]]=o)}return n.families=n.family.split(/,\s?/),n};function ui(t,e,n,r){var i;return i=n&&n.length?n.shift():rn?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function ci(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function hi(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var di="10px sans-serif",pi="#000",fi="round",gi=[],mi="round",yi="#000",vi="center",bi="middle",_i=[0,0,0,0],wi=new Rr;(new fr).setSize=function(){console.warn("labelCache is deprecated.")};var xi,Si,Ci=null,Ei={},Pi=function(){var t,e,n="32px ",r=["monospace","serif"],i=r.length,o="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var l=!0,u=0;u<i;++u){var c=r[u];if(e=Ai(t+" "+a+" "+n+c,o),s!=c){var h=Ai(t+" "+a+" "+n+s+","+c,o);l=l&&h!=e}}return!!l}function s(){for(var e=!0,n=wi.getKeys(),r=0,i=n.length;r<i;++r){var o=n[r];wi.get(o)<100&&(a.apply(this,o.split("\n"))?(cr(Ei),Ci=null,xi=void 0,wi.set(o,100)):(wi.set(o,wi.get(o)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=li(e);if(n)for(var r=n.families,i=0,o=r.length;i<o;++i){var l=r[i],u=n.style+"\n"+n.weight+"\n"+l;void 0===wi.get(u)&&(wi.set(u,100,!0),a(n.style,n.weight,l)||(wi.set(u,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),ki=function(t){var e=Ei[t];if(null==e){if(rn){var n=li(t),r=Oi(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else Si||((Si=document.createElement("div")).innerHTML="M",Si.style.minHeight="0",Si.style.maxHeight="none",Si.style.height="auto",Si.style.padding="0",Si.style.border="none",Si.style.position="absolute",Si.style.display="block",Si.style.left="-99999px"),Si.style.font=t,document.body.appendChild(Si),e=Si.offsetHeight,document.body.removeChild(Si);Ei[t]=e}return e};function Oi(t,e){return Ci||(Ci=ui(1,1)),t!=xi&&(Ci.font=t,xi=Ci.font),Ci.measureText(e)}function Ai(t,e){return Oi(t,e).width}function Ri(t,e,n){if(e in n)return n[e];var r=e.split("\n").reduce((function(e,n){return Math.max(e,Ai(t,n))}),0);return n[e]=r,r}var Ti=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mi=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=xr(wi,lr,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Ti(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new ri(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Cr(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(Wr,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,a=e.length;o<a;++o){var s=e[o];t.layerIndex=o;var l=s.layer,u=l.getSourceState();if(!$r(s,n)||"ready"!=u&&"undefined"!=u)l.unrender();else{var c=l.render(t,i);c&&(c!==i&&(this.children_.push(c),i=c),"getDeclutter"in l&&r.push(l))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&$r(l,o)&&i(u)){var c=u.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(u,c);if(h)return h}}}},e}(ei);const Ii=Mi,Di="add",ji="remove";var Li=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fi="length",Ni=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return Li(e,t),e}(sr),zi=function(t){function e(e,n){var r=t.call(this)||this;r.on,r.once,r.un;var i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return Li(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Fi)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ni(Di,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ni(ji,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ni(ji,r,t)),this.dispatchEvent(new Ni(Di,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Fi,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new ln(58)},e}(Rr);const Ui=zi;var Bi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vi=function(t){function e(e,n){var r=t.call(this,e)||this;return r.layer=n,r}return Bi(e,t),e}(sr),Wi="layers",Hi=function(t){function e(e){var n=this,r=e||{},i=ur({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Wi,n.handleLayersChanged_),o?Array.isArray(o)?o=new Ui(o.slice(),{unique:!0}):un("function"==typeof o.getArray,43):o=new Ui(void 0,{unique:!0}),n.setLayers(o),n}return Bi(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Cr),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(xr(t,Di,this.handleLayersAdd_,this),xr(t,ji,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Cr);cr(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new Vi("addlayer",o))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[xr(t,lr,this.handleLayerChange_,this),xr(t,gr,this.handleLayerChange_,this)];t instanceof e&&n.push(xr(t,"addlayer",this.handleLayerGroupAdd_,this),xr(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ke(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new Vi("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new Vi("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new Vi("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Ke(e);this.listenerKeys_[n].forEach(Cr),delete this.listenerKeys_[n],this.dispatchEvent(new Vi("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(Wi)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),r=0,i=n.length;r<i;++r)this.dispatchEvent(new Vi("removelayer",n[r]));this.set(Wi,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r=this.getLayerState(),i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(var o=n,a=e.length;o<a;o++){var s=e[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=Fn(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=i)}return e},e.prototype.getSourceState=function(){return"ready"},e}(Vr);const Gi=Hi;var qi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$i=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return qi(e,t),e}(sr);const Xi=$i;var Yi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ki=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,o)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==i&&i,s.activePointers=a,s}return Yi(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Xi);const Zi=Ki,Qi={SINGLECLICK:"singleclick",CLICK:yr,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ji="pointerdown";var to=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=xr(i,Ji,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=xr(i,"pointermove",r.relayMoveEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(_r,r.boundHandleTouchMove_,!!an&&{passive:!1}),r}return to(e,t),e.prototype.emulateClick_=function(t){var e=new Zi(Qi.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Zi(Qi.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Zi(Qi.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t,n=e.pointerId;if(e.type==Qi.POINTERUP||e.type==Qi.POINTERCANCEL){for(var r in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[r].target!==e.target){delete this.trackedTouches_[r];break}}else e.type!=Qi.POINTERDOWN&&e.type!=Qi.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=hr(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Zi(Qi.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Cr),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new Zi(Qi.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"==typeof r?$e:r}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(xr(i,Qi.POINTERMOVE,this.handlePointerMove_,this),xr(i,Qi.POINTERUP,this.handlePointerUp_,this),xr(this.element_,Qi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(xr(this.element_.getRootNode(),Qi.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new Zi(Qi.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Zi(Qi.POINTERMOVE,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Cr(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(_r,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Cr(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Cr),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(fr);const no=eo,ro="postrender",io="loadstart",oo="loadend",ao="layergroup",so="size",lo="target",uo="view";var co=1/0;const ho=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,cr(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){un(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=co&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<r&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==co?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}();var po=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fo=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return po(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(gr,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener(gr,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),0!==n.getState()||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(ho);var go={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},mo={};mo[go.RADIANS]=6370997/(2*Math.PI),mo[go.DEGREES]=2*Math.PI*6370997/360,mo[go.FEET]=.3048,mo[go.METERS]=1,mo[go.USFEET]=1200/3937;const yo=go,vo={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var bo=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||mo[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const _o=bo;var wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xo=6378137,So=Math.PI*xo,Co=[-So,-So,So,So],Eo=[-180,-85,180,85],Po=xo*Math.log(Math.tan(Math.PI/2)),ko=function(t){function e(e){return t.call(this,{code:e,units:yo.METERS,extent:Co,global:!0,worldExtent:Eo,getPointResolution:function(t,e){return t/Gn(e[1]/xo)}})||this}return wo(e,t),e}(_o),Oo=[new ko("EPSG:3857"),new ko("EPSG:102100"),new ko("EPSG:102113"),new ko("EPSG:900913"),new ko("http://www.opengis.net/def/crs/EPSG/0/3857"),new ko("http://www.opengis.net/gml/srs/epsg.xml#3857")];var Ao=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ro=[-180,-90,180,90],To=6378137*Math.PI/180,Mo=function(t){function e(e,n){return t.call(this,{code:e,units:yo.DEGREES,extent:Ro,axisOrientation:n,global:!0,metersPerUnit:To,worldExtent:Ro})||this}return Ao(e,t),e}(_o),Io=[new Mo("CRS:84"),new Mo("EPSG:4326","neu"),new Mo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Mo("urn:ogc:def:crs:OGC:2:84"),new Mo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Mo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Mo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Do={},jo={};function Lo(t,e,n){var r=t.getCode(),i=e.getCode();r in jo||(jo[r]={}),jo[r][i]=n}function Fo(t,e,n){var r=n||6371008.8,i=Yn(t[1]),o=Yn(e[1]),a=(o-i)/2,s=Yn(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var No=!0;function zo(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function Uo(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function Bo(t){!function(t,e){Do[t]=e}(t.getCode(),t),Lo(t,t,zo)}function Vo(t){return"string"==typeof t?Do[e=t]||Do[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function Wo(t,e,n,r){var i,o=(t=Vo(t)).getPointResolutionFunc();if(o)i=o(e,n),r&&r!==t.getUnits()&&(s=t.getMetersPerUnit())&&(i=i*s/mo[r]);else{var a=t.getUnits();if(a==yo.DEGREES&&!r||r==yo.DEGREES)i=e;else{var s,l=$o(t,Vo("EPSG:4326"));if(l===Uo&&a!==yo.DEGREES)i=e*t.getMetersPerUnit();else{var u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(Fo((u=l(u,u,2)).slice(0,2),u.slice(2,4))+Fo(u.slice(4,6),u.slice(6,8)))/2}void 0!==(s=r?mo[r]:t.getMetersPerUnit())&&(i/=s)}}return i}function Ho(t){!function(t){t.forEach(Bo)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Lo(e,t,zo)}))}))}function Go(t,e){return t?"string"==typeof t?Vo(t):t:Vo(e)}function qo(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||$o(t,e)===zo)&&n}function $o(t,e){var n=function(t,e){var n;return t in jo&&e in jo[t]&&(n=jo[t][e]),n}(t.getCode(),e.getCode());return n||(n=Uo),n}function Xo(t,e){return $o(Vo(t),Vo(e))}function Yo(t,e,n){return Xo(e,n)(t,void 0,t.length)}var Ko,Zo,Qo,Jo=null;function ta(){return Jo}function ea(t,e){return t}function na(t,e){return No&&!Yr(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(No=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function ra(t,e){return t}function ia(t,e){return t}function oa(t,e){return t}function aa(t,e,n){return function(r,i,o,a,s){if(r){if(!i&&!e)return r;var l=e?0:o[0]*i,u=e?0:o[1]*i,c=s?s[0]:0,h=s?s[1]:0,d=t[0]+l/2+c,p=t[2]-l/2+c,f=t[1]+u/2+h,g=t[3]-u/2+h;d>p&&(p=d=(p+d)/2),f>g&&(g=f=(g+f)/2);var m=Hn(r[0],d,p),y=Hn(r[1],f,g);if(a&&n&&i){var v=30*i;m+=-v*Math.log(1+Math.max(0,d-r[0])/v)+v*Math.log(1+Math.max(0,r[0]-p)/v),y+=-v*Math.log(1+Math.max(0,f-r[1])/v)+v*Math.log(1+Math.max(0,r[1]-g)/v)}return[m,y]}}}function sa(t){return t}function la(t,e,n,r){var i=Un(e)/n[0],o=Ln(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function ua(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Hn(r,n/2,2*e)}function ca(t,e,n,r,i){return function(o,a,s,l){if(void 0!==o){var u=r?la(t,r,s,i):t;return(void 0===n||n)&&l?ua(o,u,e):Hn(o,e,u)}}}function ha(t){return void 0!==t?0:void 0}function da(t){return void 0!==t?t:void 0}function pa(t){return 1-function(t){return Math.pow(t,3)}(1-t)}function fa(t){return 3*t*t-2*t*t*t}function ga(t){return t}Ho(Oo),Ho(Io),Ko=Oo,Zo=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=So*t[a]/180;var s=xo*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>Po?s=Po:s<-Po&&(s=-Po),o[a+1]=s}return o},Qo=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/So,o[a+1]=360*Math.atan(Math.exp(t[a+1]/xo))/Math.PI-90;return o},Io.forEach((function(t){Ko.forEach((function(e){Lo(t,e,Zo),Lo(e,t,Qo)}))}));const ma="XY",ya="XYM",va="XYZM";function ba(t,e,n,r,i,o){for(var a=o||[],s=0,l=e;l<n;l+=r){var u=t[l],c=t[l+1];a[s++]=i[0]*u+i[2]*c+i[4],a[s++]=i[1]*u+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function _a(t,e,n,r,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],h=o[1],d=0,p=e;p<n;p+=r){var f=t[p]-c,g=t[p+1]-h;s[d++]=c+f*l-g*u,s[d++]=h+f*u+g*l;for(var m=p+2;m<p+r;++m)s[d++]=t[m]}return a&&s.length!=d&&(s.length=d),s}function wa(t,e,n,r,i,o,a){for(var s=a||[],l=0,u=e;u<n;u+=r){s[l++]=t[u]+i,s[l++]=t[u+1]+o;for(var c=u+2;c<u+r;++c)s[l++]=t[c]}return a&&s.length!=l&&(s.length=l),s}var xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sa=[1,0,0,1,0,0],Ca=function(t){function e(){var e,n,r,i,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&He(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),a}return xa(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Xe()},e.prototype.closestPointXY=function(t,e,n,r){return Xe()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Xe()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Cn(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Xe()},e.prototype.scale=function(t,e,n){Xe()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Xe()},e.prototype.getType=function(){return Xe()},e.prototype.applyTransform=function(t){Xe()},e.prototype.intersectsExtent=function(t){return Xe()},e.prototype.translate=function(t,e){Xe()},e.prototype.transform=function(t,e){var n=Vo(t),r=n.getUnits()==yo.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),a=n.getWorldExtent(),s=Ln(a)/Ln(o);return dn(Sa,a[0],a[3],s,-s,0,0,0),ba(t,0,t.length,i,Sa,r),Xo(n,e)(t,r,i)}:Xo(n,e);return this.applyTransform(r),this},e}(Rr);const Ea=Ca;var Pa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(t){function e(){var e=t.call(this)||this;return e.layout=ma,e.stride=2,e.flatCoordinates=null,e}return Pa(e,t),e.prototype.computeExtent=function(t){return En(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Xe()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Oa(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Xe()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=Oa(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=ma,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=ma:3==t?e="XYZ":4==t&&(e=va),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();_a(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Dn(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,r,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,d=0;d<n;d+=r){var p=t[d]-u,f=t[d+1]-c;l[h++]=u+i*p,l[h++]=c+o*f;for(var g=d+2;g<d+r;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(o,0,o.length,a,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();wa(n,0,n.length,r,t,e,n),this.changed()}},e}(Ea);function Oa(t){var e;return t==ma?e=2:"XYZ"==t||t==ya?e=3:t==va&&(e=4),e}const Aa=ka;function Ra(t,e,n,r,i,o,a){var s,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0===c&&0===h)s=e;else{var d=((i-l)*c+(o-u)*h)/(c*c+h*h);if(d>1)s=n;else{if(d>0){for(var p=0;p<r;++p)a[p]=Zn(t[e+p],t[n+p],d);return void(a.length=r)}s=e}}for(p=0;p<r;++p)a[p]=t[s+p];a.length=r}function Ta(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],u=Xn(o,a,s,l);u>i&&(i=u),o=s,a=l}return i}function Ma(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Ta(t,e,s,r,i),e=s}return i}function Ia(t,e,n,r,i,o,a,s,l,u,c){if(e==n)return u;var h,d;if(0===i){if((d=Xn(a,s,t[e],t[e+1]))<u){for(h=0;h<r;++h)l[h]=t[e+h];return l.length=r,d}return u}for(var p=c||[NaN,NaN],f=e+r;f<n;)if(Ra(t,f-r,f,r,a,s,p),(d=Xn(a,s,p[0],p[1]))<u){for(u=d,h=0;h<r;++h)l[h]=p[h];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(u))/i|0,1);if(o&&(Ra(t,n-r,e,r,a,s,p),(d=Xn(a,s,p[0],p[1]))<u)){for(u=d,h=0;h<r;++h)l[h]=p[h];l.length=r}return u}function Da(t,e,n,r,i,o,a,s,l,u,c){for(var h=c||[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];u=Ia(t,e,f,r,i,o,a,s,l,u,h),e=f}return u}function ja(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}function La(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function Fa(t,e,n,r,i){for(var o=i||[],a=0,s=0,l=n.length;s<l;++s){var u=La(t,e,n[s],r);o[a++]=u,e=u}return o.length=a,o}function Na(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-r],c=0;u.length>0;){for(var h=u.pop(),d=u.pop(),p=0,f=t[d],g=t[d+1],m=t[h],y=t[h+1],v=d+r;v<h;v+=r){var b=$n(t[v],t[v+1],f,g,m,y);b>p&&(c=v,p=b)}p>i&&(l[(c-e)/r]=1,d+r<c&&u.push(d,c),c+r<h&&u.push(c,h))}for(v=0;v<s;++v)l[v]&&(o[a++]=t[e+v*r],o[a++]=t[e+v*r+1]);return a}function za(t,e){return e*Math.round(t/e)}function Ua(t,e,n,r,i,o,a){if(e==n)return a;var s,l,u=za(t[e],i),c=za(t[e+1],i);e+=r,o[a++]=u,o[a++]=c;do{if(s=za(t[e],i),l=za(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;e<n;){var h=za(t[e],i),d=za(t[e+1],i);if(e+=r,h!=s||d!=l){var p=s-u,f=l-c,g=h-u,m=d-c;p*m==f*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(f<0&&m<f||f==m||f>0&&m>f)?(s=h,l=d):(o[a++]=s,o[a++]=l,u=s,c=l,s=h,l=d)}}return o[a++]=s,o[a++]=l,a}function Ba(t,e,n,r,i,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=Ua(t,e,c,r,i,o,a),s.push(a),e=c}return a}function Va(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function Wa(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=Va(t,e,u,r,o[a]),e=u}return o.length=a,o}function Ha(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];o[a++]=Wa(t,e,u,r,o[a]),e=u[u.length-1]}return o.length=a,o}function Ga(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=a*s-o*l,o=s,a=l}return i/2}function qa(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Ga(t,e,s,r),e=s}return i}var $a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xa=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return $a(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<vn(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ia(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Ga(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Va(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Na(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,ma)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Aa);const Ya=Xa;var Ka=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Za=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return Ka(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Xn(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,r=e[0],i=e[1],Sn(r,i,r,i,n);var e,n,r,i},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return wn(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ja(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Aa);const Qa=Za;function Ja(t,e,n,r,i){return!Tn(i,(function(i){return!ts(t,e,n,r,i[0],i[1])}))}function ts(t,e,n,r,i,o){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function es(t,e,n,r,i,o){if(0===n.length)return!1;if(!ts(t,e,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(ts(t,n[a-1],n[a],r,i,o))return!1;return!0}function ns(t,e,n,r,i,o,a){for(var s,l,u,c,h,d,p,f=i[o+1],g=[],m=0,y=n.length;m<y;++m){var v=n[m];for(c=t[v-r],d=t[v-r+1],s=e;s<v;s+=r)h=t[s],p=t[s+1],(f<=d&&p<=f||d<=f&&f<=p)&&(u=(f-d)/(p-d)*(h-c)+c,g.push(u)),c=h,d=p}var b=NaN,_=-1/0;for(g.sort(Ue),c=g[0],s=1,l=g.length;s<l;++s){h=g[s];var w=Math.abs(h-c);w>_&&es(t,e,n,r,u=(c+h)/2,f)&&(b=u,_=w),c=h}return isNaN(b)&&(b=i[o]),a?(a.push(b,f,_),a):[b,f,_]}function rs(t,e,n,r,i){var o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)))return o;return!1}function is(t,e,n,r,i){var o=An([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Bn(i,o)&&(!!_n(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||rs(t,e,n,r,(function(t,e){return function(t,e,n){var r=!1,i=xn(t,e),o=xn(t,n);if(1===i||1===o)r=!0;else{var a=t[0],s=t[1],l=t[2],u=t[3],c=e[0],h=e[1],d=n[0],p=n[1],f=(p-h)/(d-c),g=void 0,m=void 0;2&o&&!(2&i)&&(r=(g=d-(p-u)/f)>=a&&g<=l),r||!(4&o)||4&i||(r=(m=p-(d-l)*f)>=s&&m<=u),r||!(8&o)||8&i||(r=(g=d-(p-s)/f)>=a&&g<=l),r||!(16&o)||16&i||(r=(m=p-(d-a)*f)>=s&&m<=u)}return r}(i,t,e)})))}function os(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(is(t,e,n,r,i)||ts(t,e,n,r,i[0],i[1])||ts(t,e,n,r,i[0],i[3])||ts(t,e,n,r,i[2],i[1])||ts(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(Ja(t,n[o-1],n[o],r,i)&&!is(t,n[o-1],n[o],r,i))return!1;return!0}function as(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function ss(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=(s-o)*(l+a),o=s,a=l}return 0===i?void 0:i>0}function ls(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var l=n[a],u=ss(t,e,l,r);if(0===a){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;e=l}return!0}function us(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var l=n[a],u=ss(t,e,l,r);(0===a?o&&u||!o&&!u:o&&!u||!o&&u)&&as(t,e,l,r),e=l}return e}function cs(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o)e=us(t,e,n[o],r,i);return e}var hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return hs(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<vn(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ma(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Da(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return es(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return qa(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?us(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Wa(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Dn(this.getExtent());this.flatInteriorPoint_=ns(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Qa(this.getFlatInteriorPoint(),ya)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Ya(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new Ya(e.slice(i,s),t);r.push(l),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;ls(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=us(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Ba(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,ma,r)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return os(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Fa(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Aa);const ps=ds;function fs(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new ds(o,ma,[o.length])}var gs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ms=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r,i=ur({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Go(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.projection&&(No=!(void 0===r||r)),i.center&&(i.center=na(i.center,n.projection_)),i.extent&&(i.extent=ia(i.extent,n.projection_)),n.applyOptions_(i),n}return gs(e,t),e.prototype.applyOptions_=function(t){var e=ur({},t);for(var n in vo)delete e[n];this.setProperties(e,!0);var r=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,u=void 0!==t.showFullExtent&&t.showFullExtent,c=Go(t.projection,"EPSG:3857"),h=c.getExtent(),d=t.constrainOnlyCenter,p=t.extent;if(s||p||!c.isGlobal()||(d=!1,p=h),void 0!==t.resolutions){var f=t.resolutions;n=f[i],r=void 0!==f[o]?f[o]:f[f.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,a,s){if(void 0!==i){var l=t[0],u=t[t.length-1],c=n?la(l,n,a,r):l;if(s)return void 0===e||e?ua(i,c,u):Hn(i,u,c);var h=Math.min(c,i),d=Math.floor(Be(t,h,o));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(f,l,!d&&p,u):ca(n,r,l,!d&&p,u)}else{var g=(h?Math.max(Un(h),Ln(h)):360*mo[yo.DEGREES]/c.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?i=0:n=g/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):g/Math.pow(a,o):m),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return function(a,s,l,u){if(void 0!==a){var c=i?la(e,i,l,o):e,h=void 0!==n?n:0;if(u)return void 0===r||r?ua(a,c,h):Hn(a,h,c);var d=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,f=Math.min(c,a),g=Math.floor(Math.log(e/f)/Math.log(t)+p),m=Math.max(d,g);return Hn(e/Math.pow(t,m),h,c)}}}(a,n,r,l,!d&&p,u):ca(n,r,l,!d&&p,u)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return aa(t.extent,t.constrainOnlyCenter,e)}var n=Go(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,aa(r,!1,!1)}return sa}(t),o=r.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=Yn(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}):!1===e?da:"number"==typeof e?(n=e,r=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/r+.5)*r:void 0}):da}var n,r,i;return ha}(t);this.constraints_={center:i,resolution:o,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution(),o=i/2*(r[3]-e[3]+e[1]-r[1]),a=i/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),ur({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=ur({},r)).center=na(r.center,this.getProjection())),r.anchor&&((r=ur({},r)).anchor=na(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var r=0;r<n&&!this.isDef();++r){var i=arguments[r];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(r!==n){for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[];r<n;++r){var c=arguments[r],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||fa,callback:e};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(c.zoom),s=h.targetResolution):c.resolution&&(h.sourceResolution=s,h.targetResolution=c.resolution,s=h.targetResolution),void 0!==c.rotation){h.sourceRotation=l;var d=Kn(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}vs(h)?h.complete=!0:o+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}else e&&ys(e,!0)},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&ys(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],d=s.sourceCenter[1],p=s.targetCenter[0],f=s.targetCenter[1];this.nextCenter_=s.targetCenter;var g=h+c*(p-h),m=d+c*(f-d);this.targetCenter_=[g,m]}if(s.sourceResolution&&s.targetResolution){var y=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getViewportSize_(this.getRotation()),b=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(b,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===c?Kn(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var w=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(w,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=_}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var x=r[0].callback;x&&ys(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(Kr(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),i=e,(r=n)[0]+=+i[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?ea(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(vo.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return ra(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();un(n,1);var r=this.getResolution();un(void 0!==r,2);var i=this.getRotation();return un(void 0!==i,3),jn(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(vo.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(ia(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=Un(t)/n[0],i=Ln(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(vo.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();r=bs(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Be(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Hn(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Hn(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(un(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))un(!Vn(t),25),n=fs(r=ia(t,this.getProjection()));else if("Circle"===t.getType()){var r;(n=fs(r=ia(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Dn(r))}else{var i=ta();n=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,h=i.length;c<h;c+=o){var d=i[c]*n-i[c+1]*r,p=i[c]*r+i[c+1]*n;a=Math.min(a,d),s=Math.min(s,p),l=Math.max(l,d),u=Math.max(u,p)}return[a,s,l,u]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(s,[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);l=isNaN(l)?i:Math.max(l,i),l=this.getConstrainedResolution(l,a?0:1);var u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),d=Dn(s);d[0]+=(o[1]-o[3])/2*l,d[1]+=(o[0]-o[2])/2*l;var p=d[0]*h-d[1]*c,f=d[1]*h+d[0]*c,g=this.getConstrainedCenter([p,f],l),m=n.callback?n.callback:$e;void 0!==n.duration?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),ys(m,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(na(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(bs(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding_;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=bs(t,r,[a[0]/2+o[3],a[1]/2+o[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=ea(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&na(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=na(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t?na(t,this.getProjection()):t)},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(vo.ROTATION)!==r&&this.set(vo.ROTATION,r),this.get(vo.RESOLUTION)!==o&&(this.set(vo.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(vo.CENTER)&&Yr(this.get(vo.CENTER),a)||this.set(vo.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();var u=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Yr(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:r,easing:pa,anchor:u}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&na(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(Rr);function ys(t,e){setTimeout((function(){t(e)}),0)}function vs(t){return!(t.sourceCenter&&t.targetCenter&&!Yr(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function bs(t,e,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=t[0]*o-t[1]*a,l=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*r)*o-(l+=(n[1]-e[1]/2)*r)*(a=-a),l*o+s*a]}const _s=ms;function ws(t){return t[0]>0&&t[1]>0}function xs(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Ss=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Cs(t){t instanceof Xr?t.setMapInternal(null):t instanceof Gi&&t.getLayers().forEach(Cs)}function Es(t,e){if(t instanceof Xr)t.setMapInternal(e);else if(t instanceof Gi)for(var n=t.getLayers().getArray(),r=0,i=n.length;r<i;++r)Es(n[r],e)}var Ps=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Gi({layers:t.layers});return o.layergroup=a,o.target=t.target,o.view=t.view instanceof _s?t.view:new _s,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Ui(t.controls.slice()):(un("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new Ui(t.interactions.slice()):(un("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new Ui(t.overlays.slice()):(un("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new Ui,{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:nn,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=r.controls||new Ui,n.interactions=r.interactions||new Ui,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new fo(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(ao,n.handleLayerGroupChanged_),n.addChangeListener(uo,n.handleViewChanged_),n.addChangeListener(so,n.handleSizeChanged_),n.addChangeListener(lo,n.handleTargetChanged_),n.setProperties(r.values);var i=n;return!e.view||e.view instanceof _s||e.view.then((function(t){i.setView(new _s(t))})),n.controls.addEventListener(Di,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(ji,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Di,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(ji,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Di,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(ji,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return Ss(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){Es(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:Ge,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Gi?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance:0,o=r.layerFilter||Ge;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Ge,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(lo)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return ea(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?hn(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(ao)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Ui)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e];if(r.visible){var i=r.layer.getRenderer();if(i&&!i.ready)return!0;var o=r.layer.getSource();if(o&&o.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=na(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?hn(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(so)},e.prototype.getView=function(){return this.get(uo)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return co;if(!t.wantedTiles[n][e.getKey()])return co;var o=t.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new Zi(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===Ji||n===wr||n===vr){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var l=a[s];if(l.getMap()===this&&l.getActive()&&this.getTargetElement()&&(!l.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[0]||i[1]){var o=Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(Hr)&&this.renderer_.dispatchRenderEvent(Hr,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new Xi(oo,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new Xi(io,this,t))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Cr(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(mr,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(wr,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,hi(this.viewport_)}var n=this.getTargetElement();if(n){for(var r in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new no(this,this.moveTolerance_),Qi)this.mapBrowserEventHandler_.addEventListener(Qi[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(mr,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(wr,this.boundHandleBrowserEvent_,!!an&&{passive:!1});var i=this.getOwnerDocument().defaultView,o=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[xr(o,vr,this.handleBrowserEvent,this),xr(o,br,this.handleBrowserEvent,this),xr(i,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Cr(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Cr(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=xr(t,lr,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=xr(t,gr,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Cr),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Vi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[xr(t,lr,this.render,this),xr(t,gr,this.render,this),xr(t,"addlayer",this.handleLayerAdd_,this),xr(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){Cs(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&ws(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:jn(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:Ke(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;o.nextExtent=jn(s.nextCenter,s.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!Vn(this.previousExtent_)&&!Pn(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Xi("movestart",this,i)),this.previousExtent_=Cn(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!Pn(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Xi("moveend",this,o)),yn(o.extent,this.previousExtent_))),this.dispatchEvent(new Xi(ro,this,o)),this.renderComplete_=this.hasListener(io)||this.hasListener(oo)||this.hasListener(Hr)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Vi("removelayer",e)),this.set(ao,t)},e.prototype.setSize=function(t){this.set(so,t)},e.prototype.setTarget=function(t){this.set(lo,t)},e.prototype.setView=function(t){if(!t||t instanceof _s)this.set(uo,t);else{this.set(uo,new _s);var e=this;t.then((function(t){e.setView(new _s(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||!ws(e=[r,i])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(Rr);const ks=Ps;var Os=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),As=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return Os(e,t),e.prototype.disposeInternal=function(){hi(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&hi(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Cr(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==$e&&this.listenerKeys.push(xr(t,ro,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(Rr);const Rs=As;var Ts=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ms=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:i+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"›",l=void 0!==r.collapseClassName?r.collapseClassName:i+"-collapse";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=l):n.collapseLabel_=s;var u=void 0!==r.label?r.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=a):n.label_=u;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(yr,n.handleClick_.bind(n),!1);var h=i+" ol-unselectable "+oi+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=h,d.appendChild(n.toggleButton_),d.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return Ts(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,a=i.length;o<a;++o){var s=i[o];if($r(s,t.viewState)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(r=r&&!1!==l.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,d=c.length;h<d;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!He(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?ci(this.collapseLabel_,this.label_):ci(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Rs);const Is=Ms;var Ds=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),js=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"⇧",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",l=document.createElement("button");l.className=i+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(n.label_),l.addEventListener(yr,n.handleClick_.bind(n),!1);var u=i+" ol-unselectable "+oi,c=n.element;return c.className=u,c.appendChild(l),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(ii),n}return Ds(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:pa}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ii);i||0!==n?i&&0!==n&&this.element.classList.remove(ii):this.element.classList.add(ii)}this.label_.style.transform=r}this.rotation_=n}},e}(Rs);const Ls=js;var Fs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ns=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",l=void 0!==r.zoomInLabel?r.zoomInLabel:"+",u=void 0!==r.zoomOutLabel?r.zoomOutLabel:"–",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=a,d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener(yr,n.handleClick_.bind(n,o),!1);var p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof u?document.createTextNode(u):u),p.addEventListener(yr,n.handleClick_.bind(n,-o),!1);var f=i+" ol-unselectable "+oi,g=n.element;return g.className=f,g.appendChild(d),g.appendChild(p),n.duration_=void 0!==r.duration?r.duration:250,n}return Fs(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:pa})):e.setZoom(r)}}},e}(Rs);const zs=Ns,Us="active";var Bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vs=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Bs(e,t),e.prototype.getActive=function(){return this.get(Us)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Us,t)},e.prototype.setMap=function(t){this.map_=t},e}(Rr);function Ws(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:pa})}}const Hs=Vs;var Gs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qs=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return Gs(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Qi.DBLCLICK){var n=t.originalEvent,r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Ws(r.getView(),o,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(Hs);const $s=qs;var Xs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ys=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return Xs(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Qi.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Qi.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Qi.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==Qi.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},e}(Hs);function Ks(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}const Zs=Ys;function Qs(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var Js=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},tl=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},el=Ge,nl=function(t){var e=t.originalEvent;return 0==e.button&&!(tn&&en&&e.ctrlKey)},rl=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},il=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ol=function(t){var e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},al=function(t){var e=t.originalEvent;return un(void 0!==e,56),"mouse"==e.pointerType},sl=function(t){var e=t.originalEvent;return un(void 0!==e,56),e.isPrimary&&0===e.button},ll=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ul=function(t){function e(e){var n=t.call(this,{stopDown:qe})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=r.condition?r.condition:Qs(rl,sl);return n.condition_=r.onFocusOnly?Qs(tl,i):i,n.noKinetic_=!1,n}return ll(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,r=this.targetPointers,i=Ks(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map.getView();e=o,n=a.getResolution(),e[0]*=n,e[1]*=n,Kr(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:pa})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Zs);const cl=ul;var hl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dl=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:qe})||this).condition_=r.condition?r.condition:Js,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return hl(e,t),e.prototype.handleDragEvent=function(t){if(al(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==ha){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!al(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!al(t)||!nl(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(Zs);const pl=dl;var fl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return fl(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new ps([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(ze);const ml=gl;var yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return yl(e,t),e}(sr),bl=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.box_=new ml(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:nl,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return yl(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new vl("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new vl(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new vl("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(Zs);const _l=bl;var wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(t){function e(e){var n=this,r=e||{},i=r.condition?r.condition:il;return(n=t.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return wl(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(r),o=e.getResolution()/i;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:pa})},e}(_l);const Sl=xl;var Cl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),El=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return rl(t)&&ol(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return Cl(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==vr){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(40==r||37==r||39==r||38==r)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,a=0,s=0;40==r?s=-o:37==r?a=-o:39==r?a=o:s=o;var l=[a,s];Kr(l,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:ga,center:t.getConstrainedCenter(i)})}}(i,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Hs);const Pl=El;var kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ol=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:ol,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return kl(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==vr||t.type==br){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;Ws(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Hs);const Al=Ol;const Rl=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var Tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml="trackpad",Il=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:el;return n.condition_=r.onFocusOnly?Qs(tl,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return Tl(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==wr)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==wr&&(e=r.deltaY,Je&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=nn),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Ml:"wheel");var o=n.getView();if(this.mode_===Ml&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Hn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Ws(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Hs);const Dl=Il;var jl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ll=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=qe),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return jl(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==ha){var l=a.getViewport().getBoundingClientRect(),u=Ks(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Zs);const Fl=Ll;var Nl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zl=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=qe),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Nl(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),c=Ks(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Zs);const Ul=zl;function Bl(t){var e=t||{},n=new Ui,r=new Rl(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new pl),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new $s({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new cl({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Fl),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Ul({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Pl),n.push(new Al({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Dl({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Sl({duration:e.zoomDuration})),n}var Vl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t){function e(e){return(e=ur({},e)).controls||(e.controls=function(t){var e={},n=new Ui;return(void 0===e.zoom||e.zoom)&&n.push(new zs(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Ls(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Is(e.attributionOptions)),n}()),e.interactions||(e.interactions=Bl({onFocusOnly:!0})),t.call(this,e)||this}return Vl(e,t),e.prototype.createRenderer=function(){return new Ii(this)},e}(ks);const Hl=Wl;var Gl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ql=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return Gl(e,t),e}(Xr);const $l=ql;var Xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Yl=function(t){function e(e){var n=t.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Xl(e,t),e.prototype.getFeatures=function(t){return Xe()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return Xe()},e.prototype.renderFrame=function(t,e){return Xe()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(gr,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},e}(kr);var Kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zl=[],Ql=null,Jl=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return Kl(e,t),e.prototype.getImageData=function(t,e,n){var r,i;Ql||((r=document.createElement("canvas")).width=1,r.height=1,Ql=r.getContext("2d")),Ql.clearRect(0,0,1,1);try{Ql.drawImage(t,e,n,1,1,0,0,1,1),i=Ql.getImageData(0,0,1,1).data}catch(t){return Ql=null,null}return i},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();if(t&&t.className===o&&(!n||t&&t.style.backgroundColor&&He(nr(t.style.backgroundColor),nr(n)))&&(s=t.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")),i&&i.canvas.style.transform===e?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=o;var a=r.style;a.position="absolute",a.width="100%",a.height="100%";var s=(i=ui()).canvas;r.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=i}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)},e.prototype.clipUnrotated=function(t,e,n){var r=Nn(n),i=zn(n),o=In(n),a=Mn(n);hn(e.coordinateToPixelTransform,r),hn(e.coordinateToPixelTransform,i),hn(e.coordinateToPixelTransform,o),hn(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;hn(s,r),hn(s,i),hn(s,o),hn(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new ri(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,l=o/2,u=r/e,c=-u,h=-t[0]+a,d=-t[1];return dn(this.tempTransform,s,l,u,c,-n,h,d)},e.prototype.getDataAtPixel=function(t,e,n){var r=hn(this.inversePixelTransform,t.slice()),i=this.context,o=this.getLayer().getExtent();if(o&&!bn(o,hn(e.pixelToCoordinateTransform,t.slice())))return null;var a,s=Math.round(r[0]),l=Math.round(r[1]),u=this.pixelContext_;if(!u){var c=document.createElement("canvas");c.width=1,c.height=1,u=c.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(i.canvas,s,l,1,1,0,0,1,1),a=u.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(Yl);const tu=Jl;var eu={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},nu={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iu=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return ru(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,r=t.viewState,i=r.resolution,o=this.getLayer().getSource(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=Fn(s,ia(e.extent,r.projection))),!a[0]&&!a[1]&&!Vn(s))if(o){var l=r.projection,u=o.getImage(s,i,n,l);u&&(this.loadImage(u)?this.image_=u:4===u.getState()&&(this.image_=null))}else this.image_=null;return!!this.image_},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),r=hn(e.pixelToCoordinateTransform,t.slice()),i=n.getExtent();if(i&&!bn(i,r))return null;var o=this.image_.getExtent(),a=this.image_.getImage(),s=Un(o),l=Math.floor(a.width*((r[0]-o[0])/s));if(l<0||l>=a.width)return null;var u=Ln(o),c=Math.floor(a.height*((o[3]-r[1])/u));return c<0||c>=a.height?null:this.getImageData(a,l,c)},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),i=n.getResolution(),o=n.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],s=t.pixelRatio,l=t.viewState,u=l.center,c=s*i/(l.resolution*o),h=t.extent,d=l.resolution,p=l.rotation,f=Math.round(Un(h)/d*s),g=Math.round(Ln(h)/d*s);dn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,p,-f/2,-g/2),pn(this.inversePixelTransform,this.pixelTransform);var m=fn(this.pixelTransform);this.useContainer(e,m,this.getBackground(t));var y=this.context,v=y.canvas;v.width!=f||v.height!=g?(v.width=f,v.height=g):this.containerReused||y.clearRect(0,0,f,g);var b=!1,_=!0;if(a.extent){var w=ia(a.extent,l.projection);(b=(_=Bn(w,t.extent))&&!_n(w,t.extent))&&this.clipUnrotated(y,t,w)}var x=n.getImage(),S=dn(this.tempTransform,f/2,g/2,c,c,0,o*(r[0]-u[0])/i,o*(u[1]-r[3])/i);this.renderedResolution=i*s/o;var C=x.width*S[0],E=x.height*S[3];if(this.getLayer().getSource().getInterpolate()||ur(y,eu),this.preRender(y,t),_&&C>=.5&&E>=.5){var P=S[4],k=S[5],O=a.opacity,A=void 0;1!==O&&(A=y.globalAlpha,y.globalAlpha=O),y.drawImage(x,0,0,+x.width,+x.height,P,k,C,E),1!==O&&(y.globalAlpha=A)}return this.postRender(y,t),b&&y.restore(),ur(y,nu),m!==v.style.transform&&(v.style.transform=m),this.container},e}(tu);const ou=iu;var au=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const su=function(t){function e(e){return t.call(this,e)||this}return au(e,t),e.prototype.createRenderer=function(){return new ou(this)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}($l);var lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const uu=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return lu(e,t),e.prototype.changed=function(){this.dispatchEvent(gr)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Xe()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Xe()},e}(fr);const cu=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=Xo(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Un(r)==Un(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Un(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Un(this.targetProj_.getExtent()):null;var l,u,c=Nn(n),h=zn(n),d=In(n),p=Mn(n),f=this.transformInv_(c),g=this.transformInv_(h),m=this.transformInv_(d),y=this.transformInv_(p),v=10+(o?Math.max(0,Math.ceil(qn((u=0,Vn(l=n)||(u=Un(l)*Ln(l)),u/(o*o*256*256))))):0);if(this.addQuad_(c,h,d,p,f,g,m,y,v),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(t,e,n){b=Math.min(b,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-b>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-b>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-b>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-b>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,l){var u=gn([i,o,a,s]),c=this.sourceWorldWidth_?Un(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Un(gn([t,e,n,r]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||Bn(u,this.maxSourceExtent_)){var f=0;if(!(p||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)p=!0;else if(1!=(f=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=f&&4!=f&&8!=f)return;if(l>0){if(!p){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(g),y=void 0;y=d?(Kn(i[0],h)+Kn(a[0],h))/2-Kn(m[0],h):(i[0]+a[0])/2-m[0];var v=(i[1]+a[1])/2-m[1];p=y*y+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(b),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,b,w,i,o,_,x,l-1),this.addQuad_(w,b,n,r,x,_,a,s,l-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(S),E=[(n[0]+r[0])/2,(n[1]+r[1])/2],P=this.transformInv_(E);this.addQuad_(t,S,E,r,i,C,P,s,l-1),this.addQuad_(S,e,n,E,C,o,a,P,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(t,n,r,i,a,s),0==(14&f)&&this.addTriangle_(t,n,e,i,a,o),f&&(0==(13&f)&&this.addTriangle_(e,r,t,o,s,i),0==(7&f)&&this.addTriangle_(e,r,n,o,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,r){var i=e.source;On(t,i[0]),On(t,i[1]),On(t,i[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var hu,du=[];function pu(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function fu(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}var gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(t){function e(e,n,r,i,o,a,s){var l=this,u=e.getExtent(),c=n.getExtent(),h=c?Fn(r,c):r,d=function(t,e,n,r){var i=Yo(n,e,t),o=Wo(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||bn(l,i)){var u=Wo(t,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}(e,n,Dn(h),i),p=new cu(e,n,h,u,.5*d,i),f=a(p.calculateSourceExtent(),d,o),g=f?0:4,m=f?f.getPixelRatio():1;return(l=t.call(this,r,i,m,g)||this).targetProj_=n,l.maxSourceExtent_=u,l.triangulation_=p,l.targetResolution_=i,l.targetExtent_=r,l.sourceImage_=f,l.sourcePixelRatio_=m,l.interpolate_=s,l.canvas_=null,l.sourceListenerKey_=null,l}return gu(e,t),e.prototype.disposeInternal=function(){1==this.state&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(2==t){var e=Un(this.targetExtent_)/this.targetResolution_,n=Ln(this.targetExtent_)/this.targetResolution_;this.canvas_=function(t,e,n,r,i,o,a,s,l,u,c,h){var d=ui(Math.round(n*t),Math.round(n*e),du);if(h||ur(d,eu),0===l.length)return d.canvas;function p(t){return Math.round(t*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var f=[1/0,1/0,-1/0,-1/0];l.forEach((function(t,e,n){kn(f,t.extent)}));var g=Un(f),m=Ln(f),y=ui(Math.round(n*g/r),Math.round(n*m/r));h||ur(y,eu);var v=n/r;l.forEach((function(t,e,n){var r=t.extent[0]-f[0],i=-(t.extent[3]-f[3]),o=Un(t.extent),a=Ln(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*v,i*v,o*v,a*v)}));var b=Nn(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],g=a[1][1],m=a[2][0],v=a[2][1],_=p((s[0][0]-b[0])/o),w=p(-(s[0][1]-b[1])/o),x=p((s[1][0]-b[0])/o),S=p(-(s[1][1]-b[1])/o),C=p((s[2][0]-b[0])/o),E=p(-(s[2][1]-b[1])/o),P=l,k=u;l=0,u=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*h[d]}return h}([[c-=P,g-=k,0,0,x-_],[m-=P,v-=k,0,0,C-_],[0,0,c,g,S-w],[0,0,m,v,E-w]]);if(O){if(d.save(),d.beginPath(),function(){if(void 0===hu){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",pu(t,4,5,4,0),pu(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;hu=fu(e,0)||fu(e,4)||fu(e,8)}return hu}()||!h){d.moveTo(x,S);for(var A=_-x,R=w-S,T=0;T<4;T++)d.lineTo(x+p((T+1)*A/4),S+p(T*R/3)),3!=T&&d.lineTo(x+p((T+1)*A/4),S+p((T+1)*R/3));d.lineTo(C,E)}else d.moveTo(x,S),d.lineTo(_,w),d.lineTo(C,E);d.clip(),d.transform(O[0],O[2],O[1],O[3],_,w),d.translate(f[0]-P,f[3]-k),d.scale(r/n,-r/n),d.drawImage(y.canvas,0,0),d.restore()}})),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-b[0])/o,a=-(r[0][1]-b[1])/o,s=(r[1][0]-b[0])/o,l=-(r[1][1]-b[1])/o,u=(r[2][0]-b[0])/o,c=-(r[2][1]-b[1])/o;d.beginPath(),d.moveTo(s,l),d.lineTo(i,a),d.lineTo(u,c),d.closePath(),d.stroke()})),d.restore()),d.canvas}(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=this.sourceImage_.getState();2==t||3==t?this.reproject_():(this.sourceListenerKey_=xr(this.sourceImage_,gr,(function(t){var e=this.sourceImage_.getState();2!=e&&3!=e||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Cr(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(uu);const yu=mu;var vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(t){function e(e){var n=t.call(this)||this;n.projection=Vo(e.projection),n.attributions_=_u(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(t,e){r.viewResolver=t,r.viewRejector=e})),n}return vu(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Xe()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=_u(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Rr);function _u(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const wu=bu;var xu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return xu(e,t),e}(sr),Cu=function(t){function e(e){var n=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:r})||this).on,n.once,n.un,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return xu(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Be(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var i=this.getProjection();if(i&&r&&!qo(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&qo(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&Pn(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new yu(i,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,i)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,r){return Xe()},e.prototype.handleImageChange=function(t){var e,n=t.target;switch(n.getState()){case 1:this.loading=!0,e="imageloadstart";break;case 2:this.loading=!1,e="imageloadend";break;case 3:this.loading=!1,e="imageloaderror";break;default:return}this.hasListener(e)&&this.dispatchEvent(new Su(e,n))},e}(wu);function Eu(t,e){t.getImage().src=e}const Pu=Cu;var ku=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ou(t,e,n){var r=t,i=!0,o=!1,a=!1,s=[Sr(r,"load",(function(){a=!0,o||e()}))];return r.src&&on?(o=!0,r.decode().then((function(){i&&e()})).catch((function(t){i&&(a?e():n())}))):s.push(Sr(r,"error",n)),function(){i=!1,s.forEach(Cr)}}const Au=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,0)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=0,s.imageLoadFunction_=a,s}return ku(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Ln(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ou(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Ln(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(uu);var Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(t){function e(e){var n=this,r=void 0!==e.crossOrigin?e.crossOrigin:null,i=void 0!==e.imageLoadFunction?e.imageLoadFunction:Eu,o=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(o=e.interpolate),(n=t.call(this,{attributions:e.attributions,interpolate:o,projection:Vo(e.projection)})||this).url_=e.url,n.imageExtent_=e.imageExtent,n.image_=new Au(n.imageExtent_,void 0,1,n.url_,r,i),n.imageSize_=e.imageSize?e.imageSize:null,n.image_.addEventListener(gr,n.handleImageChange.bind(n)),n}return Ru(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,n,r){return Bn(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(2==this.image_.getState()){var n=this.image_.getExtent(),r=this.image_.getImage(),i=void 0,o=void 0;this.imageSize_?(i=this.imageSize_[0],o=this.imageSize_[1]):(i=r.width,o=r.height);var a=Un(n),s=Ln(n),l=a/i,u=s/o,c=i,h=o;if(l>u?c=Math.round(a/u):h=Math.round(s/l),c!==i||h!==o){var d=ui(c,h);this.getInterpolate()||ur(d,eu);var p=d.canvas;d.drawImage(r,0,0,i,o,0,0,p.width,p.height),this.image_.setImage(p)}}t.prototype.handleImageChange.call(this,e)},e}(Pu);const Mu=Tu;var Iu=__webpack_require__(2582),Du=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=xs(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return Xe()},t.prototype.getImage=function(t){return Xe()},t.prototype.getHitDetectionImage=function(){return Xe()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Xe()},t.prototype.getImageSize=function(){return Xe()},t.prototype.getOrigin=function(){return Xe()},t.prototype.getSize=function(){return Xe()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=xs(t)},t.prototype.listenImageChange=function(t){Xe()},t.prototype.load=function(){Xe()},t.prototype.unlistenImageChange=function(t){Xe()},t}();const ju=Du;function Lu(t){return Array.isArray(t)?ir(t):t}var Fu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nu=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return Fu(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=ui(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){var o=r;r=i,i=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=i*Math.sin(s),u=r-Math.sqrt(i*i-l*l),c=Math.sqrt(l*l+u*u),h=c/l;if("miter"===t&&h<=n)return h*e;var d=e/2/h,p=e/2*(u/c),f=Math.sqrt((r+d)*(r+d)+p*p)-r;if(void 0===this.radius2_||"bevel"===t)return 2*f;var g=r*Math.sin(s),m=i-Math.sqrt(r*r-g*g),y=Math.sqrt(g*g+m*m)/g;if(y<=n){var v=y*e/2-i-r;return 2*Math.max(f,v)}return 2*f},e.prototype.createRenderOptions=function(){var t,e=mi,n=0,r=null,i=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=yi),t=Lu(t),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=mi),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,o,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*s+a),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=pi),e.fillStyle=Lu(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=nr(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=ui(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=i+a*o,l=a%2==0?n:r;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=pi,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(ju);const zu=Nu;var Uu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0],declutterMode:n.declutterMode})||this}return Uu(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(zu);const Vu=Bu;var Wu=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const Hu=Wu;var Gu=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();const qu=Gu;var $u=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Zu,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Zu,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),Xu=null;function Yu(t,e){if(!Xu){var n=new Hu({color:"rgba(255,255,255,0.4)"}),r=new qu({color:"#3399CC",width:1.25});Xu=[new $u({image:new Vu({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Xu}function Ku(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new $u({fill:new Hu({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new $u({stroke:new qu({color:e,width:5})}),new $u({stroke:new qu({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new $u({image:new Vu({radius:6,fill:new Hu({color:n}),stroke:new qu({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Zu(t){return t.getGeometry()}const Qu=$u;var Ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc="renderOrder",ec=function(t){function e(e){var n=this,r=e||{},i=ur({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return Ju(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(tc)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Iu(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(tc,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:Yu,this.styleFunction_=null===t?void 0:function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(un("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}(this.style_),this.changed()},e}(Xr);const nc=ec;var rc={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ic=[rc.FILL],oc=[rc.STROKE],ac=[rc.BEGIN_PATH],sc=[rc.CLOSE_PATH];const lc=rc,uc=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var cc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hc=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return cc(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],bn(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();o&&(e+=r);var u,c,h,d=t[e],p=t[e+1],f=this.tmpCoordinate_,g=!0;for(u=e+r;u<n;u+=r)f[0]=t[u],f[1]=t[u+1],(h=xn(l,f))!==c?(g&&(a[s++]=d,a[s++]=p,g=!1),a[s++]=f[0],a[s++]=f[1]):1===h?(a[s++]=f[0],a[s++]=f[1],g=!1):g=!0,d=f[0],p=f[1],c=h;return(i&&g||u===e+r)&&(a[s++]=d,a[s++]=p),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n,r){this.beginGeometry(t,e);var i,o,a,s,l,u=t.getType(),c=t.getStride(),h=this.coordinates.length;switch(u){case"MultiPolygon":i=t.getOrientedFlatCoordinates(),s=[];var d=t.getEndss();l=0;for(var p=0,f=d.length;p<f;++p){var g=[];l=this.drawCustomCoordinates_(i,l,d[p],c,g),s.push(g)}this.instructions.push([lc.CUSTOM,h,s,t,n,Ha]),this.hitDetectionInstructions.push([lc.CUSTOM,h,s,t,r||n,Ha]);break;case"Polygon":case"MultiLineString":a=[],i="Polygon"==u?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(i,0,t.getEnds(),c,a),this.instructions.push([lc.CUSTOM,h,a,t,n,Wa]),this.hitDetectionInstructions.push([lc.CUSTOM,h,a,t,r||n,Wa]);break;case"LineString":case"Circle":i=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([lc.CUSTOM,h,o,t,n,Va]),this.hitDetectionInstructions.push([lc.CUSTOM,h,o,t,r||n,Va]);break;case"MultiPoint":i=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(i,c))>h&&(this.instructions.push([lc.CUSTOM,h,o,t,n,Va]),this.hitDetectionInstructions.push([lc.CUSTOM,h,o,t,r||n,Va]));break;case"Point":i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([lc.CUSTOM,h,o,t,n]),this.hitDetectionInstructions.push([lc.CUSTOM,h,o,t,r||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[lc.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[lc.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==lc.END_GEOMETRY?o=t:r==lc.BEGIN_GEOMETRY&&(n[2]=t,Ve(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Lu(r||pi)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=Lu(i||yi);var o=e.getLineCap();n.lineCap=void 0!==o?o:fi;var a=e.getLineDash();n.lineDash=a?a.slice():gi;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:mi;var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[lc.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[lc.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!He(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[lc.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=yn(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;mn(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(uc);const dc=hc;var pc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fc=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return pc(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([lc.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([lc.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([lc.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([lc.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=i[0],this.originY_=i[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(dc);var gc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const mc=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return gc(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[lc.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([lc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,gi,0],ac);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(oc),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([lc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ac);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(a,l,o[u],s);this.hitDetectionInstructions.push(oc),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(oc),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(oc),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(ac)},e}(dc);var yc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vc=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return yc(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(ac),this.hitDetectionInstructions.push(ac);for(var l=0;l<s;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,u,r,!0,!a),d=[lc.MOVE_TO_LINE_TO,c,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),a&&(this.instructions.push(sc),this.hitDetectionInstructions.push(sc)),e=u}return o&&(this.instructions.push(ic),this.hitDetectionInstructions.push(ic)),a&&(this.instructions.push(oc),this.hitDetectionInstructions.push(oc)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([lc.SET_FILL_STYLE,pi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([lc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var l=[lc.CIRCLE,s];this.instructions.push(ac,l),this.hitDetectionInstructions.push(ac,l),void 0!==n.fillStyle&&(this.instructions.push(ic),this.hitDetectionInstructions.push(ic)),void 0!==n.strokeStyle&&(this.instructions.push(oc),this.hitDetectionInstructions.push(oc)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([lc.SET_FILL_STYLE,pi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([lc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([lc.SET_FILL_STYLE,pi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([lc.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(a,l,o[u],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=za(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(dc);const bc=vc;function _c(t,e,n,r,i){var o,a,s,l,u,c,h,d,p,f=n,g=n,m=0,y=0,v=n;for(o=n;o<r;o+=i){var b=e[o],_=e[o+1];void 0!==l&&(d=b-l,p=_-u,s=Math.sqrt(d*d+p*p),void 0!==c&&(y+=a,Math.acos((c*d+h*p)/(a*s))>t&&(y>m&&(m=y,f=v,g=o),y=0,v=o-i)),a=s,c=d,h=p),l=b,u=_}return(y+=s)>m?[v,o]:[f,g]}var wc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xc={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Sc=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return wc(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o=this.coordinates,a=o.length,s=t.getType(),l=null,u=t.getStride();if("line"!==i.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var c=i.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),u=2;break;case"Polygon":l=t.getFlatInteriorPoint(),i.overflow||c.push(l[2]/this.resolution),u=3;break;case"MultiPolygon":var h=t.getFlatInteriorPoints();for(l=[],x=0,S=h.length;x<S;x+=3)i.overflow||c.push(h[x+2]/this.resolution),l.push(h[x],h[x+1]);if(0===l.length)return;u=2}if((R=this.appendFlatPointCoordinates(l,u))===a)return;if(c&&(R-a)/2!=l.length/u){var d=a/2;c=c.filter((function(t,e){var n=o[2*(d+e)]===l[e*u]&&o[2*(d+e)+1]===l[e*u+1];return n||--d,n}))}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var p=i.padding;if(p!=_i&&(i.scale[0]<0||i.scale[1]<0)){var f=i.padding[0],g=i.padding[1],m=i.padding[2],y=i.padding[3];i.scale[0]<0&&(g=-g,y=-y),i.scale[1]<0&&(f=-f,m=-m),p=[f,g,m,y]}var v=this.pixelRatio;this.instructions.push([lc.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==_i?_i:p.map((function(t){return t*v})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var b=1/v;this.hitDetectionInstructions.push([lc.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[b,b],NaN,void 0,this.declutterImageWithText_,p,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Bn(this.getBufferedMaxExtent(),t.getExtent()))return;var _=void 0;if(l=t.getFlatCoordinates(),"LineString"==s)_=[l.length];else if("MultiLineString"==s)_=t.getEnds();else if("Polygon"==s)_=t.getEnds().slice(0,1);else if("MultiPolygon"==s){var w=t.getEndss();_=[];for(var x=0,S=w.length;x<S;++x)_.push(w[x][0])}this.beginGeometry(t,e);for(var C=i.textAlign,E=0,P=void 0,k=0,O=_.length;k<O;++k){if(null==C){var A=_c(i.maxAngle,l,E,_[k],u);E=A[0],P=A[1]}else P=_[k];for(x=E;x<P;x+=u)o.push(l[x],l[x+1]);var R=o.length;E=_[k],this.drawChars_(a,R),a=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||vi,justify:e.justify,textBaseline:e.textBaseline||bi,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=xc[r.textBaseline],u=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([lc.DRAW_CHARS,t,e,l,r.overflow,a,r.maxAngle,s,u,i,h*s,c,o,1]),this.hitDetectionInstructions.push([lc.DRAW_CHARS,t,e,l,r.overflow,a,r.maxAngle,1,u,i,h,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=Lu(o.getColor()||pi)):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i={},this.textStrokeState_=i);var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||fi,i.lineDash=s?s.slice():gi,i.lineDashOffset=void 0===l?0:l,i.lineJoin=a.getLineJoin()||mi,i.lineWidth=void 0===u?1:u,i.miterLimit=void 0===c?10:c,i.strokeStyle=Lu(a.getColor()||yi)}else i=null,this.textStrokeState_=i;n=this.textState_;var h=t.getFont()||di;Pi(h);var d=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||bi,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||_i,n.scale=void 0===d?[1,1]:d;var p=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Ke(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Ke(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(dc),Cc={Circle:bc,Default:dc,Image:fc,LineString:mc,Polygon:bc,Text:Sc};const Ec=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,Cc[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}();function Pc(t,e,n,r,i,o,a,s,l,u,c,h){var d=t[e],p=t[e+1],f=0,g=0,m=0,y=0;function v(){f=d,g=p,d=t[e+=r],p=t[e+1],y+=m,m=Math.sqrt((d-f)*(d-f)+(p-g)*(p-g))}do{v()}while(e<n-r&&y+m<o);for(var b=0===m?0:(o-y)/m,_=Zn(f,d,b),w=Zn(g,p,b),x=e-r,S=y,C=o+s*l(u,i,c);e<n-r&&y+m<C;)v();var E,P=Zn(f,d,b=0===m?0:(C-y)/m),k=Zn(g,p,b);if(h){var O=[_,w,P,k];_a(O,0,4,2,h,O,O),E=O[0]>O[2]}else E=_>P;var A,R=Math.PI,T=[],M=x+r===e;if(m=0,y=S,d=t[e=x],p=t[e+1],M){v(),A=Math.atan2(p-g,d-f),E&&(A+=A>0?-R:R);var I=(P+_)/2,D=(k+w)/2;return T[0]=[I,D,(C-o)/2,A,i],T}for(var j=0,L=(i=i.replace(/\n/g," ")).length;j<L;){v();var F=Math.atan2(p-g,d-f);if(E&&(F+=F>0?-R:R),void 0!==A){var N=F-A;if(N+=N>R?-2*R:N<-R?2*R:0,Math.abs(N)>a)return null}A=F;for(var z=j,U=0;j<L;++j){var B=s*l(u,i[E?L-j-1:j],c);if(e+r<n&&y+m<o+U+B/2)break;U+=B}if(j!==z){var V=E?i.substring(L-z,L-j):i.substring(z,j);I=Zn(f,d,b=0===m?0:(o+U/2-y)/m),D=Zn(g,p,b),T.push([I,D,U/2,F,V]),o+=U}}return T}function kc(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var l=t[s],u=t[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}var Oc=[1/0,1/0,-1/0,-1/0],Ac=[],Rc=[],Tc=[],Mc=[];function Ic(t){return t[3].declutterBox}var Dc=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function jc(t,e){return"start"!==e&&"end"!==e||Dc.test(t)||(e="start"===e?"left":"right"),xc[e]}function Lc(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}var Fc=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,u=[s.scale[0]*l,s.scale[1]*l],c=Array.isArray(t),h=s.justify?xc[s.justify]:jc(Array.isArray(t)?t[0]:t,s.textAlign||vi),d=r&&o.lineWidth?o.lineWidth:0,p=c?t:t.split("\n").reduce(Lc,[]),f=function(t,e){for(var n=[],r=[],i=[],o=0,a=0,s=0,l=0,u=0,c=e.length;u<=c;u+=2){var h=e[u];if("\n"!==h&&u!==c){var d=e[u+1]||t.font,p=Ai(d,h);n.push(p),a+=p;var f=ki(d);r.push(f),l=Math.max(l,f)}else o=Math.max(o,a),i.push(a),a=0,s+=l}return{width:o,height:s,widths:n,heights:r,lineWidths:i}}(s,p),g=f.width,m=f.height,y=f.widths,v=f.heights,b=f.lineWidths,_=g+d,w=[],x=(_+2)*u[0],S=(m+d)*u[1],C={width:x<0?Math.floor(x):Math.ceil(x),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:w};1==u[0]&&1==u[1]||w.push("scale",u),r&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",d),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),(rn?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset))),n&&w.push("fillStyle",a.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");for(var E,P=.5-h,k=h*_+P*d,O=[],A=[],R=0,T=0,M=0,I=0,D=0,j=p.length;D<j;D+=2){var L=p[D];if("\n"!==L){var F=p[D+1]||s.font;F!==E&&(r&&O.push("font",F),n&&A.push("font",F),E=F),R=Math.max(R,v[M]);var N=[L,k+P*y[M]+h*(y[M]-b[I]),.5*(d+R)+T];k+=y[M],r&&O.push("strokeText",N),n&&A.push("fillText",N),++M}else T+=R,R=0,k=h*_+P*d,++I}return Array.prototype.push.apply(w,O),Array.prototype.push.apply(w,A),this.labels_[i]=C,C},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,a,s,l,u,c,h,d,p,f,g){var m,y=n-(a*=h[0]),v=r-(s*=h[1]),b=i+l>t?t-l:i,_=o+u>e?e-u:o,w=p[3]+b*h[0]+p[1],x=p[0]+_*h[1]+p[2],S=y-p[3],C=v-p[0];return(f||0!==c)&&(Ac[0]=S,Mc[0]=S,Ac[1]=C,Rc[1]=C,Rc[0]=S+w,Tc[0]=Rc[0],Tc[1]=C+x,Mc[1]=Tc[1]),0!==c?(hn(m=dn([1,0,0,1,0,0],n,r,1,1,c,-n,-r),Ac),hn(m,Rc),hn(m,Tc),hn(m,Mc),Sn(Math.min(Ac[0],Rc[0],Tc[0],Mc[0]),Math.min(Ac[1],Rc[1],Tc[1],Mc[1]),Math.max(Ac[0],Rc[0],Tc[0],Mc[0]),Math.max(Ac[1],Rc[1],Tc[1],Mc[1]),Oc)):Sn(Math.min(S,S+w),Math.min(C,C+x),Math.max(S,S+w),Math.max(C,C+x),Oc),d&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:b,drawImageH:_,originX:l,originY:u,declutterBox:{minX:Oc[0],minY:Oc[1],maxX:Oc[2],maxY:Oc[3],value:g},canvasTransform:m,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,a){var s=!(!o&&!a),l=r.declutterBox,u=t.canvas,c=a?a[2]*r.scale[0]/2:0;return l.minX-c<=u.width/e&&l.maxX+c>=0&&l.minY-c<=u.height/e&&l.maxY+c>=0&&(s&&this.replayTextBackground_(t,Ac,Rc,Tc,Mc,o,a),function(t,e,n,r,i,o,a,s,l,u,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(r,i,o,a,s,0,0,a,s)):t.drawImage(r,i,o,a,s,l,u,a*c[0],s*c[1]),t.restore()}(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=hn(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=jc(Array.isArray(t)?t[0]:t,i.textAlign||vi),u=xc[i.textBaseline||bi],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale[0])+2*(.5-l)*c,anchorY:u*o.height/s+2*(.5-u)*c}},t.prototype.execute_=function(t,e,n,r,i,o,a,s){var l,u,c;this.pixelCoordinates_&&He(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ba(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=n,(u=this.renderedTransform_)[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5]);for(var h,d,p,f,g,m,y,v,b,_,w,x,S,C,E,P,k=0,O=r.length,A=0,R=0,T=0,M=null,I=null,D=this.coordinateCache_,j=this.viewRotation_,L=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},N=this.instructions!=r||this.overlaps?0:200;k<O;){var z=r[k];switch(z[0]){case lc.BEGIN_GEOMETRY:S=z[1],P=z[3],S.getGeometry()?void 0===a||Bn(a,P.getExtent())?++k:k=z[2]+1:k=z[2];break;case lc.BEGIN_PATH:R>N&&(this.fill_(t),R=0),T>N&&(t.stroke(),T=0),R||T||(t.beginPath(),f=NaN,g=NaN),++k;break;case lc.CIRCLE:var U=l[A=z[1]],B=l[A+1],V=l[A+2]-U,W=l[A+3]-B,H=Math.sqrt(V*V+W*W);t.moveTo(U+H,B),t.arc(U,B,H,0,2*Math.PI,!0),++k;break;case lc.CLOSE_PATH:t.closePath(),++k;break;case lc.CUSTOM:A=z[1],h=z[2];var G=z[3],q=z[4],$=6==z.length?z[5]:void 0;F.geometry=G,F.feature=S,k in D||(D[k]=[]);var X=D[k];$?$(l,A,h,2,X):(X[0]=l[A],X[1]=l[A+1],X.length=2),q(X,F),++k;break;case lc.DRAW_IMAGE:A=z[1],h=z[2],v=z[3],d=z[4],p=z[5];var Y=z[6],K=z[7],Z=z[8],Q=z[9],J=z[10],tt=z[11],et=z[12],nt=z[13],rt=z[14],it=z[15];if(!v&&z.length>=20){b=z[19],_=z[20],w=z[21],x=z[22];var ot=this.drawLabelWithPointPlacement_(b,_,w,x);v=ot.label,z[3]=v;var at=z[23];d=(ot.anchorX-at)*this.pixelRatio,z[4]=d;var st=z[24];p=(ot.anchorY-st)*this.pixelRatio,z[5]=p,Y=v.height,z[6]=Y,nt=v.width,z[13]=nt}var lt=void 0;z.length>25&&(lt=z[25]);var ut=void 0,ct=void 0,ht=void 0;z.length>17?(ut=z[16],ct=z[17],ht=z[18]):(ut=_i,ct=!1,ht=!1),J&&L?tt+=j:J||L||(tt-=j);for(var dt=0;A<h;A+=2)if(!(lt&&lt[dt++]<nt/this.pixelRatio)){var pt=[t,e,v,Ut=this.calculateImageOrLabelDimensions_(v.width,v.height,l[A],l[A+1],nt,Y,d,p,Z,Q,tt,et,i,ut,ct||ht,S),K,ct?M:null,ht?I:null];if(s){if("none"===rt)continue;if("obstacle"===rt){s.insert(Ut.declutterBox);continue}var ft=void 0,gt=void 0;if(it){var mt=h-A;if(!it[mt]){it[mt]=pt;continue}if(ft=it[mt],delete it[mt],gt=Ic(ft),s.collides(gt))continue}if(s.collides(Ut.declutterBox))continue;ft&&(s.insert(gt),this.replayImageOrLabel_.apply(this,ft)),s.insert(Ut.declutterBox)}this.replayImageOrLabel_.apply(this,pt)}++k;break;case lc.DRAW_CHARS:var yt=z[1],vt=z[2],bt=z[3],_t=z[4];x=z[5];var wt=z[6],xt=z[7],St=z[8];w=z[9];var Ct=z[10];b=z[11],_=z[12];var Et=[z[13],z[13]],Pt=this.textStates[_],kt=Pt.font,Ot=[Pt.scale[0]*xt,Pt.scale[1]*xt],At=void 0;kt in this.widths_?At=this.widths_[kt]:(At={},this.widths_[kt]=At);var Rt=kc(l,yt,vt,2),Tt=Math.abs(Ot[0])*Ri(kt,b,At);if(_t||Tt<=Rt){var Mt=this.textStates[_].textAlign,It=Pc(l,yt,vt,2,b,(Rt-Tt)*xc[Mt],wt,Math.abs(Ot[0]),Ri,kt,At,L?0:this.viewRotation_);t:if(It){var Dt=[],jt=void 0,Lt=void 0,Ft=void 0,Nt=void 0,zt=void 0;if(w)for(jt=0,Lt=It.length;jt<Lt;++jt){Ft=(zt=It[jt])[4],Nt=this.createLabel(Ft,_,"",w),d=zt[2]+(Ot[0]<0?-Ct:Ct),p=bt*Nt.height+2*(.5-bt)*Ct*Ot[1]/Ot[0]-St;var Ut=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,zt[0],zt[1],Nt.width,Nt.height,d,p,0,0,zt[3],Et,!1,_i,!1,S);if(s&&s.collides(Ut.declutterBox))break t;Dt.push([t,e,Nt,Ut,1,null,null])}if(x)for(jt=0,Lt=It.length;jt<Lt;++jt){if(Ft=(zt=It[jt])[4],Nt=this.createLabel(Ft,_,x,""),d=zt[2],p=bt*Nt.height-St,Ut=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,zt[0],zt[1],Nt.width,Nt.height,d,p,0,0,zt[3],Et,!1,_i,!1,S),s&&s.collides(Ut.declutterBox))break t;Dt.push([t,e,Nt,Ut,1,null,null])}s&&s.load(Dt.map(Ic));for(var Bt=0,Vt=Dt.length;Bt<Vt;++Bt)this.replayImageOrLabel_.apply(this,Dt[Bt])}}++k;break;case lc.END_GEOMETRY:if(void 0!==o){var Wt=o(S=z[1],P);if(Wt)return Wt}++k;break;case lc.FILL:N?R++:this.fill_(t),++k;break;case lc.MOVE_TO_LINE_TO:for(A=z[1],h=z[2],C=l[A],y=(E=l[A+1])+.5|0,(m=C+.5|0)===f&&y===g||(t.moveTo(C,E),f=m,g=y),A+=2;A<h;A+=2)m=(C=l[A])+.5|0,y=(E=l[A+1])+.5|0,A!=h-2&&m===f&&y===g||(t.lineTo(C,E),f=m,g=y);++k;break;case lc.SET_FILL_STYLE:M=z,this.alignFill_=z[2],R&&(this.fill_(t),R=0,T&&(t.stroke(),T=0)),t.fillStyle=z[1],++k;break;case lc.SET_STROKE_STYLE:I=z,T&&(t.stroke(),T=0),this.setStrokeStyle_(t,z),++k;break;case lc.STROKE:N?T++:t.stroke(),++k;break;default:++k}}R&&this.fill_(t),T&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}();const Nc=Fc;var zc=["Polygon","Circle","LineString","Image","Text","Default"],Uc=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var i in r){var o=r[i];n[i]=new Nc(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=dn(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=ui(a,a));var u,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):l||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(On(u=[1/0,1/0,-1/0,-1/0],t),mn(u,e*(this.renderBuffer_+r),u));var h,d=function(t){if(void 0!==Bc[t])return Bc[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((t+i)*e+(t+o))+3),i>0&&s.push(4*((t-i)*e+(t+o))+3),o>0&&(s.push(4*((t+i)*e+(t-o))+3),i>0&&s.push(4*((t-i)*e+(t-o))+3))}for(var l=[],u=(i=0,r.length);i<u;++i)r[i]&&l.push.apply(l,r[i]);return Bc[t]=l,l}(r);function p(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,l=d.length;s<l;s++)if(n[d[s]]>0){if(!o||"Image"!==h&&"Text"!==h||-1!==o.indexOf(t)){var u=(d[s]-3)/4,p=r-u%a,f=r-(u/a|0),g=i(t,e,p*p+f*f);if(g)return g}c.clearRect(0,0,a,a);break}}var f,g,m,y,v,b=Object.keys(this.executorsByZIndex_).map(Number);for(b.sort(Ue),f=b.length-1;f>=0;--f){var _=b[f].toString();for(m=this.executorsByZIndex_[_],g=zc.length-1;g>=0;--g)if(void 0!==(y=m[h=zc[g]])&&(v=y.executeHitDetection(c,s,n,p,u)))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return ba(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return dr(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Ue),this.maxExtent_&&(t.save(),this.clip(t,n));var l,u,c,h,d,p,f=o||zc;for(a&&s.reverse(),l=0,u=s.length;l<u;++l){var g=s[l].toString();for(d=this.executorsByZIndex_[g],c=0,h=f.length;c<h;++c)void 0!==(p=d[f[c]])&&p.execute(t,e,n,r,i,a)}this.maxExtent_&&t.restore()},t}(),Bc={};const Vc=Uc;var Wc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=function(t){function e(e,n,r,i,o,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=r,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return Wc(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=ba(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=i.length;u<c;u+=2){var h=i[u]-this.imageAnchorX_,d=i[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,f=d+this.imageAnchorY_;dn(a,p,f,1,1,l,-p,-f),o.setTransform.apply(o,a),o.translate(p,f),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=ba(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=dn(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);o.setTransform.apply(o,u),o.translate(s,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=ba(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(Bn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return ba(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Bn(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Bn(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=o.length;s<l;++s)i=this.moveToLineTo_(r,i,o[s],a,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Bn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a){var l=i[a];r=this.drawRings_(n,r,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(He(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:vi;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:Lu(r||pi)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit(),h=a||gi;this.strokeState_={lineCap:void 0!==o?o:fi,lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:mi,lineWidth:(void 0!==u?u:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:Lu(i||yi)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Lu(n||pi)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),u=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:fi,lineDash:a||gi,lineDashOffset:s||0,lineJoin:void 0!==l?l:mi,lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:Lu(i||yi)}}else this.textStrokeState_=null;var h=t.getFont(),d=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==h?h:di,textAlign:void 0!==v?v:vi,textBaseline:void 0!==b?b:bi},this.text_=void 0!==y?Array.isArray(y)?y.reduce((function(t,e,n){return t+(n%2?" ":e)}),""):y:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},e}(uc);const Gc=Hc,qc="fraction",$c="pixels",Xc="bottom-left",Yc="bottom-right",Kc="top-left",Zc="top-right";var Qc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jc=null,th=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return Qc(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Jc||(Jc=ui(1,1)),Jc.drawImage(this.image_,0,0);try{Jc.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Jc=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(gr)},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=ui(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Ou(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&2===this.imageState_){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=tr(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],u=0,c=i.length;u<c;u+=4)i[u]*=o,i[u+1]*=a,i[u+2]*=s,i[u+3]*=l;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(fr),eh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nh=function(t){function e(e){var n=this,r=e||{},i=void 0!==r.opacity?r.opacity:1,o=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:i,rotation:o,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s,declutterMode:r.declutterMode})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:Kc,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:qc,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:qc,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var l=void 0!==r.img?r.img:null;n.imgSize_=r.imgSize;var u=r.src;un(!(void 0!==u&&l),4),un(!l||l&&n.imgSize_,5),void 0!==u&&0!==u.length||!l||(u=l.src||Ke(l)),un(void 0!==u&&u.length>0,6);var c=void 0!==r.src?0:2;return n.color_=void 0!==r.color?nr(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=ar.get(e,r,o);return a||(a=new th(t,e,n,r,i,o),ar.set(e,r,o,a)),a}(l,u,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,c,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:Kc,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return eh(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==qc||this.anchorYUnits_==qc){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==qc&&(t[0]*=e[0]),this.anchorYUnits_==qc&&(t[1]*=e[1])}if(this.anchorOrigin_!=Kc){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Zc&&this.anchorOrigin_!=Yc||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Xc&&this.anchorOrigin_!=Yc||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Kc){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Zc&&this.offsetOrigin_!=Yc||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Xc&&this.offsetOrigin_!=Yc||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(gr,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(gr,t)},e}(ju);const rh=nh;var ih=.5,oh={Point:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();if(a){if(2!=a.getImageState())return;var l=t;if(i){var u=a.getDeclutterMode();if("none"!==u)if(l=i,"obstacle"===u){var c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawPoint(e,r)}else s&&s.getText()&&(o={})}var h=l.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,o),h.drawPoint(e,r)}if(s&&s.getText()){var d=t;i&&(d=i);var p=d.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,o),p.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();if(a){if(2!=a.getImageState())return;var l=t;if(i){var u=a.getDeclutterMode();if("none"!==u)if(l=i,"obstacle"===u){var c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawMultiPoint(e,r)}else s&&s.getText()&&(o={})}var h=l.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,o),h.drawMultiPoint(e,r)}if(s&&s.getText()){var d=t;i&&(d=i);var p=d.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,o),p.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o)(0,oh[s[o].getType()])(t,s[o],n,r,i)},Circle:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(o,a),s.drawCircle(e,r)}var l=n.getText();if(l&&l.getText()){var u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}}};function ah(t,e){return parseInt(Ke(t),10)-parseInt(Ke(e),10)}function sh(t,e){return.5*t/e}function lh(t,e,n,r,i,o,a){var s=!1,l=n.getImage();if(l){var u=l.getImageState();2==u||3==u?l.unlistenImageChange(i):(0==u&&l.load(),l.listenImageChange(i),s=!0)}return function(t,e,n,r,i,o){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(r,i);n.getRenderer()?uh(t,s,n,e):(0,oh[s.getType()])(t,s,n,e,o)}}(t,e,n,r,o,a),s}function uh(t,e,n,r){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)uh(t,i[o],n,r)}var ch=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hh=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return ch(e,t),e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,a=i.resolution,s=i.projection,l=i.rotation,u=s.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,d=e.viewHints,p=!(d[0]||d[1]),f=this.compositionContext_,g=Math.round(e.size[0]*h),m=Math.round(e.size[1]*h),y=c.getWrapX()&&s.canWrapX(),v=y?Un(u):null,b=y?Math.ceil((r[2]-u[2])/v)+1:1,_=y?Math.floor((r[0]-u[0])/v):0;do{var w=this.getRenderTransform(o,a,l,h,g,m,_*v);t.execute(f,1,w,l,p,void 0,n)}while(++_<b)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=ui(this.context.canvas.width,this.context.canvas.height,Zl);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,function(t){var e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}(this.compositionContext_),Zl.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,r,i,o,a){t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a}(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),pn(this.inversePixelTransform,this.pixelTransform);var i=fn(this.pixelTransform);this.useContainer(e,i,this.getBackground(t));var o=this.context,a=o.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var u=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=u||a.height!=c?(a.width=u,a.height=c,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,u,c),this.preRender(o,t);var h=t.viewState;h.projection;this.opacity_=r.opacity,this.setupCompositionContext_();var d=!1,p=!0;if(r.extent&&this.clipping){var f=ia(r.extent);(d=(p=Bn(f,t.extent))&&!_n(f,t.extent))&&this.clipUnrotated(this.compositionContext_,t,f)}return p&&this.renderWorlds(s,t),d&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];hn(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),u=[],c=n[0]*ih,h=n[1]*ih;u.push(this.getRenderTransform(r,i,o,ih,c,h,0).slice());var d=l.getSource(),p=a.getExtent();if(d.getWrapX()&&a.canWrapX()&&!_n(p,s)){for(var f=s[0],g=Un(p),m=0,y=void 0;f<p[0];)y=g*--m,u.push(this.getRenderTransform(r,i,o,ih,c,h,y).slice()),f+=g;for(m=0,f=s[2];f>p[2];)y=g*++m,u.push(this.getRenderTransform(r,i,o,ih,c,h,y).slice()),f-=g}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=ui(t[0]*ih,t[1]*ih);s.imageSmoothingEnabled=!1;for(var l=s.canvas,u=new Gc(s,ih,i,null,a),c=n.length,h=Math.floor(16777215/c),d={},p=1;p<=c;++p){var f=n[p-1],g=f.getStyleFunction()||r;if(r){var m=g(f,o);if(m){Array.isArray(m)||(m=[m]);for(var y="#"+("000000"+(p*h).toString(16)).slice(-6),v=0,b=m.length;v<b;++v){var _=m[v],w=_.getGeometryFunction()(f);if(w&&Bn(i,w.getExtent())){var x=_.clone(),S=x.getFill();S&&S.setColor(y);var C=x.getStroke();C&&(C.setColor(y),C.setLineDash(null)),x.setText(void 0);var E=_.getImage();if(E&&0!==E.getOpacity()){var P=E.getImageSize();if(!P)continue;var k=ui(P[0],P[1],void 0,{alpha:!1}),O=k.canvas;k.fillStyle=y,k.fillRect(0,0,O.width,O.height),x.setImage(new rh({img:O,imgSize:P,anchor:E.getAnchor(),anchorXUnits:$c,anchorYUnits:$c,offset:E.getOrigin(),opacity:1,size:E.getSize(),scale:E.getScale(),rotation:E.getRotation(),rotateWithView:E.getRotateWithView()}))}var A=x.getZIndex()||0;(M=d[A])||(M={},d[A]=M,M.Polygon=[],M.Circle=[],M.LineString=[],M.Point=[]),M[w.getType().replace("Multi","")].push(w,x)}}}}}for(var R=Object.keys(d).map(Number).sort(Ue),T=(p=0,R.length);p<T;++p){var M=d[R[p]];for(var I in M){var D=M[I];for(v=0,b=D.length;v<b;v+=2){u.setStyle(D[v+1]);for(var j=0,L=e.length;j<L;++j)u.setTransform(e[j]),u.drawGeometry(D[v])}}}return s.getImageData(0,0,l.width,l.height)}(n,u,this.renderedFeatures_,l.getStyleFunction(),s,i,o)}e(function(t,e,n){var r=[];if(n){var i=Math.floor(Math.round(t[0])*ih),o=Math.floor(Math.round(t[1])*ih),a=4*(Hn(i,0,n.width-1)+Hn(o,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],u=n.data[a+2]+256*(l+256*s),c=Math.floor(16777215/e.length);u&&u%c==0&&r.push(e[u/c-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,l=e.viewState.rotation,u=this.getLayer(),c={},h=function(t,e,n){var o=Ke(t),a=c[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[o]=!0,i.splice(i.lastIndexOf(a),1),r(t,u,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[o]=!0,r(t,u,e);i.push(c[o]={feature:t,layer:u,geometry:e,distanceSq:n,callback:r})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some((function(r){return a=r.forEachFeatureAtCoordinate(t,s,l,n,h,r===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[0],i=t.viewHints[1],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,u=l.projection,c=l.resolution,h=t.pixelRatio,d=e.getRevision(),p=e.getRenderBuffer(),f=e.getRenderOrder();void 0===f&&(f=ah);var g=l.center.slice(),m=mn(s,p*c),y=m.slice(),v=[m.slice()],b=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!_n(b,t.extent)){var _=Un(b),w=Math.max(Un(m)/2,_);m[0]=b[0]-w,m[2]=b[2]+w,Zr(g,u);var x=Wn(v[0],u);x[0]<b[0]&&x[2]<b[2]?v.push([x[0]+_,x[1],x[2]+_,x[3]]):x[0]>b[0]&&x[2]>b[2]&&v.push([x[0]-_,x[1],x[2]-_,x[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&_n(this.wrappedRenderedExtent_,m))return He(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var S,C=new Ec(sh(c,h),m,c,h);this.getLayer().getDeclutter()&&(S=new Ec(sh(c,h),m,c,h));var E,P=ta();if(P){for(var k=0,O=v.length;k<O;++k){var A=ra(v[k]);n.loadFeatures(A,oa(c),P)}E=$o(P,u)}else for(k=0,O=v.length;k<O;++k)n.loadFeatures(v[k],c,u);var R=function(t,e){var n=sh(t,e);return n*n}(c,h),T=!0,M=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,R,n,C,E,S);T=T&&!i}}.bind(this),I=ra(m),D=n.getFeaturesInExtent(I);for(f&&D.sort(f),k=0,O=D.length;k<O;++k)M(D[k]);this.renderedFeatures_=D,this.ready=T;var j=C.finish(),L=new Vc(m,c,h,n.getOverlaps(),j,e.getRenderBuffer());return S&&(this.declutterExecutorGroup=new Vc(m,c,h,n.getOverlaps(),S.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=L,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=lh(r,t,n[s],e,this.boundHandleStyleImageChange_,i,o)||a;else a=lh(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return a},e}(tu);const dh=hh;var ph=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fh=function(t){function e(e){return t.call(this,e)||this}return ph(e,t),e.prototype.createRenderer=function(){return new dh(this)},e}(nc);var gh=function(){function t(t){this.rbush_=new Iu(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Ke(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[Ke(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Ke(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Ke(e)];Pn([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return dr(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Sn(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();const mh=gh,yh="addfeature",vh="removefeature";function bh(t,e){return[[-1/0,-1/0,1/0,1/0]]}function _h(t,e){return function(n,r,i,o,a){var s=this;!function(t,e,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,i):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;"json"==r||"text"==r?l=s.responseText:"xml"==r?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==r&&(l=s.response),l?o(e.readFeatures(l,{extent:n,featureProjection:i}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}(t,e,n,r,i,(function(t,e){s.addFeatures(t),void 0!==o&&o(t)}),a||$e)}}var wh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return wh(e,t),e}(sr),Sh=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).on,n.once,n.un,n.loader_=$e,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(un(n.format_,7),n.loader_=_h(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:bh;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new mh:null,n.loadedExtentsRtree_=new mh,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new Ui(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return wh(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Ke(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new xh(yh,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[xr(e,gr,this.handleFeatureChange_,this),xr(e,lr,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(un(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var a=Ke(l=t[i]);this.addToIndex_(a,l)&&n.push(l)}i=0;for(var s=n.length;i<s;i++){var l;a=Ke(l=n[i]),this.setupChangeEvents_(a,l);var u=l.getGeometry();if(u){var c=u.getExtent();e.push(c),r.push(l)}else this.nullGeometryFeatures_[a]=l}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(yh)){i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new xh(yh,n[i]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(yh,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(vh,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(Di,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(ji,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Cr);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new xh("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),dr(this.nullGeometryFeatures_)||We(t,hr(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var n=this;if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var r=function(t,e){if(e.canWrapX()){var n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];Wn(t,e);var r=Un(n);if(Un(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}(t,e);return[].concat.apply([],r.map((function(t){return n.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||Ge;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,r,o,a))<u){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Ke(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new xh("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Ke(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&dr(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,i=this.strategy_(t,e,n),o=function(t,o){var s=i[t];r.forEachInExtent(s,(function(t){return _n(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new xh("featuresloadstart")),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new xh("featuresloadend",void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new xh("featuresloaderror"))}.bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,l=i.length;s<l;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Pn(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=Ke(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=Ke(t),n=this.featureChangeKeys_[e];if(n){n.forEach(Cr),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new xh(vh,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){un(this.format_,7),this.url_=t,this.setLoader(_h(t,this.format_))},e}(wu);const Ch=Sh,Eh={},Ph=[];function kh(t,e){if(Array.isArray(t))for(const n of t)kh(n,e);else if("object"!=typeof t)Ah(Object.getOwnPropertyNames(e)),Eh[t]=Object.assign(Eh[t]||{},e);else for(const e in t)kh(e,t[e])}function Oh(t){return Eh[t]||{}}function Ah(t){Ph.push(...t)}function Rh(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function Th(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function Mh(t){return t%360*Math.PI/180}function Ih(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function Dh(t){return t.charAt(0).toUpperCase()+t.slice(1)}function jh(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function Lh(t,e){const n=t.origin;let r=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([r,i]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof r,a="string"==typeof i;if(o||a){const{height:t,width:n,x:s,y:l}=e.bbox();o&&(r=r.includes("left")?s:r.includes("right")?s+n:s+n/2),a&&(i=i.includes("top")?l:i.includes("bottom")?l+t:l+t/2)}return[r,i]}const Fh="http://www.w3.org/2000/svg",Nh="http://www.w3.org/2000/xmlns/",zh="http://www.w3.org/1999/xlink",Uh={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class Bh{}const Vh={},Wh="___SYMBOL___ROOT___";function Hh(t,e=Fh){return Uh.document.createElementNS(e,t)}function Gh(t,e=!1){if(t instanceof Bh)return t;if("object"==typeof t)return Xh(t);if(null==t)return new Vh[Wh];if("string"==typeof t&&"<"!==t.charAt(0))return Xh(Uh.document.querySelector(t));const n=e?Uh.document.createElement("div"):Hh("svg");return n.innerHTML=t,t=Xh(n.firstChild),n.removeChild(n.firstChild),t}function qh(t,e){return e&&e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node?e:Hh(t)}function $h(t){if(!t)return null;if(t.instance instanceof Bh)return t.instance;if("#document-fragment"===t.nodeName)return new Vh.Fragment(t);let e=Dh(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":Vh[e]||(e="Dom"),new Vh[e](t)}let Xh=$h;function Yh(t,e=t.name,n=!1){return Vh[e]=t,n&&(Vh[Wh]=t),Ah(Object.getOwnPropertyNames(t.prototype)),t}let Kh=1e3;function Zh(t){return"Svgjs"+Dh(t)+Kh++}function Qh(t){for(let e=t.children.length-1;e>=0;e--)Qh(t.children[e]);return t.id?(t.id=Zh(t.nodeName),t):t}function Jh(t,e){let n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function td(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}kh("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=Gh(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=Gh(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=Gh(t)).before(this),this},insertAfter:function(t){return(t=Gh(t)).after(this),this}});const ed=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,nd=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rd=/rgb\((\d+),(\d+),(\d+)\)/,id=/(#[a-z_][a-z0-9\-_]*)/i,od=/\)\s*,?\s*/,ad=/\s/g,sd=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ld=/^rgb\(/,ud=/^(\s+)?$/,cd=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hd=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dd=/[\s,]+/,pd=/[MLHVCSQTAZ]/i;function fd(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function gd(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function md(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}kh("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(dd)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),kh("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=Ih(e);n[e]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[Ih(t)];if("object"==typeof t)for(const e in t)this.node.style[Ih(e)]=null==t[e]||ud.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[Ih(t)]=null==e||ud.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),kh("Dom",{data:function(t,e,n){if(null==t)return this.data(Rh(Th(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),kh("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class yd{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof yd||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,n){const{random:r,round:i,sin:o,PI:a}=Math;if("vibrant"===t){const t=24*r()+57,e=38*r()+45,n=360*r();return new yd(t,e,n,"lch")}if("sine"===t){const t=i(80*o(2*a*(e=null==e?r():e)/.5+.01)+150),n=i(50*o(2*a*e/.5+4.6)+200),s=i(100*o(2*a*e/.5+2.3)+150);return new yd(t,n,s)}if("pastel"===t){const t=8*r()+86,e=17*r()+9,n=360*r();return new yd(t,e,n,"lch")}if("dark"===t){const t=10+10*r(),e=50*r()+86,n=360*r();return new yd(t,e,n,"lch")}if("rgb"===t){const t=255*r(),e=255*r(),n=255*r();return new yd(t,e,n)}if("lab"===t){const t=100*r(),e=256*r()-128,n=256*r()-128;return new yd(t,e,n,"lab")}if("grey"===t){const t=255*r();return new yd(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(sd.test(t)||ld.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.min(1-r,1-i,1-o);return 1===a?new yd(0,0,0,1,"cmyk"):new yd((1-r-a)/(1-a),(1-i-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.max(r,i,o),s=Math.min(r,i,o),l=(a+s)/2,u=a===s,c=a-s;return new yd(360*(u?0:a===r?((i-o)/c+(i<o?6:0))/6:a===i?((o-r)/c+2)/6:a===o?((r-i)/c+4)/6:0),100*(u?0:l>.5?c/(2-a-s):c/(a+s)),100*l,"hsl")}init(t=0,e=0,n=0,r=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=gd(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:gd(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:gd(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:gd(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:gd(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:gd(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(ld.test(t)){const e=t.replace(ad,""),[n,r,i]=rd.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!sd.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,r,i]=nd.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:s,_d:l}=this,u="rgb"===this.space?{r:o,g:a,b:s}:"xyz"===this.space?{x:o,y:a,z:s}:"hsl"===this.space?{h:o,s:a,l:s}:"lab"===this.space?{l:o,a,b:s}:"lch"===this.space?{l:o,c:a,h:s}:"cmyk"===this.space?{c:o,m:a,y:s,k:l}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:n}=this.xyz();return new yd(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),r=Math.sqrt(e**2+n**2);let i=180*Math.atan2(n,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new yd(t,r,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:o}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;i=t*Math.cos(n*e),o=t*Math.sin(n*e)}const a=(r+16)/116,s=i/500+a,l=a-o/200,u=16/116,c=.008856,h=7.787;t=.95047*(s**3>c?s**3:(s-u)/h),e=1*(a**3>c?a**3:(a-u)/h),n=1.08883*(l**3>c?l**3:(l-u)/h)}const r=3.2406*t+-1.5372*e+-.4986*n,i=-.9689*t+1.8758*e+.0415*n,o=.0557*t+-.204*e+1.057*n,a=Math.pow,s=.0031308,l=r>s?1.055*a(r,1/2.4)-.055:12.92*r,u=i>s?1.055*a(i,1/2.4)-.055:12.92*i,c=o>s?1.055*a(o,1/2.4)-.055:12.92*o;return new yd(255*l,255*u,255*c)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new yd(n,n,n);const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=255*md(i,r,t+1/3),a=255*md(i,r,t),s=255*md(i,r,t-1/3);return new yd(o,a,s)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:r}=this,i=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,e*(1-r)+r)),a=255*(1-Math.min(1,n*(1-r)+r));return new yd(i,o,a)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:r,space:i}=this;return[t,e,n,r,i]}toHex(){const[t,e,n]=this._clamped().map(fd);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*a+.3576*s+.1805*l)/.95047,c=(.2126*a+.7152*s+.0722*l)/1,h=(.0193*a+.1192*s+.9505*l)/1.08883,d=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116,f=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new yd(d,p,f,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:r,min:i,round:o}=Math;return[t,e,n].map((t=>r(0,i(o(t),255))))}}class vd{constructor(...t){this.init(...t)}clone(){return new vd(this)}init(t,e){const n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){_d.isMatrixLike(t)||(t=new _d(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function bd(t,e,n){return Math.abs(e-t)<(n||1e-6)}class _d{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,u=t.rotate||t.theta||0,c=new vd(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=c.x,d=c.y,p=new vd(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),f=p.x,g=p.y,m=new vd(t.translate||t.tx||t.translateX,t.ty||t.translateY),y=m.x,v=m.y,b=new vd(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:s,skewX:i,skewY:o,shear:l,theta:u,rx:b.x,ry:b.y,tx:y,ty:v,ox:h,oy:d,px:f,py:g}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=o,n.d=a,n.e=s,n.f=l,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}clone(){return new _d(this)}decompose(t=0,e=0){const n=this.a,r=this.b,i=this.c,o=this.d,a=this.e,s=this.f,l=n*o-r*i,u=l>0?1:-1,c=u*Math.sqrt(n*n+r*r),h=Math.atan2(u*r,u*n),d=180/Math.PI*h,p=Math.cos(h),f=Math.sin(h),g=(n*i+r*o)/l,m=i*c/(g*n-r)||o*c/(g*r+n);return{scaleX:c,scaleY:m,shear:g,rotate:d,translateX:a-t+t*p*c+e*(g*p*c-f*m),translateY:s-e+t*f*c+e*(g*f*c+p*m),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new _d(t);return bd(this.a,e.a)&&bd(this.b,e.b)&&bd(this.c,e.c)&&bd(this.d,e.d)&&bd(this.e,e.e)&&bd(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=_d.fromArray([1,0,0,1,0,0]);return t=t instanceof Hd?t.matrixify():"string"==typeof t?_d.fromArray(t.split(dd).map(parseFloat)):Array.isArray(t)?_d.fromArray(t):"object"==typeof t&&_d.isMatrixLike(t)?t:"object"==typeof t?(new _d).transform(t):6===arguments.length?_d.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,o=this.f,a=t*r-e*n;if(!a)throw new Error("Cannot invert "+this);const s=r/a,l=-e/a,u=-n/a,c=t/a,h=-(s*i+u*o),d=-(l*i+c*o);return this.a=s,this.b=l,this.c=u,this.d=c,this.e=h,this.f=d,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof _d?t:new _d(t);return _d.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof _d?t:new _d(t);return _d.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=Mh(t);const r=Math.cos(t),i=Math.sin(t),{a:o,b:a,c:s,d:l,e:u,f:c}=this;return this.a=o*r-a*i,this.b=a*r+o*i,this.c=s*r-l*i,this.d=l*r+s*i,this.e=u*r-c*i+n*i-e*r+e,this.f=c*r+u*i-e*i-n*r+n,this}scale(t,e,n,r){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t);const{a:i,b:o,c:a,d:s,e:l,f:u}=this;return this.a=i*t,this.b=o*e,this.c=a*t,this.d=s*e,this.e=l*t-n*t+n,this.f=u*e-r*e+r,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:r,b:i,c:o,d:a,e:s,f:l}=this;return this.a=r+i*t,this.c=o+a*t,this.e=s+l*t-n*t,this}skew(t,e,n,r){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t),t=Mh(t),e=Mh(e);const i=Math.tan(t),o=Math.tan(e),{a,b:s,c:l,d:u,e:c,f:h}=this;return this.a=a+s*i,this.b=s+a*o,this.c=l+u*i,this.d=u+l*o,this.e=c+h*i-r*i,this.f=h+c*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(_d.isMatrixLike(t))return new _d(t).multiplyO(this);const e=_d.formatTransforms(t),{x:n,y:r}=new vd(e.ox,e.oy).transform(this),i=(new _d).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const t=new vd(n,r).transform(i),o=isFinite(e.px)?e.px-t.x:0,a=isFinite(e.py)?e.py-t.y:0;i.translateO(o,a)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function wd(){if(!wd.nodes){const t=Gh().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;wd.nodes={svg:t,path:e}}if(!wd.nodes.svg.node.parentNode){const t=Uh.document.body||Uh.document.documentElement;wd.nodes.svg.addTo(t)}return wd.nodes}function xd(t){return!(t.width||t.height||t.x||t.y)}Yh(_d,"Matrix");class Sd{constructor(...t){this.init(...t)}addOffset(){return this.x+=Uh.window.pageXOffset,this.y+=Uh.window.pageYOffset,new Sd(this)}init(t){return t="string"==typeof t?t.split(dd).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return xd(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-n;return new Sd(e,n,r,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof _d||(t=new _d(t));let e=1/0,n=-1/0,r=1/0,i=-1/0;return[new vd(this.x,this.y),new vd(this.x2,this.y),new vd(this.x,this.y2),new vd(this.x2,this.y2)].forEach((function(o){o=o.transform(t),e=Math.min(e,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.y)})),new Sd(e,r,n-e,i-r)}}function Cd(t,e,n){let r;try{if(r=e(t.node),xd(r)&&!function(t){return t===Uh.document||(Uh.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Uh.document}).call(Uh.document.documentElement,t)}(t.node))throw new Error("Element not in the dom")}catch(e){r=n(t)}return r}kh({viewbox:{viewbox(t,e,n,r){return null==t?new Sd(this.attr("viewBox")):this.attr("viewBox",new Sd(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&"string"!=typeof n&&"string"!=typeof r||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=n/i.width,a=r/i.height,s=Math.min(o,a);if(null==t)return s;let l=s/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new vd(n/2/o+i.x,r/2/a+i.y);const u=new Sd(i).transform(new _d({scale:l,origin:e}));return this.viewbox(u)}}}),Yh(Sd,"Box");class Ed extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}Jh([Ed],{each(t,...e){return"function"==typeof t?this.map(((e,n,r)=>t.call(e,e,n,r))):this.map((n=>n[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const Pd=["toArray","constructor","each"];function kd(t,e){return new Ed(Rh((e||Uh.document).querySelectorAll(t),(function(t){return $h(t)})))}Ed.extend=function(t){t=t.reduce(((t,e)=>(Pd.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),Jh([Ed],t)};let Od=0;const Ad={};function Rd(t){let e=t.getEventHolder();return e===Uh.window&&(e=Ad),e.events||(e.events={}),e.events}function Td(t){return t.getEventTarget()}function Md(t,e,n,r,i){const o=n.bind(r||t),a=Gh(t),s=Rd(a),l=Td(a);e=Array.isArray(e)?e:e.split(dd),n._svgjsListenerId||(n._svgjsListenerId=++Od),e.forEach((function(t){const e=t.split(".")[0],r=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][r]=s[e][r]||{},s[e][r][n._svgjsListenerId]=o,l.addEventListener(e,o,i||!1)}))}function Id(t,e,n,r){const i=Gh(t),o=Rd(i),a=Td(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(dd)).forEach((function(t){const e=t&&t.split(".")[0],s=t&&t.split(".")[1];let l,u;if(n)o[e]&&o[e][s||"*"]&&(a.removeEventListener(e,o[e][s||"*"][n],r||!1),delete o[e][s||"*"][n]);else if(e&&s){if(o[e]&&o[e][s]){for(u in o[e][s])Id(a,[e,s].join("."),u);delete o[e][s]}}else if(s)for(t in o)for(l in o[t])s===l&&Id(a,[t,s].join("."));else if(e){if(o[e]){for(l in o[e])Id(a,[e,l].join("."));delete o[e]}}else{for(t in o)Id(a,t);!function(t){let e=t.getEventHolder();e===Uh.window&&(e=Ad),e.events&&(e.events={})}(i)}}))}class Dd extends Bh{addEventListener(){}dispatch(t,e,n){return function(t,e,n,r){const i=Td(t);return e instanceof Uh.window.Event||(e=new Uh.window.CustomEvent(e,{detail:n,cancelable:!0,...r})),i.dispatchEvent(e),e}(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const r in n[e])n[e][r](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,n){return Id(this,t,e,n),this}on(t,e,n,r){return Md(this,t,e,n,r),this}removeEventListener(){}}function jd(){}Yh(Dd,"EventTarget");const Ld=400,Fd=">",Nd=0,zd={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Ud extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(dd).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class Bd{constructor(...t){this.init(...t)}convert(t){return new Bd(this.value,t)}divide(t){return t=new Bd(t),new Bd(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(ed))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof Bd&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new Bd(t),new Bd(this-t,this.unit||t.unit)}plus(t){return t=new Bd(t),new Bd(this+t,this.unit||t.unit)}times(t){return t=new Bd(t),new Bd(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Vd=[];class Wd extends Dd{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=Gh(t)).removeNamespace&&this.node instanceof Uh.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return Gh(t).put(this,e)}children(){return new Ed(Rh(this.node.children,(function(t){return $h(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(Qh(this.node.cloneNode(t)))}each(t,e){const n=this.children();let r,i;for(r=0,i=n.length;r<i;r++)t.apply(n[r],[r,n]),e&&n[r].each(t,e);return this}element(t,e){return this.put(new Wd(Hh(t),e))}first(){return $h(this.node.firstChild)}get(t){return $h(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=Zh(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return $h(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=$h(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=$h(e.node.parentNode));return e}put(t,e){return t=Gh(t),this.add(t,e),t}putIn(t,e){return Gh(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Gh(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,r=this.attr(e);for(const t in r)"number"==typeof r[t]&&(r[t]=Math.round(r[t]*n)/n);return this.attr(r),this}svg(t,e){return this.xml(t,e,Fh)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=$h(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each((function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const r=Hh("wrapper",n),i=Uh.document.createDocumentFragment();r.innerHTML=t;for(let t=r.children.length;t--;)i.appendChild(r.firstElementChild);const o=this.parent();return e?this.replace(i)&&o:this.add(i)}}Jh(Wd,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=cd.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?zd[t]:cd.test(e)?parseFloat(e):e;"number"==typeof(e=Vd.reduce(((e,n)=>n(t,e,this)),e))?e=new Bd(e):yd.isColor(e)?e=new yd(e):e.constructor===Array&&(e=new Ud(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return kd(t,this.node)},findOne:function(t){return $h(this.node.querySelector(t))}}),Yh(Wd,"Dom");class Hd extends Wd{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new Bd(t).plus(this.x()))}dy(t=0){return this.y(new Bd(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e="string"==typeof t;e||(t=Gh(t));const n=new Ed;let r=this;for(;(r=r.parent())&&r.node!==Uh.document&&"#document-fragment"!==r.nodeName&&(n.push(r),e||r.node!==t.node)&&(!e||!r.matches(t));)if(r.node===this.root().node)return null;return n}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(id);return e?Gh(e[1]):null}root(){const t=this.parent(Vh[Wh]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=jh(this,t,e);return this.width(new Bd(n.width)).height(new Bd(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Jh(Hd,{bbox:function(){const t=Cd(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(wd().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new Sd(t)},rbox:function(t){const e=Cd(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),n=new Sd(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new vd(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new _d(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new _d(e)}return new _d(this.node.getScreenCTM())}}),Yh(Hd,"Element");const Gd={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof yd||yd.isRgb(e)||e instanceof Hd)this.attr(t,e);else for(n=Gd[t].length-1;n>=0;n--)null!=e[Gd[t][n]]&&this.attr(Gd.prefix(t,Gd[t][n]),e[Gd[t][n]]);return this},kh(["Element","Runner"],e)})),kh(["Element","Runner"],{matrix:function(t,e,n,r,i,o){return null==t?new _d(this):this.attr("transform",new _d(t,e,n,r,i,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),kh("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new Bd(t)):this.rx(t).ry(e)}}),kh("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new vd(this.node.getPointAtLength(t))}}),kh(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}});kh("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),kh("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){const t=(this.attr("transform")||"").split(od).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(dd).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(_d.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new _d);return t},toParent:function(t,e){if(this===t)return this;const n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new _d(this).decompose();return null==t?e:e[t]}_d.isMatrixLike(t)||(t={...t,origin:Lh(t,this)});const n=new _d(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class qd extends Hd{flatten(t=this,e){return this.each((function(){if(this instanceof qd)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(n,r){return r[r.length-n-1].toParent(t,e)})),this.remove()}}Yh(qd,"Container");class $d extends qd{constructor(t,e=t){super(qh("defs",t),e)}flatten(){return this}ungroup(){return this}}Yh($d,"Defs");class Xd extends Hd{}function Yd(t){return this.attr("rx",t)}function Kd(t){return this.attr("ry",t)}function Zd(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Qd(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Jd(t){return this.attr("cx",t)}function tp(t){return this.attr("cy",t)}function ep(t){return null==t?2*this.rx():this.rx(new Bd(t).divide(2))}function np(t){return null==t?2*this.ry():this.ry(new Bd(t).divide(2))}Yh(Xd,"Shape");var rp={__proto__:null,rx:Yd,ry:Kd,x:Zd,y:Qd,cx:Jd,cy:tp,width:ep,height:np};class ip extends Xd{constructor(t,e=t){super(qh("ellipse",t),e)}size(t,e){const n=jh(this,t,e);return this.rx(new Bd(n.width).divide(2)).ry(new Bd(n.height).divide(2))}}Jh(ip,rp),kh("Container",{ellipse:td((function(t=0,e=t){return this.put(new ip).size(t,e).move(0,0)}))}),Yh(ip,"Ellipse");class op extends Wd{constructor(t=Uh.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new Wd(Hh("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}function ap(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new Bd(t),fy:new Bd(e)}):this.attr({x1:new Bd(t),y1:new Bd(e)})}function sp(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new Bd(t),cy:new Bd(e)}):this.attr({x2:new Bd(t),y2:new Bd(e)})}Yh(op,"Fragment");var lp,up={__proto__:null,from:ap,to:sp};class cp extends qd{constructor(t,e){super(qh(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new Sd}targets(){return kd('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Jh(cp,up),kh({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:td((function(t,e){return this.put(new cp(t)).update(e)}))}}),Yh(cp,"Gradient");class hp extends qd{constructor(t,e=t){super(qh("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new Sd}targets(){return kd('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}kh({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:td((function(t,e,n){return this.put(new hp).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),Yh(hp,"Pattern");class dp extends Xd{constructor(t,e=t){super(qh("image",t),e)}load(t,e){if(!t)return this;const n=new Uh.window.Image;return Md(n,"load",(function(t){const r=this.parent(hp);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof hp&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),Md(n,"load error",(function(){Id(n)})),this.attr("href",n.src=t,zh)}}lp=function(t,e,n){return"fill"!==t&&"stroke"!==t||hd.test(e)&&(e=n.root().defs().image(e)),e instanceof dp&&(e=n.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},Vd.push(lp),kh({Container:{image:td((function(t,e){return this.put(new dp).size(0,0).load(t,e)}))}}),Yh(dp,"Image");class pp extends Ud{bbox(){let t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),new Sd(n,r,t-n,e-r)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(dd).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){_d.isMatrixLike(t)||(t=new _d(t));for(let e=this.length;e--;){const[n,r]=this[e];this[e][0]=t.a*n+t.c*r+t.e,this[e][1]=t.b*n+t.d*r+t.f}return this}}var fp={__proto__:null,MorphArray:pp,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class gp extends Xd{constructor(t,e=t){super(qh("line",t),e)}array(){return new pp([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new pp(t).toLine(),this.attr(t))}size(t,e){const n=jh(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}Jh(gp,fp),kh({Container:{line:td((function(...t){return gp.prototype.plot.apply(this.put(new gp),null!=t[0]?t:[0,0,0,0])}))}}),Yh(gp,"Line");class mp extends qd{constructor(t,e=t){super(qh("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function yp(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}kh({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:td((function(t,e,n){return this.put(new mp).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker(t,e,n,r){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof mp?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),Yh(mp,"Marker");const vp={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(r,i=!1)=>{let o=Math.floor(r*t);const a=r*o%1==0;return"start"!==e&&"both"!==e||++o,i&&a&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}};class bp{done(){return!1}}class _p extends bp{constructor(t=Fd){super(),this.ease=vp[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class wp extends bp{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,r){return this.stepper(t,e,n,r)}}function xp(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),o=3.9/(i*t);this.d=2*i*o,this.k=o*o}Jh(class extends wp{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const i=r.velocity||0,o=-this.d*i-this.k*(t-e),a=t+i*n+o*n*n/2;return r.velocity=i+o*n,r.done=Math.abs(e-a)+Math.abs(i)<.002,r.done?e:a}},{duration:yp("_duration",xp),overshoot:yp("_overshoot",xp)}),Jh(class extends wp{constructor(t=.1,e=.01,n=0,r=1e3){super(),this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;const i=e-t;let o=(r.integral||0)+i*n;const a=(i-(r.error||0))/n,s=this._windup;return!1!==s&&(o=Math.max(-s,Math.min(o,s))),r.error=i,r.integral=o,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*o+this.D*a)}},{windup:yp("_windup"),p:yp("P"),i:yp("I"),d:yp("D")});const Sp={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Cp={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Ep="mlhvqtcsaz".split("");for(let t=0,e=Ep.length;t<e;++t)Cp[Ep[t]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,r=e.length;t<r;++t)e[t]=e[t]+(t%2?n.y:n.x);return Cp[t](e,n,r)}}(Ep[t].toUpperCase());function Pp(t){return t.segment.length&&t.segment.length-1===Sp[t.segment[0].toUpperCase()]}function kp(t,e){t.inNumber&&Op(t,!1);const n=pd.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),r=e===n;t.segment=["m"===n?r?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function Op(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,Pp(t)&&Ap(t)}function Ap(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return Cp[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function Rp(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function Tp(t){return"E"===t.lastToken.toUpperCase()}class Mp extends Ud{bbox(){return wd().path.setAttribute("d",this.toString()),new Sd(wd.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],"M"===n||"L"===n||"T"===n?(this[r][1]+=t,this[r][2]+=e):"H"===n?this[r][1]+=t:"V"===n?this[r][1]+=e:"C"===n||"S"===n||"Q"===n?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,"C"===n&&(this[r][5]+=t,this[r][6]+=e)):"A"===n&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new vd,p:new vd};for(;i.lastToken=r,r=t.charAt(n++);)if(i.inSegment||!kp(i,r))if("."!==r)if(isNaN(parseInt(r)))if(" "!==r&&","!==r)if("-"!==r)if("E"!==r.toUpperCase()){if(pd.test(r)){if(i.inNumber)Op(i,!1);else{if(!Pp(i))throw new Error("parser Error");Ap(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!Tp(i)){Op(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else i.inNumber&&Op(i,!1);else{if("0"===i.number||Rp(i)){i.inNumber=!0,i.number=r,Op(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){Op(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&Op(i,!1),i.inSegment&&Pp(i)&&Ap(i),i.segments}(t)}size(t,e){const n=this.bbox();let r,i;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y):"H"===i?this[r][1]=(this[r][1]-n.x)*t/n.width+n.x:"V"===i?this[r][1]=(this[r][1]-n.y)*e/n.height+n.y:"C"===i||"S"===i||"Q"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y,this[r][3]=(this[r][3]-n.x)*t/n.width+n.x,this[r][4]=(this[r][4]-n.y)*e/n.height+n.y,"C"===i&&(this[r][5]=(this[r][5]-n.x)*t/n.width+n.x,this[r][6]=(this[r][6]-n.y)*e/n.height+n.y)):"A"===i&&(this[r][1]=this[r][1]*t/n.width,this[r][2]=this[r][2]*e/n.height,this[r][6]=(this[r][6]-n.x)*t/n.width+n.x,this[r][7]=(this[r][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const Ip=t=>{const e=typeof t;return"number"===e?Bd:"string"===e?yd.isColor(t)?yd:dd.test(t)?pd.test(t)?Mp:Ud:ed.test(t)?Bd:jp:zp.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?Ud:"object"===e?Np:jp};class Dp{constructor(t){this._stepper=t||new _p("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(Ip(t));let e=new this._type(t);return this._type===yd&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===Np&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class jp{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Lp{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Lp.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Lp.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const Fp=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class Np{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let n=0,r=e.length;n<r;++n){if(e[n+1]===t[n+1]){if(e[n+1]===yd&&t[n+7]!==e[n+7]){const e=t[n+7],r=new yd(this.values.splice(n+3,5))[e]().toArray();this.values.splice(n+3,0,...r)}n+=e[n+2]+2;continue}if(!t[n+1])return this;const r=(new t[n+1]).toArray(),i=e[n+2]+3;e.splice(n,i,t[n],t[n+1],t[n+2],...r),n+=e[n+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const r=Ip(t[n]),i=new r(t[n]).toArray();e.push([n,r,i.length,...i])}return e.sort(Fp),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),r=e.shift(),i=e.shift(),o=e.splice(0,i);t[n]=new r(o)}return t}}const zp=[jp,Lp,Np];class Up extends Xd{constructor(t,e=t){super(qh("path",t),e)}array(){return this._array||(this._array=new Mp(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new Mp(t))}size(t,e){const n=jh(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}Up.prototype.MorphArray=Mp,kh({Container:{path:td((function(t){return this.put(new Up).plot(t||new Mp)}))}}),Yh(Up,"Path");var Bp={__proto__:null,array:function(){return this._array||(this._array=new pp(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new pp(t))},size:function(t,e){const n=jh(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}};class Vp extends Xd{constructor(t,e=t){super(qh("polygon",t),e)}}kh({Container:{polygon:td((function(t){return this.put(new Vp).plot(t||new pp)}))}}),Jh(Vp,fp),Jh(Vp,Bp),Yh(Vp,"Polygon");class Wp extends Xd{constructor(t,e=t){super(qh("polyline",t),e)}}kh({Container:{polyline:td((function(t){return this.put(new Wp).plot(t||new pp)}))}}),Jh(Wp,fp),Jh(Wp,Bp),Yh(Wp,"Polyline");class Hp extends Xd{constructor(t,e=t){super(qh("rect",t),e)}}Jh(Hp,{rx:Yd,ry:Kd}),kh({Container:{rect:td((function(t,e){return this.put(new Hp).size(t,e)}))}}),Yh(Hp,"Rect");class Gp{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const qp={nextDraw:null,frames:new Gp,timeouts:new Gp,immediates:new Gp,timer:()=>Uh.window.performance||Uh.window.Date,transforms:[],frame(t){const e=qp.frames.push({run:t});return null===qp.nextDraw&&(qp.nextDraw=Uh.window.requestAnimationFrame(qp._draw)),e},timeout(t,e){e=e||0;const n=qp.timer().now()+e,r=qp.timeouts.push({run:t,time:n});return null===qp.nextDraw&&(qp.nextDraw=Uh.window.requestAnimationFrame(qp._draw)),r},immediate(t){const e=qp.immediates.push(t);return null===qp.nextDraw&&(qp.nextDraw=Uh.window.requestAnimationFrame(qp._draw)),e},cancelFrame(t){null!=t&&qp.frames.remove(t)},clearTimeout(t){null!=t&&qp.timeouts.remove(t)},cancelImmediate(t){null!=t&&qp.immediates.remove(t)},_draw(t){let e=null;const n=qp.timeouts.last();for(;(e=qp.timeouts.shift())&&(t>=e.time?e.run():qp.timeouts.push(e),e!==n););let r=null;const i=qp.frames.last();for(;r!==i&&(r=qp.frames.shift());)r.run(t);let o=null;for(;o=qp.immediates.shift();)o();qp.nextDraw=qp.timeouts.first()||qp.frames.first()?Uh.window.requestAnimationFrame(qp._draw):null}},$p=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Xp=function(){const t=Uh.window;return(t.performance||t.Date).now()};class Yp extends Dd{constructor(t=Xp){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map($p);let r=0;const i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(r=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();r=t?t.start:this._time}}t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:null===o?this._persist:o,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return qp.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=qp.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],o=n.runner;let a=r;const s=this._time-n.start;s<=0?i=!0:(s<a&&(a=s),o.active()&&(o.step(a).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}kh({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Yp,this._timeline):(this._timeline=t,this)}}});class Kp extends Dd{constructor(t){super(),this.id=Kp.id++,t="function"==typeof(t=null==t?Ld:t)?new wp(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof wp,this._stepper=this._isDeclarative?t:new _p,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new _d,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let r=1,i=!1,o=0;return e=e||Nd,n=n||"last","object"!=typeof(t=t||Ld)||t instanceof bp||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,o=t.wait||o,t=t.duration||Ld),{duration:t,delay:e,swing:i,times:r,wait:o,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const r=Kp.sanitise(t,e,n),i=new Kp(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new _d,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new _p(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,r=e*Math.floor(t)+this._duration*n;return this.time(r)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,r=this._wait,i=this._times,o=this._swing,a=this._reverse;let s;if(null==t){const t=function(t){const e=o*Math.floor(t%(2*(r+n))/(r+n)),i=e&&!a||!e&&a,s=Math.pow(-1,i)*(t%(r+n))/n+i;return Math.max(Math.min(s,1),0)},l=i*(r+n)-r;return s=e<=0?Math.round(t(1e-5)):e<l?t(e):Math.round(t(l-1e-5)),s}const l=Math.floor(this.loops()),u=o&&l%2==0;return s=l+(u&&!a||a&&u?t:1-t),this.loops(s)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,r){return this._queue.push({initialiser:t||jd,runner:e||jd,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Yp||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const r=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let s=!1;return(n||a)&&(this._initialise(n),this.transforms=new _d,s=this._run(a?t:e),this.fire("step",this)),this.done=this.done||s&&a,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,r=this._queue.length;n<r;++n){const r=this._queue[n],i=r.runner.call(this,t);r.finished=r.finished||!0===i,e=e&&r.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}Kp.id=0;class Zp{constructor(t=new _d,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}Jh([Kp,Zp],{mergeWith(t){return new Zp(t.transforms.lmultiply(this.transforms),t.id)}});const Qp=(t,e)=>t.lmultiplyO(e),Jp=t=>t.transforms;function tf(){const t=this._transformationRunners.runners.map(Jp).reduce(Qp,new _d);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class ef{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Zp).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const r=n.mergeWith(t);this.edit(t.id,r),t=r,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}kh({Element:{animate(t,e,n){const r=Kp.sanitise(t,e,n),i=this.timeline();return new Kp(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Jp).reduce(Qp,new _d)},_addRunner(t){this._transformationRunners.add(t),qp.cancelImmediate(this._frameId),this._frameId=qp.immediate(tf.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new ef).add(new Zp(new _d(this))))}}}),Jh(Kp,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new Dp(this._stepper).to(r),o=Object.keys(r);return this.queue((function(){i=i.from(this.element()[t](o))}),(function(e){return this.element()[t](i.at(e).valueOf()),i.done()}),(function(e){const n=Object.keys(e),a=(s=o,n.filter((t=>!s.includes(t))));var s;if(a.length){const e=this.element()[t](a),n=new Np(i.from()).valueOf();Object.assign(n,e),i.from(n)}const l=new Np(i.to()).valueOf();Object.assign(l,e),i.to(l),o=n,r=e})),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new Dp(this._stepper).to(new Bd(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const r=_d.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;const i=new Dp(this._stepper).type(n?Lp:_d);let o,a,s,l,u;return this.queue((function(){a=a||this.element(),o=o||Lh(t,a),u=new _d(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:h,y:d}=new vd(o).transform(a._currentTransform(this));let p=new _d({...t,origin:[h,d]}),f=this._isDeclarative&&s?s:u;if(n){p=p.decompose(h,d),f=f.decompose(h,d);const t=p.rotate,e=f.rotate,n=[t-360,t,t+360],r=n.map((t=>Math.abs(t-e))),i=Math.min(...r),o=r.indexOf(i);p.rotate=n[o]}e&&(r||(p.rotate=t.rotate||0),this._isDeclarative&&l&&(f.rotate=l)),i.from(f),i.to(p);const g=i.at(c);return l=g.rotate,s=new _d(g),this.addTransform(s),a._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=Lh(e,a)),t={...e,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new Bd(e),this._tryRetarget(t,e))return this;const n=new Dp(this._stepper).to(e);let r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new Bd(t))})),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new Dp(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new Bd(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;const i=new Dp(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new Sd(t,e,n,r))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Jh(Kp,{rx:Yd,ry:Kd,from:ap,to:sp}),Yh(Kp,"Runner");class nf extends qd{constructor(t,e=t){super(qh("svg",t),e),this.namespace()}defs(){return this.isRoot()?$h(this.node.querySelector("defs"))||this.put(new $d):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Uh.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:Fh,version:"1.1"}).attr("xmlns:xlink",zh,Nh).attr("xmlns:svgjs","http://svgjs.dev/svgjs",Nh):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Nh).attr("xmlns:svgjs",null,Nh)}root(){return this.isRoot()?this:super.root()}}kh({Container:{nested:td((function(){return this.put(new nf)}))}}),Yh(nf,"Svg",!0);class rf extends qd{constructor(t,e=t){super(qh("symbol",t),e)}}kh({Container:{symbol:td((function(){return this.put(new rf)}))}}),Yh(rf,"Symbol");var of={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(Uh.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class af extends Xd{constructor(t,e=t){super(qh("text",t),e),this.dom.leading=new Bd(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new Bd(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each((function(r){const i=Uh.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new Bd(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=o:(this.attr("dy",r?o+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new Bd(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===$h(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}Jh(af,of),kh({Container:{text:td((function(t=""){return this.put(new af).text(t)})),plain:td((function(t=""){return this.put(new af).plain(t)}))}}),Yh(af,"Text");class sf extends Xd{constructor(t,e=t){super(qh("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof af))return this;const e=t.index(this),n=Uh.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new Bd(n);return this.dy(e?r:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Jh(sf,of),kh({Tspan:{tspan:td((function(t=""){const e=new sf;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),Yh(sf,"Tspan");class lf extends Xd{constructor(t,e=t){super(qh("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new Bd(t).divide(2))}}Jh(lf,{x:Zd,y:Qd,cx:Jd,cy:tp,width:ep,height:np}),kh({Container:{circle:td((function(t=0){return this.put(new lf).size(t).move(0,0)}))}}),Yh(lf,"Circle");class uf extends qd{constructor(t,e=t){super(qh("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return kd('svg [clip-path*="'+this.id()+'"]')}}kh({Container:{clip:td((function(){return this.defs().put(new uf)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof uf?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),Yh(uf,"ClipPath");class cf extends Hd{constructor(t,e=t){super(qh("foreignObject",t),e)}}kh({Container:{foreignObject:td((function(t,e){return this.put(new cf).size(t,e)}))}}),Yh(cf,"ForeignObject");var hf={__proto__:null,dmove:function(t,e){return this.children().forEach(((n,r)=>{let i;try{i=n.bbox()}catch(t){return}const o=new _d(n),a=o.translate(t,e).transform(o.inverse()),s=new vd(i.x,i.y).transform(a);n.move(s.x,s.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)},size:function(t,e,n=this.bbox()){const r=jh(this,t,e,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(((t,e)=>{const r=new vd(n).transform(new _d(t).inverse());t.scale(i,o,r.x,r.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class df extends qd{constructor(t,e=t){super(qh("g",t),e)}}Jh(df,hf),kh({Container:{group:td((function(){return this.put(new df)}))}}),Yh(df,"G");class pf extends qd{constructor(t,e=t){super(qh("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,zh)}}Jh(pf,hf),kh({Container:{link:td((function(t){return this.put(new pf).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new pf,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),Yh(pf,"A");class ff extends qd{constructor(t,e=t){super(qh("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return kd('svg [mask*="'+this.id()+'"]')}}kh({Container:{mask:td((function(){return this.defs().put(new ff)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof ff?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),Yh(ff,"Mask");class gf extends Hd{constructor(t,e=t){super(qh("stop",t),e)}update(t){return("number"==typeof t||t instanceof Bd)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new Bd(t.offset)),this}}kh({Gradient:{stop:function(t,e,n){return this.put(new gf).update(t,e,n)}}}),Yh(gf,"Stop");class mf extends Hd{constructor(t,e=t){super(qh("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[t]+";";return n+="}",n}(t,e))}}kh("Dom",{style(t,e){return this.put(new mf).rule(t,e)},fontface(t,e,n){return this.put(new mf).font(t,e,n)}}),Yh(mf,"Style");class yf extends af{constructor(t,e=t){super(qh("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}kh({Container:{textPath:td((function(t,e){return t instanceof af||(t=this.text(t)),t.path(e)}))},Text:{path:td((function(t,e=!0){const n=new yf;let r;if(t instanceof Up||(t=this.defs().path(t)),n.attr("href","#"+t,zh),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:td((function(t){return t instanceof af||(t=(new af).addTo(this.parent()).text(t)),t.path(this)})),targets(){return kd("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),yf.prototype.MorphArray=Mp,Yh(yf,"TextPath");class vf extends Xd{constructor(t,e=t){super(qh("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,zh)}}kh({Container:{use:td((function(t,e){return this.put(new vf).use(t,e)}))}}),Yh(vf,"Use");const bf=Gh;Jh([nf,rf,dp,hp,mp],Oh("viewbox")),Jh([gp,Wp,Vp,Up],Oh("marker")),Jh(af,Oh("Text")),Jh(Up,Oh("Path")),Jh($d,Oh("Defs")),Jh([af,sf],Oh("Tspan")),Jh([Hp,ip,cp,Kp],Oh("radius")),Jh(Dd,Oh("EventTarget")),Jh(Wd,Oh("Dom")),Jh(Hd,Oh("Element")),Jh(Xd,Oh("Shape")),Jh([qd,op],Oh("Container")),Jh(cp,Oh("Gradient")),Jh(Kp,Oh("Runner")),Ed.extend([...new Set(Ph)]),function(t=[]){zp.push(...[].concat(t))}([Bd,yd,Sd,_d,Ud,pp,Mp,vd]),Jh(zp,{to(t){return(new Dp).type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){return this.fromArray(t.map((function(t,o){return r.step(t,e[o],n,i[o],i)})))}});const _f=function(t,e,n=1,r=0,i=0){if(!e||!e.geometry||!e.geometry.coordinates)return void console.error("drawAnnotation error: coordinates not present",e);const[o,a,s,l]=function(t,e,n,r,i=1){return t*=i,e*=i,n*=i,r*=i,[Math.min(t,n),Math.min(e,r),Math.abs(n-t),Math.abs(r-e)]}(e.geometry.coordinates[0][0],e.geometry.coordinates[0][1],e.geometry.coordinates[1][0],e.geometry.coordinates[1][1],.75*n);return t.rect(s,l).move(o-r,a-i).stroke({color:"#22f",width:2}).fill("none")};function wf(t){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(t)}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sf(t,e)}function Cf(t,e){if(e&&("object"===wf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ef(t)}function Ef(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pf(t)}var kf=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sf(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pf(i);if(o){var n=Pf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Cf(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={currentAnnotation:-1},e.onPrevClick=e.onPrevClick.bind(Ef(e)),e.onNextClick=e.onNextClick.bind(Ef(e)),e}return n=s,(r=[{key:"onPrevClick",value:function(t){if(t.preventDefault(),this.state.currentAnnotation>0){var e=this.state.currentAnnotation-1;this.setState({currentAnnotation:e}),this.props.onSelectedAnnotationUpdate(e)}else this.setState({currentAnnotation:-1}),this.props.onSelectedAnnotationUpdate(null)}},{key:"onNextClick",value:function(t){if(t.preventDefault(),this.state.currentAnnotation<this.props.asset.annotations.length-1){var e=this.state.currentAnnotation+1;this.setState({currentAnnotation:e}),this.props.onSelectedAnnotationUpdate(e)}}},{key:"render",value:function(){var e=this,n=this.state.currentAnnotation>=0?this.props.asset.annotations[this.state.currentAnnotation]:null,r=E(),i=P(this.props.asset.id),o=function(t){return e.props.enterAssetDetailView(t,e.props.asset)},a=1===this.props.asset.annotations.length?"":"s",s="".concat(this.props.asset.annotations.length," selection").concat(a);return n&&(i="".concat(r,"react/asset/")+n.asset_id+"/annotations/"+n.id+"/",o=function(t){},s="(".concat(this.state.currentAnnotation+1," of ")+"".concat(this.props.asset.annotations.length,") ")+n.title),t.createElement("nav",{className:"mx-1","aria-label":"Annotation navigation"},t.createElement("ul",{className:"pagination btn-sm selection-spinner"},t.createElement("li",{className:"page-item "+(this.state.currentAnnotation>-1?"":"disabled")},t.createElement("a",{className:"page-link",href:"#",onClick:this.onPrevClick,title:"Previous Selection","aria-label":"Previous Selection"},t.createElement("span",{"aria-hidden":"true"},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-caret-left-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"}))))),t.createElement("li",{className:"page-item w-100 text-center text-nowrap text-truncate"},t.createElement("a",{onClick:o,className:"page-link",href:i},s)),t.createElement("li",{className:"page-item "+(this.state.currentAnnotation<this.props.asset.annotations.length-1?"":"disabled")},t.createElement("a",{className:"page-link",href:"#",onClick:this.onNextClick,title:"Next Selection","aria-label":"Next Selection"},t.createElement("span",{"aria-hidden":"true"},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-caret-right-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})))))))}}])&&xf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);kf.propTypes={asset:D().object.isRequired,onSelectedAnnotationUpdate:D().func.isRequired,enterAssetDetailView:D().func.isRequired};var Of=__webpack_require__(6998),Af=__webpack_require__.n(Of);function Rf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.asset=e}var e,n;return e=t,(n=[{key:"getType",value:function(){return x(this.asset.primary_type)}},{key:"getThumbnail",value:function(){if(!this.asset)return null;var t="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";if("youtube"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.url){var e=Af()(this.asset.sources.youtube.url);return"https://i.ytimg.com/vi/".concat(e,"/hqdefault.jpg")}if("vimeo"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.vimeo){var n=this.asset.sources.vimeo.url,r="https://vimeo.com/api/oembed.json?url=".concat(n);return fetch(r).then((function(e){return 200===e.status?e.json().then((function(t){return t.thumbnail_url})):t+"img/thumb_video.png"}))}return"pdf"===this.asset.primary_type&&this.asset.sources&&this.asset.sources.pdf?this.asset.sources.pdf.url:this.asset.thumb_url||(this.asset.sources&&this.asset.sources.image?this.asset.sources.image.url:null)}},{key:"getImage",value:function(){if(!this.asset||!this.asset.sources)return null;var t="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";return this.asset.sources&&!this.asset.sources.thumb&&(this.asset.sources.thumb=t+"img/thumb_image.png"),this.asset.sources&&this.asset.sources.image&&"source url"===this.asset.sources.image.url&&(this.asset.sources.image.url=t+"img/thumb_image.png"),this.asset.sources.image||this.asset.sources.thumb}},{key:"extractSource",value:function(){var t=this.asset.sources;if(t.youtube&&t.youtube.url){var e=Af()(t.youtube.url);return{url:"https://youtube.com/watch?v=".concat(e),host:"youtube"}}return t.vimeo&&t.vimeo.url?{url:t.vimeo.url,host:"vimeo"}:t.video&&t.video.url?{url:t.video.url}:t.mp4_pseudo&&t.mp4_pseudo.url?{url:t.mp4_pseudo.url}:t.mp4&&t.mp4.url?{url:t.mp4.url}:t.mp4_panopto&&t.mp4_panopto.url?{url:t.mp4_panopto.url}:t.mp4_audio&&t.mp4_audio.url?{url:t.mp4_audio.url}:t.image&&t.image.url?{url:t.image.url,width:t.image.width,height:t.image.height}:null}},{key:"getCaptionTrack",value:function(){if(!this.asset||!this.asset.metadata)return null;var t=this.asset.metadata.find((function(t){return"caption_track"===t.key}));return t?t.value[0]:null}}])&&Rf(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Mf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),If=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return Mf(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Cr(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=xr(t,gr,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(un("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Rr);const Df=If;var jf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Lf(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}const Ff=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return jf(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Cr),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(xr(this.geometries_[t],gr,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<vn(this.getExtent(),t,e))return r;for(var i=this.geometries_,o=0,a=i.length;o<a;++o)r=i[o].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Cn(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)kn(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Lf(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],l=s.getSimplifiedGeometry(t);n.push(l),l!==s&&(i=!0)}if(i){var u=new e(null);return u.setGeometriesArray(n),u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=Dn(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Lf(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(Ea);var Nf=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?Vo(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===yo.TILE_PIXELS&&(r=Vo(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return ur({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Xe()},t.prototype.readFeature=function(t,e){return Xe()},t.prototype.readFeatures=function(t,e){return Xe()},t.prototype.readGeometry=function(t,e){return Xe()},t.prototype.readProjection=function(t){return Xe()},t.prototype.writeFeature=function(t,e){return Xe()},t.prototype.writeFeatures=function(t,e){return Xe()},t.prototype.writeGeometry=function(t,e){return Xe()},t}();const zf=Nf;function Uf(t,e,n){var r,i=n?Vo(n.featureProjection):null,o=n?Vo(n.dataProjection):null;if(r=i&&o&&!qo(i,o)?(e?t.clone():t).transform(e?i:o,e?o:i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r}var Bf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Vf(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const Wf=function(t){function e(){return t.call(this)||this}return Bf(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Vf(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Vf(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Xe()},e.prototype.readFeaturesFromObject=function(t,e){return Xe()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Vf(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Xe()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Vf(t))},e.prototype.readProjectionFromObject=function(t){return Xe()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Xe()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Xe()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Xe()},e}(zf);function Hf(t,e,n,r,i,o,a){var s,l,u=(n-e)/r;if(1===u)s=e;else if(2===u)s=e,l=i;else if(0!==u){for(var c=t[e],h=t[e+1],d=0,p=[0],f=e+r;f<n;f+=r){var g=t[f],m=t[f+1];d+=Math.sqrt((g-c)*(g-c)+(m-h)*(m-h)),p.push(d),c=g,h=m}var y=i*d,v=function(t,e,n){for(var r,i,o=Ue,a=0,s=t.length,l=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,l=!i);return l?a:~a}(p,y);v<0?(l=(y-p[-v-2])/(p[-v-1]-p[-v-2]),s=e+(-v-2)*r):s=e+v*r}var b=a>1?a:2,_=o||new Array(b);for(f=0;f<b;++f)_[f]=void 0===s?NaN:void 0===l?t[s+f]:Zn(t[s+f],t[s+r+f],l);return _}function Gf(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var u=s+l>>1;i<t[(u+1)*r-1]?l=u:s=u+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var h=(i-c)/(t[(s+1)*r-1]-c);a=[];for(var d=0;d<r-1;++d)a.push(Zn(t[(s-1)*r+d],t[s*r+d],h));return a.push(i),a}var qf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$f=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return qf(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?We(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<vn(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ia(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return rs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=ya&&this.layout!=va)return null;var n=void 0!==e&&e;return Gf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Va(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Hf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return kc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Na(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,ma)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return is(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Aa);const Xf=$f;var Yf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kf=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout()),We(s,h.getFlatCoordinates()),l.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=l}return i}return Yf(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<vn(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ma(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Da(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=ya&&this.layout!=va||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return function(t,e,n,r,i,o,a){if(a)return Gf(t,e,n[n.length-1],r,i,o);var s;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(var l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return Gf(t,e,c,r,i,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return Wa(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Xf(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],l=new Xf(t.slice(i,s),n);r.push(l),i=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,a=r.length;o<a;++o){var s=r[o];We(t,Hf(e,n,s,i,.5)),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=Na(t,e,c,r,i,o,a),s.push(a),e=c}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,ma,r)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){if(is(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Fa(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Aa);const Zf=Kf;var Qf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jf=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return Qf(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?We(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<vn(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var l=Xn(t,e,i[a],i[a+1]);if(l<r){r=l;for(var u=0;u<o;++u)n[u]=i[a+u];n.length=o}}return r},e.prototype.getCoordinates=function(){return Va(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Qa(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var a=new Qa(t.slice(i,i+n),e);r.push(a)}return r},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n)if(wn(t,e[r],e[r+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=La(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Aa);const tg=Jf;var eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ng=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout());for(var d=s.length,p=h.getEnds(),f=0,g=p.length;f<g;++f)p[f]+=d;We(s,h.getFlatCoordinates()),l.push(p)}n=o,e=s,r=l}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return eg(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;We(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var i=new e(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i},e.prototype.closestPointXY=function(t,e,n,r){return r<vn(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Ma(t,e,s,r,i),e=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,a,s,l,u,c){for(var h=[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];u=Da(t,e,f,r,i,true,a,s,l,u,h),e=f[f.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,i,o){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(es(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=qa(t,e,s,r),e=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?cs(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Ha(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=[1/0,1/0,-1/0,-1/0],a=0,s=n.length;a<s;++a){var l=n[a];o=En(t,e,l[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var l=n[a];o=ns(t,e,l,r,i,2*a,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new tg(this.getFlatInteriorPoints().slice(),ya)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!ls(t,e,s,r,undefined))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=cs(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l],h=[];a=Ba(t,e,c,r,i,o,a,h),s.push(h),e=c[c.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,ma,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new ps(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==i)for(var u=0,c=s.length;u<c;++u)s[u]-=i;var h=new ps(e.slice(i,l),t,s);r.push(h),i=l}return r},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(os(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,i){for(var o=i||[],a=0,s=0,l=n.length;s<l;++s){var u=Fa(t,e,n[s],r,o[a]);o[a++]=u,e=u[u.length-1]}return o.length=a,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Aa);const rg=ng;var ig=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),og=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=Vo(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=Vo(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return ig(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=ag((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new Df;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(r),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return ag(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Vo(n.properties.name):"EPSG"===n.type?e=Vo("EPSG:"+n.properties.code):un(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;var i=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=sg(o,e),delete i[t.getGeometryName()]),dr(i)||(n.properties=i),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return sg(t,this.adaptOptions(e))},e}(Wf);function ag(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new Qa(t.coordinates)}(t);break;case"LineString":n=function(t){return new Xf(t.coordinates)}(t);break;case"Polygon":n=function(t){return new ps(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new tg(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new Zf(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new rg(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map((function(t){return ag(t,undefined)}));return new Ff(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Uf(n,!1,e)}function sg(t,e){var n,r=(t=Uf(t,!0,e)).getType();switch(r){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=ur({},e);return delete n.featureProjection,sg(t,n)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}const lg=og;var ug=function(t,e){var n={w:180,h:90},r=t||180,i=e||90;return r/2>i?n.h=Math.ceil(180*i/r):n.w=Math.ceil(90*r/i),[-n.w,-n.h,n.w,n.h]},cg=function(){return[new Qu({stroke:new qu({color:"blue",width:4}),fill:new Hu({color:"rgba(0, 0, 255, 0.1)"})})]},hg=function(t,e){var n,r=t.annotation.tool;n="polygon"===r?[new Qu({stroke:new qu({color:"blue",width:3}),fill:new Hu({color:"rgba(0, 0, 255, 0.1)"})}),new Qu({image:new Vu({radius:4,fill:new Hu({color:"orange"})}),geometry:function(t){var e=t.getGeometry().getCoordinates()[0];return new tg(e)}})]:"freeformShape"===r?[new Qu({stroke:new qu({color:"blue",width:3}),fill:new Hu({color:"rgba(0, 0, 255, 0.1)"})}),new Qu({image:new Vu({radius:1,fill:new Hu({color:"blue"})}),geometry:function(t){var e=t.getGeometry().getCoordinates()[0];return new tg(e)}})]:[new Qu({stroke:new qu({color:"blue",width:3}),fill:new Hu({color:"rgba(0, 0, 255, 0.1)"})}),new Qu({image:new Vu({radius:1,fill:new Hu({color:"blue"})}),geometry:function(t){var e=t.getGeometry().getCoordinates()[0];return new tg(e)}})];var i=t.annotation.geometry,o=e.getView(),a=o.getProjection(),s=new Ch({features:[new lg({dataProjection:a,featureProjection:a}).readFeature({type:"Feature",geometry:i})]}),l=new fh({source:s,style:n});e.addLayer(l);var u=s.getFeatures()[0].getGeometry();return u&&o.fit(u,{padding:[20,20,20,20]}),l},dg=function(t){t&&t.getFeatures().forEach((function(e){t.removeFeature(e)}))},pg=function(t,e,n){dg(e);var r=ug(n.width,n.height);t.getView().fit(r)};function fg(t){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(t)}function gg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mg(t,e){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mg(t,e)}function yg(t,e){if(e&&("object"===fg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vg(t)}function vg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bg(t)}var _g=function(t,e){return t.clientWidth/2-e.width/2},wg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bg(i);if(o){var n=bg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return yg(this,t)});function s(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=a.call(this,e);var r="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";return n.state={selectedAnnotation:null,thumbnailUrl:r+"img/thumb_unknown.png",pdfPageNumber:1},n.pdfLeftMargin=0,n.pdfScale=1,n.selectionSource=new Ch,n.selectionLayer=new fh({source:n.selectionSource}),n.asset=new Tf(n.props.asset),n.svgContainerRef=t.createRef(),n.pdfPageRef=t.createRef(),n.pdfViewer=null,n.onSelectedAnnotationUpdate=n.onSelectedAnnotationUpdate.bind(vg(n)),n.onPDFPageRenderSuccess=n.onPDFPageRenderSuccess.bind(vg(n)),n.refreshPdfAnnotation=n.refreshPdfAnnotation.bind(vg(n)),n}return n=s,r=[{key:"refreshPdfAnnotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((t||this.state.selectedAnnotation)&&this.pdfPageRef&&this.pdfPageRef.current){var e=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfLeftMargin=_g(e,this.pdfViewer);var n=t||this.state.selectedAnnotation,r=n.annotation.geometry.page||1;r===this.state.pdfPageNumber?(this.svgDraw.clear(),_f(this.svgDraw,n.annotation,this.pdfScale,-this.pdfLeftMargin,0)):this.setState({pdfPageNumber:r})}}},{key:"onSelectedAnnotationUpdate",value:function(t){var e=this.asset.getType(),n=this.props.asset.annotations[t];if(this.setState({selectedAnnotation:n}),"image"===e)if(this.selectionLayer&&this.map.removeLayer(this.selectionLayer),n){var r=hg(n,this.map);this.selectionLayer=r}else pg(this.map,this.selectionSource,this.asset.getImage());else if("pdf"===e){if(!this.svgDraw)return void console.error("Error: SVG element not found.");if(this.svgDraw.clear(),!n||!n.annotation)return void this.setState({pdfPageNumber:1});this.refreshPdfAnnotation(n)}}},{key:"render",value:function(){var e,n=this,r=this.asset.getType();e="pdf"===r?"PDF":_(r);var i=null;"video"===r&&this.state.selectedAnnotation&&(i=t.createElement("div",{className:"timecode"},t.createElement("span",{className:"badge badge-dark"},this.state.selectedAnnotation.annotation.startCode," - ",this.state.selectedAnnotation.annotation.endCode)));var o="asset: ".concat(this.props.asset.title);this.state.selectedAnnotation&&(o="annotation: ".concat(this.state.selectedAnnotation.title));var a=P(this.props.asset.id);return t.createElement("div",{className:"col-sm-4 border-right-8 border-white mb-4"},t.createElement("h5",{className:"text-nowrap text-truncate"},t.createElement("a",{onClick:function(t){return n.props.enterAssetDetailView(t,n.props.asset)},href:a,title:this.props.asset.title,dangerouslySetInnerHTML:{__html:this.props.asset.title}})),t.createElement("div",{key:this.props.asset.id},t.createElement("div",{className:"card-thumbnail","aria-live":"polite"},t.createElement("div",{className:"media-type"},t.createElement("span",{className:"badge badge-light"},e)),t.createElement("div",{className:"image-overlay"},t.createElement("a",{onClick:function(t){return n.props.enterAssetDetailView(t,n.props.asset)},href:a,title:this.props.asset.title},"image"===r&&t.createElement("div",{className:"ol-map mx-auto d-block img-fluid",role:"img","aria-label":"Image thumbnail for "+o,id:"map-".concat(this.props.asset.id)}),"video"===r&&t.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"Video thumbnail for "+o,src:this.state.thumbnailUrl,id:"video-".concat(this.props.asset.id),onError:function(){return S(r)}}),"audio"===r&&t.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"Audio thumbnail for "+o,src:this.state.thumbnailUrl,id:"audio-".concat(this.props.asset.id),onError:function(){return S(r)}}),"pdf"===r&&t.createElement("div",{className:"mx-auto d-block img-fluid text-center"},t.createElement(he,{file:this.state.thumbnailUrl},t.createElement("div",{ref:this.pdfPageRef,className:"react-pdf-page-container"},t.createElement(Ne,{pageNumber:this.state.pdfPageNumber,height:192,onRenderSuccess:this.onPDFPageRenderSuccess})))),"unknown"===r&&t.createElement("img",{className:"mx-auto d-block img-fluid",style:{maxWidth:"100%"},alt:"thumbnail for "+o,src:this.state.thumbnailUrl,id:"unknown-".concat(this.props.asset.id),onError:function(){return S(r)}})),i)),t.createElement(kf,{asset:this.props.asset,onSelectedAnnotationUpdate:this.onSelectedAnnotationUpdate,enterAssetDetailView:this.props.enterAssetDetailView})))}},{key:"componentDidMount",value:function(){var t=this,e=this.asset.getThumbnail();if("string"==typeof e)this.setState({thumbnailUrl:this.asset.getThumbnail()});else if(e&&e.then){var n=this;this.asset.getThumbnail().then((function(t){n.setState({thumbnailUrl:t})}))}var r=this.asset.getType();if("image"===r){var i=this.asset.getImage(),o=ug(i.width,i.height),a=new _o({code:"Flatland:1",units:"pixels",extent:o});this.map=new Hl({target:"map-".concat(this.props.asset.id),controls:[],interactions:[],pixelRatio:1,layers:[new su({source:new Mu({url:i.url,projection:a,imageExtent:o})})],view:new _s({projection:a,center:Dn(o),zoom:.5})})}var s="undefined"!=typeof MediaThread?window.MediaThread.staticUrl:"/media/";"unknown"===r&&this.setState({thumbnailUrl:s+"img/thumb_unknown.png"}),"audio"===r&&this.setState({thumbnailUrl:s+"img/thumb_audio.png"}),"pdf"===r&&window.addEventListener("resize",(function(e){return t.refreshPdfAnnotation(t.state.selectedAnnotation)}))}},{key:"componentWillUnmount",value:function(){"pdf"===this.asset.getType()&&window.removeEventListener("resize",this.refreshPdfAnnotation)}},{key:"onPDFPageRenderSuccess",value:function(t){this.pdfViewer=t;var e=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfScale=t.width/t.getViewport({scale:1}).width,this.pdfLeftMargin=_g(e,t),this.svgDraw=bf().addTo(e),this.refreshPdfAnnotation(this.state.selectedAnnotation)}}],r&&gg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xg(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}wg.propTypes={asset:D().object.isRequired,currentUser:D().number.isRequired,enterAssetDetailView:D().func.isRequired};var Cg=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Eg(e){var n=e.defaultInputValue,r=void 0===n?"":n,i=e.defaultMenuIsOpen,o=void 0!==i&&i,a=e.defaultValue,s=void 0===a?null:a,l=e.inputValue,u=e.menuIsOpen,c=e.onChange,h=e.onInputChange,d=e.onMenuClose,p=e.onMenuOpen,f=e.value,g=st(e,Cg),m=Dt((0,t.useState)(void 0!==l?l:r),2),y=m[0],v=m[1],b=Dt((0,t.useState)(void 0!==u?u:o),2),_=b[0],w=b[1],x=Dt((0,t.useState)(void 0!==f?f:s),2),S=x[0],C=x[1],E=(0,t.useCallback)((function(t,e){"function"==typeof c&&c(t,e),C(t)}),[c]),P=(0,t.useCallback)((function(t,e){var n;"function"==typeof h&&(n=h(t,e)),v(void 0!==n?n:t)}),[h]),k=(0,t.useCallback)((function(){"function"==typeof p&&p(),w(!0)}),[p]),O=(0,t.useCallback)((function(){"function"==typeof d&&d(),w(!1)}),[d]),A=void 0!==l?l:y,R=void 0!==u?u:_,T=void 0!==f?f:S;return Sg(Sg({},g),{},{inputValue:A,menuIsOpen:R,onChange:E,onInputChange:P,onMenuClose:O,onMenuOpen:k,value:T})}var Pg=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),kg=Math.abs,Og=String.fromCharCode,Ag=Object.assign;function Rg(t){return t.trim()}function Tg(t,e,n){return t.replace(e,n)}function Mg(t,e){return t.indexOf(e)}function Ig(t,e){return 0|t.charCodeAt(e)}function Dg(t,e,n){return t.slice(e,n)}function jg(t){return t.length}function Lg(t){return t.length}function Fg(t,e){return e.push(t),t}var Ng=1,zg=1,Ug=0,Bg=0,Vg=0,Wg="";function Hg(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Ng,column:zg,length:a,return:""}}function Gg(t,e){return Ag(Hg("",null,null,"",null,null,0),t,{length:-t.length},e)}function qg(){return Vg=Bg>0?Ig(Wg,--Bg):0,zg--,10===Vg&&(zg=1,Ng--),Vg}function $g(){return Vg=Bg<Ug?Ig(Wg,Bg++):0,zg++,10===Vg&&(zg=1,Ng++),Vg}function Xg(){return Ig(Wg,Bg)}function Yg(){return Bg}function Kg(t,e){return Dg(Wg,t,e)}function Zg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qg(t){return Ng=zg=1,Ug=jg(Wg=t),Bg=0,[]}function Jg(t){return Wg="",t}function tm(t){return Rg(Kg(Bg-1,rm(91===t?t+2:40===t?t+1:t)))}function em(t){for(;(Vg=Xg())&&Vg<33;)$g();return Zg(t)>2||Zg(Vg)>3?"":" "}function nm(t,e){for(;--e&&$g()&&!(Vg<48||Vg>102||Vg>57&&Vg<65||Vg>70&&Vg<97););return Kg(t,Yg()+(e<6&&32==Xg()&&32==$g()))}function rm(t){for(;$g();)switch(Vg){case t:return Bg;case 34:case 39:34!==t&&39!==t&&rm(Vg);break;case 40:41===t&&rm(t);break;case 92:$g()}return Bg}function im(t,e){for(;$g()&&t+Vg!==57&&(t+Vg!==84||47!==Xg()););return"/*"+Kg(e,Bg-1)+"*"+Og(47===t?t:$g())}function om(t){for(;!Zg(Xg());)$g();return Kg(t,Bg)}var am="-ms-",sm="-webkit-",lm="comm",um="rule",cm="decl",hm="@keyframes";function dm(t,e){for(var n="",r=Lg(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function pm(t,e,n,r){switch(t.type){case"@import":case cm:return t.return=t.return||t.value;case lm:return"";case hm:return t.return=t.value+"{"+dm(t.children,r)+"}";case um:t.value=t.props.join(",")}return jg(n=dm(t.children,r))?t.return=t.value+"{"+n+"}":""}function fm(t){return Jg(gm("",null,null,null,[""],t=Qg(t),0,[0],t))}function gm(t,e,n,r,i,o,a,s,l){for(var u=0,c=0,h=a,d=0,p=0,f=0,g=1,m=1,y=1,v=0,b="",_=i,w=o,x=r,S=b;m;)switch(f=v,v=$g()){case 40:if(108!=f&&58==Ig(S,h-1)){-1!=Mg(S+=Tg(tm(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=tm(v);break;case 9:case 10:case 13:case 32:S+=em(f);break;case 92:S+=nm(Yg()-1,7);continue;case 47:switch(Xg()){case 42:case 47:Fg(ym(im($g(),Yg()),e,n),l);break;default:S+="/"}break;case 123*g:s[u++]=jg(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:p>0&&jg(S)-h&&Fg(p>32?vm(S+";",r,n,h-1):vm(Tg(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(Fg(x=mm(S,e,n,u,c,i,s,b,_=[],w=[],h),o),123===v)if(0===c)gm(S,e,x,x,_,o,h,s,w);else switch(99===d&&110===Ig(S,3)?100:d){case 100:case 109:case 115:gm(t,x,x,r&&Fg(mm(t,x,x,0,0,i,s,b,i,_=[],h),w),i,w,h,s,r?_:w);break;default:gm(S,x,x,x,[""],w,0,s,w)}}u=c=p=0,g=y=1,b=S="",h=a;break;case 58:h=1+jg(S),p=f;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==qg())continue;switch(S+=Og(v),v*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(jg(S)-1)*y,y=1;break;case 64:45===Xg()&&(S+=tm($g())),d=Xg(),c=h=jg(b=S+=om(Yg())),v++;break;case 45:45===f&&2==jg(S)&&(g=0)}}return o}function mm(t,e,n,r,i,o,a,s,l,u,c){for(var h=i-1,d=0===i?o:[""],p=Lg(d),f=0,g=0,m=0;f<r;++f)for(var y=0,v=Dg(t,h+1,h=kg(g=a[f])),b=t;y<p;++y)(b=Rg(g>0?d[y]+" "+v:Tg(v,/&\f/g,d[y])))&&(l[m++]=b);return Hg(t,e,n,0===i?um:s,l,u,c)}function ym(t,e,n){return Hg(t,e,n,lm,Og(Vg),Dg(t,2,-2),0)}function vm(t,e,n,r){return Hg(t,e,n,cm,Dg(t,0,r),Dg(t,r+1,-1),r)}var bm=function(t,e,n){for(var r=0,i=0;r=i,i=Xg(),38===r&&12===i&&(e[n]=1),!Zg(i);)$g();return Kg(t,Bg)},_m=new WeakMap,wm=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||_m.get(n))&&!r){_m.set(t,!0);for(var i=[],o=function(t,e){return Jg(function(t,e){var n=-1,r=44;do{switch(Zg(r)){case 0:38===r&&12===Xg()&&(e[n]=1),t[n]+=bm(Bg-1,e,n);break;case 2:t[n]+=tm(r);break;case 4:if(44===r){t[++n]=58===Xg()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Og(r)}}while(r=$g());return t}(Qg(t),e))}(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},xm=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function Sm(t,e){switch(function(t,e){return 45^Ig(t,0)?(((e<<2^Ig(t,0))<<2^Ig(t,1))<<2^Ig(t,2))<<2^Ig(t,3):0}(t,e)){case 5103:return"-webkit-print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sm+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return sm+t+"-moz-"+t+am+t+t;case 6828:case 4268:return sm+t+am+t+t;case 6165:return sm+t+am+"flex-"+t+t;case 5187:return sm+t+Tg(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return sm+t+am+"flex-item-"+Tg(t,/flex-|-self/,"")+t;case 4675:return sm+t+am+"flex-line-pack"+Tg(t,/align-content|flex-|-self/,"")+t;case 5548:return sm+t+am+Tg(t,"shrink","negative")+t;case 5292:return sm+t+am+Tg(t,"basis","preferred-size")+t;case 6060:return"-webkit-box-"+Tg(t,"-grow","")+sm+t+am+Tg(t,"grow","positive")+t;case 4554:return sm+Tg(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return Tg(Tg(Tg(t,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),t,"")+t;case 5495:case 3959:return Tg(t,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return Tg(Tg(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+sm+t+t;case 4095:case 3583:case 4068:case 2532:return Tg(t,/(.+)-inline(.+)/,"-webkit-$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jg(t)-1-e>6)switch(Ig(t,e+1)){case 109:if(45!==Ig(t,e+4))break;case 102:return Tg(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==Ig(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Mg(t,"stretch")?Sm(Tg(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==Ig(t,e+1))break;case 6444:switch(Ig(t,jg(t)-3-(~Mg(t,"!important")&&10))){case 107:return Tg(t,":",":-webkit-")+t;case 101:return Tg(t,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===Ig(t,14)?"inline-":"")+"box$3$1-webkit-$2$3$1-ms-$2box$3")+t}break;case 5936:switch(Ig(t,e+11)){case 114:return sm+t+am+Tg(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return sm+t+am+Tg(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return sm+t+am+Tg(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return sm+t+am+t+t}return t}var Cm=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case cm:t.return=Sm(t.value,t.length);break;case hm:return dm([Gg(t,{value:Tg(t.value,"@","@-webkit-")})],r);case um:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return dm([Gg(t,{props:[Tg(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return dm([Gg(t,{props:[Tg(e,/:(plac\w+)/,":-webkit-input-$1")]}),Gg(t,{props:[Tg(e,/:(plac\w+)/,":-moz-$1")]}),Gg(t,{props:[Tg(e,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}];const Em=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r,i,o=t.stylisPlugins||Cm,a={},s=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var l,u,c,h,d=[pm,(h=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&h(t)})],p=(u=[wm,xm].concat(o,d),c=Lg(u),function(t,e,n,r){for(var i="",o=0;o<c;o++)i+=u[o](t,e,n,r)||"";return i});i=function(t,e,n,r){l=n,dm(fm(t?t+"{"+e.styles+"}":e.styles),p),r&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new Pg({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(s),f};var Pm=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)};const km=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Om={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Am=__webpack_require__(5042),Rm=/[A-Z]|^ms/g,Tm=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Mm=function(t){return 45===t.charCodeAt(1)},Im=function(t){return null!=t&&"boolean"!=typeof t},Dm=(0,Am.Z)((function(t){return Mm(t)?t:t.replace(Rm,"-$&").toLowerCase()})),jm=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Tm,(function(t,e,n){return Fm={name:e,styles:n,next:Fm},e}))}return 1===Om[t]||Mm(t)||"number"!=typeof e||0===e?e:e+"px"};function Lm(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Fm={name:n.name,styles:n.styles,next:Fm},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Fm={name:r.name,styles:r.styles,next:Fm},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lm(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":Im(a)&&(r+=Dm(o)+":"+jm(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=Lm(t,e,a);switch(o){case"animation":case"animationName":r+=Dm(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)Im(a[l])&&(r+=Dm(o)+":"+jm(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=Fm,o=n(t);return Fm=i,Lm(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var Fm,Nm=/label:\s*([^\s;\n{]+)\s*(;|$)/g,zm=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";Fm=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=Lm(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=Lm(n,e,t[a]),r&&(i+=o[a]);Nm.lastIndex=0;for(var s,l="";null!==(s=Nm.exec(i));)l+="-"+s[1];return{name:km(i)+l,styles:i,next:Fm}},Um=!!e.useInsertionEffect&&e.useInsertionEffect,Bm=Um||function(t){return t()},Vm=(Um||t.useLayoutEffect,{}.hasOwnProperty),Wm=(0,t.createContext)("undefined"!=typeof HTMLElement?Em({key:"css"}):null);Wm.Provider;var Hm=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Wm);return e(n,i,r)}))},Gm=(0,t.createContext)({}),qm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$m=function(t,e){var n={};for(var r in e)Vm.call(e,r)&&(n[r]=e[r]);return n[qm]=t,n},Xm=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Pm(e,n,r),Bm((function(){return function(t,e,n){Pm(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}}(e,n,r)})),null},Ym=Hm((function(e,n,r){var i=e.css;"string"==typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=e[qm],a=[i],s="";"string"==typeof e.className?s=function(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=zm(a,void 0,(0,t.useContext)(Gm));s+=n.key+"-"+l.name;var u={};for(var c in e)Vm.call(e,c)&&"css"!==c&&c!==qm&&(u[c]=e[c]);return u.ref=r,u.className=s,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Xm,{cache:n,serialized:l,isStringTag:"string"==typeof o}),(0,t.createElement)(o,u))}));__webpack_require__(8679);var Km=function(e,n){var r=arguments;if(null==n||!Vm.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Ym,o[1]=$m(e,n);for(var a=2;a<i;a++)o[a]=r[a];return t.createElement.apply(null,o)};function Zm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zm(e)}var Qm=__webpack_require__(3935);Math.min,Math.max;function Jm(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function ty(t){if(null==t)return window;if(!Jm(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function ey(t){return Jm(t)?"":t?(t.nodeName||"").toLowerCase():""}function ny(t){return t instanceof ty(t).HTMLElement}function ry(t){return t instanceof ty(t).Element}function iy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=function(t){return ty(t).getComputedStyle(t)}(t);return/auto|scroll|overlay|hidden/.test(e+r+n)&&!["inline","contents"].includes(i)}function oy(){return!/^((?!chrome|android).)*safari/i.test(function(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}())}["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),Math.min,Math.max;const ay=Math.round;function sy(t,e,n){var r,i,o,a;void 0===e&&(e=!1),void 0===n&&(n=!1);const s=t.getBoundingClientRect();let l=1,u=1;e&&ny(t)&&(l=t.offsetWidth>0&&ay(s.width)/t.offsetWidth||1,u=t.offsetHeight>0&&ay(s.height)/t.offsetHeight||1);const c=ry(t)?ty(t):window,h=!oy()&&n,d=(s.left+(h&&null!=(r=null==(i=c.visualViewport)?void 0:i.offsetLeft)?r:0))/l,p=(s.top+(h&&null!=(o=null==(a=c.visualViewport)?void 0:a.offsetTop)?o:0))/u,f=s.width/l,g=s.height/u;return{width:f,height:g,top:p,right:d+f,bottom:p+g,left:d,x:d,y:p}}function ly(t){return"html"===ey(t)?t:t.assignedSlot||t.parentNode||(function(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ty(t).ShadowRoot||t instanceof ShadowRoot)}(t)?t.host:null)||function(t){return(e=t,(e instanceof ty(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}(t)}function uy(t){const e=ly(t);return function(t){return["html","body","#document"].includes(ey(t))}(e)?t.ownerDocument.body:ny(e)&&iy(e)?e:uy(e)}function cy(t,e){var n;void 0===e&&(e=[]);const r=uy(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=ty(r),a=i?[o].concat(o.visualViewport||[],iy(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(cy(a))}const hy=t.useLayoutEffect;var dy=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],py=function(){};function fy(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function gy(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&o.push("".concat(fy(t,a)));return o.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")}var my=function(t){return e=t,Array.isArray(e)?t.filter(Boolean):"object"===lt(t)&&null!==t?[t]:[];var e},yy=function(t){return t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme,Sg({},st(t,dy))},vy=function(t,e,n){var r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.className;return{css:i(e,t),className:r(null!=n?n:{},o(e,t),a)}};function by(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function _y(t){return by(t)?window.pageYOffset:t.scrollTop}function wy(t,e){by(t)?window.scrollTo(0,e):t.scrollTop=e}function xy(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Sy(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:py,i=_y(t),o=e-i,a=10,s=0;function l(){var e=xy(s+=a,i,o,n);wy(t,e),s<n?window.requestAnimationFrame(l):r(t)}l()}function Cy(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?wy(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&wy(t,Math.max(e.offsetTop-i,0))}function Ey(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var Py=!1,ky={get passive(){return Py=!0}},Oy="undefined"!=typeof window?window:{};Oy.addEventListener&&Oy.removeEventListener&&(Oy.addEventListener("p",py,ky),Oy.removeEventListener("p",py,!1));var Ay=Py;function Ry(t){return null!=t}function Ty(t,e,n){return t?e:n}var My=function(t){return"auto"===t?"bottom":t},Iy=(0,t.createContext)(null),Dy=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,u=((0,t.useContext)(Iy)||{}).setPortalPlacement,c=(0,t.useRef)(null),h=Dt((0,t.useState)(i),2),d=h[0],p=h[1],f=Dt((0,t.useState)(null),2),g=f[0],m=f[1],y=l.spacing.controlHeight;return hy((function(){var t=c.current;if(t){var e="fixed"===a,n=function(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,a=t.isFixedPosition,s=t.controlHeight,l=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/;if("fixed"===e.position)return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,g=d.top,m=n.offsetParent.getBoundingClientRect().top,y=a||by(c=l)?window.innerHeight:c.clientHeight,v=_y(l),b=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),w=m-_,x=y-g,S=w+v,C=h-v-g,E=p-y+v+b,P=v+g-_,k=160;switch(i){case"auto":case"bottom":if(x>=f)return{placement:"bottom",maxHeight:e};if(C>=f&&!a)return o&&Sy(l,E,k),{placement:"bottom",maxHeight:e};if(!a&&C>=r||a&&x>=r)return o&&Sy(l,E,k),{placement:"bottom",maxHeight:a?x-b:C-b};if("auto"===i||a){var O=e,A=a?w:S;return A>=r&&(O=Math.min(A-b-s,e)),{placement:"top",maxHeight:O}}if("bottom"===i)return o&&wy(l,E),{placement:"bottom",maxHeight:e};break;case"top":if(w>=f)return{placement:"top",maxHeight:e};if(S>=f&&!a)return o&&Sy(l,P,k),{placement:"top",maxHeight:e};if(!a&&S>=r||a&&w>=r){var R=e;return(!a&&S>=r||a&&w>=r)&&(R=a?w-_:S-_),o&&Sy(l,P,k),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!e,isFixedPosition:e,controlHeight:y});p(n.maxHeight),m(n.placement),null==u||u(n.placement)}}),[i,o,a,s,r,u,y]),n({ref:c,placerProps:Sg(Sg({},e),{},{placement:g||My(o),maxHeight:d})})},jy=function(t,e){var n=t.theme,r=n.spacing.baseUnit,i=n.colors;return Sg({textAlign:"center"},e?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Ly=jy,Fy=jy,Ny=function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),e)};Ny.defaultProps={children:"No options"};var zy=function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),e)};zy.defaultProps={children:"Loading..."};var Uy,By,Vy,Wy=["size"],Hy={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Gy=function(t){var e=t.size,n=st(t,Wy);return Km("svg",ot({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Hy},n))},qy=function(t){return Km(Gy,ot({size:20},t),Km("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$y=function(t){return Km(Gy,ot({size:20},t),Km("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Xy=function(t,e){var n=t.isFocused,r=t.theme,i=r.spacing.baseUnit,o=r.colors;return Sg({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},Yy=Xy,Ky=Xy,Zy=function(){var t=Zm.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Uy||(By=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Vy||(Vy=By.slice(0)),Uy=Object.freeze(Object.defineProperties(By,{raw:{value:Object.freeze(Vy)}})))),Qy=function(t){var e=t.delay,n=t.offset;return Km("span",{css:Zm({animation:"".concat(Zy," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Jy=function(t){var e=t.innerProps,n=t.isRtl;return Km("div",ot({},vy(t,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),Km(Qy,{delay:0,offset:n}),Km(Qy,{delay:160,offset:!0}),Km(Qy,{delay:320,offset:!n}))};Jy.defaultProps={size:4};var tv=["data"],ev=["innerRef","isDisabled","isHidden","inputClassName"],nv={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rv={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Sg({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nv)},iv=function(t){return Sg({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},nv)},ov=function(t){var e=t.children,n=t.innerProps;return Km("div",n,e)},av={ClearIndicator:function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),e||Km(qy,null))},Control:function(t){var e=t.children,n=t.isDisabled,r=t.isFocused,i=t.innerRef,o=t.innerProps,a=t.menuIsOpen;return Km("div",ot({ref:i},vy(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),o),e)},DropdownIndicator:function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),e||Km($y,null))},DownChevron:$y,CrossIcon:qy,Group:function(t){var e=t.children,n=t.cx,r=t.getStyles,i=t.getClassNames,o=t.Heading,a=t.headingProps,s=t.innerProps,l=t.label,u=t.theme,c=t.selectProps;return Km("div",ot({},vy(t,"group",{group:!0}),s),Km(o,ot({},a,{selectProps:c,theme:u,getStyles:r,getClassNames:i,cx:n}),l),Km("div",null,e))},GroupHeading:function(t){var e=yy(t);e.data;var n=st(e,tv);return Km("div",ot({},vy(t,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"indicatorsContainer",{indicators:!0}),n),e)},IndicatorSeparator:function(t){var e=t.innerProps;return Km("span",ot({},e,vy(t,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(t){var e=t.cx,n=t.value,r=yy(t),i=r.innerRef,o=r.isDisabled,a=r.isHidden,s=r.inputClassName,l=st(r,ev);return Km("div",ot({},vy(t,"input",{"input-container":!0}),{"data-value":n||""}),Km("input",ot({className:e({input:!0},s),ref:i,style:iv(a),disabled:o},l)))},LoadingIndicator:Jy,Menu:function(t){var e=t.children,n=t.innerRef,r=t.innerProps;return Km("div",ot({},vy(t,"menu",{menu:!0}),{ref:n},r),e)},MenuList:function(t){var e=t.children,n=t.innerProps,r=t.innerRef,i=t.isMulti;return Km("div",ot({},vy(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),e)},MenuPortal:function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,a=e.menuPlacement,s=e.menuPosition,l=(0,t.useRef)(null),u=(0,t.useRef)(null),c=Dt((0,t.useState)(My(a)),2),h=c[0],d=c[1],p=(0,t.useMemo)((function(){return{setPortalPlacement:d}}),[]),f=Dt((0,t.useState)(null),2),g=f[0],m=f[1],y=(0,t.useCallback)((function(){if(i){var t=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(i),e="fixed"===s?0:window.pageYOffset,n=t[h]+e;n===(null==g?void 0:g.offset)&&t.left===(null==g?void 0:g.rect.left)&&t.width===(null==g?void 0:g.rect.width)||m({offset:n,rect:t})}}),[i,s,h,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);hy((function(){y()}),[y]);var v=(0,t.useCallback)((function(){"function"==typeof u.current&&(u.current(),u.current=null),i&&l.current&&(u.current=function(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=!0,animationFrame:s=!1}=r,l=i&&!s,u=l||o?[...ry(t)?cy(t):t.contextElement?cy(t.contextElement):[],...cy(e)]:[];u.forEach((t=>{l&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));let c,h=null;if(a){let r=!0;h=new ResizeObserver((()=>{r||n(),r=!1})),ry(t)&&!s&&h.observe(t),ry(t)||!t.contextElement||s||h.observe(t.contextElement),h.observe(e)}let d=s?sy(t):null;return s&&function e(){const r=sy(t);!d||r.x===d.x&&r.y===d.y&&r.width===d.width&&r.height===d.height||n(),d=r,c=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{l&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==(t=h)||t.disconnect(),h=null,s&&cancelAnimationFrame(c)}}(i,l.current,y,{elementResize:"ResizeObserver"in window}))}),[i,y]);hy((function(){v()}),[v]);var b=(0,t.useCallback)((function(t){l.current=t,v()}),[v]);if(!n&&"fixed"!==s||!g)return null;var _=Km("div",ot({ref:b},vy(Sg(Sg({},e),{},{offset:g.offset,position:s,rect:g.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Km(Iy.Provider,{value:p},n?(0,Qm.createPortal)(_,n):_)},LoadingMessage:zy,NoOptionsMessage:Ny,MultiValue:function(t){var e=t.children,n=t.components,r=t.data,i=t.innerProps,o=t.isDisabled,a=t.removeProps,s=t.selectProps,l=n.Container,u=n.Label,c=n.Remove;return Km(l,{data:r,innerProps:Sg(Sg({},vy(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:s},Km(u,{data:r,innerProps:Sg({},vy(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},e),Km(c,{data:r,innerProps:Sg(Sg({},vy(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},a),selectProps:s}))},MultiValueContainer:ov,MultiValueLabel:ov,MultiValueRemove:function(t){var e=t.children,n=t.innerProps;return Km("div",ot({role:"button"},n),e||Km(qy,{size:14}))},Option:function(t){var e=t.children,n=t.isDisabled,r=t.isFocused,i=t.isSelected,o=t.innerRef,a=t.innerProps;return Km("div",ot({},vy(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},a),e)},Placeholder:function(t){var e=t.children,n=t.innerProps;return Km("div",ot({},vy(t,"placeholder",{placeholder:!0}),n),e)},SelectContainer:function(t){var e=t.children,n=t.innerProps,r=t.isDisabled,i=t.isRtl;return Km("div",ot({},vy(t,"container",{"--is-disabled":r,"--is-rtl":i}),n),e)},SingleValue:function(t){var e=t.children,n=t.isDisabled,r=t.innerProps;return Km("div",ot({},vy(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),e)},ValueContainer:function(t){var e=t.children,n=t.innerProps,r=t.isMulti,i=t.hasValue;return Km("div",ot({},vy(t,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),e)}},sv=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function lv(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((r=t[n])===(i=e[n])||sv(r)&&sv(i)))return!1;var r,i;return!0}for(var uv={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},cv=function(t){return Km("span",ot({css:uv},t))},hv={guidance:function(t){var e=t.isSearchable,n=t.isMulti,r=t.isDisabled,i=t.tabSelectsValue;switch(t.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,n=t.label,r=void 0===n?"":n,i=t.labels,o=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(t){var e=t.context,n=t.focused,r=t.options,i=t.label,o=void 0===i?"":i,a=t.selectValue,s=t.isDisabled,l=t.isSelected,u=function(t,e){return t&&t.length?"".concat(t.indexOf(e)+1," of ").concat(t.length):""};if("value"===e&&a)return"value ".concat(o," focused, ").concat(u(a,n),".");if("menu"===e){var c=s?" disabled":"",h="".concat(l?"selected":"focused").concat(c);return"option ".concat(o," ").concat(h,", ").concat(u(r,n),".")}return""},onFilter:function(t){var e=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(e?" for search term "+e:"",".")}},dv=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,s=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,p=l.isMulti,f=l.isOptionDisabled,g=l.isSearchable,m=l.menuIsOpen,y=l.options,v=l.screenReaderStatus,b=l.tabSelectsValue,_=l["aria-label"],w=l["aria-live"],x=(0,t.useMemo)((function(){return Sg(Sg({},hv),c||{})}),[c]),S=(0,t.useMemo)((function(){var t,e="";if(n&&x.onChange){var r=n.option,i=n.options,o=n.removedValue,a=n.removedValues,l=n.value,u=o||r||(t=l,Array.isArray(t)?null:t),c=u?h(u):"",d=i||a||void 0,p=d?d.map(h):[],g=Sg({isDisabled:u&&f(u,s),label:c,labels:p},n);e=x.onChange(g)}return e}),[n,x,f,s,h]),C=(0,t.useMemo)((function(){var t="",e=r||i,n=!!(r&&s&&s.includes(r));if(e&&x.onFocus){var a={focused:e,label:h(e),isDisabled:f(e,s),isSelected:n,options:o,context:e===r?"menu":"value",selectValue:s};t=x.onFocus(a)}return t}),[r,i,h,f,x,o,s]),E=(0,t.useMemo)((function(){var t="";if(m&&y.length&&x.onFilter){var e=v({count:o.length});t=x.onFilter({inputValue:d,resultsMessage:e})}return t}),[o,d,m,x,y,v]),P=(0,t.useMemo)((function(){var t="";if(x.guidance){var e=i?"value":m?"menu":"input";t=x.guidance({"aria-label":_,context:e,isDisabled:r&&f(r,s),isMulti:p,isSearchable:g,tabSelectsValue:b})}return t}),[_,r,i,p,f,g,m,x,s,b]),k="".concat(C," ").concat(E," ").concat(P),O=Km(t.Fragment,null,Km("span",{id:"aria-selection"},S),Km("span",{id:"aria-context"},k)),A="initial-input-focus"===(null==n?void 0:n.action);return Km(t.Fragment,null,Km(cv,{id:u},A&&O),Km(cv,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},a&&!A&&O))},pv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],fv=new RegExp("["+pv.map((function(t){return t.letters})).join("")+"]","g"),gv={},mv=0;mv<pv.length;mv++)for(var yv=pv[mv],vv=0;vv<yv.letters.length;vv++)gv[yv.letters[vv]]=yv.base;var bv=function(t){return t.replace(fv,(function(t){return gv[t]}))},_v=function(t,e){void 0===e&&(e=lv);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(bv),wv=function(t){return t.replace(/^\s+|\s+$/g,"")},xv=function(t){return"".concat(t.label," ").concat(t.value)},Sv=["innerRef"];function Cv(t){var e=t.innerRef,n=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Object.entries(t).filter((function(t){var e=Dt(t,1)[0];return!n.includes(e)}));return i.reduce((function(t,e){var n=Dt(e,2),r=n[0],i=n[1];return t[r]=i,t}),{})}(st(t,Sv),"onExited","in","enter","exit","appear");return Km("input",ot({ref:e},n,{css:Zm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ev=["boxSizing","height","overflow","paddingRight","position"],Pv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function kv(t){t.preventDefault()}function Ov(t){t.stopPropagation()}function Av(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Rv(){return"ontouchstart"in window||navigator.maxTouchPoints}var Tv=!("undefined"==typeof window||!window.document||!window.document.createElement),Mv=0,Iv={capture:!1,passive:!1},Dv=function(){return document.activeElement&&document.activeElement.blur()},jv={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Lv(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,o=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=(0,t.useRef)(!1),l=(0,t.useRef)(!1),u=(0,t.useRef)(0),c=(0,t.useRef)(null),h=(0,t.useCallback)((function(t,e){if(null!==c.current){var n=c.current,u=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,p=c.current,f=e>0,g=h-d-u,m=!1;g>e&&s.current&&(i&&i(t),s.current=!1),f&&l.current&&(a&&a(t),l.current=!1),f&&e>g?(r&&!s.current&&r(t),p.scrollTop=h,m=!0,s.current=!0):!f&&-e>u&&(o&&!l.current&&o(t),p.scrollTop=0,m=!0,l.current=!0),m&&function(t){t.preventDefault(),t.stopPropagation()}(t)}}),[r,i,o,a]),d=(0,t.useCallback)((function(t){h(t,t.deltaY)}),[h]),p=(0,t.useCallback)((function(t){u.current=t.changedTouches[0].clientY}),[]),f=(0,t.useCallback)((function(t){var e=u.current-t.changedTouches[0].clientY;h(t,e)}),[h]),g=(0,t.useCallback)((function(t){if(t){var e=!!Ay&&{passive:!1};t.addEventListener("wheel",d,e),t.addEventListener("touchstart",p,e),t.addEventListener("touchmove",f,e)}}),[f,p,d]),m=(0,t.useCallback)((function(t){t&&(t.removeEventListener("wheel",d,!1),t.removeEventListener("touchstart",p,!1),t.removeEventListener("touchmove",f,!1))}),[f,p,d]);return(0,t.useEffect)((function(){if(n){var t=c.current;return g(t),function(){m(t)}}}),[n,g,m]),function(t){c.current=t}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,o=(0,t.useRef)({}),a=(0,t.useRef)(null),s=(0,t.useCallback)((function(t){if(Tv){var e=document.body,n=e&&e.style;if(i&&Ev.forEach((function(t){var e=n&&n[t];o.current[t]=e})),i&&Mv<1){var r=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+r||0;Object.keys(Pv).forEach((function(t){var e=Pv[t];n&&(n[t]=e)})),n&&(n.paddingRight="".concat(s,"px"))}e&&Rv()&&(e.addEventListener("touchmove",kv,Iv),t&&(t.addEventListener("touchstart",Av,Iv),t.addEventListener("touchmove",Ov,Iv))),Mv+=1}}),[i]),l=(0,t.useCallback)((function(t){if(Tv){var e=document.body,n=e&&e.style;Mv=Math.max(Mv-1,0),i&&Mv<1&&Ev.forEach((function(t){var e=o.current[t];n&&(n[t]=e)})),e&&Rv()&&(e.removeEventListener("touchmove",kv,Iv),t&&(t.removeEventListener("touchstart",Av,Iv),t.removeEventListener("touchmove",Ov,Iv)))}}),[i]);return(0,t.useEffect)((function(){if(n){var t=a.current;return s(t),function(){l(t)}}}),[n,s,l]),function(t){a.current=t}}({isEnabled:r});return Km(t.Fragment,null,r&&Km("div",{onClick:Dv,css:jv}),n((function(t){o(t),a(t)})))}var Fv={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Nv=function(t){var e=t.name,n=t.onFocus;return Km("input",{required:!0,name:e,tabIndex:-1,onFocus:n,css:Fv,value:"",onChange:function(){}})},zv=function(t){return t.label},Uv=function(t){return t.value},Bv={clearIndicator:Ky,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},control:function(t,e){var n=t.isDisabled,r=t.isFocused,i=t.theme,o=i.colors,a=i.borderRadius;return Sg({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:Yy,group:function(t,e){var n=t.theme.spacing;return e?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(t,e){var n=t.theme,r=n.colors,i=n.spacing;return Sg({label:"group",cursor:"default",display:"block"},e?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t,e){var n=t.isDisabled,r=t.theme,i=r.spacing.baseUnit,o=r.colors;return Sg({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(t,e){var n=t.isDisabled,r=t.value,i=t.theme,o=i.spacing,a=i.colors;return Sg(Sg({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},rv),e?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(t,e){var n=t.isFocused,r=t.size,i=t.theme,o=i.colors,a=i.spacing.baseUnit;return Sg({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},e?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:Fy,menu:function(t,e){var n,r=t.placement,i=t.theme,o=i.borderRadius,a=i.spacing,s=i.colors;return Sg((yt(n={label:"menu"},function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(r),"100%"),yt(n,"position","absolute"),yt(n,"width","100%"),yt(n,"zIndex",1),n),e?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(t,e){var n=t.maxHeight,r=t.theme.spacing.baseUnit;return Sg({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}},multiValue:function(t,e){var n=t.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return Sg({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(t,e){var n=t.theme,r=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return Sg({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(t,e){var n=t.theme,r=n.spacing,i=n.borderRadius,o=n.colors,a=t.isFocused;return Sg({alignItems:"center",display:"flex"},e?{}:{borderRadius:i/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:Ly,option:function(t,e){var n=t.isDisabled,r=t.isFocused,i=t.isSelected,o=t.theme,a=o.spacing,s=o.colors;return Sg({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:i?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?s.primary:s.primary50}})},placeholder:function(t,e){var n=t.theme,r=n.spacing,i=n.colors;return Sg({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(t,e){var n=t.isDisabled,r=t.theme,i=r.spacing,o=r.colors;return Sg({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(t,e){var n=t.theme.spacing,r=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Sg({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Vv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Wv={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ey(),captureMenuScroll:!Ey(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t,e){if(t.data.__isNew__)return!0;var n=Sg({ignoreCase:!0,ignoreAccents:!0,stringify:xv,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?wv(e):e,u=a?wv(o(t)):o(t);return r&&(l=l.toLowerCase(),u=u.toLowerCase()),i&&(l=_v(l),u=bv(u)),"start"===s?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(t){return t.label},getOptionLabel:zv,getOptionValue:Uv,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(t){return!!t.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Hv(t,e,n,r){return{type:"option",data:e,isDisabled:Kv(t,e,n),isSelected:Zv(t,e,n),label:Xv(t,e),value:Yv(t,e),index:r}}function Gv(t,e){return t.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return Hv(t,n,e,r)})).filter((function(e){return $v(t,e)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Hv(t,n,e,r);return $v(t,o)?o:void 0})).filter(Ry)}function qv(t){return t.reduce((function(t,e){return"group"===e.type?t.push.apply(t,Yt(e.options.map((function(t){return t.data})))):t.push(e.data),t}),[])}function $v(t,e){var n=t.inputValue,r=void 0===n?"":n,i=e.data,o=e.isSelected,a=e.label,s=e.value;return(!Jv(t)||!o)&&Qv(t,{label:a,value:s,data:i},r)}var Xv=function(t,e){return t.getOptionLabel(e)},Yv=function(t,e){return t.getOptionValue(e)};function Kv(t,e,n){return"function"==typeof t.isOptionDisabled&&t.isOptionDisabled(e,n)}function Zv(t,e,n){if(n.indexOf(e)>-1)return!0;if("function"==typeof t.isOptionSelected)return t.isOptionSelected(e,n);var r=Yv(t,e);return n.some((function(e){return Yv(t,e)===r}))}function Qv(t,e,n){return!t.filterOption||t.filterOption(e,n)}var Jv=function(t){var e=t.hideSelectedOptions,n=t.isMulti;return void 0===e?n:e},tb=1,eb=function(e){ft(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(r){var i=mt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return gt(this,t)});function o(t){var e;if(ut(this,o),(e=i.call(this,t)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},e.blockOptionHover=!1,e.isComposing=!1,e.commonProps=void 0,e.initialTouchX=0,e.initialTouchY=0,e.instancePrefix="",e.openAfterFocus=!1,e.scrollToFocusedOptionOnUpdate=!1,e.userIsDragging=void 0,e.controlRef=null,e.getControlRef=function(t){e.controlRef=t},e.focusedOptionRef=null,e.getFocusedOptionRef=function(t){e.focusedOptionRef=t},e.menuListRef=null,e.getMenuListRef=function(t){e.menuListRef=t},e.inputRef=null,e.getInputRef=function(t){e.inputRef=t},e.focus=e.focusInput,e.blur=e.blurInput,e.onChange=function(t,n){var r=e.props,i=r.onChange,o=r.name;n.name=o,e.ariaOnChange(t,n),i(t,n)},e.setValue=function(t,n,r){var i=e.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;e.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(e.setState({inputIsHiddenAfterUpdate:!a}),e.onMenuClose()),e.setState({clearFocusValueOnUpdate:!0}),e.onChange(t,{action:n,option:r})},e.selectOption=function(t){var n=e.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,a=e.state.selectValue,s=i&&e.isOptionSelected(t,a),l=e.isOptionDisabled(t,a);if(s){var u=e.getOptionValue(t);e.setValue(a.filter((function(t){return e.getOptionValue(t)!==u})),"deselect-option",t)}else{if(l)return void e.ariaOnChange(t,{action:"select-option",option:t,name:o});i?e.setValue([].concat(Yt(a),[t]),"select-option",t):e.setValue(t,"select-option")}r&&e.blurInput()},e.removeValue=function(t){var n=e.props.isMulti,r=e.state.selectValue,i=e.getOptionValue(t),o=r.filter((function(t){return e.getOptionValue(t)!==i})),a=Ty(n,o,o[0]||null);e.onChange(a,{action:"remove-value",removedValue:t}),e.focusInput()},e.clearValue=function(){var t=e.state.selectValue;e.onChange(Ty(e.props.isMulti,[],null),{action:"clear",removedValues:t})},e.popValue=function(){var t=e.props.isMulti,n=e.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=Ty(t,i,i[0]||null);e.onChange(o,{action:"pop-value",removedValue:r})},e.getValue=function(){return e.state.selectValue},e.cx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gy.apply(void 0,[e.props.classNamePrefix].concat(n))},e.getOptionLabel=function(t){return Xv(e.props,t)},e.getOptionValue=function(t){return Yv(e.props,t)},e.getStyles=function(t,n){var r=e.props.unstyled,i=Bv[t](n,r);i.boxSizing="border-box";var o=e.props.styles[t];return o?o(i,n):i},e.getClassNames=function(t,n){var r,i;return null===(r=(i=e.props.classNames)[t])||void 0===r?void 0:r.call(i,n)},e.getElementId=function(t){return"".concat(e.instancePrefix,"-").concat(t)},e.getComponents=function(){return t=e.props,Sg(Sg({},av),t.components);var t},e.buildCategorizedOptions=function(){return Gv(e.props,e.state.selectValue)},e.getCategorizedOptions=function(){return e.props.menuIsOpen?e.buildCategorizedOptions():[]},e.buildFocusableOptions=function(){return qv(e.buildCategorizedOptions())},e.getFocusableOptions=function(){return e.props.menuIsOpen?e.buildFocusableOptions():[]},e.ariaOnChange=function(t,n){e.setState({ariaSelection:Sg({value:t},n)})},e.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),e.focusInput())},e.onMenuMouseMove=function(t){e.blockOptionHover=!1},e.onControlMouseDown=function(t){if(!t.defaultPrevented){var n=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&e.onMenuClose():n&&e.openMenu("first"):(n&&(e.openAfterFocus=!0),e.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()}},e.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||e.props.isDisabled)){var n=e.props,r=n.isMulti,i=n.menuIsOpen;e.focusInput(),i?(e.setState({inputIsHiddenAfterUpdate:!r}),e.onMenuClose()):e.openMenu("first"),t.preventDefault()}},e.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(e.clearValue(),t.preventDefault(),e.openAfterFocus=!1,"touchend"===t.type?e.focusInput():setTimeout((function(){return e.focusInput()})))},e.onScroll=function(t){"boolean"==typeof e.props.closeMenuOnScroll?t.target instanceof HTMLElement&&by(t.target)&&e.props.onMenuClose():"function"==typeof e.props.closeMenuOnScroll&&e.props.closeMenuOnScroll(t)&&e.props.onMenuClose()},e.onCompositionStart=function(){e.isComposing=!0},e.onCompositionEnd=function(){e.isComposing=!1},e.onTouchStart=function(t){var n=t.touches,r=n&&n.item(0);r&&(e.initialTouchX=r.clientX,e.initialTouchY=r.clientY,e.userIsDragging=!1)},e.onTouchMove=function(t){var n=t.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-e.initialTouchX),o=Math.abs(r.clientY-e.initialTouchY);e.userIsDragging=i>5||o>5}},e.onTouchEnd=function(t){e.userIsDragging||(e.controlRef&&!e.controlRef.contains(t.target)&&e.menuListRef&&!e.menuListRef.contains(t.target)&&e.blurInput(),e.initialTouchX=0,e.initialTouchY=0)},e.onControlTouchEnd=function(t){e.userIsDragging||e.onControlMouseDown(t)},e.onClearIndicatorTouchEnd=function(t){e.userIsDragging||e.onClearIndicatorMouseDown(t)},e.onDropdownIndicatorTouchEnd=function(t){e.userIsDragging||e.onDropdownIndicatorMouseDown(t)},e.handleInputChange=function(t){var n=e.props.inputValue,r=t.currentTarget.value;e.setState({inputIsHiddenAfterUpdate:!1}),e.onInputChange(r,{action:"input-change",prevInputValue:n}),e.props.menuIsOpen||e.onMenuOpen()},e.onInputFocus=function(t){e.props.onFocus&&e.props.onFocus(t),e.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},e.onInputBlur=function(t){var n=e.props.inputValue;e.menuListRef&&e.menuListRef.contains(document.activeElement)?e.inputRef.focus():(e.props.onBlur&&e.props.onBlur(t),e.onInputChange("",{action:"input-blur",prevInputValue:n}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1}))},e.onOptionHover=function(t){e.blockOptionHover||e.state.focusedOption===t||e.setState({focusedOption:t})},e.shouldHideSelectedOptions=function(){return Jv(e.props)},e.onValueInputFocus=function(t){t.preventDefault(),t.stopPropagation(),e.focus()},e.onKeyDown=function(t){var n=e.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,l=n.isDisabled,u=n.menuIsOpen,c=n.onKeyDown,h=n.tabSelectsValue,d=n.openMenuOnFocus,p=e.state,f=p.focusedOption,g=p.focusedValue,m=p.selectValue;if(!(l||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(e.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||a)return;e.focusValue("previous");break;case"ArrowRight":if(!r||a)return;e.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)e.removeValue(g);else{if(!i)return;r?e.popValue():s&&e.clearValue()}break;case"Tab":if(e.isComposing)return;if(t.shiftKey||!u||!h||!f||d&&e.isOptionSelected(f,m))return;e.selectOption(f);break;case"Enter":if(229===t.keyCode)break;if(u){if(!f)return;if(e.isComposing)return;e.selectOption(f);break}return;case"Escape":u?(e.setState({inputIsHiddenAfterUpdate:!1}),e.onInputChange("",{action:"menu-close",prevInputValue:a}),e.onMenuClose()):s&&o&&e.clearValue();break;case" ":if(a)return;if(!u){e.openMenu("first");break}if(!f)return;e.selectOption(f);break;case"ArrowUp":u?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":u?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!u)return;e.focusOption("pageup");break;case"PageDown":if(!u)return;e.focusOption("pagedown");break;case"Home":if(!u)return;e.focusOption("first");break;case"End":if(!u)return;e.focusOption("last");break;default:return}t.preventDefault()}},e.instancePrefix="react-select-"+(e.props.instanceId||++tb),e.state.selectValue=my(t.value),t.menuIsOpen&&e.state.selectValue.length){var n=e.buildFocusableOptions(),r=n.indexOf(e.state.selectValue[0]);e.state.focusedOption=n[r]}return e}return ht(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Cy(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isDisabled,r=e.menuIsOpen,i=this.state.isFocused;(i&&!n&&t.isDisabled||i&&r&&!t.menuIsOpen)&&this.focusInput(),i&&n&&!t.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!t.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Cy(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===t?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return e.onMenuOpen()}))}},{key:"focusValue",value:function(t){var e=this.state,n=e.selectValue,r=e.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(t){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===t?i=o>0?o-1:r.length-1:"down"===t?i=(o+1)%r.length:"pageup"===t?(i=o-e)<0&&(i=0):"pagedown"===t?(i=o+e)>r.length-1&&(i=r.length-1):"last"===t&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Vv):Sg(Sg({},Vv),this.props.theme):Vv}},{key:"getCommonProps",value:function(){var t=this.clearValue,e=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,l=s.isMulti,u=s.isRtl,c=s.options;return{clearValue:t,cx:e,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable,n=t.isMulti;return void 0===e?n:e}},{key:"isOptionDisabled",value:function(t,e){return Kv(this.props,t,e)}},{key:"isOptionSelected",value:function(t,e){return Zv(this.props,t,e)}},{key:"filterOption",value:function(t,e){return Qv(this.props,t,e)}},{key:"formatOptionLabel",value:function(t,e){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:r})}return this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,l=e.menuIsOpen,u=e.required,c=this.getComponents().Input,h=this.state,d=h.inputIsHidden,p=h.ariaSelection,f=this.commonProps,g=i||this.getElementId("input"),m=Sg(Sg(Sg({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?t.createElement(c,ot({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:g,innerRef:this.getInputRef,isDisabled:n,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},m)):t.createElement(Cv,ot({id:g,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:py,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:s,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,o=n.MultiValueLabel,a=n.MultiValueRemove,s=n.SingleValue,l=n.Placeholder,u=this.commonProps,c=this.props,h=c.controlShouldRenderValue,d=c.isDisabled,p=c.isMulti,f=c.inputValue,g=c.placeholder,m=this.state,y=m.selectValue,v=m.focusedValue,b=m.isFocused;if(!this.hasValue()||!h)return f?null:t.createElement(l,ot({},u,{key:"placeholder",isDisabled:d,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),g);if(p)return y.map((function(n,s){var l=n===v,c="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(r,ot({},u,{components:{Container:i,Label:o,Remove:a},isFocused:l,isDisabled:d,key:c,index:s,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(t){t.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(f)return null;var _=y[0];return t.createElement(s,ot({},u,{data:_,isDisabled:d}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,ot({},n,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;return e&&o?t.createElement(e,ot({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return t.createElement(r,ot({},i,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,ot({},n,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,o=n.Menu,a=n.MenuList,s=n.MenuPortal,l=n.LoadingMessage,u=n.NoOptionsMessage,c=n.Option,h=this.commonProps,d=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,g=p.inputValue,m=p.isLoading,y=p.loadingMessage,v=p.minMenuHeight,b=p.maxMenuHeight,_=p.menuIsOpen,w=p.menuPlacement,x=p.menuPosition,S=p.menuPortalTarget,C=p.menuShouldBlockScroll,E=p.menuShouldScrollIntoView,P=p.noOptionsMessage,k=p.onMenuScrollToTop,O=p.onMenuScrollToBottom;if(!_)return null;var A,R=function(n,r){var i=n.type,o=n.data,a=n.isDisabled,s=n.isSelected,l=n.label,u=n.value,p=d===o,f=a?void 0:function(){return e.onOptionHover(o)},g=a?void 0:function(){return e.selectOption(o)},m="".concat(e.getElementId("option"),"-").concat(r),y={id:m,onClick:g,onMouseMove:f,onMouseOver:f,tabIndex:-1};return t.createElement(c,ot({},h,{innerProps:y,data:o,isDisabled:a,isSelected:s,key:m,label:l,type:i,value:u,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,a=n.options,s=n.index,l="".concat(e.getElementId("group"),"-").concat(s),u="".concat(l,"-heading");return t.createElement(r,ot({},h,{key:l,data:o,options:a,Heading:i,headingProps:{id:u,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(t){return R(t,"".concat(s,"-").concat(t.index))})))}if("option"===n.type)return R(n,"".concat(n.index))}));else if(m){var T=y({inputValue:g});if(null===T)return null;A=t.createElement(l,h,T)}else{var M=P({inputValue:g});if(null===M)return null;A=t.createElement(u,h,M)}var I={minMenuHeight:v,maxMenuHeight:b,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:E},D=t.createElement(Dy,ot({},h,I),(function(n){var r=n.ref,i=n.placerProps,s=i.placement,l=i.maxHeight;return t.createElement(o,ot({},h,I,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:m,placement:s}),t.createElement(Lv,{captureEnabled:f,onTopArrive:k,onBottomArrive:O,lockEnabled:C},(function(n){return t.createElement(a,ot({},h,{innerRef:function(t){e.getMenuListRef(t),n(t)},isLoading:m,maxHeight:l,focusedOption:d}),A)})))}));return S||"fixed"===x?t.createElement(s,ot({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),D):D}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,o=n.isMulti,a=n.name,s=n.required,l=this.state.selectValue;if(a&&!i){if(s&&!this.hasValue())return t.createElement(Nv,{name:a,onFocus:this.onValueInputFocus});if(o){if(r){var u=l.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:a,type:"hidden",value:u})}var c=l.length>0?l.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:a,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:a,type:"hidden",value:""});return t.createElement("div",null,c)}var h=l[0]?this.getOptionValue(l[0]):"";return t.createElement("input",{name:a,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,o=n.focusedValue,a=n.isFocused,s=n.selectValue,l=this.getFocusableOptions();return t.createElement(dv,ot({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,l=a.id,u=a.isDisabled,c=a.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return t.createElement(i,ot({},d,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:h}),this.renderLiveRegion(),t.createElement(n,ot({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:h,menuIsOpen:c}),t.createElement(o,ot({},d,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,ot({},d,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.prevProps,r=e.clearFocusValueOnUpdate,i=e.inputIsHiddenAfterUpdate,o=e.ariaSelection,a=e.isFocused,s=e.prevWasFocused,l=t.options,u=t.value,c=t.menuIsOpen,h=t.inputValue,d=t.isMulti,p=my(u),f={};if(n&&(u!==n.value||l!==n.options||c!==n.menuIsOpen||h!==n.inputValue)){var g=c?function(t,e){return qv(Gv(t,e))}(t,p):[],m=r?function(t,e){var n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}(e,p):null,y=function(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}(e,g);f={selectValue:p,focusedOption:y,focusedValue:m,clearFocusValueOnUpdate:!1}}var v=null!=i&&t!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},b=o,_=a&&s;return a&&!_&&(b={value:Ty(d,p,p[0]||null),options:p,action:"initial-input-focus"},_=!s),"initial-input-focus"===(null==o?void 0:o.action)&&(b=null),Sg(Sg(Sg({},f),v),{},{prevProps:t,ariaSelection:b,prevWasFocused:_})}}]),o}(t.Component);eb.defaultProps=Wv;const nb=(0,t.forwardRef)((function(e,n){var r=Eg(e);return t.createElement(eb,ot({ref:n},r))}));var rb=__webpack_require__(8403),ib=__webpack_require__.n(rb);function ob(t){return ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(t)}function ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sb(t,e)}function lb(t,e){if(e&&("object"===ob(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ub(t)}function ub(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cb(t){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cb(t)}function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function db(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hb(Object(n),!0).forEach((function(e){pb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fb={container:function(t,e){return db(db({},t),{},{padding:0,height:"fit-content",zIndex:5})},control:function(t,e){return db(db({},t),{},{borderWidth:0,minHeight:"fit-content",height:"fit-content"})},singleValue:function(t,e){return db(db({},t),{},{top:"45%"})},placeholder:function(t,e){return db(db({},t),{},{top:"45%"})},menuPortal:function(t,e){return db(db({},t),{},{zIndex:4})},indicatorsContainer:function(t,e){return db(db({},t),{},{height:"29px"})},input:function(t,e){return db(db({},t),{},{height:"21px"})},option:function(t,e){return db(db({},t),{},{paddingLeft:"20px"})}},gb={value:"me",label:"Me"},mb={value:"all",label:"All Class Members"},yb=function(t,e){if(window.MediaThread&&t===window.MediaThread.current_username)return gb;if("all"===t)return mb;var n=a()(e,(function(e){return e.username===t}));return n?{value:n.username,label:n.public_name}:null},vb=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cb(i);if(o){var n=cb(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lb(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).handleOwnerChange=e.handleOwnerChange.bind(ub(e)),e.handleTagsChange=e.handleTagsChange.bind(ub(e)),e.handleTermsChange=e.handleTermsChange.bind(ub(e)),e.handleTitleChange=e.handleTitleChange.bind(ub(e)),e.handleTitleSearch=e.handleTitleSearch.bind(ub(e)),e.handleTitleFilterSearch=e.handleTitleFilterSearch.bind(ub(e)),e.handleDateChange=e.handleDateChange.bind(ub(e)),e}return n=s,r=[{key:"handleTagsChange",value:function(t){this.props.onUpdateFilter({tags:t})}},{key:"handleTermsChange",value:function(t){this.props.onUpdateFilter({terms:t})}},{key:"handleTitleSearch",value:function(t){"Enter"===t.key&&this.handleTitleFilterSearch()}},{key:"handleTitleFilterSearch",value:function(){this.filterItems(T(this.props))}},{key:"handleTitleChange",value:function(t){var e=t.target.value.toLowerCase();this.props.onUpdateFilter({title:e})}},{key:"handleOwnerChange",value:function(t){var e=t.value;"me"===e&&(e=window.MediaThread.current_username),this.props.onUpdateFilter({owner:e})}},{key:"handleDateChange",value:function(t){this.setState({date:t.value}),this.props.onUpdateFilter({date:t.value})}},{key:"filterItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.onUpdateItems(null);var e=this;c(t.title,t.owner,t.tags,t.terms,t.date,this.props.currentPage*l).then((function(t){e.props.onUpdateItems(t.assets,t.asset_count,t.active_tags,t.active_vocabulary),e.props.updatePageCount(t.asset_count)}),(function(t){console.error("asset get error!",t)}))}},{key:"componentDidUpdate",value:function(t){t.items!==this.props.items&&this.setState({filteredItems:this.props.items}),t.owner===this.props.owner&&t.tags===this.props.tags&&t.terms===this.props.terms&&t.date===this.props.date||this.filterItems(T(this.props))}},{key:"getOwnersOptions",value:function(){var t=[gb,mb];return this.props.owners&&this.props.owners.forEach((function(e){if(e.id===window.MediaThread.current_user)return!1;var n={label:e.public_name,value:e.username};t.push(n)})),t}},{key:"render",value:function(){var e,n=O(this.props.allTags),r=A(this.props.allTerms),i=(Math.random()+1).toString(36).substring(7),o="ownerFilter-".concat(i),a="termFilter-".concat(i),s="tagFilter-".concat(i),l="dateFilter-".concat(i),u="searchFilter-".concat(i);return t.createElement(t.Fragment,null,t.createElement("form",{id:"search-well"},t.createElement("div",{className:"form-row"},t.createElement("div",{className:"form-group col-md-3"},t.createElement("label",{htmlFor:u},"Title"),t.createElement("div",{className:"input-group mb-3"},t.createElement("input",{id:u,type:"text",className:"form-control form-control-sm",placeholder:"Search for...",onChange:this.handleTitleChange,onKeyDown:this.handleTitleSearch,value:this.props.title||""}),t.createElement("div",{className:"input-group-append"},t.createElement("a",{href:"#",className:"btn btn-secondary btn-sm",type:"button",onClick:this.handleTitleFilterSearch},"Search")))),t.createElement("div",{className:"form-group col-md-2"},t.createElement("label",{htmlFor:o},"Owner"),t.createElement(nb,{id:"ownerFilter",inputId:o,menuPortalTarget:document.body,styles:fb,menuContainerStyle:{zIndex:5},className:"react-select form-control form-control-sm",onChange:this.handleOwnerChange,value:yb(this.props.owner,this.props.owners),options:this.getOwnersOptions()})),t.createElement("div",{className:"form-group col-md-2"},t.createElement("label",{htmlFor:s},"Tag"),t.createElement(nb,{id:"tagFilter",inputId:s,menuPortalTarget:document.body,styles:fb,className:"react-select form-control form-control-sm",onChange:this.handleTagsChange,value:this.props.tags,isMulti:!0,options:n})),window.MediaThread&&window.MediaThread.current_course_has_vocab&&t.createElement("div",{className:"form-group col-md-2"},t.createElement("label",{htmlFor:a},"Course Vocabulary"),t.createElement(nb,{id:"termFilter",inputId:a,menuPortalTarget:document.body,styles:fb,className:"react-select form-control form-control-sm",onChange:this.handleTermsChange,value:this.props.terms,isMulti:!0,formatGroupLabel:function(e){return t.createElement("div",{className:"font-weight-bold"},t.createElement("span",null,e.label))},options:r})),t.createElement("div",{className:"form-group col-md-2"},t.createElement("label",{htmlFor:l},"Date"),t.createElement(nb,{id:"filterDate",inputId:l,menuPortalTarget:document.body,styles:fb,className:"react-select form-control form-control-sm",onChange:this.handleDateChange,defaultValue:{value:"all",label:"All"},value:(e=this.props.date,"lastweek"===e?{value:e,label:"Within the last week"}:{value:e,label:ib()(e)}),options:[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"lastweek",label:"Within the last week"}]})),t.createElement("div",{className:"form-group col-md-1"},t.createElement("label",{htmlFor:"clear-button",className:"sr-only"},"Clear"),t.createElement("div",{className:"input-group mb-3",style:{marginTop:"32px"}},t.createElement("a",{href:"#",className:"btn btn-secondary btn-sm btn-block",id:"clear-button",type:"button",onClick:this.props.onClearFilter},"Clear"))))))}}],r&&ab(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);vb.propTypes={items:D().array,itemCount:D().number,owners:D().array,currentPage:D().number.isRequired,updatePageCount:D().func.isRequired,allTags:D().array,allTerms:D().array,onUpdateItems:D().func.isRequired,onUpdateFilter:D().func.isRequired,onClearFilter:D().func.isRequired,owner:D().string,title:D().string,tags:D().array,terms:D().array,date:D().string};var bb=__webpack_require__(2004),_b=__webpack_require__(4184),wb=__webpack_require__.n(_b);function xb(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Sb(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function Cb(e,n){return Object.keys(n).reduce((function(r,i){var o,a=r,s=a[xb(i)],l=a[i],u=at(a,[xb(i),i].map(Sb)),c=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),a=o[0],s=o[1],l=void 0!==e,u=i.current;return i.current=l,!l&&u&&a!==n&&s(n),[l?e:a,(0,t.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[t].concat(n)),s(t)}),[r])]}(l,s,e[c]),d=h[0],p=h[1];return ot({},u,((o={})[i]=d,o[c]=p,o))}),e)}__webpack_require__(1143);function Eb(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Pb=void 0!==__webpack_require__.g&&__webpack_require__.g.navigator&&"ReactNative"===__webpack_require__.g.navigator.product;"undefined"!=typeof document||Pb?t.useLayoutEffect:t.useEffect,new WeakMap;var kb=__webpack_require__(5893);const Ob=["as","disabled"];function Ab({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:a,tabIndex:s=0,type:l}){t||(t=null!=n||null!=r||null!=i?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:e},u];const c=r=>{(e||"a"===t&&function(t){return!t||"#"===t.trim()}(n))&&r.preventDefault(),e?r.stopPropagation():null==a||a(r)};return"a"===t&&(n||(n="#"),e&&(n=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:e?void 0:s,href:n,target:"a"===t?r:void 0,"aria-disabled":e||void 0,rel:"a"===t?i:void 0,onClick:c,onKeyDown:t=>{" "===t.key&&(t.preventDefault(),c(t))}},u]}const Rb=t.forwardRef(((t,e)=>{let{as:n,disabled:r}=t,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Ob);const[o,{tagName:a}]=Ab(Object.assign({tagName:n,disabled:r},i));return(0,kb.jsx)(a,Object.assign({},i,o,{ref:e}))}));Rb.displayName="Button";const Tb=Rb,Mb=["onKeyDown"],Ib=t.forwardRef(((t,e)=>{let{onKeyDown:n}=t,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Mb);const[i]=Ab(Object.assign({tagName:"a"},r)),o=Eb((t=>{i.onKeyDown(t),null==n||n(t)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,kb.jsx)("a",Object.assign({ref:e},r,{onKeyDown:n})):(0,kb.jsx)("a",Object.assign({ref:e},r,i,{onKeyDown:o}));var a}));Ib.displayName="Anchor";const Db=Ib,jb=t.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:Lb,Provider:Fb}=jb;function Nb(e,n){const{prefixes:r}=(0,t.useContext)(jb);return e||r[n]||n}const zb=t.createContext(null);var Ub="unmounted",Bb="exited",Vb="entering",Wb="entered",Hb="exiting",Gb=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Bb,r.appearStatus=Vb):i=Wb:i=t.unmountOnExit||t.mountOnEnter?Ub:Bb,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,pt(n,r),i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Ub?{status:Bb}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Vb&&n!==Wb&&(e=Vb):n!==Vb&&n!==Wb||(e=Hb)}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},o.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===Vb){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Qm.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bb&&this.setState({status:Ub})},o.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[Qm.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;t||n?(this.props.onEnter(o,a),this.safeSetState({status:Vb},(function(){e.props.onEntering(o,a),e.onTransitionEnd(l,(function(){e.safeSetState({status:Wb},(function(){e.props.onEntered(o,a)}))}))}))):this.safeSetState({status:Wb},(function(){e.props.onEntered(o)}))},o.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Qm.findDOMNode(this);e?(this.props.onExit(r),this.safeSetState({status:Hb},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Bb},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:Bb},(function(){t.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},o.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:Qm.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Ub)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,at(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(zb.Provider,{value:null},"function"==typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function qb(){}Gb.contextType=zb,Gb.propTypes={},Gb.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qb,onEntering:qb,onEntered:qb,onExit:qb,onExiting:qb,onExited:qb},Gb.UNMOUNTED=Ub,Gb.EXITED=Bb,Gb.ENTERING=Vb,Gb.ENTERED=Wb,Gb.EXITING=Hb;const $b=Gb;function Xb(t){return t&&t.ownerDocument||document}var Yb=/([A-Z])/g,Kb=/^ms-/;function Zb(t){return function(t){return t.replace(Yb,"-$1").toLowerCase()}(t).replace(Kb,"-ms-")}var Qb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Jb=function(t,e){var n="",r="";if("string"==typeof e)return t.style.getPropertyValue(Zb(e))||function(t,e){return function(t){var e=Xb(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(Zb(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?function(t){return!(!t||!Qb.test(t))}(i)?r+=i+"("+o+") ":n+=Zb(i)+": "+o+";":t.style.removeProperty(Zb(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n},t_=!("undefined"==typeof window||!window.document||!window.document.createElement);var e_=!1,n_=!1;try{var r_={get passive(){return e_=!0},get once(){return n_=e_=!0}};t_&&(window.addEventListener("test",r_,r_),window.removeEventListener("test",r_,!0))}catch(t){}const i_=function(t,e,n,r){if(r&&"boolean"!=typeof r&&!n_){var i=r.once,o=r.capture,a=n;!n_&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,e_?r:o)}t.addEventListener(e,n,r)},o_=function(t,e,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)},a_=function(t,e,n,r){return i_(t,e,n,r),function(){o_(t,e,n,r)}};function s_(t,e,n,r){null==n&&(n=function(t){var e=Jb(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var i=function(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent("transitionend",n,r),t.dispatchEvent(i)}}(t,0,!0)}),e+n),o=a_(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}(t,n,r),o=a_(t,"transitionend",e);return function(){i(),o()}}function l_(t,e){const n=Jb(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function u_(t,e){const n=l_(t,"transitionDuration"),r=l_(t,"transitionDelay"),i=s_(t,(n=>{n.target===t&&(i(),e(n))}),n+r)}var c_=function(t){return t&&"function"!=typeof t?function(e){t.current=e}:t};const h_=function(e,n){return(0,t.useMemo)((function(){return function(t,e){var n=c_(t),r=c_(e);return function(t){n&&n(t),r&&r(t)}}(e,n)}),[e,n])},d_=t.forwardRef((({onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:a,addEndListener:s,children:l,childRef:u,...c},h)=>{const d=(0,t.useRef)(null),p=h_(d,u),f=t=>{var e;p((e=t)&&"setState"in e?Qm.findDOMNode(e):null!=e?e:null)},g=t=>e=>{t&&d.current&&t(d.current,e)},m=(0,t.useCallback)(g(e),[e]),y=(0,t.useCallback)(g(n),[n]),v=(0,t.useCallback)(g(r),[r]),b=(0,t.useCallback)(g(i),[i]),_=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(a),[a]),x=(0,t.useCallback)(g(s),[s]);return(0,kb.jsx)($b,{ref:h,...c,onEnter:m,onEntered:v,onEntering:y,onExit:b,onExited:w,onExiting:_,addEndListener:x,nodeRef:d,children:"function"==typeof l?(t,e)=>l(t,{...e,ref:f}):t.cloneElement(l,{ref:f})})})),p_=d_,f_={[Vb]:"show",[Wb]:"show"},g_=t.forwardRef((({className:e,children:n,transitionClasses:r={},...i},o)=>{const a=(0,t.useCallback)(((t,e)=>{!function(t){t.offsetHeight}(t),null==i.onEnter||i.onEnter(t,e)}),[i]);return(0,kb.jsx)(p_,{ref:o,addEndListener:u_,...i,onEnter:a,childRef:n.ref,children:(i,o)=>t.cloneElement(n,{...o,className:wb()("fade",e,n.props.className,f_[i],r[i])})})}));g_.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},g_.displayName="Fade";const m_=g_,y_={"aria-label":D().string,onClick:D().func,variant:D().oneOf(["white"])},v_=t.forwardRef((({className:t,variant:e,...n},r)=>(0,kb.jsx)("button",{ref:r,type:"button",className:wb()("btn-close",e&&`btn-close-${e}`,t),...n})));v_.displayName="CloseButton",v_.propTypes=y_,v_.defaultProps={"aria-label":"Close"};const b_=v_,__=e=>t.forwardRef(((t,n)=>(0,kb.jsx)("div",{...t,ref:n,className:wb()(t.className,e)})));var w_=/-(.)/g;const x_=t=>{return t[0].toUpperCase()+(e=t,e.replace(w_,(function(t,e){return e.toUpperCase()}))).slice(1);var e};function S_(e,{displayName:n=x_(e),Component:r,defaultProps:i}={}){const o=t.forwardRef((({className:t,bsPrefix:n,as:i=r||"div",...o},a)=>{const s=Nb(n,e);return(0,kb.jsx)(i,{ref:a,className:wb()(t,s),...o})}));return o.defaultProps=i,o.displayName=n,o}const C_=__("h4");C_.displayName="DivStyledAsH4";const E_=S_("alert-heading",{Component:C_}),P_=S_("alert-link",{Component:Db}),k_={variant:"primary",show:!0,transition:m_,closeLabel:"Close alert"},O_=t.forwardRef(((t,e)=>{const{bsPrefix:n,show:r,closeLabel:i,closeVariant:o,className:a,children:s,variant:l,onClose:u,dismissible:c,transition:h,...d}=Cb(t,{show:"onClose"}),p=Nb(n,"alert"),f=Eb((t=>{u&&u(!1,t)})),g=!0===h?m_:h,m=(0,kb.jsxs)("div",{role:"alert",...g?void 0:d,ref:e,className:wb()(a,p,l&&`${p}-${l}`,c&&`${p}-dismissible`),children:[c&&(0,kb.jsx)(b_,{onClick:f,"aria-label":i,variant:o}),s]});return g?(0,kb.jsx)(g,{unmountOnExit:!0,...d,ref:void 0,in:r,children:m}):r?m:null}));O_.displayName="Alert",O_.defaultProps=k_;const A_=Object.assign(O_,{Link:P_,Heading:E_});__webpack_require__(4391);var R_=Function.prototype.bind.call(Function.prototype.call,[].slice);function T_(t,e){return R_(t.querySelectorAll(e))}const M_=t.createContext(null);M_.displayName="NavContext";const I_=M_,D_=(t,e=null)=>null!=t?String(t):e||null,j_=t.createContext(null),L_=t.createContext(null);function F_(t){return`data-rr-ui-${t}`}const N_=["as","active","eventKey"];function z_({key:e,onClick:n,active:r,id:i,role:o,disabled:a}){const s=(0,t.useContext)(j_),l=(0,t.useContext)(I_),u=(0,t.useContext)(L_);let c=r;const h={role:o};if(l){o||"tablist"!==l.role||(h.role="tab");const t=l.getControllerId(null!=e?e:null),n=l.getControlledId(null!=e?e:null);h[F_("event-key")]=e,h.id=t||i,c=null==r&&null!=e?l.activeKey===e:r,!c&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=n)}return"tab"===h.role&&(h["aria-selected"]=c,c||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Eb((t=>{a||(null==n||n(t),null!=e&&s&&!t.isPropagationStopped()&&s(e,t))})),[h,{isActive:c}]}const U_=t.forwardRef(((t,e)=>{let{as:n=Tb,active:r,eventKey:i}=t,o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,N_);const[a,s]=z_(Object.assign({key:D_(i,o.href),active:r},o));return a[F_("active")]=s.isActive,(0,kb.jsx)(n,Object.assign({},o,a,{ref:e}))}));U_.displayName="NavItem";const B_=U_,V_=["as","onSelect","activeKey","role","onKeyDown"],W_=()=>{},H_=F_("event-key"),G_=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:o,role:a,onKeyDown:s}=e,l=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,V_);const u=(0,t.useReducer)((function(t){return!t}),!1)[1],c=(0,t.useRef)(!1),h=(0,t.useContext)(j_),d=(0,t.useContext)(L_);let p,f;d&&(a=a||"tablist",o=d.activeKey,p=d.getControlledId,f=d.getControllerId);const g=(0,t.useRef)(null),m=t=>{const e=g.current;if(!e)return null;const n=T_(e,`[${H_}]:not([aria-disabled=true])`),r=e.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+t;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=(t,e)=>{null!=t&&(null==i||i(t,e),null==h||h(t,e))};(0,t.useEffect)((()=>{if(g.current&&c.current){const t=g.current.querySelector(`[${H_}][aria-selected=true]`);null==t||t.focus()}c.current=!1}));const v=h_(n,g);return(0,kb.jsx)(j_.Provider,{value:y,children:(0,kb.jsx)(I_.Provider,{value:{role:a,activeKey:D_(o),getControlledId:p||W_,getControllerId:f||W_},children:(0,kb.jsx)(r,Object.assign({},l,{onKeyDown:t=>{if(null==s||s(t),!d)return;let e;switch(t.key){case"ArrowLeft":case"ArrowUp":e=m(-1);break;case"ArrowRight":case"ArrowDown":e=m(1);break;default:return}e&&(t.preventDefault(),y(e.dataset[("EventKey","rrUiEventKey")]||null,t),c.current=!0,u())},ref:v,role:a}))})})}));G_.displayName="Nav";const q_=Object.assign(G_,{Item:B_}),$_=t.createContext(null);$_.displayName="NavbarContext";const X_=$_,Y_=t.createContext(null);Y_.displayName="CardHeaderContext";const K_=Y_,Z_=S_("nav-item"),Q_=t.forwardRef((({bsPrefix:t,className:e,as:n=Db,active:r,eventKey:i,...o},a)=>{t=Nb(t,"nav-link");const[s,l]=z_({key:D_(i,o.href),active:r,...o});return(0,kb.jsx)(n,{...o,...s,ref:a,className:wb()(e,t,o.disabled&&"disabled",l.isActive&&"active")})}));Q_.displayName="NavLink",Q_.defaultProps={disabled:!1};const J_=Q_,tw=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:o,fill:a,justify:s,navbar:l,navbarScroll:u,className:c,activeKey:h,...d}=Cb(e,{activeKey:"onSelect"}),p=Nb(i,"nav");let f,g,m=!1;const y=(0,t.useContext)(X_),v=(0,t.useContext)(K_);return y?(f=y.bsPrefix,m=null==l||l):v&&({cardHeaderBsPrefix:g}=v),(0,kb.jsx)(q_,{as:r,ref:n,activeKey:h,className:wb()(c,{[p]:!m,[`${f}-nav`]:m,[`${f}-nav-scroll`]:m&&u,[`${g}-${o}`]:!!g,[`${p}-${o}`]:!!o,[`${p}-fill`]:a,[`${p}-justified`]:s}),...d})}));tw.displayName="Nav",tw.defaultProps={justify:!1,fill:!1};const ew=Object.assign(tw,{Item:Z_,Link:J_});var nw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rw=function(t){function e(e,n,r){var i=t.call(this)||this;if(void 0!==r&&void 0===n)i.setFlatCoordinates(r,e);else{var o=n||0;i.setCenterAndRadius(e,o,r)}return i}return nw(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=t-i[0],a=e-i[1],s=o*o+a*a;if(s<r){if(0===s)for(var l=0;l<this.stride;++l)n[l]=i[l];else{var u=this.getRadius()/Math.sqrt(s);for(n[0]=i[0]+u*o,n[1]=i[1]+u*a,l=2;l<this.stride;++l)n[l]=i[l]}return n.length=this.stride,s}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Sn(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return"Circle"},e.prototype.intersectsExtent=function(t){if(Bn(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||Tn(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=ja(r,0,t,this.stride);r[i++]=r[0]+e;for(var o=1,a=this.stride;o<a;++o)r[i++]=r[o];r.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(_a(n,0,n.length,r,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(wa(n,0,n.length,r,t,e,n)),this.changed()},e}(Aa);rw.prototype.transform;const iw=rw;var ow=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aw="Point",sw="LineString",lw="Polygon",uw="Circle",cw="drawstart",hw=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return ow(e,t),e}(sr),dw=function(t){function e(e){var n=this,r=e;r.stopDown||(r.stopDown=qe),(n=t.call(this,r)||this).on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=function(t){switch(t){case"Point":case"MultiPoint":return aw;case"LineString":case"MultiLineString":return sw;case"Polygon":case"MultiPolygon":return lw;case"Circle":return uw;default:throw new Error("Invalid type: "+t)}}(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===lw?3:2,n.maxPoints_=n.mode_===uw?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:Ge,n.geometryLayout_=e.geometryLayout?e.geometryLayout:ma;var i,o=e.geometryFunction;if(!o){var a,s=n.mode_;s===uw?o=function(t,e,n){var r,i,o,a,s=e||new iw([NaN,NaN]),l=na(t[0]),u=(r=l,i=na(t[t.length-1]),o=r[0]-i[0],a=r[1]-i[1],o*o+a*a);s.setCenterAndRadius(l,Math.sqrt(u),this.geometryLayout_);var c=ta();return c&&s.transform(n,c),s}:(s===aw?a=Qa:s===sw?a=Xf:s===lw&&(a=ps),o=function(t,e,n){return e?s===lw?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])],this.geometryLayout_):e.setCoordinates([],this.geometryLayout_):e.setCoordinates(t,this.geometryLayout_):e=new a(t,this.geometryLayout_),e})}return n.geometryFunction_=o,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new fh({source:new Ch({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=Ku(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:rl,n.freehandCondition_,e.freehand?n.freehandCondition_=el:n.freehandCondition_=e.freehandCondition?e.freehandCondition:il,n.addChangeListener(Us,n.updateState_),n}return ow(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===mr&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==aw&&this.freehandCondition_(e);var n=e.type===Qi.POINTERMOVE,r=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Qi.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Qi.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===Qi.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=e.type===Qi.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Qi.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===Qi.DBLCLICK&&(r=!1),t.prototype.handleEvent.call(this,e)&&r},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Zi(Qi.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&this.mode_!==aw||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,r=e[0]-n[0],i=e[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_],i=this.mode_;if(i===aw)e=!0;else if(i===uw)e=2===this.sketchCoords_.length;else if(i===sw)n=this.sketchCoords_.length>this.minPoints_;else if(i===lw){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,r=[o[0][0],o[0][o[0].length-2]]}if(n)for(var a=this.getMap(),s=0,l=r.length;s<l;s++){var u=r[s],c=a.getPixelFromCoordinate(u),h=t[0]-c[0],d=t[1]-c[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+d*d)<=p){this.finishCoordinate_=u;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new Df(new Qa(t)),this.updateSketchFeatures_())},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Df);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new Xf(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){for(var e=this.getMap().getView().getProjection(),n=Oa(this.geometryLayout_);t.length<n;)t.push(0);this.finishCoordinate_=t,this.mode_===aw?this.sketchCoords_=t.slice():this.mode_===lw?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Df(new Xf(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Df,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new hw(cw,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){for(var e,n,r=this.getMap(),i=this.sketchFeature_.getGeometry(),o=r.getView().getProjection(),a=Oa(this.geometryLayout_);t.length<a;)t.push(0);this.mode_===aw?n=this.sketchCoords_:this.mode_===lw?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),"Polygon"===i.getType()&&this.mode_!==lw?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,r=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o=this.mode_;o===sw||o===uw?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,r,i)):o===lw&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;if(r===sw||r===uw){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var i=this.finishCoordinate_.slice();t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(r===lw){(t=this.sketchCoords_[0]).splice(-2,1);var o=this.sketchLine_.getGeometry();t.length>=2&&(i=t[t.length-2].slice(),t[t.length-1]=i,this.createOrUpdateSketchPoint_(i)),o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===sw?(e.pop(),this.geometryFunction_(e,n,r)):this.mode_===lw&&(e[0].pop(),this.geometryFunction_(e,n,r),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new tg([e])):"MultiLineString"===this.type_?t.setGeometry(new Zf([e])):"MultiPolygon"===this.type_&&t.setGeometry(new rg([e])),this.dispatchEvent(new hw("drawend",t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new hw("drawabort",t))},e.prototype.appendCoordinates=function(t){var e,n=this.mode_,r=!this.sketchFeature_;if(r&&this.startDrawing_(t[0]),n===sw||n===uw)e=this.sketchCoords_;else{if(n!==lw)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}r&&e.shift(),e.pop();for(var i=0;i<t.length;i++)this.addToDrawing_(t[i]);var o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Df(new Qa(n)),this.updateSketchFeatures_(),this.dispatchEvent(new hw(cw,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(Zs);const pw=dw;var fw=function(t){function e(e){var n=e||{},r=document.createElement("button");r.setAttribute("aria-label","center image button"),r.innerHTML='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 432.2 432.2"><defs><style>.cls-1{fill:#fff;}</style></defs><circle class="cls-1" cx="388.29" cy="295.08" r="54.25" transform="translate(-214.44 -12.98) rotate(-9.22)"/><path class="cls-1" d="M575.51,266.21H544.45A159.23,159.23,0,0,0,417.16,138.92V107.86A28.88,28.88,0,0,0,388.28,79h0a28.87,28.87,0,0,0-28.87,28.88v31.06A159.23,159.23,0,0,0,232.13,266.21H201.07a28.88,28.88,0,1,0,0,57.75h31.06A159.22,159.22,0,0,0,359.41,451.24v31.07a28.87,28.87,0,0,0,28.87,28.87h0a28.88,28.88,0,0,0,28.88-28.87V451.25A159.23,159.23,0,0,0,544.45,324h31.06a28.88,28.88,0,1,0,0-57.75ZM417.16,412.37v-6.14a28.88,28.88,0,0,0-28.88-28.88h0a28.87,28.87,0,0,0-28.87,28.88v6.13A121.2,121.2,0,0,1,271,324h6.14a28.88,28.88,0,0,0,0-57.75H271a121.23,121.23,0,0,1,88.4-88.41v6.14a28.86,28.86,0,0,0,28.87,28.87h0a28.87,28.87,0,0,0,28.88-28.87V177.8a121.21,121.21,0,0,1,88.41,88.41h-6.14a28.88,28.88,0,0,0,0,57.75h6.14A121.22,121.22,0,0,1,417.16,412.37Z" transform="translate(-172.19 -78.98)"/></svg>';var i=document.createElement("div");i.className="center-btn ol-unselectable ol-control",i.appendChild(r),t.call(this,{element:i,target:n.target}),this.handleCenter&&r.addEventListener("click",this.handleCenter.bind(this),!1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rs),gw=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],mw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(n.getOptionValue(e)).toLowerCase(),o=String(n.getOptionLabel(e)).toLowerCase();return i===r||o===r},yw={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,e,n,r){return!(!t||e.some((function(e){return mw(t,e,r)}))||n.some((function(e){return mw(t,e,r)})))},getNewOptionData:function(t,e){return{label:e,value:t,__isNew__:!0}}},vw=(0,t.forwardRef)((function(e,n){var r=function(e){var n=e.allowCreateWhileLoading,r=void 0!==n&&n,i=e.createOptionPosition,o=void 0===i?"last":i,a=e.formatCreateLabel,s=void 0===a?yw.formatCreateLabel:a,l=e.isValidNewOption,u=void 0===l?yw.isValidNewOption:l,c=e.getNewOptionData,h=void 0===c?yw.getNewOptionData:c,d=e.onCreateOption,p=e.options,f=void 0===p?[]:p,g=e.onChange,m=st(e,gw),y=m.getOptionValue,v=void 0===y?Uv:y,b=m.getOptionLabel,_=void 0===b?zv:b,w=m.inputValue,x=m.isLoading,S=m.isMulti,C=m.value,E=m.name,P=(0,t.useMemo)((function(){return u(w,my(C),f,{getOptionValue:v,getOptionLabel:_})?h(w,s(w)):void 0}),[s,h,_,v,w,u,f,C]),k=(0,t.useMemo)((function(){return!r&&x||!P?f:"first"===o?[P].concat(Yt(f)):[].concat(Yt(f),[P])}),[r,o,x,P,f]),O=(0,t.useCallback)((function(t,e){if("select-option"!==e.action)return g(t,e);var n=Array.isArray(t)?t:[t];if(n[n.length-1]!==P)g(t,e);else if(d)d(w);else{var r=h(w,w),i={action:"create-option",name:E,option:r};g(Ty(S,[].concat(Yt(my(C)),[r]),r),i)}}),[h,w,S,E,P,d,g,C]);return Sg(Sg({},m),{},{options:k,onChange:O})}(Eg(e));return t.createElement(eb,ot({ref:n},r))}));const bw=vw,_w=t.forwardRef((({as:t,bsPrefix:e,variant:n,size:r,active:i,className:o,...a},s)=>{const l=Nb(e,"btn"),[u,{tagName:c}]=Ab({tagName:t,...a}),h=c;return(0,kb.jsx)(h,{...u,...a,ref:s,className:wb()(o,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,a.href&&a.disabled&&"disabled")})}));_w.displayName="Button",_w.defaultProps={variant:"primary",active:!1,disabled:!1};const ww=_w,xw={type:D().string,tooltip:D().bool,as:D().elementType},Sw=t.forwardRef((({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>(0,kb.jsx)(t,{...i,ref:o,className:wb()(e,`${n}-${r?"tooltip":"feedback"}`)})));Sw.displayName="Feedback",Sw.propTypes=xw;const Cw=Sw,Ew=t.createContext({}),Pw=t.forwardRef((({id:e,bsPrefix:n,className:r,type:i="checkbox",isValid:o=!1,isInvalid:a=!1,as:s="input",...l},u)=>{const{controlId:c}=(0,t.useContext)(Ew);return n=Nb(n,"form-check-input"),(0,kb.jsx)(s,{...l,ref:u,type:i,id:e||c,className:wb()(r,n,o&&"is-valid",a&&"is-invalid")})}));Pw.displayName="FormCheckInput";const kw=Pw,Ow=t.forwardRef((({bsPrefix:e,className:n,htmlFor:r,...i},o)=>{const{controlId:a}=(0,t.useContext)(Ew);return e=Nb(e,"form-check-label"),(0,kb.jsx)("label",{...i,ref:o,htmlFor:r||a,className:wb()(n,e)})}));Ow.displayName="FormCheckLabel";const Aw=Ow,Rw=t.forwardRef((({id:e,bsPrefix:n,bsSwitchPrefix:r,inline:i=!1,reverse:o=!1,disabled:a=!1,isValid:s=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:h,className:d,style:p,title:f="",type:g="checkbox",label:m,children:y,as:v="input",...b},_)=>{n=Nb(n,"form-check"),r=Nb(r,"form-switch");const{controlId:w}=(0,t.useContext)(Ew),x=(0,t.useMemo)((()=>({controlId:e||w})),[w,e]),S=!y&&null!=m&&!1!==m||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(y,Aw),C=(0,kb.jsx)(kw,{...b,type:"switch"===g?"checkbox":g,ref:_,isValid:s,isInvalid:l,disabled:a,as:v});return(0,kb.jsx)(Ew.Provider,{value:x,children:(0,kb.jsx)("div",{style:p,className:wb()(d,S&&n,i&&`${n}-inline`,o&&`${n}-reverse`,"switch"===g&&r),children:y||(0,kb.jsxs)(kb.Fragment,{children:[C,S&&(0,kb.jsx)(Aw,{title:f,children:m}),c&&(0,kb.jsx)(Cw,{type:h,tooltip:u,children:c})]})})})}));Rw.displayName="FormCheck";const Tw=Object.assign(Rw,{Input:kw,Label:Aw});__webpack_require__(2473);const Mw=t.forwardRef((({bsPrefix:e,type:n,size:r,htmlSize:i,id:o,className:a,isValid:s=!1,isInvalid:l=!1,plaintext:u,readOnly:c,as:h="input",...d},p)=>{const{controlId:f}=(0,t.useContext)(Ew);let g;return e=Nb(e,"form-control"),g=u?{[`${e}-plaintext`]:!0}:{[e]:!0,[`${e}-${r}`]:r},(0,kb.jsx)(h,{...d,type:n,size:i,ref:p,readOnly:c,id:o||f,className:wb()(a,g,s&&"is-valid",l&&"is-invalid","color"===n&&`${e}-color`)})}));Mw.displayName="FormControl";const Iw=Object.assign(Mw,{Feedback:Cw}),Dw=S_("form-floating"),jw=t.forwardRef((({controlId:e,as:n="div",...r},i)=>{const o=(0,t.useMemo)((()=>({controlId:e})),[e]);return(0,kb.jsx)(Ew.Provider,{value:o,children:(0,kb.jsx)(n,{...r,ref:i})})}));jw.displayName="FormGroup";const Lw=jw;const Fw=t.forwardRef(((e,n)=>{const[{className:r,...i},{as:o="div",bsPrefix:a,spans:s}]=function({as:e,bsPrefix:n,className:r,...i}){n=Nb(n,"col");const o=function(){const{breakpoints:e}=(0,t.useContext)(jb);return e}(),a=function(){const{minBreakpoint:e}=(0,t.useContext)(jb);return e}(),s=[],l=[];return o.forEach((t=>{const e=i[t];let r,o,u;delete i[t],"object"==typeof e&&null!=e?({span:r,offset:o,order:u}=e):r=e;const c=t!==a?`-${t}`:"";r&&s.push(!0===r?`${n}${c}`:`${n}${c}-${r}`),null!=u&&l.push(`order${c}-${u}`),null!=o&&l.push(`offset${c}-${o}`)})),[{...i,className:wb()(r,...s,...l)},{as:e,bsPrefix:n,spans:s}]}(e);return(0,kb.jsx)(o,{...i,ref:n,className:wb()(r,!s.length&&a)})}));Fw.displayName="Col";const Nw=Fw,zw=t.forwardRef((({as:e="label",bsPrefix:n,column:r,visuallyHidden:i,className:o,htmlFor:a,...s},l)=>{const{controlId:u}=(0,t.useContext)(Ew);n=Nb(n,"form-label");let c="col-form-label";"string"==typeof r&&(c=`${c} ${c}-${r}`);const h=wb()(o,n,i&&"visually-hidden",r&&c);return a=a||u,r?(0,kb.jsx)(Nw,{ref:l,as:"label",className:h,htmlFor:a,...s}):(0,kb.jsx)(e,{ref:l,className:h,htmlFor:a,...s})}));zw.displayName="FormLabel",zw.defaultProps={column:!1,visuallyHidden:!1};const Uw=zw,Bw=t.forwardRef((({bsPrefix:e,className:n,id:r,...i},o)=>{const{controlId:a}=(0,t.useContext)(Ew);return e=Nb(e,"form-range"),(0,kb.jsx)("input",{...i,type:"range",ref:o,className:wb()(n,e),id:r||a})}));Bw.displayName="FormRange";const Vw=Bw,Ww=t.forwardRef((({bsPrefix:e,size:n,htmlSize:r,className:i,isValid:o=!1,isInvalid:a=!1,id:s,...l},u)=>{const{controlId:c}=(0,t.useContext)(Ew);return e=Nb(e,"form-select"),(0,kb.jsx)("select",{...l,size:r,ref:u,className:wb()(i,e,n&&`${e}-${n}`,o&&"is-valid",a&&"is-invalid"),id:s||c})}));Ww.displayName="FormSelect";const Hw=Ww,Gw=t.forwardRef((({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Nb(t,"form-text"),(0,kb.jsx)(n,{...i,ref:o,className:wb()(e,t,r&&"text-muted")}))));Gw.displayName="FormText";const qw=Gw,$w=t.forwardRef(((t,e)=>(0,kb.jsx)(Tw,{...t,ref:e,type:"switch"})));$w.displayName="Switch";const Xw=Object.assign($w,{Input:Tw.Input,Label:Tw.Label}),Yw=t.forwardRef((({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},a)=>(t=Nb(t,"form-floating"),(0,kb.jsxs)(Lw,{ref:a,className:wb()(e,t),controlId:r,...o,children:[n,(0,kb.jsx)("label",{htmlFor:r,children:i})]}))));Yw.displayName="FloatingLabel";const Kw=Yw,Zw={_ref:D().any,validated:D().bool,as:D().elementType},Qw=t.forwardRef((({className:t,validated:e,as:n="form",...r},i)=>(0,kb.jsx)(n,{...r,ref:i,className:wb()(t,e&&"was-validated")})));Qw.displayName="Form",Qw.propTypes=Zw;const Jw=Object.assign(Qw,{Group:Lw,Control:Iw,Floating:Dw,Check:Tw,Switch:Xw,Label:Uw,Text:qw,Range:Vw,Select:Hw,FloatingLabel:Kw});function tx(t){return tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(t)}function ex(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nx(t,e)}function rx(t,e){if(e&&("object"===tx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ix(t)}function ix(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ox(t)}function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ax(Object(n),!0).forEach((function(e){lx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ux={container:function(t,e){return sx(sx({},t),{},{padding:0,height:"fit-content"})},control:function(t,e){return sx(sx({},t),{},{borderWidth:0,minHeight:"fit-content",height:"fit-content"})},singleValue:function(t,e){return sx(sx({},t),{},{top:"45%"})},placeholder:function(t,e){return sx(sx({},t),{},{top:"45%"})},option:function(t,e){return sx(sx({},t),{},{paddingLeft:"20px"})}},cx=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ox(i);if(o){var n=ox(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rx(this,t)});function s(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e)).state={validated:!1,title:n.props.selection?n.props.selection.title:"",tags:n.props.selection?n.props.selection.tags:"",terms:n.props.selection?n.props.selection.terms:"",notes:n.props.selection?n.props.selection.body:""},n.tagsRef=t.createRef(),n.termsRef=t.createRef(),n.titleFieldRef=t.createRef(),n.handleTitleChange=n.handleTitleChange.bind(ix(n)),n.handleSubmit=n.handleSubmit.bind(ix(n)),n}return n=s,r=[{key:"handleTitleChange",value:function(t){t&&this.setState({title:t.target.value})}},{key:"handleSubmit",value:function(t){return"image"===this.props.type&&!function(t){if(t){var e=t.getFeatures();return e&&e.length>0}return!1}(this.props.selectionSource)&&!this.props.selection||"video"===this.props.type&&!this.props.selectionStartTime&&!this.props.selectionEndTime?(t.preventDefault(),t.stopPropagation(),this.props.onShowValidationError("Please select a portion of the media using the selections tools."),this.setState({validated:!0})):"video"===this.props.type&&this.props.selectionStartTime>this.props.selectionEndTime?(t.preventDefault(),t.stopPropagation(),this.props.onShowValidationError("The start time is greater than the end time. Please specify a valid time range"),this.setState({validated:!0})):!1!==t.currentTarget.checkValidity()?this.onSubmitForm(t):(t.preventDefault(),t.stopPropagation(),this.setState({validated:!0}))}},{key:"render",value:function(){var e=this,n=O(this.props.tags),r=A(this.props.terms),i=[],o=[];this.props.selection&&(i=O(this.props.selection.metadata.tags,!0),o=function(t){if(!t)return[];var e=[];return t.forEach((function(t){var n=t.term_set||t.terms;n&&n.forEach((function(n){var r=n;r.vocab_id=t.id,e.push({label:n.display_name||n.name,value:n.name,data:r})}))})),e}(this.props.selection.vocabulary));var a=this.props.terms&&this.props.terms.length>0;return t.createElement(Jw,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit},t.createElement(Jw.Group,{className:"mb-3",controlId:"newSelectionTitle"},t.createElement(Jw.Label,null,"Title"),t.createElement(Jw.Control,{required:!0,type:"text",value:this.state.title,onChange:this.handleTitleChange,ref:this.titleFieldRef})),t.createElement(Jw.Group,{className:"mb-3"},t.createElement("label",{htmlFor:"newSelectionTagsInput"},"Tags"),t.createElement(bw,{id:"newSelectionTagsContainer",inputId:"newSelectionTagsInput",ref:this.tagsRef,menuPortalTarget:document.body,styles:ux,className:"react-select form-control",onChange:this.handleTagsChange,isMulti:!0,defaultValue:i,noOptionsMessage:function(t){return t.inputValue?"No tags found":""},options:n})),a&&t.createElement(Jw.Group,{className:"mb-3"},t.createElement("label",{htmlFor:"newSelectionTermsInput"},"Course Vocabulary"),t.createElement(nb,{id:"newSelectionTermsContainer",inputId:"newSelectionTermsInput",ref:this.termsRef,menuPortalTarget:document.body,styles:ux,className:"react-select form-control",onChange:this.handleTermsChange,isMulti:!0,defaultValue:o,formatGroupLabel:function(e){return t.createElement("div",{className:"font-weight-bold h6"},t.createElement("span",null,e.label))},options:r})),t.createElement(Jw.Group,{className:"mb-3"},t.createElement("label",{htmlFor:"newSelectionNotes"},"Notes"),t.createElement("textarea",{className:"form-control",id:"newSelectionNotes",defaultValue:this.props.selection?this.props.selection.metadata.body:"",rows:"3"})),this.props.onClickDelete&&this.props.selection&&t.createElement(ww,{variant:"danger",size:"sm",onClick:function(){return e.props.onClickDelete(e.props.selection.id)}},"Delete"),t.createElement("div",{className:"float-right"},this.props.onClickCancel&&t.createElement(t.Fragment,null,t.createElement(ww,{variant:"secondary",size:"sm",onClick:function(t){return e.props.onClickCancel(t,e.props.selection)}},"Cancel")," "),t.createElement(ww,{type:"submit",size:"sm"},"Save")))}}],r&&ex(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function hx(t){return hx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(t)}function dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},px(t,e)}function fx(t,e){if(e&&("object"===hx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gx(t)}function gx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mx(t)}cx.propTypes={type:D().string.isRequired,selection:D().object,tags:D().array,terms:D().array,selectionSource:D().object,selectionStartTime:D().number,selectionEndTime:D().number,onStartTimeClick:D().func.isRequired,onEndTimeClick:D().func.isRequired,onShowValidationError:D().func.isRequired,onClickCancel:D().func,onClickDelete:D().func};var yx,vx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mx(r);if(i){var n=mx(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fx(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).onCreateSelection=e.onCreateSelection.bind(gx(e)),e}return e=a,(n=[{key:"onSubmitForm",value:function(t){return this.onCreateSelection(t)}},{key:"onCreateSelection",value:function(t){var e=this.tagsRef.current.state.selectValue,n="";e&&e.forEach((function(t){n+=t.value+","}));var r=null;if(this.termsRef&&this.termsRef.current){var i=this.termsRef.current.state.selectValue;r=[],i&&i.forEach((function(t){t&&t.data&&r.push(t.data.id)}))}return this.props.onCreateSelection(t,n,r)}},{key:"componentDidMount",value:function(){var t=this;this.titleFieldRef.current.addEventListener("invalid",(function(e){t.props.onShowValidationError("Please specify a selection title.")}))}}])&&dx(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(cx);function bx(t){if((!yx&&0!==yx||t)&&t_){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),yx=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yx}function _x(e){var n,r,i=(n=e,(r=(0,t.useRef)(n)).current=n,r);(0,t.useEffect)((function(){return function(){return i.current()}}),[])}function wx(t){void 0===t&&(t=Xb());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function xx(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}vx.propTypes={type:D().string.isRequired,tags:D().array,terms:D().array,selectionSource:D().object,selectionStartTime:D().number,selectionEndTime:D().number,onStartTimeClick:D().func.isRequired,onEndTimeClick:D().func.isRequired,onCreateSelection:D().func.isRequired,onShowValidationError:D().func.isRequired};const Sx=F_("modal-open"),Cx=class{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}={}){this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[n]:r.style[n]},t.scrollBarWidth&&(e[n]=`${parseInt(Jb(r,n)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Sx,""),Jb(r,e)}reset(){[...this.modals].forEach((t=>this.remove(t)))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Sx),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return-1!==e||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state))),e}remove(t){const e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}},Ex=(0,t.createContext)(t_?window:void 0);function Px(){return(0,t.useContext)(Ex)}Ex.Provider;const kx=(t,e)=>t_?null==t?(e||Xb()).body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null,Ox=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Ax;const Rx=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:o,style:a,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:d,backdropTransition:p,autoFocus:f=!0,enforceFocus:g=!0,restoreFocus:m=!0,restoreFocusOptions:y,renderDialog:v,renderBackdrop:b=(t=>(0,kb.jsx)("div",Object.assign({},t))),manager:_,container:w,onShow:x,onHide:S=(()=>{}),onExit:C,onExited:E,onExiting:P,onEnter:k,onEntering:O,onEntered:A}=e,R=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,Ox);const T=function(e,n){const r=Px(),[i,o]=(0,t.useState)((()=>kx(e,null==r?void 0:r.document)));if(!i){const t=kx(e);t&&o(t)}return(0,t.useEffect)((()=>{}),[n,i]),(0,t.useEffect)((()=>{const t=kx(e);t!==i&&o(t)}),[e,i]),i}(w),M=function(e){const n=Px(),r=e||function(t){return Ax||(Ax=new Cx({ownerDocument:null==t?void 0:t.document})),Ax}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((t=>{i.current.dialog=t}),[]),setBackdropRef:(0,t.useCallback)((t=>{i.current.backdrop=t}),[])})}(_),I=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),D=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(r),[j,L]=(0,t.useState)(!r),F=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>M),[M]),t_&&!D&&r&&(F.current=wx()),d||r||j?r&&j&&L(!1):L(!0);const N=Eb((()=>{if(M.add(),H.current=a_(document,"keydown",V),W.current=a_(document,"focus",(()=>setTimeout(U)),!0),x&&x(),f){const t=wx(document);M.dialog&&t&&!xx(M.dialog,t)&&(F.current=t,M.dialog.focus())}})),z=Eb((()=>{var t;M.remove(),null==H.current||H.current(),null==W.current||W.current(),m&&(null==(t=F.current)||null==t.focus||t.focus(y),F.current=null)}));(0,t.useEffect)((()=>{r&&T&&N()}),[r,T,N]),(0,t.useEffect)((()=>{j&&z()}),[j,z]),_x((()=>{z()}));const U=Eb((()=>{if(!g||!I()||!M.isTopModal())return;const t=wx();M.dialog&&t&&!xx(M.dialog,t)&&M.dialog.focus()})),B=Eb((t=>{t.target===t.currentTarget&&(null==c||c(t),!0===l&&S())})),V=Eb((t=>{u&&27===t.keyCode&&M.isTopModal()&&(null==h||h(t),t.defaultPrevented||S())})),W=(0,t.useRef)(),H=(0,t.useRef)(),G=d;if(!T||!(r||G&&!j))return null;const q=Object.assign({role:i,ref:M.setDialogRef,"aria-modal":"dialog"===i||void 0},R,{style:a,className:o,tabIndex:-1});let $=v?v(q):(0,kb.jsx)("div",Object.assign({},q,{children:t.cloneElement(s,{role:"document"})}));G&&($=(0,kb.jsx)(G,{appear:!0,unmountOnExit:!0,in:!!r,onExit:C,onExiting:P,onExited:(...t)=>{L(!0),null==E||E(...t)},onEnter:k,onEntering:O,onEntered:A,children:$}));let X=null;if(l){const t=p;X=b({ref:M.setBackdropRef,onClick:B}),t&&(X=(0,kb.jsx)(t,{appear:!0,in:!!r,children:X}))}return(0,kb.jsx)(kb.Fragment,{children:Qm.createPortal((0,kb.jsxs)(kb.Fragment,{children:[X,$]}),T)})}));Rx.displayName="Modal";const Tx=Object.assign(Rx,{Manager:Cx});function Mx(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Ix=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Dx=".sticky-top",jx=".navbar-toggler";class Lx extends Cx{adjustAndStore(t,e,n){const r=e.style[t];e.dataset[t]=r,Jb(e,{[t]:`${parseFloat(Jb(e,t))+n}px`})}restore(t,e){const n=e.dataset[t];void 0!==n&&(delete e.dataset[t],Jb(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();var n,r;if(r="modal-open",(n=e).classList?n.classList.add(r):function(t,e){return t.classList?t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" modal-open ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";T_(e,Ix).forEach((e=>this.adjustAndStore(i,e,t.scrollBarWidth))),T_(e,Dx).forEach((e=>this.adjustAndStore(o,e,-t.scrollBarWidth))),T_(e,jx).forEach((e=>this.adjustAndStore(o,e,t.scrollBarWidth)))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();var n,r;r="modal-open",(n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Mx(n.className,r):n.setAttribute("class",Mx(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";T_(e,Ix).forEach((t=>this.restore(i,t))),T_(e,Dx).forEach((t=>this.restore(o,t))),T_(e,jx).forEach((t=>this.restore(o,t)))}}let Fx;const Nx=S_("modal-body"),zx=t.createContext({onHide(){}}),Ux=t.forwardRef((({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:a,scrollable:s,...l},u)=>{const c=`${t=Nb(t,"modal")}-dialog`,h="string"==typeof o?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return(0,kb.jsx)("div",{...l,ref:u,className:wb()(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,s&&`${c}-scrollable`,o&&h),children:(0,kb.jsx)("div",{className:wb()(`${t}-content`,n),children:a})})}));Ux.displayName="ModalDialog";const Bx=Ux,Vx=S_("modal-footer"),Wx=t.forwardRef((({closeLabel:e,closeVariant:n,closeButton:r,onHide:i,children:o,...a},s)=>{const l=(0,t.useContext)(zx),u=Eb((()=>{null==l||l.onHide(),null==i||i()}));return(0,kb.jsxs)("div",{ref:s,...a,children:[o,r&&(0,kb.jsx)(b_,{"aria-label":e,variant:n,onClick:u})]})}));Wx.defaultProps={closeLabel:"Close",closeButton:!1};const Hx=Wx,Gx=t.forwardRef((({bsPrefix:t,className:e,...n},r)=>(t=Nb(t,"modal-header"),(0,kb.jsx)(Hx,{ref:r,...n,className:wb()(e,t)}))));Gx.displayName="ModalHeader",Gx.defaultProps={closeLabel:"Close",closeButton:!1};const qx=Gx,$x=S_("modal-title",{Component:__("h4")}),Xx={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Bx};function Yx(t){return(0,kb.jsx)(m_,{...t,timeout:null})}function Kx(t){return(0,kb.jsx)(m_,{...t,timeout:null})}const Zx=t.forwardRef((({bsPrefix:e,className:n,style:r,dialogClassName:i,contentClassName:o,children:a,dialogAs:s,"aria-labelledby":l,"aria-describedby":u,"aria-label":c,show:h,animation:d,backdrop:p,keyboard:f,onEscapeKeyDown:g,onShow:m,onHide:y,container:v,autoFocus:b,enforceFocus:_,restoreFocus:w,restoreFocusOptions:x,onEntered:S,onExit:C,onExiting:E,onEnter:P,onEntering:k,onExited:O,backdropClassName:A,manager:R,...T},M)=>{const[I,D]=(0,t.useState)({}),[j,L]=(0,t.useState)(!1),F=(0,t.useRef)(!1),N=(0,t.useRef)(!1),z=(0,t.useRef)(null),[U,B]=(0,t.useState)(null),V=h_(M,B),W=Eb(y),H=function(){const{dir:e}=(0,t.useContext)(jb);return"rtl"===e}();e=Nb(e,"modal");const G=(0,t.useMemo)((()=>({onHide:W})),[W]);function q(){return R||function(t){return Fx||(Fx=new Lx(t)),Fx}({isRTL:H})}function $(t){if(!t_)return;const e=q().getScrollbarWidth()>0,n=t.scrollHeight>Xb(t).documentElement.clientHeight;D({paddingRight:e&&!n?bx():void 0,paddingLeft:!e&&n?bx():void 0})}const X=Eb((()=>{U&&$(U.dialog)}));_x((()=>{o_(window,"resize",X),null==z.current||z.current()}));const Y=()=>{F.current=!0},K=t=>{F.current&&U&&t.target===U.dialog&&(N.current=!0),F.current=!1},Z=()=>{L(!0),z.current=s_(U.dialog,(()=>{L(!1)}))},Q=t=>{"static"!==p?N.current||t.target!==t.currentTarget?N.current=!1:null==y||y():(t=>{t.target===t.currentTarget&&Z()})(t)},J=(0,t.useCallback)((t=>(0,kb.jsx)("div",{...t,className:wb()(`${e}-backdrop`,A,!d&&"show")})),[d,A,e]),tt={...r,...I};return tt.display="block",(0,kb.jsx)(zx.Provider,{value:G,children:(0,kb.jsx)(Tx,{show:h,ref:V,backdrop:p,container:v,keyboard:!0,autoFocus:b,enforceFocus:_,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:t=>{f||"static"!==p?f&&g&&g(t):(t.preventDefault(),Z())},onShow:m,onHide:y,onEnter:(t,e)=>{t&&$(t),null==P||P(t,e)},onEntering:(t,e)=>{null==k||k(t,e),i_(window,"resize",X)},onEntered:S,onExit:t=>{null==z.current||z.current(),null==C||C(t)},onExiting:E,onExited:t=>{t&&(t.style.display=""),null==O||O(t),o_(window,"resize",X)},manager:q(),transition:d?Yx:void 0,backdropTransition:d?Kx:void 0,renderBackdrop:J,renderDialog:t=>(0,kb.jsx)("div",{role:"dialog",...t,style:tt,className:wb()(n,e,j&&`${e}-static`,!d&&"show"),onClick:p?Q:void 0,onMouseUp:K,"aria-label":c,"aria-labelledby":l,"aria-describedby":u,children:(0,kb.jsx)(s,{...T,onMouseDown:Y,className:i,contentClassName:o,children:a})})})})}));Zx.displayName="Modal",Zx.defaultProps=Xx;const Qx=Object.assign(Zx,{Body:Nx,Header:qx,Title:$x,Footer:Vx,Dialog:Bx,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Jx(t){return Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(t)}function tS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eS(t,e)}function nS(t,e){if(e&&("object"===Jx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rS(t)}function rS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iS(t)}var oS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=iS(r);if(i){var n=iS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return nS(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).onSaveSelection=e.onSaveSelection.bind(rS(e)),e}return e=a,(n=[{key:"onSubmitForm",value:function(t){return this.onSaveSelection(t)}},{key:"onSaveSelection",value:function(t){var e=this.tagsRef.current.state.selectValue,n="";e&&e.forEach((function(t){n+=t.value+","}));var r=null;if(this.termsRef&&this.termsRef.current){var i=this.termsRef.current.state.selectValue;r=[],i&&i.forEach((function(t){t&&t.data&&r.push(t.data.id)}))}return this.props.onSaveSelection(t,this.props.selection.id,n,r)}},{key:"componentDidMount",value:function(){var t=this;this.titleFieldRef.current.addEventListener("invalid",(function(e){t.props.onShowValidationError("Please specify a selection title.")}))}}])&&tS(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(cx);function aS(t){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aS(t)}function sS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lS(t,e)}function uS(t,e){if(e&&("object"===aS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cS(t)}function cS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hS(t){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hS(t)}oS.propTypes={type:D().string.isRequired,selection:D().object.isRequired,tags:D().array,terms:D().array,onClickCancel:D().func.isRequired,onSaveSelection:D().func.isRequired,onClickDelete:D().func.isRequired,onShowValidationError:D().func.isRequired};var dS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}(u,e);var n,r,i,o,l=(i=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hS(i);if(o){var n=hS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uS(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,t)).state={groupBy:"author"},e.onClickEdit=e.onClickEdit.bind(cS(e)),e.onClickDelete=e.onClickDelete.bind(cS(e)),e.onDeleteSelection=e.onDeleteSelection.bind(cS(e)),e.onSaveSelection=e.onSaveSelection.bind(cS(e)),e}return n=u,(r=[{key:"onSelectGrouping",value:function(t,e){t.preventDefault(),this.setState({groupBy:e})}},{key:"onClickEdit",value:function(t,e){t.preventDefault(),this.props.onUpdateIsEditing(e)}},{key:"onClickDelete",value:function(t){this.props.showDeleteDialog(t)}},{key:"onDeleteSelection",value:function(t){return this.props.onUpdateIsEditing(null),this.props.onDeleteSelection(t)}},{key:"onSaveSelection",value:function(t,e,n,r){var i=this;return this.props.onSaveSelection(t,e,n,r).then((function(){i.props.onUpdateIsEditing(null)}))}},{key:"renderSelection",value:function(e,n,r,i){var o=this,a=parseInt(window.MediaThread.current_user,10)===parseInt(e.author.id,10);return t.createElement("div",{key:n,className:"card"},t.createElement("div",{className:"card-header"},t.createElement("h2",{className:"card-title mb-0"},t.createElement("button",{className:"btn btn-link btn-block text-left collapsed",type:"button","data-toggle":"collapse","data-target":"#selectionCollapse-".concat(n),"aria-expanded":"false"},e.title))),t.createElement("div",{id:"selectionCollapse-".concat(n),className:"collapse","data-title":e.title,"data-selectionid":e.id,"data-parent":"#selectionsAccordion"},t.createElement("div",{className:"card-body container"},e.author.public_name.length>0&&t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted selection-metadatalabel"},"Author"),t.createElement("span",{className:"col text-left selection-metadatavalue"},e.author.public_name)),"video"===this.props.type&&t.createElement(t.Fragment,null,t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted selection-metadatalabel"},"Selection "),t.createElement("span",{className:"col text-left selection-metadatavalue"},v(e.range1),String.fromCharCode(160),String.fromCharCode(8212),String.fromCharCode(160),v(e.range2))),t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted selection-metadatalabel"},"Duration"),t.createElement("span",{className:"col text-left selection-metadatavalue"}," ",v(b(e.range1,e.range2))))),r.length>0&&t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted selection-metadatalabel"},"Tags "),t.createElement("span",{className:"col text-left selection-metadatavalue"},r)),i.length>0&&t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted text-wrap selection-metadatalabel"},"Course Vocabulary "),t.createElement("span",{className:"col text-left selection-metadatavalue"},i)),e.metadata&&e.metadata.body&&t.createElement("p",{className:"card-text row"},t.createElement("span",{className:"text-muted selection-metadatalabel"},"Notes "),t.createElement("span",{className:"col text-left text-wrap selection-metadatavalue"},e.metadata.body)),t.createElement("p",{className:"card-text"},"video"===this.props.type&&t.createElement("button",{type:"button",onClick:this.props.onPlaySelection,className:"btn btn-primary btn-sm float-right"},"Play",t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-play-fill ml-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}))),a&&t.createElement("a",{onClick:function(t){return o.onClickEdit(t,e)},href:"#",className:"btn btn-secondary btn-sm mr-2 float-right"},"Edit")))))}},{key:"renderSelectionGroup",value:function(e){var n=this,r=[],i=function(i){var o=e[i],a=null;Object.prototype.hasOwnProperty.call(o,"selections")&&(a=o.tagName||o.termName,o=o.selections),o.forEach((function(e,o){var s="".concat(i,"-").concat(e.id);0===o&&("author"===n.state.groupBy?r.push(t.createElement("h4",{key:"title-"+s},e.author.public_name)):"term"===n.state.groupBy&&"No Vocabulary"!=a?e.vocabulary.forEach((function(e){r.push(t.createElement("h4",{key:"title-"+s},_(e.display_name),": ",a))})):r.push(t.createElement("h4",{key:"title-"+s},a)));var l=[];e.metadata&&e.metadata.tags&&e.metadata.tags.forEach((function(n,r){var i=r<e.metadata.tags.length-1;l.push(t.createElement(t.Fragment,{key:"tagfragment-".concat(s,"-").concat(n.id)},t.createElement("a",{href:"#"},n.name),i&&", "))}));var u=[];e.vocabulary&&e.vocabulary.forEach((function(e){e.terms.forEach((function(n,r){var i=r<e.terms.length-1;u.push(t.createElement(t.Fragment,{key:"termfragment-".concat(s,"-").concat(n.id)},t.createElement("a",{href:"#"},n.display_name),i&&", "))}))})),r.push(n.renderSelection(e,s,l,u))}))};for(var o in e)i(o);return r}},{key:"renderEditForm",value:function(e){return t.createElement(t.Fragment,null,t.createElement("h3",null,"Edit Details"),t.createElement(oS,{type:this.props.type,selection:e,selectionStartTime:this.props.selectionStartTime,selectionEndTime:this.props.selectionEndTime,tags:this.props.tags,terms:this.props.terms,selectionSource:this.props.selectionSource,onClickCancel:this.props.onClickCancel,onSaveSelection:this.onSaveSelection,onClickDelete:this.onClickDelete,onShowValidationError:this.props.onShowValidationError}),t.createElement(Qx,{show:this.props.showDeleteDialogBool,onHide:this.props.hideDeleteDialog},t.createElement(Qx.Header,{closeButton:!0},t.createElement(Qx.Title,null,"Delete Selection")),t.createElement(Qx.Body,null,"Delete this selection?"),t.createElement(Qx.Footer,null,t.createElement(ww,{variant:"secondary",onClick:this.props.hideDeleteDialog},"Cancel"),t.createElement(ww,{variant:"danger",onClick:this.onDeleteSelection},"Delete"))))}},{key:"render",value:function(){var e=this;if(this.props.isEditing)return this.renderEditForm(this.props.isEditing);var n;n="author"===this.state.groupBy?function(t){return(0,s.sortBy)((0,s.groupBy)(t,(function(t){return t.author.id})),[function(t){return t&&t.length>0&&t[0].author&&t[0].author.public_name?t[0].author.public_name.toLowerCase():null}])}(this.props.filteredSelections):"term"===this.state.groupBy?function(t){var e=[];return t.forEach((function(t){if(t.vocabulary&&t.vocabulary.length)t.vocabulary.forEach((function(n){if(!n||!n.terms)return!1;n.terms.forEach((function(n){var r=a()(e,(function(t){return parseInt(t.termId,10)===parseInt(n.id,10)}));r?r.selections.push(t):e.push({termName:n.display_name,termId:n.id,selections:[t]})}))}));else{var n=a()(e,(function(t){return 0===parseInt(t.termId,10)}));n?n.selections.push(t):e.push({termName:"No Vocabulary",termId:0,selections:[t]})}})),(0,s.sortBy)(e,[function(t){return t&&0===t.termId?null:t&&t.termName?t.termName.toLowerCase():null}])}(this.props.filteredSelections):function(t){var e=[];return t.forEach((function(t){if(t.metadata&&t.metadata.tags&&t.metadata.tags.length)t.metadata.tags.forEach((function(n){var r=a()(e,(function(t){return parseInt(t.tagId,10)===parseInt(n.id,10)}));r?r.selections.push(t):e.push({tagName:k(n.id,t,window.MediaThread.tag_cache),tagId:n.id,selections:[t]})}));else{var n=a()(e,(function(t){return 0===parseInt(t.tagId,10)}));n?n.selections.push(t):e.push({tagName:"No Tags",tagId:0,selections:[t]})}})),(0,s.sortBy)(e,[function(t){return t&&0===t.tagId?null:t&&t.tagName?t.tagName.toLowerCase():null}])}(this.props.filteredSelections);var r=this.renderSelectionGroup(n),i=!0;return this.props.filteredSelections&&this.props.filteredSelections.length&&(i=!1),t.createElement(t.Fragment,null,t.createElement("h3",null,"Selections"),t.createElement("div",{className:"d-flex"},t.createElement("div",{className:"btn-group mb-2",role:"group","aria-label":"View Toggle"},t.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("author"===this.state.groupBy?"active":""),onClick:function(t){return e.onSelectGrouping(t,"author")}},"Group by author"),t.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("tag"===this.state.groupBy?"active":""),onClick:function(t){return e.onSelectGrouping(t,"tag")}},"Group by tag"),window.MediaThread&&window.MediaThread.current_course_has_vocab&&t.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm "+("term"===this.state.groupBy?"active":""),onClick:function(t){return e.onSelectGrouping(t,"term")}},"Group by course vocabulary")),t.createElement("form",{hidden:!0,className:"form-inline"},t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"annotationFilter",className:"ml-2"},"Filter by:"),t.createElement("input",{id:"annotationFilter",className:"form-control form-control-sm ml-1",type:"search"})))),t.createElement(A_,{variant:"warning",show:i},"There are no selections of this item. ",t.createElement(A_.Link,{href:"#",onClick:function(){return e.props.onSelectTab("createSelection")}},"Create a selection")," now to begin."),t.createElement("div",{className:"accordion",id:"selectionsAccordion"},r))}},{key:"isCollapsed",value:function(){return 0===jQuery("#selectionsAccordion .card .collapse.show").length}},{key:"registerAccordionEvents",value:function(){var t=this,e=jQuery("#selectionsAccordion");e.on("shown.bs.collapse",(function(e){var n=jQuery(e.target),r=n.data("title"),i=n.data("selectionid");i&&(i=parseInt(i,10));var o=a()(t.props.filteredSelections,{id:i});t.props.onViewSelection(e,o),t.props.onSelectSelection(r,i),jQuery(e.target).parent().addClass("active")})),e.on("show.bs.collapse",(function(e){t.props.onClearVectorLayer()})),e.on("hidden.bs.collapse",(function(e){t.isCollapsed()&&(t.props.onSelectSelection(null),jQuery(e.target).parent().removeClass("active"))}))}},{key:"componentDidUpdate",value:function(t,e){var n=window.location.pathname.match(/annotations\/(\d+)\//),r=null;if(n&&n.length>1&&(r=parseInt(n[1],10)),t.isEditing!==this.props.isEditing&&!this.props.isEditing&&(this.registerAccordionEvents(),t.isEditing&&(this.props.onClearVectorLayer(),r))){var i=a()(this.props.filteredSelections,{id:r});R(jQuery("#selectionsAccordion"),r,!0),this.props.onViewSelection(null,i)}}},{key:"componentDidMount",value:function(){this.registerAccordionEvents()}}])&&sS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(t.Component);function pS(t){return pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pS(t)}function fS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gS(t,e)}function mS(t,e){if(e&&("object"===pS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yS(t)}function yS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vS(t)}dS.propTypes={type:D().string.isRequired,tags:D().array,terms:D().array,selectionSource:D().object,selectionStartTime:D().number,selectionEndTime:D().number,filteredSelections:D().array,isEditing:D().object,onUpdateIsEditing:D().func.isRequired,onSelectSelection:D().func.isRequired,onSelectTab:D().func.isRequired,onViewSelection:D().func.isRequired,onPlaySelection:D().func.isRequired,onSaveSelection:D().func.isRequired,onDeleteSelection:D().func.isRequired,onShowValidationError:D().func.isRequired,hideDeleteDialog:D().func.isRequired,showDeleteDialog:D().func.isRequired,showDeleteDialogBool:D().bool.isRequired,onClickCancel:D().func.isRequired,onClearVectorLayer:D().func.isRequired};var bS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vS(i);if(o){var n=vS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mS(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={isEditing:!1,transcript:e.props.asset.transcript},e.onClickEdit=e.onClickEdit.bind(yS(e)),e.onClickCancel=e.onClickCancel.bind(yS(e)),e.handleSubmit=e.handleSubmit.bind(yS(e)),e}return n=s,(r=[{key:"onClickEdit",value:function(){this.setState({isEditing:!0})}},{key:"onClickCancel",value:function(){this.setState({isEditing:!1})}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=t.currentTarget.querySelector("textarea").value;e&&(e=e.trim());var n,r,i,o=this;return(n=this.props.asset.id,r={transcript:e},i="/asset/".concat(n,"/save/"),u(i,"put",JSON.stringify(r)).then((function(t){if(200===t.status)return t.json();throw"Error updating asset: "+"(".concat(t.status,") ").concat(t.statusText)}))).then((function(){o.setState({isEditing:!1,transcript:e}),o.props.onUpdateAssetTranscript(e)}))}},{key:"render",value:function(){var e,n=t.createElement(t.Fragment,null,(e=this.state.transcript)?e.length>40?e.substring(0,37)+"...":e:"",t.createElement("button",{className:"btn btn-sm btn-secondary d-block",onClick:this.onClickEdit},"Edit Transcript"));return this.state.isEditing&&(n=t.createElement("form",{onSubmit:this.handleSubmit},t.createElement("textarea",{className:"form-control mb-1",id:"assetTranscriptInput",rows:"4",defaultValue:this.state.transcript}),t.createElement("button",{className:"btn btn-sm btn-secondary",onClick:this.onClickCancel,type:"button"},"Cancel"),t.createElement("button",{className:"btn btn-sm btn-primary ml-1",onClick:this.onClickSave,type:"submit"},"Save"))),t.createElement("tr",null,t.createElement("th",{scope:"row"},t.createElement("label",{htmlFor:"assetTranscriptInput"},"Transcript")),t.createElement("td",null,n))}}])&&fS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function _S(t){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_S(t)}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xS(t,e)}function SS(t,e){if(e&&("object"===_S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return CS(t)}function CS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ES(t){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ES(t)}bS.propTypes={asset:D().object.isRequired,onUpdateAssetTranscript:D().func.isRequired};var PS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}(l,e);var n,r,i,o,s=(i=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ES(i);if(o){var n=ES(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return SS(this,t)});function l(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=s.call(this,t)).state={references:null,validated:!1,isRenaming:!1,assetTitleEditing:e.props.asset?e.props.asset.title:null,assetTitle:e.props.asset?e.props.asset.title:null};var n=CS(e);return function(){var t="/asset/references/".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,"/");return u(t).then((function(t){if(200===t.status)return t.json();throw"Error loading asset: "+"(".concat(t.status,") ").concat(t.statusText)}))}(e.props.asset.id).then((function(t){"references"in t&&n.setState({references:t.references})})),e.onClickRename=e.onClickRename.bind(CS(e)),e.onClickCancel=e.onClickCancel.bind(CS(e)),e.onClickRemove=e.onClickRemove.bind(CS(e)),e.handleSubmitRename=e.handleSubmitRename.bind(CS(e)),e.onChangeTitle=e.onChangeTitle.bind(CS(e)),e}return n=l,r=[{key:"onClickRename",value:function(t){this.setState({isRenaming:!0})}},{key:"onClickCancel",value:function(t){this.setState({isRenaming:!1})}},{key:"onClickRemove",value:function(t){var e,n;if(!0===window.confirm("Remove this asset from your collection?")){var r=this;return(e=this.props.asset.id,n="/asset/delete/".concat(e,"/"),u(n).then((function(t){if(200===t.status)return t.json();throw"Error removing asset: "+"(".concat(t.status,") ").concat(t.statusText)}))).then((function(){return r.props.leaveAssetDetailView()})).then((function(){window.scrollTo(0,0)}))}return null}},{key:"handleSubmitRename",value:function(t){var e,n,r;if(t.preventDefault(),!1!==t.currentTarget.checkValidity()){var i=this;return(e=this.props.asset.id,n=this.state.assetTitleEditing,r="/asset/".concat(e,"/save/"),u(r,"put",JSON.stringify({title:n})).then((function(t){if(200===t.status)return t.json();throw"Error updating asset: "+"(".concat(t.status,") ").concat(t.statusText)}))).then((function(){i.setState({isRenaming:!1,assetTitle:i.state.assetTitleEditing}),i.props.onUpdateAssetTitle(i.state.assetTitleEditing)}))}return t.stopPropagation(),this.props.onShowValidationError("Please specify an item title."),this.setState({validated:!0})}},{key:"onChangeTitle",value:function(t){this.setState({assetTitleEditing:t.target.value})}},{key:"render",value:function(){var e=null;this.props.asset&&this.props.asset.author&&(e=this.props.asset.author.id);var n=!1;window.MediaThread&&window.MediaThread.current_user&&(n=e===window.MediaThread.current_user);var r=[];this.state.references&&this.state.references.forEach((function(e,n){r.push(t.createElement("li",{key:n},t.createElement("a",{href:e.url},e.title)))}));var i="There are no tags.",o="There are no vocabulary terms.";if(this.props.asset&&this.props.asset.annotations){var s=function(t){var e=[];return t.forEach((function(t){t.metadata.tags.forEach((function(t){e.includes(t.name)||e.push(t.name)}))})),e}(this.props.asset.annotations);s.length>0&&(i=s.join(", "));var l=M(this.props.asset.annotations);l.length>0&&(o=l.join(", "))}var u=null;if(this.props.asset&&this.props.asset.metadata){var c=a()(this.props.asset.metadata,{key:"Description"});c&&(c=c.value),c&&c.length&&(u=c[0])}var h=window.location.href,d=this.props.assetInstance.getType(),p=n&&("video"===d||"audio"===d);return t.createElement("div",{className:"tab-content",id:"pills-tabContent"},t.createElement("h3",null,"Tags"),t.createElement("p",null,i),t.createElement("hr",null),t.createElement("h3",null,"Course Vocabulary"),t.createElement("p",null,o),t.createElement("hr",null),t.createElement("h3",null,"Course References"),this.state.references&&0===this.state.references.length&&t.createElement("div",null,"There are no references in this course."),this.state.references&&this.state.references.length>0&&t.createElement("ul",null,r),t.createElement("hr",null),t.createElement("h3",null,"Additional Information (Metadata)"),t.createElement("table",{className:"table table-sm table-borderless mt-1 table-metadata"},t.createElement("tbody",null,t.createElement("tr",null,t.createElement("th",{scope:"row"},"Item Name"),t.createElement("td",null,this.state.isRenaming&&t.createElement(Jw,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmitRename},t.createElement(Jw.Group,{className:"mb-3"},t.createElement(Jw.Control,{required:!0,type:"text","aria-label":"Item Name",size:"sm",className:"mb-1",onChange:this.onChangeTitle,value:this.state.assetTitleEditing}),t.createElement("button",{onClick:this.onClickCancel,type:"button",className:"btn btn-sm btn-secondary mr-1"},"Cancel"),t.createElement("button",{type:"submit",className:"btn btn-sm btn-primary"},"Save"))),!this.state.isRenaming&&t.createElement(t.Fragment,null,this.state.assetTitle," ",n&&t.createElement("button",{type:"submit",onClick:this.onClickRename,className:"btn btn-secondary btn-sm d-block my-1"},"Rename this item")))),p&&t.createElement(bS,{asset:this.props.asset,onUpdateAssetTranscript:this.props.onUpdateAssetTranscript}),t.createElement("tr",null,t.createElement("th",{scope:"row"},"Permalink"),t.createElement("td",{className:"text-break"},t.createElement("a",{href:h},h))),t.createElement("tr",null,t.createElement("th",{scope:"row"},"Creator"),t.createElement("td",null,this.props.asset.author.public_name," (",this.props.asset.author.username,")")),this.props.asset&&this.props.asset.sources&&this.props.asset.sources.url&&t.createElement("tr",null,t.createElement("th",{scope:"row"},"Link"),t.createElement("td",null,t.createElement("a",{href:this.props.asset.sources.url.url,target:"_blank",rel:"noopener noreferrer"},"Original Source"))))),u&&t.createElement("div",null,t.createElement("div",{className:"font-weight-bold"},"Description"),t.createElement("p",{className:"description"},u)),this.props.asset&&this.props.asset.editable&&t.createElement("button",{type:"button",className:"btn btn-danger btn-sm float-right",onClick:this.onClickRemove},"Remove from my Collection"))}}],r&&wS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function kS(t){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kS(t)}function OS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},AS(t,e)}function RS(t,e){if(e&&("object"===kS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function TS(t){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TS(t)}PS.propTypes={assetInstance:D().object,asset:D().object,onUpdateAssetTitle:D().func.isRequired,onUpdateAssetTranscript:D().func.isRequired,onShowValidationError:D().func.isRequired,leaveAssetDetailView:D().func.isRequired};var MS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}(l,e);var n,r,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=TS(o);if(a){var n=TS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return RS(this,t)});function l(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=s.call(this,e)).spinnerRef=t.createRef(),n}return n=l,(r=[{key:"render",value:function(){var e=0;return this.props.timecode&&(e=v(this.props.timecode,!0)),t.createElement("div",{className:"jux-timecode-editor"},t.createElement("input",{required:!0,id:"juxTimecode",ref:this.spinnerRef,min:this.props.min,defaultValue:e}))}},{key:"componentDidUpdate",value:function(t){this.spinnerRef&&t.timecode!==this.props.timecode&&(this.spinnerRef.current.value=v(this.props.timecode,!0))}},{key:"componentDidMount",value:function(){if(this.spinnerRef){var t=this,e=this.spinnerRef.current;jQuery(e).timecodespinner({change:function(n){var r=m(n.target.value);i()(r)&&t.props.onChange(r),t.props.timecode!==e.value&&(e.value=v(t.props.timecode,!0))},spin:function(n,r){var o=r.value/100;if(i()(o)&&t.props.onChange(o),t.props.timecode!==e.value)return e.value=v(t.props.timecode,!0),!1}})}}},{key:"componentWillUnmount",value:function(){this.spinnerRef&&jQuery(this.spinnerRef.current).timecodespinner("destroy")}}])&&OS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function IS(t){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(t)}function DS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jS(t,e)}function LS(t,e){if(e&&("object"===IS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return FS(t)}function FS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NS(t){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},NS(t)}MS.propTypes={min:D().number.isRequired,onChange:D().func.isRequired,timecode:D().number};var zS=function(t){var e=window.location.pathname.replace(/annotations\/\d+\//,""),n=e;t&&(n=e+"annotations/".concat(t,"/")),window.history.pushState(null,null,n)},US=function(){var t=window.jQuery("iframe.pdfjs")[0];t&&t.contentWindow.postMessage("disableRectangleTool","*")},BS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}(l,e);var n,r,i,o,s=(i=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=NS(i);if(o){var n=NS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return LS(this,t)});function l(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=s.call(this,e);var r=null,i=!1;window&&window.location&&window.location.pathname&&(i=!!(r=window.location.pathname.match(/annotations\/(\d+)\//)))&&(r=window.parseInt(r[1],10));var o=null;return i&&(o=a()(n.props.asset.annotations,{id:r})),n.state={selectionStartTime:o?o.range1:0,selectionEndTime:o?o.range2:0,assetTitle:n.props.asset?n.props.asset.title:null,assetTranscript:n.props.asset?n.props.asset.transcript:null,deletingSelectionId:null,showDeleteDialog:!1,showDeletedDialog:!1,validationError:null,activeSelection:o?o.title:null,tab:"viewSelections",isDrawing:!1,isEditing:null,annotationTool:null,showCancel:!1,showClear:!1,toolType:null,pdfRect:null},n.draw=null,n.playerRef=t.createRef(),n.polygonButtonRef=t.createRef(),n.freeformShapeButtonRef=t.createRef(),n.drawlineButtonRef=t.createRef(),n.startButtonRef=t.createRef(),n.asset=new Tf(n.props.asset),n.type=n.asset.getType(),n.onStartTimeClick=n.onStartTimeClick.bind(FS(n)),n.onEndTimeClick=n.onEndTimeClick.bind(FS(n)),n.onCreateSelection=n.onCreateSelection.bind(FS(n)),n.onSaveSelection=n.onSaveSelection.bind(FS(n)),n.onDeleteSelection=n.onDeleteSelection.bind(FS(n)),n.showDeleteDialog=n.showDeleteDialog.bind(FS(n)),n.hideDeleteDialog=n.hideDeleteDialog.bind(FS(n)),n.hideDeletedDialog=n.hideDeletedDialog.bind(FS(n)),n.onShowValidationError=n.onShowValidationError.bind(FS(n)),n.hideValidationError=n.hideValidationError.bind(FS(n)),n.onClearActiveSelection=n.onClearActiveSelection.bind(FS(n)),n.onStartTimeUpdate=n.onStartTimeUpdate.bind(FS(n)),n.onEndTimeUpdate=n.onEndTimeUpdate.bind(FS(n)),n.onSelectSelection=n.onSelectSelection.bind(FS(n)),n.onViewSelection=n.onViewSelection.bind(FS(n)),n.onPlaySelection=n.onPlaySelection.bind(FS(n)),n.onSelectTab=n.onSelectTab.bind(FS(n)),n.onDrawEnd=n.onDrawEnd.bind(FS(n)),n.onDrawStart=n.onDrawStart.bind(FS(n)),n.onUpdateIsEditing=n.onUpdateIsEditing.bind(FS(n)),n.onClearVectorLayer=n.onClearVectorLayer.bind(FS(n)),n.addInteraction=n.addInteraction.bind(FS(n)),n.addFreeformInteraction=n.addFreeformInteraction.bind(FS(n)),n.addDrawlineInteraction=n.addDrawlineInteraction.bind(FS(n)),n.onUpdateAssetTitle=n.onUpdateAssetTitle.bind(FS(n)),n.onUpdateAssetTranscript=n.onUpdateAssetTranscript.bind(FS(n)),n.onDrawCancel=n.onDrawCancel.bind(FS(n)),n.onClickClear=n.onClickClear.bind(FS(n)),n.onClickCancel=n.onClickCancel.bind(FS(n)),n.onRectangleClicked=n.onRectangleClicked.bind(FS(n)),n}return n=l,r=[{key:"onUpdateIsEditing",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={isEditing:t};t||(n.isDrawing=!1,e&&(n.activeSelection=e.title)),this.setState(n,(function(){e&&R(jQuery("#selectionsAccordion"),e.id,!0)}))}},{key:"onUpdateAssetTitle",value:function(t){this.setState({assetTitle:t})}},{key:"onUpdateAssetTranscript",value:function(t){this.setState({assetTranscript:t})}},{key:"onCreateSelection",value:function(t,e,n){this.setState({validationError:null,showCancel:!1,showClear:!1,toolType:null}),t.preventDefault();var r,i,o=this,a={title:document.getElementById("newSelectionTitle").value,tags:e,terms:n,body:document.getElementById("newSelectionNotes").value},s={};if("image"===this.type){var l=this.selectionSource.getFeatures()[0].getGeometry(),c=l.getCoordinates(),d=l.getExtent();a.range1=-2,a.range2=-1,"polygon"===this.state.annotationTool?s={geometry:{type:"Polygon",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"polygon"}:"freeformShape"===this.state.annotationTool?s={geometry:{type:"Polygon",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"freeformShape"}:"drawline"===this.state.annotationTool&&(s={geometry:{type:"LineString",coordinates:c},default:!1,x:-2,y:-1,zoom:1,extent:d,tool:"drawline"})}else if("video"===this.type)a.range1=this.state.selectionStartTime||0,a.range2=this.state.selectionEndTime,s={startCode:v(this.state.selectionStartTime||0),endCode:v(this.state.selectionEndTime),duration:this.state.selectionEndTime-(this.state.selectionStartTime||0),timeScale:1,start:this.state.selectionStartTime||0,end:this.state.selectionEndTime};else if("pdf"===this.type){if(!this.state.pdfRect)return void this.onShowValidationError("Please make a selection on the PDF.");s={geometry:{type:"Rectangle",page:this.state.pdfRect.page,coordinates:this.state.pdfRect.coords}}}return a.annotation_data=s,(r=this.asset.asset.id,i=a,i.range1&&i.range2||(i.range1=-2,i.range2=-1),u("/asset/".concat(r,"/sherdnote/create/"),"post",JSON.stringify(i)).then((function(t){return 201===t.status?t.json():t.json().then((function(t){var e="";for(var n in t)e+="".concat(n,": ").concat(t[n],"\n");throw e.slice(0,-1)}))}))).then((function(e){return o.setState({activeSelection:e.title,tab:"viewSelections"},(function(){return h(o.asset.asset.id).then((function(t){return o.props.onUpdateAsset(t.assets[o.asset.asset.id])})).then((function(){return R(jQuery("#selectionsAccordion"),e.id,!0),e.annotation_data&&(e.annotation=JSON.parse(e.annotation_data)),o.onSelectSelection(e.title,e.id),o.setState({pdfRect:null}),o.onViewSelection(t,e)}))}))}))}},{key:"onSaveSelection",value:function(t,e,n,r){this.setState({validationError:null,showCancel:!1,showClear:!1,toolType:null}),US(),t.preventDefault();var i=this,o=null,a={title:document.getElementById("newSelectionTitle").value,tags:n,terms:r,body:document.getElementById("newSelectionNotes").value};if("image"===this.type&&this.selectionSource&&this.selectionSource.getFeatures().length){var s=this.selectionSource.getFeatures()[0].getGeometry(),l=s.getCoordinates(),c=s.getExtent();"polygon"===this.state.annotationTool?o={geometry:{type:"Polygon",coordinates:l},default:!1,x:-2,y:-1,zoom:1,extent:c,tool:"polygon"}:"freeformShape"===this.state.annotationTool?o={geometry:{type:"Polygon",coordinates:l},default:!1,x:-2,y:-1,zoom:1,extent:c,tool:"freeformShape"}:"drawline"===this.state.annotationTool&&(o={geometry:{type:"LineString",coordinates:l},default:!1,x:-2,y:-1,zoom:1,extent:c,tool:"drawline"})}else"video"===this.type?(a.range1=this.state.selectionStartTime||0,a.range2=this.state.selectionEndTime,o={startCode:v(this.state.selectionStartTime||0),endCode:v(this.state.selectionEndTime),duration:this.state.selectionEndTime-(this.state.selectionStartTime||0),timeScale:1,start:this.state.selectionStartTime||0,end:this.state.selectionEndTime}):"pdf"===this.type&&(o={geometry:{type:"Rectangle",page:this.state.pdfRect.page,coordinates:this.state.pdfRect.coords}});return o&&(a.annotation_data=JSON.stringify(o)),function(t,e,n){return u("/asset/save/".concat(t,"/annotations/").concat(e,"/"),"post",JSON.stringify(n))}(this.asset.asset.id,e,a).then((function(t){return h(i.asset.asset.id).then((function(t){return i.props.onUpdateAsset(t.assets[i.asset.asset.id])})).then((function(){R(jQuery("#selectionsAccordion"),e,!0)}))}),(function(t){i.setState({showCreateError:!0,createError:t},(function(){document.getElementById("create-error-alert").scrollIntoView()}))}))}},{key:"onDeleteSelection",value:function(t){t.preventDefault();var e,n,r=this;(e=this.asset.asset.id,n=this.state.deletingSelectionId,u("/asset/delete/".concat(e,"/annotations/").concat(n,"/"),"post").then((function(t){if(200===t.status)return t.json();throw"Error deleting selection: "+"(".concat(t.status,") ").concat(t.statusText)}))).then((function(){r.hideDeleteDialog(),r.setState({showDeletedDialog:!0}),h(r.asset.asset.id).then((function(t){r.props.onUpdateAsset(t.assets[r.asset.asset.id]),r.onClearActiveSelection()}))}))}},{key:"pause",value:function(){var t=this.playerRef.current.getInternalPlayer();t&&t.pauseVideo?t.pauseVideo():t&&t.pause&&t.pause()}},{key:"onPlayerProgress",value:function(t){this.state.selectionEndTime&&t.playedSeconds>this.state.selectionEndTime&&this.pause()}},{key:"onStartTimeUpdate",value:function(t){var e=t;t.target&&(e=m(t.target.value)),this.setState({selectionStartTime:e})}},{key:"onEndTimeUpdate",value:function(t){var e=t;t.target&&(e=m(t.target.value)),this.setState({selectionEndTime:e})}},{key:"onStartTimeClick",value:function(t){t.preventDefault();var e=C(this.playerRef.current.getInternalPlayer());if("number"==typeof e)this.setState({selectionStartTime:e});else if(e.then){var n=this;e.then((function(t){n.setState({selectionStartTime:t})}))}}},{key:"onEndTimeClick",value:function(t){t.preventDefault();var e=C(this.playerRef.current.getInternalPlayer());if("number"==typeof e)this.setState({selectionEndTime:e});else if(e.then){var n=this;e.then((function(t){n.setState({selectionEndTime:t})}))}this.pause()}},{key:"showDeleteDialog",value:function(t){this.setState({deletingSelectionId:t,showDeleteDialog:!0})}},{key:"hideDeleteDialog",value:function(){this.setState({deletingSelectionId:null,showDeleteDialog:!1})}},{key:"hideDeletedDialog",value:function(){this.setState({showDeletedDialog:!1})}},{key:"onShowValidationError",value:function(t){this.setState({validationError:t})}},{key:"hideValidationError",value:function(){this.setState({validationError:null})}},{key:"onSelectSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&null===e&&this.onClearActiveSelection(),this.setState({activeSelection:t}),zS(e)}},{key:"onClearActiveSelection",value:function(){var t={activeSelection:null};if("image"===this.type)this.draw&&this.map.removeInteraction(this.draw),this.selectionLayer&&this.map.removeLayer(this.selectionLayer),pg(this.map,this.selectionSource,this.asset.getImage());else if("video"===this.type)t.selectionStartTime=null,t.selectionEndTime=null;else if("pdf"===this.type){var e=window.jQuery("iframe.pdfjs")[0];e&&e.contentWindow.postMessage("onClearSelection","*")}this.setState(t)}},{key:"onViewSelection",value:function(t,e){if("image"===this.type){this.selectionLayer&&this.map.removeLayer(this.selectionLayer);var n=hg(e,this.map);this.selectionLayer=n}else if("video"===this.type)this.playerRef.current.seekTo(e.range1,"seconds"),this.setState({selectionStartTime:e.range1,selectionEndTime:e.range2});else if("pdf"===this.type){var r=window.jQuery("iframe.pdfjs")[0],i=e.annotation.geometry;i.message="onViewSelection",r&&r.contentWindow.postMessage(i,"*")}}},{key:"onSelectTab",value:function(t){this.setState({tab:t}),this.onClearActiveSelection(),zS(null)}},{key:"onClearVectorLayer",value:function(){this.selectionSource&&dg(this.selectionSource),this.selectionLayer&&this.map.removeLayer(this.selectionLayer)}},{key:"onClickClear",value:function(){this.onClearVectorLayer(),this.onClearActiveSelection(),this.setState({isDrawing:!1,showClear:!1,annotationTool:null,toolType:null}),US()}},{key:"onPlaySelection",value:function(t){t.preventDefault();var e=this.playerRef.current.getInternalPlayer(),n=C(e);Math.round(n)!==Math.round(this.state.selectionStartTime)&&this.playerRef.current.seekTo(this.state.selectionStartTime,"seconds"),e&&e.playVideo?e.playVideo():e&&e.play&&e.play()}},{key:"onClickCancel",value:function(t,e){t.preventDefault(),this.onUpdateIsEditing(null,e),this.onClearActiveSelection(),this.setState({annotationTool:null,toolType:null})}},{key:"onRectangleClicked",value:function(){this.setState({toolType:"rect",showCancel:!0,showClear:!1});var t=window.jQuery("iframe.pdfjs")[0];t&&t.contentWindow.postMessage("enableRectangleTool","*")}},{key:"render",value:function(){var e=this,n=null,r=null,i="asset: ".concat(this.props.asset.title);if(this.state.activeSelection&&(i="annotation: ".concat(this.state.activeSelection)),"viewMetadata"===this.state.tab&&(r=t.createElement("div",{className:"input-group"},t.createElement("div",{className:"form-check form-control-sm invisible"},t.createElement("input",{className:"form-check-input",type:"checkbox"})))),"image"===this.type){var o=t.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},t.createElement("form",null,t.createElement("div",{className:"form-row align-items-center"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab&&this.state.isEditing)&&t.createElement(t.Fragment,null,t.createElement("p",{className:"av-selections"},"Draw Selection"),t.createElement("button",{type:"button",ref:this.polygonButtonRef,className:"btn btn-light btn-sm mr-2 polygon-button "+("polygon"===this.state.toolType?"bg-warning":""),onClick:this.addInteraction},t.createElement("svg",{className:"bi bi-pentagon",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M8 1.288l-6.842 5.56L3.733 15h8.534l2.575-8.153L8 1.288zM16 6.5L8 0 0 6.5 3 16h10l3-9.5z"}))," Polygon"),t.createElement("button",{type:"button",ref:this.freeformShapeButtonRef,className:"btn btn-light btn-sm mr-2 freeformShape-button "+("freeformShape"===this.state.toolType?"bg-warning":""),onClick:this.addFreeformInteraction},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}))," Freeform Shape"),t.createElement("button",{type:"button",ref:this.drawlineButtonRef,className:"btn btn-light btn-sm mr-2 drawline-button "+("drawline"===this.state.toolType?"bg-warning":""),onClick:this.addDrawlineInteraction},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",className:"bi bi-brush",viewBox:"0 0 16 16"},t.createElement("path",{d:"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z"}))," Line"),this.state.showCancel&&t.createElement("button",{type:"button",id:"cancel-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onDrawCancel},"Cancel"),this.state.showClear&&!this.state.isEditing&&t.createElement("button",{type:"button",id:"clear-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onClickClear},"Clear")))));n=t.createElement(t.Fragment,null,o,t.createElement("div",{id:"map-".concat(this.props.asset.id),className:"ol-map","aria-live":"polite","aria-label":"Image for "+i}))}else if("video"===this.type){var a="createSelection"===this.state.tab||this.state.activeSelection&&"viewSelections"===this.state.tab,s=t.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},t.createElement("form",null,t.createElement("div",{className:"form-row"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab)&&t.createElement(t.Fragment,null,t.createElement("div",{className:"col-md-10"},t.createElement("div",{className:"input-group"},this.state.activeSelection&&"viewSelections"===this.state.tab&&!this.state.isEditing&&t.createElement(t.Fragment,null,t.createElement("label",{className:"av-selections mt-1"},"Selection"),t.createElement("div",{className:"mt-1"},v(this.state.selectionStartTime),String.fromCharCode(160),String.fromCharCode(8212),String.fromCharCode(160),v(this.state.selectionEndTime))),("createSelection"===this.state.tab||this.state.isEditing)&&t.createElement(t.Fragment,null,t.createElement("label",{className:"av-selections mt-1",htmlFor:"juxTimecode"},"Selection"),t.createElement("button",{onClick:this.onStartTimeClick,ref:this.startButtonRef,type:"button",className:"btn btn-light btn-sm mr-1"},"Start"),t.createElement(MS,{min:0,onChange:this.onStartTimeUpdate,timecode:this.state.selectionStartTime}),t.createElement("button",{onClick:this.onEndTimeClick,type:"button",className:"btn btn-light btn-sm ml-2 mr-1"},"Stop"),t.createElement(MS,{min:0,onChange:this.onEndTimeUpdate,timecode:this.state.selectionEndTime})),t.createElement("div",{className:"ml-2 mt-1 "+(a?"":"invisible")},String.fromCharCode(8226)," Length:",String.fromCharCode(160),t.createElement("strong",null,v(b(this.state.selectionStartTime,this.state.selectionEndTime)))))),t.createElement("div",{className:"col-md-2 text-right"+(a?"":"invisible")},("createSelection"===this.state.tab||this.state.activeSelection&&"viewSelections"===this.state.tab)&&t.createElement("button",{onClick:this.onPlaySelection,type:"button",disabled:this.state.selectionStartTime>=this.state.selectionEndTime,className:"btn btn-primary btn-sm"},"Play",t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-play-fill ml-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})))))))),l=this.asset.extractSource(),u=null;l&&(u=l.url);var c={file:{attributes:{}}};window.MediaThread.allow_item_download||(c.file.attributes.controlsList="nodownload");var h=this.asset.getCaptionTrack();h&&(c.file.attributes={crossOrigin:"true"},c.file.tracks=[{kind:"subtitles",src:h,default:!0}]),n=t.createElement(t.Fragment,null,s,t.createElement("div",{className:"embed-responsive embed-responsive-16by9","aria-live":"polite","aria-label":"Video for "+i},t.createElement(bb.Z,{className:"react-player embed-responsive-item",width:"100%",height:"100%",style:{backgroundColor:"black"},onProgress:this.onPlayerProgress.bind(this),ref:this.playerRef,url:u,controls:!0,config:c})))}else if("pdf"===this.type){var d=t.createElement("div",{className:"toolbar-annotations toolbar-annotation p-3 bg-dark text-white"},t.createElement("form",null,t.createElement("div",{className:"form-row align-items-center"},r,("createSelection"===this.state.tab||"viewSelections"===this.state.tab&&this.state.isEditing)&&t.createElement(t.Fragment,null,t.createElement("p",{className:"av-selections"},"Draw Selection"),t.createElement("button",{type:"button",onClick:this.onRectangleClicked,className:"btn btn-light btn-sm mr-2 polygon-button "+("rect"===this.state.toolType?"bg-warning":"")},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-square",viewBox:"0 0 16 16"},t.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}))," Rectangle"),this.state.showCancel&&t.createElement("button",{type:"button",id:"cancel-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onDrawCancel},"Cancel"),this.state.showClear&&!this.state.isEditing&&t.createElement("button",{type:"button",id:"clear-btn",className:"btn btn-danger btn-sm ml-auto",onClick:this.onClickClear},"Clear")))));n=t.createElement(t.Fragment,null,d,t.createElement("div",{className:"d-flex","aria-live":"polite","aria-label":"PDF for "+i},t.createElement("iframe",{className:"flex-fill pdfjs",src:"/asset/pdfjs/".concat(this.asset.asset.id),style:{height:"600px"}})))}var p="Original Item";return"createSelection"===this.state.tab?p="1. Make a Selection":"viewSelections"===this.state.tab&&this.state.activeSelection&&(p=this.state.activeSelection),t.createElement("div",{className:"tab-content asset-detail"},t.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap"},t.createElement("h2",{className:"col-md-7 asset-detail-title"},this.state.assetTitle),t.createElement(ew,{className:"col-md-5 justify-content-end mb-2",variant:"pills",defaultActiveKey:"/"},t.createElement(ew.Item,null,t.createElement(ew.Link,{onClick:function(){return e.onSelectTab("viewSelections")},active:"viewSelections"===this.state.tab},"View Selections")),t.createElement(ew.Item,null,t.createElement(ew.Link,{onClick:function(){return e.onSelectTab("createSelection")},active:"createSelection"===this.state.tab},"Create Selection")),t.createElement(ew.Item,null,t.createElement(ew.Link,{onClick:function(){return e.onSelectTab("viewMetadata")},active:"viewMetadata"===this.state.tab},"View Metadata")))),t.createElement("div",{className:"col-md-6 offset-md-3"},t.createElement(A_,{dismissible:!0,variant:"danger",onClose:this.hideValidationError,show:!!this.state.validationError},this.state.validationError),t.createElement(A_,{dismissible:!0,variant:"primary",show:this.state.showDeletedDialog,onClose:this.hideDeletedDialog},"Selection deleted.")),t.createElement("div",{className:"row"},t.createElement("div",{className:"col-sm-7"},t.createElement("h3",null,p),t.createElement("div",{className:"sticky-top"},n,this.state.assetTranscript&&t.createElement("div",{className:"mediathread-transcript"},this.state.assetTranscript))),t.createElement("div",{className:"col-sm-5"},"viewSelections"===this.state.tab&&t.createElement(dS,{type:this.type,tags:this.props.tags,terms:this.props.terms,selectionSource:this.selectionSource,selectionStartTime:this.state.selectionStartTime,selectionEndTime:this.state.selectionEndTime,filteredSelections:this.props.asset.annotations,isEditing:this.state.isEditing,onUpdateIsEditing:this.onUpdateIsEditing,onSelectSelection:this.onSelectSelection,onSelectTab:this.onSelectTab,onViewSelection:this.onViewSelection,onPlaySelection:this.onPlaySelection,onSaveSelection:this.onSaveSelection,onShowValidationError:this.onShowValidationError,onDeleteSelection:this.onDeleteSelection,hideDeleteDialog:this.hideDeleteDialog,showDeleteDialog:this.showDeleteDialog,showDeleteDialogBool:this.state.showDeleteDialog,onClickCancel:this.onClickCancel,onClearVectorLayer:this.onClearVectorLayer}),"createSelection"===this.state.tab&&t.createElement(t.Fragment,null,t.createElement("h3",null,"2. Add Details"),t.createElement(vx,{type:this.type,tags:this.props.tags,terms:this.props.terms,selectionSource:this.selectionSource,selectionStartTime:this.state.selectionStartTime,selectionEndTime:this.state.selectionEndTime,onStartTimeClick:this.onStartTimeClick,onEndTimeClick:this.onEndTimeClick,onCreateSelection:this.onCreateSelection,onShowValidationError:this.onShowValidationError})),"viewMetadata"===this.state.tab&&t.createElement(PS,{assetInstance:this.asset,asset:this.props.asset,onUpdateAssetTitle:this.onUpdateAssetTitle,onUpdateAssetTranscript:this.onUpdateAssetTranscript,onShowValidationError:this.onShowValidationError,leaveAssetDetailView:this.props.leaveAssetDetailView}))))}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=new fw,i=new zs;e.tab!==this.state.tab&&"createSelection"===this.state.tab?"video"===this.type&&this.startButtonRef.current.focus():"pdf"===this.type&&"createSelection"===e.tab&&e.tab!==this.state.tab&&US(),e.isDrawing!==this.state.isDrawing&&(this.state.isDrawing?(this.map.getControls().clear(),this.map.getInteractions().clear(),this.map.addInteraction(this.draw)):(this.map.addControl(i),this.map.addControl(r),Bl().forEach((function(t){n.map.addInteraction(t)}))))}},{key:"componentDidMount",value:function(){var t=this,e=window.location.pathname.match(/annotations\/(\d+)\//),n=null;if(e&&e.length>1&&(n=parseInt(e[1],10),R(jQuery("#selectionsAccordion"),n,!0)),"image"===this.type){var r=this.asset.getImage(),i=ug(r.width,r.height),o=new _o({code:"xkcd-image",units:"pixels",extent:i});fw.prototype.handleCenter=function(){this.getMap().getView().setCenter(Dn(i)),this.getMap().getView().setZoom(1)},this.selectionSource=new Ch({wrapX:!1});var s=new fh({source:this.selectionSource});if(this.map=new Hl({target:"map-".concat(this.props.asset.id),controls:[new zs,new fw],keyboardEventTarget:document,layers:[new su({source:new Mu({url:r.url,projection:o,imageExtent:i})}),s],view:new _s({projection:o,center:Dn(i),zoom:1})}),n){var l=a()(this.props.asset.annotations,{id:n});this.onViewSelection(null,l)}}else"pdf"===this.type&&(window.onmessage=function(e){if(e.data.message&&"pdfAnnotationRectCreated"===e.data.message)t.setState({pdfRect:e.data.rect,toolType:null,showCancel:!1,showClear:!0});else if(e.data.message&&"pdfLoaded"===e.data.message){if(n){var r=a()(t.props.asset.annotations,{id:n});t.onViewSelection(null,r)}}else e.data.message&&"pdfAnnotationRectStarted"===e.data.message&&t.setState({showCancel:!1,showClear:!0})})}},{key:"onDrawEnd",value:function(t){this.setState({showCancel:!1,isDrawing:!1,toolType:null}),t.feature.setStyle(cg),this.draw&&this.map.removeInteraction(this.draw)}},{key:"onDrawCancel",value:function(){this.setState({showCancel:!1,isDrawing:!1,annotationTool:null,toolType:null}),this.draw&&this.map.removeInteraction(this.draw),"pdf"===this.type&&US()}},{key:"onDrawStart",value:function(){this.setState({isDrawing:!0,showCancel:!1,showClear:!0}),this.onClearVectorLayer()}},{key:"addInteraction",value:function(){this.setState({annotationTool:"polygon",showCancel:!0,showClear:!1,toolType:"polygon"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new pw({source:this.selectionSource,stopClick:!0,type:"Polygon"}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}},{key:"addFreeformInteraction",value:function(){this.setState({annotationTool:"freeformShape",showCancel:!0,showClear:!1,toolType:"freeformShape"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new pw({source:this.selectionSource,type:"Polygon",freehand:!0}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}},{key:"addDrawlineInteraction",value:function(){this.setState({annotationTool:"drawline",showCancel:!0,showClear:!1,toolType:"drawline"}),this.onClearVectorLayer(),this.draw&&this.map.removeInteraction(this.draw),this.setState({isDrawing:!0}),this.draw=new pw({source:this.selectionSource,type:"LineString",freehand:!0}),this.draw.on("drawstart",this.onDrawStart),this.draw.on("drawend",this.onDrawEnd),this.draw.on("drawabort",this.onDrawEnd),this.map.addInteraction(this.draw)}}],r&&DS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function VS(t){return VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VS(t)}function WS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GS(t,e){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},GS(t,e)}function qS(t,e){if(e&&("object"===VS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $S(t){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$S(t)}BS.propTypes={asset:D().object,tags:D().array,terms:D().array,leaveAssetDetailView:D().func.isRequired,onUpdateAsset:D().func.isRequired};var XS=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GS(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$S(i);if(o){var n=$S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qS(this,t)});function s(){return WS(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert"},t.createElement("strong",null,"Hmmm.")," You have not collected any items. Click ",t.createElement("strong",null,"Add to Collection")," to get started or search for items your classmates have collected using the ",t.createElement("strong",null,"Owner")," list.",t.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},t.createElement("span",{"aria-hidden":"true"},"×")))}}])&&HS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function YS(t){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YS(t)}function KS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ZS(t,e)}function QS(t,e){if(e&&("object"===YS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return JS(t)}function JS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tC(t){return tC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tC(t)}var eC=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tC(i);if(o){var n=tC(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return QS(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).nextPage=e.nextPage.bind(JS(e)),e.prevPage=e.prevPage.bind(JS(e)),e.lastPage=e.lastPage.bind(JS(e)),e.firstPage=e.firstPage.bind(JS(e)),e}return n=s,(r=[{key:"setPageAndUpdateAssets",value:function(t){this.props.onUpdateItems(null),this.props.updateCurrentPage(t);var e=T(this.props),n=this;c(e.title,e.owner,e.tags,e.terms,e.date,t*l).then((function(t){n.props.onUpdateItems(t.assets,t.asset_count,t.active_tags,t.active_vocabulary),n.props.updatePageCount(t.asset_count)}),(function(t){console.error("asset get error!",t)}))}},{key:"lastPage",value:function(){this.setPageAndUpdateAssets(this.props.pageCount-1)}},{key:"firstPage",value:function(){this.setPageAndUpdateAssets(0)}},{key:"nextPage",value:function(){var t=Math.min(this.props.currentPage+1,this.props.pageCount-1);this.setPageAndUpdateAssets(t)}},{key:"prevPage",value:function(){var t=Math.max(this.props.currentPage-1,0);this.setPageAndUpdateAssets(t)}},{key:"render",value:function(){return t.createElement("div",{className:"col-md-6"},t.createElement("ul",{className:"pagination nav justify-content-end btn-sm",style:{padding:0}},t.createElement("li",{className:"page-item "+(this.props.currentPage<=0?"disabled":"")},t.createElement("a",{className:"page-link",href:"#","aria-label":"First",onClick:this.firstPage},"First")),t.createElement("li",{className:"page-item "+(this.props.currentPage<=0?"disabled":"")},t.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:this.prevPage},"Previous")),t.createElement("li",{className:"page-item active"},t.createElement("div",{className:"page-link"},this.props.currentPage+1," of ",Math.max(this.props.pageCount,1),t.createElement("span",{className:"sr-only"},"(current)"))),t.createElement("li",{className:"page-item "+(this.props.currentPage>=this.props.pageCount-1?"disabled":"")},t.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:this.nextPage},"Next")),t.createElement("li",{className:"page-item "+(this.props.currentPage>=this.props.pageCount-1?"disabled":"")},t.createElement("a",{className:"page-link",href:"#","aria-label":"Last",onClick:this.lastPage},"Last"))))}}])&&KS(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function nC(t){return nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nC(t)}function rC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oC(t,e)}function aC(t,e){if(e&&("object"===nC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function sC(t){return sC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sC(t)}eC.propTypes={currentPage:D().number.isRequired,pageCount:D().number.isRequired,updatePageCount:D().func.isRequired,updateCurrentPage:D().func.isRequired,onUpdateItems:D().func.isRequired,owner:D().string,title:D().string,tags:D().array,terms:D().array,date:D().string};var lC=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sC(i);if(o){var n=sC(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return aC(this,t)});function s(){return rC(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){var e=this,n=(Math.random()+1).toString(36).substring(7);return t.createElement("div",{className:"col-md-6"},t.createElement("div",{id:"view-toggle=".concat(n),className:"btn-group",role:"group","aria-label":"View Toggle"},t.createElement("button",{type:"button",id:"viewtoggle-grid-".concat(n),"data-testid":"viewtoggle-grid",onClick:function(){return e.props.setViewMode("grid")},className:"btn btn-outline-primary btn-sm "+("grid"===this.props.viewMode?"active":"")},"Grid"),t.createElement("button",{type:"button",id:"viewtoggle-list-".concat(n),"data-testid":"viewtoggle-list",onClick:function(){return e.props.setViewMode("list")},className:"btn btn-outline-primary btn-sm "+("list"===this.props.viewMode?"active":"")},"List")))}}])&&iC(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function uC(t){return uC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uC(t)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pC(t,e)}function fC(t,e){if(e&&("object"===uC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gC(t)}function gC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mC(t){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mC(t)}lC.propTypes={viewMode:D().string.isRequired,setViewMode:D().func.isRequired};var yC=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mC(i);if(o){var n=mC(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fC(this,t)});function s(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e)).state={viewMode:"grid",selectedAsset:null,title:null,owner:window.MediaThread?window.MediaThread.current_username:"all",tags:[],terms:[],date:"all",currentPage:0,pageCount:1},n.setViewMode=n.setViewMode.bind(gC(n)),n.enterAssetDetailView=n.enterAssetDetailView.bind(gC(n)),n.leaveAssetDetailView=n.leaveAssetDetailView.bind(gC(n)),n.onUpdateAsset=n.onUpdateAsset.bind(gC(n)),n.onUpdateFilter=n.onUpdateFilter.bind(gC(n)),n.updatePageCount=n.updatePageCount.bind(gC(n)),n.updateCurrentPage=n.updateCurrentPage.bind(gC(n)),n.onClearFilter=n.onClearFilter.bind(gC(n)),n.filterRef=t.createRef(),n}return n=s,r=[{key:"onUpdateFilter",value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cC(Object(n),!0).forEach((function(e){hC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({currentPage:0},t))}},{key:"onClearFilter",value:function(){this.setState({title:null,owner:window.MediaThread?window.MediaThread.current_username:"all",tags:[],terms:[],date:"all",currentPage:0})}},{key:"updateCurrentPage",value:function(t){this.setState({currentPage:t})}},{key:"updatePageCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t&&(t=this.props.assetCount),this.setState({pageCount:Math.ceil(t/l)})}},{key:"componentDidUpdate",value:function(t,e){t.asset!==this.props.asset&&this.setState({selectedAsset:this.props.asset}),t.assetCount!==this.props.assetCount&&this.updatePageCount()}},{key:"setViewMode",value:function(t){this.setState({viewMode:t})}},{key:"followLink",value:function(t){if(t){t.preventDefault();var e=null;t.target.href?e=t.target.href:t.currentTarget&&t.currentTarget.href&&(e=t.currentTarget.href),e&&window.history.pushState(null,null,e)}}},{key:"enterAssetDetailView",value:function(t,e){this.followLink(t),jQuery(".collection-header").removeClass("d-flex").addClass("d-none"),jQuery(".collectionAdd").removeClass("show");var n=this;h(e.id).then((function(t){n.setState({selectedAsset:t.assets[e.id]},(function(){window.scrollTo(0,0)}))}),(function(t){n.setState({assetError:t})}))}},{key:"leaveAssetDetailView",value:function(t){if(jQuery(".collection-header").removeClass("d-none").addClass("d-flex"),this.followLink(t),this.props.assets&&this.props.assets.length){var e=this;c(this.state.title,this.state.owner,this.state.tags,this.state.terms,this.state.date).then((function(t){e.props.onUpdateAssets(t.assets,t.asset_count,t.active_tags,t.active_vocabulary),e.updatePageCount(t.asset_count)}),(function(t){console.error("asset get error!",t)}))}else{var n=this;c("",window.MediaThread.current_username).then((function(t){n.props.onUpdateAssets(t.assets,t.asset_count,t.active_tags,t.active_vocabulary,t.space_viewer.id)}))}return this.setState({selectedAsset:null})}},{key:"onUpdateAsset",value:function(t){this.setState({selectedAsset:t})}},{key:"render",value:function(){var e=[],n=t.createElement(V,null),r=this,i=this.props.assets;if(this.state.selectedAsset)n=t.createElement(BS,{asset:this.state.selectedAsset,tags:this.props.tags,terms:this.props.terms,leaveAssetDetailView:this.leaveAssetDetailView,onUpdateAsset:this.onUpdateAsset});else if(this.props.assetError)n=t.createElement("strong",null,this.props.assetError);else if(i&&"grid"===this.state.viewMode){var o=[];i.forEach((function(n,i){o.length>=3&&(e.push(t.createElement("div",{key:i,className:"card-group"},o)),o=[]),o.push(t.createElement(wg,{key:n.id,asset:n,enterAssetDetailView:r.enterAssetDetailView,currentUser:r.props.currentUser}))})),o.length>0&&e.push(t.createElement("div",{key:o[0].key,className:"card-group"},o));var a=window.MediaThread?window.MediaThread.current_username:"me";n=this.state.title||this.state.owner!==a||this.state.tags&&0!==this.state.tags.length||this.state.terms&&0!==this.state.terms.length||"all"!==this.state.date||0!==e.length?0===e.length?t.createElement(Y,null):t.createElement("div",null,e):t.createElement(XS,null)}else i&&"list"===this.state.viewMode&&(n=t.createElement(nt,{assets:i,enterAssetDetailView:this.enterAssetDetailView,onUpdateAssets:this.props.onUpdateAssets,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}));var s=null;if(this.state.selectedAsset){var l=E();s=t.createElement("div",{className:"row mt-2"},t.createElement("div",{className:"col-md-auto"},t.createElement("nav",{"aria-label":"breadcrumb"},t.createElement("ol",{className:"breadcrumb bg-light mb-0"},t.createElement("li",{className:"breadcrumb-item","aria-current":"page"},t.createElement("a",{href:l,onClick:this.leaveAssetDetailView,title:"Back to Collection"},"Back to the collection"))))))}return t.createElement("div",{role:"tabpanel"},s,!this.state.selectedAsset&&t.createElement(t.Fragment,null,t.createElement(vb,{ref:this.filterRef,items:this.props.assets,itemCount:this.props.assetCount,currentPage:this.state.currentPage,updatePageCount:this.updatePageCount,owners:this.props.owners,allTags:this.props.tags,allTerms:this.props.terms,onUpdateItems:this.props.onUpdateAssets,onUpdateFilter:this.onUpdateFilter,onClearFilter:this.onClearFilter,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}),t.createElement("div",{className:"row mb-1"},t.createElement(lC,{viewMode:this.state.viewMode,setViewMode:this.setViewMode}),t.createElement(eC,{onUpdateItems:this.props.onUpdateAssets,currentPage:this.state.currentPage,pageCount:this.state.pageCount,updatePageCount:this.updatePageCount,updateCurrentPage:this.updateCurrentPage,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date}))),t.createElement("div",{className:"assets"},n),!this.state.selectedAsset&&t.createElement("div",{className:"row mt-1"},t.createElement(lC,{viewMode:this.state.viewMode,setViewMode:this.setViewMode}),t.createElement(eC,{onUpdateItems:this.props.onUpdateAssets,currentPage:this.state.currentPage,pageCount:this.state.pageCount,updatePageCount:this.updatePageCount,updateCurrentPage:this.updateCurrentPage,owner:this.state.owner,title:this.state.title,tags:this.state.tags,terms:this.state.terms,date:this.state.date})))}}],r&&dC(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function vC(t){return vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vC(t)}function bC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _C(t,e){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_C(t,e)}function wC(t,e){if(e&&("object"===vC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xC(t)}function xC(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SC(t){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},SC(t)}yC.propTypes={asset:D().object,assets:D().array,assetCount:D().number,onUpdateAssets:D().func.isRequired,owners:D().array,tags:D().array,terms:D().array,assetError:D().string,currentUser:D().number};var CC=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_C(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=SC(i);if(o){var n=SC(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wC(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={asset:null,assets:null,assetCount:null,assetError:null,owners:null,tags:null,terms:null};var n=null,r=window.location.pathname.match(/\/asset\/(\d+)\//);r&&r.length>=2&&(n=parseInt(r[1],10)),e.assetId=n;var i=xC(e);return n?h(n).then((function(t){i.setState({asset:t.assets[n],assetCount:1,tags:t.active_tags,terms:t.active_vocabulary})}),(function(t){i.setState({assetError:t})})):c("",window.MediaThread.current_username).then((function(t){i.setState({assets:t.assets,assetCount:t.asset_count,tags:t.active_tags,terms:t.active_vocabulary,currentUser:t.space_viewer.id})}),(function(t){i.setState({assetError:t})})),h().then((function(t){t.panels.length>0&&i.setState({owners:t.panels[0].owners})}),(function(t){console.error("getAsset error",t)})),e.onUpdateAssets=e.onUpdateAssets.bind(xC(e)),"undefined"!=typeof jQuery&&jQuery.widget("ui.timecodespinner",jQuery.ui.spinner,{options:{step:100,page:60},_parse:function(t){return"string"==typeof t?Number(t)==t?Number(t):100*m(t):t},_format:function(t){return v(t/100,!0)}}),e}return n=s,r=[{key:"onUpdateAssets",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={assets:t};e&&(o.assetCount=e),n&&(o.tags=n),r&&(o.terms=r),i&&(o.currentUser=i),this.setState(o)}},{key:"render",value:function(){return t.createElement("div",{className:"tab-content"},t.createElement(yC,{asset:this.state.asset,assets:this.state.assets,assetCount:this.state.assetCount,onUpdateAssets:this.onUpdateAssets,owners:this.state.owners,tags:this.state.tags,terms:this.state.terms,assetError:this.state.assetError,currentUser:this.state.currentUser}))}},{key:"componentDidMount",value:function(){this.assetId&&(jQuery(".collection-header").removeClass("d-flex").addClass("d-none"),jQuery(".collectionAdd").removeClass("show"))}}],r&&bC(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".react-loading-msg").remove();var e=document.querySelector("#react-container");(0,n.s)(e).render(t.createElement(CC,null))}))})()})();