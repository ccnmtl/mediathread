/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={4184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},6010:(t,e,n)=>{"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.r(e),n.d(e,{default:()=>i})},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function i(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(t)?u?l.arrayMerge(t,n,l):function(t,e,n){var i={};return n.isMergeableObject(t)&&o(t).forEach((function(e){i[e]=r(t[e],n)})),o(e).forEach((function(o){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(a(t,o)&&n.isMergeableObject(e[o])?i[o]=function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(o,n)(t[o],e[o],n):i[o]=r(e[o],n))})),i}(t,n,l):r(n,l)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return s(t,n,e)}),{})};var l=s;t.exports=l},6998:function(t){t.exports=function(t,e){if(null==e&&(e={fuzzy:!0}),/youtu\.?be/.test(t)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(t))return r[n].exec(t)[1];if(e.fuzzy){var i=t.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},9090:t=>{function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function n(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=t,r.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?e:n)(a,i),a.onload||e(a,i),o.appendChild(a)}},2307:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",p="[object Promise]",y="[object RegExp]",v="[object Set]",g="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[o]=S[a]=S[_]=S[s]=S[b]=S[l]=S[u]=S[c]=S[h]=S[f]=S[d]=S[y]=S[v]=S[g]=S[m]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,k=E||C||Function("return this")(),P=e&&!e.nodeType&&e,T=P&&t&&!t.nodeType&&t,O=T&&T.exports===P,R=O&&E.process,A=function(){try{return R&&R.binding&&R.binding("util")}catch(t){}}(),I=A&&A.isTypedArray;function M(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function D(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function L(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var j,F,N,B=Array.prototype,U=Function.prototype,z=Object.prototype,W=k["__core-js_shared__"],G=U.toString,q=z.hasOwnProperty,V=(j=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",H=z.toString,X=RegExp("^"+G.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=O?k.Buffer:void 0,K=k.Symbol,Z=k.Uint8Array,Q=z.propertyIsEnumerable,J=B.splice,$=K?K.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=Y?Y.isBuffer:void 0,nt=(F=Object.keys,N=Object,function(t){return F(N(t))}),rt=Tt(k,"DataView"),it=Tt(k,"Map"),ot=Tt(k,"Promise"),at=Tt(k,"Set"),st=Tt(k,"WeakMap"),lt=Tt(Object,"create"),ut=It(rt),ct=It(it),ht=It(ot),ft=It(at),dt=It(st),pt=K?K.prototype:void 0,yt=pt?pt.valueOf:void 0;function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function bt(t){var e=this.__data__=new gt(t);this.size=e.size}function wt(t,e){for(var n=t.length;n--;)if(Mt(t[n][0],e))return n;return-1}function xt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$&&$ in Object(t)?function(t){var e=q.call(t,$),n=t[$];try{t[$]=void 0;var r=!0}catch(t){}var i=H.call(t);return r&&(e?t[$]=n:delete t[$]),i}(t):function(t){return H.call(t)}(t)}function St(t){return Ut(t)&&xt(t)==o}function Et(t,e,n,r,i){return t===e||(null==t||null==e||!Ut(t)&&!Ut(e)?t!=t&&e!=e:function(t,e,n,r,i,c){var p=Lt(t),m=Lt(e),w=p?a:Rt(t),x=m?a:Rt(e),S=(w=w==o?d:w)==d,E=(x=x==o?d:x)==d,C=w==x;if(C&&jt(t)){if(!jt(e))return!1;p=!0,S=!1}if(C&&!S)return c||(c=new bt),p||zt(t)?Ct(t,e,n,r,i,c):function(t,e,n,r,i,o,a){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!o(new Z(t),new Z(e)));case s:case l:case f:return Mt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case y:case g:return t==e+"";case h:var c=D;case v:var d=1&r;if(c||(c=L),t.size!=e.size&&!d)return!1;var p=a.get(t);if(p)return p==e;r|=2,a.set(t,e);var m=Ct(c(t),c(e),r,i,o,a);return a.delete(t),m;case"[object Symbol]":if(yt)return yt.call(t)==yt.call(e)}return!1}(t,e,w,n,r,i,c);if(!(1&n)){var k=S&&q.call(t,"__wrapped__"),P=E&&q.call(e,"__wrapped__");if(k||P){var T=k?t.value():t,O=P?e.value():e;return c||(c=new bt),i(T,O,n,r,c)}}return!!C&&(c||(c=new bt),function(t,e,n,r,i,o){var a=1&n,s=kt(t),l=s.length;if(l!=kt(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:q.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<l;){var p=t[c=s[u]],y=e[c];if(r)var v=a?r(y,p,c,e,t,o):r(p,y,c,t,e,o);if(!(void 0===v?p===y||i(p,y,n,r,o):v)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,c))}(t,e,n,r,Et,i))}function Ct(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,h=!0,f=2&n?new _t:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var y=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!M(e,(function(t,e){if(a=e,!f.has(a)&&(d===t||i(d,t,n,r,o)))return f.push(e);var a}))){h=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function kt(t){return function(t,e,n){var r=e(t);return Lt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Wt,Ot)}function Pt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Tt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Bt(t)||function(t){return!!V&&V in t}(t))&&(Ft(t)?X:w).test(It(t))}(n)?n:void 0}vt.prototype.clear=function(){this.__data__=lt?lt(null):{},this.size=0},vt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vt.prototype.get=function(t){var e=this.__data__;if(lt){var n=e[t];return n===r?void 0:n}return q.call(e,t)?e[t]:void 0},vt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:q.call(e,t)},vt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lt&&void 0===e?r:e,this},gt.prototype.clear=function(){this.__data__=[],this.size=0},gt.prototype.delete=function(t){var e=this.__data__,n=wt(e,t);return!(n<0||(n==e.length-1?e.pop():J.call(e,n,1),--this.size,0))},gt.prototype.get=function(t){var e=this.__data__,n=wt(e,t);return n<0?void 0:e[n][1]},gt.prototype.has=function(t){return wt(this.__data__,t)>-1},gt.prototype.set=function(t,e){var n=this.__data__,r=wt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new vt,map:new(it||gt),string:new vt}},mt.prototype.delete=function(t){var e=Pt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return Pt(this,t).get(t)},mt.prototype.has=function(t){return Pt(this,t).has(t)},mt.prototype.set=function(t,e){var n=Pt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,r),this},_t.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new gt,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof gt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};var Ot=tt?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];l=s,Q.call(t,l)&&(a[o++]=s)}var l;return a}(tt(t)))}:function(){return[]},Rt=xt;function At(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}function It(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mt(t,e){return t===e||t!=t&&e!=e}(rt&&Rt(new rt(new ArrayBuffer(1)))!=b||it&&Rt(new it)!=h||ot&&Rt(ot.resolve())!=p||at&&Rt(new at)!=v||st&&Rt(new st)!=m)&&(Rt=function(t){var e=xt(t),n=e==d?t.constructor:void 0,r=n?It(n):"";if(r)switch(r){case ut:return b;case ct:return h;case ht:return p;case ft:return v;case dt:return m}return e});var Dt=St(function(){return arguments}())?St:function(t){return Ut(t)&&q.call(t,"callee")&&!Q.call(t,"callee")},Lt=Array.isArray,jt=et||function(){return!1};function Ft(t){if(!Bt(t))return!1;var e=xt(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Nt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ut(t){return null!=t&&"object"==typeof t}var zt=I?function(t){return function(e){return t(e)}}(I):function(t){return Ut(t)&&Nt(t.length)&&!!S[xt(t)]};function Wt(t){return null!=(e=t)&&Nt(e.length)&&!Ft(e)?function(t,e){var n=Lt(t),r=!n&&Dt(t),i=!n&&!r&&jt(t),o=!n&&!r&&!i&&zt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!q.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||At(u,l))||s.push(u);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||z))return nt(t);var e,n,r=[];for(var i in Object(t))q.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t);var e}t.exports=function(t,e){return Et(t,e)}},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&l(t),d=n||c||h||f,p=d?r(t.length,String):[],y=p.length;for(var v in t)!e&&!u.call(t,v)||d&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||p.push(v);return p}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(t,e){return t&&r(e,i(e),t)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t,e){return t&&r(e,i(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),l=n(4626),u=n(278),c=n(8805),h=n(1911),f=n(8234),d=n(6904),p=n(4160),y=n(3824),v=n(9148),g=n(8517),m=n(1469),_=n(4144),b=n(6688),w=n(3218),x=n(2928),S=n(3674),E=n(1704),C="[object Arguments]",k="[object Function]",P="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[P]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[k]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,O,R,A,I){var M,D=1&n,L=2&n,j=4&n;if(O&&(M=A?O(e,R,A,I):O(e)),void 0!==M)return M;if(!w(e))return e;var F=m(e);if(F){if(M=y(e),!D)return u(e,M)}else{var N=p(e),B=N==k||"[object GeneratorFunction]"==N;if(_(e))return l(e,D);if(N==P||N==C||B&&!A){if(M=L||B?{}:g(e),!D)return L?h(e,s(M,e)):c(e,a(M,e))}else{if(!T[N])return A?e:{};M=v(e,N,D)}}I||(I=new r);var U=I.get(e);if(U)return U;I.set(e,M),x(e)?e.forEach((function(r){M.add(t(r,n,O,r,e,I))})):b(e)&&e.forEach((function(r,i){M.set(i,t(r,n,O,i,e,I))}));var z=F?void 0:(j?L?d:f:L?E:S)(e);return i(z||e,(function(r,i){z&&(r=e[i=r]),o(M,i,t(r,n,O,i,e,I))})),M}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function t(e,n,o,a,s){var l=-1,u=e.length;for(o||(o=i),s||(s=[]);++l<u;){var c=e[l];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,v,g){var m=l(t),_=l(e),b=m?f:s(t),w=_?f:s(e),x=(b=b==h?d:b)==d,S=(w=w==h?d:w)==d,E=b==w;if(E&&u(t)){if(!u(e))return!1;m=!0,x=!1}if(E&&!x)return g||(g=new r),m||c(t)?i(t,e,n,y,v,g):o(t,e,b,n,y,v,g);if(!(1&n)){var C=x&&p.call(t,"__wrapped__"),k=S&&p.call(e,"__wrapped__");if(C||k){var P=C?t.value():t,T=k?e.value():e;return g||(g=new r),v(P,T,n,y,g)}}return!!E&&(g||(g=new r),a(t,e,n,y,v,g))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],h=t[c],f=u[1];if(l&&u[2]){if(void 0===h&&!(c in t))return!1}else{var d=new r;if(o)var p=o(h,f,c,t,e,d);if(!(void 0===p?i(f,h,3,o,d):p))return!1}}return!0}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2689:(t,e,n)=>{var r=n(9932),i=n(7786),o=n(7206),a=n(9199),s=n(1131),l=n(1717),u=n(5022),c=n(6557),h=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[c];var f=-1;e=r(e,l(o));var d=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++f,value:t}}));return s(d,(function(t,e){return u(t,e,n)}))}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),o=n(61);t.exports=function(t,e){return o(i(t,e,r),t+"")}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),o=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},1131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,u=e==e,c=r(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(t,e){return r(t,i(t),e)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(t,e){return r(t,i(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},8777:(t,e,n)=>{var r=n(852),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,h=e.length;if(c!=h&&!(u&&h>c))return!1;var f=l.get(t),d=l.get(e);if(f&&d)return f==e&&d==t;var p=-1,y=!0,v=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<c;){var g=t[p],m=e[p];if(a)var _=u?a(m,g,p,e,t,l):a(g,m,p,t,e,l);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(g===t||s(g,t,n,a,l)))return v.push(e)}))){y=!1;break}}else if(g!==m&&!s(g,m,n,a,l)){y=!1;break}}return l.delete(t),l.delete(e),y}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=l),t.size!=e.size&&!p)return!1;var y=f.get(t);if(y)return y==e;r|=2,f.set(t,e);var v=a(d(t),d(e),r,u,h,f);return f.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var h=c;h--;){var f=u[h];if(!(l?f in e:i.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var y=!0;s.set(t,e),s.set(e,t);for(var v=l;++h<c;){var g=t[f=u[h]],m=e[f];if(o)var _=l?o(m,g,f,e,t,s):o(g,m,f,t,e,s);if(!(void 0===_?g===m||a(g,m,n,o,s):_)){y=!1;break}v||(v="constructor"==f)}if(y&&!v){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(y=!1)}return s.delete(t),s.delete(e),y}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),o=n(1704);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",y=u(r),v=u(i),g=u(o),m=u(a),_=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=h||a&&b(new a)!=f||s&&b(new s)!=d)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return p;case v:return c;case g:return h;case m:return f;case _:return d}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,h=!1;++u<c;){var f=l(e[u]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),o=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},3279:(t,e,n)=>{var r=n(3218),i=n(7771),o=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,u,c,h,f,d,p=0,y=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=l,r=u;return l=u=void 0,p=e,h=t.apply(r,n)}function _(t){return p=t,f=setTimeout(w,e),y?m(t):h}function b(t){var n=t-d;return void 0===d||n>=e||n<0||v&&t-p>=c}function w(){var t=i();if(b(t))return x(t);f=setTimeout(w,function(t){var n=e-(t-d);return v?s(n,c-(t-p)):n}(t))}function x(t){return f=void 0,g&&l?m(t):(l=u=void 0,h)}function S(){var t=i(),n=b(t);if(l=arguments,u=this,d=t,n){if(void 0===f)return _(d);if(v)return clearTimeout(f),f=setTimeout(w,e),m(d)}return void 0===f&&(f=setTimeout(w,e)),h}return e=o(e)||0,r(n)&&(y=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,e):c,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=d=u=f=void 0},S.flush=function(){return void 0===f?h:x(i())},S}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},7398:(t,e,n)=>{var r=n(5639).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},7037:(t,e,n)=>{var r=n(4239),i=n(1469),o=n(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):i(t)}},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},4885:t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},3063:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469),s=n(4885);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},9734:(t,e,n)=>{var r=n(1078),i=n(2689),o=n(5976),a=n(6612),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((i=t[n])===(o=e[n])||r(i)&&r(o)))return!1;var i,o;return!0}const o=function(t,e){var n;void 0===e&&(e=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&e(i,o)||(r=t.apply(this,i),a=!0,n=this,o=i),r}}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,l=i(t),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(e){s=e(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},8783:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.LinkTarget=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.addLinkAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,r=e.target,i=e.rel,o=e.enabled,s=void 0===o||o;(0,a.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,a.removeNullCharacters)(n);s?t.href=t.title=l:(t.href="",t.title="Disabled: ".concat(l),t.onclick=function(){return!1});var u="";switch(r){case R.NONE:break;case R.SELF:u="_self";break;case R.BLANK:u="_blank";break;case R.PARENT:u="_parent";break;case R.TOP:u="_top"}t.target=u,t.rel="string"==typeof i?i:b},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getFilenameFromUrl=function(t){var e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)},e.getPdfFilenameFromUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(A(t))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(t){}return o||e},e.getXfaPageViewport=function(t,e){var n=e.scale,r=void 0===n?1:n,i=e.rotation,o=void 0===i?0:i,a=t.attributes.style,s=a.width,l=a.height,u=[0,0,parseInt(s),parseInt(l)];return new T({viewBox:u,scale:r,rotation:o})},e.isDataScheme=A,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=D,e.loadScript=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),n(t)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)}))};var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4),s=n(135);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var b="noopener noreferrer nofollow",w={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,a.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};e.PixelsPerInch=w;var x=function(t){y(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.ownerDocument,o=void 0===i?globalThis.document:i;return f(this,n),(t=e.call(this))._document=o,t}return p(n,[{key:"_createCanvas",value:function(t,e){var n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}]),n}(s.BaseCanvasFactory);function S(t){return E.apply(this,arguments)}function E(){return E=h(o.default.mark((function t(e){var n,r,i=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!D(e,document.baseURI)){t.next=21;break}return t.next=4,fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:if(!n){t.next=15;break}return t.t1=Uint8Array,t.next=11,r.arrayBuffer();case 11:t.t2=t.sent,t.t0=new t.t1(t.t2),t.next=20;break;case 15:return t.t3=a.stringToBytes,t.next=18,r.text();case 18:t.t4=t.sent,t.t0=(0,t.t3)(t.t4);case 20:return t.abrupt("return",t.t0);case 21:return t.abrupt("return",new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e;if((200===i.status||0===i.status)&&(n&&i.response?e=new Uint8Array(i.response):!n&&i.responseText&&(e=(0,a.stringToBytes)(i.responseText)),e))return void t(e);r(new Error(i.statusText))}},i.send(null)})));case 22:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}e.DOMCanvasFactory=x;var C=function(t){y(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t,e){return S(t,this.isCompressed).then((function(t){return{cMapData:t,compressionType:e}}))}}]),n}(s.BaseCMapReaderFactory);e.DOMCMapReaderFactory=C;var k=function(t){y(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t){return S(t,!0)}}]),n}(s.BaseStandardFontDataFactory);e.DOMStandardFontDataFactory=k;var P=function(t){y(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"_createSVG",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}]),n}(s.BaseSVGFactory);e.DOMSVGFactory=P;var T=function(){function t(e){var n=e.viewBox,r=e.scale,i=e.rotation,o=e.offsetX,a=void 0===o?0:o,s=e.offsetY,l=void 0===s?0:s,u=e.dontFlip,c=void 0!==u&&u;f(this,t),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=l;var h,d,p,y,v,g,m,_,b=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:h=-1,d=0,p=0,y=1;break;case 90:h=0,d=1,p=1,y=0;break;case 270:h=0,d=-1,p=-1,y=0;break;case 0:h=1,d=0,p=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(p=-p,y=-y),0===h?(v=Math.abs(w-n[1])*r+a,g=Math.abs(b-n[0])*r+l,m=Math.abs(n[3]-n[1])*r,_=Math.abs(n[2]-n[0])*r):(v=Math.abs(b-n[0])*r+a,g=Math.abs(w-n[1])*r+l,m=Math.abs(n[2]-n[0])*r,_=Math.abs(n[3]-n[1])*r),this.transform=[h*r,d*r,p*r,y*r,v-h*r*b-p*r*w,g-d*r*b-y*r*w],this.width=m,this.height=_}return p(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,r=void 0===n?this.scale:n,i=e.rotation,o=void 0===i?this.rotation:i,a=e.offsetX,s=void 0===a?this.offsetX:a,l=e.offsetY,u=void 0===l?this.offsetY:l,c=e.dontFlip,h=void 0!==c&&c;return new t({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:s,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,e){return a.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=a.Util.applyTransform([t[0],t[1]],this.transform),n=a.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return a.Util.applyInverseTransform([t,e],this.transform)}}]),t}();e.PageViewport=T;var O=function(t){y(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,"RenderingCancelledException")).type=r,i}return n}(a.BaseException);e.RenderingCancelledException=O;var R={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(t){for(var e=t.length,n=0;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}e.LinkTarget=R;var I,M=function(){function t(){f(this,t),this.started=Object.create(null),this.times=[]}return p(t,[{key:"time",value:function(t){t in this.started&&(0,a.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,a.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,r=l(this.times);try{for(r.s();!(t=r.n()).done;){var i=t.value.name;i.length>n&&(n=i.length)}}catch(t){r.e(t)}finally{r.f()}var o,a=l(this.times);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.end-s.start;e.push("".concat(s.name.padEnd(n)," ").concat(u,"ms\n"))}}catch(t){a.e(t)}finally{a.f()}return e.join("")}}]),t}();function D(t,e){try{var n=(e?new URL(t,e):new URL(t)).protocol;return"http:"===n||"https:"===n}catch(t){return!1}}e.StatTimer=M;var L=function(){function t(){f(this,t)}return p(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,a.isString)(t))return null;I||(I=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=I.exec(t);if(!e)return null;var n=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;var l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;var u=e[7]||"Z",c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;var h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===u?(o+=c,s+=h):"+"===u&&(o-=c,s-=h),new Date(Date.UTC(n,r,i,o,s,l))}}]),t}();e.PDFDateString=L},(t,e,n)=>{"use strict";t.exports=n(3)},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var i=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===y){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=h(t,e,n);if("normal"===l.type){if(r=n.done?y:d,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=y,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",y="completed",v={};function g(){}function m(){}function _(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(R([])));x&&x!==n&&i.call(x,a)&&(b=x);var S=_.prototype=g.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,l){var u=h(t[o],t,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,l)}))}l(u.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function R(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=_,u(S,"constructor",_),u(_,"constructor",m),m.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},E(C.prototype),u(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=I,e.arraysToBytes=function(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var n=0,r=0;r<e;r++)n+=I(t[r]);for(var i=0,o=new Uint8Array(n),a=0;a<e;a++){var s=t[a];s instanceof Uint8Array||(s="string"==typeof s?A(s):new Uint8Array(s));var l=s.byteLength;o.set(s,i),i+=l}return o},e.assert=m,e.bytesToString=function(t){m(null!==t&&"object"===s(t)&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var r=[],i=0;i<e;i+=n){var o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")},e.createObjectURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([t],{type:e}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(e,";base64,"),o=0,a=t.length;o<a;o+=3){var s=255&t[o],l=255&t[o+1],u=255&t[o+2],c=s>>2,h=(3&s)<<4|l>>4,f=o+1<a?(15&l)<<2|u>>6:64,d=o+2<a?63&u:64;i+=r[c]+r[h]+r[f]+r[d]}return i},e.createPromiseCapability=function(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise((function(n,r){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,r(t)}})),t},e.createValidAbsoluteUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){var r=t.match(/\./g);r&&r.length>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=N(t)}catch(t){}}var i=e?new URL(t,e):new URL(t);if(_(i))return i}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,(function(t){return"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)}))},e.getModificationDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return e.join("")},e.getVerbosityLevel=function(){return y},e.info=function(t){y>=p.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===s(t)&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.isBool=function(t){return"boolean"==typeof t},e.isNum=function(t){return"number"==typeof t},e.isSameOrigin=function(t,e){var n;try{if(!(n=new URL(t)).origin||"null"===n.origin)return!1}catch(t){return!1}var r=new URL(e,n);return n.origin===r.origin},e.isString=function(t){return"string"==typeof t},e.objectFromMap=function(t){var e,n,r=Object.create(null),i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(i.s();!(e=i.n()).done;){var a=(n=e.value,2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n)||o(n,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],l=a[1];r[s]=l}}catch(t){i.e(t)}finally{i.f()}return r},e.objectSize=function(t){return Object.keys(t).length},e.removeNullCharacters=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof t?(v("The argument for removeNullCharacters must be a string."),t):(e&&(t=t.replace(R," ")),t.replace(O,""))},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(y=t)},e.shadow=b,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=A,e.stringToPDFString=function(t){var e=t.length,n=[];if(""===t[0]&&""===t[1])for(var r=2;r<e;r+=2)n.push(String.fromCharCode(t.charCodeAt(r)<<8|t.charCodeAt(r+1)));else if(""===t[0]&&""===t[1])for(var i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i+1)<<8|t.charCodeAt(i)));else for(var o=0;o<e;++o){var a=F[t.charCodeAt(o)];n.push(a?String.fromCharCode(a):t.charAt(o))}return n.join("")},e.stringToUTF16BEString=function(t){for(var e=[""],n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);e.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return e.join("")},e.stringToUTF8String=N,e.unreachable=g,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=v,n(5),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var p={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=p,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var y=p.WARNINGS;function v(t){y>=p.WARNINGS&&console.log("Warning: ".concat(t))}function g(t){throw new Error(t)}function m(t,e){t||g(e)}function _(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function b(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var w=function(){function t(e,n){this.constructor===t&&g("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=w;var x=function(t){u(n,t);var e=h(n);function n(t,r){var i;return l(this,n),(i=e.call(this,t,"PasswordException")).code=r,i}return n}(w);e.PasswordException=x;var S=function(t){u(n,t);var e=h(n);function n(t,r){var i;return l(this,n),(i=e.call(this,t,"UnknownErrorException")).details=r,i}return n}(w);e.UnknownErrorException=S;var E=function(t){u(n,t);var e=h(n);function n(t){return l(this,n),e.call(this,t,"InvalidPDFException")}return n}(w);e.InvalidPDFException=E;var C=function(t){u(n,t);var e=h(n);function n(t){return l(this,n),e.call(this,t,"MissingPDFException")}return n}(w);e.MissingPDFException=C;var k=function(t){u(n,t);var e=h(n);function n(t,r){var i;return l(this,n),(i=e.call(this,t,"UnexpectedResponseException")).status=r,i}return n}(w);e.UnexpectedResponseException=k;var P=function(t){u(n,t);var e=h(n);function n(t){return l(this,n),e.call(this,t,"FormatError")}return n}(w);e.FormatError=P;var T=function(t){u(n,t);var e=h(n);function n(t){return l(this,n),e.call(this,t,"AbortException")}return n}(w);e.AbortException=T;var O=/\x00+/g,R=/[\x01-\x1F]/g;function A(t){m("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function I(t){return void 0!==t.length?t.length:(m(void 0!==t.byteLength,"arrayByteLength - invalid argument."),t.byteLength)}var M={get value(){return b(this,"value",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}};e.IsLittleEndianCached=M;var D={get value(){return b(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};e.IsEvalSupportedCached=D;var L=i(Array(256).keys()).map((function(t){return t.toString(16).padStart(2,"0")})),j=function(){function t(){l(this,t)}var e,n;return e=t,n=[{key:"makeHexColor",value:function(t,e,n){return"#".concat(L[t]).concat(L[e]).concat(L[n])}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),o=t.applyTransform([e[0],e[3]],n),a=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],a[0]),Math.min(r[1],i[1],o[1],a[1]),Math.max(r[0],i[0],o[0],a[0]),Math.max(r[1],i[1],o[1],a[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,s=Math.sqrt(Math.pow(n+o,2)-4*(n*o-i*r))/2,l=a+s||1,u=a-s||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),o=[e[1],e[3],n[1],n[3]].sort(r),a=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0]?(a[0]=i[1],a[2]=i[2],o[0]===e[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===e[1]?(a[1]=o[1],a[3]=o[2],a):null):null}},{key:"bezierBoundingBox",value:function(t,e,n,r,o,a,s,l){for(var u,c,h,f,d,p,y,v,g=[],m=[[],[]],_=0;_<2;++_)if(0===_?(c=6*t-12*n+6*o,u=-3*t+9*n-9*o+3*s,h=3*n-3*t):(c=6*e-12*r+6*a,u=-3*e+9*r-9*a+3*l,h=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;0<(f=-h/c)&&f<1&&g.push(f)}else y=c*c-4*h*u,v=Math.sqrt(y),y<0||(0<(d=(-c+v)/(2*u))&&d<1&&g.push(d),0<(p=(-c-v)/(2*u))&&p<1&&g.push(p));for(var b,w=g.length,x=w;w--;)b=1-(f=g[w]),m[0][w]=b*b*b*t+3*b*b*f*n+3*b*f*f*o+f*f*f*s,m[1][w]=b*b*b*e+3*b*b*f*r+3*b*f*f*a+f*f*f*l;return m[0][x]=t,m[1][x]=e,m[0][x+1]=s,m[1][x+1]=l,m[0].length=m[1].length=x+2,[Math.min.apply(Math,i(m[0])),Math.min.apply(Math,i(m[1])),Math.max.apply(Math,i(m[0])),Math.max.apply(Math,i(m[1]))]}}],null&&r(e.prototype,null),n&&r(e,n),t}();e.Util=j;var F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function N(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{"use strict";var r=n(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(t){return Buffer.from(t,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(t){return Buffer.from(t,"base64").toString("binary")}),!globalThis.DOMMatrix&&r.isNodeJS&&(globalThis.DOMMatrix=n(69)),Object.fromEntries||n(70),globalThis.Promise.allSettled||(globalThis.Promise=n(97)),!globalThis.ReadableStream&&r.isNodeJS&&(globalThis.ReadableStream=n(134).ReadableStream))},(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var r=!("object"!==("undefined"==typeof process?"undefined":n(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},(t,e,n)=>{n(8),t.exports=n(10)},(t,e,n)=>{n(9)({global:!0},{globalThis:n(10)})},(t,e,n)=>{var r=n(10),i=n(11).f,o=n(47),a=n(50),s=n(41),l=n(57),u=n(68);t.exports=function(t,e){var n,c,h,f,d,p=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(d=i(n,c))&&d.value:n[c],!u(y?c:p+(v?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(n,c,f,t)}}},t=>{var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof __webpack_require__.g&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(t,e,n)=>{var r=n(12),i=n(14),o=n(15),a=n(16),s=n(17),l=n(22),u=n(42),c=n(45),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=s(t),e=l(e),c)try{return h(t,e)}catch(t){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},(t,e,n)=>{var r=n(13);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},t=>{var e=Function.prototype.call;t.exports=e.bind?e.bind(e):function(){return e.apply(e,arguments)}},(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},(t,e,n)=>{var r=n(18),i=n(21);t.exports=function(t){return r(i(t))}},(t,e,n)=>{var r=n(10),i=n(19),o=n(13),a=n(20),s=r.Object,l=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?l(t,""):s(t)}:s},t=>{var e=Function.prototype,n=e.bind,r=e.call,i=n&&n.bind(r);t.exports=n?function(t){return t&&i(r,t)}:function(t){return t&&function(){return r.apply(t,arguments)}}},(t,e,n)=>{var r=n(19),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},(t,e,n)=>{var r=n(10).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},(t,e,n)=>{var r=n(23),i=n(26);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},(t,e,n)=>{var r=n(10),i=n(14),o=n(24),a=n(26),s=n(33),l=n(36),u=n(37),c=r.TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,h);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},(t,e,n)=>{var r=n(25);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},t=>{t.exports=function(t){return"function"==typeof t}},(t,e,n)=>{var r=n(10),i=n(27),o=n(25),a=n(28),s=n(29),l=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,l(t))}},(t,e,n)=>{var r=n(10),i=n(25),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},(t,e,n)=>{var r=n(19);t.exports=r({}.isPrototypeOf)},(t,e,n)=>{var r=n(30);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(t,e,n)=>{var r=n(31),i=n(13);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},(t,e,n)=>{var r,i,o=n(10),a=n(32),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},(t,e,n)=>{var r=n(27);t.exports=r("navigator","userAgent")||""},(t,e,n)=>{var r=n(34);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},(t,e,n)=>{var r=n(10),i=n(25),o=n(35),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},(t,e,n)=>{var r=n(10).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},(t,e,n)=>{var r=n(10),i=n(14),o=n(25),a=n(24),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},(t,e,n)=>{var r=n(10),i=n(38),o=n(42),a=n(44),s=n(30),l=n(29),u=i("wks"),c=r.Symbol,h=c&&c.for,f=l?c:c&&c.withoutSetter||a;t.exports=function(t){if(!o(u,t)||!s&&"string"!=typeof u[t]){var e="Symbol."+t;s&&o(c,t)?u[t]=c[t]:u[t]=l&&h?h(e):f(e)}return u[t]}},(t,e,n)=>{var r=n(39),i=n(40);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},(t,e,n)=>{var r=n(10),i=n(41),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},(t,e,n)=>{var r=n(10),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},(t,e,n)=>{var r=n(19),i=n(43),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},(t,e,n)=>{var r=n(10),i=n(21),o=r.Object;t.exports=function(t){return o(i(t))}},(t,e,n)=>{var r=n(19),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},(t,e,n)=>{var r=n(12),i=n(13),o=n(46);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},(t,e,n)=>{var r=n(10),i=n(24),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},(t,e,n)=>{var r=n(12),i=n(48),o=n(16);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},(t,e,n)=>{var r=n(10),i=n(12),o=n(45),a=n(49),s=n(22),l=r.TypeError,u=Object.defineProperty;e.f=i?u:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},(t,e,n)=>{var r=n(10),i=n(24),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},(t,e,n)=>{var r=n(10),i=n(25),o=n(42),a=n(47),s=n(41),l=n(51),u=n(52),c=n(56).CONFIGURABLE,h=u.get,f=u.enforce,d=String(String).split("String");(t.exports=function(t,e,n,l){var u,h=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,y=!!l&&!!l.noTargetGet,v=l&&void 0!==l.name?l.name:e;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||c&&n.name!==v)&&a(n,"name",v),(u=f(n)).source||(u.source=d.join("string"==typeof v?v:""))),t!==r?(h?!y&&t[e]&&(p=!0):delete t[e],p?t[e]=n:a(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||l(this)}))},(t,e,n)=>{var r=n(19),i=n(25),o=n(40),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},(t,e,n)=>{var r,i,o,a=n(53),s=n(10),l=n(19),u=n(24),c=n(47),h=n(42),f=n(40),d=n(54),p=n(55),y="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new g),_=l(m.get),b=l(m.has),w=l(m.set);r=function(t,e){if(b(m,t))throw new v(y);return e.facade=t,w(m,t,e),e},i=function(t){return _(m,t)||{}},o=function(t){return b(m,t)}}else{var x=d("state");p[x]=!0,r=function(t,e){if(h(t,x))throw new v(y);return e.facade=t,c(t,x,e),e},i=function(t){return h(t,x)?t[x]:{}},o=function(t){return h(t,x)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},(t,e,n)=>{var r=n(10),i=n(25),o=n(51),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},(t,e,n)=>{var r=n(38),i=n(44),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},t=>{t.exports={}},(t,e,n)=>{var r=n(12),i=n(42),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},(t,e,n)=>{var r=n(42),i=n(58),o=n(11),a=n(48);t.exports=function(t,e){for(var n=i(e),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(t,c)||s(t,c,l(e,c))}}},(t,e,n)=>{var r=n(27),i=n(19),o=n(59),a=n(67),s=n(49),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},(t,e,n)=>{var r=n(60),i=n(66).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},(t,e,n)=>{var r=n(19),i=n(42),o=n(17),a=n(61).indexOf,s=n(55),l=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;e.length>u;)i(r,n=e[u++])&&(~a(c,n)||l(c,n));return c}},(t,e,n)=>{var r=n(17),i=n(62),o=n(64),a=function(t){return function(e,n,a){var s,l=r(e),u=o(l),c=i(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},(t,e,n)=>{var r=n(63),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},(t,e,n)=>{var r=n(65);t.exports=function(t){return r(t.length)}},(t,e,n)=>{var r=n(63),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(t,e,n)=>{var r=n(13),i=n(25),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==c||n!=u&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},(t,e,n)=>{"use strict";var r,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}o=function(){function t(t){var e=new h,n=Array.from(t);if(!n.every((function(t){return!Number.isNaN(t)})))throw TypeError('CSSMatrix: "'+t+'" must only have numbers.');if(16===n.length){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=n[9],p=n[10],y=n[11],v=n[12],g=n[13],m=n[14],_=n[15];e.m11=r,e.a=r,e.m21=s,e.c=s,e.m31=f,e.m41=v,e.e=v,e.m12=i,e.b=i,e.m22=l,e.d=l,e.m32=d,e.m42=g,e.f=g,e.m13=o,e.m23=u,e.m33=p,e.m43=m,e.m14=a,e.m24=c,e.m34=y,e.m44=_}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");var b=n[0],w=n[1],x=n[2],S=n[3],E=n[4],C=n[5];e.m11=b,e.a=b,e.m12=w,e.b=w,e.m21=x,e.c=x,e.m22=S,e.d=S,e.m41=E,e.e=E,e.m42=C,e.f=C}return e}function e(e){var n=Object.keys(new h);if("object"===a(e)&&n.every((function(t){return t in e})))return t([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError('CSSMatrix: "'+e+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function n(e){if("string"!=typeof e)throw TypeError('CSSMatrix: "'+e+'" is not a string.');var n=String(e).replace(/\s/g,""),r=new h,i='CSSMatrix: invalid transform string "'+e+'"';return n.split(")").filter((function(t){return t})).forEach((function(e){var n=e.split("("),o=n[0],a=n[1];if(!a)throw TypeError(i);var s=a.split(",").map((function(t){return t.includes("rad")?parseFloat(t)*(180/Math.PI):parseFloat(t)})),l=s[0],u=s[1],c=s[2],h=s[3],f=[l,u,c],d=[l,u,c,h];if("perspective"===o&&l&&[u,c].every((function(t){return void 0===t})))r.m34=-1/l;else if(o.includes("matrix")&&[6,16].includes(s.length)&&s.every((function(t){return!Number.isNaN(+t)}))){var p=s.map((function(t){return Math.abs(t)<1e-6?0:t}));r=r.multiply(t(p))}else if("translate3d"===o&&f.every((function(t){return!Number.isNaN(+t)})))r=r.translate(l,u,c);else if("translate"===o&&l&&void 0===c)r=r.translate(l,u||0,0);else if("rotate3d"===o&&d.every((function(t){return!Number.isNaN(+t)}))&&h)r=r.rotateAxisAngle(l,u,c,h);else if("rotate"===o&&l&&[u,c].every((function(t){return void 0===t})))r=r.rotate(0,0,l);else if("scale3d"===o&&f.every((function(t){return!Number.isNaN(+t)}))&&f.some((function(t){return 1!==t})))r=r.scale(l,u,c);else if("scale"!==o||Number.isNaN(l)||1===l||void 0!==c)if("skew"===o&&l&&void 0===c)r=r.skewX(l),r=u?r.skewY(u):r;else{if(!(/[XYZ]/.test(o)&&l&&[u,c].every((function(t){return void 0===t}))&&["translate","rotate","scale","skew"].some((function(t){return o.includes(t)}))))throw TypeError(i);if(["skewX","skewY"].includes(o))r=r[o](l);else{var y=o.replace(/[XYZ]/,""),v=o.replace(y,""),g=["X","Y","Z"].indexOf(v),m=[0===g?l:0,1===g?l:0,2===g?l:0];r=r[y].apply(r,m)}}else{var _=Number.isNaN(+u)?l:u;r=r.scale(l,_,1)}})),r}function r(t,e,n){var r=new h;return r.m41=t,r.e=t,r.m42=e,r.f=e,r.m43=n,r}function i(t,e,n){var r=new h,i=Math.PI/180,o=t*i,a=e*i,s=n*i,l=Math.cos(o),u=-Math.sin(o),c=Math.cos(a),f=-Math.sin(a),d=Math.cos(s),p=-Math.sin(s),y=c*d,v=-c*p;r.m11=y,r.a=y,r.m12=v,r.b=v,r.m13=f;var g=u*f*d+l*p;r.m21=g,r.c=g;var m=l*d-u*f*p;return r.m22=m,r.d=m,r.m23=-u*c,r.m31=u*p-l*f*d,r.m32=u*d+l*f*p,r.m33=l*c,r}function o(t,e,n,r){var i=new h,o=r*(Math.PI/360),a=Math.sin(o),s=Math.cos(o),l=a*a,u=Math.sqrt(t*t+e*e+n*n),c=t,f=e,d=n;0===u?(c=0,f=0,d=1):(c/=u,f/=u,d/=u);var p=c*c,y=f*f,v=d*d,g=1-2*(y+v)*l;i.m11=g,i.a=g;var m=2*(c*f*l+d*a*s);i.m12=m,i.b=m,i.m13=2*(c*d*l-f*a*s);var _=2*(f*c*l-d*a*s);i.m21=_,i.c=_;var b=1-2*(v+p)*l;return i.m22=b,i.d=b,i.m23=2*(f*d*l+c*a*s),i.m31=2*(d*c*l+f*a*s),i.m32=2*(d*f*l-c*a*s),i.m33=1-2*(p+y)*l,i}function s(t,e,n){var r=new h;return r.m11=t,r.a=t,r.m22=e,r.d=e,r.m33=n,r}function l(t){var e=new h,n=t*Math.PI/180,r=Math.tan(n);return e.m21=r,e.c=r,e}function u(t){var e=new h,n=t*Math.PI/180,r=Math.tan(n);return e.m12=r,e.b=r,e}function c(e,n){return t([n.m11*e.m11+n.m12*e.m21+n.m13*e.m31+n.m14*e.m41,n.m11*e.m12+n.m12*e.m22+n.m13*e.m32+n.m14*e.m42,n.m11*e.m13+n.m12*e.m23+n.m13*e.m33+n.m14*e.m43,n.m11*e.m14+n.m12*e.m24+n.m13*e.m34+n.m14*e.m44,n.m21*e.m11+n.m22*e.m21+n.m23*e.m31+n.m24*e.m41,n.m21*e.m12+n.m22*e.m22+n.m23*e.m32+n.m24*e.m42,n.m21*e.m13+n.m22*e.m23+n.m23*e.m33+n.m24*e.m43,n.m21*e.m14+n.m22*e.m24+n.m23*e.m34+n.m24*e.m44,n.m31*e.m11+n.m32*e.m21+n.m33*e.m31+n.m34*e.m41,n.m31*e.m12+n.m32*e.m22+n.m33*e.m32+n.m34*e.m42,n.m31*e.m13+n.m32*e.m23+n.m33*e.m33+n.m34*e.m43,n.m31*e.m14+n.m32*e.m24+n.m33*e.m34+n.m34*e.m44,n.m41*e.m11+n.m42*e.m21+n.m43*e.m31+n.m44*e.m41,n.m41*e.m12+n.m42*e.m22+n.m43*e.m32+n.m44*e.m42,n.m41*e.m13+n.m42*e.m23+n.m43*e.m33+n.m44*e.m43,n.m41*e.m14+n.m42*e.m24+n.m43*e.m34+n.m44*e.m44])}var h=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if(n.a=1,n.b=0,n.c=0,n.d=1,n.e=0,n.f=0,n.m11=1,n.m12=0,n.m13=0,n.m14=0,n.m21=0,n.m22=1,n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=0,n.m42=0,n.m43=0,n.m44=1,t&&t.length){var r=[16,6].some((function(e){return e===t.length}))?t:t[0];return n.setMatrixValue(r)}return n},f={isIdentity:{configurable:!0},is2D:{configurable:!0}};return f.isIdentity.set=function(t){this.isIdentity=t},f.isIdentity.get=function(){var t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44},f.is2D.get=function(){var t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44},f.is2D.set=function(t){this.is2D=t},h.prototype.setMatrixValue=function(r){return[Array,Float64Array,Float32Array].some((function(t){return r instanceof t}))?t(r):"string"==typeof r&&r.length&&"none"!==r?n(r):"object"===a(r)?e(r):this},h.prototype.toArray=function(){var t=this,e=Math.pow(10,6);return(t.is2D?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]).map((function(t){return Math.abs(t)<1e-6?0:(t*e>>0)/e}))},h.prototype.toString=function(){var t=this.toArray();return(this.is2D?"matrix":"matrix3d")+"("+t+")"},h.prototype.toJSON=function(){var t=this,e=t.is2D,n=t.isIdentity;return Object.assign({},t,{is2D:e,isIdentity:n})},h.prototype.multiply=function(t){return c(this,t)},h.prototype.translate=function(t,e,n){var i=e,o=n;return void 0===o&&(o=0),void 0===i&&(i=0),c(this,r(t,i,o))},h.prototype.scale=function(t,e,n){var r=e,i=n;return void 0===r&&(r=t),void 0===i&&(i=1),c(this,s(t,r,i))},h.prototype.rotate=function(t,e,n){var r=t,o=e,a=n;return void 0===o&&(o=0),void 0===a&&(a=r,r=0),c(this,i(r,o,a))},h.prototype.rotateAxisAngle=function(t,e,n,r){if([t,e,n,r].some((function(t){return Number.isNaN(t)})))throw new TypeError("CSSMatrix: expecting 4 values");return c(this,o(t,e,n,r))},h.prototype.skewX=function(t){return c(this,l(t))},h.prototype.skewY=function(t){return c(this,u(t))},h.prototype.transformPoint=function(t){var e=r(t.x,t.y,t.z);return e.m44=t.w||1,{x:(e=this.multiply(e)).m41,y:e.m42,z:e.m43,w:e.m44}},h.prototype.transform=function(t){var e=this,n=e.m11*t.x+e.m12*t.y+e.m13*t.z+e.m14*t.w,r=e.m21*t.x+e.m22*t.y+e.m23*t.z+e.m24*t.w,i=e.m31*t.x+e.m32*t.y+e.m33*t.z+e.m34*t.w,o=e.m41*t.x+e.m42*t.y+e.m43*t.z+e.m44*t.w;return{x:n/o,y:r/o,z:i/o,w:o}},Object.defineProperties(h.prototype,f),Object.assign(h,{Translate:r,Rotate:i,RotateAxisAngle:o,Scale:s,SkewX:l,SkewY:u,Multiply:c,fromArray:t,fromMatrix:e,fromString:n}),Object.assign(h,{Version:"0.0.24"}),h},"object"===a(e)?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},(t,e,n)=>{n(71),n(86);var r=n(96);t.exports=r.Object.fromEntries},(t,e,n)=>{"use strict";var r=n(17),i=n(72),o=n(77),a=n(52),s=n(78),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=s(Array,"Array",(function(t,e){u(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},(t,e,n)=>{var r=n(37),i=n(73),o=n(48),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},(t,e,n)=>{var r,i=n(49),o=n(74),a=n(66),s=n(55),l=n(76),u=n(46),c=n(54)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&r?d(r):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):d(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[c]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[c]=t):n=p(),void 0===e?n:o(n,e)}},(t,e,n)=>{var r=n(12),i=n(48),o=n(49),a=n(17),s=n(75);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),l=s(e),u=l.length,c=0;u>c;)i.f(t,n=l[c++],r[n]);return t}},(t,e,n)=>{var r=n(60),i=n(66);t.exports=Object.keys||function(t){return r(t,i)}},(t,e,n)=>{var r=n(27);t.exports=r("document","documentElement")},t=>{t.exports={}},(t,e,n)=>{"use strict";var r=n(9),i=n(14),o=n(39),a=n(56),s=n(25),l=n(79),u=n(81),c=n(84),h=n(83),f=n(47),d=n(50),p=n(37),y=n(77),v=n(80),g=a.PROPER,m=a.CONFIGURABLE,_=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x="keys",S="values",E="entries",C=function(){return this};t.exports=function(t,e,n,a,p,v,k){l(n,e,a);var P,T,O,R=function(t){if(t===p&&L)return L;if(!b&&t in M)return M[t];switch(t){case x:case S:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",I=!1,M=t.prototype,D=M[w]||M["@@iterator"]||p&&M[p],L=!b&&D||R(p),j="Array"==e&&M.entries||D;if(j&&(P=u(j.call(new t)))!==Object.prototype&&P.next&&(o||u(P)===_||(c?c(P,_):s(P[w])||d(P,w,C)),h(P,A,!0,!0),o&&(y[A]=C)),g&&p==S&&D&&D.name!==S&&(!o&&m?f(M,"name",S):(I=!0,L=function(){return i(D,this)})),p)if(T={values:R(S),keys:v?L:R(x),entries:R(E)},k)for(O in T)(b||I||!(O in M))&&d(M,O,T[O]);else r({target:e,proto:!0,forced:b||I},T);return o&&!k||M[w]===L||d(M,w,L,{name:p}),y[e]=L,T}},(t,e,n)=>{"use strict";var r=n(80).IteratorPrototype,i=n(73),o=n(16),a=n(83),s=n(77),l=function(){return this};t.exports=function(t,e,n,u){var c=e+" Iterator";return t.prototype=i(r,{next:o(+!u,n)}),a(t,c,!1,!0),s[c]=l,t}},(t,e,n)=>{"use strict";var r,i,o,a=n(13),s=n(25),l=n(73),u=n(81),c=n(50),h=n(37),f=n(39),d=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):p=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:f&&(r=l(r)),s(r[d])||c(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},(t,e,n)=>{var r=n(10),i=n(42),o=n(25),a=n(43),s=n(54),l=n(82),u=s("IE_PROTO"),c=r.Object,h=c.prototype;t.exports=l?c.getPrototypeOf:function(t){var e=a(t);if(i(e,u))return e[u];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?h:null}},(t,e,n)=>{var r=n(13);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},(t,e,n)=>{var r=n(48).f,i=n(42),o=n(37)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},(t,e,n)=>{var r=n(19),i=n(49),o=n(85);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},(t,e,n)=>{var r=n(10),i=n(25),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},(t,e,n)=>{var r=n(9),i=n(87),o=n(95);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},(t,e,n)=>{var r=n(10),i=n(88),o=n(14),a=n(49),s=n(35),l=n(89),u=n(64),c=n(28),h=n(90),f=n(91),d=n(94),p=r.TypeError,y=function(t,e){this.stopped=t,this.result=e},v=y.prototype;t.exports=function(t,e,n){var r,g,m,_,b,w,x,S=n&&n.that,E=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),P=i(e,S),T=function(t){return r&&d(r,"normal",t),new y(!0,t)},O=function(t){return E?(a(t),k?P(t[0],t[1],T):P(t[0],t[1])):k?P(t,T):P(t)};if(C)r=t;else{if(!(g=f(t)))throw p(s(t)+" is not iterable");if(l(g)){for(m=0,_=u(t);_>m;m++)if((b=O(t[m]))&&c(v,b))return b;return new y(!1)}r=h(t,g)}for(w=r.next;!(x=o(w,r)).done;){try{b=O(x.value)}catch(t){d(r,"throw",t)}if("object"==typeof b&&b&&c(v,b))return b}return new y(!1)}},(t,e,n)=>{var r=n(19),i=n(34),o=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?o(t,e):function(){return t.apply(e,arguments)}}},(t,e,n)=>{var r=n(37),i=n(77),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},(t,e,n)=>{var r=n(10),i=n(14),o=n(34),a=n(49),s=n(35),l=n(91),u=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?l(t):e;if(o(n))return a(i(n,t));throw u(s(t)+" is not iterable")}},(t,e,n)=>{var r=n(92),i=n(33),o=n(77),a=n(37)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[r(t)]}},(t,e,n)=>{var r=n(10),i=n(93),o=n(25),a=n(20),s=n(37)("toStringTag"),l=r.Object,u="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=l(t),s))?n:u?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},(t,e,n)=>{var r={};r[n(37)("toStringTag")]="z",t.exports="[object z]"===String(r)},(t,e,n)=>{var r=n(14),i=n(49),o=n(33);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},(t,e,n)=>{"use strict";var r=n(22),i=n(48),o=n(16);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},(t,e,n)=>{var r=n(10);t.exports=r},(t,e,n)=>{n(98),n(71),n(105),n(107),n(129),n(130),n(131),n(132);var r=n(96);t.exports=r.Promise},(t,e,n)=>{"use strict";var r=n(9),i=n(10),o=n(28),a=n(81),s=n(84),l=n(57),u=n(73),c=n(47),h=n(16),f=n(99),d=n(101),p=n(87),y=n(102),v=n(37),g=n(104),m=v("toStringTag"),_=i.Error,b=[].push,w=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,i=o(x,this);s?n=s(new _(void 0),i?a(this):x):(n=i?this:u(x),c(n,m,"Error")),c(n,"message",y(e,"")),g&&c(n,"stack",f(n.stack,1)),d(n,r);var l=[];return p(t,b,{that:l}),c(n,"errors",l),n};s?s(w,_):l(w,_);var x=w.prototype=u(_.prototype,{constructor:h(1,w),message:h(1,""),name:h(1,"AggregateError")});r({global:!0},{AggregateError:w})},(t,e,n)=>{var r=n(19),i=n(100),o=r("".replace),a=r("".split),s=r([].join),l=String(Error("zxcasd").stack),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(l),h=/@[^\n]*\n/.test(l)&&!/zxcasd/.test(l);t.exports=function(t,e){if("string"!=typeof t)return t;if(c)for(;e--;)t=o(t,u,"");else if(h)return s(i(a(t,"\n"),e),"\n");return t}},(t,e,n)=>{var r=n(10),i=n(62),o=n(64),a=n(95),s=r.Array,l=Math.max;t.exports=function(t,e,n){for(var r=o(t),u=i(e,r),c=i(void 0===n?r:n,r),h=s(l(c-u,0)),f=0;u<c;u++,f++)a(h,f,t[u]);return h.length=f,h}},(t,e,n)=>{var r=n(24),i=n(47);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},(t,e,n)=>{var r=n(103);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},(t,e,n)=>{var r=n(10),i=n(92),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},(t,e,n)=>{var r=n(13),i=n(16);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},(t,e,n)=>{var r=n(93),i=n(50),o=n(106);r||i(Object.prototype,"toString",o,{unsafe:!0})},(t,e,n)=>{"use strict";var r=n(93),i=n(92);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},(t,e,n)=>{"use strict";var r,i,o,a,s=n(9),l=n(39),u=n(10),c=n(27),h=n(14),f=n(108),d=n(50),p=n(109),y=n(84),v=n(83),g=n(110),m=n(34),_=n(25),b=n(24),w=n(111),x=n(51),S=n(87),E=n(112),C=n(113),k=n(116).set,P=n(121),T=n(124),O=n(126),R=n(125),A=n(127),I=n(52),M=n(68),D=n(37),L=n(128),j=n(120),F=n(31),N=D("species"),B="Promise",U=I.getterFor(B),z=I.set,W=I.getterFor(B),G=f&&f.prototype,q=f,V=G,H=u.TypeError,X=u.document,Y=u.process,K=R.f,Z=K,Q=!!(X&&X.createEvent&&u.dispatchEvent),J=_(u.PromiseRejectionEvent),$="unhandledrejection",tt=!1,et=M(B,(function(){var t=x(q),e=t!==String(q);if(!e&&66===F)return!0;if(l&&!V.finally)return!0;if(F>=51&&/native code/.test(t))return!1;var n=new q((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[N]=r,!(tt=n.then((function(){}))instanceof r)||!e&&L&&!J})),nt=et||!E((function(t){q.all(t).catch((function(){}))})),rt=function(t){var e;return!(!b(t)||!_(e=t.then))&&e},it=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,l,u=n[o++],c=i?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{c?(i||(2===t.rejection&&lt(t),t.rejection=1),!0===c?a=r:(p&&p.enter(),a=c(r),p&&(p.exit(),l=!0)),a===u.promise?d(H("Promise-chain cycle")):(s=rt(a))?h(s,a,f,d):f(a)):d(r)}catch(t){p&&!l&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&at(t)}))}},ot=function(t,e,n){var r,i;Q?((r=X.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!J&&(i=u["on"+t])?i(r):t===$&&O("Unhandled promise rejection",n)},at=function(t){h(k,u,(function(){var e,n=t.facade,r=t.value;if(st(t)&&(e=A((function(){j?Y.emit("unhandledRejection",r,n):ot($,n,r)})),t.rejection=j||st(t)?2:1,e.error))throw e.value}))},st=function(t){return 1!==t.rejection&&!t.parent},lt=function(t){h(k,u,(function(){var e=t.facade;j?Y.emit("rejectionHandled",e):ot("rejectionhandled",e,t.value)}))},ut=function(t,e,n){return function(r){t(e,r,n)}},ct=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,it(t,!0))},ht=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw H("Promise can't be resolved itself");var r=rt(e);r?P((function(){var n={done:!1};try{h(r,e,ut(ht,n,t),ut(ct,n,t))}catch(e){ct(n,e,t)}})):(t.value=e,t.state=1,it(t,!1))}catch(e){ct({done:!1},e,t)}}};if(et&&(V=(q=function(t){w(this,V),m(t),h(r,this);var e=U(this);try{t(ut(ht,e),ut(ct,e))}catch(t){ct(e,t)}}).prototype,(r=function(t){z(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(V,{then:function(t,e){var n=W(this),r=n.reactions,i=K(C(this,q));return i.ok=!_(t)||t,i.fail=_(e)&&e,i.domain=j?Y.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&it(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=U(t);this.promise=t,this.resolve=ut(ht,e),this.reject=ut(ct,e)},R.f=K=function(t){return t===q||t===o?new i(t):Z(t)},!l&&_(f)&&G!==Object.prototype)){a=G.then,tt||(d(G,"then",(function(t,e){var n=this;return new q((function(t,e){h(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(G,"catch",V.catch,{unsafe:!0}));try{delete G.constructor}catch(t){}y&&y(G,V)}s({global:!0,wrap:!0,forced:et},{Promise:q}),v(q,B,!1,!0),g(B),o=c(B),s({target:B,stat:!0,forced:et},{reject:function(t){var e=K(this);return h(e.reject,void 0,t),e.promise}}),s({target:B,stat:!0,forced:l||et},{resolve:function(t){return T(l&&this===o?q:this,t)}}),s({target:B,stat:!0,forced:nt},{all:function(t){var e=this,n=K(e),r=n.resolve,i=n.reject,o=A((function(){var n=m(e.resolve),o=[],a=0,s=1;S(t,(function(t){var l=a++,u=!1;s++,h(n,e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=K(e),r=n.reject,i=A((function(){var i=m(e.resolve);S(t,(function(t){h(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},(t,e,n)=>{var r=n(10);t.exports=r.Promise},(t,e,n)=>{var r=n(50);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},(t,e,n)=>{"use strict";var r=n(27),i=n(48),o=n(37),a=n(12),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},(t,e,n)=>{var r=n(10),i=n(28),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},(t,e,n)=>{var r=n(37)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},(t,e,n)=>{var r=n(49),i=n(114),o=n(37)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},(t,e,n)=>{var r=n(10),i=n(115),o=n(35),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},(t,e,n)=>{var r=n(19),i=n(13),o=n(25),a=n(92),s=n(27),l=n(51),u=function(){},c=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(u),y=function(t){if(!o(t))return!1;try{return h(u,c,t),!0}catch(t){return!1}};t.exports=!h||i((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!d(f,l(t))}:y},(t,e,n)=>{var r,i,o,a,s=n(10),l=n(117),u=n(88),c=n(25),h=n(42),f=n(13),d=n(76),p=n(118),y=n(46),v=n(119),g=n(120),m=s.setImmediate,_=s.clearImmediate,b=s.process,w=s.Dispatch,x=s.Function,S=s.MessageChannel,E=s.String,C=0,k={};try{r=s.location}catch(t){}var P=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},T=function(t){return function(){P(t)}},O=function(t){P(t.data)},R=function(t){s.postMessage(E(t),r.protocol+"//"+r.host)};m&&_||(m=function(t){var e=p(arguments,1);return k[++C]=function(){l(c(t)?t:x(t),void 0,e)},i(C),C},_=function(t){delete k[t]},g?i=function(t){b.nextTick(T(t))}:w&&w.now?i=function(t){w.now(T(t))}:S&&!v?(a=(o=new S).port2,o.port1.onmessage=O,i=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(R)?(i=R,s.addEventListener("message",O,!1)):i="onreadystatechange"in y("script")?function(t){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),P(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:m,clear:_}},t=>{var e=Function.prototype,n=e.apply,r=e.bind,i=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(n):function(){return i.apply(n,arguments)})},(t,e,n)=>{var r=n(19);t.exports=r([].slice)},(t,e,n)=>{var r=n(32);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(t,e,n)=>{var r=n(20),i=n(10);t.exports="process"==r(i.process)},(t,e,n)=>{var r,i,o,a,s,l,u,c,h=n(10),f=n(88),d=n(11).f,p=n(116).set,y=n(119),v=n(122),g=n(123),m=n(120),_=h.MutationObserver||h.WebKitMutationObserver,b=h.document,w=h.process,x=h.Promise,S=d(h,"queueMicrotask"),E=S&&S.value;E||(r=function(){var t,e;for(m&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},y||m||g||!_||!b?!v&&x&&x.resolve?((u=x.resolve(void 0)).constructor=x,c=f(u.then,u),a=function(){c(r)}):m?a=function(){w.nextTick(r)}:(p=f(p,h),a=function(){p(r)}):(s=!0,l=b.createTextNode(""),new _(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},(t,e,n)=>{var r=n(32),i=n(10);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},(t,e,n)=>{var r=n(32);t.exports=/web0s(?!.*chrome)/i.test(r)},(t,e,n)=>{var r=n(49),i=n(24),o=n(125);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},(t,e,n)=>{"use strict";var r=n(34),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},(t,e,n)=>{var r=n(10);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},t=>{t.exports="object"==typeof window},(t,e,n)=>{"use strict";var r=n(9),i=n(14),o=n(34),a=n(125),s=n(127),l=n(87);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,c=s((function(){var n=o(e.resolve),a=[],s=0,u=1;l(t,(function(t){var o=s++,l=!1;u++,i(n,e,t).then((function(t){l||(l=!0,a[o]={status:"fulfilled",value:t},--u||r(a))}),(function(t){l||(l=!0,a[o]={status:"rejected",reason:t},--u||r(a))}))})),--u||r(a)}));return c.error&&u(c.value),n.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(34),o=n(27),a=n(14),s=n(125),l=n(127),u=n(87),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=o("AggregateError"),r=s.f(e),h=r.resolve,f=r.reject,d=l((function(){var r=i(e.resolve),o=[],s=0,l=1,d=!1;u(t,(function(t){var i=s++,u=!1;l++,a(r,e,t).then((function(t){u||d||(d=!0,h(t))}),(function(t){u||d||(u=!0,o[i]=t,--l||f(new n(o,c)))}))})),--l||f(new n(o,c))}));return d.error&&f(d.value),r.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(39),o=n(108),a=n(13),s=n(27),l=n(25),u=n(113),c=n(124),h=n(50);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n=l(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&l(o)){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&h(o.prototype,"finally",f,{unsafe:!0})}},(t,e,n)=>{"use strict";var r=n(133).charAt,i=n(103),o=n(52),a=n(78),s="String Iterator",l=o.set,u=o.getterFor(s);a(String,"String",(function(t){l(this,{type:s,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},(t,e,n)=>{var r=n(19),i=n(63),o=n(103),a=n(21),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(t){return function(e,n){var r,c,h=o(a(e)),f=i(n),d=h.length;return f<0||f>=d?t?"":void 0:(r=l(h,f))<55296||r>56319||f+1===d||(c=l(h,f+1))<56320||c>57343?t?s(h,f):r:t?u(h,f,f+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},function(t,e){!function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function n(){}var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0;function i(t){return"object"==typeof t&&null!==t||"function"==typeof t}var o=n,a=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(a),u=Promise.reject.bind(a);function c(t){return new a(t)}function h(t){return l(t)}function f(t){return u(t)}function d(t,e,n){return s.call(t,e,n)}function p(t,e,n){d(d(t,e,n),void 0,o)}function y(t,e){p(t,e)}function v(t,e){p(t,void 0,e)}function g(t,e,n){return d(t,e,n)}function m(t){d(t,void 0,o)}var _=function(){var t=r&&r.queueMicrotask;if("function"==typeof t)return t;var e=h(void 0);return function(t){return d(e,t)}}();function b(t,e,n){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,n)}function w(t,e,n){try{return h(b(t,e,n))}catch(t){return f(t)}}var x=function(){function t(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var e=this._back,n=e;16383===e._elements.length&&(n={_elements:[],_next:void 0}),e._elements.push(t),n!==e&&(this._back=n,e._next=n),++this._size},t.prototype.shift=function(){var t=this._front,e=t,n=this._cursor,r=n+1,i=t._elements,o=i[n];return 16384===r&&(e=t._next,r=0),--this._size,this._cursor=r,t!==e&&(this._front=e),i[n]=void 0,o},t.prototype.forEach=function(t){for(var e=this._cursor,n=this._front,r=n._elements;!(e===r.length&&void 0===n._next||e===r.length&&(e=0,0===(r=(n=n._next)._elements).length));)t(r[e]),++e},t.prototype.peek=function(){var t=this._front,e=this._cursor;return t._elements[e]},t}();function S(t,e){t._ownerReadableStream=e,e._reader=t,"readable"===e._state?P(t):"closed"===e._state?function(t){P(t),R(t)}(t):T(t,e._storedError)}function E(t,e){return Cn(t._ownerReadableStream,e)}function C(t){"readable"===t._ownerReadableStream._state?O(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,e){T(t,e)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function k(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function P(t){t._closedPromise=c((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n}))}function T(t,e){P(t),O(t,e)}function O(t,e){void 0!==t._closedPromise_reject&&(m(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function R(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}var A=e("[[AbortSteps]]"),I=e("[[ErrorSteps]]"),M=e("[[CancelSteps]]"),D=e("[[PullSteps]]"),L=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},j=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function F(t,e){if(void 0!==t&&("object"!=typeof(n=t)&&"function"!=typeof n))throw new TypeError(e+" is not an object.");var n}function N(t,e){if("function"!=typeof t)throw new TypeError(e+" is not a function.")}function B(t,e){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(e+" is not an object.")}function U(t,e,n){if(void 0===t)throw new TypeError("Parameter "+e+" is required in '"+n+"'.")}function z(t,e,n){if(void 0===t)throw new TypeError(e+" is required in '"+n+"'.")}function W(t){return Number(t)}function G(t){return 0===t?0:t}function q(t,e){var n=Number.MAX_SAFE_INTEGER,r=Number(t);if(r=G(r),!L(r))throw new TypeError(e+" is not a finite number");if((r=function(t){return G(j(t))}(r))<0||r>n)throw new TypeError(e+" is outside the accepted range of 0 to "+n+", inclusive");return L(r)&&0!==r?r:0}function V(t,e){if(!Sn(t))throw new TypeError(e+" is not a ReadableStream.")}function H(t){return new $(t)}function X(t,e){t._reader._readRequests.push(e)}function Y(t,e,n){var r=t._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(e)}function K(t){return t._reader._readRequests.length}function Z(t){var e=t._reader;return void 0!==e&&!!tt(e)}var Q,J,$=function(){function t(t){if(U(t,1,"ReadableStreamDefaultReader"),V(t,"First parameter"),En(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");S(this,t),this._readRequests=new x}return Object.defineProperty(t.prototype,"closed",{get:function(){return tt(this)?this._closedPromise:f(nt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),tt(this)?void 0===this._ownerReadableStream?f(k("cancel")):E(this,t):f(nt("cancel"))},t.prototype.read=function(){if(!tt(this))return f(nt("read"));if(void 0===this._ownerReadableStream)return f(k("read from"));var t,e,n=c((function(n,r){t=n,e=r}));return et(this,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(t){return e(t)}}),n},t.prototype.releaseLock=function(){if(!tt(this))throw nt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},t}();function tt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof $}function et(t,e){var n=t._ownerReadableStream;n._disturbed=!0,"closed"===n._state?e._closeSteps():"errored"===n._state?e._errorSteps(n._storedError):n._readableStreamController[D](e)}function nt(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties($.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty($.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof e.asyncIterator&&((Q={})[e.asyncIterator]=function(){return this},J=Q,Object.defineProperty(J,e.asyncIterator,{enumerable:!1}));var rt=function(){function t(t,e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=e}return t.prototype.next=function(){var t=this,e=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise},t.prototype.return=function(t){var e=this,n=function(){return e._returnSteps(t)};return this._ongoingPromise?g(this._ongoingPromise,n,n):n()},t.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var e,n,r=this._reader;if(void 0===r._ownerReadableStream)return f(k("iterate"));var i=c((function(t,r){e=t,n=r}));return et(r,{_chunkSteps:function(n){t._ongoingPromise=void 0,_((function(){return e({value:n,done:!1})}))},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,C(r),e({value:void 0,done:!0})},_errorSteps:function(e){t._ongoingPromise=void 0,t._isFinished=!0,C(r),n(e)}}),i},t.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var e=this._reader;if(void 0===e._ownerReadableStream)return f(k("finish iterating"));if(!this._preventCancel){var n=E(e,t);return C(e),g(n,(function(){return{value:t,done:!0}}))}return C(e),h({value:t,done:!0})},t}(),it={next:function(){return ot(this)?this._asyncIteratorImpl.next():f(at("next"))},return:function(t){return ot(this)?this._asyncIteratorImpl.return(t):f(at("return"))}};function ot(t){if(!i(t))return!1;if(!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof rt}catch(t){return!1}}function at(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==J&&Object.setPrototypeOf(it,J);var st=Number.isNaN||function(t){return t!=t};function lt(t){return t.slice()}function ut(t,e,n,r,i){new Uint8Array(t).set(new Uint8Array(n,r,i),e)}function ct(t,e,n){if(t.slice)return t.slice(e,n);var r=n-e,i=new ArrayBuffer(r);return ut(i,0,t,e,r),i}function ht(t){var e=ct(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function ft(t){var e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function dt(t,e,n){if("number"!=typeof(r=n)||st(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;t._queue.push({value:e,size:n}),t._queueTotalSize+=n}function pt(t){t._queue=new x,t._queueTotalSize=0}var yt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"view",{get:function(){if(!mt(this))throw Ut("view");return this._view},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!mt(this))throw Ut("respond");if(U(t,1,"respond"),t=q(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Ft(this._associatedReadableByteStreamController,t)},t.prototype.respondWithNewView=function(t){if(!mt(this))throw Ut("respondWithNewView");if(U(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");t.buffer,Nt(this._associatedReadableByteStreamController,t)},t}();Object.defineProperties(yt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(yt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var vt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"byobRequest",{get:function(){if(!gt(this))throw zt("byobRequest");return Lt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!gt(this))throw zt("desiredSize");return jt(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!gt(this))throw zt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");It(this)},t.prototype.enqueue=function(t){if(!gt(this))throw zt("enqueue");if(U(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be enqueued to");Mt(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!gt(this))throw zt("error");Dt(this,t)},t.prototype[M]=function(t){bt(this),pt(this);var e=this._cancelAlgorithm(t);return At(this),e},t.prototype[D]=function(t){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var n=this._queue.shift();this._queueTotalSize-=n.byteLength,kt(this);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}else{var i=this._autoAllocateChunkSize;if(void 0!==i){var o=void 0;try{o=new ArrayBuffer(i)}catch(e){return void t._errorSteps(e)}var a={buffer:o,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}X(e,t),_t(this)}},t}();function gt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof vt}function mt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof yt}function _t(t){(function(t){var e=t._controlledReadableByteStream;return"readable"===e._state&&!t._closeRequested&&!!t._started&&(!!(Z(e)&&K(e)>0)||!!(Vt(e)&&qt(e)>0)||jt(t)>0)})(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,_t(t))}),(function(e){Dt(t,e)}))))}function bt(t){Pt(t),t._pendingPullIntos=new x}function wt(t,e){var n=!1;"closed"===t._state&&(n=!0);var r=xt(e);"default"===e.readerType?Y(t,r,n):function(t,e,n){var r=t._reader._readIntoRequests.shift();n?r._closeSteps(e):r._chunkSteps(e)}(t,r,n)}function xt(t){var e=t.bytesFilled,n=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/n)}function St(t,e,n,r){t._queue.push({buffer:e,byteOffset:n,byteLength:r}),t._queueTotalSize+=r}function Et(t,e){var n=e.elementSize,r=e.bytesFilled-e.bytesFilled%n,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),o=e.bytesFilled+i,a=o-o%n,s=i,l=!1;a>r&&(s=a-e.bytesFilled,l=!0);for(var u=t._queue;s>0;){var c=u.peek(),h=Math.min(s,c.byteLength),f=e.byteOffset+e.bytesFilled;ut(e.buffer,f,c.buffer,c.byteOffset,h),c.byteLength===h?u.shift():(c.byteOffset+=h,c.byteLength-=h),t._queueTotalSize-=h,Ct(0,h,e),s-=h}return l}function Ct(t,e,n){n.bytesFilled+=e}function kt(t){0===t._queueTotalSize&&t._closeRequested?(At(t),kn(t._controlledReadableByteStream)):_t(t)}function Pt(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function Tt(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var e=t._pendingPullIntos.peek();Et(t,e)&&(Rt(t),wt(t._controlledReadableByteStream,e))}}function Ot(t,e){var n=t._pendingPullIntos.peek();Pt(t),"closed"===t._controlledReadableByteStream._state?function(t,e){var n=t._controlledReadableByteStream;if(Vt(n))for(;qt(n)>0;)wt(n,Rt(t))}(t):function(t,e,n){if(Ct(0,e,n),!(n.bytesFilled<n.elementSize)){Rt(t);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,o=ct(n.buffer,i-r,i);St(t,o,0,o.byteLength)}n.bytesFilled-=r,wt(t._controlledReadableByteStream,n),Tt(t)}}(t,e,n),_t(t)}function Rt(t){return t._pendingPullIntos.shift()}function At(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function It(t){var e=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===e._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Dt(t,n),n}At(t),kn(e)}}function Mt(t,e){var n=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===n._state){var r=e.buffer,i=e.byteOffset,o=e.byteLength,a=r;if(t._pendingPullIntos.length>0){var s=t._pendingPullIntos.peek();s.buffer,s.buffer=s.buffer}Pt(t),Z(n)?0===K(n)?St(t,a,i,o):(t._pendingPullIntos.length>0&&Rt(t),Y(n,new Uint8Array(a,i,o),!1)):Vt(n)?(St(t,a,i,o),Tt(t)):St(t,a,i,o),_t(t)}}function Dt(t,e){var n=t._controlledReadableByteStream;"readable"===n._state&&(bt(t),pt(t),At(t),Pn(n,e))}function Lt(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){var e=t._pendingPullIntos.peek(),n=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(yt.prototype);(function(t,e,n){t._associatedReadableByteStreamController=e,t._view=n})(r,t,n),t._byobRequest=r}return t._byobRequest}function jt(t){var e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function Ft(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===e)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+e>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,Ot(t,e)}function Nt(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===e.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+e.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var r=e.byteLength;n.buffer=e.buffer,Ot(t,r)}function Bt(t,e,n,r,i,o,a){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,pt(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,e._autoAllocateChunkSize=a,e._pendingPullIntos=new x,t._readableStreamController=e,p(h(n()),(function(){e._started=!0,_t(e)}),(function(t){Dt(e,t)}))}function Ut(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function zt(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Wt(t){return new Ht(t)}function Gt(t,e){t._reader._readIntoRequests.push(e)}function qt(t){return t._reader._readIntoRequests.length}function Vt(t){var e=t._reader;return void 0!==e&&!!Xt(e)}Object.defineProperties(vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(vt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Ht=function(){function t(t){if(U(t,1,"ReadableStreamBYOBReader"),V(t,"First parameter"),En(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!gt(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");S(this,t),this._readIntoRequests=new x}return Object.defineProperty(t.prototype,"closed",{get:function(){return Xt(this)?this._closedPromise:f(Kt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Xt(this)?void 0===this._ownerReadableStream?f(k("cancel")):E(this,t):f(Kt("cancel"))},t.prototype.read=function(t){if(!Xt(this))return f(Kt("read"));if(!ArrayBuffer.isView(t))return f(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return f(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return f(new TypeError("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this._ownerReadableStream)return f(k("read from"));var e,n,r=c((function(t,r){e=t,n=r}));return Yt(this,t,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(t){return e({value:t,done:!0})},_errorSteps:function(t){return n(t)}}),r},t.prototype.releaseLock=function(){if(!Xt(this))throw Kt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},t}();function Xt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Ht}function Yt(t,e,n){var r=t._ownerReadableStream;r._disturbed=!0,"errored"===r._state?n._errorSteps(r._storedError):function(t,e,n){var r=t._controlledReadableByteStream,i=1;e.constructor!==DataView&&(i=e.constructor.BYTES_PER_ELEMENT);var o=e.constructor,a=e.buffer,s={buffer:a,bufferByteLength:a.byteLength,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(s),void Gt(r,n);if("closed"!==r._state){if(t._queueTotalSize>0){if(Et(t,s)){var l=xt(s);return kt(t),void n._chunkSteps(l)}if(t._closeRequested){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");return Dt(t,u),void n._errorSteps(u)}}t._pendingPullIntos.push(s),Gt(r,n),_t(t)}else{var c=new o(s.buffer,s.byteOffset,0);n._closeSteps(c)}}(r._readableStreamController,e,n)}function Kt(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Zt(t,e){var n=t.highWaterMark;if(void 0===n)return e;if(st(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Qt(t){return t.size||function(){return 1}}function Jt(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark,r=null==t?void 0:t.size;return{highWaterMark:void 0===n?void 0:W(n),size:void 0===r?void 0:$t(r,e+" has member 'size' that")}}function $t(t,e){return N(t,e),function(e){return W(t(e))}}function te(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function ee(t,e,n){return N(t,n),function(){return w(t,e,[])}}function ne(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function re(t,e,n){return N(t,n),function(n,r){return w(t,e,[n,r])}}function ie(t,e){if(!ue(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(Ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Ht.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var oe="function"==typeof AbortController;var ae=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:B(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=null==t?void 0:t.abort,r=null==t?void 0:t.close,i=null==t?void 0:t.start,o=null==t?void 0:t.type,a=null==t?void 0:t.write;return{abort:void 0===n?void 0:te(n,t,e+" has member 'abort' that"),close:void 0===r?void 0:ee(r,t,e+" has member 'close' that"),start:void 0===i?void 0:ne(i,t,e+" has member 'start' that"),write:void 0===a?void 0:re(a,t,e+" has member 'write' that"),type:o}}(t,"First parameter");if(le(this),void 0!==r.type)throw new RangeError("Invalid type is specified");var i=Qt(n);!function(t,e,n,r){var i=Object.create(Pe.prototype),o=function(){},a=function(){return h(void 0)},s=function(){return h(void 0)},l=function(){return h(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.write&&(a=function(t){return e.write(t,i)}),void 0!==e.close&&(s=function(){return e.close()}),void 0!==e.abort&&(l=function(t){return e.abort(t)}),Oe(t,i,o,a,s,l,n,r)}(this,r,Zt(n,1),i)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!ue(this))throw je("locked");return ce(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ue(this)?ce(this)?f(new TypeError("Cannot abort a stream that already has a writer")):he(this,t):f(je("abort"))},t.prototype.close=function(){return ue(this)?ce(this)?f(new TypeError("Cannot close a stream that already has a writer")):ve(this)?f(new TypeError("Cannot close an already-closing stream")):fe(this):f(je("close"))},t.prototype.getWriter=function(){if(!ue(this))throw je("getWriter");return se(this)},t}();function se(t){return new _e(t)}function le(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new x,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function ue(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof ae}function ce(t){return void 0!==t._writer}function he(t,e){var n;if("closed"===t._state||"errored"===t._state)return h(void 0);t._writableStreamController._abortReason=e,null===(n=t._writableStreamController._abortController)||void 0===n||n.abort();var r=t._state;if("closed"===r||"errored"===r)return h(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;"erroring"===r&&(i=!0,e=void 0);var o=c((function(n,r){t._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:e,_wasAlreadyErroring:i}}));return t._pendingAbortRequest._promise=o,i||pe(t,e),o}function fe(t){var e=t._state;if("closed"===e||"errored"===e)return f(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var n,r=c((function(e,n){var r={_resolve:e,_reject:n};t._closeRequest=r})),i=t._writer;return void 0!==i&&t._backpressure&&"writable"===e&&Ye(i),dt(n=t._writableStreamController,ke,0),Ie(n),r}function de(t,e){"writable"!==t._state?ye(t):pe(t,e)}function pe(t,e){var n=t._writableStreamController;t._state="erroring",t._storedError=e;var r=t._writer;void 0!==r&&Se(r,e),!function(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&n._started&&ye(t)}function ye(t){t._state="errored",t._writableStreamController[I]();var e=t._storedError;if(t._writeRequests.forEach((function(t){t._reject(e)})),t._writeRequests=new x,void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(e),void ge(t);p(t._writableStreamController[A](n._reason),(function(){n._resolve(),ge(t)}),(function(e){n._reject(e),ge(t)}))}else ge(t)}function ve(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function ge(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);var e=t._writer;void 0!==e&&We(e,t._storedError)}function me(t,e){var n=t._writer;void 0!==n&&e!==t._backpressure&&(e?function(t){qe(t)}(n):Ye(n)),t._backpressure=e}Object.defineProperties(ae.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(ae.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});var _e=function(){function t(t){if(U(t,1,"WritableStreamDefaultWriter"),ie(t,"First parameter"),ce(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var e,n=t._state;if("writable"===n)!ve(t)&&t._backpressure?qe(this):He(this),Ue(this);else if("erroring"===n)Ve(this,t._storedError),Ue(this);else if("closed"===n)He(this),Ue(e=this),Ge(e);else{var r=t._storedError;Ve(this,r),ze(this,r)}}return Object.defineProperty(t.prototype,"closed",{get:function(){return be(this)?this._closedPromise:f(Ne("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!be(this))throw Ne("desiredSize");if(void 0===this._ownerWritableStream)throw Be("desiredSize");return t=this._ownerWritableStream,"errored"===(e=t._state)||"erroring"===e?null:"closed"===e?0:Ae(t._writableStreamController);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return be(this)?this._readyPromise:f(Ne("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),be(this)?void 0===this._ownerWritableStream?f(Be("abort")):function(t,e){return he(t._ownerWritableStream,e)}(this,t):f(Ne("abort"))},t.prototype.close=function(){if(!be(this))return f(Ne("close"));var t=this._ownerWritableStream;return void 0===t?f(Be("close")):ve(t)?f(new TypeError("Cannot close an already-closing stream")):we(this)},t.prototype.releaseLock=function(){if(!be(this))throw Ne("releaseLock");void 0!==this._ownerWritableStream&&Ee(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),be(this)?void 0===this._ownerWritableStream?f(Be("write to")):Ce(this,t):f(Ne("write"))},t}();function be(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof _e}function we(t){return fe(t._ownerWritableStream)}function xe(t,e){"pending"===t._closedPromiseState?We(t,e):function(t,e){ze(t,e)}(t,e)}function Se(t,e){"pending"===t._readyPromiseState?Xe(t,e):function(t,e){Ve(t,e)}(t,e)}function Ee(t){var e=t._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Se(t,n),xe(t,n),e._writer=void 0,t._ownerWritableStream=void 0}function Ce(t,e){var n=t._ownerWritableStream,r=n._writableStreamController,i=function(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){return Me(t,e),1}}(r,e);if(n!==t._ownerWritableStream)return f(Be("write to"));var o=n._state;if("errored"===o)return f(n._storedError);if(ve(n)||"closed"===o)return f(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return f(n._storedError);var a=function(t){return c((function(e,n){var r={_resolve:e,_reject:n};t._writeRequests.push(r)}))}(n);return function(t,e,n){try{dt(t,e,n)}catch(e){return void Me(t,e)}var r=t._controlledWritableStream;ve(r)||"writable"!==r._state||me(r,De(t)),Ie(t)}(r,e,i),a}Object.defineProperties(_e.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(_e.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var ke={},Pe=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"abortReason",{get:function(){if(!Te(this))throw Fe("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signal",{get:function(){if(!Te(this))throw Fe("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Te(this))throw Fe("error");"writable"===this._controlledWritableStream._state&&Le(this,t)},t.prototype[A]=function(t){var e=this._abortAlgorithm(t);return Re(this),e},t.prototype[I]=function(){pt(this)},t}();function Te(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof Pe}function Oe(t,e,n,r,i,o,a,s){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._abortReason=void 0,e._abortController=function(){if(oe)return new AbortController}(),e._started=!1,e._strategySizeAlgorithm=s,e._strategyHWM=a,e._writeAlgorithm=r,e._closeAlgorithm=i,e._abortAlgorithm=o;var l=De(e);me(t,l),p(h(n()),(function(){e._started=!0,Ie(e)}),(function(n){e._started=!0,de(t,n)}))}function Re(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Ae(t){return t._strategyHWM-t._queueTotalSize}function Ie(t){var e=t._controlledWritableStream;if(t._started&&void 0===e._inFlightWriteRequest)if("erroring"!==e._state){if(0!==t._queue.length){var n=t._queue.peek().value;n===ke?function(t){var e=t._controlledWritableStream;(function(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0})(e),ft(t);var n=t._closeAlgorithm();Re(t),p(n,(function(){!function(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";var e=t._writer;void 0!==e&&Ge(e)}(e)}),(function(t){!function(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),de(t,e)}(e,t)}))}(t):function(t,e){var n=t._controlledWritableStream;(function(t){t._inFlightWriteRequest=t._writeRequests.shift()})(n),p(t._writeAlgorithm(e),(function(){!function(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}(n);var e=n._state;if(ft(t),!ve(n)&&"writable"===e){var r=De(t);me(n,r)}Ie(t)}),(function(e){"writable"===n._state&&Re(t),function(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,de(t,e)}(n,e)}))}(t,n)}}else ye(e)}function Me(t,e){"writable"===t._controlledWritableStream._state&&Le(t,e)}function De(t){return Ae(t)<=0}function Le(t,e){var n=t._controlledWritableStream;Re(t),pe(n,e)}function je(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Fe(t){return new TypeError("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Ne(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Be(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Ue(t){t._closedPromise=c((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n,t._closedPromiseState="pending"}))}function ze(t,e){Ue(t),We(t,e)}function We(t,e){void 0!==t._closedPromise_reject&&(m(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function Ge(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function qe(t){t._readyPromise=c((function(e,n){t._readyPromise_resolve=e,t._readyPromise_reject=n})),t._readyPromiseState="pending"}function Ve(t,e){qe(t),Xe(t,e)}function He(t){qe(t),Ye(t)}function Xe(t,e){void 0!==t._readyPromise_reject&&(m(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function Ye(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Pe.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Pe.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Ke="undefined"!=typeof DOMException?DOMException:void 0;var Ze,Qe=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ke)?Ke:((Ze=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(Ze.prototype,"constructor",{value:Ze,writable:!0,configurable:!0}),Ze);function Je(t,e,r,i,o,a){var s=H(t),l=se(e);t._disturbed=!0;var u=!1,g=h(void 0);return c((function(_,b){var w,x,S,E;if(void 0!==a){if(w=function(){var n=new Qe("Aborted","AbortError"),r=[];i||r.push((function(){return"writable"===e._state?he(e,n):h(void 0)})),o||r.push((function(){return"readable"===t._state?Cn(t,n):h(void 0)})),O((function(){return Promise.all(r.map((function(t){return t()})))}),!0,n)},a.aborted)return void w();a.addEventListener("abort",w)}if(T(t,s._closedPromise,(function(t){i?R(!0,t):O((function(){return he(e,t)}),!0,t)})),T(e,l._closedPromise,(function(e){o?R(!0,e):O((function(){return Cn(t,e)}),!0,e)})),x=t,S=s._closedPromise,E=function(){r?R():O((function(){return function(t){var e=t._ownerWritableStream,n=e._state;return ve(e)||"closed"===n?h(void 0):"errored"===n?f(e._storedError):we(t)}(l)}))},"closed"===x._state?E():y(S,E),ve(e)||"closed"===e._state){var k=new TypeError("the destination writable stream closed before all data could be piped to it");o?R(!0,k):O((function(){return Cn(t,k)}),!0,k)}function P(){var t=g;return d(g,(function(){return t!==g?P():void 0}))}function T(t,e,n){"errored"===t._state?n(t._storedError):v(e,n)}function O(t,n,r){function i(){p(t(),(function(){return A(n,r)}),(function(t){return A(!0,t)}))}u||(u=!0,"writable"!==e._state||ve(e)?i():y(P(),i))}function R(t,n){u||(u=!0,"writable"!==e._state||ve(e)?A(t,n):y(P(),(function(){return A(t,n)})))}function A(t,e){Ee(l),C(s),void 0!==a&&a.removeEventListener("abort",w),t?b(e):_(void 0)}m(c((function(t,e){!function r(i){i?t():d(u?h(!0):d(l._readyPromise,(function(){return c((function(t,e){et(s,{_chunkSteps:function(e){g=d(Ce(l,e),void 0,n),t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:e})}))})),r,e)}(!1)})))}))}var $e=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!tn(this))throw hn("desiredSize");return ln(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!tn(this))throw hn("close");if(!un(this))throw new TypeError("The stream is not in a state that permits close");on(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!tn(this))throw hn("enqueue");if(!un(this))throw new TypeError("The stream is not in a state that permits enqueue");return an(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!tn(this))throw hn("error");sn(this,t)},t.prototype[M]=function(t){pt(this);var e=this._cancelAlgorithm(t);return rn(this),e},t.prototype[D]=function(t){var e=this._controlledReadableStream;if(this._queue.length>0){var n=ft(this);this._closeRequested&&0===this._queue.length?(rn(this),kn(e)):en(this),t._chunkSteps(n)}else X(e,t),en(this)},t}();function tn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof $e}function en(t){nn(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),(function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,en(t))}),(function(e){sn(t,e)}))))}function nn(t){var e=t._controlledReadableStream;return!!un(t)&&!!t._started&&(!!(En(e)&&K(e)>0)||ln(t)>0)}function rn(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function on(t){if(un(t)){var e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(rn(t),kn(e))}}function an(t,e){if(un(t)){var n=t._controlledReadableStream;if(En(n)&&K(n)>0)Y(n,e,!1);else{var r=void 0;try{r=t._strategySizeAlgorithm(e)}catch(e){throw sn(t,e),e}try{dt(t,e,r)}catch(e){throw sn(t,e),e}}en(t)}}function sn(t,e){var n=t._controlledReadableStream;"readable"===n._state&&(pt(t),rn(t),Pn(n,e))}function ln(t){var e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function un(t){var e=t._controlledReadableStream._state;return!t._closeRequested&&"readable"===e}function cn(t,e,n,r,i,o,a){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=a,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,t._readableStreamController=e,p(h(n()),(function(){e._started=!0,en(e)}),(function(t){sn(e,t)}))}function hn(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function fn(t,e){return gt(t._readableStreamController)?function(t){var e,n,r,i,o,a=H(t),s=!1,l=!1,u=!1,f=!1,d=!1,p=c((function(t){o=t}));function y(t){v(t._closedPromise,(function(e){t===a&&(Dt(r._readableStreamController,e),Dt(i._readableStreamController,e),f&&d||o(void 0))}))}function g(){Xt(a)&&(C(a),y(a=H(t))),et(a,{_chunkSteps:function(e){_((function(){l=!1,u=!1;var n=e,a=e;if(!f&&!d)try{a=ht(e)}catch(e){return Dt(r._readableStreamController,e),Dt(i._readableStreamController,e),void o(Cn(t,e))}f||Mt(r._readableStreamController,n),d||Mt(i._readableStreamController,a),s=!1,l?b():u&&w()}))},_closeSteps:function(){s=!1,f||It(r._readableStreamController),d||It(i._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Ft(r._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Ft(i._readableStreamController,0),f&&d||o(void 0)},_errorSteps:function(){s=!1}})}function m(e,n){tt(a)&&(C(a),y(a=Wt(t)));var c=n?i:r,h=n?r:i;Yt(a,e,{_chunkSteps:function(e){_((function(){l=!1,u=!1;var r=n?d:f;if(n?f:d)r||Nt(c._readableStreamController,e);else{var i=void 0;try{i=ht(e)}catch(e){return Dt(c._readableStreamController,e),Dt(h._readableStreamController,e),void o(Cn(t,e))}r||Nt(c._readableStreamController,e),Mt(h._readableStreamController,i)}s=!1,l?b():u&&w()}))},_closeSteps:function(t){s=!1;var e=n?d:f,r=n?f:d;e||It(c._readableStreamController),r||It(h._readableStreamController),void 0!==t&&(e||Nt(c._readableStreamController,t),!r&&h._readableStreamController._pendingPullIntos.length>0&&Ft(h._readableStreamController,0)),e&&r||o(void 0)},_errorSteps:function(){s=!1}})}function b(){if(s)return l=!0,h(void 0);s=!0;var t=Lt(r._readableStreamController);return null===t?g():m(t._view,!1),h(void 0)}function w(){if(s)return u=!0,h(void 0);s=!0;var t=Lt(i._readableStreamController);return null===t?g():m(t._view,!0),h(void 0)}function x(r){if(f=!0,e=r,d){var i=lt([e,n]),a=Cn(t,i);o(a)}return p}function S(r){if(d=!0,n=r,f){var i=lt([e,n]),a=Cn(t,i);o(a)}return p}function E(){}return r=wn(E,b,x),i=wn(E,w,S),y(a),[r,i]}(t):function(t,e){var n,r,i,o,a,s=H(t),l=!1,u=!1,f=!1,d=!1,p=c((function(t){a=t}));function y(){return l?(u=!0,h(void 0)):(l=!0,et(s,{_chunkSteps:function(t){_((function(){u=!1;var e=t,n=t;f||an(i._readableStreamController,e),d||an(o._readableStreamController,n),l=!1,u&&y()}))},_closeSteps:function(){l=!1,f||on(i._readableStreamController),d||on(o._readableStreamController),f&&d||a(void 0)},_errorSteps:function(){l=!1}}),h(void 0))}function g(e){if(f=!0,n=e,d){var i=lt([n,r]),o=Cn(t,i);a(o)}return p}function m(e){if(d=!0,r=e,f){var i=lt([n,r]),o=Cn(t,i);a(o)}return p}function b(){}return i=bn(b,y,g),o=bn(b,y,m),v(s._closedPromise,(function(t){sn(i._readableStreamController,t),sn(o._readableStreamController,t),f&&d||a(void 0)})),[i,o]}(t)}function dn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function pn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function yn(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function vn(t,e){if("bytes"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function gn(t,e){if("byob"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function mn(t,e){F(t,e);var n=null==t?void 0:t.preventAbort,r=null==t?void 0:t.preventCancel,i=null==t?void 0:t.preventClose,o=null==t?void 0:t.signal;return void 0!==o&&function(t,e){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new TypeError(e+" is not an AbortSignal.")}(o,e+" has member 'signal' that"),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(i),signal:o}}Object.defineProperties($e.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty($e.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var _n=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:B(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=t,r=null==n?void 0:n.autoAllocateChunkSize,i=null==n?void 0:n.cancel,o=null==n?void 0:n.pull,a=null==n?void 0:n.start,s=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:q(r,e+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:dn(i,n,e+" has member 'cancel' that"),pull:void 0===o?void 0:pn(o,n,e+" has member 'pull' that"),start:void 0===a?void 0:yn(a,n,e+" has member 'start' that"),type:void 0===s?void 0:vn(s,e+" has member 'type' that")}}(t,"First parameter");if(xn(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,e,n){var r=Object.create(vt.prototype),i=function(){},o=function(){return h(void 0)},a=function(){return h(void 0)};void 0!==e.start&&(i=function(){return e.start(r)}),void 0!==e.pull&&(o=function(){return e.pull(r)}),void 0!==e.cancel&&(a=function(t){return e.cancel(t)});var s=e.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Bt(t,r,i,o,a,n,s)}(this,r,Zt(n,0))}else{var i=Qt(n);!function(t,e,n,r){var i=Object.create($e.prototype),o=function(){},a=function(){return h(void 0)},s=function(){return h(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.pull&&(a=function(){return e.pull(i)}),void 0!==e.cancel&&(s=function(t){return e.cancel(t)}),cn(t,i,o,a,s,n,r)}(this,r,Zt(n,1),i)}}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!Sn(this))throw Tn("locked");return En(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sn(this)?En(this)?f(new TypeError("Cannot cancel a stream that already has a reader")):Cn(this,t):f(Tn("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Sn(this))throw Tn("getReader");return void 0===function(t,e){F(t,e);var n=null==t?void 0:t.mode;return{mode:void 0===n?void 0:gn(n,e+" has member 'mode' that")}}(t,"First parameter").mode?H(this):Wt(this)},t.prototype.pipeThrough=function(t,e){if(void 0===e&&(e={}),!Sn(this))throw Tn("pipeThrough");U(t,1,"pipeThrough");var n=function(t,e){F(t,e);var n=null==t?void 0:t.readable;z(n,"readable","ReadableWritablePair"),V(n,e+" has member 'readable' that");var r=null==t?void 0:t.writable;return z(r,"writable","ReadableWritablePair"),ie(r,e+" has member 'writable' that"),{readable:n,writable:r}}(t,"First parameter"),r=mn(e,"Second parameter");if(En(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ce(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(Je(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable},t.prototype.pipeTo=function(t,e){if(void 0===e&&(e={}),!Sn(this))return f(Tn("pipeTo"));if(void 0===t)return f("Parameter 1 is required in 'pipeTo'.");if(!ue(t))return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=mn(e,"Second parameter")}catch(t){return f(t)}return En(this)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ce(t)?f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Je(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},t.prototype.tee=function(){if(!Sn(this))throw Tn("tee");return lt(fn(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Sn(this))throw Tn("values");return e=this,n=function(t,e){F(t,e);var n=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(n)}}(t,"First parameter").preventCancel,r=H(e),i=new rt(r,n),(o=Object.create(it))._asyncIteratorImpl=i,o;var e,n,r,i,o},t}();function bn(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var o=Object.create(_n.prototype);return xn(o),cn(o,Object.create($e.prototype),t,e,n,r,i),o}function wn(t,e,n){var r=Object.create(_n.prototype);return xn(r),Bt(r,Object.create(vt.prototype),t,e,n,0,void 0),r}function xn(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Sn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof _n}function En(t){return void 0!==t._reader}function Cn(t,e){if(t._disturbed=!0,"closed"===t._state)return h(void 0);if("errored"===t._state)return f(t._storedError);kn(t);var r=t._reader;return void 0!==r&&Xt(r)&&(r._readIntoRequests.forEach((function(t){t._closeSteps(void 0)})),r._readIntoRequests=new x),g(t._readableStreamController[M](e),n)}function kn(t){t._state="closed";var e=t._reader;void 0!==e&&(R(e),tt(e)&&(e._readRequests.forEach((function(t){t._closeSteps()})),e._readRequests=new x))}function Pn(t,e){t._state="errored",t._storedError=e;var n=t._reader;void 0!==n&&(O(n,e),tt(n)?(n._readRequests.forEach((function(t){t._errorSteps(e)})),n._readRequests=new x):(n._readIntoRequests.forEach((function(t){t._errorSteps(e)})),n._readIntoRequests=new x))}function Tn(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function On(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark;return z(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:W(n)}}Object.defineProperties(_n.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(_n.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof e.asyncIterator&&Object.defineProperty(_n.prototype,e.asyncIterator,{value:_n.prototype.values,writable:!0,configurable:!0});var Rn=function(t){return t.byteLength};Object.defineProperty(Rn,"name",{value:"size",configurable:!0});var An=function(){function t(t){U(t,1,"ByteLengthQueuingStrategy"),t=On(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Mn(this))throw In("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!Mn(this))throw In("size");return Rn},enumerable:!1,configurable:!0}),t}();function In(t){return new TypeError("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Mn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")&&t instanceof An}Object.defineProperties(An.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(An.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Dn=function(){return 1};Object.defineProperty(Dn,"name",{value:"size",configurable:!0});var Ln=function(){function t(t){U(t,1,"CountQueuingStrategy"),t=On(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Fn(this))throw jn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!Fn(this))throw jn("size");return Dn},enumerable:!1,configurable:!0}),t}();function jn(t){return new TypeError("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Fn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")&&t instanceof Ln}function Nn(t,e,n){return N(t,n),function(n){return w(t,e,[n])}}function Bn(t,e,n){return N(t,n),function(n){return b(t,e,[n])}}function Un(t,e,n){return N(t,n),function(n,r){return w(t,e,[n,r])}}Object.defineProperties(Ln.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Ln.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var zn=function(){function t(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),void 0===n&&(n={}),void 0===t&&(t=null);var r=Jt(e,"Second parameter"),i=Jt(n,"Third parameter"),o=function(t,e){F(t,e);var n=null==t?void 0:t.flush,r=null==t?void 0:t.readableType,i=null==t?void 0:t.start,o=null==t?void 0:t.transform,a=null==t?void 0:t.writableType;return{flush:void 0===n?void 0:Nn(n,t,e+" has member 'flush' that"),readableType:r,start:void 0===i?void 0:Bn(i,t,e+" has member 'start' that"),transform:void 0===o?void 0:Un(o,t,e+" has member 'transform' that"),writableType:a}}(t,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");var a,s=Zt(i,0),l=Qt(i),u=Zt(r,1),d=Qt(r);(function(t,e,n,r,i,o){function a(){return e}function s(e){return function(t,e){var n=t._transformStreamController;return t._backpressure?g(t._backpressureChangePromise,(function(){var r=t._writable;if("erroring"===r._state)throw r._storedError;return Zn(n,e)})):Zn(n,e)}(t,e)}function l(e){return function(t,e){return Gn(t,e),h(void 0)}(t,e)}function u(){return function(t){var e=t._readable,n=t._transformStreamController,r=n._flushAlgorithm();return Yn(n),g(r,(function(){if("errored"===e._state)throw e._storedError;on(e._readableStreamController)}),(function(n){throw Gn(t,n),e._storedError}))}(t)}function c(){return function(t){return Vn(t,!1),t._backpressureChangePromise}(t)}function f(e){return qn(t,e),h(void 0)}t._writable=function(t,e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var a=Object.create(ae.prototype);return le(a),Oe(a,Object.create(Pe.prototype),t,e,n,r,i,o),a}(a,s,u,l,n,r),t._readable=bn(a,c,f,i,o),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,Vn(t,!0),t._transformStreamController=void 0})(this,c((function(t){a=t})),u,d,s,l),function(t,e){var n=Object.create(Hn.prototype),r=function(t){try{return Kn(n,t),h(void 0)}catch(t){return f(t)}},i=function(){return h(void 0)};void 0!==e.transform&&(r=function(t){return e.transform(t,n)}),void 0!==e.flush&&(i=function(){return e.flush(n)}),function(t,e,n,r){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=n,e._flushAlgorithm=r}(t,n,r,i)}(this,o),void 0!==o.start?a(o.start(this._transformStreamController)):a(void 0)}return Object.defineProperty(t.prototype,"readable",{get:function(){if(!Wn(this))throw Jn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){if(!Wn(this))throw Jn("writable");return this._writable},enumerable:!1,configurable:!0}),t}();function Wn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof zn}function Gn(t,e){sn(t._readable._readableStreamController,e),qn(t,e)}function qn(t,e){Yn(t._transformStreamController),Me(t._writable._writableStreamController,e),t._backpressure&&Vn(t,!1)}function Vn(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=c((function(e){t._backpressureChangePromise_resolve=e})),t._backpressure=e}Object.defineProperties(zn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(zn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});var Hn=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Xn(this))throw Qn("desiredSize");return ln(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Xn(this))throw Qn("enqueue");Kn(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Xn(this))throw Qn("error");var e;e=t,Gn(this._controlledTransformStream,e)},t.prototype.terminate=function(){if(!Xn(this))throw Qn("terminate");var t;on((t=this._controlledTransformStream)._readable._readableStreamController),qn(t,new TypeError("TransformStream terminated"))},t}();function Xn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof Hn}function Yn(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function Kn(t,e){var n=t._controlledTransformStream,r=n._readable._readableStreamController;if(!un(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{an(r,e)}catch(t){throw qn(n,t),n._readable._storedError}(function(t){return!nn(t)})(r)!==n._backpressure&&Vn(n,!0)}function Zn(t,e){return g(t._transformAlgorithm(e),void 0,(function(e){throw Gn(t._controlledTransformStream,e),e}))}function Qn(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Jn(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}Object.defineProperties(Hn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Hn.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=An,t.CountQueuingStrategy=Ln,t.ReadableByteStreamController=vt,t.ReadableStream=_n,t.ReadableStreamBYOBReader=Ht,t.ReadableStreamBYOBRequest=yt,t.ReadableStreamDefaultController=$e,t.ReadableStreamDefaultReader=$,t.TransformStream=zn,t.TransformStreamDefaultController=Hn,t.WritableStream=ae,t.WritableStreamDefaultController=Pe,t.WritableStreamDefaultWriter=_e,Object.defineProperty(t,"__esModule",{value:!0})}(e)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function a(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,l,"next",t)}function l(t){a(o,r,i,s,l,"throw",t)}s(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var h=function(){function t(){l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return c(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(t,e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}]),t}();e.BaseCanvasFactory=h;var f=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n,i=e.isCompressed,a=void 0!==i&&i;l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=a}var e;return c(t,[{key:"fetch",value:(e=s(i.default.mark((function t(e){var n,r,a,s=this;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return r=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE,t.abrupt("return",this._fetchData(r,a).catch((function(t){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"","CMap at: ").concat(r))})));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}();e.BaseCMapReaderFactory=f;var d=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n;l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}var e;return c(t,[{key:"fetch",value:(e=s(i.default.mark((function t(e){var n,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.filename,this.baseUrl){t.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){t.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),t.abrupt("return",this._fetchData(r).catch((function(t){throw new Error("Unable to load font data at: ".concat(r))})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}();e.BaseStandardFontDataFactory=d;var p=function(){function t(){l(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}return c(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width","".concat(t,"px")),n.setAttribute("height","".concat(e,"px")),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),n}},{key:"createElement",value:function(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(t){(0,o.unreachable)("Abstract method `_createSVG` called.")}}]),t}();e.BaseSVGFactory=p},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classPrivateFieldInitSpec(t,e,n){_checkPrivateRedeclaration(t,e),e.set(t,n)}function _checkPrivateRedeclaration(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,e,n){return _classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,e,"set"),n),n}function _classApplyDescriptorSet(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function _classPrivateFieldGet(t,e){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,e,"get"))}function _classExtractFieldDescriptor(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function _classApplyDescriptorGet(t,e){return e.get?e.get.call(t):e.value}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function asyncGeneratorStep(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){asyncGeneratorStep(o,r,i,a,s,"next",t)}function s(t){asyncGeneratorStep(o,r,i,a,s,"throw",t)}a(void 0)}))}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if("string"==typeof t||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var r=Object.create(null),i=null,o=null;for(var a in e){var s=e[a];switch(a){case"url":if("undefined"!=typeof window)try{r[a]=new URL(s,window.location).href;continue}catch(t){(0,_util.warn)('Cannot create valid URL: "'.concat(t,'".'))}else if("string"==typeof s||s instanceof URL){r[a]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=s;continue;case"worker":o=s;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&s instanceof Buffer)r[a]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"==typeof s)r[a]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[a]=new Uint8Array(s)}else r[a]=new Uint8Array(s)}continue}r[a]=s}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var l={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=o}var u=n.docId;return o.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(o,r,i,u),e=new Promise((function(t){var e;i?e=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(e=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(e)}));return Promise.all([t,e]).then((function(t){var e=_slicedToArray(t,2),i=e[0],a=e[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(u,i,o.port),l=new WorkerTransport(s,n,a,r);n._transport=l,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(t,e,n,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark((function t(e,n,r,i){var o;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.destroyed){t.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(n.length=r.length,n.initialData=r.initialData,n.progressiveDone=r.progressiveDone,n.contentDispositionFilename=r.contentDispositionFilename),t.next=5,e.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.12.313",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(o=t.sent,!e.destroyed){t.next=8;break}throw new Error("Worker was destroyed");case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(t.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var e;return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(e=_asyncToGenerator(_regenerator.default.mark((function t(){var e;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyed=!0,t.next=3,null===(e=this._transport)||void 0===e?void 0:e.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),t}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(t){r.e(t)}finally{r.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(t,e)}catch(t){i.e(t)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(e._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(t){r.e(t)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,n=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(t){n.e(t)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){var r,i=this;_classCallCheck(this,t),this._pdfInfo=e,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(r=_asyncToGenerator(_regenerator.default.mark((function t(){return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),t.abrupt("return",i.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})})}return _createClass(t,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}var e;return _createClass(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,r=void 0===n?this.rotate:n,i=t.offsetX,o=void 0===i?0:i,a=t.offsetY,s=void 0===a?0:a,l=t.dontFlip,u=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:o,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e,r=this._transport.getRenderingIntent(n),i=this._annotationPromises.get(r.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,i),i=i.then((function(t){var e,n=_createForOfIteratorHelper(t);try{var r=function(){var t=e.value;void 0!==t.titleObj&&Object.defineProperty(t,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str}}),void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str}})};for(n.s();!(e=n.n()).done;)r()}catch(t){n.e(t)}finally{n.f()}return t}))),i}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(e=_asyncToGenerator(_regenerator.default.mark((function t(){var e;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(t){var e,n,r,i=this,o=t.canvasContext,a=t.viewport,s=t.intent,l=void 0===s?"display":s,u=t.annotationMode,c=void 0===u?_util.AnnotationMode.ENABLE:u,h=t.transform,f=void 0===h?null:h,d=t.imageLayer,p=void 0===d?null:d,y=t.canvasFactory,v=void 0===y?null:y,g=t.background,m=void 0===g?null:g,_=t.optionalContentConfigPromise,b=void 0===_?null:_,w=t.annotationCanvasMap,x=void 0===w?null:w;void 0!==(null===(e=arguments[0])||void 0===e?void 0:e.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var S=this._transport.getRenderingIntent(l,c);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());var E=this._intentStates.get(S.cacheKey);E||(E=Object.create(null),this._intentStates.set(S.cacheKey,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);var C=v||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),k=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);E.displayReadyCapability||(E.displayReadyCapability=(0,_util.createPromiseCapability)(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S));var P=function(t){E.renderTasks.delete(T),(i.cleanupAfterRender||k)&&(i.pendingCleanup=!0),i._tryCleanup(),t?(T.capability.reject(t),i._abortOperatorList({intentState:E,reason:t instanceof Error?t:new Error(t)})):T.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},T=new InternalRenderTask({callback:P,params:{canvasContext:o,viewport:a,transform:f,imageLayer:p,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:C,useRequestAnimationFrame:!k,pdfBug:this._pdfBug});((r=E).renderTasks||(r.renderTasks=new Set)).add(T);var O=T.task;return Promise.all([E.displayReadyCapability.promise,b]).then((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];i.pendingCleanup?P():(i._stats&&i._stats.time("Rendering"),T.initializeGraphics({transparency:n,optionalContentConfig:r}),T.operatorListChanged())})).catch(P),O}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e,r=t.annotationMode,i=void 0===r?_util.AnnotationMode.ENABLE:r;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(a))}var a,s,l=this._transport.getRenderingIntent(n,i,!0),u=this._intentStates.get(l.cacheKey);return u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u)),u.opListReadCapability||((a=Object.create(null)).operatorListChanged=o,u.opListReadCapability=(0,_util.createPromiseCapability)(),((s=u).renderTasks||(s.renderTasks=new Set)).add(a),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.normalizeWhitespace,n=void 0!==e&&e,r=t.disableCombineTextItems,i=void 0!==r&&r,o=t.includeMarkedContent,a=void 0!==o&&o,s=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i,includeMarkedContent:!0===a},{highWaterMark:s,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(t){return _xfa_text.XfaText.textContent(t)}));var e=this.streamTextContent(t);return new Promise((function(t,n){var r=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){r.read().then((function(n){var r,o=n.value;n.done?t(i):(Object.assign(i.styles,o.styles),(r=i.items).push.apply(r,_toConsumableArray(o.items)),e())}),n)}()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var t,e=[],n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,o=_createForOfIteratorHelper(r.renderTasks);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.push(a.completed),a.cancel()}}catch(t){o.e(t)}finally{o.f()}}}}catch(t){n.e(t)}finally{n.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var e,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.renderTasks,o=r.operatorList;if(i.size>0||!o.lastChunk)return!1}}catch(t){n.e(t)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;var i,o=_createForOfIteratorHelper(e.renderTasks);try{for(o.s();!(i=o.n()).done;)i.value.operatorListChanged()}catch(t){o.e(t)}finally{o.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this,n=t.renderingIntent,r=t.cacheKey,i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:n&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),o=this._intentStates.get(r);o.streamReader=i,function t(){i.read().then((function(n){var r=n.value;n.done?o.streamReader=null:e._transport.destroyed||(e._renderPageChunk(r,o),t())}),(function(t){if(o.streamReader=null,!e._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;var n,r=_createForOfIteratorHelper(o.renderTasks);try{for(r.s();!(n=r.n()).done;)n.value.operatorListChanged()}catch(t){r.e(t)}finally{r.f()}e._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(t);else{if(!o.opListReadCapability)throw t;o.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,r=t.reason,i=t.force,o=void 0!==i&&i;if(n.streamReader){if(!o){if(n.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){e._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(r.message)).catch((function(){})),n.streamReader=null,!this._transport.destroyed){var a,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(a=s.n()).done;){var l=_slicedToArray(a.value,2),u=l[0];if(l[1]===n){this._intentStates.delete(u);break}}}catch(t){s.e(t)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){_classCallCheck(this,t),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(t,[{key:"postMessage",value:function(t,e){var n=this,r={data:function(t){if(globalThis.structuredClone)return globalThis.structuredClone(t,e);var n=new WeakMap;return function t(r){if("function"==typeof r||"symbol"===_typeof(r)||r instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==r?void 0:r.toString()));if("object"!==_typeof(r)||null===r)return r;if(n.has(r))return n.get(r);var i,o;if((i=r.buffer)&&(0,_util.isArrayBuffer)(i))return o=null!=e&&e.includes(i)?new r.constructor(i,r.byteOffset,r.byteLength):new r.constructor(r),n.set(r,o),o;if(r instanceof Map){o=new Map,n.set(r,o);var a,s=_createForOfIteratorHelper(r);try{for(s.s();!(a=s.n()).done;){var l=_slicedToArray(a.value,2),u=l[0],c=l[1];o.set(u,t(c))}}catch(t){s.e(t)}finally{s.f()}return o}if(r instanceof Set){o=new Set,n.set(r,o);var h,f=_createForOfIteratorHelper(r);try{for(f.s();!(h=f.n()).done;){var d=h.value;o.add(t(d))}}catch(t){f.e(t)}finally{f.f()}return o}for(var p in o=Array.isArray(r)?[]:Object.create(null),n.set(r,o),r){for(var y,v=void 0,g=r;!(v=Object.getOwnPropertyDescriptor(g,p));)g=Object.getPrototypeOf(g);void 0!==v.value&&("function"!=typeof v.value||null!==(y=r.hasOwnProperty)&&void 0!==y&&y.call(r,p))&&(o[p]=t(v.value))}return o}(t)}(t)};this._deferred.then((function(){var t,e=_createForOfIteratorHelper(n._listeners);try{for(e.s();!(t=e.n()).done;)t.value.call(n,r)}catch(t){e.e(t)}finally{e.f()}}))}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(t){var e='importScripts("'.concat(t,'");');return URL.createObjectURL(new Blob([e]))};var PDFWorker=function(){function PDFWorker(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?null:e,r=t.port,i=void 0===r?null:r,o=t.verbosity,a=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,PDFWorker),i&&PDFWorker._workerPorts.has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return PDFWorker._workerPorts.set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var e=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));var n=new Worker(e),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},o=function(){t._webWorker||i()};n.addEventListener("error",o),r.on("test",(function(e){n.removeEventListener("error",o),t.destroyed?i():e?(t._messageHandler=r,t._port=n,t._webWorker=n,t._readyCapability.resolve(),r.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(e){if(n.removeEventListener("error",o),t.destroyed)i();else try{a()}catch(e){t._setupFakeWorker()}}));var a=function(){var t=new Uint8Array([255]);try{r.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void a()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((function(e){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;t._port=n;var r="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(r+"_worker",r,n);e.setup(i,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);t._messageHandler=o,t._readyCapability.resolve(),o.send("configure",{verbosity:t.verbosity})}})).catch((function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(t){if(null==t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(t.port)?this._workerPorts.get(t.port):new PDFWorker(t)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(t){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark((function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}}),_callee4)})));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function t(e,n,r,i){_classCallCheck(this,t),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(t,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_util.RenderingIntentFlag.DISPLAY,i="";switch(t){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return n&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(i)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e,n=[],r=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push(i._destroy())}}catch(t){r.e(t)}finally{r.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then((function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(function(e){var r=(0,_util.createPromiseCapability)(),i=t._fullReader;return i.headersReady.then((function(){var e;i.isStreamingSupported&&i.isRangeSupported||(t._lastProgress&&(null===(e=n.onProgress)||void 0===e||e.call(n,t._lastProgress)),i.onProgress=function(t){var e;null===(e=n.onProgress)||void 0===e||e.call(n,{loaded:t.loaded,total:t.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),e.on("GetRangeReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=t._networkStream.getRangeReader(e.begin,e.end);r?(n.onPull=function(){r.read().then((function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){r.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}):n.close()})),e.on("GetDoc",(function(e){var r=e.pdfInfo;t._numPages=r.numPages,t._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":e=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":e=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":e=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":e=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(t._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(e){t._passwordCapability.resolve({password:e})}),e.code)}catch(e){t._passwordCapability.reject(e)}else t._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return t._passwordCapability.promise})),e.on("DataLoaded",(function(e){var r;null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){t.destroyed||_classPrivateFieldGet(t,_pageCache).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(function(n){var r,i=_slicedToArray(n,3),o=i[0],a=i[1],s=i[2];if(!t.destroyed&&!t.commonObjs.has(o))switch(a){case"Font":var l=t._params;if("error"in s){var u=s.error;(0,_util.warn)("Error during font loading: ".concat(u)),t.commonObjs.resolve(o,u);break}var c=null;l.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(c={registerFont:function(t,e){globalThis.FontInspector.fontAdded(t,e)}});var h=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:c});t.fontLoader.bind(h).catch((function(t){return e.sendWithPromise("FontFallback",{id:o})})).finally((function(){!l.fontExtraProperties&&h.data&&(h.data=null),t.commonObjs.resolve(o,h)}));break;case"FontPath":case"Image":t.commonObjs.resolve(o,s);break;default:throw new Error("Got unknown common object type ".concat(a))}})),e.on("obj",(function(e){var n,r=_slicedToArray(e,4),i=r[0],o=r[1],a=r[2],s=r[3];if(!t.destroyed){var l=_classPrivateFieldGet(t,_pageCache).get(o);if(!l.objs.has(i))switch(a){case"Image":l.objs.resolve(i,s),(null==s||null===(n=s.data)||void 0===n?void 0:n.length)>8e6&&(l.cleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,s);break;default:throw new Error("Got unknown object type ".concat(a))}}})),e.on("DocProgress",(function(e){var r;t.destroyed||null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:e.loaded,total:e.total})})),e.on("DocStats",(function(e){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),e.on("FetchStandardFontData",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"_onUnsupportedFeature",value:function(t){var e,n,r=t.featureId;this.destroyed||null===(e=(n=this.loadingTask).onUnsupportedFeature)||void 0===e||e.call(n,r)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1,r=_classPrivateFieldGet(this,_pagePromises).get(n);if(r)return r;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(t){if(e.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,t,e,e._params.ownerDocument,e._params.pdfBug);return _classPrivateFieldGet(e,_pageCache).set(n,r),r}));return _classPrivateFieldGet(this,_pagePromises).set(n,i),i}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(){var t,e,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null}).finally((function(){n.annotationStorage.resetModified()}))}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new _optional_content_config.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then((function(e){var n,r,i,o;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(n=null===(r=t._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(o=t._fullReader)||void 0===o?void 0:o.contentLength)&&void 0!==i?i:null}})))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark((function t(){var e,n,r,i,o=arguments;return _regenerator.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]&&o[0],t.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){t.next=5;break}return t.abrupt("return");case 5:n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),t.prev=6,n.s();case 8:if((r=n.n()).done){t.next=15;break}if((i=r.value).cleanup()){t.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return t.stop()}}),t,this,[[6,17,20,23]])}))),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var n=this._objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=this._objs[t];return(null==e?void 0:e.resolved)||!1}},{key:"resolve",value:function(t,e){var n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function t(e){var n=e.callback,r=e.params,i=e.objs,o=e.commonObjs,a=e.annotationCanvasMap,s=e.operatorList,l=e.pageIndex,u=e.canvasFactory,c=e.useRequestAnimationFrame,h=void 0!==c&&c,f=e.pdfBug,d=void 0!==f&&f;_classCallCheck(this,t),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=u,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var e;return _createClass(t,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(e){var n,r=e.transparency,i=void 0!==r&&r,o=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var a=this.params,s=a.canvasContext,l=a.viewport,u=a.transform,c=a.imageLayer,h=a.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,c,o,this.annotationCanvasMap),this.gfx.beginDrawing({transform:u,viewport:l,transparency:i,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(e=_asyncToGenerator(_regenerator.default.mark((function e(){return _regenerator.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),t}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4);function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var v,g=function(){function t(e){var n=e.docId,r=e.onUnsupportedFeature,i=e.ownerDocument,o=void 0===i?globalThis.document:i;e.styleElement,d(this,t),this.constructor===t&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=o,this.nativeFontFaces=[],this.styleElement=null}var e,n;return y(t,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}},{key:"insertRule",value:function(t){var e=this.styleElement;e||((e=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function(){var t,e=h(this.nativeFontFaces);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._document.fonts.delete(n)}}catch(t){e.e(t)}finally{e.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(e=o.default.mark((function t(e){var n,r,i=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.attached&&!e.missingFile){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!this.isFontLoadingAPISupported){t.next=19;break}if(!(n=e.createNativeFontFace())){t.next=18;break}return this.addNativeFontFace(n),t.prev=7,t.next=10,n.loaded;case 10:t.next=18;break;case 12:throw t.prev=12,t.t0=t.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 18:return t.abrupt("return");case 19:if(!(r=e.createFontFaceRule())){t.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,new Promise((function(t){var n=i._queueLoadingCallback(t);i._prepareFontLoadEvent([r],[e],n)}));case 26:case"end":return t.stop()}}),t,this,[[7,12]])})),n=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(t){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var t,e=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(t,e,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),t}();e.FontLoader=v,e.FontLoader=v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=u(e);if(n){var i=u(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return l(this,t)});function i(t){var e;return d(this,i),(e=r.call(this,t)).loadingContext={requests:[],nextRequestId:0},e.loadTestFontId=0,e}return y(i,[{key:"isSyncFontLoadingSupported",get:function(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(t=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function(t){var e=this.loadingContext,n={id:"pdfjs-font-loading-".concat(e.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){var t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(t,e,n){function r(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}var o,s,l=this._document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),c=0,f="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,p=1482184792,y=r(d=i(d,976,f.length,f),16);for(o=0,s=f.length-3;o<s;o+=4)y=y-p+r(f,o)|0;o<f.length&&(y=y-p+r(f+"XXX",o)|0),d=i(d,16,4,(0,a.string32)(y));var v="url(data:font/opentype;base64,".concat(btoa(d),");"),g='@font-face {font-family:"'.concat(f,'";src:').concat(v,"}");this.insertRule(g);var m,_=[],b=h(e);try{for(b.s();!(m=b.n()).done;){var w=m.value;_.push(w.loadedName)}}catch(t){b.e(t)}finally{b.f()}_.push(f);var x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(var S=0,E=_;S<E.length;S++){var C=E[S],k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=C,x.appendChild(k)}this._document.body.appendChild(x),function t(e,n){if(++c>30)return(0,a.warn)("Load test font never loaded."),void n();u.font="30px "+e,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(f,(function(){x.remove(),n.complete()}))}}]),i}(g);var m=function(){function t(e,n){var r=n.isEvalSupported,i=void 0===r||r,o=n.disableFontFace,a=void 0!==o&&o,s=n.ignoreErrors,l=void 0!==s&&s,u=n.onUnsupportedFeature,c=n.fontRegistry,h=void 0===c?null:c;for(var f in d(this,t),this.compiledGlyphs=Object.create(null),e)this[f]=e[f];this.isEvalSupported=!1!==i,this.disableFontFace=!0===a,this.ignoreErrors=!0===l,this._onUnsupportedFeature=u,this.fontRegistry=h}return y(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var t;if(this.cssFontInfo){var e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var t,e=(0,a.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");");if(this.cssFontInfo){var r="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(r+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),t='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(r,"src:").concat(n,"}")}else t='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,n),t}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(t,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){var r,i=[],o=h(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=void 0!==s.args?s.args.join(","):"";i.push("c.",s.cmd,"(",l,");\n")}}catch(t){o.e(t)}finally{o.f()}return this.compiledGlyphs[e]=new Function("c","size",i.join(""))}return this.compiledGlyphs[e]=function(t,e){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;"scale"===o.cmd&&(o.args=[e,-e]),t[o.cmd].apply(t,o.args)}}catch(t){i.e(t)}finally{i.f()}}}}]),t}();e.FontFaceObject=m},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=n(135),o=n(6),a=n(4);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=y;var v=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=v;var g=function t(){p(this,t),(0,a.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(e.NodeStandardFontDataFactory=g,o.isNodeJS){var m=function(t){return new Promise((function(e,n){__webpack_require__(2767).readFile(t,(function(t,r){!t&&r?e(new Uint8Array(r)):n(new Error(t))}))}))};e.NodeCanvasFactory=y=function(t){u(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_createCanvas",value:function(t,e){return __webpack_require__(4601).createCanvas(t,e)}}]),n}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=v=function(t){u(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(t,e){return m(t).then((function(t){return{cMapData:t,compressionType:e}}))}}]),n}(i.BaseCMapReaderFactory),e.NodeStandardFontDataFactory=g=function(t){u(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(t){return m(t)}}]),n}(i.BaseStandardFontDataFactory)}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var r=n(4);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}var e,n;return e=t,(n=[{key:"getValue",value:function(t,e){var n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}},{key:"setValue",value:function(t,e){var n,r,o=this._storage.get(t),a=!1;if(void 0!==o)for(var s=0,l=Object.entries(e);s<l.length;s++){var u=(n=l[s],r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],h=u[1];o[c]!==h&&(a=!0,o[c]=h)}else a=!0,this._storage.set(t,e);a&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}])&&o(e.prototype,n),t}();e.AnnotationStorage=a},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(4),i=n(141),o=n(1);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p=4096,y=16;function v(t){if(!t.mozCurrentTransform){t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._originalResetTransform=t.resetTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"lineWidth");t._setLineWidth=e.set,t._getLineWidth=e.get,Object.defineProperty(t,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(t){}Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=h(this._transformMatrix,6),e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=e*i-n*r,l=n*r-e*i;return[i/s,n/l,r/l,e/s,(i*o-r*a)/l,(n*o-e*a)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]*=t,n[1]*=t,n[2]*=e,n[3]*=e,this._originalScale(t,e)},t.transform=function(e,n,r,i,o,a){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*o+s[2]*a+s[4],s[1]*o+s[3]*a+s[5]],t._originalTransform(e,n,r,i,o,a)},t.setTransform=function(e,n,r,i,o,a){this._transformMatrix=[e,n,r,i,o,a],t._originalSetTransform(e,n,r,i,o,a)},t.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],t._originalResetTransform()},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*-n+r[2]*e,r[1]*-n+r[3]*e,r[4],r[5]],this._originalRotate(t)}}}var g=function(){function t(e){l(this,t),this.canvasFactory=e,this.cache=Object.create(null)}return c(t,[{key:"getCanvas",value:function(t,e,n,r){var i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),r&&v(i.context),i}},{key:"clear",value:function(){for(var t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}]),t}(),m=function(){function t(e,n){l(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,n])}return c(t,[{key:"clone",value:function(){var t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}},{key:"updatePathMinMax",value:function(t,e,n){var i=h(r.Util.applyTransform([e,n],t),2);e=i[0],n=i[1],this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}},{key:"updateCurvePathMinMax",value:function(t,e,n,i,o,a,s,l,u){var c=r.Util.bezierBoundingBox(e,n,i,o,a,s,l,u);this.updatePathMinMax(t,c[0],c[1]),this.updatePathMinMax(t,c[2],c[3])}},{key:"getPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[this.minX,this.minY,this.maxX,this.maxY];if(t===i.PathType.STROKE){e||(0,r.unreachable)("Stroke bounding box must include transform.");var o=r.Util.singularValueDecompose2dScale(e),a=o[0]*this.lineWidth/2,s=o[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}},{key:"updateClipFromPath",value:function(){var t=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.PathType.FILL,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}]),t}();function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var i,o,a,s,l,u,c,h,f,d=e.height,p=e.width,v=d%y,g=(d-v)/y,m=0===v?g:g+1,_=t.createImageData(p,y),b=0,w=e.data,x=_.data;if(n)switch(n.length){case 1:u=n[0],c=n[0],h=n[0],f=n[0];break;case 4:u=n[0],c=n[1],h=n[2],f=n[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){var S=w.byteLength,E=new Uint32Array(x.buffer,0,x.byteLength>>2),C=E.length,k=p+7>>3,P=4294967295,T=r.IsLittleEndianCached.value?4278190080:255;if(f&&255===f[0]&&0===f[255]){var O=[T,P];P=O[0],T=O[1]}for(o=0;o<m;o++){for(s=o<g?y:v,i=0,a=0;a<s;a++){for(var R=S-b,A=0,I=R>k?p:8*R-7,M=-8&I,D=0,L=0;A<M;A+=8)L=w[b++],E[i++]=128&L?P:T,E[i++]=64&L?P:T,E[i++]=32&L?P:T,E[i++]=16&L?P:T,E[i++]=8&L?P:T,E[i++]=4&L?P:T,E[i++]=2&L?P:T,E[i++]=1&L?P:T;for(;A<I;A++)0===D&&(L=w[b++],D=128),E[i++]=L&D?P:T,D>>=1}for(;i<C;)E[i++]=0;t.putImageData(_,0,o*y)}}else if(e.kind===r.ImageKind.RGBA_32BPP){var j=!!(u||c||h);for(a=0,l=p*y*4,o=0;o<g;o++){if(x.set(w.subarray(b,b+l)),b+=l,j)for(var F=0;F<l;F+=4)u&&(x[F+0]=u[x[F+0]]),c&&(x[F+1]=c[x[F+1]]),h&&(x[F+2]=h[x[F+2]]);t.putImageData(_,0,a),a+=y}if(o<m){if(l=p*v*4,x.set(w.subarray(b,b+l)),j)for(var N=0;N<l;N+=4)u&&(x[N+0]=u[x[N+0]]),c&&(x[N+1]=c[x[N+1]]),h&&(x[N+2]=h[x[N+2]]);t.putImageData(_,0,a)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));var B=!!(u||c||h);for(l=p*(s=y),o=0;o<m;o++){for(o>=g&&(l=p*(s=v)),i=0,a=l;a--;)x[i++]=w[b++],x[i++]=w[b++],x[i++]=w[b++],x[i++]=255;if(B)for(var U=0;U<i;U+=4)u&&(x[U+0]=u[x[U+0]]),c&&(x[U+1]=c[x[U+1]]),h&&(x[U+2]=h[x[U+2]]);t.putImageData(_,0,o*y)}}}}function b(t,e){for(var n=e.height,r=e.width,i=n%y,o=(n-i)/y,a=0===i?o:o+1,s=t.createImageData(r,y),l=0,u=e.data,c=s.data,h=0;h<a;h++){for(var f=h<o?y:i,d=3,p=0;p<f;p++)for(var v=void 0,g=0,m=0;m<r;m++)g||(v=u[l++],g=128),c[d]=v&g?0:255,d+=4,g>>=1;t.putImageData(s,0,h*y)}}function w(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==t[o]&&(e[o]=t[o])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function x(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function S(t,e,n,r){for(var i=t.length,o=3;o<i;o+=4){var a=t[o];if(0===a)t[o-3]=e,t[o-2]=n,t[o-1]=r;else if(a<255){var s=255-a;t[o-3]=t[o-3]*a+e*s>>8,t[o-2]=t[o-2]*a+n*s>>8,t[o-1]=t[o-1]*a+r*s>>8}}}function E(t,e,n){for(var r=t.length,i=3;i<r;i+=4){var o=n?n[t[i]]:t[i];e[i]=e[i]*o*.00392156862745098|0}}function C(t,e,n){for(var r=t.length,i=3;i<r;i+=4){var o=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[o>>8]>>8:e[i]*o>>16}}function k(t,e){var n=r.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var i=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=i||n[1]<=i}var P=["butt","round","square"],T=["miter","round","bevel"],O={},R={},A=function(){function t(e,n,r,i,o,a,s){l(this,t),this.ctx=e,this.current=new m(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.imageLayer=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=a,this.cachedCanvases=new g(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,e&&v(e),this._cachedGetSinglePixelWidth=null}return c(t,[{key:"beginDrawing",value:function(t){var e=t.transform,n=t.viewport,r=t.transparency,i=void 0!==r&&r,o=t.background,a=void 0===o?null:o,s=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=a||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,l),this.ctx.restore(),i){var u=this.cachedCanvases.getCanvas("transparent",s,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx),e&&(this.ctx.transform.apply(this.ctx,e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform.apply(this.ctx,n.transform),this.viewportScale=n.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(t,e,n,i){var o=t.argsArray,a=t.fnArray,l=e||0,u=o.length;if(u===l)return l;for(var c,h=u-l>10&&"function"==typeof n,f=h?Date.now()+15:0,d=0,p=this.commonObjs,y=this.objs;;){if(void 0!==i&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if((c=a[l])!==r.OPS.dependency)this[c].apply(this,o[l]);else{var v,g=s(o[l]);try{for(g.s();!(v=g.n()).done;){var m=v.value,_=m.startsWith("g_")?p:y;if(!_.has(m))return _.get(m,n),l}}catch(t){g.e(t)}finally{g.f()}}if(++l===u)return l;if(h&&++d>10){if(Date.now()>f)return n(),l;d=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(t,e){for(var n,r,i=t.width,o=t.height,a=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=i,u=o,c="prescale1";a>2&&l>1||s>2&&u>1;){var h=l,f=u;a>2&&l>1&&(a/=l/(h=Math.ceil(l/2))),s>2&&u>1&&(s/=u/(f=Math.ceil(u/2))),(r=(n=this.cachedCanvases.getCanvas(c,h,f)).context).clearRect(0,0,h,f),r.drawImage(t,0,0,l,u,0,0,h,f),t=n.canvas,l=h,u=f,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}},{key:"_createMaskCanvas",value:function(t){var e=this.ctx,n=t.width,o=t.height,a=this.current.fillColor,s=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",n,o);b(l.context,t);var u=e.mozCurrentTransform,c=r.Util.transform(u,[1/n,0,0,-1/o,0,0]);c=r.Util.transform(c,[1,0,0,1,0,-o]);var h=r.Util.applyTransform([0,0],c),f=r.Util.applyTransform([n,o],c),d=r.Util.normalizeRect([h[0],h[1],f[0],f[1]]),p=Math.ceil(d[2]-d[0]),y=Math.ceil(d[3]-d[1]),v=this.cachedCanvases.getCanvas("fillCanvas",p,y,!0),g=v.context,m=Math.min(h[0],f[0]),_=Math.min(h[1],f[1]);g.translate(-m,-_),g.transform.apply(g,c);var w=this._scaleImage(l.canvas,g.mozCurrentTransformInverse);g.imageSmoothingEnabled=k(g.mozCurrentTransform,t.interpolate),g.drawImage(w.img,0,0,w.img.width,w.img.height,0,0,n,o),g.globalCompositeOperation="source-in";var x=r.Util.transform(g.mozCurrentTransformInverse,[1,0,0,1,-m,-_]);return g.fillStyle=s?a.getPattern(e,this,x,i.PathType.FILL):a,g.fillRect(0,0,n,o),{canvas:v.canvas,offsetX:Math.round(m),offsetY:Math.round(_)}}},{key:"setLineWidth",value:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=P[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=T[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e],i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=o}}}},{key:"checkSMaskState",value:function(){var t=!!this.suspendedCtx;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e,!0);this.suspendedCtx=this.ctx,this.ctx=r.context;var i=this.ctx;i.setTransform.apply(i,this.suspendedCtx.mozCurrentTransform),w(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=function(){t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,i,o,a){e.transform(t,n,r,i,o,a),this.__originalTransform(t,n,r,i,o,a)},t.setTransform=function(t,n,r,i,o,a){e.setTransform(t,n,r,i,o,a),this.__originalSetTransform(t,n,r,i,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,i,o,a){e.bezierCurveTo(t,n,r,i,o,a),this.__originalBezierCurveTo(t,n,r,i,o,a)},t.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(t){if(this.current.activeSMask){t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var e=this.current.activeSMask;(function(t,e,n,r){var i=r[0],o=r[1],a=r[2]-i,s=r[3]-o;0!==a&&0!==s&&(function(t,e,n,r,i,o,a,s,l,u,c){var h,f=!!o,d=f?o[0]:0,p=f?o[1]:0,y=f?o[2]:0;h="Luminosity"===i?C:E;for(var v=Math.min(r,Math.ceil(1048576/n)),g=0;g<r;g+=v){var m=Math.min(v,r-g),_=t.getImageData(s-u,g+(l-c),n,m),b=e.getImageData(s,g+l,n,m);f&&S(_.data,d,p,y),h(_.data,b.data,a),e.putImageData(b,s,g+l)}}(e.context,n,a,s,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())})(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.current.activeSMask&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,e){for(var n,i,o=this.ctx,a=this.current,s=a.x,l=a.y,u=0,c=0,h=t.length;u<h;u++)switch(0|t[u]){case r.OPS.rectangle:s=e[c++],l=e[c++];var f=e[c++],d=e[c++],p=s+f,y=l+d;o.moveTo(s,l),0===f||0===d?o.lineTo(p,y):(o.lineTo(p,l),o.lineTo(p,y),o.lineTo(s,y)),a.updatePathMinMax(o.mozCurrentTransform,s,l),a.updatePathMinMax(o.mozCurrentTransform,p,y),o.closePath();break;case r.OPS.moveTo:s=e[c++],l=e[c++],o.moveTo(s,l),a.updatePathMinMax(o.mozCurrentTransform,s,l);break;case r.OPS.lineTo:s=e[c++],l=e[c++],o.lineTo(s,l),a.updatePathMinMax(o.mozCurrentTransform,s,l);break;case r.OPS.curveTo:n=s,i=l,s=e[c+4],l=e[c+5],o.bezierCurveTo(e[c],e[c+1],e[c+2],e[c+3],s,l),a.updateCurvePathMinMax(o.mozCurrentTransform,n,i,e[c],e[c+1],e[c+2],e[c+3],s,l),c+=6;break;case r.OPS.curveTo2:n=s,i=l,o.bezierCurveTo(s,l,e[c],e[c+1],e[c+2],e[c+3]),a.updateCurvePathMinMax(o.mozCurrentTransform,n,i,s,l,e[c],e[c+1],e[c+2],e[c+3]),s=e[c+2],l=e[c+3],c+=4;break;case r.OPS.curveTo3:n=s,i=l,s=e[c+2],l=e[c+3],o.bezierCurveTo(e[c],e[c+1],s,l,s,l),a.updateCurvePathMinMax(o.mozCurrentTransform,n,i,e[c],e[c+1],s,l,s,l),c+=4;break;case r.OPS.closePath:o.closePath()}a.setCurrentPoint(s,l)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===a(n)&&null!=n&&n.getPattern){var r=this.getSinglePixelWidth();e.save(),e.strokeStyle=n.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.STROKE),e.lineWidth=Math.max(r,this.current.lineWidth),e.stroke(),e.restore()}else{var o=this.getSinglePixelWidth();o<0&&-o>=this.current.lineWidth?(e.save(),e.resetTransform(),e.lineWidth=Math.round(this._combinedScaleFactor),e.stroke(),e.restore()):(e.lineWidth=Math.max(o,this.current.lineWidth),e.stroke())}t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.FILL),r=!0);var o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(o)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=O}},{key:"eoClip",value:function(){this.pendingClip=R}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.setTransform.apply(e,r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,e){var n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var o=n.loadedName||"sans-serif",a="normal";n.black?a="900":n.bold&&(a="bold");var s=n.italic?"italic":"normal",l='"'.concat(o,'", ').concat(n.fallbackName),u=e;e<16?u=16:e>100&&(u=100),this.current.fontSizeScale=e/u,this.ctx.font="".concat(s," ").concat(a," ").concat(u,"px ").concat(l)}}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,e,n,i,o){var a,s=this.ctx,l=this.current,u=l.font,c=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=l.patternFill&&!u.missingFile;(u.disableFontFace||d||p)&&(a=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||p?(s.save(),s.translate(e,n),s.beginPath(),a(s,h),i&&s.setTransform.apply(s,i),f!==r.TextRenderingMode.FILL&&f!==r.TextRenderingMode.FILL_STROKE||s.fill(),f!==r.TextRenderingMode.STROKE&&f!==r.TextRenderingMode.FILL_STROKE||(o&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(f!==r.TextRenderingMode.FILL&&f!==r.TextRenderingMode.FILL_STROKE||s.fillText(t,e,n),f!==r.TextRenderingMode.STROKE&&f!==r.TextRenderingMode.FILL_STROKE||(o?(s.save(),s.moveTo(e,n),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(t,0,0),s.restore()):s.strokeText(t,e,n))),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:e,y:n,fontSize:h,addToPath:a})}},{key:"isFontSubpixelAAEnabled",get:function(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var o=e.fontSize;if(0!==o){var a,s=this.ctx,l=e.fontSizeScale,u=e.charSpacing,c=e.wordSpacing,h=e.fontDirection,f=e.textHScale*h,d=t.length,p=n.vertical,y=p?1:-1,v=n.defaultVMetrics,g=o*e.fontMatrix[0],m=e.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;if(s.save(),s.transform.apply(s,e.textMatrix),s.translate(e.x,e.y+e.textRise),h>0?s.scale(f,-1):s.scale(f,1),e.patternFill){s.save();var _=e.fillColor.getPattern(s,this,s.mozCurrentTransformInverse,i.PathType.FILL);a=s.mozCurrentTransform,s.restore(),s.fillStyle=_}var b=e.lineWidth,w=!1,x=e.textMatrixScale;if(0===x||0===b){var S=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;S!==r.TextRenderingMode.STROKE&&S!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,w=(b=this.getSinglePixelWidth())<0)}else b/=x;1!==l&&(s.scale(l,l),b/=l),s.lineWidth=b;var E,C=0;for(E=0;E<d;++E){var k=t[E];if((0,r.isNum)(k))C+=y*k*o/1e3;else{var P=!1,T=(k.isSpace?c:0)+u,O=k.fontChar,R=k.accent,A=void 0,I=void 0,M=k.width;if(p){var D=k.vmetric||v,L=-(k.vmetric?D[1]:.5*M)*g,j=D[2]*g;M=D?-D[0]:M,A=L/l,I=(C+j)/l}else A=C/l,I=0;if(n.remeasure&&M>0){var F=1e3*s.measureText(O).width/o*l;if(M<F&&this.isFontSubpixelAAEnabled){var N=M/F;P=!0,s.save(),s.scale(N,1),A/=N}else M!==F&&(A+=(M-F)/2e3*o/l)}if(this.contentVisible&&(k.isInFont||n.missingFile))if(m&&!R)s.fillText(O,A,I);else if(this.paintChar(O,A,I,a,w),R){var B=A+o*R.offset.x/l,U=I-o*R.offset.y/l;this.paintChar(R.fontChar,B,U,a,w)}C+=p?M*g-T*h:M*g+T*h,P&&s.restore()}}p?e.y-=C:e.x+=C*f,s.restore(),this.compose()}}},{key:"showType3Text",value:function(t){var e,n,i,o,a=this.ctx,s=this.current,l=s.font,u=s.fontSize,c=s.fontDirection,h=l.vertical?1:-1,f=s.charSpacing,d=s.wordSpacing,p=s.textHScale*c,y=s.fontMatrix||r.FONT_IDENTITY_MATRIX,v=t.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,s.textMatrix),a.translate(s.x,s.y),a.scale(p,c),e=0;e<v;++e)if(n=t[e],(0,r.isNum)(n))o=h*n*u/1e3,this.ctx.translate(o,0),s.x+=o*p;else{var g=(n.isSpace?d:0)+f,m=l.charProcOperatorList[n.operatorListId];m?(this.contentVisible&&(this.processingType3=n,this.save(),a.scale(u,u),a.transform.apply(a,y),this.executeOperatorList(m),this.restore()),i=r.Util.applyTransform([n.width,0],y)[0]*u+g,a.translate(i,0),s.x+=i*p):(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}a.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(t,e){}},{key:"setCharWidthAndBounds",value:function(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var n,r=this;if("TilingPattern"===e[0]){var o=e[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(e){return new t(e,r.commonObjs,r.objs,r.canvasFactory)}};n=new i.TilingPattern(e,o,this.ctx,s,a)}else n=this._getPattern(e[1],e[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}},{key:"setFillRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=(0,i.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}},{key:"shadingFill",value:function(t){if(this.contentVisible){var e=this.ctx;this.save();var n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse,i.PathType.SHADING);var o=e.mozCurrentTransformInverse;if(o){var a=e.canvas,s=a.width,l=a.height,u=r.Util.applyTransform([0,0],o),c=r.Util.applyTransform([0,l],o),h=r.Util.applyTransform([s,0],o),f=r.Util.applyTransform([s,l],o),d=Math.min(u[0],c[0],h[0],f[0]),p=Math.min(u[1],c[1],h[1],f[1]),y=Math.max(u[0],c[0],h[0],f[0]),v=Math.max(u[1],c[1],h[1],f[1]);this.ctx.fillRect(d,p,y-d,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e)){var n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,e[0],e[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,e[2],e[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(t){if(this.contentVisible){this.save();var e=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var n=this.ctx;t.isolated||(0,r.info)("TODO: Support non-isolated groups."),t.knockout&&(0,r.warn)("Knockout groups not supported.");var i=n.mozCurrentTransform;if(t.matrix&&n.transform.apply(n,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var o=r.Util.getAxialAlignedBoundingBox(t.bbox,n.mozCurrentTransform),a=[0,0,n.canvas.width,n.canvas.height];o=r.Util.intersect(o,a)||[0,0,0,0];var s=Math.floor(o[0]),l=Math.floor(o[1]),u=Math.max(Math.ceil(o[2])-s,1),c=Math.max(Math.ceil(o[3])-l,1),h=1,f=1;u>p&&(h=u/p,u=p),c>p&&(f=c/p,c=p),this.current.startNewPathAndClipBox([0,0,u,c]);var d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);var y=this.cachedCanvases.getCanvas(d,u,c,!0),v=y.context;v.scale(1/h,1/f),v.translate(-s,-l),v.transform.apply(v,i),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:s,offsetY:l,scaleX:h,scaleY:f,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,l),n.scale(h,f),n.save()),w(n,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:n,suspendedCtx:e}),this.groupLevel++}}},{key:"endGroup",value:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx,n=this.groupStack.pop(),i=n.ctx,o=n.suspendedCtx;if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,o&&(this.suspendedCtx=o),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var a=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,a);var s=r.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(t,e,n,i,o){if(this.save(),Array.isArray(e)&&4===e.length){var a=e[2]-e[0],s=e[3]-e[1];if(o&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=a,e[3]=s;var l=h(r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),u=l[0],c=l[1],f=this.viewportScale,d=Math.ceil(a*this.outputScaleX*f),p=Math.ceil(s*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(d,p);var y=this.annotationCanvas,g=y.canvas,_=y.context;g.style.width="calc(".concat(a,"px * var(--viewport-scale-factor))"),g.style.height="calc(".concat(s,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.setTransform(u,0,0,-c,0,s*c),v(this.ctx),x(this.ctx)}else x(this.ctx),this.ctx.rect(e[0],e[1],a,s),this.clip(),this.endPath()}this.current=new m(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,n),this.transform.apply(this,i)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(t){if(this.contentVisible){var e=this.ctx,n=t.width,r=t.height,i=this.processingType3;if(i&&void 0===i.compiled&&(i.compiled=n<=1e3&&r<=1e3?function(t){var e,n,r,i,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t.width,s=t.height,l=a+1,u=new Uint8Array(l*(s+1)),c=a+7&-8,h=t.data,f=new Uint8Array(c*s),d=0;for(e=0,n=h.length;e<n;e++)for(var p=h[e],y=128;y>0;)f[d++]=p&y?0:255,y>>=1;var v=0;for(0!==f[d=0]&&(u[0]=1,++v),r=1;r<a;r++)f[d]!==f[d+1]&&(u[r]=f[d]?2:1,++v),d++;for(0!==f[d]&&(u[r]=2,++v),e=1;e<s;e++){i=e*l,f[(d=e*c)-c]!==f[d]&&(u[i]=f[d]?1:8,++v);var g=(f[d]?4:0)+(f[d-c]?8:0);for(r=1;r<a;r++)o[g=(g>>2)+(f[d+1]?4:0)+(f[d-c+1]?8:0)]&&(u[i+r]=o[g],++v),d++;if(f[d-c]!==f[d]&&(u[i+r]=f[d]?2:4,++v),v>1e3)return null}for(i=e*l,0!==f[d=c*(s-1)]&&(u[i]=8,++v),r=1;r<a;r++)f[d]!==f[d+1]&&(u[i+r]=f[d]?4:8,++v),d++;if(0!==f[d]&&(u[i+r]=4,++v),v>1e3)return null;var m=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=[];for(e=0;v&&e<=s;e++){for(var b=e*l,w=b+a;b<w&&!u[b];)b++;if(b!==w){var x=[b%l,e],S=b,E=u[b];do{var C=m[E];do{b+=C}while(!u[b]);var k=u[b];5!==k&&10!==k?(E=k,u[b]=0):(E=k&51*E>>4,u[b]&=E>>2|E<<2),x.push(b%l,b/l|0),u[b]||--v}while(S!==b);_.push(x),--e}}return function(t){t.save(),t.scale(1/a,-1/s),t.translate(0,-s),t.beginPath();for(var e=0,n=_.length;e<n;e++){var r=_[e];t.moveTo(r[0],r[1]);for(var i=2,o=r.length;i<o;i+=2)t.lineTo(r[i],r[i+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:n,height:r}):null),null!=i&&i.compiled)i.compiled(e);else{var o=this._createMaskCanvas(t),a=o.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(a,o.offsetX,o.offsetY),e.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=this.ctx;s.save();var l=s.mozCurrentTransform;s.transform(e,n,i,o,0,0);var u=this._createMaskCanvas(t);s.setTransform(1,0,0,1,0,0);for(var c=0,f=a.length;c<f;c+=2){var d=r.Util.transform(l,[e,n,i,o,a[c],a[c+1]]),p=r.Util.applyTransform([0,0],d),y=h(p,2),v=y[0],g=y[1];s.drawImage(u.canvas,v,g)}s.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(t){if(this.contentVisible){for(var e=this.ctx,n=this.current.fillColor,r=this.current.patternFill,o=0,a=t.length;o<a;o++){var s=t[o],l=s.width,u=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",l,u),h=c.context;h.save(),b(h,s),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,e.mozCurrentTransformInverse,i.PathType.FILL):n,h.fillRect(0,0,l,u),h.restore(),e.save(),e.transform.apply(e,s.transform),e.scale(1,-1),e.drawImage(c.canvas,0,0,l,u,0,-1,1,1),e.restore()}this.compose()}}},{key:"paintImageXObject",value:function(t){if(this.contentVisible){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(t,e,n,i){if(this.contentVisible){var o=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(o){for(var a=o.width,s=o.height,l=[],u=0,c=i.length;u<c;u+=2)l.push({transform:[e,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(o,l)}else(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(t){if(this.contentVisible){var e,n=t.width,r=t.height,i=this.ctx;if(this.save(),i.scale(1/n,-1/r),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)e=t;else{var o=this.cachedCanvases.getCanvas("inlineImage",n,r);_(o.context,t,this.current.transferMaps),e=o.canvas}var a=this._scaleImage(e,i.mozCurrentTransformInverse);if(i.imageSmoothingEnabled=k(i.mozCurrentTransform,t.interpolate),i.drawImage(a.img,0,0,a.paintWidth,a.paintHeight,0,-r,n,r),this.imageLayer){var s=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:t,left:s[0],top:s[1],width:n/i.mozCurrentTransformInverse[0],height:r/i.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(t,e){if(this.contentVisible){var n=this.ctx,r=t.width,i=t.height,o=this.cachedCanvases.getCanvas("inlineImage",r,i);_(o.context,t,this.current.transferMaps);for(var a=0,s=e.length;a<s;a++){var l=e[a];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:r,height:i})}n.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(t){}},{key:"markPointProps",value:function(t,e){}},{key:"beginMarkedContent",value:function(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(t){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);var e=this.ctx;this.pendingClip&&(this.pendingClip===R?e.clip("evenodd"):e.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransform,e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.pow(t[0],2)+Math.pow(t[2],2),r=Math.pow(t[1],2)+Math.pow(t[3],2),i=Math.sqrt(Math.max(n,r))/e;n!==r&&this._combinedScaleFactor*i>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*i:e>Number.EPSILON?this._cachedGetSinglePixelWidth=i:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}]),t}();for(var I in e.CanvasGraphics=A,r.OPS)void 0!==A.prototype[I]&&(A.prototype[r.OPS[I]]=A.prototype[I])},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new m(t);case"Mesh":return new w(t);case"Dummy":return new x}throw new Error("Unknown IR type: ".concat(t[0]))};var i=n(4);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var y={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function v(t,e){if(e&&"undefined"!=typeof Path2D){var n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}}e.PathType=y;var g=function(){function t(){f(this,t),this.constructor===t&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}return p(t,[{key:"getPattern",value:function(){(0,i.unreachable)("Abstract method `getPattern` called.")}}]),t}(),m=function(t){s(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._type=t[1],r._bbox=t[2],r._colorStops=t[3],r._p0=t[4],r._p1=t[5],r._r0=t[6],r._r1=t[7],r.matrix=null,r}return p(n,[{key:"_createGradient",value:function(t){var e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=o(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addColorStop(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getPattern",value:function(t,e,n,r){var o;if(r===y.STROKE||r===y.FILL){var a=e.current.getClippedPathBoundingBox(r,t.mozCurrentTransform)||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=e.cachedCanvases.getCanvas("pattern",s,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=i.Util.transform(n,[1,0,0,1,a[0],a[1]]),c.transform.apply(c,e.baseTransform),this.matrix&&c.transform.apply(c,this.matrix),v(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=t.createPattern(u.canvas,"no-repeat");var h=new DOMMatrix(n);try{o.setTransform(h)}catch(t){(0,i.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==t?void 0:t.message,'".'))}}else v(t,this._bbox),o=this._createGradient(t);return o}}]),n}(g);function _(t,e,n,r,i,o,a,s){var l,u=e.coords,c=e.colors,h=t.data,f=4*t.width;u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l),u[r+1]>u[i+1]&&(l=r,r=i,i=l,l=a,a=s,s=l),u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l);var d=(u[n]+e.offsetX)*e.scaleX,p=(u[n+1]+e.offsetY)*e.scaleY,y=(u[r]+e.offsetX)*e.scaleX,v=(u[r+1]+e.offsetY)*e.scaleY,g=(u[i]+e.offsetX)*e.scaleX,m=(u[i+1]+e.offsetY)*e.scaleY;if(!(p>=m))for(var _,b,w,x,S,E,C,k,P=c[o],T=c[o+1],O=c[o+2],R=c[a],A=c[a+1],I=c[a+2],M=c[s],D=c[s+1],L=c[s+2],j=Math.round(p),F=Math.round(m),N=j;N<=F;N++){if(N<v){var B;_=d-(d-y)*(B=N<p?0:(p-N)/(p-v)),b=P-(P-R)*B,w=T-(T-A)*B,x=O-(O-I)*B}else{var U;_=y-(y-g)*(U=N>m?1:v===m?0:(v-N)/(v-m)),b=R-(R-M)*U,w=A-(A-D)*U,x=I-(I-L)*U}var z=void 0;S=d-(d-g)*(z=N<p?0:N>m?1:(p-N)/(p-m)),E=P-(P-M)*z,C=T-(T-D)*z,k=O-(O-L)*z;for(var W=Math.round(Math.min(_,S)),G=Math.round(Math.max(_,S)),q=f*N+4*W,V=W;V<=G;V++)(z=(_-V)/(_-S))<0?z=0:z>1&&(z=1),h[q++]=b-(b-E)*z|0,h[q++]=w-(w-C)*z|0,h[q++]=x-(x-k)*z|0,h[q++]=255}}function b(t,e,n){var r,i,o=e.coords,a=e.colors;switch(e.type){case"lattice":var s=e.verticesPerRow,l=Math.floor(o.length/s)-1,u=s-1;for(r=0;r<l;r++)for(var c=r*s,h=0;h<u;h++,c++)_(t,n,o[c],o[c+1],o[c+s],a[c],a[c+1],a[c+s]),_(t,n,o[c+s+1],o[c+1],o[c+s],a[c+s+1],a[c+1],a[c+s]);break;case"triangles":for(r=0,i=o.length;r<i;r+=3)_(t,n,o[r],o[r+1],o[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}var w=function(t){s(n,t);var e=u(n);function n(t){var r;return f(this,n),(r=e.call(this))._coords=t[2],r._colors=t[3],r._figures=t[4],r._bounds=t[5],r._bbox=t[7],r._background=t[8],r.matrix=null,r}return p(n,[{key:"_createMeshCanvas",value:function(t,e,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),u=Math.min(Math.ceil(Math.abs(s*t[1]*1.1)),3e3),c=a/l,h=s/u,f={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/h},d=l+4,p=u+4,y=n.getCanvas("mesh",d,p,!1),v=y.context,g=v.createImageData(l,u);if(e)for(var m=g.data,_=0,w=m.length;_<w;_+=4)m[_]=e[0],m[_+1]=e[1],m[_+2]=e[2],m[_+3]=255;var x,S=o(this._figures);try{for(S.s();!(x=S.n()).done;)b(g,x.value,f)}catch(t){S.e(t)}finally{S.f()}return v.putImageData(g,2,2),{canvas:y.canvas,offsetX:r-2*c,offsetY:i-2*h,scaleX:c,scaleY:h}}},{key:"getPattern",value:function(t,e,n,r){var o;if(v(t,this._bbox),r===y.SHADING)o=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(o=i.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){var a=i.Util.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}var s=this._createMeshCanvas(o,r===y.SHADING?null:this._background,e.cachedCanvases);return r!==y.SHADING&&(t.setTransform.apply(t,e.baseTransform),this.matrix&&t.transform.apply(t,this.matrix)),t.translate(s.offsetX,s.offsetY),t.scale(s.scaleX,s.scaleY),t.createPattern(s.canvas,"no-repeat")}}]),n}(g),x=function(t){s(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(g),S=function(){function t(e,n,r,i,o){f(this,t),this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}return p(t,[{key:"createPatternCanvas",value:function(t){var e=this.operatorList,n=this.bbox,r=this.xstep,o=this.ystep,a=this.paintType,s=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+s);var c=n[0],h=n[1],f=n[2],d=n[3],p=i.Util.singularValueDecompose2dScale(this.matrix),y=i.Util.singularValueDecompose2dScale(this.baseTransform),v=[p[0]*y[0],p[1]*y[1]],g=this.getSizeAndScale(r,this.ctx.canvas.width,v[0]),m=this.getSizeAndScale(o,this.ctx.canvas.height,v[1]),_=t.cachedCanvases.getCanvas("pattern",g.size,m.size,!0),b=_.context,w=u.createCanvasGraphics(b);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,a,l);var x=c,S=h,E=f,C=d;return c<0&&(x=0,E+=Math.abs(c)),h<0&&(S=0,C+=Math.abs(h)),b.translate(-g.scale*x,-m.scale*S),w.transform(g.scale,0,0,m.scale,0,0),this.clipBbox(w,x,S,E,C),w.baseTransform=w.ctx.mozCurrentTransform.slice(),w.executeOperatorList(e),w.endDrawing(),{canvas:_.canvas,scaleX:g.scale,scaleY:m.scale,offsetX:x,offsetY:S}}},{key:"getSizeAndScale",value:function(e,n,r){e=Math.abs(e);var i=Math.max(t.MAX_PATTERN_SIZE,n),o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}},{key:"clipBbox",value:function(t,e,n,r,i){var o=r-e,a=i-n;t.ctx.rect(e,n,o,a),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,e,n){var r=t.ctx,o=t.current;switch(e){case 1:var a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case 2:var s=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,o.fillColor=s,o.strokeColor=s;break;default:throw new i.FormatError("Unsupported paint type: ".concat(e))}}},{key:"getPattern",value:function(t,e,n,r){var o=n;r!==y.SHADING&&(o=i.Util.transform(o,e.baseTransform),this.matrix&&(o=i.Util.transform(o,this.matrix)));var a=this.createPatternCanvas(e),s=new DOMMatrix(o);s=(s=s.translate(a.offsetX,a.offsetY)).scale(1/a.scaleX,1/a.scaleY);var l=t.createPattern(a.canvas,"repeat");try{l.setTransform(s)}catch(t){(0,i.warn)('TilingPattern.getPattern: "'.concat(null==t?void 0:t.message,'".'))}return l}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),t}();e.TilingPattern=S},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function a(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t){if(!(t instanceof Error||"object"===l(t)&&null!==t))return(0,o.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t;switch(t.name){case"AbortException":return new o.AbortException(t.message);case"MissingPDFException":return new o.MissingPDFException(t.message);case"PasswordException":return new o.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new o.UnknownErrorException(t.message,t.details);default:return new o.UnknownErrorException(t.message,t.toString())}}var c=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===i.sourceName)if(e.stream)i._processStreamMessage(e);else if(e.callback){var n=e.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],1===e.callback)o.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");o.reject(u(e.reason))}}else{var a=i.actionHandler[e.action];if(!a)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var s=i.sourceName,l=e.sourceName;new Promise((function(t){t(a(e.data))})).then((function(t){r.postMessage({sourceName:s,targetName:l,callback:1,callbackId:e.callbackId,data:t})}),(function(t){r.postMessage({sourceName:s,targetName:l,callback:2,callbackId:e.callbackId,reason:u(t)})}))}else e.streamId?i._createStreamSink(e):a(e.data)}},r.addEventListener("message",this._onComObjOnMessage)}var e,n,r,l;return e=t,n=[{key:"on",value:function(t,e){var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var r=this.callbackId++,i=(0,o.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(t){i.reject(t)}return i.promise}},{key:"sendWithStream",value:function(t,e,n,r){var i=this,a=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:function(n){var u=(0,o.createPromiseCapability)();return i.streamControllers[a]={controller:n,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:l,action:t,streamId:a,data:e,desiredSize:n.desiredSize},r),u.promise},pull:function(t){var e=(0,o.createPromiseCapability)();return i.streamControllers[a].pullCall=e,c.postMessage({sourceName:s,targetName:l,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var e=(0,o.createPromiseCapability)();return i.streamControllers[a].cancelCall=e,i.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:1,streamId:a,reason:u(t)}),e.promise}},n)}},{key:"_createStreamSink",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,a=this,s=this.actionHandler[t.action],l={enqueue:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=a,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:4,streamId:e,chunk:t},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:3,streamId:e}),delete a.streamSinks[e])},error:function(t){(0,o.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:5,streamId:e,reason:u(t)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise((function(e){e(s(t.data,l))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:e,reason:u(t)})}))}},{key:"_processStreamMessage",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,a=this.streamControllers[e],s=this.streamSinks[e];switch(t.stream){case 8:t.success?a.startCall.resolve():a.startCall.reject(u(t.reason));break;case 7:t.success?a.pullCall.resolve():a.pullCall.reject(u(t.reason));break;case 6:if(!s){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0});break}s.desiredSize<=0&&t.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=t.desiredSize,new Promise((function(t){t(s.onPull&&s.onPull())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,reason:u(t)})}));break;case 4:if((0,o.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case 3:if((0,o.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this._deleteStreamController(a,e);break;case 5:(0,o.assert)(a,"error should have stream controller"),a.controller.error(u(t.reason)),this._deleteStreamController(a,e);break;case 2:t.success?a.cancelCall.resolve():a.cancelCall.reject(u(t.reason)),this._deleteStreamController(a,e);break;case 1:if(!s)break;new Promise((function(e){e(s.onCancel&&s.onCancel(u(t.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,success:!0})}),(function(t){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,reason:u(t)})})),s.sinkCapability.reject(u(t.reason)),s.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(r=i.default.mark((function t(e,n){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return t.stop()}}),t,this)})),l=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function s(t){a(o,n,i,s,l,"next",t)}function l(t){a(o,n,i,s,l,"throw",t)}s(void 0)}))},function(t,e){return l.apply(this,arguments)})},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}],n&&s(e.prototype,n),t}();e.MessageHandler=c},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(4);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function a(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,l(t,e,"get"))}function s(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,l(t,e,"set"),n),n}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var u=new WeakMap,c=new WeakMap,h=function(){function t(e){var n=e.parsedData,r=e.rawData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,u,{writable:!0,value:void 0}),o(this,c,{writable:!0,value:void 0}),s(this,u,n),s(this,c,r)}var e,n;return e=t,(n=[{key:"getRaw",value:function(){return a(this,c)}},{key:"get",value:function(t){var e;return null!==(e=a(this,u).get(t))&&void 0!==e?e:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(a(this,u))}},{key:"has",value:function(t){return a(this,u).has(t)}}])&&i(e.prototype,n),t}();e.Metadata=h},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(4);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function t(e,n){s(this,t),this.visible=!0,this.name=e,this.intent=n},u=function(){function t(e){if(s(this,t),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var n,r=i(e.groups);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._groups.set(o.id,new l(o.name,o.intent))}}catch(t){r.e(t)}finally{r.f()}if("OFF"===e.baseState){var a,u=i(this._groups);try{for(u.s();!(a=u.n()).done;)a.value.visible=!1}catch(t){u.e(t)}finally{u.f()}}var c,h=i(e.on);try{for(h.s();!(c=h.n()).done;){var f=c.value;this._groups.get(f).visible=!0}}catch(t){h.e(t)}finally{h.f()}var d,p=i(e.off);try{for(p.s();!(d=p.n()).done;){var y=d.value;this._groups.get(y).visible=!1}}catch(t){p.e(t)}finally{p.f()}}}var e,n;return e=t,n=[{key:"_evaluateVisibilityExpression",value:function(t){var e=t.length;if(e<2)return!0;for(var n=t[0],i=1;i<e;i++){var o=t[i],a=void 0;if(Array.isArray(o))a=this._evaluateVisibilityExpression(o);else{if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;a=this._groups.get(o).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}},{key:"isVisible",value:function(t){if(0===this._groups.size)return!0;if(!t)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,r.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||"AnyOn"===t.policy){var e,n=i(t.ids);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;if(this._groups.get(o).visible)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}if("AllOn"===t.policy){var a,s=i(t.ids);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!this._groups.has(l))return(0,r.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(t){s.e(t)}finally{s.f()}return!0}if("AnyOff"===t.policy){var u,c=i(t.ids);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(!this._groups.has(h))return(0,r.warn)("Optional content group not found: ".concat(h)),!0;if(!this._groups.get(h).visible)return!0}}catch(t){c.e(t)}finally{c.f()}return!1}if("AllOff"===t.policy){var f,d=i(t.ids);try{for(d.s();!(f=d.n()).done;){var p=f.value;if(!this._groups.has(p))return(0,r.warn)("Optional content group not found: ".concat(p)),!0;if(this._groups.get(p).visible)return!1}}catch(t){d.e(t)}finally{d.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!e:(0,r.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(t){return this._groups.get(t)||null}}],n&&a(e.prototype,n),t}();e.OptionalContentConfig=u},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(1);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var p=function(){function t(e,n){var r=this;h(this,t),(0,o.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;var i=e.initialData;if((null==i?void 0:i.length)>0){var a=new Uint8Array(i).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(t,e){r._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener((function(t,e){r._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(t){r._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){r._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return d(t,[{key:"_onReceiveData",value:function(t){var e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{var n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,o.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function(t){if(void 0===t.total){var e=this._rangeReaders[0];null!=e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{var n=this._fullRequestReader;null!=n&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new y(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new v(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=u(this._rangeReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),t}();e.PDFDataTransportStream=p;var y=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this._stream=e,this._done=r||!1,this._filename=(0,a.isPdfFile)(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var o,s=u(this._queuedChunks);try{for(s.s();!(o=s.n()).done;){var l=o.value;this._loaded+=l.byteLength}}catch(t){s.e(t)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}var e;return d(t,[{key:"_enqueue",value:function(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),t}(),v=function(){function t(e,n,r){h(this,t),this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return d(t,[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),t}()},(t,e)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"textContent",value:function(e){var r=[],i={items:r,styles:Object.create(null)};return function e(i){var o;if(i){var a=null,s=i.name;if("#text"===s)a=i.value;else{if(!t.shouldBuildText(s))return;null!=i&&null!==(o=i.attributes)&&void 0!==o&&o.textContent?a=i.attributes.textContent:i.value&&(a=i.value)}if(null!==a&&r.push({str:a}),i.children){var l,u=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}(i.children);try{for(u.s();!(l=u.n()).done;)e(l.value)}catch(t){u.e(t)}finally{u.f()}}}}(e),i}},{key:"shouldBuildText",value:function(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}],null&&r(e.prototype,null),i&&r(e,i),t}();e.XfaText=i},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(4),o=n(1),a=n(139),s=n(149),l=n(150);function u(t,e,n){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),n}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},c(t,e,n||t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}var C=1e3,k=new WeakSet,P=function(){function t(){x(this,t)}return E(t,null,[{key:"create",value:function(t){switch(t.data.annotationType){case i.AnnotationType.LINK:return new O(t);case i.AnnotationType.TEXT:return new R(t);case i.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new I(t);case"Btn":return t.data.radioButton?new D(t):t.data.checkBox?new M(t):new L(t);case"Ch":return new j(t)}return new A(t);case i.AnnotationType.POPUP:return new F(t);case i.AnnotationType.FREETEXT:return new B(t);case i.AnnotationType.LINE:return new U(t);case i.AnnotationType.SQUARE:return new z(t);case i.AnnotationType.CIRCLE:return new W(t);case i.AnnotationType.POLYLINE:return new G(t);case i.AnnotationType.CARET:return new V(t);case i.AnnotationType.INK:return new H(t);case i.AnnotationType.POLYGON:return new q(t);case i.AnnotationType.HIGHLIGHT:return new X(t);case i.AnnotationType.UNDERLINE:return new Y(t);case i.AnnotationType.SQUIGGLY:return new K(t);case i.AnnotationType.STRIKEOUT:return new Z(t);case i.AnnotationType.STAMP:return new Q(t);case i.AnnotationType.FILEATTACHMENT:return new J(t);default:return new T(t)}}}]),t}(),T=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,o=n.ignoreBorder,a=void 0!==o&&o,s=n.createQuadrilaterals,l=void 0!==s&&s;x(this,t),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,i&&(this.container=this._createContainer(a)),l&&(this.quadrilaterals=this._createQuadrilaterals(a))}return E(t,[{key:"_createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data,n=this.page,r=this.viewport,o=document.createElement("section"),a=e.rect[2]-e.rect[0],s=e.rect[3]-e.rect[1];o.setAttribute("data-annotation-id",e.id);var l=i.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(e.hasOwnCanvas){var u=r.transform.slice(),c=i.Util.singularValueDecompose2dScale(u),h=_(c,2),f=h[0],d=h[1];a=Math.ceil(a*f),s=Math.ceil(s*d),l[0]*=f,l[1]*=d;for(var p=0;p<4;p++)u[p]=Math.sign(u[p]);o.style.transform="matrix(".concat(u.join(","),")")}else o.style.transform="matrix(".concat(r.transform.join(","),")");if(o.style.transformOrigin="".concat(-l[0],"px ").concat(-l[1],"px"),!t&&e.borderStyle.width>0){o.style.borderWidth="".concat(e.borderStyle.width,"px"),e.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(a-=2*e.borderStyle.width,s-=2*e.borderStyle.width);var y=e.borderStyle.horizontalCornerRadius,v=e.borderStyle.verticalCornerRadius;if(y>0||v>0){var g="".concat(y,"px / ").concat(v,"px");o.style.borderRadius=g}switch(e.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}var m=e.borderColor||e.color||null;m?o.style.borderColor=i.Util.makeHexColor(0|e.color[0],0|e.color[1],0|e.color[2]):o.style.borderWidth=0}return o.style.left="".concat(l[0],"px"),o.style.top="".concat(l[1],"px"),e.hasOwnCanvas?o.style.width=o.style.height="auto":(o.style.width="".concat(a,"px"),o.style.height="".concat(s,"px")),o}},{key:"_createQuadrilaterals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var e,n=[],r=this.data.rect,i=m(this.data.quadPoints);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.data.rect=[o[2].x,o[2].y,o[1].x,o[1].y],n.push(this._createContainer(t))}}catch(t){i.e(t)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(t,e){var n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=n.style.height,t.style.width=n.style.width,n.appendChild(t));var r=new N({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}},{key:"_renderQuadrilaterals",value:function(t){var e,n=m(this.quadrilaterals);try{for(n.s();!(e=n.n()).done;)e.value.className=t}catch(t){n.e(t)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var r=this._fieldObjects[t];if(r){var o,a=m(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.page,u=s.id,c=s.exportValues;if(-1!==l&&u!==e){var h="string"==typeof c?c:null,f=document.getElementById(u);!f||k.has(f)?n.push({id:u,exportValue:h,domElement:f}):(0,i.warn)("_getElementsByName - element not allowed: ".concat(u))}}}catch(t){a.e(t)}finally{a.f()}}return n}var d,p=m(document.getElementsByName(t));try{for(p.s();!(d=p.n()).done;){var y=d.value,v=y.id,g=y.exportValue;v!==e&&k.has(y)&&n.push({id:v,exportValue:g,domElement:y})}}catch(t){p.e(t)}finally{p.f()}return n}}],[{key:"platform",get:function(){var t="undefined"!=typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}]),t}(),O=function(t){f(n,t);var e=p(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;x(this,n);var i=!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"]));return e.call(this,t,{isRenderable:i,ignoreBorder:!(null==r||!r.ignoreBorder),createQuadrilaterals:!0})}return E(n,[{key:"render",value:function(){var t,e=this.data,n=this.linkService,r=document.createElement("a");if(e.url)n.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(t=n.addLinkAttributes)||void 0===t||t.call(n,r,e.url,e.newWindow);else if(e.action)this._bindNamedAction(r,e.action);else if(e.dest)this._bindLink(r,e.dest);else{var o=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(o=!0,this._bindJSAction(r,e)),e.resetForm?this._bindResetFormAction(r,e.resetForm):o||this._bindLink(r,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(t,e){var n=0===e?r:r.cloneNode();return t.appendChild(n),t})):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.goToDestination(e),!1},(e||""===e)&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}},{key:"_bindJSAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=a[o],s=r.get(i);if(!s)return"continue";t[s]=function(){var t;return null===(t=n.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:n,detail:{id:e.id,name:i}}),!1}},o=0,a=Object.keys(e.actions);o<a.length;o++)i();t.onclick||(t.onclick=function(){return!1}),t.className="internalLink"}},{key:"_bindResetFormAction",value:function(t,e){var n=this,r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(t.onclick=function(){return!1}));t.onclick=function(){r&&r();var t,i=e.fields,o=e.refs,a=e.include,s=[];if(0!==i.length||0!==o.length){var l,u=new Set(o),c=m(i);try{for(c.s();!(l=c.n()).done;){var h,f=l.value,d=m(n._fieldObjects[f]||[]);try{for(d.s();!(h=d.n()).done;){var p=h.value.id;u.add(p)}}catch(t){d.e(t)}finally{d.f()}}}catch(t){c.e(t)}finally{c.f()}for(var y=0,v=Object.values(n._fieldObjects);y<v.length;y++){var g,_=m(v[y]);try{for(_.s();!(g=_.n()).done;){var x=g.value;u.has(x.id)===a&&s.push(x)}}catch(t){_.e(t)}finally{_.f()}}}else for(var S=0,E=Object.values(n._fieldObjects);S<E.length;S++){var C=E[S];s.push.apply(s,function(t){if(Array.isArray(t))return w(t)}(t=C)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}for(var P,T=n.annotationStorage,O=[],R=0,A=s;R<A.length;R++){var I=A[R],M=I.id;switch(O.push(M),I.type){case"text":var D=I.defaultValue||"";T.setValue(M,{value:D,valueAsString:D});break;case"checkbox":case"radiobutton":var L=I.defaultValue===I.exportValues;T.setValue(M,{value:L});break;case"combobox":case"listbox":var j=I.defaultValue||"";T.setValue(M,{value:j});break;default:continue}var F=document.getElementById(M);F&&k.has(F)&&F.dispatchEvent(new Event("resetform"))}return n.enableScripting&&(null===(P=n.linkService.eventBus)||void 0===P||P.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:O,name:"ResetForm"}})),!1}}}]),n}(T),R=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a})}return E(n,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}]),n}(T),A=function(t){f(n,t);var e=p(n);function n(){return x(this,n),e.apply(this,arguments)}return E(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(t){var e=T.platform,n=e.isWin,r=e.isMac;return n&&t.ctrlKey||r&&t.metaKey}},{key:"_setEventListener",value:function(t,e,n,r){var i=this;e.includes("mouse")?t.addEventListener(e,(function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(t),shift:t.shiftKey,modifier:i._getKeyModifier(t)}})})):t.addEventListener(e,(function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:t.target.checked}})}))}},{key:"_setEventListeners",value:function(t,e,n){var r,i=m(e);try{for(i.s();!(r=i.n()).done;){var o,a=_(r.value,2),s=a[0],l=a[1];("Action"===l||null!==(o=this.data.actions)&&void 0!==o&&o[l])&&this._setEventListener(t,s,l,n)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_setBackgroundColor",value:function(t){var e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":i.Util.makeHexColor(e[0],e[1],e[2])}},{key:"_dispatchEventFromSandbox",value:function(t,e){for(var n=this,r=function(t,e,n){var r=n.detail[t];n.target.style[e]=s.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))},i={display:function(t){var e=t.detail.display%2==1;t.target.style.visibility=e?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:function(t){n.annotationStorage.setValue(n.data.id,{print:t.detail.print})},hidden:function(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:t.detail.hidden})},focus:function(t){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:function(t){t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:function(t){r("bgColor","backgroundColor",t)},fillColor:function(t){r("fillColor","backgroundColor",t)},fgColor:function(t){r("fgColor","color",t)},textColor:function(t){r("textColor","color",t)},borderColor:function(t){r("borderColor","borderColor",t)},strokeColor:function(t){r("strokeColor","borderColor",t)}},o=0,a=Object.keys(e.detail);o<a.length;o++){var l=a[o],u=t[l]||i[l];u&&u(e)}}}]),n}(T),I=function(t){f(n,t);var e=p(n);function n(t){x(this,n);var r=t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue;return e.call(this,t,{isRenderable:r})}return E(n,[{key:"setPropertyOnSiblings",value:function(t,e,n,r){var i,o=this.annotationStorage,a=m(this._getElementsByName(t.name,t.id));try{for(a.s();!(i=a.n()).done;){var s=i.value;s.domElement&&(s.domElement[e]=n),o.setValue(s.id,h({},r,n))}}catch(t){a.e(t)}finally{a.f()}}},{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderForms){var i=e.getValue(n,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),o=i.valueAsString||i.value||"",a={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(r=document.createElement("textarea")).textContent=o:((r=document.createElement("input")).type="text",r.setAttribute("value",o)),k.add(r),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=C,a.userValue=o,r.setAttribute("id",n),r.addEventListener("input",(function(i){e.setValue(n,{value:i.target.value}),t.setPropertyOnSiblings(r,"value",i.target.value,"value")})),r.addEventListener("resetform",(function(e){var n=t.data.defaultFieldValue||"";r.value=a.userValue=n,delete a.formattedValue}));var s=function(t){a.formattedValue&&(t.target.value=a.formattedValue),t.target.scrollLeft=0,a.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;r.addEventListener("focus",(function(t){a.userValue&&(t.target.value=a.userValue)})),r.addEventListener("updatefromsandbox",(function(r){var i={value:function(t){a.userValue=t.detail.value||"",e.setValue(n,{value:a.userValue.toString()}),a.formattedValue||(t.target.value=a.userValue)},valueAsString:function(t){a.formattedValue=t.detail.valueAsString||"",t.target!==document.activeElement&&(t.target.value=a.formattedValue),e.setValue(n,{formattedValue:a.formattedValue})},selRange:function(t){var e=_(t.detail.selRange,2),n=e[0],r=e[1];n>=0&&r<t.target.value.length&&t.target.setSelectionRange(n,r)}};t._dispatchEventFromSandbox(i,r)})),r.addEventListener("keydown",(function(e){var r;a.beforeInputValue=e.target.value;var i=-1;"Escape"===e.key?i=0:"Enter"===e.key?i=2:"Tab"===e.key&&(i=3),-1!==i&&(a.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));var u=s;s=null,r.addEventListener("blur",(function(e){var r;t._mouseState.isDown&&(a.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),u(e)})),r.addEventListener("mousedown",(function(t){a.beforeInputValue=t.target.value,a.beforeInputSelectionRange=null})),r.addEventListener("keyup",(function(t){t.target.selectionStart===t.target.selectionEnd&&(a.beforeInputSelectionRange=null)})),r.addEventListener("select",(function(t){a.beforeInputSelectionRange=[t.target.selectionStart,t.target.selectionEnd]})),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&r.addEventListener("input",(function(e){var r,i=-1,o=-1;if(a.beforeInputSelectionRange){var s=_(a.beforeInputSelectionRange,2);i=s[0],o=s[1]}null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:a.beforeInputValue,change:e.data,willCommit:!1,selStart:i,selEnd:o}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}if(s&&r.addEventListener("blur",s),null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var c=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(c,"px - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this._setBackgroundColor(r),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function(t){var e=this.data.defaultAppearanceData,n=e.fontSize,r=e.fontColor,o=t.style;n&&(o.fontSize="".concat(n,"px")),o.color=i.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(o.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(A),M=function(t){f(n,t);var e=p(n);function n(t){return x(this,n),e.call(this,t,{isRenderable:t.renderForms})}return E(n,[{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(r,{value:i})),this.container.className="buttonWidgetAnnotation checkBox";var o=document.createElement("input");return k.add(o),o.disabled=n.readOnly,o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.setAttribute("exportValue",n.exportValue),o.tabIndex=C,o.addEventListener("change",(function(i){var o,a=i.target,s=a.name,l=a.checked,u=m(t._getElementsByName(s,r));try{for(u.s();!(o=u.n()).done;){var c=o.value,h=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}}catch(t){u.e(t)}finally{u.f()}e.setValue(r,{value:l})})),o.addEventListener("resetform",(function(t){var e=n.defaultFieldValue||"Off";t.target.checked=e===n.exportValue})),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",(function(n){var i={value:function(t){t.target.checked="Off"!==t.detail.value,e.setValue(r,{value:t.target.checked})}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))),this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(A),D=function(t){f(n,t);var e=p(n);function n(t){return x(this,n),e.call(this,t,{isRenderable:t.renderForms})}return E(n,[{key:"render",value:function(){var t=this;this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;"string"==typeof i&&(i=i!==n.buttonValue,e.setValue(r,{value:i}));var o=document.createElement("input");if(k.add(o),o.disabled=n.readOnly,o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.tabIndex=C,o.addEventListener("change",(function(n){var i,o=n.target,a=o.name,s=o.checked,l=m(t._getElementsByName(a,r));try{for(l.s();!(i=l.n()).done;){var u=i.value;e.setValue(u.id,{value:!1})}}catch(t){l.e(t)}finally{l.f()}e.setValue(r,{value:s})})),o.addEventListener("resetform",(function(t){var e=n.defaultFieldValue;t.target.checked=null!=e&&e===n.buttonValue})),this.enableScripting&&this.hasJSActions){var a=n.buttonValue;o.addEventListener("updatefromsandbox",(function(n){var i={value:function(n){var i,o=a===n.detail.value,s=m(t._getElementsByName(n.target.name));try{for(s.s();!(i=s.n()).done;){var l=i.value,u=o&&l.id===r;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}}catch(t){s.e(t)}finally{s.f()}}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}return this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(A),L=function(t){f(n,t);var e=p(n);function n(t){return x(this,n),e.call(this,t,{ignoreBorder:t.data.hasAppearance})}return E(n,[{key:"render",value:function(){var t=c(g(n.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}]),n}(O),j=function(t){f(n,t);var e=p(n);function n(t){return x(this,n),e.call(this,t,{isRenderable:t.renderForms})}return E(n,[{key:"render",value:function(){var t=this;this.container.className="choiceWidgetAnnotation";var e=this.annotationStorage,n=this.data.id;e.getValue(n,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var r=this.data.defaultAppearanceData.fontSize;r||(r=9);var i="calc(".concat(r,"px * var(--zoom-factor))"),o=document.createElement("select");k.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.setAttribute("id",n),o.tabIndex=C,o.style.fontSize="".concat(r,"px"),this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",(function(e){var n,r=t.data.defaultFieldValue,i=m(o.options);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.selected=a.value===r}}catch(t){i.e(t)}finally{i.f()}}));var a,s=m(this.data.options);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=document.createElement("option");u.textContent=l.displayValue,u.value=l.exportValue,this.data.combo&&(u.style.fontSize=i),this.data.fieldValue.includes(l.exportValue)&&u.setAttribute("selected",!0),o.appendChild(u)}}catch(t){s.e(t)}finally{s.f()}var c=function(t,e){var n=e?"value":"textContent",r=t.target.options;return t.target.multiple?Array.prototype.filter.call(r,(function(t){return t.selected})).map((function(t){return t[n]})):-1===r.selectedIndex?null:r[r.selectedIndex][n]},h=function(t){var e=t.target.options;return Array.prototype.map.call(e,(function(t){return{displayValue:t.textContent,exportValue:t.value}}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",(function(r){var i={value:function(t){var r,i=t.detail.value,a=new Set(Array.isArray(i)?i:[i]),s=m(o.options);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.selected=a.has(l.value)}}catch(t){s.e(t)}finally{s.f()}e.setValue(n,{value:c(t,!0)})},multipleSelection:function(t){o.multiple=!0},remove:function(t){var r=o.options,i=t.detail.remove;if(r[i].selected=!1,o.remove(i),r.length>0){var a=Array.prototype.findIndex.call(r,(function(t){return t.selected}));-1===a&&(r[0].selected=!0)}e.setValue(n,{value:c(t,!0),items:h(t)})},clear:function(t){for(;0!==o.length;)o.remove(0);e.setValue(n,{value:null,items:[]})},insert:function(t){var r=t.detail.insert,i=r.index,a=r.displayValue,s=r.exportValue,l=document.createElement("option");l.textContent=a,l.value=s,o.insertBefore(l,o.children[i]),e.setValue(n,{value:c(t,!0),items:h(t)})},items:function(t){for(var r=t.detail.items;0!==o.length;)o.remove(0);var i,a=m(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.displayValue,u=s.exportValue,f=document.createElement("option");f.textContent=l,f.value=u,o.appendChild(f)}}catch(t){a.e(t)}finally{a.f()}o.options.length>0&&(o.options[0].selected=!0),e.setValue(n,{value:c(t,!0),items:h(t)})},indices:function(t){var r,i=new Set(t.detail.indices),o=m(t.target.options);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.selected=i.has(a.index)}}catch(t){o.e(t)}finally{o.f()}e.setValue(n,{value:c(t,!0)})},editable:function(t){t.target.disabled=!t.detail.editable}};t._dispatchEventFromSandbox(i,r)})),o.addEventListener("input",(function(r){var i,o=c(r,!0),a=c(r,!1);e.setValue(n,{value:o}),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:a,changeEx:o,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(function(t){return t.target.checked}))):o.addEventListener("input",(function(t){e.setValue(n,{value:c(t)})})),this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(A),F=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a})}return E(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;var n=new N({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),r=this.page,o=i.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),a=o[0]+this.data.parentRect[2]-this.data.parentRect[0],s=o[1];return this.container.style.transformOrigin="".concat(-a,"px ").concat(-s,"px"),this.container.style.left="".concat(a,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(n.render()),this.container}}]),n}(T),N=function(){function t(e){x(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return E(t,[{key:"render",value:function(){var t,e,n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;var r=document.createElement("div");r.className="popup";var a=this.color;if(a){var s=.7*(255-a[0])+a[0],u=.7*(255-a[1])+a[1],c=.7*(255-a[2])+a[2];r.style.backgroundColor=i.Util.makeHexColor(0|s,0|u,0|c)}var h=document.createElement("h1");h.dir=this.titleObj.dir,h.textContent=this.titleObj.str,r.appendChild(h);var f=o.PDFDateString.toDateObject(this.modificationDate);if(f){var d=document.createElement("span");d.className="popupDate",d.textContent="{{date}}, {{time}}",d.dataset.l10nId="annotation_date_string",d.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()}),r.appendChild(d)}if(null===(t=this.richText)||void 0===t||!t.str||null!==(e=this.contentsObj)&&void 0!==e&&e.str&&this.contentsObj.str!==this.richText.str){var p=this._formatContents(this.contentsObj);r.appendChild(p)}else l.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:r}),r.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var y,v=m(this.trigger);try{for(v.s();!(y=v.n()).done;){var g=y.value;g.addEventListener("click",this._toggle.bind(this)),g.addEventListener("mouseover",this._show.bind(this,!1)),g.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(t){v.e(t)}finally{v.f()}return r.addEventListener("click",this._hide.bind(this,!0)),n.appendChild(r),n}},{key:"_formatContents",value:function(t){var e=t.str,n=t.dir,r=document.createElement("p");r.className="popupContent",r.dir=n;for(var i=e.split(/(?:\r\n?|\n)/),o=0,a=i.length;o<a;++o){var s=i[o];r.appendChild(document.createTextNode(s)),o<a-1&&r.appendChild(document.createElement("br"))}return r}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),t}(),B=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(T),U=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(i,t),this.container}}]),n}(T),z=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(T),W=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(T),G=function(t){f(n,t);var e=p(n);function n(t){var r,i,o,a;x(this,n);var s=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return(a=e.call(this,t,{isRenderable:s,ignoreBorder:!0})).containerClassName="polylineAnnotation",a.svgElementName="svg:polyline",a}return E(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],i=this.svgFactory.create(n,r),o=[],a=m(e.vertices);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=s.x-e.rect[0],u=e.rect[3]-s.y;o.push(l+","+u)}}catch(t){a.e(t)}finally{a.f()}o=o.join(" ");var c=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",o),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),i.appendChild(c),this.container.append(i),this._createPopup(c,e),this.container}}]),n}(T),q=function(t){f(n,t);var e=p(n);function n(t){var r;return x(this,n),(r=e.call(this,t)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(G),V=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(T),H=function(t){f(n,t);var e=p(n);function n(t){var r,i,o,a;x(this,n);var s=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return(a=e.call(this,t,{isRenderable:s,ignoreBorder:!0})).containerClassName="inkAnnotation",a.svgElementName="svg:polyline",a}return E(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],i=this.svgFactory.create(n,r),o=m(e.inkLists);try{for(o.s();!(t=o.n()).done;){var a,s=t.value,l=[],u=m(s);try{for(u.s();!(a=u.n()).done;){var c=a.value,h=c.x-e.rect[0],f=e.rect[3]-c.y;l.push("".concat(h,",").concat(f))}}catch(t){u.e(t)}finally{u.f()}l=l.join(" ");var d=this.svgFactory.createElement(this.svgElementName);d.setAttribute("points",l),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),this._createPopup(d,e),i.appendChild(d)}}catch(t){o.e(t)}finally{o.f()}return this.container.append(i),this.container}}]),n}(T),X=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return E(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(T),Y=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return E(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(T),K=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return E(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(T),Z=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return E(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(T),Q=function(t){f(n,t);var e=p(n);function n(t){var r,i,o;x(this,n);var a=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str||null!==(o=t.data.richText)&&void 0!==o&&o.str);return e.call(this,t,{isRenderable:a,ignoreBorder:!0})}return E(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(T),J=function(t){f(n,t);var e=p(n);function n(t){var r,a;x(this,n);var s=(a=e.call(this,t,{isRenderable:!0})).data.file,l=s.filename,u=s.content;return a.filename=(0,o.getFilenameFromUrl)(l),a.content=u,null===(r=a.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:v(a),id:(0,i.stringToPDFString)(l),filename:l,content:u}),a}return E(n,[{key:"render",value:function(){var t,e;this.container.className="fileAttachmentAnnotation";var n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(t=this.data.titleObj)&&void 0!==t&&t.str||null!==(e=this.data.contentsObj)&&void 0!==e&&e.str||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}},{key:"_download",value:function(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(T),$=function(){function t(){x(this,t)}return E(t,null,[{key:"render",value:function(e){var n,r=[],s=[],l=m(e.annotations);try{for(l.s();!(n=l.n()).done;){var c=n.value;c&&(c.annotationType!==i.AnnotationType.POPUP?r.push(c):s.push(c))}}catch(t){l.e(t)}finally{l.f()}s.length&&r.push.apply(r,s);for(var h=e.div,f=0,d=r;f<d.length;f++){var p=d[f],y=P.create({data:p,layer:h,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new o.DOMSVGFactory,annotationStorage:e.annotationStorage||new a.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(y.isRenderable){var v=y.render();if(p.hidden&&(v.style.visibility="hidden"),Array.isArray(v)){var g,_=m(v);try{for(_.s();!(g=_.n()).done;){var b=g.value;h.appendChild(b)}}catch(t){_.e(t)}finally{_.f()}}else y instanceof F?h.prepend(v):h.appendChild(v)}}u(this,t,tt).call(this,h,e.annotationCanvasMap)}},{key:"update",value:function(e){var n,r,o,a=e.page,s=e.viewport,l=e.annotations,c=e.annotationCanvasMap,h=e.div,f=s.transform,d="matrix(".concat(f.join(","),")"),p=m(l);try{for(p.s();!(o=p.n()).done;){var y=o.value,v=h.querySelectorAll('[data-annotation-id="'.concat(y.id,'"]'));if(v){var g,_=m(v);try{for(_.s();!(g=_.n()).done;){var b=g.value;if(y.hasOwnCanvas){var w=i.Util.normalizeRect([y.rect[0],a.view[3]-y.rect[1]+a.view[1],y.rect[2],a.view[3]-y.rect[3]+a.view[1]]);if(!r){n=Math.abs(f[0]||f[1]);for(var x=f.slice(),S=0;S<4;S++)x[S]=Math.sign(x[S]);r="matrix(".concat(x.join(","),")")}var E=w[0]*n,C=w[1]*n;b.style.left="".concat(E,"px"),b.style.top="".concat(C,"px"),b.style.transformOrigin="".concat(-E,"px ").concat(-C,"px"),b.style.transform=r}else b.style.transform=d}}catch(t){_.e(t)}finally{_.f()}}}}catch(t){p.e(t)}finally{p.f()}u(this,t,tt).call(this,h,c),h.hidden=!1}}]),t}();function tt(t,e){if(e){var n,r=m(e);try{for(r.s();!(n=r.n()).done;){var i=_(n.value,2),o=i[0],a=i[1],s=t.querySelector('[data-annotation-id="'.concat(o,'"]'));if(s){var l=s.firstChild;"CANVAS"===l.nodeName?s.replaceChild(a,l):s.insertBefore(a,l)}}}catch(t){r.e(t)}finally{r.f()}e.clear()}}e.AnnotationLayer=$},(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"CMYK_G",value:function(t){var e=n(t,4),r=e[0],i=e[1],o=e[2],a=e[3];return["G",1-Math.min(1,.3*r+.59*o+.11*i+a)]}},{key:"G_CMYK",value:function(t){return["CMYK",0,0,0,1-n(t,1)[0]]}},{key:"G_RGB",value:function(t){var e=n(t,1)[0];return["RGB",e,e,e]}},{key:"G_HTML",value:function(t){var e=o(n(t,1)[0]);return"#".concat(e).concat(e).concat(e)}},{key:"RGB_G",value:function(t){var e=n(t,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_HTML",value:function(t){var e=n(t,3),r=e[0],i=e[1],a=e[2],s=o(r),l=o(i),u=o(a);return"#".concat(s).concat(l).concat(u)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(t){var e=n(t,4),r=e[0],i=e[1],o=e[2],a=e[3];return["RGB",1-Math.min(1,r+a),1-Math.min(1,o+a),1-Math.min(1,i+a)]}},{key:"CMYK_HTML",value:function(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function(t){var e=n(t,3),r=1-e[0],i=1-e[1],o=1-e[2];return["CMYK",r,i,o,Math.min(r,i,o)]}}],null&&i(e.prototype,null),r&&i(e,r),t}();e.ColorConverters=a},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=n(4),i=n(147);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"setupStorage",value:function(t,e,n,r,i){var o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",(function(t){r.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(function(t){r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",(function(t){r.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==o.value){var s,l=a(n.children);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.attributes.value===o.value&&(u.attributes.selected=!0)}}catch(t){l.e(t)}finally{l.f()}}t.addEventListener("input",(function(t){var n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:i})}))}}},{key:"setAttributes",value:function(t){var e,n=t.html,i=t.element,a=t.storage,s=void 0===a?null:a,l=t.intent,u=t.linkService,c=i.attributes,h=n instanceof HTMLAnchorElement;"radio"===c.type&&(c.name="".concat(c.name,"-").concat(l));for(var f=0,d=Object.entries(c);f<d.length;f++){var p=o(d[f],2),y=p[0],v=p[1];if(null!=v&&"dataId"!==y)if("style"!==y)if("textContent"===y)n.textContent=v;else if("class"===y)v.length&&n.setAttribute(y,v.join(" "));else{if(h&&("href"===y||"newWindow"===y))continue;n.setAttribute(y,v)}else Object.assign(n.style,v)}h&&(u.addLinkAttributes||(0,r.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(e=u.addLinkAttributes)||void 0===e||e.call(u,n,c.href,c.newWindow)),s&&c.dataId&&this.setupStorage(n,c.dataId,i,s)}},{key:"render",value:function(t){var e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:n});var u=[[r,-1,l]],c=t.div;if(c.appendChild(l),t.viewport){var h="matrix(".concat(t.viewport.transform.join(","),")");c.style.transform=h}"richText"!==s&&c.setAttribute("class","xfaLayer xfaFont");for(var f=[];u.length>0;){var d,p=o(u[u.length-1],3),y=p[0],v=p[1],g=p[2];if(v+1!==y.children.length){var m=y.children[++u[u.length-1][1]];if(null!==m){var _=m.name;if("#text"!==_){var b=void 0;if(b=null!=m&&null!==(d=m.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(m.attributes.xmlns,_):document.createElement(_),g.appendChild(b),m.attributes&&this.setAttributes({html:b,element:m,storage:e,intent:s,linkService:n}),m.children&&m.children.length>0)u.push([m,-1,b]);else if(m.value){var w=document.createTextNode(m.value);i.XfaText.shouldBuildText(_)&&f.push(w),b.appendChild(w)}}else{var x=document.createTextNode(m.value);f.push(x),g.appendChild(x)}}}else u.pop()}var S,E=a(c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(E.s();!(S=E.n()).done;)S.value.setAttribute("readOnly",!0)}catch(t){E.e(t)}finally{E.f()}return{textDivs:f}}},{key:"update",value:function(t){var e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}],null&&u(e.prototype,null),n&&u(e,n),t}();e.XfaLayer=c},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(t){var e=new y({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var r=n(4);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=30,l=new Map,u=/^\s+$/g;function c(t,e,n,i){var o=document.createElement("span"),a=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL};t._textDivs.push(o);var c=r.Util.transform(t._viewport.transform,e.transform),h=Math.atan2(c[1],c[0]),f=n[e.fontName];f.vertical&&(h+=Math.PI/2);var d,p,y=Math.hypot(c[2],c[3]),v=y*function(t,e){var n=l.get(t);if(n)return n;e.save(),e.font="".concat(s,"px ").concat(t);var r=e.measureText(""),i=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(i){e.restore();var a=i/(i+o);return l.set(t,a),a}e.strokeStyle="red",e.clearRect(0,0,s,s),e.strokeText("g",0,0);var u=e.getImageData(0,0,s,s).data;o=0;for(var c=u.length-1-3;c>=0;c-=4)if(u[c]>0){o=Math.ceil(c/4/s);break}e.clearRect(0,0,s,s),e.strokeText("A",0,s),i=0;for(var h=0,f=(u=e.getImageData(0,0,s,s).data).length;h<f;h+=4)if(u[h]>0){i=s-Math.floor(h/4/s);break}if(e.restore(),i){var d=i/(i+o);return l.set(t,d),d}return l.set(t,.8),.8}(f.fontFamily,i);0===h?(d=c[4],p=c[5]-v):(d=c[4]+v*Math.sin(h),p=c[5]-v*Math.cos(h)),o.style.left="".concat(d,"px"),o.style.top="".concat(p,"px"),o.style.fontSize="".concat(y,"px"),o.style.fontFamily=f.fontFamily,o.setAttribute("role","presentation"),o.textContent=e.str,o.dir=e.dir,t._fontInspectorEnabled&&(o.dataset.fontName=e.fontName),0!==h&&(a.angle=h*(180/Math.PI));var g=!1;if(e.str.length>1||t._enhanceTextSelection&&u.test(e.str))g=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){var m=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);m!==_&&Math.max(m,_)/Math.min(m,_)>1.5&&(g=!0)}if(g&&(f.vertical?a.canvasWidth=e.height*t._viewport.scale:a.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(o,a),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection&&a.hasText){var b=1,w=0;0!==h&&(b=Math.cos(h),w=Math.sin(h));var x,S,E=(f.vertical?e.height:e.width)*t._viewport.scale,C=y;0!==h?(x=[b,w,-w,b,d,p],S=r.Util.getAxialAlignedBoundingBox([0,0,E,C],x)):S=[d,p,d+E,p+C],t._bounds.push({left:S[0],top:S[1],right:S[2],bottom:S[3],div:o,size:[E,C],m:x})}}function h(t){if(!t._canceled){var e=t._textDivs,n=t._capability,r=e.length;if(r>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var i=0;i<r;i++)t._layoutText(e[i]);t._renderingDone=!0,n.resolve()}}function f(t,e,n){for(var r=0,i=0;i<n;i++){var o=t[e++];o>0&&(r=r?Math.min(o,r):o)}return r}function d(t){for(var e=t._bounds,n=t._viewport,i=function(t,e,n){var r=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));p(t,r);var i,a=new Array(n.length),s=o(r);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.index;a[u]={left:l.x1New,top:0,right:l.x2New,bottom:0}}}catch(t){s.e(t)}finally{s.f()}n.map((function(e,n){var i=a[n],o=r[n];o.x1=e.top,o.y1=t-i.right,o.x2=e.bottom,o.y2=t-i.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),p(e,r);var c,h=o(r);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=f.index;a[d].top=f.x1New,a[d].bottom=f.x2New}}catch(t){h.e(t)}finally{h.f()}return a}(n.width,n.height,e),a=0;a<i.length;a++){var s=e[a].div,l=t._textDivProperties.get(s);if(0!==l.angle){for(var u=i[a],c=e[a],h=c.m,d=h[0],y=h[1],v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],g=new Float64Array(64),m=0,_=v.length;m<_;m++){var b=r.Util.applyTransform(v[m],h);g[m+0]=d&&(u.left-b[0])/d,g[m+4]=y&&(u.top-b[1])/y,g[m+8]=d&&(u.right-b[0])/d,g[m+12]=y&&(u.bottom-b[1])/y,g[m+16]=y&&(u.left-b[0])/-y,g[m+20]=d&&(u.top-b[1])/d,g[m+24]=y&&(u.right-b[0])/-y,g[m+28]=d&&(u.bottom-b[1])/d,g[m+32]=d&&(u.left-b[0])/-d,g[m+36]=y&&(u.top-b[1])/-y,g[m+40]=d&&(u.right-b[0])/-d,g[m+44]=y&&(u.bottom-b[1])/-y,g[m+48]=y&&(u.left-b[0])/y,g[m+52]=d&&(u.top-b[1])/-d,g[m+56]=y&&(u.right-b[0])/y,g[m+60]=d&&(u.bottom-b[1])/-d}var w=1+Math.min(Math.abs(d),Math.abs(y));l.paddingLeft=f(g,32,16)/w,l.paddingTop=f(g,48,16)/w,l.paddingRight=f(g,0,16)/w,l.paddingBottom=f(g,16,16)/w,t._textDivProperties.set(s,l)}else l.paddingLeft=e[a].left-i[a].left,l.paddingTop=e[a].top-i[a].top,l.paddingRight=i[a].right-e[a].right,l.paddingBottom=i[a].bottom-e[a].bottom,t._textDivProperties.set(s,l)}}function p(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var n,r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],i=o(e);try{for(i.s();!(n=i.n()).done;){for(var a=n.value,s=0;s<r.length&&r[s].end<=a.y1;)s++;for(var l=r.length-1;l>=0&&r[l].start>=a.y2;)l--;var u=void 0,c=void 0,h=void 0,f=void 0,d=-1/0;for(h=s;h<=l;h++){c=(u=r[h]).boundary;var p;(p=c.x2>a.x1?c.index>a.index?c.x1New:a.x1:void 0===c.x2New?(c.x2+a.x1)/2:c.x2New)>d&&(d=p)}for(a.x1New=d,h=s;h<=l;h++)void 0===(c=(u=r[h]).boundary).x2New?c.x2>a.x1?c.index>a.index&&(c.x2New=c.x2):c.x2New=d:c.x2New>d&&(c.x2New=Math.max(d,c.x2));var y=[],v=null;for(h=s;h<=l;h++){var g=(c=(u=r[h]).boundary).x2>a.x2?c:a;v===g?y[y.length-1].end=u.end:(y.push({start:u.start,end:u.end,boundary:g}),v=g)}for(r[s].start<a.y1&&(y[0].start=a.y1,y.unshift({start:r[s].start,end:a.y1,boundary:r[s].boundary})),a.y2<r[l].end&&(y[y.length-1].end=a.y2,y.push({start:a.y2,end:r[l].end,boundary:r[l].boundary})),h=s;h<=l;h++)if(void 0===(c=(u=r[h]).boundary).x2New){var m=!1;for(f=s-1;!m&&f>=0&&r[f].start>=c.y1;f--)m=r[f].boundary===c;for(f=l+1;!m&&f<r.length&&r[f].end<=c.y2;f++)m=r[f].boundary===c;for(f=0;!m&&f<y.length;f++)m=y[f].boundary===c;m||(c.x2New=d)}Array.prototype.splice.apply(r,[s,l-s+1].concat(y))}}catch(t){i.e(t)}finally{i.f()}for(var _=0,b=r;_<b.length;_++){var w=b[_].boundary;void 0===w.x2New&&(w.x2New=Math.max(t,w.x2))}}var y=function(){function t(e){var n,i=this,o=e.textContent,a=e.textContentStream,s=e.container,l=e.viewport,u=e.textDivs,c=e.textContentItemsStr,h=e.enhanceTextSelection;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textContent=o,this._textContentStream=a,this._container=s,this._document=s.ownerDocument,this._viewport=l,this._textDivs=u||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){i._enhanceTextSelection||(i._textDivProperties=null),i._layoutTextCtx&&(i._layoutTextCtx.canvas.width=0,i._layoutTextCtx.canvas.height=0,i._layoutTextCtx=null)})).catch((function(){}))}var e,n;return e=t,n=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((function(){})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(t,e){for(var n=0,r=t.length;n<r;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),c(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){var i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id","".concat(t[n].id)),i.appendChild(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(t){var e=this._textDivProperties.get(t),n="";if(0!==e.canvasWidth&&e.hasText){var r=t.style,i=r.fontSize,o=r.fontFamily;i===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(o),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=o);var a=this._layoutTextCtx.measureText(t.textContent).width;if(a>0){var s=e.canvasWidth/a;this._enhanceTextSelection&&(e.scale=s),n="scaleX(".concat(s,")")}}if(0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.appendChild(t),e.hasEOL){var l=document.createElement("br");l.setAttribute("role","presentation"),this._container.appendChild(l)}}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,r.createPromiseCapability)(),i=Object.create(null),o=this._document.createElement("canvas");if(o.height=o.width=s,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var a=this._textContent.items,l=this._textContent.styles;this._processItems(a,l),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var u=function e(){t._reader.read().then((function(r){var o=r.value;r.done?n.resolve():(Object.assign(i,o.styles),t._processItems(o.items,i),e())}),n.reject)};this._reader=this._textContentStream.getReader(),u()}n.promise.then((function(){i=null,e?t._renderTimer=setTimeout((function(){h(t),t._renderTimer=null}),e):h(t)}),this._capability.reject)}},{key:"expandTextDivs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var e=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var o=this._textDivs[r],a=this._textDivProperties.get(o);a.hasText&&(t?(e.length=0,n.length=0,a.originalTransform&&e.push(a.originalTransform),a.paddingTop>0?(n.push("".concat(a.paddingTop,"px")),e.push("translateY(".concat(-a.paddingTop,"px)"))):n.push(0),a.paddingRight>0?n.push("".concat(a.paddingRight/a.scale,"px")):n.push(0),a.paddingBottom>0?n.push("".concat(a.paddingBottom,"px")):n.push(0),a.paddingLeft>0?(n.push("".concat(a.paddingLeft/a.scale,"px")),e.push("translateX(".concat(-a.paddingLeft/a.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),e.length&&(o.style.transform=e.join(" "))):(o.style.padding=null,o.style.transform=a.originalTransform))}}}}],n&&i(e.prototype,n),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(4),i=n(1),o=n(6);function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function t(){d(this,t),(0,r.unreachable)("Not implemented: SVGGraphics")};e.SVGGraphics=p;var y=function(t){if(Number.isInteger(t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)},v=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(y(t[0])," ").concat(y(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(y(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(y(t[4])," ").concat(y(t[5]),")");return"matrix(".concat(y(t[0])," ").concat(y(t[1])," ").concat(y(t[2])," ").concat(y(t[3])," ").concat(y(t[4])," ")+"".concat(y(t[5]),")")},g="normal",m="normal",_="#000000",b=["butt","round","square"],w=["miter","round","bevel"],x=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256),n=0;n<256;n++){for(var i=n,a=0;a<8;a++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;e[n]=i}function s(t,n,r,i){var o=i,a=n.length;r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a,r[o+=4]=255&t.charCodeAt(0),r[o+1]=255&t.charCodeAt(1),r[o+2]=255&t.charCodeAt(2),r[o+3]=255&t.charCodeAt(3),o+=4,r.set(n,o);var s=function(t,n,r){for(var i=-1,o=n;o<r;o++){var a=255&(i^t[o]);i=i>>>8^e[a]}return-1^i}(r,i+4,o+=n.length);r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s}function l(t){var e=t.length,n=65535,r=Math.ceil(e/n),i=new Uint8Array(2+e+5*r+4),o=0;i[o++]=120,i[o++]=156;for(var a=0;e>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(t.subarray(a,a+n),o),o+=n,a+=n,e-=n;i[o++]=1,i[o++]=255&e,i[o++]=e>>8&255,i[o++]=255&~e,i[o++]=(65535&~e)>>8&255,i.set(t.subarray(a),o),o+=t.length-a;var s=function(t,e,n){for(var r=1,i=0,o=0;o<n;++o)i=(i+(r=(r+(255&t[o]))%65521))%65521;return i<<16|r}(t,0,t.length);return i[o++]=s>>24&255,i[o++]=s>>16&255,i[o++]=s>>8&255,i[o++]=255&s,i}return function(e,n,i){return function(e,n,i,a){var u,c,h,f=e.width,d=e.height,p=e.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:c=0,u=1,h=f+7>>3;break;case r.ImageKind.RGB_24BPP:c=2,u=8,h=3*f;break;case r.ImageKind.RGBA_32BPP:c=6,u=8,h=4*f;break;default:throw new Error("invalid format")}for(var y=new Uint8Array((1+h)*d),v=0,g=0,m=0;m<d;++m)y[v++]=0,y.set(p.subarray(g,g+h),v),g+=h,v+=h;if(n===r.ImageKind.GRAYSCALE_1BPP&&a){v=0;for(var _=0;_<d;_++){v++;for(var b=0;b<h;b++)y[v++]^=255}}var w=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,d>>24&255,d>>16&255,d>>8&255,255&d,u,c,0,0,0]),x=function(t){if(!o.isNodeJS)return l(t);try{var e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);var n=__webpack_require__(7324).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return l(t)}(y),S=t.length+36+w.length+x.length,E=new Uint8Array(S),C=0;return E.set(t,C),s("IHDR",w,E,C+=t.length),s("IDATA",x,E,C+=12+w.length),C+=12+x.length,s("IEND",new Uint8Array(0),E,C),(0,r.createObjectURL)(E,"image/png",i)}(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,n,i)}}(),S=function(){function t(){d(this,t),this.fontSizeScale=1,this.fontWeight=m,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return f(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),E=0,C=0,k=0;e.SVGGraphics=p=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in d(this,t),this.svgFactory=new i.DOMSVGFactory,this.current=new S,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[a]]=a}return f(t,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){for(var e=this,n=t.fnArray,i=t.argsArray,o=0,a=n.length;o<a;o++)if(n[o]===r.OPS.dependency){var s,u=l(i[o]);try{var c=function(){var t=s.value,n=t.startsWith("g_")?e.commonObjs:e.objs,r=new Promise((function(e){n.get(t,e)}));e.current.dependencies.push(r)};for(u.s();!(s=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,e,n,i,o,a){var s=[t,e,n,i,o,a];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(t,e){var n=this;this.viewport=e;var i=this._initialize(e);return this.loadDependencies(t).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(t)),i}))}},{key:"convertOpList",value:function(t){for(var e=this._operatorIdMapping,n=t.argsArray,r=t.fnArray,i=[],o=0,a=r.length;o<a;o++){var s=r[o];i.push({fnId:s,fn:e[s],args:n[o]})}return function(t){var e,n=[],r=[],i=l(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(t){i.e(t)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(t){var e,n=l(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.fn,a=i.fnId,s=i.args;switch(0|a){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o))}}}catch(t){n.e(t)}finally{n.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){var a=this.current;a.textMatrix=a.lineMatrix=[t,e,n,r,i,o],a.textMatrixScale=Math.hypot(t,e),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(y(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",y(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=r.IDENTITY_MATRIX,t.lineMatrix=r.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(t,e){var n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(y(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",y(-n.y))}},{key:"showText",value:function(t){var e=this.current,n=e.font,i=e.fontSize;if(0!==i){var o,a=e.fontSizeScale,s=e.charSpacing,u=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,f=n.vertical,d=f?1:-1,p=n.defaultVMetrics,b=i*e.fontMatrix[0],w=0,x=l(t);try{for(x.s();!(o=x.n()).done;){var S=o.value;if(null!==S)if((0,r.isNum)(S))w+=d*S*i/1e3;else{var E=(S.isSpace?u:0)+s,C=S.fontChar,k=void 0,P=void 0,T=S.width;if(f){var O=void 0,R=S.vmetric||p;O=-(O=S.vmetric?R[1]:.5*T)*b;var A=R[2]*b;T=R?-R[0]:T,k=O/a,P=(w+A)/a}else k=w/a,P=0;(S.isInFont||n.missingFile)&&(e.xcoords.push(e.x+k),f&&e.ycoords.push(-e.y+P),e.tspan.textContent+=C),w+=f?T*b-E*c:T*b+E*c}else w+=c*u}}catch(t){x.e(t)}finally{x.f()}e.tspan.setAttributeNS(null,"x",e.xcoords.map(y).join(" ")),f?e.tspan.setAttributeNS(null,"y",e.ycoords.map(y).join(" ")):e.tspan.setAttributeNS(null,"y",y(-e.y)),f?e.y-=w:e.x+=w*h,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(y(e.fontSize),"px")),e.fontStyle!==g&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==m&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);var I=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE?(e.fillColor!==_&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE){var M=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,M)}var D=e.textMatrix;0!==e.textRise&&((D=D.slice())[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(v(D)," scale(").concat(y(h),", -1)")),e.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=(0,r.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}},{key:"setFont",value:function(t){var e=this.current,n=this.commonObjs.get(t[0]),i=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var a=n.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=n.loadedName,e.fontWeight=o,e.fontStyle=a,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",y(-e.y)),e.xcoords=[],e.ycoords=[]}},{key:"endText",value:function(){var t,e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=b[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=w[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,e,n){this.current.strokeColor=r.Util.makeHexColor(t,e,n)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,e,n){this.current.fillColor=r.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var e=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],i),a=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([e,0],i),l=r.Util.applyTransform([e,n],i),u=Math.min(o[0],a[0],s[0],l[0]),c=Math.min(o[1],a[1],s[1],l[1]),h=Math.max(o[0],a[0],s[0],l[0]),f=Math.max(o[1],a[1],s[1],l[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",u),d.setAttributeNS(null,"y",c),d.setAttributeNS(null,"width",h-u),d.setAttributeNS(null,"height",f-c),d.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var e=t[1],n=t[2],i=t[3]||r.IDENTITY_MATRIX,o=s(t[4],4),l=o[0],u=o[1],c=o[2],h=o[3],f=t[5],d=t[6],p=t[7],y="shading".concat(k++),v=s(r.Util.normalizeRect([].concat(a(r.Util.applyTransform([l,u],i)),a(r.Util.applyTransform([c,h],i)))),4),g=v[0],m=v[1],_=v[2],b=v[3],w=s(r.Util.singularValueDecompose2dScale(i),2),x=f*w[0],S=d*w[1],E=this.svgFactory.createElement("svg:pattern");E.setAttributeNS(null,"id",y),E.setAttributeNS(null,"patternUnits","userSpaceOnUse"),E.setAttributeNS(null,"width",x),E.setAttributeNS(null,"height",S),E.setAttributeNS(null,"x","".concat(g)),E.setAttributeNS(null,"y","".concat(m));var C=this.svg,P=this.transformMatrix,T=this.current.fillColor,O=this.current.strokeColor,R=this.svgFactory.create(_-g,b-m);if(this.svg=R,this.transformMatrix=i,2===p){var A=r.Util.makeHexColor.apply(r.Util,a(e));this.current.fillColor=A,this.current.strokeColor=A}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=P,this.current.fillColor=T,this.current.strokeColor=O,E.appendChild(R.childNodes[0]),this.defs.appendChild(E),"url(#".concat(y,")")}},{key:"_makeShadingPattern",value:function(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":var e,n="shading".concat(k++),i=t[3];switch(t[1]){case"axial":var o=t[4],a=t[5];(e=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",o[0]),e.setAttributeNS(null,"y1",o[1]),e.setAttributeNS(null,"x2",a[0]),e.setAttributeNS(null,"y2",a[1]);break;case"radial":var s=t[4],u=t[5],c=t[6],h=t[7];(e=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",u[0]),e.setAttributeNS(null,"cy",u[1]),e.setAttributeNS(null,"r",h),e.setAttributeNS(null,"fx",s[0]),e.setAttributeNS(null,"fy",s[1]),e.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var f,d=l(i);try{for(d.s();!(f=d.n()).done;){var p=f.value,y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",p[0]),y.setAttributeNS(null,"stop-color",p[1]),e.appendChild(y)}}catch(t){d.e(t)}finally{d.f()}return this.defs.appendChild(e),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function(t,e){this.current.dashArray=t,this.current.dashPhase=e}},{key:"constructPath",value:function(t,e){var n,i=this.current,o=i.x,a=i.y,s=[],u=0,c=l(t);try{for(c.s();!(n=c.n()).done;)switch(0|n.value){case r.OPS.rectangle:o=e[u++],a=e[u++];var h=e[u++],f=e[u++],d=o+h,p=a+f;s.push("M",y(o),y(a),"L",y(d),y(a),"L",y(d),y(p),"L",y(o),y(p),"Z");break;case r.OPS.moveTo:o=e[u++],a=e[u++],s.push("M",y(o),y(a));break;case r.OPS.lineTo:o=e[u++],a=e[u++],s.push("L",y(o),y(a));break;case r.OPS.curveTo:o=e[u+4],a=e[u+5],s.push("C",y(e[u]),y(e[u+1]),y(e[u+2]),y(e[u+3]),y(o),y(a)),u+=6;break;case r.OPS.curveTo2:s.push("C",y(o),y(a),y(e[u]),y(e[u+1]),y(e[u+2]),y(e[u+3])),o=e[u+2],a=e[u+3],u+=4;break;case r.OPS.curveTo3:o=e[u+2],a=e[u+3],s.push("C",y(e[u]),y(e[u+1]),y(o),y(a),y(o),y(a)),u+=4;break;case r.OPS.closePath:s.push("Z")}}catch(t){c.e(t)}finally{c.f()}s=s.join(" "),i.path&&t.length>0&&t[0]!==r.OPS.rectangle&&t[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(o,a)}},{key:"endPath",value:function(){var t=this.current;if(t.path=null,this.pendingClip)if(t.element){var e="clippath".concat(E++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",v(this.transformMatrix));var r=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),t.activeClipUrl){t.clipGroup=null;var i,o=l(this.extraStack);try{for(o.s();!(i=o.n()).done;)i.value.clipGroup=null}catch(t){o.e(t)}finally{o.f()}n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var t=this.current;if(t.path){var e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=l(t);try{for(n.s();!(e=n.n()).done;){var i=s(e.value,2),o=i[0],a=i[1];switch(o){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o))}}}catch(t){n.e(t)}finally{n.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==e&&r.length>0&&(r=r.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",y(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",y(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",r.map(y).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",y(e*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function(t){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(t,e){var n=t.width,r=t.height,i=x(t,this.forceDataSchema,!!e),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",y(n)),o.setAttributeNS(null,"height",y(r)),this.current.element=o,this.clip("nonzero");var a=this.svgFactory.createElement("svg:image");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",y(-r)),a.setAttributeNS(null,"width",y(n)+"px"),a.setAttributeNS(null,"height",y(r)+"px"),a.setAttributeNS(null,"transform","scale(".concat(y(1/n)," ").concat(y(-1/r),")")),e?e.appendChild(a):this._ensureTransformGroup().appendChild(a)}},{key:"paintImageMaskXObject",value:function(t){var e=this.current,n=t.width,r=t.height,i=e.fillColor;e.maskId="mask".concat(C++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",e.maskId);var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",y(n)),a.setAttributeNS(null,"height",y(r)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){var n=e[2]-e[0],r=e[3]-e[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",e[0]),i.setAttributeNS(null,"y",e[1]),i.setAttributeNS(null,"width",y(n)),i.setAttributeNS(null,"height",y(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",v(t.transform)),e.appendChild(r),this.svg=r,e}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),t}()},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},a=n(4),s=n(154);function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function d(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){d(o,r,i,a,s,"next",t)}function s(t){d(o,r,i,a,s,"throw",t)}a(void 0)}))}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var _=__webpack_require__(2767),b=__webpack_require__(8251),w=__webpack_require__(7677),x=__webpack_require__(1543),S=/^file:\/\/\/[a-zA-Z]:\//,E=function(){function t(e){var n,r;v(this,t),this.source=e,this.url=(n=e.url,"file:"===(r=x.parse(n)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?x.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return m(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R(this):new T(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new A(this,t,e):new O(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}]),t}();e.PDFNodeStream=E;var C=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}var e;return m(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark((function t(){var e,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}(),k=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();var n=e.source;this._isStreamingSupported=!n.disableStream}var e;return m(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark((function t(){var e,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,a.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}();function P(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}var T=function(t){l(n,t);var e=c(n);function n(t){var r;v(this,n);var i=function(e){if(404===e.statusCode){var n=new a.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(e);var i=function(t){return r._readableStream.headers[t.toLowerCase()]},o=(0,s.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:t.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=o.allowRangeRequests,u=o.suggestedLength;r._isRangeSupported=l,r._contentLength=u||r._contentLength,r._filename=(0,s.extractFilenameFromHeader)(i)};return(r=e.call(this,t))._request=null,"http:"===r._url.protocol?r._request=b.request(P(r._url,t.httpHeaders),i):r._request=w.request(P(r._url,t.httpHeaders),i),r._request.on("error",(function(t){r._storedError=t,r._headersCapability.reject(t)})),r._request.end(),r}return n}(C),O=function(t){l(n,t);var e=c(n);function n(t,r,i){var o;for(var s in v(this,n),(o=e.call(this,t))._httpHeaders={},t.httpHeaders){var l=t.httpHeaders[s];void 0!==l&&(o._httpHeaders[s]=l)}o._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var u=function(t){if(404!==t.statusCode)o._setReadableStream(t);else{var e=new a.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=e}};return o._request=null,"http:"===o._url.protocol?o._request=b.request(P(o._url,o._httpHeaders),u):o._request=w.request(P(o._url,o._httpHeaders),u),o._request.on("error",(function(t){o._storedError=t})),o._request.end(),o}return n}(k),R=function(t){l(n,t);var e=c(n);function n(t){var r;v(this,n),r=e.call(this,t);var i=decodeURIComponent(r._url.path);return S.test(r._url.href)&&(i=i.replace(/^\//,"")),_.lstat(i,(function(t,e){if(t)return"ENOENT"===t.code&&(t=new a.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=t,void r._headersCapability.reject(t);r._contentLength=e.size,r._setReadableStream(_.createReadStream(i)),r._headersCapability.resolve()})),r}return n}(C),A=function(t){l(n,t);var e=c(n);function n(t,r,i){var o;v(this,n),o=e.call(this,t);var a=decodeURIComponent(o._url.path);return S.test(o._url.href)&&(a=a.replace(/^\//,"")),o._setReadableStream(_.createReadStream(a,{start:r,end:i-1})),o}return n}(k)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)},e.extractFilenameFromHeader=function(t){var e=t("Content-Disposition");if(e){var n=(0,i.getFilenameFromContentDispositionHeader)(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(t){}if((0,o.isPdfFile)(n))return n}return null},e.validateRangeRequestCapabilities=function(t){var e=t.getResponseHeader,n=t.isHttp,i=t.rangeChunkSize,o=t.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return Number.isInteger(s)?(a.suggestedLength=s,s<=2*i||o||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},e.validateResponseStatus=function(t){return 200===t||206===t};var r=n(4),i=n(155),o=n(1)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){var e=!0,n=s("filename\\*","i").exec(t);if(n){var o=c(n=n[1]);return u(o=f(o=h(o=unescape(o))))}if(n=function(t){for(var e,n=[],r=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=r.exec(t));){var o=i(e,4),a=o[1],l=o[2],u=o[3];if((a=parseInt(a,10))in n){if(0===a)break}else n[a]=[l,u]}for(var f=[],d=0;d<n.length&&d in n;++d){var p=i(n[d],2),y=p[0],v=p[1];v=c(v),y&&(v=unescape(v),0===d&&(v=h(v))),f.push(v)}return f.join("")}(t))return u(f(n));if(n=s("filename","i").exec(t)){var a=c(n=n[1]);return u(a=f(a))}function s(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function l(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(t,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),e=!1}catch(r){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(t){}}}return n}function u(t){return e&&/[\x80-\xff]/.test(t)&&(t=l("utf-8",t),e&&(t=l("iso-8859-1",t))),t}function c(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var r=e[n].indexOf('"');-1!==r&&(e[n]=e[n].slice(0,r),e.length=n+1),e[n]=e[n].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function h(t){var e=t.indexOf("'");return-1===e?t:l(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function f(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return l(e,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{r=atob(r)}catch(t){}return l(e,r)}))}return""};var r=n(4);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(154);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return d(t,[{key:"requestRange",value:function(t,e,n){var r={begin:t,end:e};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};for(var i in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&e.setRequestHeader(i,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n,r=this.pendingRequests[t];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,e))}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===r.status&&this.isHttp){var i;null===(i=n.onError)||void 0===i||i.call(n,r.status)}else{var a=r.status||200;if(200===a&&206===n.expectedStatus||a===n.expectedStatus){var s=function(t){var e=t.response;return"string"!=typeof e?e:(0,o.stringToBytes)(e).buffer}(r);if(206===a){var l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);n.onDone({begin:parseInt(u[1],10),chunk:s})}else if(s)n.onDone({begin:0,chunk:s});else{var c;null===(c=n.onError)||void 0===c||c.call(n,r.status)}}else{var h;null===(h=n.onError)||void 0===h||h.call(n,r.status)}}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}]),t}(),y=function(){function t(e){h(this,t),this._source=e,this._manager=new p(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(t,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new v(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new g(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var n,r=u(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;)n.value.cancel(t)}catch(t){r.e(t)}finally{r.f()}}}]),t}();e.PDFNetworkStream=y;var v=function(){function t(e,n){h(this,t),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return d(t,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.allowRangeRequests,o=r.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(t){this._storedError=(0,a.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.reject(this._storedError)}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t);var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),t}(),g=function(){function t(e,n,r){h(this,t),this._manager=e;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}var e;return d(t,[{key:"_close",value:function(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;var n,r=u(this._requests);try{for(r.s();!(n=r.n()).done;)n.value.resolve({value:void 0,done:!0})}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(t){this._storedError=(0,a.createResponseStatusError)(t,this._url);var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.reject(this._storedError)}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){var e;this.isStreamingSupported||null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){t.next=6;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 6:if(!this._done){t.next=8;break}return t.abrupt("return",{value:void 0,done:!0});case 8:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 11:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=u(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),a=n(154);function s(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,l,"next",t)}function l(t){s(o,r,i,a,l,"throw",t)}a(void 0)}))}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t,e,n){return{method:"GET",headers:t,signal:null==n?void 0:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function p(t){var e=new Headers;for(var n in t){var r=t[n];void 0!==r&&e.append(n,r)}return e}var y=function(){function t(e){c(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new v(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new g(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(t){n.e(t)}finally{n.f()}}}]),t}();e.PDFFetchStream=y;var v=function(){function t(e){var n=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=p(this._stream.httpHeaders);var i=r.url;fetch(i,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,i);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=r.allowRangeRequests,l=r.suggestedLength;n._isRangeSupported=s,n._contentLength=l||n._contentLength,n._filename=(0,a.extractFilenameFromHeader)(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new o.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var e;return f(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}(),g=function(){function t(e,n,r){var i=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0;var s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var l=s.url;fetch(l,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,l);i._readCapability.resolve(),i._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}var e;return f(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=l(i.default.mark((function t(){var e,n,r,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return e.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return e.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(136),i=__w_pdfjs_require__(148),o=__w_pdfjs_require__(142),a=__w_pdfjs_require__(6),s=__w_pdfjs_require__(151),l=__w_pdfjs_require__(152),u=__w_pdfjs_require__(150);if(a.isNodeJS){var c=__w_pdfjs_require__(153).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)((function(t){return new c(t)}))}else{var h=__w_pdfjs_require__(156).PDFNetworkStream,f=__w_pdfjs_require__(157).PDFFetchStream;(0,r.setPDFNetworkStreamFactory)((function(t){return(0,e.isValidFetchUrl)(t.url)?new f(t):new h(t)}))}})(),__webpack_exports__})()},module.exports=factory()},2703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(t,e,n)=>{t.exports=n(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8166:function(t){t.exports=function(){"use strict";function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var f=n[r],d=i,p=o;for(e(n,i,r),a(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;a(n[d],f)<0;)d++;for(;a(n[p],f)>0;)p--}0===a(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,o,a){t(e,r,i||0,o||e.length-1,a||n)}}()},5510:(t,e,n)=>{"use strict";t.exports=i;var r=n(8166);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,o){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(a=e+Math.ceil((n-e)/i/2)*i,r(t,a,e,n,o),s.push(e,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!p(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],p(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!p(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],p(t,a=e.leaf?n(o):o)){if(e.leaf||d(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(i=o(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=y(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=y([])).leaf=!1,i.height=r;var l,u,c,h,f=Math.ceil(o/s),d=f*Math.ceil(Math.sqrt(s));for(v(t,e,n,d,this.compareMinX),l=e;l<=n;l+=d)for(v(t,l,c=Math.min(l+d-1,n),f,this.compareMinY),u=l;u<=c;u+=f)h=Math.min(u+f-1,c),i.children.push(this._build(t,u,h,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,f,d,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=f=1/0,i=0,o=e.children.length;i<o;i++)l=h(a=e.children[i]),d=t,p=a,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),l(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,l,u,c,f,d,p,y,v,g,m;for(u=c=1/0,r=e;r<=n-e;r++)d=i=s(t,0,r,this.toBBox),p=o=s(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(d.minX,p.minX),v=Math.max(d.minY,p.minY),g=Math.min(d.maxX,p.maxX),m=Math.min(d.maxY,p.maxY),a=Math.max(0,g-y)*Math.max(0,m-v),l=h(i)+h(o),a<u?(u=a,f=r,c=l<c?l:c):a===u&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,u=s(t,0,e,a),c=s(t,n-e,n,a),h=f(u)+f(c);for(i=e;i<n-e;i++)o=t.children[i],l(u,t.leaf?a(o):o),h+=f(u);for(i=n-e-1;i>=e;i--)o=t.children[i],l(c,t.leaf?a(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},y={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(y,t)||!d.call(p,t)&&(f.test(t)?y[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,_);g[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,E=60107,C=60108,k=60114,P=60109,T=60110,O=60112,R=60113,A=60120,I=60115,M=60116,D=60121,L=60128,j=60129,F=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;x=B("react.element"),S=B("react.portal"),E=B("react.fragment"),C=B("react.strict_mode"),k=B("react.profiler"),P=B("react.provider"),T=B("react.context"),O=B("react.forward_ref"),R=B("react.suspense"),A=B("react.suspense_list"),I=B("react.memo"),M=B("react.lazy"),D=B("react.block"),B("react.scope"),L=B("react.opaque.id"),j=B("react.debug_trace_mode"),F=B("react.offscreen"),N=B("react.legacy_hidden")}var U,z="function"==typeof Symbol&&Symbol.iterator;function W(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function G(t){if(void 0===U)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);U=e&&e[1]||""}return"\n"+U+t}var q=!1;function V(t,e){if(!t||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function H(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return V(t.type,!1);case 11:return V(t.type.render,!1);case 22:return V(t.type._render,!1);case 1:return V(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return X(t.type);case D:return X(t._render);case M:e=t._payload,t=t._init;try{return X(t(e))}catch(t){}}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Y(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Y(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Y(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Y(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Y(n)}}function ut(t,e){var n=Y(e.value),r=Y(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,yt,vt=(yt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(mt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62))}}function Et(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,Pt=null,Tt=null;function Ot(t){if(t=ni(t)){if("function"!=typeof kt)throw Error(a(280));var e=t.stateNode;e&&(e=ii(e),kt(t.stateNode,t.type,e))}}function Rt(t){Pt?Tt?Tt.push(t):Tt=[t]:Pt=t}function At(){if(Pt){var t=Pt,e=Tt;if(Tt=Pt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function It(t,e){return t(e)}function Mt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Lt=It,jt=!1,Ft=!1;function Nt(){null===Pt&&null===Tt||(Dt(),At())}function Bt(t,e){var n=t.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var Ut=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(yt){Ut=!1}function Wt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Gt=!1,qt=null,Vt=!1,Ht=null,Xt={onError:function(t){Gt=!0,qt=t}};function Yt(t,e,n,r,i,o,a,s,l){Gt=!1,qt=null,Wt.apply(Xt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Qt(t){if(Kt(t)!==t)throw Error(a(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qt(i),t;if(o===r)return Qt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function $t(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,oe=[],ae=null,se=null,le=null,ue=new Map,ce=new Map,he=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":ae=null;break;case"dragenter":case"dragleave":se=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ve(t){var e=ei(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function me(t,e,n){ge(t)&&n.delete(e)}function _e(){for(ie=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==ae&&ge(ae)&&(ae=null),null!==se&&ge(se)&&(se=null),null!==le&&ge(le)&&(le=null),ue.forEach(me),ce.forEach(me)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_e)))}function we(t){function e(e){return be(e,t)}if(0<oe.length){be(oe[0],t);for(var n=1;n<oe.length;n++){var r=oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ae&&be(ae,t),null!==se&&be(se,t),null!==le&&be(le,t),ue.forEach(e),ce.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ve(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Se={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Ee={},Ce={};function ke(t){if(Ee[t])return Ee[t];if(!Se[t])return t;var e,n=Se[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Ee[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);var Pe=ke("animationend"),Te=ke("animationiteration"),Oe=ke("animationstart"),Re=ke("transitionend"),Ae=new Map,Ie=new Map,Me=["abort","abort",Pe,"animationEnd",Te,"animationIteration",Oe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Re,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ie.set(r,e),Ae.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Le=8;function je(t){if(0!=(1&t))return Le=15,1;if(0!=(2&t))return Le=14,2;if(0!=(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!=(32&t)?(Le=11,32):0!=(e=192&t)?(Le=10,e):0!=(256&t)?(Le=9,256):0!=(e=3584&t)?(Le=8,e):0!=(4096&t)?(Le=7,4096):0!=(e=4186112&t)?(Le=6,e):0!=(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!=(134217728&t)?(Le=3,134217728):0!=(e=805306368&t)?(Le=2,e):0!=(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=je(l),i=Le):0!=(s&=o)&&(r=je(s),i=Le)}else 0!=(o=n&~a)?(r=je(o),i=Le):0!==s&&(r=je(s),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&a)){if(je(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function Ne(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Be(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?Be(10,e):t;case 10:return 0===(t=Ue(192&~e))?Be(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&0===(t=Ue(4186112&~e))&&(t=512),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(qe(t)/Ve|0)|0},qe=Math.log,Ve=Math.LN2,He=o.unstable_UserBlockingPriority,Xe=o.unstable_runWithPriority,Ye=!0;function Ke(t,e,n,r){jt||Dt();var i=Qe,o=jt;jt=!0;try{Mt(i,t,e,n,r)}finally{(jt=o)||Nt()}}function Ze(t,e,n,r){Xe(He,Qe.bind(null,t,e,n,r))}function Qe(t,e,n,r){var i;if(Ye)if((i=0==(4&e))&&0<oe.length&&-1<fe.indexOf(t))t=de(null,t,e,n,r),oe.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&pe(t,r);else{if(i){if(-1<fe.indexOf(t))return t=de(o,t,e,n,r),void oe.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return ae=ye(ae,t,e,n,r,i),!0;case"dragenter":return se=ye(se,t,e,n,r,i),!0;case"mouseover":return le=ye(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,ye(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,ye(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;pe(t,r)}Dr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Ct(r);if(null!==(i=ei(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Zt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var $e=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in $e?$e.value:$e.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function on(){return!0}function an(){return!1}function sn(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),e}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(ln=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=ln=0,cn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:un}}),vn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),mn=sn(i({},dn,{relatedTarget:0})),_n=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Pn(){return kn}var Tn=i({},dn,{key:function(t){if(t.key){var e=Sn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),On=sn(Tn),Rn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),In=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Mn),Ln=[9,13,27,32],jn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Nn=h&&"TextEvent"in window&&!Fn,Bn=h&&(!jn||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),zn=!1;function Wn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Xn(t,e,n,r){Rt(r),0<(e=jr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yn=null,Kn=null;function Zn(t){Tr(t,0)}function Qn(t){if(Q(ri(t)))return t}function Jn(t,e){if("change"===t)return e}var $n=!1;if(h){var tr;if(h){var er="oninput"in document;if(!er){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),er="function"==typeof nr.oninput}tr=er}else tr=!1;$n=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),Kn=Yn=null)}function ir(t){if("value"===t.propertyName&&Qn(Kn)){var e=[];if(Xn(e,Kn,t,Ct(t)),t=Zn,jt)t(e);else{jt=!0;try{It(t,e)}finally{jt=!1,Nt()}}}}function or(t,e,n){"focusin"===t?(rr(),Kn=n,(Yn=e).attachEvent("onpropertychange",ir)):"focusout"===t&&rr()}function ar(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Kn)}function sr(t,e){if("click"===t)return Qn(e)}function lr(t,e){if("input"===t||"change"===t)return Qn(e)}var ur="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},cr=Object.prototype.hasOwnProperty;function hr(t,e){if(ur(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(e,n[r])||!ur(t[n[r]],e[n[r]]))return!1;return!0}function fr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=fr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fr(r)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function yr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function vr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,mr=null,_r=null,br=null,wr=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==J(r)||(r="selectionStart"in(r=mr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(_r,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Me,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Ie.set(Sr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Pr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,u){if(Yt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var c=qt;Gt=!1,qt=null,Vt||(Vt=!0,Ht=c)}}(r,e,void 0,t),t.currentTarget=null}function Tr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Pr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Pr(i,s,u),o=l}}}if(Vt)throw t=Ht,Vt=!1,Ht=null,t}function Or(t,e){var n=oi(e),r=t+"__bubble";n.has(r)||(Mr(e,t,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Ar(t){t[Rr]||(t[Rr]=!0,s.forEach((function(e){kr.has(e)||Ir(e,!1,t,null),Ir(e,!0,t,null)})))}function Ir(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&kr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=oi(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Mr(o,t,i,e),a.add(s))}function Mr(t,e,n,r){var i=Ie.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=Ze;break;default:i=Qe}n=i.bind(null,e,n,t),i=void 0,!Ut||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{Lt(t,e,n)}finally{Ft=!1,Nt()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=Ae.get(t);if(void 0!==s){var l=fn,u=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Pe:case Te:case Oe:l=_n;break;case Re:l=In;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!=(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==f&&null!=(y=Bt(p,f))&&c.push(Lr(p,y,d))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(h=Kt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,y="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Rn,y="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:ri(l),d=null==u?s:ri(u),(s=new c(y,p+"leave",l,n,i)).target=h,s.relatedTarget=d,y=null,ei(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,y=c),h=y,l&&u)t:{for(f=u,p=0,d=c=l;d;d=Fr(d))p++;for(d=0,y=f;y;y=Fr(y))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Fr(c),f=Fr(f)}c=null}else c=null;null!==l&&Nr(a,s,l,c,!1),null!==u&&null!==h&&Nr(a,h,u,c,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Jn;else if(Hn(s))if($n)v=lr;else{v=ar;var g=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(t,r))?Xn(a,v,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ri(r):window,t){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,_r=r,br=null);break;case"focusout":br=_r=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,i)}var m;if(jn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else qn?Wn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(m=nn()):(tn="value"in($e=i)?$e.value:$e.textContent,qn=!0)),0<(g=jr(r,_)).length&&(_=new xn(_,t,null,n,i),a.push({event:_,listeners:g}),(m||null!==(m=Gn(n)))&&(_.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return Gn(e);case"keypress":return 32!==e.which?null:(zn=!0,Un);case"textInput":return(t=e.data)===Un&&zn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!jn&&Wn(t,e)?(t=nn(),en=tn=$e=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bn&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m)}Tr(a,e)}))}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Bt(t,n))&&r.unshift(Lr(t,o,i)),null!=(o=Bt(t,e))&&r.push(Lr(t,o,i))),t=t.return}return r}function Fr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Bt(n,o))&&a.unshift(Lr(n,l,s)):i||null!=(l=Bt(n,o))&&a.push(Lr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Br(){}var Ur=null,zr=null;function Wr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Xr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0,Zr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,$r="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ei(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[Qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Yr(t);null!==t;){if(n=t[Qr])return n;t=Yr(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Qr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ii(t){return t[Jr]||null}function oi(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var ai=[],si=-1;function li(t){return{current:t}}function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ci(t,e){si++,ai[si]=t.current,t.current=e}var hi={},fi=li(hi),di=li(!1),pi=hi;function yi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!=t.childContextTypes}function gi(){ui(di),ui(fi)}function mi(t,e,n){if(fi.current!==hi)throw Error(a(168));ci(fi,e),ci(di,n)}function _i(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return i({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,pi=fi.current,ci(fi,t),ci(di,di.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=_i(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(di),ui(fi),ci(fi,t)):ui(di),ci(di,n)}var xi=null,Si=null,Ei=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Oi=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,ji={},Fi=void 0!==Ti?Ti:function(){},Ni=null,Bi=null,Ui=!1,zi=Oi(),Wi=1e4>zi?Oi:function(){return Oi()-zi};function Gi(){switch(Ri()){case Ai:return 99;case Ii:return 98;case Mi:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ai;case 98:return Ii;case 97:return Mi;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Vi(t,e){return t=qi(t),Ei(t,e)}function Hi(t,e,n){return t=qi(t),Ci(t,e,n)}function Xi(){if(null!==Bi){var t=Bi;Bi=null,ki(t)}Yi()}function Yi(){if(!Ui&&null!==Ni){Ui=!0;var t=0;try{var e=Ni;Vi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),Ci(Ai,Xi),e}finally{Ui=!1}}}var Ki=w.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Qi=li(null),Ji=null,$i=null,to=null;function eo(){to=$i=Ji=null}function no(t){var e=Qi.current;ui(Qi),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function io(t,e){Ji=t,to=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(ja=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Ji)throw Error(a(308));$i=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fo(t,e,n,r){var o=t.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,h=c=u=null;;){l=a.lane;var d=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,y=a;switch(l=e,d=n,y.tag){case 1:if("function"==typeof(p=y.payload)){f=p.call(d,f,l);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=y.payload)?p.call(d,f,l):p))break t;f=i({},f,l);break t;case 2:ao=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else d={eventTime:d,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=d,u=f):h=h.next=d,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Ns|=s,t.lanes=s,t.memoizedState=f}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function vo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.payload=e,null!=n&&(o.callback=n),co(t,o),hl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),co(t,o),hl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=cl(t),i=uo(n,r);i.tag=2,null!=e&&(i.callback=e),co(t,i),hl(t,r,n)}};function mo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function _o(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(e)?pi:fi.current,o=(r=null!=(r=e.contextTypes))?yi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yo,so(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(e)?pi:fi.current,i.context=yi(t,o)),fo(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&go.enqueueReplaceState(i,i.state,null),fo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var xo=Array.isArray;function So(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===yo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Gl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Xl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=So(t,e,n),r.return=t,r):((r=ql(n.type,n.key,n.props,null,t.mode,r)).ref=So(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Vl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Xl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=ql(e.type,e.key,e.props,null,t.mode,n)).ref=So(t,null,e),n.return=t,n;case S:return(e=Yl(e,t.mode,n)).return=t,e}if(xo(e)||W(e))return(e=Vl(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?h(t,e,n.props.children,r,i):u(t,e,n,r):null;case S:return n.key===i?c(t,e,n,r):null}if(xo(n)||W(n))return null!==i?null:h(t,e,n,r,null);Eo(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return t=t.get(null===r.key?n:r.key)||null,r.type===E?h(e,t,r.props.children,i,r.key):u(e,t,r,i);case S:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||W(r))return h(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function y(i,a,s,l){for(var u=null,c=null,h=a,y=a=0,v=null;null!==h&&y<s.length;y++){h.index>y?(v=h,h=null):v=h.sibling;var g=d(i,h,s[y],l);if(null===g){null===h&&(h=v);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,y),null===c?u=g:c.sibling=g,c=g,h=v}if(y===s.length)return n(i,h),u;if(null===h){for(;y<s.length;y++)null!==(h=f(i,s[y],l))&&(a=o(h,a,y),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);y<s.length;y++)null!==(v=p(h,i,y,s[y],l))&&(t&&null!==v.alternate&&h.delete(null===v.key?y:v.key),a=o(v,a,y),null===c?u=v:c.sibling=v,c=v);return t&&h.forEach((function(t){return e(i,t)})),u}function v(i,s,l,u){var c=W(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,y=s,v=s=0,g=null,m=l.next();null!==y&&!m.done;v++,m=l.next()){y.index>v?(g=y,y=null):g=y.sibling;var _=d(i,y,m.value,u);if(null===_){null===y&&(y=g);break}t&&y&&null===_.alternate&&e(i,y),s=o(_,s,v),null===h?c=_:h.sibling=_,h=_,y=g}if(m.done)return n(i,y),c;if(null===y){for(;!m.done;v++,m=l.next())null!==(m=f(i,m.value,u))&&(s=o(m,s,v),null===h?c=m:h.sibling=m,h=m);return c}for(y=r(i,y);!m.done;v++,m=l.next())null!==(m=p(y,i,v,m.value,u))&&(t&&null!==m.alternate&&y.delete(null===m.key?v:m.key),s=o(m,s,v),null===h?c=m:h.sibling=m,h=m);return t&&y.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"==typeof o&&null!==o&&o.type===E&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case x:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===E){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}}else if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=So(t,u,o),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===E?((r=Vl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=ql(o.type,o.key,o.props,null,t.mode,l)).ref=So(t,r,o),l.return=t,t=l)}return s(t);case S:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Xl(o,t.mode,l)).return=t,t=r),s(t);if(xo(o))return y(t,r,o,l);if(W(o))return v(t,r,o,l);if(c&&Eo(t,o),void 0===o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,r)}}var ko=Co(!0),Po=Co(!1),To={},Oo=li(To),Ro=li(To),Ao=li(To);function Io(t){if(t===To)throw Error(a(174));return t}function Mo(t,e){switch(ci(Ao,e),ci(Ro,t),ci(Oo,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Oo),ci(Oo,e)}function Do(){ui(Oo),ui(Ro),ui(Ao)}function Lo(t){Io(Ao.current);var e=Io(Oo.current),n=dt(e,t.type);e!==n&&(ci(Ro,t),ci(Oo,n))}function jo(t){Ro.current===t&&(ui(Oo),ui(Ro))}var Fo=li(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bo=null,Uo=null,zo=!1;function Wo(t,e){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Go(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function qo(t){if(zo){var e=Uo;if(e){var n=e;if(!Go(t,e)){if(!(e=Xr(n.nextSibling))||!Go(t,e))return t.flags=-1025&t.flags|2,zo=!1,void(Bo=t);Wo(Bo,n)}Bo=t,Uo=Xr(e.firstChild)}else t.flags=-1025&t.flags|2,zo=!1,Bo=t}}function Vo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Bo=t}function Ho(t){if(t!==Bo)return!1;if(!zo)return Vo(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Gr(e,t.memoizedProps))for(e=Uo;e;)Wo(t,e),e=Xr(e.nextSibling);if(Vo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Uo=Xr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Uo=null}}else Uo=Bo?Xr(t.stateNode.nextSibling):null;return!0}function Xo(){Uo=Bo=null,zo=!1}var Yo=[];function Ko(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Zo=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,Jo=0,$o=null,ta=null,ea=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function aa(t,e,n,r,i,o){if(Jo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=null===t||null===t.memoizedState?Ia:Ma,t=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ea=ta=null,e.updateQueue=null,Zo.current=Da,t=n(r,i)}while(ra)}if(Zo.current=Aa,e=null!==ta&&null!==ta.next,Jo=0,ea=ta=$o=null,na=!1,e)throw Error(a(300));return t}function sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?$o.memoizedState=ea=t:ea=ea.next=t,ea}function la(){if(null===ta){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=ta.next;var e=null===ea?$o.memoizedState:ea.next;if(null!==e)ea=e,ta=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ta=t).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ea?$o.memoizedState=ea=t:ea=ea.next=t}return ea}function ua(t,e){return"function"==typeof e?e(t):e}function ca(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,$o.lanes|=c,Ns|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ur(r,e.memoizedState)||(ja=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ha(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);ur(o,e.memoizedState)||(ja=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Yo.push(e))),t)return n(e._source);throw Yo.push(e),Error(a(350))}function da(t,e,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Zo.current,u=l.useState((function(){return fa(i,e,n)})),c=u[1],h=u[0];u=ea;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,y=f.source;f=f.subscribe;var v=$o;return t.memoizedState={refs:d,source:e,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var t=o(e._source);if(!ur(s,t)){t=n(e._source),ur(h,t)||(c(t),t=cl(v),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-Ge(a),u=1<<l;r[l]|=t,a&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=cl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),ur(p,n)&&ur(y,e)&&ur(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:h}).dispatch=c=Ra.bind(null,$o,t),u.queue=t,u.baseQueue=null,h=fa(i,e,n),u.memoizedState=u.baseState=h),h}function pa(t,e,n){return da(la(),t,e,n)}function ya(t){var e=sa();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t}).dispatch=Ra.bind(null,$o,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ga(t){return t={current:t},sa().memoizedState=t}function ma(){return la().memoizedState}function _a(t,e,n,r){var i=sa();$o.flags|=t,i.memoizedState=va(1|e,n,void 0,void 0===r?null:r)}function ba(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(e,n,o,r)}$o.flags|=t,i.memoizedState=va(1|e,n,o,r)}function wa(t,e){return _a(516,4,t,e)}function xa(t,e){return ba(516,4,t,e)}function Sa(t,e){return ba(4,2,t,e)}function Ea(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(t,e,n){return n=null!=n?n.concat([t]):null,ba(4,2,Ea.bind(null,e,t),n)}function ka(){}function Pa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oa(t,e){var n=Gi();Vi(98>n?98:n,(function(){t(!0)})),Vi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{t(!1),e()}finally{Qo.transition=n}}))}function Ra(t,e,n){var r=ul(),i=cl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ra=na=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(t){}hl(t,i,r)}}var Aa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ia={readContext:oo,useCallback:function(t,e){return sa().memoizedState=[t,void 0===e?null:e],t},useContext:oo,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,_a(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=sa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ra.bind(null,$o,t),[r.memoizedState,t]},useRef:ga,useState:ya,useDebugValue:ka,useDeferredValue:function(t){var e=ya(t),n=e[0],r=e[1];return wa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ya(!1),e=t[0];return ga(t=Oa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=sa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},da(r,t,e,n)},useOpaqueIdentifier:function(){if(zo){var t=!1,e=function(t){return{$$typeof:L,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=ya(e)[1];return 0==(2&$o.mode)&&($o.flags|=516,va(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return ya(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:Pa,useContext:oo,useEffect:xa,useImperativeHandle:Ca,useLayoutEffect:Sa,useMemo:Ta,useReducer:ca,useRef:ma,useState:function(){return ca(ua)},useDebugValue:ka,useDeferredValue:function(t){var e=ca(ua),n=e[0],r=e[1];return xa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ca(ua)[0];return[ma().current,t]},useMutableSource:pa,useOpaqueIdentifier:function(){return ca(ua)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Pa,useContext:oo,useEffect:xa,useImperativeHandle:Ca,useLayoutEffect:Sa,useMemo:Ta,useReducer:ha,useRef:ma,useState:function(){return ha(ua)},useDebugValue:ka,useDeferredValue:function(t){var e=ha(ua),n=e[0],r=e[1];return xa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ha(ua)[0];return[ma().current,t]},useMutableSource:pa,useOpaqueIdentifier:function(){return ha(ua)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,ja=!1;function Fa(t,e,n,r){e.child=null===t?Po(e,null,n,r):ko(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=aa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ba(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ql(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ua(t,e,a,r,i,o))}return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Gl(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ua(t,e,n,r,i,o){if(null!==t&&hr(t.memoizedProps,r)&&t.ref===e.ref){if(ja=!1,0==(o&i))return e.lanes=t.lanes,ns(t,e,o);0!=(16384&t.flags)&&(ja=!0)}return Ga(t,e,n,r,o)}function za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},_l(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_l(0,t),null;e.memoizedState={baseLanes:0},_l(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,_l(0,r);return Fa(t,e,i,n),e.child}function Wa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ga(t,e,n,r,i){var o=vi(n)?pi:fi.current;return o=yi(e,o),io(e,i),n=aa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function qa(t,e,n,r,i){if(vi(n)){var o=!0;bi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),_o(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):yi(e,u=vi(n)?pi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(e,a,r,u),ao=!1;var f=e.memoizedState;a.state=f,fo(e,r,a,i),l=e.memoizedState,s!==r||f!==l||di.current||ao?("function"==typeof c&&(vo(e,n,c,r),l=e.memoizedState),(s=ao||mo(e,n,s,r,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Zi(e.type,s),a.props=u,h=e.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):yi(e,l=vi(n)?pi:fi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==l)&&bo(e,a,r,l),ao=!1,f=e.memoizedState,a.state=f,fo(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||di.current||ao?("function"==typeof d&&(vo(e,n,d,r),p=e.memoizedState),(u=ao||mo(e,n,u,r,f,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){Wa(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&wi(e,n,!1),ns(t,e,o);r=e.stateNode,La.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):Fa(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Ha(t){var e=t.stateNode;e.pendingContext?mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mi(0,e.context,!1),Mo(t,e.containerInfo)}var Xa,Ya,Ka,Za={dehydrated:null,retryLane:0};function Qa(t,e,n){var r,i=e.pendingProps,o=Fo.current,a=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===t?(void 0!==i.fallback&&qo(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,e.lanes=33554432,t):((n=Hl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=function(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gl(a,s),null!==t?r=Gl(t,r):(r=Vl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Za,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=Gl(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Hl(e,i,0,null),n=Vl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ro(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(t,e,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&$a(t,n);else if(19===t.tag)$a(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Fo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Gl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Gl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(e.type)&&gi(),null;case 3:return Do(),ui(di),ui(fi),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ho(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:jo(e);var o=Io(Ao.current);if(n=e.type,null!==t&&null!=e.stateNode)Ya(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Io(Oo.current),Ho(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[Jr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(t=0;t<Cr.length;t++)Or(Cr[t],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":tt(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":lt(r,s),Or("invalid",r)}for(var u in St(n,s),t=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Or("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),ct(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Br)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=ft(n)),t===ht?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Qr]=e,t[Jr]=r,Xa(t,e),e.stateNode=t,u=Et(n,r),n){case"dialog":Or("cancel",t),Or("close",t),o=r;break;case"iframe":case"object":case"embed":Or("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Or(Cr[o],t);o=r;break;case"source":Or("error",t),o=r;break;case"img":case"image":case"link":Or("error",t),Or("load",t),o=r;break;case"details":Or("toggle",t),o=r;break;case"input":tt(t,r),o=$(t,r),Or("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Or("invalid",t);break;default:o=r}St(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?wt(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&vt(t,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&gt(t,h):"number"==typeof h&&gt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Or("scroll",t):null!=h&&b(t,s,h,u))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Y(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Br)}Wr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=Io(Ao.current),Io(Oo.current),Ho(e)?(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=e,e.stateNode=r)}return null;case 13:return ui(Fo),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ho(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Rs||0==(134217727&Ns)&&0==(134217727&Bs)||yl(Rs,Is))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&Ar(e.stateNode.containerInfo),null;case 10:return no(e),null;case 19:if(ui(Fo),null===(r=e.memoizedState))return null;if(s=0!=(64&e.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=No(t))){for(e.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),e.child}t=t.sibling}null!==r.tail&&Wi()>Gs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=No(u))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Gs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,e=Fo.current,ci(Fo,s?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:vi(t.type)&&gi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ui(di),ui(fi),Ko(),0!=(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return jo(t),null;case 13:return ui(Fo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(Fo),null;case 4:return Do(),null;case 10:return no(t),null;case 23:case 24:return bl(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Xa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Io(Oo.current);var a,s=null;switch(n){case"input":o=$(t,o),r=$(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Br)}for(h in St(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Or("scroll",t),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(t,e,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ss(0,e)},n}function cs(t,e,n){(n=uo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"==typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Fl(t,e)}else e.current=null}function ds(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Hr(e.stateNode.containerInfo))}throw Error(a(163))}function ps(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dl(n,t),Ml(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Wr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(t,e){if(Si&&"function"==typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dl(e,n);else{r=e;try{i()}catch(t){Fl(r,t)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fl(e,t)}break;case 5:fs(e);break;case 4:xs(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(gt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?bs(t,n,e):ws(t,n,e)}function bs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Br));else if(4!==r&&null!==(t=t.child))for(bs(t,e,n),t=t.sibling;null!==t;)bs(t,e,n),t=t.sibling}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function xs(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,u=l;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Et(t,i),e=Et(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?wt(n,l):"dangerouslySetInnerHTML"===s?vt(n,l):"children"===s?gt(n,l):b(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ws=Wi(),ys(e.child,!0)),void Es(e);case 19:return void Es(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Es(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=Bl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var ks=Math.ceil,Ps=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Os=0,Rs=null,As=null,Is=0,Ms=0,Ds=li(0),Ls=0,js=null,Fs=0,Ns=0,Bs=0,Us=0,zs=null,Ws=0,Gs=1/0;function qs(){Gs=Wi()+500}var Vs,Hs=null,Xs=!1,Ys=null,Ks=null,Zs=!1,Qs=null,Js=90,$s=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!=(48&Os)?Wi():-1!==il?il:il=Wi()}function cl(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Gi()?1:2;if(0===ol&&(ol=Fs),0!==Ki.transition){0!==al&&(al=null!==zs?zs.pendingLanes:0),t=ol;var e=4186112&~al;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Gi(),t=Be(0!=(4&Os)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol)}function hl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(t=fl(t,e)))return null;We(t,e,n),t===Rs&&(Bs|=e,4===Ls&&yl(t,Is));var r=Gi();1===e?0!=(8&Os)&&0==(48&Os)?vl(t):(dl(t,n),0===Os&&(qs(),Xi())):(0==(4&Os)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),dl(t,n)),zs=t}function fl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function dl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ge(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=e,je(u);var h=Le;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);s&=~u}if(r=Fe(t,t===Rs?Is:0),e=Le,0===r)null!==n&&(n!==ji&&ki(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==ji&&ki(n)}15===e?(n=vl.bind(null,t),null===Ni?(Ni=[n],Bi=Ci(Ai,Yi)):Ni.push(n),n=ji):14===e?n=Hi(99,vl.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Hi(n,pl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function pl(t){if(il=-1,al=ol=0,0!=(48&Os))throw Error(a(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var n=Fe(t,t===Rs?Is:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Sl();for(Rs===t&&Is===r||(qs(),wl(t,r));;)try{kl();break}catch(e){xl(t,e)}if(eo(),Ps.current=o,Os=i,null!==As?r=0:(Rs=null,Is=0,r=Ls),0!=(Fs&Bs))wl(t,0);else if(0!==r){if(2===r&&(Os|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(n=Ne(t))&&(r=El(t,n))),1===r)throw e=js,wl(t,0),yl(t,n),dl(t,Wi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(t);break;case 3:if(yl(t,n),(62914560&n)===n&&10<(r=Ws+500-Wi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(Ol.bind(null,t),r);break}Ol(t);break;case 4:if(yl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){t.timeoutHandle=qr(Ol.bind(null,t),n);break}Ol(t);break;default:throw Error(a(329))}}return dl(t,Wi()),t.callbackNode===e?pl.bind(null,t):null}function yl(t,e){for(e&=~Us,e&=~Bs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function vl(t){if(0!=(48&Os))throw Error(a(327));if(Il(),t===Rs&&0!=(t.expiredLanes&Is)){var e=Is,n=El(t,e);0!=(Fs&Bs)&&(n=El(t,e=Fe(t,e)))}else n=El(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Os|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(e=Ne(t))&&(n=El(t,e))),1===n)throw n=js,wl(t,0),yl(t,e),dl(t,Wi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ol(t),dl(t,Wi()),null}function gl(t,e){var n=Os;Os|=1;try{return t(e)}finally{0===(Os=n)&&(qs(),Xi())}}function ml(t,e){var n=Os;Os&=-2,Os|=8;try{return t(e)}finally{0===(Os=n)&&(qs(),Xi())}}function _l(t,e){ci(Ds,Ms),Ms|=e,Fs|=e}function bl(){Ms=Ds.current,ui(Ds)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Vr(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Do(),ui(di),ui(fi),Ko();break;case 5:jo(r);break;case 4:Do();break;case 13:case 19:ui(Fo);break;case 10:no(r);break;case 23:case 24:bl()}n=n.return}Rs=t,As=Gl(t.current,null),Is=Ms=Fs=e,Ls=0,js=null,Us=Bs=Ns=0}function xl(t,e){for(;;){var n=As;try{if(eo(),Zo.current=Aa,na){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ea=ta=$o=null,ra=!1,Ts.current=null,null===n||null===n.return){Ls=1,js=e,As=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Fo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=f.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!h)}}if(d){var v=f.updateQueue;if(null===v){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=uo(-1,1);m.tag=2,co(s,m)}s.lanes|=1;break t}l=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Nl.bind(null,o,u,s);u.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),l=as(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,e&=-e,f.lanes|=e,ho(f,us(0,o,e));break t;case 1:o=l;var w=f.type,x=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ks||!Ks.has(x)))){f.flags|=4096,e&=-e,f.lanes|=e,ho(f,cs(f,o,e));break t}}f=f.return}while(null!==f)}Tl(n)}catch(t){e=t,As===n&&null!==n&&(As=n=n.return);continue}break}}function Sl(){var t=Ps.current;return Ps.current=Aa,null===t?Aa:t}function El(t,e){var n=Os;Os|=16;var r=Sl();for(Rs===t&&Is===e||wl(t,e);;)try{Cl();break}catch(e){xl(t,e)}if(eo(),Os=n,Ps.current=r,null!==As)throw Error(a(261));return Rs=null,Is=0,Ls}function Cl(){for(;null!==As;)Pl(As)}function kl(){for(;null!==As&&!Pi();)Pl(As)}function Pl(t){var e=Vs(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,null===e?Tl(t):As=e,Ts.current=null}function Tl(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=is(n,e,Ms)))return void(As=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ms)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(As=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(As=e);As=e=t}while(null!==e);0===Ls&&(Ls=5)}function Ol(t){var e=Gi();return Vi(99,Rl.bind(null,t,e)),null}function Rl(t,e){do{Il()}while(null!==Qs);if(0!=(48&Os))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-Ge(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==el&&0==(24&r)&&el.has(t)&&el.delete(t),t===Rs&&(As=Rs=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ts.current=null,Ur=Ye,vr(s=yr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var h=0,f=-1,d=-1,p=0,y=0,v=s,g=null;e:for(;;){for(var m;v!==l||0!==o&&3!==v.nodeType||(f=h+o),v!==u||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(m=v.firstChild);)g=v,v=m;for(;;){if(v===s)break e;if(g===l&&++p===o&&(f=h),g===u&&++y===c&&(d=h),null!==(m=v.nextSibling))break;g=(v=g).parentNode}v=m}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:s,selectionRange:l},Ye=!1,sl=null,ll=!1,Hs=r;do{try{Al()}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);sl=null,Hs=r;do{try{for(s=t;null!==Hs;){var _=Hs.flags;if(16&_&&gt(Hs.stateNode,""),128&_){var b=Hs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:_s(Hs),Hs.flags&=-3;break;case 6:_s(Hs),Hs.flags&=-3,Ss(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,Ss(Hs.alternate,Hs);break;case 4:Ss(Hs.alternate,Hs);break;case 8:xs(s,l=Hs);var x=l.alternate;gs(l),null!==x&&gs(x)}Hs=Hs.nextEffect}}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);if(w=zr,b=yr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!w.extend&&x>s&&(l=s,s=x,x=l),l=dr(_,x),o=dr(_,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ye=!!Ur,zr=Ur=null,t.current=n,Hs=r;do{try{for(_=t;null!==Hs;){var S=Hs.flags;if(36&S&&ps(_,Hs.alternate,Hs),128&S){b=void 0;var E=Hs.ref;if(null!==E){var C=Hs.stateNode;Hs.tag,b=C,"function"==typeof E?E(b):E.current=b}}Hs=Hs.nextEffect}}catch(t){if(null===Hs)throw Error(a(330));Fl(Hs,t),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Fi(),Os=i}else t.current=n;if(Zs)Zs=!1,Qs=t,Js=e;else for(Hs=r;null!==Hs;)e=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((S=Hs).sibling=null,S.stateNode=null),Hs=e;if(0===(r=t.pendingLanes)&&(Ks=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,Si&&"function"==typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64==(64&n.current.flags))}catch(t){}if(dl(t,Wi()),Xs)throw Xs=!1,t=Ys,Ys=null,t;return 0!=(8&Os)||Xi(),null}function Al(){for(;null!==Hs;){var t=Hs.alternate;ll||null===sl||(0!=(8&Hs.flags)?$t(Hs,sl)&&(ll=!0):13===Hs.tag&&Cs(t,Hs)&&$t(Hs,sl)&&(ll=!0));var e=Hs.flags;0!=(256&e)&&ds(t,Hs),0==(512&e)||Zs||(Zs=!0,Hi(97,(function(){return Il(),null}))),Hs=Hs.nextEffect}}function Il(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Vi(t,Ll)}return!1}function Ml(t,e){$s.push(e,t),Zs||(Zs=!0,Hi(97,(function(){return Il(),null})))}function Dl(t,e){tl.push(e,t),Zs||(Zs=!0,Hi(97,(function(){return Il(),null})))}function Ll(){if(null===Qs)return!1;var t=Qs;if(Qs=null,0!=(48&Os))throw Error(a(331));var e=Os;Os|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Os=e,Xi(),!0}function jl(t,e,n){co(t,e=us(0,e=as(n,e),1)),e=ul(),null!==(t=fl(t,1))&&(We(t,1,e),dl(t,e))}function Fl(t,e){if(3===t.tag)jl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){jl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=cs(n,t=as(e,t),1);if(co(n,i),i=ul(),null!==(n=fl(n,1)))We(n,1,i),dl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Nl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,Rs===t&&(Is&n)===n&&(4===Ls||3===Ls&&(62914560&Is)===Is&&500>Wi()-Ws?wl(t,0):Us|=n),dl(t,e)}function Bl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Gi()?1:2:(0===ol&&(ol=Fs),0===(e=Ue(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=fl(t,e))&&(We(t,e,n),dl(t,n))}function Ul(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(t,e,n,r){return new Ul(t,e,n,r)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Gl(t,e){var n=t.alternate;return null===n?((n=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ql(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Wl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case E:return Vl(n.children,i,o,e);case j:s=8,i|=16;break;case C:s=8,i|=1;break;case k:return(t=zl(12,n,e,8|i)).elementType=k,t.type=k,t.lanes=o,t;case R:return(t=zl(13,n,e,i)).type=R,t.elementType=R,t.lanes=o,t;case A:return(t=zl(19,n,e,i)).elementType=A,t.lanes=o,t;case F:return Hl(n,i,o,e);case N:return(t=zl(24,n,e,i)).elementType=N,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case P:s=10;break t;case T:s=9;break t;case O:s=11;break t;case I:s=14;break t;case M:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=zl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Vl(t,e,n,r){return(t=zl(7,t,r,e)).lanes=n,t}function Hl(t,e,n,r){return(t=zl(23,t,r,e)).elementType=F,t.lanes=n,t}function Xl(t,e,n){return(t=zl(6,t,null,e)).lanes=n,t}function Yl(t,e,n){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Zl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ql(t,e,n,r){var i=e.current,o=ul(),s=cl(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vi(u)){n=_i(n,u,l);break t}}n=l}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),co(i,e),hl(i,s,o),s}function Jl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $l(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){$l(t,e),(t=t.alternate)&&$l(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(t,e,null!=n&&!0===n.hydrate),e=zl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,so(e),t[$r]=n.current,Ar(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Jl(a);s.call(t)}}Ql(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Jl(a);l.call(t)}}ml((function(){Ql(e,a,t,i)}))}return Jl(a)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(a(200));return Zl(t,e,null,n)}Vs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)ja=!0;else{if(0==(n&r)){switch(ja=!1,e.tag){case 3:Ha(e),Xo();break;case 5:Lo(e);break;case 1:vi(e.type)&&bi(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ci(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Qa(t,e,n):(ci(Fo,1&Fo.current),null!==(e=ns(t,e,n))?e.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Fo,Fo.current),r)break;return null;case 23:case 24:return e.lanes=0,za(t,e,n)}return ns(t,e,n)}ja=0!=(16384&t.flags)}else ja=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=yi(e,fi.current),io(e,n),i=aa(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(e,r,s,t),i.updater=go,e.stateNode=i,i._reactInternals=e,wo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,Fa(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Wl(t)?1:0;if(null!=t){if((t=t.$$typeof)===O)return 11;if(t===I)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=Ga(null,e,i,t,n);break t;case 1:e=qa(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=Ba(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ga(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Ha(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),fo(e,r,null,n),(r=e.memoizedState.element)===i)Xo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Uo=Xr(e.stateNode.containerInfo.firstChild),Bo=e,o=zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Yo.push(o);for(n=Po(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(t,e,r,n),Xo();e=e.child}return e;case 5:return Lo(e),null===t&&qo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(e.flags|=16),Wa(t,e),Fa(t,e,s,n),e.child;case 6:return null===t&&qo(e),null;case 13:return Qa(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):Fa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return Fa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(ci(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){e=ns(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.flags|=1,Fa(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),Ba(t,e,i,o=Zi(i.type,o),r,n);case 15:return Ua(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vi(r)?(t=!0,bi(e)):t=!1,io(e,n),_o(e,r,i),wo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return za(t,e,n)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){Ql(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,(function(){e[$r]=null}))},te=function(t){13===t.tag&&(hl(t,4,ul()),tu(t,4))},ee=function(t){13===t.tag&&(hl(t,67108864,ul()),tu(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),n=cl(t);hl(t,n,e),tu(t,n)}},re=function(t,e){return e()},kt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ii(r);if(!i)throw Error(a(90));Q(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},It=gl,Mt=function(t,e,n,r,i){var o=Os;Os|=4;try{return Vi(98,t.bind(null,e,n,r,i))}finally{0===(Os=o)&&(qs(),Xi())}},Dt=function(){0==(49&Os)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,dl(t,Wi())}))}Xi()}(),Il())},Lt=function(t,e){var n=Os;Os|=2;try{return t(e)}finally{0===(Os=n)&&(qs(),Xi())}};var ou={Events:[ni,ri,ii,Rt,At,Il,{current:!1}]},au={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{xi=lu.inject(su),Si=lu}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Os;if(0!=(48&n))return t(e);Os|=1;try{if(t)return Vi(99,t.bind(null,e))}finally{Os=n,Xi()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(a(40));return!!t._reactRootContainer&&(ml((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=gl,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ru(t,e,n,!1,r)},e.version="17.0.2"},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},5668:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=p(n(5697)),a=p(n(3935)),s=p(n(6010)),l=n(1825),u=n(2849),c=n(9280),h=p(n(783)),f=p(n(5904)),d=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(t){return t&&t.__esModule?t:{default:t}}function y(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v.apply(this,arguments)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(y,t);var e,n,r,o,c,p=(o=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(o);if(c){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function y(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),C(S(e=p.call(this,t)),"onDragStart",(function(t,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===e.props.onStart(t,(0,u.createDraggableData)(S(e),n)))return!1;e.setState({dragging:!0,dragged:!0})})),C(S(e),"onDrag",(function(t,n){if(!e.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r,i,o=(0,u.createDraggableData)(S(e),n),a={x:o.x,y:o.y};if(e.props.bounds){var s=a.x,l=a.y;a.x+=e.state.slackX,a.y+=e.state.slackY;var c=(r=(0,u.getBoundPosition)(S(e),a.x,a.y),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=c[0],d=c[1];a.x=h,a.y=d,a.slackX=e.state.slackX+(s-a.x),a.slackY=e.state.slackY+(l-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-e.state.x,o.deltaY=a.y-e.state.y}if(!1===e.props.onDrag(t,o))return!1;e.setState(a)})),C(S(e),"onDragStop",(function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,(0,u.createDraggableData)(S(e),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var i=e.props.position,o=i.x,a=i.y;r.x=o,r.y=a}e.setState(r)})),e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:m({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),e}return e=y,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:m({},n)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),r=e.defaultPosition,o=e.defaultClassName,a=e.defaultClassNameDragging,c=e.defaultClassNameDragged,f=e.position,p=e.positionOffset,y=(e.scale,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,d)),g={},_=null,b=!Boolean(f)||this.state.dragging,w=f||r,x={x:(0,u.canDragX)(this)&&b?this.state.x:w.x,y:(0,u.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?_=(0,l.createSVGTransform)(x,p):g=(0,l.createCSSTransform)(x,p);var S=(0,s.default)(n.props.className||"",o,(C(t={},a,this.state.dragging),C(t,c,this.state.dragged),t));return i.createElement(h.default,v({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:m(m({},n.props.style),g),transform:_}))}}])&&b(e.prototype,n),r&&b(e,r),y}(i.Component);e.default=k,C(k,"displayName","Draggable"),C(k,"propTypes",m(m({},h.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),C(k,"defaultProps",m(m({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},783:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=h(n(5697)),a=h(n(3935)),s=n(1825),l=n(2849),u=n(9280),c=h(n(5904));function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={start:"touchstart",move:"touchmove",stop:"touchend"},S={start:"mousedown",move:"mousemove",stop:"mouseup"},E=S,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(h,t);var e,n,r,o,u=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function h(){var t;y(this,h);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(_(t=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(_(t),"mounted",!1),w(_(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,s.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(e,i,_(t));if(null!=o){var a=o.x,u=o.y,h=(0,l.createCoreData)(_(t),a,u);(0,c.default)("DraggableCore: handleDragStart: %j",h),(0,c.default)("calling",t.props.onStart),!1!==t.props.onStart(e,h)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:a,lastY:u}),(0,s.addEvent)(r,E.move,t.handleDrag),(0,s.addEvent)(r,E.stop,t.handleDragStop))}}})),w(_(t),"handleDrag",(function(e){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,a=i-t.state.lastY,s=d((0,l.snapToGrid)(t.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=t.state.lastX+o,i=t.state.lastY+a}var u=(0,l.createCoreData)(_(t),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==t.props.onDrag(e,u)&&!1!==t.mounted)t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(e){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(h)}}})),w(_(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y,o=(0,l.createCoreData)(_(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var a=t.findDOMNode();a&&t.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(a.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),a&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(a.ownerDocument,E.move,t.handleDrag),(0,s.removeEvent)(a.ownerDocument,E.stop,t.handleDragStop))}}})),w(_(t),"onMouseDown",(function(e){return E=S,t.handleDragStart(e)})),w(_(t),"onMouseUp",(function(e){return E=S,t.handleDragStop(e)})),w(_(t),"onTouchStart",(function(e){return E=x,t.handleDragStart(e)})),w(_(t),"onTouchEnd",(function(e){return E=x,t.handleDragStop(e)})),t}return e=h,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,s.addEvent)(t,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,s.removeEvent)(e,S.move,this.handleDrag),(0,s.removeEvent)(e,x.move,this.handleDrag),(0,s.removeEvent)(e,S.stop,this.handleDragStop),(0,s.removeEvent)(e,x.stop,this.handleDragStop),(0,s.removeEvent)(t,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(e.prototype,n),h}(i.Component);e.default=C,w(C,"displayName","DraggableCore"),w(C,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),w(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1193:(t,e,n)=>{"use strict";var r=n(5668),i=r.default,o=r.DraggableCore;t.exports=i,t.exports.default=i,t.exports.DraggableCore=o},1825:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=h,e.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(h(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},e.addEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}},e.removeEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},e.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderTopWidth))+(0,i.int)(n.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderLeftWidth))+(0,i.int)(n.borderRightWidth)},e.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingTop))-(0,i.int)(n.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingLeft))-(0,i.int)(n.paddingRight)},e.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:(t.clientX+e.scrollLeft-r.left)/n,y:(t.clientY+e.scrollTop-r.top)/n}},e.createCSSTransform=function(t,e){var n=f(t,e,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},e.createSVGTransform=function(t,e){return f(t,e,"")},e.getTranslation=f,e.getTouch=function(t,e){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,i.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},e.addUserSelectStyles=function(t){if(t){var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e)),t.body&&d(t.body,"react-draggable-transparent-selection")}},e.removeUserSelectStyles=function(t){if(t)try{if(t.body&&p(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(t){}},e.addClassName=d,e.removeClassName=p;var i=n(9280),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(8650));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="";function h(t,e){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,i.isFunction)(t[e])}))),!!(0,i.isFunction)(t[c])&&t[c](e)}function f(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var a="".concat("string"==typeof e.x?e.x:e.x+n),s="".concat("string"==typeof e.y?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function d(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function p(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},8650:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=r,e.browserPrefixToKey=i,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!o)return"";if(r in o)return"";for(var a=0;a<n.length;a++)if(i(r,n[a])in o)return n[a];return""}function i(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var o=r();e.default=o},5904:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},2849:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var a=t.props.bounds;a="string"==typeof a?a:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(a);var s=o(t);if("string"==typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var h=l,f=c.getComputedStyle(s),d=c.getComputedStyle(h);a={left:-s.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(f.marginLeft),top:-s.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(f.marginTop),right:(0,i.innerWidth)(h)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,i.innerHeight)(h)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(f.marginBottom)}}return(0,r.isNum)(a.right)&&(e=Math.min(e,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(e=Math.max(e,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[e,n]},e.snapToGrid=function(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]},e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.getControlPosition=function(t,e,n){var r="number"==typeof e?(0,i.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||t,s,n.props.scale)},e.createCoreData=function(t,e,n){var i=t.state,a=!(0,r.isNum)(i.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var r=n(9280),i=n(1825);function o(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},9280:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},e.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"==typeof t&&!isNaN(t)},e.int=function(t){return parseInt(t,10)},e.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}},9590:t=>{var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!o(t[u[l]],a[u[l]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},5966:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=f(n(7294)),o=f(n(5697)),a=n(1193),s=n(1706),l=n(7493),u=n(7373),c=n(2886),h=f(n(6010));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(f,t);var e,n,r,o,c=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function f(){var t;y(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w(_(t=c.call.apply(c,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),w(_(t),"elementRef",i.default.createRef()),w(_(t),"onDragStart",(function(e,n){var r=n.node,i=t.props,o=i.onDragStart,a=i.transformScale;if(o){var s={top:0,left:0},l=r.offsetParent;if(l){var c=l.getBoundingClientRect(),h=r.getBoundingClientRect(),f=h.left/a,d=c.left/a,p=h.top/a,y=c.top/a;s.left=f-d+l.scrollLeft,s.top=p-y+l.scrollTop,t.setState({dragging:s});var v=(0,u.calcXY)(t.getPositionParams(),s.top,s.left,t.props.w,t.props.h),g=v.x,m=v.y;return o.call(_(t),t.props.i,g,m,{e,node:r,newPosition:s})}}})),w(_(t),"onDrag",(function(e,n){var r=n.node,i=n.deltaX,o=n.deltaY,a=t.props.onDrag;if(a){if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");var s=t.state.dragging.top+o,l=t.state.dragging.left+i,c=t.props,h=c.isBounded,f=c.i,d=c.w,p=c.h,y=c.containerWidth,v=t.getPositionParams();if(h){var g=r.offsetParent;if(g){var m=t.props,b=m.margin,w=m.rowHeight,x=g.clientHeight-(0,u.calcGridItemWHPx)(p,w,b[1]);s=(0,u.clamp)(s,0,x);var S=(0,u.calcGridColWidth)(v),E=y-(0,u.calcGridItemWHPx)(d,S,b[0]);l=(0,u.clamp)(l,0,E)}}var C={top:s,left:l};t.setState({dragging:C});var k=(0,u.calcXY)(v,s,l,d,p),P=k.x,T=k.y;return a.call(_(t),f,P,T,{e,node:r,newPosition:C})}})),w(_(t),"onDragStop",(function(e,n){var r=n.node,i=t.props.onDragStop;if(i){if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=t.props,a=o.w,s=o.h,l=o.i,c=t.state.dragging,h=c.left,f=c.top,d={top:f,left:h};t.setState({dragging:null});var p=(0,u.calcXY)(t.getPositionParams(),f,h,a,s),y=p.x,v=p.y;return i.call(_(t),l,y,v,{e,node:r,newPosition:d})}})),w(_(t),"onResizeStop",(function(e,n){t.onResizeHandler(e,n,"onResizeStop")})),w(_(t),"onResizeStart",(function(e,n){t.onResizeHandler(e,n,"onResizeStart")})),w(_(t),"onResize",(function(e,n){t.onResizeHandler(e,n,"onResize")})),t}return e=f,n=[{key:"shouldComponentUpdate",value:function(t,e){if(this.props.children!==t.children)return!0;if(this.props.droppingPosition!==t.droppingPosition)return!0;var n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,e);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==t.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(t){this.moveDroppingItem(t)}},{key:"moveDroppingItem",value:function(t){var e=this.props.droppingPosition;if(e){var n=this.elementRef.current;if(n){var r=t.droppingPosition||{left:0,top:0},i=this.state.dragging,o=i&&e.left!==r.left||e.top!==r.top;if(i){if(o){var a=e.left-i.left,s=e.top-i.top;this.onDrag(e.e,{node:n,deltaX:a,deltaY:s})}}else this.onDragStart(e.e,{node:n,deltaX:e.left,deltaY:e.top})}}}},{key:"getPositionParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}},{key:"createStyle",value:function(t){var e,n=this.props,r=n.usePercentages,i=n.containerWidth;return n.useCSSTransforms?e=(0,l.setTransform)(t):(e=(0,l.setTopLeft)(t),r&&(e.left=(0,l.perc)(t.left/i),e.width=(0,l.perc)(t.width/i))),e}},{key:"mixinDraggable",value:function(t,e){return i.default.createElement(a.DraggableCore,{disabled:!e,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}},{key:"mixinResizable",value:function(t,e,n){var r=this.props,o=r.cols,a=r.x,l=r.minW,c=r.minH,h=r.maxW,f=r.maxH,d=r.transformScale,p=r.resizeHandles,y=r.resizeHandle,v=this.getPositionParams(),g=(0,u.calcGridItemPosition)(v,0,0,o-a,0).width,m=(0,u.calcGridItemPosition)(v,0,0,l,c),_=(0,u.calcGridItemPosition)(v,0,0,h,f),b=[m.width,m.height],w=[Math.min(_.width,g),Math.min(_.height,1/0)];return i.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:e.width,height:e.height,minConstraints:b,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:d,resizeHandles:p,handle:y},t)}},{key:"onResizeHandler",value:function(t,e,n){var r=e.node,i=e.size,o=this.props[n];if(o){var a=this.props,s=a.cols,l=a.x,c=a.y,h=a.i,f=a.maxH,d=a.minH,p=this.props,y=p.minW,v=p.maxW,g=(0,u.calcWH)(this.getPositionParams(),i.width,i.height,l,c),m=g.w,_=g.h;y=Math.max(y,1),v=Math.min(v,s-l),m=(0,u.clamp)(m,y,v),_=(0,u.clamp)(_,d,f),this.setState({resizing:"onResizeStop"===n?null:i}),o.call(this,h,m,_,{e:t,node:r,size:i})}}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.w,o=t.h,a=t.isDraggable,s=t.isResizable,l=t.droppingPosition,c=t.useCSSTransforms,f=(0,u.calcGridItemPosition)(this.getPositionParams(),e,n,r,o,this.state),d=i.default.Children.only(this.props.children),y=i.default.cloneElement(d,{ref:this.elementRef,className:(0,h.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:p(p(p({},this.props.style),d.props.style),this.createStyle(f))});return y=this.mixinResizable(y,f,s),this.mixinDraggable(y,a)}}],n&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(i.default.Component);e.default=x,w(x,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minWidth not Number"):n>t.w||n>t.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxWidth not Number"):n<t.w||n<t.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minHeight not Number"):n>t.h||n>t.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxHeight not Number"):n<t.h||n<t.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),w(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9580:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=h(n(2307)),a=h(n(6010)),s=n(7493),l=n(7373),u=h(n(5966)),c=h(n(2886));function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function x(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k="react-grid-layout",P=!1;try{P=/firefox/i.test(navigator.userAgent)}catch(t){}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(p,t);var e,n,r,c,h,f=(c=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(c);if(h){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return x(this,t)});function p(){var t;_(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C(S(t=f.call.apply(f,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(t.props.layout,t.props.children,t.props.cols,(0,s.compactType)(t.props),t.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),C(S(t),"dragEnterCounter",0),C(S(t),"onDragStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);if(u)return t.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l}),t.props.onDragStart(l,u,u,null,o,a)})),C(S(t),"onDrag",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.oldDragItem,u=t.state.layout,c=t.props,h=c.cols,f=c.allowOverlap,d=c.preventCollision,p=(0,s.getLayoutItem)(u,e);if(p){var y={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};u=(0,s.moveElement)(u,p,n,r,!0,d,(0,s.compactType)(t.props),h,f),t.props.onDrag(u,l,p,y,o,a),t.setState({layout:f?u:(0,s.compact)(u,(0,s.compactType)(t.props),h),activeDrag:y})}})),C(S(t),"onDragStop",(function(e,n,r,i){var o=i.e,a=i.node;if(t.state.activeDrag){var l=t.state.oldDragItem,u=t.state.layout,c=t.props,h=c.cols,f=c.preventCollision,d=c.allowOverlap,p=(0,s.getLayoutItem)(u,e);if(p){u=(0,s.moveElement)(u,p,n,r,!0,f,(0,s.compactType)(t.props),h,d),t.props.onDragStop(u,l,p,null,o,a);var y=d?u:(0,s.compact)(u,(0,s.compactType)(t.props),h),v=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldDragItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,v)}}})),C(S(t),"onResizeStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);u&&(t.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:t.state.layout}),t.props.onResizeStart(l,u,u,null,o,a))})),C(S(t),"onResize",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,h=t.props,f=h.cols,d=h.preventCollision,p=h.allowOverlap,g=(0,s.withLayoutItem)(u,e,(function(t){var e;if(d&&!p){var i=(0,s.getAllCollisions)(u,y(y({},t),{},{w:n,h:r})).filter((function(e){return e.i!==t.i}));if(e=i.length>0){var o=1/0,a=1/0;i.forEach((function(e){e.x>t.x&&(o=Math.min(o,e.x)),e.y>t.y&&(a=Math.min(a,e.y))})),Number.isFinite(o)&&(t.w=o-t.x),Number.isFinite(a)&&(t.h=a-t.y)}}return e||(t.w=n,t.h=r),t})),m=v(g,2),_=m[0],b=m[1];if(b){var w={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:e};t.props.onResize(_,c,b,w,o,a),t.setState({layout:p?_:(0,s.compact)(_,(0,s.compactType)(t.props),f),activeDrag:w})}})),C(S(t),"onResizeStop",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,h=t.props,f=h.cols,d=h.allowOverlap,p=(0,s.getLayoutItem)(u,e);t.props.onResizeStop(u,c,p,null,o,a);var y=d?u:(0,s.compact)(u,(0,s.compactType)(t.props),f),v=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldResizeItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,v)})),C(S(t),"onDragOver",(function(e){var n;if(e.preventDefault(),e.stopPropagation(),P&&(null===(n=e.nativeEvent.target)||void 0===n||!n.classList.contains(k)))return!1;var r=t.props,o=r.droppingItem,a=r.onDropDragOver,s=r.margin,u=r.cols,c=r.rowHeight,h=r.maxRows,f=r.width,p=r.containerPadding,v=r.transformScale,g=null==a?void 0:a(e);if(!1===g)return t.state.droppingDOMNode&&t.removeDroppingPlaceholder(),!1;var m=y(y({},o),g),_=t.state.layout,b=e.nativeEvent,w=b.layerX,x=b.layerY,S={left:w/v,top:x/v,e};if(t.state.droppingDOMNode){if(t.state.droppingPosition){var E=t.state.droppingPosition,C=E.left,T=E.top;(C!=w||T!=x)&&t.setState({droppingPosition:S})}}else{var O={cols:u,margin:s,maxRows:h,rowHeight:c,containerWidth:f,containerPadding:p||s},R=(0,l.calcXY)(O,x,w,m.w,m.h);t.setState({droppingDOMNode:i.createElement("div",{key:m.i}),droppingPosition:S,layout:[].concat(d(_),[y(y({},m),{},{x:R.x,y:R.y,static:!1,isDraggable:!0})])})}})),C(S(t),"removeDroppingPlaceholder",(function(){var e=t.props,n=e.droppingItem,r=e.cols,i=t.state.layout,o=(0,s.compact)(i.filter((function(t){return t.i!==n.i})),(0,s.compactType)(t.props),r);t.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),C(S(t),"onDragLeave",(function(e){e.preventDefault(),e.stopPropagation(),t.dragEnterCounter--,0===t.dragEnterCounter&&t.removeDroppingPlaceholder()})),C(S(t),"onDragEnter",(function(e){e.preventDefault(),e.stopPropagation(),t.dragEnterCounter++})),C(S(t),"onDrop",(function(e){e.preventDefault(),e.stopPropagation();var n=t.props.droppingItem,r=t.state.layout,i=r.find((function(t){return t.i===n.i}));t.dragEnterCounter=0,t.removeDroppingPlaceholder(),t.props.onDrop(r,i,e)})),t}return e=p,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n;return e.activeDrag?null:((0,o.default)(t.layout,e.propsLayout)&&t.compactType===e.compactType?(0,s.childrenEqual)(t.children,e.children)||(n=e.layout):n=t.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,s.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(t,e){return this.props.children!==t.children||!(0,s.fastRGLPropsEqual)(this.props,t,o.default)||this.state.activeDrag!==e.activeDrag||this.state.mounted!==e.mounted||this.state.droppingPosition!==e.droppingPosition}},{key:"componentDidUpdate",value:function(t,e){if(!this.state.activeDrag){var n=this.state.layout,r=e.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var t=(0,s.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*e+"px"}}},{key:"onLayoutMaybeChanged",value:function(t,e){e||(e=this.state.layout),(0,o.default)(e,t)||this.props.onLayoutChange(t)}},{key:"placeholder",value:function(){var t=this.state.activeDrag;if(!t)return null;var e=this.props,n=e.width,r=e.cols,o=e.margin,a=e.containerPadding,s=e.rowHeight,l=e.maxRows,c=e.useCSSTransforms,h=e.transformScale;return i.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:h},i.createElement("div",null))}},{key:"processGridItem",value:function(t,e){if(t&&t.key){var n=(0,s.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;var r=this.props,o=r.width,a=r.cols,l=r.margin,c=r.containerPadding,h=r.rowHeight,f=r.maxRows,d=r.isDraggable,p=r.isResizable,y=r.isBounded,v=r.useCSSTransforms,g=r.transformScale,m=r.draggableCancel,_=r.draggableHandle,b=r.resizeHandles,w=r.resizeHandle,x=this.state,S=x.mounted,E=x.droppingPosition,C="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&d,k="boolean"==typeof n.isResizable?n.isResizable:!n.static&&p,P=n.resizeHandles||b,T=C&&y&&!1!==n.isBounded;return i.createElement(u.default,{containerWidth:o,cols:a,margin:l,containerPadding:c||l,maxRows:f,rowHeight:h,cancel:m,handle:_,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:C,isResizable:k,isBounded:T,useCSSTransforms:v&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:e?E:void 0,resizeHandles:P,resizeHandle:w},t)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.style,o=e.isDroppable,l=e.innerRef,u=(0,a.default)(k,n),c=y({height:this.containerHeight()},r);return i.createElement("div",{ref:l,className:u,style:c,onDrop:o?this.onDrop:s.noop,onDragLeave:o?this.onDragLeave:s.noop,onDragEnter:o?this.onDragEnter:s.noop,onDragOver:o?this.onDragOver:s.noop},i.Children.map(this.props.children,(function(e){return t.processGridItem(e)})),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.Component);e.default=T,C(T,"displayName","ReactGridLayout"),C(T,"propTypes",c.default),C(T,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},2886:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizeHandleType=e.resizeHandleAxesType=e.default=void 0;var r=o(n(5697)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}var a=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));e.resizeHandleAxesType=a;var s=r.default.oneOfType([r.default.node,r.default.func]);e.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(t){t.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;void 0!==e&&n(7493).validateLayout(e,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(t,e){var n=t[e],r={};i.default.Children.forEach(n,(function(t){if(null!=(null==t?void 0:t.key)){if(r[t.key])throw new Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');r[t.key]=!0}}))},innerRef:r.default.any};e.default=l},3973:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=f(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=h(n(5697)),a=h(n(2307)),s=n(7493),l=n(5651),u=h(n(9580)),c=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(f=function(t){return t?n:e})(t)}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function _(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){return Object.prototype.toString.call(t)};function E(t,e){return null==t?null:Array.isArray(t)?t:t[e]}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(p,t);var e,n,r,o,h,f=(o=p,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(o);if(h){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function p(){var t;v(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(b(t=f.call.apply(f,[this].concat(n))),"state",t.generateInitialState()),x(b(t),"onLayoutChange",(function(e){t.props.onLayoutChange(e,y(y({},t.props.layouts),{},x({},t.state.breakpoint,e)))})),t}return e=p,r=[{key:"getDerivedStateFromProps",value:function(t,e){if(!(0,a.default)(t.layouts,e.layouts)){var n=e.breakpoint,r=e.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,r,t.compactType),layouts:t.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var t=this.props,e=t.width,n=t.breakpoints,r=t.layouts,i=t.cols,o=(0,l.getBreakpointFromWidth)(n,e),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}}},{key:"componentDidUpdate",value:function(t){this.props.width==t.width&&this.props.breakpoint===t.breakpoint&&(0,a.default)(this.props.breakpoints,t.breakpoints)&&(0,a.default)(this.props.cols,t.cols)||this.onWidthChange(t)}},{key:"onWidthChange",value:function(t){var e=this.props,n=e.breakpoints,r=e.cols,i=e.layouts,o=e.compactType,a=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(a,r),h=y({},i);if(u!==a||t.breakpoints!==n||t.cols!==r){u in h||(h[u]=(0,s.cloneLayout)(this.state.layout));var f=(0,l.findOrGenerateResponsiveLayout)(h,n,a,u,c,o);f=(0,s.synchronizeLayoutWithChildren)(f,this.props.children,c,o,this.props.allowOverlap),h[a]=f,this.props.onLayoutChange(f,h),this.props.onBreakpointChange(a,c),this.setState({breakpoint:a,layout:f,cols:c})}var d=E(this.props.margin,a),p=E(this.props.containerPadding,a);this.props.onWidthChange(this.props.width,d,c,p)}},{key:"render",value:function(){var t=this.props,e=(t.breakpoint,t.breakpoints,t.cols,t.layouts,t.margin),n=t.containerPadding,r=(t.onBreakpointChange,t.onLayoutChange,t.onWidthChange,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,c));return i.createElement(u.default,d({},r,{margin:E(e,this.state.breakpoint),containerPadding:E(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(i.Component);e.default=C,x(C,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(t,e){if("[object Object]"!==S(t[e]))throw new Error("Layout property must be an object. Received: "+S(t[e]));Object.keys(t[e]).forEach((function(e){if(!(e in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[e],"layouts."+e)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),x(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},7373:(t,e)=>{"use strict";function n(t){var e=t.margin,n=t.containerPadding,r=t.containerWidth,i=t.cols;return(r-e[0]*(i-1)-2*n[0])/i}function r(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function i(t,e,n){return Math.max(Math.min(t,n),e)}Object.defineProperty(e,"__esModule",{value:!0}),e.calcGridColWidth=n,e.calcGridItemPosition=function(t,e,i,o,a,s){var l=t.margin,u=t.containerPadding,c=t.rowHeight,h=n(t),f={};return s&&s.resizing?(f.width=Math.round(s.resizing.width),f.height=Math.round(s.resizing.height)):(f.width=r(o,h,l[0]),f.height=r(a,c,l[1])),s&&s.dragging?(f.top=Math.round(s.dragging.top),f.left=Math.round(s.dragging.left)):(f.top=Math.round((c+l[1])*i+u[1]),f.left=Math.round((h+l[0])*e+u[0])),f},e.calcGridItemWHPx=r,e.calcWH=function(t,e,r,o,a){var s=t.margin,l=t.maxRows,u=t.cols,c=t.rowHeight,h=n(t),f=Math.round((e+s[0])/(h+s[0])),d=Math.round((r+s[1])/(c+s[1]));return{w:f=i(f,0,u-o),h:d=i(d,0,l-a)}},e.calcXY=function(t,e,r,o,a){var s=t.margin,l=t.cols,u=t.rowHeight,c=t.maxRows,h=n(t),f=Math.round((r-s[0])/(h+s[0])),d=Math.round((e-s[1])/(u+s[1]));return{x:f=i(f,0,l-o),y:d=i(d,0,c-a)}},e.clamp=i},7135:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=function(t){var e;return e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(m,e);var n,r,o,l,u=(n=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(r){var i=v(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return p(this,t)});function m(){var t;h(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(y(t=u.call.apply(u,[this].concat(n))),"state",{width:1280}),g(y(t),"elementRef",i.createRef()),g(y(t),"mounted",!1),g(y(t),"onWindowResize",(function(){if(t.mounted){var e=t.elementRef.current;e instanceof HTMLElement&&e.offsetWidth&&t.setState({width:e.offsetWidth})}})),t}return o=m,(l=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var e=this.props,n=e.measureBeforeMount,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,s);return n&&!this.mounted?i.createElement("div",{className:(0,a.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):i.createElement(t,c({innerRef:this.elementRef},r,this.state))}}])&&f(o.prototype,l),Object.defineProperty(o,"prototype",{writable:!1}),m}(i.Component),g(e,"defaultProps",{measureBeforeMount:!1}),g(e,"propTypes",{measureBeforeMount:o.default.bool}),e};var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=l(n(5697)),a=l(n(6010)),s=["measureBeforeMount"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1362:t=>{t.exports=function(t,e,n){return t===e||t.className===e.className&&n(t.style,e.style)&&t.width===e.width&&t.autoSize===e.autoSize&&t.cols===e.cols&&t.draggableCancel===e.draggableCancel&&t.draggableHandle===e.draggableHandle&&n(t.verticalCompact,e.verticalCompact)&&n(t.compactType,e.compactType)&&n(t.layout,e.layout)&&n(t.margin,e.margin)&&n(t.containerPadding,e.containerPadding)&&t.rowHeight===e.rowHeight&&t.maxRows===e.maxRows&&t.isBounded===e.isBounded&&t.isDraggable===e.isDraggable&&t.isResizable===e.isResizable&&t.allowOverlap===e.allowOverlap&&t.preventCollision===e.preventCollision&&t.useCSSTransforms===e.useCSSTransforms&&t.transformScale===e.transformScale&&t.isDroppable===e.isDroppable&&n(t.resizeHandles,e.resizeHandles)&&n(t.resizeHandle,e.resizeHandle)&&t.onLayoutChange===e.onLayoutChange&&t.onDragStart===e.onDragStart&&t.onDrag===e.onDrag&&t.onDragStop===e.onDragStop&&t.onResizeStart===e.onResizeStart&&t.onResize===e.onResize&&t.onResizeStop===e.onResizeStop&&t.onDrop===e.onDrop&&n(t.droppingItem,e.droppingItem)&&n(t.innerRef,e.innerRef)}},5651:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findOrGenerateResponsiveLayout=function(t,e,n,o,a,s){if(t[n])return(0,r.cloneLayout)(t[n]);for(var l=t[o],u=i(e),c=u.slice(u.indexOf(n)),h=0,f=c.length;h<f;h++){var d=c[h];if(t[d]){l=t[d];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},e.getBreakpointFromWidth=function(t,e){for(var n=i(t),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];e>t[s]&&(r=s)}return r},e.getColsFromBreakpoint=function(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]},e.sortBreakpoints=i;var r=n(7493);function i(t){return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))}},7493:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bottom=u,e.childrenEqual=function(t,e){return(0,r.default)(i.default.Children.map(t,(function(t){return null==t?void 0:t.key})),i.default.Children.map(e,(function(t){return null==t?void 0:t.key})))},e.cloneLayout=c,e.cloneLayoutItem=f,e.collides=p,e.compact=y,e.compactItem=m,e.compactType=function(t){var e=t||{},n=e.verticalCompact,r=e.compactType;return!1===n?null:r},e.correctBounds=_,e.fastPositionEqual=function(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height},e.fastRGLPropsEqual=void 0,e.getAllCollisions=x,e.getFirstCollision=w,e.getLayoutItem=b,e.getStatics=S,e.modifyLayout=h,e.moveElement=E,e.moveElementAwayFromCollision=C,e.noop=void 0,e.perc=function(t){return 100*t+"%"},e.setTopLeft=function(t){var e=t.top,n=t.left,r=t.width,i=t.height;return{top:"".concat(e,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.setTransform=function(t){var e=t.top,n=t.left,r=t.width,i=t.height,o="translate(".concat(n,"px,").concat(e,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.sortLayoutItems=k,e.sortLayoutItemsByColRow=T,e.sortLayoutItemsByRowCol=P,e.synchronizeLayoutWithChildren=function(t,e,n,r,o){t=t||[];var a=[];i.default.Children.forEach(e,(function(e){if(null!=(null==e?void 0:e.key)){var n=b(t,String(e.key));if(n)a.push(f(n));else{var r=e.props["data-grid"]||e.props._grid;r?a.push(f(s(s({},r),{},{i:e.key}))):a.push(f({w:1,h:1,x:0,y:u(a),i:String(e.key)}))}}}));var l=_(a,{cols:n});return o?l:y(l,r,n)},e.validateLayout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,i=t.length;r<i;r++)for(var o=t[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[a]+" must be a number!")},e.withLayoutItem=function(t,e,n){var r=b(t,e);return r?[t=h(t,r=n(f(r))),r]:[t,null]};var r=o(n(2307)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e,n=0,r=0,i=t.length;r<i;r++)(e=t[r].y+t[r].h)>n&&(n=e);return n}function c(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=f(t[n]);return e}function h(t,e){for(var n=Array(t.length),r=0,i=t.length;r<i;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function f(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}var d=n(1362);function p(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function y(t,e,n){for(var r=S(t),i=k(t,e),o=Array(t.length),a=0,s=i.length;a<s;a++){var l=f(i[a]);l.static||(l=m(r,l,e,n,i),r.push(l)),o[t.indexOf(i[a])]=l,l.moved=!1}return o}e.fastRGLPropsEqual=d;var v={x:"w",y:"h"};function g(t,e,n,r){var i=v[r];e[r]+=1;for(var o=t.map((function(t){return t.i})).indexOf(e.i)+1;o<t.length;o++){var a=t[o];if(!a.static){if(a.y>e.y+e.h)break;p(e,a)&&g(t,a,n+e[i],r)}}e[r]=n}function m(t,e,n,r,i){var o,a="horizontal"===n;if("vertical"===n)for(e.y=Math.min(u(t),e.y);e.y>0&&!w(t,e);)e.y--;else if(a)for(;e.x>0&&!w(t,e);)e.x--;for(;o=w(t,e);)a?g(i,e,o.x+o.w,"x"):g(i,e,o.y+o.h,"y"),a&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function _(t,e){for(var n=S(t),r=0,i=t.length;r<i;r++){var o=t[r];if(o.x+o.w>e.cols&&(o.x=e.cols-o.w),o.x<0&&(o.x=0,o.w=e.cols),o.static)for(;w(n,o);)o.y++;else n.push(o)}return t}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function w(t,e){for(var n=0,r=t.length;n<r;n++)if(p(t[n],e))return t[n]}function x(t,e){return t.filter((function(t){return p(t,e)}))}function S(t){return t.filter((function(t){return t.static}))}function E(t,e,n,r,i,o,a,s,l){if(e.static&&!0!==e.isDraggable)return t;if(e.y===r&&e.x===n)return t;"Moving element ".concat(e.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(e.x,",").concat(e.y,"]");var u=e.x,h=e.y;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=!0;var f=k(t,a);("vertical"===a&&"number"==typeof r?h>=r:"horizontal"===a&&"number"==typeof n&&u>=n)&&(f=f.reverse());var d=x(f,e),p=d.length>0;if(p&&l)return c(t);if(p&&o)return"Collision prevented on ".concat(e.i,", reverting."),e.x=u,e.y=h,e.moved=!1,t;for(var y=0,v=d.length;y<v;y++){var g=d[y];"Resolving collision between ".concat(e.i," at [").concat(e.x,",").concat(e.y,"] and ").concat(g.i," at [").concat(g.x,",").concat(g.y,"]"),g.moved||(t=g.static?C(t,g,e,i,a,s):C(t,e,g,i,a,s))}return t}function C(t,e,n,r,i,o){var a="horizontal"===i,s="horizontal"!==i,l=e.static;if(r){r=!1;var u={x:a?Math.max(e.x-n.w,0):n.x,y:s?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!w(t,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),E(t,n,a?u.x:void 0,s?u.y:void 0,r,l,i,o)}return E(t,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i,o)}function k(t,e){return"horizontal"===e?T(t):"vertical"===e?P(t):t}function P(t){return t.slice(0).sort((function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1}))}function T(t){return t.slice(0).sort((function(t,e){return t.x>e.x||t.x===e.x&&t.y>e.y?1:-1}))}e.noop=function(){}},9968:(t,e,n)=>{t.exports=n(9580).default,t.exports.utils=n(7493),t.exports.Responsive=n(3973).default,t.exports.Responsive.utils=n(5651),t.exports.WidthProvider=n(7135).default},722:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),a=(i=n(9590))&&i.__esModule?i:{default:i},s=n(5741);function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,t);var e,n,r,i,s=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(i){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=s.call.apply(s,[this].concat(n))),"mounted",!1),v(p(t),"isReady",!1),v(p(t),"isPlaying",!1),v(p(t),"isLoading",!0),v(p(t),"loadOnReady",null),v(p(t),"startOnPlay",!0),v(p(t),"seekOnPlay",null),v(p(t),"onDurationCalled",!1),v(p(t),"handlePlayerMount",(function(e){t.player=e,t.player.load(t.props.url),t.progress()})),v(p(t),"getInternalPlayer",(function(e){return t.player?t.player[e]:null})),v(p(t),"progress",(function(){if(t.props.url&&t.player&&t.isReady){var e=t.getCurrentTime()||0,n=t.getSecondsLoaded(),r=t.getDuration();if(r){var i={playedSeconds:e,played:e/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===t.prevPlayed&&i.loadedSeconds===t.prevLoaded||t.props.onProgress(i),t.prevPlayed=i.playedSeconds,t.prevLoaded=i.loadedSeconds}}t.progressTimeout=setTimeout(t.progress,t.props.progressFrequency||t.props.progressInterval)})),v(p(t),"handleReady",(function(){if(t.mounted){t.isReady=!0,t.isLoading=!1;var e=t.props,n=e.onReady,r=e.playing,i=e.volume,o=e.muted;n(),o||null===i||t.player.setVolume(i),t.loadOnReady?(t.player.load(t.loadOnReady,!0),t.loadOnReady=null):r&&t.player.play(),t.handleDurationCheck()}})),v(p(t),"handlePlay",(function(){t.isPlaying=!0,t.isLoading=!1;var e=t.props,n=e.onStart,r=e.onPlay,i=e.playbackRate;t.startOnPlay&&(t.player.setPlaybackRate&&1!==i&&t.player.setPlaybackRate(i),n(),t.startOnPlay=!1),r(),t.seekOnPlay&&(t.seekTo(t.seekOnPlay),t.seekOnPlay=null),t.handleDurationCheck()})),v(p(t),"handlePause",(function(e){t.isPlaying=!1,t.isLoading||t.props.onPause(e)})),v(p(t),"handleEnded",(function(){var e=t.props,n=e.activePlayer,r=e.loop,i=e.onEnded;n.loopOnEnded&&r&&t.seekTo(0),r||(t.isPlaying=!1,i())})),v(p(t),"handleError",(function(){var e;t.isLoading=!1,(e=t.props).onError.apply(e,arguments)})),v(p(t),"handleDurationCheck",(function(){clearTimeout(t.durationCheckTimeout);var e=t.getDuration();e?t.onDurationCalled||(t.props.onDuration(e),t.onDurationCalled=!0):t.durationCheckTimeout=setTimeout(t.handleDurationCheck,100)})),v(p(t),"handleLoaded",(function(){t.isLoading=!1})),t}return e=l,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,l=n.playbackRate,u=n.pip,c=n.loop,h=n.activePlayer;if(!(0,a.default)(t.url,r)){if(this.isLoading&&!h.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}t.playing||!i||this.isPlaying||this.player.play(),t.playing&&!i&&this.isPlaying&&this.player.pause(),!t.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&null!==o&&this.player.setVolume(o),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return e.player.setVolume(o)})))),t.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(t,e){var n=this;if(!this.isReady&&0!==t)return this.seekOnPlay=t,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(e?"fraction"===e:t>0&&t<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*t):void console.warn("ReactPlayer: could not seek using fraction duration not yet available")}this.player.seekTo(t)}},{key:"render",value:function(){var t=this.props.activePlayer;return t?o.default.createElement(t,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&h(e.prototype,n),l}(o.Component);e.default=g,v(g,"displayName","Player"),v(g,"propTypes",s.propTypes),v(g,"defaultProps",s.defaultProps)},3855:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}(n(7294));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y="64px",v={},g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(g,t);var e,n,r,o,a=(r=g,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){var t;l(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(f(t=a.call.apply(a,[this].concat(n))),"mounted",!1),p(f(t),"state",{image:null}),p(f(t),"handleKeyPress",(function(e){"Enter"!==e.key&&" "!==e.key||t.props.onClick()})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.url,r=e.light;t.url===n&&t.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(t){var e=this,n=t.url,r=t.light;if("string"!=typeof r){if(!v[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(t){return t.json()})).then((function(t){if(t.thumbnail_url&&e.mounted){var r=t.thumbnail_url.replace("height=100","height=480");e.setState({image:r}),v[n]=r}}));this.setState({image:v[n]})}else this.setState({image:r})}},{key:"render",value:function(){var t=this.props,e=t.onClick,n=t.playIcon,r=t.previewTabIndex,o=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:y,width:y,height:y},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:e,tabIndex:r,onKeyPress:this.handleKeyPress},n||u)}}])&&u(e.prototype,n),g}(i.Component);e.default=g},390:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createReactPlayer=void 0;var r=C(n(7294)),i=c(n(9996)),o=c(n(845)),a=c(n(9590)),s=n(5741),l=n(8045),u=c(n(722));function c(t){return t&&t.__esModule?t:{default:t}}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}function b(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return E=function(){return t},t}function C(t){if(t&&t.__esModule)return t;if(null===t||"object"!==h(t)&&"function"!=typeof t)return{default:t};var e=E();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var k=(0,r.lazy)((function(){return Promise.resolve().then((function(){return C(n(3855))}))})),P="undefined"!=typeof window&&window.document,T=void 0!==n.g&&n.g.window&&n.g.window.document,O=Object.keys(s.propTypes),R=P||T?r.Suspense:function(){return null},A=[];e.createReactPlayer=function(t,e){var n,c;return c=n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(C,n);var c,h,f,v,E=(f=C,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(f);if(v){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function C(){var n;g(this,C);for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return S(w(n=E.call.apply(E,[this].concat(c))),"state",{showPreview:!!n.props.light}),S(w(n),"references",{wrapper:function(t){n.wrapper=t},player:function(t){n.player=t}}),S(w(n),"handleClickPreview",(function(t){n.setState({showPreview:!1}),n.props.onClickPreview(t)})),S(w(n),"showPreview",(function(){n.setState({showPreview:!0})})),S(w(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),S(w(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),S(w(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),S(w(n),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(t):null})),S(w(n),"seekTo",(function(t,e){if(!n.player)return null;n.player.seekTo(t,e)})),S(w(n),"handleReady",(function(){n.props.onReady(w(n))})),S(w(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(A,y(t));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return e||null}))),S(w(n),"getConfig",(0,o.default)((function(t,e){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[e]||{},r,r[e]||{}])}))),S(w(n),"getAttributes",(0,o.default)((function(t){return(0,l.omit)(n.props,O)}))),S(w(n),"renderActivePlayer",(function(t){if(!t)return null;var e=n.getActivePlayer(t);if(!e)return null;var i=n.getConfig(t,e.key);return r.default.createElement(u.default,p({},n.props,{key:e.key,ref:n.references.player,config:i,activePlayer:e.lazyPlayer||e,onReady:n.handleReady}))})),n}return c=C,h=[{key:"shouldComponentUpdate",value:function(t,e){return!(0,a.default)(this.props,t)||!(0,a.default)(this.state,e)}},{key:"componentDidUpdate",value:function(t){var e=this.props.light;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(t){if(!t)return null;var e=this.props,n=e.light,i=e.playIcon,o=e.previewTabIndex;return r.default.createElement(k,{url:t,light:n,playIcon:i,previewTabIndex:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.style,i=t.width,o=t.height,a=t.fallback,s=t.wrapper,l=this.state.showPreview,u=this.getAttributes(e);return r.default.createElement(s,p({ref:this.references.wrapper,style:d(d({},n),{},{width:i,height:o})},u),r.default.createElement(R,{fallback:a},l?this.renderPreview(e):this.renderActivePlayer(e)))}}],h&&m(c.prototype,h),C}(r.Component),S(n,"displayName","ReactPlayer"),S(n,"propTypes",s.propTypes),S(n,"defaultProps",s.defaultProps),S(n,"addCustomPlayer",(function(t){A.push(t)})),S(n,"removeCustomPlayers",(function(){A.length=0})),S(n,"canPlay",(function(e){for(var n=0,r=[].concat(A,y(t));n<r.length;n++)if(r[n].canPlay(e))return!0;return!1})),S(n,"canEnablePIP",(function(e){for(var n=0,r=[].concat(A,y(t));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(e))return!0}return!1})),c}},2004:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=n(6497))&&r.__esModule?r:{default:r},o=n(390),a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);e.Z=s},1776:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var r=n(8045);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;e.MATCH_URL_YOUTUBE=o;var a=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;e.MATCH_URL_SOUNDCLOUD=a;var s=/vimeo\.com\/.+/;e.MATCH_URL_VIMEO=s;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;e.MATCH_URL_FACEBOOK=l;var u=/^https?:\/\/fb\.watch\/.+$/;e.MATCH_URL_FACEBOOK_WATCH=u;var c=/streamable\.com\/([a-z0-9]+)$/;e.MATCH_URL_STREAMABLE=c;var h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;e.MATCH_URL_WISTIA=h;var f=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;e.MATCH_URL_TWITCH_VIDEO=f;var d=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;e.MATCH_URL_TWITCH_CHANNEL=d;var p=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;e.MATCH_URL_DAILYMOTION=p;var y=/mixcloud\.com\/([^/]+\/[^/]+)/;e.MATCH_URL_MIXCLOUD=y;var v=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;e.MATCH_URL_VIDYARD=v;var g=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;e.MATCH_URL_KALTURA=g;var m=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;e.AUDIO_EXTENSIONS=m;var _=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;e.VIDEO_EXTENSIONS=_;var b=/\.(m3u8)($|\?)/i;e.HLS_EXTENSIONS=b;var w=/\.(mpd)($|\?)/i;e.DASH_EXTENSIONS=w;var x=/\.(flv)($|\?)/i;e.FLV_EXTENSIONS=x;var S={youtube:function(t){return t instanceof Array?t.every((function(t){return o.test(t)})):o.test(t)},soundcloud:function(t){return a.test(t)&&!m.test(t)},vimeo:function(t){return s.test(t)&&!_.test(t)&&!b.test(t)},facebook:function(t){return l.test(t)||u.test(t)},streamable:function(t){return c.test(t)},wistia:function(t){return h.test(t)},twitch:function(t){return f.test(t)||d.test(t)},dailymotion:function(t){return p.test(t)},mixcloud:function(t){return y.test(t)},vidyard:function(t){return v.test(t)},kaltura:function(t){return g.test(t)},file:function t(e){if(e instanceof Array){var n,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"==typeof a&&t(a))return!0;if(t(a.src))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(e)&&!(0,r.isBlobUrl)(e))||m.test(e)||_.test(e)||b.test(e)||w.test(e)||x.test(e)}};e.canPlay=S},6807:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(s){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){var t;h(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(y(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),g(y(t),"onDurationChange",(function(){var e=t.getDuration();t.props.onDuration(e)})),g(y(t),"mute",(function(){t.callPlayer("setMuted",!0)})),g(y(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),g(y(t),"ref",(function(e){t.container=e})),t}return e=m,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e,n,r=this,i=this.props,s=i.controls,l=i.config,h=i.onError,f=i.playing,d=(e=t.match(a.MATCH_URL_DAILYMOTION),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];this.player?this.player.load(d,{start:(0,o.parseStartTime)(t),autoplay:f}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(t){return t.player})).then((function(e){if(r.container){var n=e.player;r.player=new n(r.container,{width:"100%",height:"100%",video:d,params:u({controls:s,autoplay:r.props.playing,mute:r.props.muted,start:(0,o.parseStartTime)(t),origin:window.location.origin},l.params),events:{apiready:r.props.onReady,seeked:function(){return r.props.onSeek(r.player.currentTime)},video_end:r.props.onEnded,durationchange:r.onDurationChange,pause:r.props.onPause,playing:r.props.onPlay,waiting:r.props.onBuffer,error:function(t){return h(t)}}})}}),h)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&f(e.prototype,n),m}(i.Component);e.default=m,g(m,"displayName","DailyMotion"),g(m,"canPlay",a.canPlay.dailymotion),g(m,"loopOnEnded",!0)},1972:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",m="facebook-player-",_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(_,t);var e,n,r,a,s=(r=_,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function _(){var t;u(this,_);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"playerID",t.props.config.playerId||"".concat(m).concat((0,o.randomString)())),y(d(t),"mute",(function(){t.callPlayer("mute")})),y(d(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=_,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;e?(0,o.getSDK)(v,"FB",g).then((function(t){return t.XFBML.parse()})):(0,o.getSDK)(v,"FB",g).then((function(t){t.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),t.Event.subscribe("xfbml.render",(function(t){n.props.onLoaded()})),t.Event.subscribe("xfbml.ready",(function(t){"video"===t.type&&t.id===n.playerID&&(n.player=t.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},t))}}])&&c(e.prototype,n),_}(i.Component);e.default=_,y(_,"displayName","Facebook"),y(_,"canPlay",a.canPlay.facebook),y(_,"loopOnEnded",!0)},4926:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="undefined"!=typeof navigator,g=v&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,m=v&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,_=/www\.dropbox\.com\/.+/,b=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,s,v=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){var t;u(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=v.call.apply(v,[this].concat(n))),"onReady",(function(){var e;return(e=t.props).onReady.apply(e,arguments)})),y(d(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),y(d(t),"onBuffer",(function(){var e;return(e=t.props).onBuffer.apply(e,arguments)})),y(d(t),"onBufferEnd",(function(){var e;return(e=t.props).onBufferEnd.apply(e,arguments)})),y(d(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),y(d(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),y(d(t),"onError",(function(){var e;return(e=t.props).onError.apply(e,arguments)})),y(d(t),"onEnablePIP",(function(){var e;return(e=t.props).onEnablePIP.apply(e,arguments)})),y(d(t),"onDisablePIP",(function(e){var n=t.props,r=n.onDisablePIP,i=n.playing;r(e),i&&t.play()})),y(d(t),"onPresentationModeChange",(function(e){if(t.player&&(0,o.supportsWebKitPresentationMode)(t.player)){var n=t.player.webkitPresentationMode;"picture-in-picture"===n?t.onEnablePIP(e):"inline"===n&&t.onDisablePIP(e)}})),y(d(t),"onSeek",(function(e){t.props.onSeek(e.target.currentTime)})),y(d(t),"mute",(function(){t.player.muted=!0})),y(d(t),"unmute",(function(){t.player.muted=!1})),y(d(t),"renderSourceElement",(function(t,e){return"string"==typeof t?i.default.createElement("source",{key:e,src:t}):i.default.createElement("source",l({key:e},t))})),y(d(t),"renderTrack",(function(t,e){return i.default.createElement("track",l({key:e},t))})),y(d(t),"ref",(function(e){t.player&&(t.prevPlayer=t.player),t.player=e})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),m&&this.player.load()}},{key:"componentDidUpdate",value:function(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url===t.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(t){var e=this.props,n=e.url,r=e.playsinline;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||t.addEventListener("canplay",this.onReady),r&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(t,e){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(e)||t.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(t){return!t.config.forceVideo&&!t.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio)}},{key:"shouldUseHLS",value:function(t){return!!this.props.config.forceHLS||!m&&(a.HLS_EXTENSIONS.test(t)||b.test(t))}},{key:"shouldUseDASH",value:function(t){return a.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(t){return a.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}},{key:"load",value:function(t){var e=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(e.hls=new n(i),e.hls.on(n.Events.MANIFEST_PARSED,(function(){e.props.onReady()})),e.hls.on(n.Events.ERROR,(function(t,r){e.props.onError(t,r,e.hls,n)})),b.test(t)){var r=t.match(b)[1];e.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else e.hls.loadSource(t);e.hls.attachMedia(e.player),e.props.onLoaded()})),this.shouldUseDASH(t)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){e.dash=n.MediaPlayer().create(),e.dash.initialize(e.player,t,e.props.playing),e.dash.on("error",e.props.onError),parseInt(a)<3?e.dash.getDebug().setLogToBrowserConsole(!1):e.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),e.props.onLoaded()})),this.shouldUseFLV(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){e.flv=n.createPlayer({type:"flv",url:t}),e.flv.attachMediaElement(e.player),e.flv.load(),e.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,o.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var t=this.player.play();t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(t){this.player.currentTime=t}},{key:"setVolume",value:function(t){this.player.volume=t}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(t){this.player.playbackRate=t}},{key:"getDuration",value:function(){if(!this.player)return null;var t=this.player,e=t.duration,n=t.seekable;return e===1/0&&n.length>0?n.end(n.length-1):e}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var t=this.player.buffered;if(0===t.length)return 0;var e=t.end(t.length-1),n=this.getDuration();return e>n?n:e}},{key:"getSource",value:function(t){var e=this.shouldUseHLS(t),n=this.shouldUseDASH(t),r=this.shouldUseFLV(t);if(!(t instanceof Array||(0,o.isMediaStream)(t)||e||n||r))return _.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.playing,r=t.loop,o=t.controls,a=t.muted,s=t.config,u=t.width,c=t.height,h=this.shouldUseAudio(this.props)?"audio":"video",f={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(h,l({ref:this.ref,src:this.getSource(e),style:f,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),e instanceof Array&&e.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(e.prototype,n),g}(i.Component);e.default=w,y(w,"displayName","FilePlayer"),y(w,"canPlay",a.canPlay.file)},3911:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(y,t);var e,n,r,a,s=(r=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(a){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function y(){var t;l(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(f(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),p(f(t),"duration",null),p(f(t),"currentTime",null),p(f(t),"secondsLoaded",null),p(f(t),"mute",(function(){t.callPlayer("mute")})),p(f(t),"unmute",(function(){t.callPlayer("unmute")})),p(f(t),"ref",(function(e){t.iframe=e})),t}return e=y,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.on("ready",(function(){e.player.isReady=!0,e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.player.setLoop(e.props.loop),e.props.muted&&e.player.mute(),setTimeout((function(){e.props.onReady()}))})))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(e.prototype,n),y}(i.Component);e.default=y,p(y,"displayName","Kaltura"),p(y,"canPlay",a.canPlay.kaltura)},143:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,s,l=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function g(){var t;c(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"duration",null),v(p(t),"currentTime",null),v(p(t),"secondsLoaded",null),v(p(t),"mute",(function(){})),v(p(t),"unmute",(function(){})),v(p(t),"ref",(function(e){t.iframe=e})),t}return e=g,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(t){e.player=t.PlayerWidget(e.iframe),e.player.ready.then((function(){e.player.events.play.on(e.props.onPlay),e.player.events.pause.on(e.props.onPause),e.player.events.ended.on(e.props.onEnded),e.player.events.error.on(e.props.error),e.player.events.progress.on((function(t,n){e.currentTime=t,e.duration=n})),e.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.config,r=e.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&h(e.prototype,n),g}(i.Component);e.default=g,v(g,"displayName","Mixcloud"),v(g,"canPlay",a.canPlay.mixcloud),v(g,"loopOnEnded",!0)},2648:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,t);var e,n,r,a,s=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(a){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"duration",null),v(p(t),"currentTime",null),v(p(t),"fractionLoaded",null),v(p(t),"mute",(function(){t.setVolume(0)})),v(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),v(p(t),"ref",(function(e){t.iframe=e})),t}return e=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;e||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(t){n.currentTime=t.currentPosition/1e3,n.fractionLoaded=t.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(t){return n.props.onError(t)}))),n.player.load(t,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(t){n.duration=t/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",1e3*t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:t,frameBorder:0,allow:"autoplay"})}}])&&h(e.prototype,n),l}(i.Component);e.default=g,v(g,"displayName","SoundCloud"),v(g,"canPlay",a.canPlay.soundcloud),v(g,"loopOnEnded",!0)},993:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(v,t);var e,n,r,s,y=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){var t;l(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(f(t=y.call.apply(y,[this].concat(n))),"callPlayer",o.callPlayer),p(f(t),"duration",null),p(f(t),"currentTime",null),p(f(t),"secondsLoaded",null),p(f(t),"mute",(function(){t.callPlayer("mute")})),p(f(t),"unmute",(function(){t.callPlayer("unmute")})),p(f(t),"ref",(function(e){t.iframe=e})),t}return e=v,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.setLoop(e.props.loop),e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.props.muted&&e.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(t),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&u(e.prototype,n),v}(i.Component);e.default=y,p(y,"displayName","Streamable"),p(y,"canPlay",a.canPlay.streamable)},9482:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="twitch-player-",g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,r,s,g=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function m(){var t;u(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=g.call.apply(g,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"playerID",t.props.config.playerId||"".concat(v).concat((0,o.randomString)())),y(d(t),"mute",(function(){t.callPlayer("setMuted",!0)})),y(d(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playsinline,s=r.onError,u=r.config,c=r.controls,h=a.MATCH_URL_TWITCH_CHANNEL.test(t),f=h?t.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:t.match(a.MATCH_URL_TWITCH_VIDEO)[1];e?h?this.player.setChannel(f):this.player.setVideo("v"+f):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({video:h?"":f,channel:h?f:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!h||c,time:(0,o.parseStartTime)(t)},u.options));var r=e.Player,a=r.READY,s=r.PLAYING,d=r.PAUSE,p=r.ENDED,v=r.ONLINE,g=r.OFFLINE;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(d,n.props.onPause),n.player.addEventListener(p,n.props.onEnded),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(g,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&c(e.prototype,n),m}(i.Component);e.default=g,y(g,"displayName","Twitch"),y(g,"canPlay",a.canPlay.twitch),y(g,"loopOnEnded",!0)},6596:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(g,t);var e,n,r,s,v=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){var t;u(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=v.call.apply(v,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"mute",(function(){t.setVolume(0)})),y(d(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(d(t),"ref",(function(e){t.container=e})),t}return e=g,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.config,s=n.onError,u=n.onDuration,c=t&&t.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(t){e.container&&(t.api.addReadyListener((function(t,n){e.player=n,e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seek",e.props.onSeek),e.player.on("playerComplete",e.props.onEnded)}),c),t.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({uuid:c,container:e.container,autoplay:r?1:0},i.options)),t.api.getPlayerMetadata(c).then((function(t){e.duration=t.length_in_seconds,u(t.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackSpeed",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}],n&&c(e.prototype,n),g}(i.Component);e.default=v,y(v,"displayName","Vidyard"),y(v,"canPlay",a.canPlay.vidyard)},868:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(v,t);var e,n,r,a,s=(r=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){var t;u(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(d(t),"duration",null),y(d(t),"currentTime",null),y(d(t),"secondsLoaded",null),y(d(t),"mute",(function(){t.setVolume(0)})),y(d(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(d(t),"ref",(function(e){t.container=e})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){e.container&&(e.player=new n.Player(e.container,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({url:t,autoplay:e.props.playing,muted:e.props.muted,loop:e.props.loop,playsinline:e.props.playsinline,controls:e.props.controls},e.props.config.playerOptions)),e.player.ready().then((function(){var t=e.container.querySelector("iframe");t.style.width="100%",t.style.height="100%"})).catch(e.props.onError),e.player.on("loaded",(function(){e.props.onReady(),e.refreshDuration()})),e.player.on("play",(function(){e.props.onPlay(),e.refreshDuration()})),e.player.on("pause",e.props.onPause),e.player.on("seeked",(function(t){return e.props.onSeek(t.seconds)})),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.seconds;e.currentTime=n})),e.player.on("progress",(function(t){var n=t.seconds;e.secondsLoaded=n})),e.player.on("bufferstart",e.props.onBuffer),e.player.on("bufferend",e.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var t=this;this.player.getDuration().then((function(e){t.duration=e}))}},{key:"play",value:function(){var t=this.callPlayer("play");t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:t})}}],n&&c(e.prototype,n),v}(i.Component);e.default=v,y(v,"displayName","Vimeo"),y(v,"canPlay",a.canPlay.vimeo),y(v,"forceLoad",!0)},8018:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="wistia-player-",m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){var t;c(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(p(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(p(t),"playerID",t.props.config.playerId||"".concat(g).concat((0,o.randomString)())),v(p(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),v(p(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),v(p(t),"onSeek",(function(){var e;return(e=t.props).onSeek.apply(e,arguments)})),v(p(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),v(p(t),"mute",(function(){t.callPlayer("mute")})),v(p(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,l=n.config,c=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(t){l.customControls&&l.customControls.forEach((function(e){return t.defineControl(e)})),window._wq=window._wq||[],window._wq.push({id:e.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},l.options),onReady:function(t){e.player=t,e.unbind(),e.player.bind("play",e.onPlay),e.player.bind("pause",e.onPause),e.player.bind("seek",e.onSeek),e.player.bind("end",e.onEnded),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(t){this.callPlayer("time",t)}},{key:"setVolume",value:function(t){this.callPlayer("volume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("playbackRate",t)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.url,e=t&&t.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(e);return i.default.createElement("div",{id:this.playerID,key:e,className:n,style:{width:"100%",height:"100%"}})}}],n&&h(e.prototype,n),m}(i.Component);e.default=m,v(m,"displayName","Wistia"),v(m,"canPlay",a.canPlay.wistia),v(m,"loopOnEnded",!0)},356:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,b=/user\/([a-zA-Z0-9_-]+)\/?/,w=/youtube-nocookie\.com/,x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,r,s,l=(r=h,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function h(){var t;f(this,h);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(v(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),m(v(t),"parsePlaylist",(function(e){return e instanceof Array?{listType:"playlist",playlist:e.map(t.getID).join(",")}:_.test(e)?{listType:"playlist",list:c(e.match(_),2)[1].replace(/^UC/,"UU")}:b.test(e)?{listType:"user_uploads",list:c(e.match(b),2)[1]}:{}})),m(v(t),"onStateChange",(function(e){var n=e.data,r=t.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,h=r.config,f=h.playerVars,d=h.onUnstarted,p=window.YT.PlayerState,y=p.UNSTARTED,v=p.PLAYING,g=p.PAUSED,m=p.BUFFERING,_=p.ENDED,b=p.CUED;if(n===y&&d(),n===v&&(i(),s()),n===g&&o(),n===m&&a(),n===_){var w=!!t.callPlayer("getPlaylist");c&&!w&&(f.start?t.seekTo(f.start):t.play()),l()}n===b&&u()})),m(v(t),"mute",(function(){t.callPlayer("mute")})),m(v(t),"unmute",(function(){t.callPlayer("unMute")})),m(v(t),"ref",(function(e){t.container=e})),t}return e=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(t){return!t||t instanceof Array||_.test(t)?null:t.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,l=r.controls,c=r.loop,h=r.config,f=r.onError,d=h.playerVars,p=h.embedOptions,y=this.getID(t);if(e)return _.test(t)||b.test(t)||t instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(t)):void this.player.cueVideoById({videoId:y,startSeconds:(0,o.parseStartTime)(t)||d.start,endSeconds:(0,o.parseEndTime)(t)||d.end});(0,o.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(t){return t.loaded})).then((function(e){n.container&&(n.player=new e.Player(n.container,u({width:"100%",height:"100%",videoId:y,playerVars:u(u({autoplay:i?1:0,mute:a?1:0,controls:l?1:0,start:(0,o.parseStartTime)(t),end:(0,o.parseEndTime)(t),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(t)),d),events:{onReady:function(){c&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(t){return f(t.data)}},host:w.test(t)?"https://www.youtube-nocookie.com":void 0},p)))}),f),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayers callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",t),this.props.playing||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&d(e.prototype,n),h}(i.Component);e.default=x,m(x,"displayName","YouTube"),m(x,"canPlay",a.canPlay.youtube)},6497:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7294),i=n(8045),o=n(1776);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var u=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(356))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(2648))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(868))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(1972))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(993))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(8018))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(9482))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6807))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(143))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6596))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(3911))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(t){return o.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(t)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(4926))}))}))}];e.default=u},5741:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r},o=i.default.string,a=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,h=i.default.object,f=i.default.func,d=i.default.node,p={url:u([o,l,h]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:u([o,s]),height:u([o,s]),style:h,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:u([a,o]),playIcon:d,previewTabIndex:s,fallback:d,wrapper:u([o,f,c({render:f.isRequired})]),config:c({soundcloud:c({options:h}),youtube:c({playerVars:h,embedOptions:h,onUnstarted:f}),facebook:c({appId:o,version:o,playerId:o,attributes:h}),dailymotion:c({params:h}),vimeo:c({playerOptions:h}),file:c({attributes:h,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:h,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:c({options:h,playerId:o,customControls:l}),mixcloud:c({options:h}),twitch:c({options:h,playerId:o}),vidyard:c({options:h})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onProgress:f,onClickPreview:f,onEnablePIP:f,onDisablePIP:f};e.propTypes=p;var y=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:y,onStart:y,onPlay:y,onPause:y,onBuffer:y,onBufferEnd:y,onEnded:y,onError:y,onDuration:y,onSeek:y,onProgress:y,onClickPreview:y,onEnablePIP:y,onDisablePIP:y};e.defaultProps=v},8045:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(t){return h(t,s)},e.parseEndTime=function(t){return h(t,l)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},e.getSDK=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=f(e);return a&&i(a)?Promise.resolve(a):new Promise((function(r,i){if(d[t])d[t].push({resolve:r,reject:i});else{d[t]=[{resolve:r,reject:i}];var a=function(e){d[t].forEach((function(t){return t.resolve(e)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(f(e))}}o(t,(function(r){r?(d[t].forEach((function(t){return t.reject(r)})),d[t]=null):n||a(f(e))}))}}))},e.getConfig=function(t,e){return(0,i.default)(e.config,t.config)},e.omit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(e=[]).concat.apply(e,r),a={},s=Object.keys(t),l=0,u=s;l<u.length;l++){var c=u[l];-1===o.indexOf(c)&&(a[c]=t[c])}return a},e.callPlayer=function(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c  ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=this.player)[t].apply(e,i)},e.isMediaStream=function(t){return"undefined"!=typeof window&&void 0!==window.MediaStream&&t instanceof window.MediaStream},e.isBlobUrl=function(t){return/^blob:/.test(t)},e.supportsWebKitPresentationMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),e=!1===/iPhone|iPod/.test(navigator.userAgent);return t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSetPresentationMode&&e};var r=o(n(9090)),i=o(n(9996));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,u=/(\d+)(h|m|s)/g,c=/^\d+$/;function h(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(u))return function(t){for(var e,n,r=0,i=u.exec(t);null!==i;){var o=(n=3,function(t){if(Array.isArray(t))return t}(e=i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[1],l=o[2];"h"===l&&(r+=60*parseInt(s,10)*60),"m"===l&&(r+=60*parseInt(s,10)),"s"===l&&(r+=parseInt(s,10)),i=u.exec(t)}return r}(r);if(c.test(r))return parseInt(r)}}}function f(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var d={}},2827:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=n(1193),o=n(9069),a=n(448),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var p=function(t){var e,n;function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleRefs={},e.lastHandleRect=null,e.slack=null,e}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n);var l=a.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(t,e){var n=this.props,r=n.minConstraints,i=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!i&&!o)return[t,e];if(o){var a=this.props.width/this.props.height,s=t-this.props.width,l=e-this.props.height;Math.abs(s)>Math.abs(l*a)?e=t/a:t=e*a}var u=t,c=e,h=this.slack||[0,0],f=h[0],d=h[1];return t+=f,e+=d,r&&(t=Math.max(r[0],t),e=Math.max(r[1],e)),i&&(t=Math.min(i[0],t),e=Math.min(i[1],e)),this.slack=[f+(u-t),d+(c-e)],[t,e]},l.resizeHandler=function(t,e){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY;"onResizeStart"===t&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==e&&"s"!==e,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==e&&"w"!==e;if(l||u){var c=e[0],h=e[e.length-1],f=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===h&&(a+=f.left-n.lastHandleRect.left),"n"===c&&(s+=f.top-n.lastHandleRect.top)),n.lastHandleRect=f,"w"===h&&(a=-a),"n"===c&&(s=-s);var d=n.props.width+(l?a/n.props.transformScale:0),p=n.props.height+(u?s/n.props.transformScale:0),y=n.runConstraints(d,p);d=y[0],p=y[1];var v=d!==n.props.width||p!==n.props.height,g="function"==typeof n.props[t]?n.props[t]:null;g&&!("onResize"===t&&!v)&&(null==r.persist||r.persist(),g(r,{node:o,size:{width:d,height:p},handle:e})),"onResizeStop"===t&&n.resetData()}}},l.renderResizeHandle=function(t,e){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:e});if("function"==typeof n)return n(t,e);var i=h({ref:e},"string"==typeof n.type?{}:{handleAxis:t});return r.cloneElement(n,i)},l.render=function(){var t=this,e=this.props,n=e.children,a=e.className,l=e.draggableOpts,c=(e.width,e.height,e.handle,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,e.resizeHandles),f=(e.transformScale,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,s));return(0,o.cloneElement)(n,h(h({},f),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map((function(e){var n,o=null!=(n=t.handleRefs[e])?n:t.handleRefs[e]=r.createRef();return r.createElement(i.DraggableCore,u({},l,{nodeRef:o,key:"resizableHandle-"+e,onStop:t.resizeHandler("onResizeStop",e),onStart:t.resizeHandler("onResizeStart",e),onDrag:t.resizeHandler("onResize",e)}),t.renderResizeHandle(e,o))})))}))},a}(r.Component);e.default=p,p.propTypes=a.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},8735:(t,e,n)=>{"use strict";e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=l(n(5697)),o=l(n(2827)),a=n(448),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var y=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={width:e.props.width,height:e.props.height,propsWidth:e.props.width,propsHeight:e.props.height},e.onResize=function(t,n){var r=n.size;e.props.onResize?(null==t.persist||t.persist(),e.setState(r,(function(){return e.props.onResize&&e.props.onResize(t,n)}))):e.setState(r)},e}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n),i.getDerivedStateFromProps=function(t,e){return e.propsWidth!==t.width||e.propsHeight!==t.height?{width:t.width,height:t.height,propsWidth:t.width,propsHeight:t.height}:null},i.prototype.render=function(){var t=this.props,e=t.handle,n=t.handleSize,i=(t.onResize,t.onResizeStart),a=t.onResizeStop,l=t.draggableOpts,u=t.minConstraints,h=t.maxConstraints,d=t.lockAspectRatio,p=t.axis,y=(t.width,t.height,t.resizeHandles),v=t.style,g=t.transformScale,m=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s);return r.createElement(o.default,{axis:p,draggableOpts:l,handle:e,handleSize:n,height:this.state.height,lockAspectRatio:d,maxConstraints:h,minConstraints:u,onResizeStart:i,onResize:this.onResize,onResizeStop:a,resizeHandles:y,transformScale:g,width:this.state.width},r.createElement("div",c({},m,{style:f(f({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},i}(r.Component);e.default=y,y.propTypes=f(f({},a.resizableProps),{},{children:i.default.element})},448:(t,e,n)=>{"use strict";e.__esModule=!0,e.resizableProps=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r};n(1193);var o={axis:i.default.oneOf(["both","x","y","none"]),className:i.default.string,children:i.default.element.isRequired,draggableOpts:i.default.shape({allowAnyClick:i.default.bool,cancel:i.default.string,children:i.default.node,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:i.default.node,grid:i.default.arrayOf(i.default.number),handle:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number}),height:i.default.number.isRequired,handle:i.default.oneOfType([i.default.node,i.default.func]),handleSize:i.default.arrayOf(i.default.number),lockAspectRatio:i.default.bool,maxConstraints:i.default.arrayOf(i.default.number),minConstraints:i.default.arrayOf(i.default.number),onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,resizeHandles:i.default.arrayOf(i.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:i.default.number,width:i.default.number.isRequired};e.resizableProps=o},9069:(t,e,n)=>{"use strict";e.__esModule=!0,e.cloneElement=function(t,e){return e.style&&t.props.style&&(e.style=a(a({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),i.default.cloneElement(t,e)};var r,i=(r=n(7294))&&r.__esModule?r:{default:r};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1706:(t,e,n)=>{"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(2827).default,t.exports.ResizableBox=n(8735).default},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=v.prototype;var _=m.prototype=new g;_.constructor=m,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function k(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+k(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),P(a,e,n,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+k(s=t[u],u);l+=P(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=P(s=s.value,e,n,c=r+k(s,u++),a);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function T(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var R={current:null};function A(){var t=R.current;if(null===t)throw Error(d(321));return t}var I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error(d(143));return t}},e.Component=v,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null==t)throw Error(d(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return A().useCallback(t,e)},e.useContext=function(t,e){return A().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return A().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return A().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return A().useLayoutEffect(t,e)},e.useMemo=function(t,e){return A().useMemo(t,e)},e.useReducer=function(t,e,n){return A().useReducer(t,e,n)},e.useRef=function(t){return A().useRef(t)},e.useState=function(t){return A().useState(t)},e.version="17.0.2"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(h,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,g=-1,m=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();_=t+m;try{v(!0,t)?w.postMessage(null):(y=!1,v=null)}catch(t){throw w.postMessage(null),t}}else y=!1},n=function(t){v=t,y||(y=!0,w.postMessage(null))},r=function(t,n){g=f((function(){t(e.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function E(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var k=[],P=[],T=1,O=null,R=3,A=!1,I=!1,M=!1;function D(t){for(var e=S(P);null!==e;){if(null===e.callback)E(P);else{if(!(e.startTime<=t))break;E(P),e.sortIndex=e.expirationTime,x(k,e)}e=S(P)}}function L(t){if(M=!1,D(t),!I)if(null!==S(k))I=!0,n(j);else{var e=S(P);null!==e&&r(L,e.startTime-t)}}function j(t,n){I=!1,M&&(M=!1,i()),A=!0;var o=R;try{for(D(n),O=S(k);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,R=O.priorityLevel;var s=a(O.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?O.callback=s:O===S(k)&&E(k),D(n)}else E(k);O=S(k)}if(null!==O)var l=!0;else{var u=S(P);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{O=null,R=o,A=!1}}var F=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||A||(I=!0,n(j))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return S(k)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:T++,callback:o,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,x(P,t),null===S(k)&&t===S(P)&&(M?i():M=!0,r(L,a-s))):(t.sortIndex=l,x(k,t),I||A||(I=!0,n(j))),t},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},2473:t=>{"use strict";t.exports=function(){}},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})();var __webpack_exports__={};(()=>{"use strict";var t=__webpack_require__(7294),e=__webpack_require__(3935),n=__webpack_require__(5697),r=__webpack_require__.n(n),i=__webpack_require__(7398),o=__webpack_require__.n(i),a=__webpack_require__(7037),s=__webpack_require__.n(a),l=__webpack_require__(3311),u=__webpack_require__.n(l),c=__webpack_require__(3063),h=__webpack_require__.n(c),f=__webpack_require__(9734),d=__webpack_require__.n(f),p=__webpack_require__(361),y=__webpack_require__.n(p),v=__webpack_require__(6998),g=__webpack_require__.n(v);function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){return t.start_time<e.end_time&&t.end_time>e.start_time}function w(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(b(o,i[a]))return i[a].start_time>t?i[a].start_time:null;return Math.min(e,n)}function x(t,e,n,r){var i=function(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(b(o,i[a])){if(t<i[a].start_time)continue;return i[a].end_time<e?i[a].end_time:null}return Math.max(t,0)}(t,e,n,r),a=w(i,e,n,r);return i>=a||!o()(i)||!o()(a)?{}:{start:i,end:a}}function S(t,e){if(!t)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];i.end_time<=t&&n.push(i)}return n}function E(t,e,n){var r,i=t.assets[e],o=(r=i.sources).youtube&&r.youtube.url?{url:g()(r.youtube.url),host:"youtube"}:r.vimeo&&r.vimeo.url?{url:r.vimeo.url,host:"vimeo"}:r.video&&r.video.url?{url:r.video.url}:r.mp4_pseudo&&r.mp4_pseudo.url?{url:r.mp4_pseudo.url}:r.mp4_panopto&&r.mp4_panopto.url?{url:r.mp4_panopto.url}:r.mp4_audio&&r.mp4_audio.url?{url:r.mp4_audio.url}:r.image&&r.image.url?{url:r.image.url,width:r.image.width,height:r.image.height}:r.pdf&&r.pdf.url?{url:r.pdf.url}:null,a=function(t,e){for(var n=0;n<t.annotations.length&&e;n++){var r=t.annotations[n];if(r.id===e&&!r.is_global_annotation)return{duration:r.range2-r.range1||30,range1:r.range1,annotationData:r.annotation_data}}return{duration:void 0,range1:0}}(i,n),s="image"===i.primary_type?"img":"vid";"pdf"===i.primary_type&&(s="pdf");var l="img"===s||"pdf"===s?30:a.duration;return{url:o.url,host:o.host,type:s,startTime:a.range1,duration:l,data:a.annotationData,width:o.width,height:o.height}}function C(t){var e="image"===t.asset.media_type?"img":"vid";"pdf"===t.asset.media_type&&(e="pdf");var n=function(t){return"image"===t.asset.media_type?30:t.is_global_annotation?void 0:t.range2-t.range1||30}(t),r=t.asset.primary_source.url;return"youtube"===t.asset.primary_source.label&&(r=g()(r)),{id:t.id,assetId:t.asset.id,url:r,host:t.asset.primary_source.label,type:e,startTime:t.range1||0,duration:n,data:t.annotation_data,width:t.asset.primary_source.width,height:t.asset.primary_source.height}}function k(t){var e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return o()(n)&&o()(r)&&o()(i)?60*n+r+i/100:null}function P(t){var e=function(t){var e=Math.floor(t/60),n=Math.floor(t-60*e);return[e,n,Math.min(99,Math.round(100*(t-60*e-n)))]}(t);return T(e[0])+":"+T(e[1])+":"+T(e[2])}function T(t){return(t<10?"0":"")+t}function O(t){var e,n=y()(t),r=m(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;delete i.host,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function R(t){var e,n=y()(t),r=m(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.text=i.source,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function A(t){var e,n=0,r=m(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),n++}}catch(t){r.e(t)}finally{r.f()}return t}function I(t){var e,n=0,r=m(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.type="txt",i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),i.source=i.text,delete i.text,n++}}catch(t){r.e(t)}finally{r.f()}return t}function M(t,e){var n,r=m(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i}}catch(t){r.e(t)}finally{r.f()}return null}function D(t){for(var e=0;e<t.length;e++)t[e].key=e}function L(t,e,n){var r=u()(t,["key",parseInt(e.i,10)]),i=t.slice(),o=u()(i,["key",parseInt(e.i,10)]),a=e.x/1e3*n;if(a===r.start_time||Math.abs(a-r.start_time)<=.001*n)return null;var s=o.end_time-o.start_time;return o.start_time=a,o.end_time=o.start_time+s,(i=h()(i,["key",o.key])).push(o),d()(i,"key")}function j(t){return t.replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function F(t,e,n){jQuery(window).trigger("collection.open",[{allowAssets:e,media_type:t,disable:"all"===t?[]:["media_type"],caller:n}])}function N(t,e,n,r){var i=n?"collection.annotation.create":"collection.annotation.edit";jQuery(window).trigger(i,[{caller:r,assetId:t,annotationId:e}])}var B=__webpack_require__(9968),U=__webpack_require__.n(B);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function V(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var X=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(i);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){return W(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"jux-vid-item-thumb",style:{backgroundImage:"url("+this.props.url+")"}})}}])&&G(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function Q(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}X.propTypes={url:r().string.isRequired};var $=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(i);if(o){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Q(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={vimeoThumbnailUrl:null},e}return n=s,r=[{key:"vimeoThumbnailListener",value:function(t){var e=t.target.responseText,n=null;try{n=JSON.parse(e)}catch(t){return void console.error("Can't parse vimeo thumbnail JSON",t)}if(n){var r=n[0].thumbnail_medium;this.setState({vimeoThumbnailUrl:r})}else console.error("Can't parse vimeo thumbnail JSON")}},{key:"getVimeoThumbnailUrl",value:function(t){var e=function(t){return/^.*vimeo\.com\/([0-9]+)/.exec(t)[1]}(t.source),n="https://vimeo.com/api/v2/video/"+e+".json",r=new XMLHttpRequest;r.addEventListener("load",this.vimeoThumbnailListener.bind(this)),r.open("GET",n,!0),r.send(null)}},{key:"renderVidThumb",value:function(e){if("youtube"===e.host){var n="https://img.youtube.com/vi/"+e.source+"/default.jpg";return t.createElement(X,{url:n})}return"vimeo"===e.host?(this.state.vimeoThumbnailUrl||this.getVimeoThumbnailUrl(e),this.state.vimeoThumbnailUrl?t.createElement(X,{url:this.state.vimeoThumbnailUrl}):""):t.createElement("video",{className:"jux-media-item-middle"},t.createElement("source",{src:e.source,type:"video/mp4"}))}},{key:"renderImgThumb",value:function(e){var n={backgroundImage:"url("+e.source+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return t.createElement("div",{className:"jux-media-item-middle",style:n})}},{key:"renderTxtThumb",value:function(e){var n=10;return this.el&&this.el.clientWidth&&(n=Math.round(this.el.clientWidth/15)),t.createElement("p",{className:"jux-media-item-middle"},function(t,e,n){if(void 0===t)return"";void 0===n&&(n="");var r=t.replace(/(<([^>]+)>)/g,"");return r.length>e?r.substr(0,e-n.length)+n:r}(e.source,n))}},{key:"renderPdfThumb",value:function(){return t.createElement("svg",{style:{margin:"0 auto"},xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-file-pdf",viewBox:"0 0 16 16"},t.createElement("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}),t.createElement("path",{d:"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"}))}},{key:"componentDidMount",value:function(){"txt"===this.props.data.type&&this.forceUpdate()}},{key:"render",value:function(){var e=this,n="";"vid"===this.props.data.type?n=this.renderVidThumb(this.props.data):"img"===this.props.data.type?n=this.renderImgThumb(this.props.data):"txt"===this.props.data.type?n=this.renderTxtThumb(this.props.data):"pdf"===this.props.data.type&&(n=this.renderPdfThumb());var r=this.props.className;return this.props.isActive&&(r+=" jux-item-active"),t.createElement("div",{data:this.props.data,ref:function(t){return e.el=t},"data-dragging":this.props.dragging,className:r,style:this.props.style,onClick:this.onEditButtonClick.bind(this),onMouseDown:this.props.onMouseDown,onTouchEnd:this.props.onTouchEnd,onTouchStart:this.props.onTouchStart},n)}},{key:"onEditButtonClick",value:function(t){this.props.onEditButtonClick(t,this)}}],r&&K(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function it(t,e){if(e&&("object"===tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}$.propTypes={className:r().string,data:r().object.isRequired,dragging:r().bool,isActive:r().bool.isRequired,style:r().object,onEditButtonClick:r().func,onMouseDown:r().func,onTouchEnd:r().func,onTouchStart:r().func};var at=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(i);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return it(this,t)});function s(){return et(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.callbackParent(t,this.props.absoluteTimecode)}},{key:"render",value:function(){return t.createElement("div",{className:"jux-snap-column",onClick:this.onClick.bind(this)})}}])&&nt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}at.propTypes={absoluteTimecode:r().number.isRequired,callbackParent:r().func.isRequired};var lt=["style","className","key","children"];function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ct(t,e)}function ht(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}function dt(){return dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}function pt(t){return 10*t}var yt=t.forwardRef((function(e){var n=e.style,r=e.className,i=e.key,o=e.children,a=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,lt);return t.createElement($,dt({style:n,className:r,key:i},a),o)}));yt.propTypes={style:r().object,className:r().string,children:r().array};var vt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ct(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ft(i);if(o){var n=ft(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ht(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).width=910,e}return n=s,r=[{key:"generateLayout",value:function(t){var e=[],n=this;return t.map((function(t){if(n.props.duration&&!(t.start_time>n.props.duration)){var r=pt(Math.min(t.end_time-t.start_time,n.props.duration)/n.props.duration*100),i={x:pt(t.start_time/n.props.duration*100),y:0,w:r,h:49};e.push(i)}})),e}},{key:"generateItems",value:function(e){var n=[],r=this;return e.map((function(e,i){if(r.props.duration&&!(e.start_time>r.props.duration)){var o=pt(Math.min(e.end_time-e.start_time,r.props.duration)/r.props.duration*100),a=pt(e.start_time/r.props.duration*100),s=function(t,e,n){return!(!t||t[0]!==e||parseInt(t[1],10)!==n)}(r.props.activeElement,r.type,i),l=t.createElement(yt,{onEditButtonClick:r.onEditButtonClick.bind(r),isActive:s,key:i,data:e,"data-grid":{x:a,y:0,w:o,h:49}});n.push(l)}})),n}},{key:"generateSnapColumns",value:function(){for(var e=[],n=this.width/10,r=this.props.duration/n,i=0;i<n;i++){var o=r*i;e.push(t.createElement(at,{key:i,idx:i,absoluteTimecode:o,callbackParent:this.onAddTrackElementClick.bind(this)}))}return e}},{key:"onEditButtonClick",value:function(t,e){this.props.onTrackEditButtonClick(t,e)}},{key:"closeItemAdder",value:function(){this.setState({adding:!1})}},{key:"renderItemAdder",value:function(){return null}},{key:"render",value:function(){var e="jux-track-container jux-"+this.type,n=0===this.props.data.length?"block":"none";return t.createElement("div",{className:e},t.createElement("div",{className:"track-icon"}),t.createElement("div",{className:"jux-track"},t.createElement("div",{className:"jux-track-instructions",style:{display:n}},this.helpText),this.renderItemAdder(),this.generateSnapColumns(),t.createElement(U(),{width:this.width,margin:[0,0],className:"layout react-grid-layout",cols:1e3,onDragStop:this.props.onDragStop,onClick:this.onClick,maxRows:1,rowHeight:1,autoSize:!1,isResizable:!1,layout:this.generateLayout(this.props.data),preventCollision:!0},this.generateItems(this.props.data))))}},{key:"onAddWithoutPrimaryVid",value:function(){this.props.onAddWithoutPrimaryVid()}}],r&&ut(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}function bt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}vt.propTypes={data:r().array.isRequired,duration:r().number,onAddWithoutPrimaryVid:r().func,onDragStop:r().func.isRequired,onTrackEditButtonClick:r().func.isRequired};var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wt(r);if(i){var n=wt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bt(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).type="media",e.helpText="Click on this track to place video and audio elements",e}return e=a,(n=[{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?F("all",!1,{type:"track",timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"getHelpText",value:function(){return"Click on this track to place video and audio elements"}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(vt),St=__webpack_require__(8783);const Et=__webpack_require__.p+"51103eacf3bef7f35f0812db4ea611f7.js";function Ct(){return Ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}function kt(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Pt(t,e){if(null==t)return{};var n,r,i=kt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e,n){return e&&Rt(t.prototype,e),n&&Rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function It(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t,e){return Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mt(t,e)}function Dt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}function Lt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return It(t)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jt(t)}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt=["onKeyDown","onKeyPress","onKeyUp"],Bt=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Ut=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],zt=[].concat(["onCopy","onCut","onPaste"],["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Nt,["onFocus","onBlur"],["onChange","onInput","onInvalid","onReset","onSubmit"],["onError","onLoad"],Bt,["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],["onSelect"],Ut,["onScroll"],["onWheel"],["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],["onLoad","onError"],["onAnimationStart","onAnimationEnd","onAnimationIteration"],["onTransitionEnd"],["onToggle"]);const Wt=function(t,e){var n={};return zt.forEach((function(r){r in t&&(n[r]=e?function(n){return t[r](n,e(r))}:t[r])})),n};function Gt(t){var e=!1,n=new Promise((function(n,r){t.then((function(){return!e&&n.apply(void 0,arguments)})).catch((function(t){return!e&&r(t)}))}));return{promise:n,cancel:function(){e=!0}}}function qt(){return Array.prototype.slice.call(arguments).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return"string"==typeof t})).join(" ")}function Vt(t,e){if(!t)throw new Error("Invariant failed")}const Ht=(0,t.createContext)(null);function Xt(e){var n=e.children,r=e.type;return t.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},n)}Xt.propTypes={children:r().node,type:r().oneOf(["error","loading","no-data"]).isRequired};var Yt=function(){function t(){Ot(this,t),this.externalLinkTarget=null,this.externalLinkRel=null}return At(t,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise((function(n){"string"==typeof t?e.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)})).then((function(n){Vt(Array.isArray(n),'"'.concat(n,'" is not a valid destination array.'));var r=n[0];new Promise((function(t){r instanceof Object?e.pdfDocument.getPageIndex(r).then((function(e){t(e)})).catch((function(){Vt(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"==typeof r?t(r):Vt(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(n){var r=n+1;Vt(r>=1&&r<=e.pagesCount,'"'.concat(r,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:t,pageIndex:n,pageNumber:r})}))}))}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),t}();const Kt=1,Zt=2;function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jt(t,e){if(t){if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}function $t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te="undefined"!=typeof window;te&&window.location.protocol;function ee(t){return void 0!==t}function ne(t){return ee(t)&&null!==t}function re(t){return t instanceof ArrayBuffer}function ie(t){return Vt(te),t instanceof Blob}function oe(t){return Vt(te),t instanceof File}function ae(t){return"string"==typeof t&&/^data:/.test(t)}function se(t){Vt(ae(t));var e=$t(t.split(","),2),n=e[0],r=e[1];return-1!==n.split(";").indexOf("base64")?atob(r):unescape(r)}var le="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ue(){"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(le)}function ce(t){t&&t.cancel&&t.cancel()}function he(t,e){return Object.defineProperty(t,"width",{get:function(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get:function(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),t}function fe(t){return"RenderingCancelledException"===t.name}function de(t){return new Promise((function(e,n){var r=new FileReader;return r.onload=function(){return e(new Uint8Array(r.result))},r.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t),null}))}function pe(t){return function(t){if(Array.isArray(t))return Qt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Jt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ye,ve=(ye={},[].concat(pe(Bt),pe(Ut),pe(Nt)).forEach((function(t){ye[t]=r().func})),ye),ge=[r().string,r().instanceOf(ArrayBuffer),r().shape({data:r().oneOfType([r().object,r().string]),httpHeaders:r().object,range:r().object,url:r().string,withCredentials:r().bool})];"undefined"!=typeof File&&ge.push(r().instanceOf(File)),"undefined"!=typeof Blob&&ge.push(r().instanceOf(Blob));var me=r().oneOfType([r().string,r().arrayOf(r().string)]),_e=r().oneOfType(ge),be=r().instanceOf(Yt),we=(r().oneOf(["_self","_blank","_parent","_top"]),r().shape({_transport:r().shape({fontLoader:r().object.isRequired}).isRequired,commonObjs:r().shape({_objs:r().object.isRequired}).isRequired,getAnnotations:r().func.isRequired,getTextContent:r().func.isRequired,getViewport:r().func.isRequired,render:r().func.isRequired})),xe=r().oneOfType([r().shape({getDestination:r().func.isRequired,getOutline:r().func.isRequired,getPage:r().func.isRequired,numPages:r().number.isRequired}),r().bool]),Se=r().oneOfType([r().func,r().shape({current:r().any})]),Ee=r().oneOf(["canvas","none","svg"]),Ce=r().oneOf([0,90,180,270]),ke=["url"];function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Oe=St.PDFDataRangeTransport,Re=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{pdf:null}),Ft(It(t),"viewer",{scrollPageIntoView:function(e){var n=e.dest,r=e.pageIndex,i=e.pageNumber,o=t.props.onItemClick;if(o)o({dest:n,pageIndex:r,pageNumber:i});else{var a=t.pages[r];a?a.scrollIntoView():"An internal link leading to page ".concat(i," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.")}}}),Ft(It(t),"linkService",new Yt),Ft(It(t),"loadDocument",(function(){t.findDocumentSource().then((function(e){if(t.onSourceSuccess(),e){t.setState((function(t){return t.pdf?{pdf:null}:null}));var n=t.props,r=n.options,i=n.onLoadProgress,o=n.onPassword;ce(t.runningTask),t.loadingTask&&t.loadingTask.destroy(),t.loadingTask=St.getDocument(Te(Te({},e),r)),t.loadingTask.onPassword=o,i&&(t.loadingTask.onProgress=i);var a=Gt(t.loadingTask.promise);t.runningTask=a,a.promise.then((function(e){t.setState((function(t){return t.pdf&&t.pdf.fingerprint===e.fingerprint?null:{pdf:e}}),t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})).catch((function(e){t.onSourceError(e)}))})),Ft(It(t),"setupLinkService",(function(){var e=t.props,n=e.externalLinkRel,r=e.externalLinkTarget;t.linkService.setViewer(t.viewer),t.linkService.setExternalLinkRel(n),t.linkService.setExternalLinkTarget(r)})),Ft(It(t),"onSourceSuccess",(function(){var e=t.props.onSourceSuccess;e&&e()})),Ft(It(t),"onSourceError",(function(e){var n=t.props.onSourceError;n&&n(e)})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.pdf;e&&e(n),t.pages=new Array(n.numPages),t.linkService.setDocument(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({pdf:!1});var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"findDocumentSource",(function(){return new Promise((function(e){var n=t.props.file;if(n||e(null),"string"==typeof n){if(ae(n)){var r=se(n);e({data:r})}ue(),e({url:n})}if(n instanceof Oe&&e({range:n}),re(n)&&e({data:n}),te&&(ie(n)||oe(n)))de(n).then((function(t){e({data:t})}));else{if(Vt("object"===Tt(n)),Vt(n.url||n.data||n.range),"string"==typeof n.url){if(ae(n.url)){var i=n.url,o=Pt(n,ke),a=se(i);e(Te({data:a},o))}ue()}e(n)}}))})),Ft(It(t),"registerPage",(function(e,n){t.pages[e]=n})),Ft(It(t),"unregisterPage",(function(e){delete t.pages[e]})),t}return At(o,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){this.props.file!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){ce(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,e=this.registerPage,n=this.unregisterPage,r=this.props,i=r.imageResourcesPath,o=r.renderMode,a=r.rotate;return{imageResourcesPath:i,linkService:t,pdf:this.state.pdf,registerPage:e,renderMode:o,rotate:a,unregisterPage:n}}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){return t.state.pdf}))}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(Ht.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,n=this.state.pdf;if(!e){var r=this.props.noData;return t.createElement(Xt,{type:"no-data"},"function"==typeof r?r():r)}if(null===n){var i=this.props.loading;return t.createElement(Xt,{type:"loading"},"function"==typeof i?i():i)}if(!1===n){var o=this.props.error;return t.createElement(Xt,{type:"error"},"function"==typeof o?o():o)}return this.renderChildren()}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Document",n),ref:r},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);Re.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF",noData:"No PDF file specified.",onPassword:function(t,e){switch(e){case Kt:t(prompt("Enter the password to open this PDF file."));break;case Zt:t(prompt("Invalid password. Please try again."))}}};var Ae=r().oneOfType([r().func,r().node]);Re.propTypes=Te(Te({},ve),{},{children:r().node,className:me,error:Ae,externalLinkRel:r().string,externalLinkTarget:r().string,file:_e,imageResourcesPath:r().string,inputRef:Se,loading:Ae,noData:Ae,onItemClick:r().func,onLoadError:r().func,onLoadProgress:r().func,onLoadSuccess:r().func,onPassword:r().func,onSourceError:r().func,onSourceSuccess:r().func,rotate:r().number});const Ie=(0,t.createContext)(null);var Me=function(){function t(e){var n=e.num,r=e.gen;Ot(this,t),this.num=n,this.gen=r}return At(t,[{key:"toString",value:function(){var t="".concat(this.num,"R");return 0!==this.gen&&(t+=this.gen),t}}]),t}(),De=["item"];var Le=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"getDestination",(function(){return new Promise((function(e,n){var r=t.props,i=r.item,o=r.pdf;return ee(t.destination)||("string"==typeof i.dest?o.getDestination(i.dest).then(e).catch(n):e(i.dest)),t.destination})).then((function(e){return t.destination=e,e}))})),Ft(It(t),"getPageIndex",(function(){return new Promise((function(e,n){var r=t.props.pdf;ee(t.pageIndex)&&e(t.pageIndex),t.getDestination().then((function(t){if(t){var i=$t(t,1)[0];r.getPageIndex(new Me(i)).then(e).catch(n)}}))})).then((function(e){return t.pageIndex=e,t.pageIndex}))})),Ft(It(t),"getPageNumber",(function(){return new Promise((function(e,n){ee(t.pageNumber)&&e(t.pageNumber),t.getPageIndex().then((function(t){e(t+1)})).catch(n)})).then((function(e){return t.pageNumber=e,e}))})),Ft(It(t),"onClick",(function(e){var n=t.props.onClick;return e.preventDefault(),!!n&&Promise.all([t.getDestination(),t.getPageIndex(),t.getPageNumber()]).then((function(t){var e=$t(t,3),r=e[0],i=e[1],o=e[2];n({dest:r,pageIndex:i,pageNumber:o})}))})),t}return At(o,[{key:"renderSubitems",value:function(){var e=this.props,n=e.item,r=Pt(e,De);if(!n.items||!n.items.length)return null;var i=n.items;return t.createElement("ul",null,i.map((function(e,n){return t.createElement(o,Ct({key:"string"==typeof e.destination?e.destination:n,item:e},r))})))}},{key:"render",value:function(){var e=this.props.item;return t.createElement("li",null,t.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),o}(t.PureComponent),je=r().oneOfType([r().string,r().arrayOf(r().any)]);Le.propTypes={item:r().shape({dest:je,items:r().arrayOf(r().shape({dest:je,title:r().string})),title:r().string}).isRequired,onClick:r().func,pdf:xe.isRequired};const Fe=function(e){return t.createElement(Ht.Consumer,null,(function(n){return t.createElement(Ie.Consumer,null,(function(r){return t.createElement(Le,Ct({},n,r,e))}))}))};function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Be=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{outline:null}),Ft(It(t),"loadOutline",(function(){var e=t.props.pdf;t.setState((function(t){return t.outline?{outline:null}:null}));var n=Gt(e.getOutline());t.runningTask=n,n.promise.then((function(e){t.setState({outline:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onLoadSuccess,n=t.state.outline;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({outline:!1});var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"onItemClick",(function(e){var n=e.dest,r=e.pageIndex,i=e.pageNumber,o=t.props.onItemClick;o&&o({dest:n,pageIndex:r,pageNumber:i})})),t}return At(o,[{key:"componentDidMount",value:function(){Vt(this.props.pdf),this.loadOutline()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;t.pdf&&e!==t.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){ce(this.runningTask)}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){return t.state.outline}))}},{key:"renderOutline",value:function(){var e=this.state.outline;return t.createElement("ul",null,e.map((function(e,n){return t.createElement(Fe,{key:"string"==typeof e.destination?e.destination:n,item:e})})))}},{key:"render",value:function(){var e=this.props.pdf,n=this.state.outline;if(!e||!n)return null;var r=this.props,i=r.className,o=r.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Outline",i),ref:o},this.eventProps),t.createElement(Ie.Provider,{value:this.childContext},this.renderOutline()))}}]),o}(t.PureComponent);function Ue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(Boolean);return r.length<=1?r[0]:function(t){r.forEach((function(e){"function"==typeof e?e(t):e.current=t}))}}Be.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:me,inputRef:Se,onItemClick:r().func,onLoadError:r().func,onLoadSuccess:r().func,pdf:xe},ve);const ze=(0,t.createContext)(null);var We=St.AnnotationMode,Ge=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(he(r,i))})),Ft(It(t),"onRenderError",(function(e){if(!fe(e)){var n=t.props.onRenderError;n&&n(e)}})),Ft(It(t),"drawPageOnCanvas",(function(){var e=It(t).canvasLayer;if(!e)return null;var n=It(t),r=n.renderViewport,i=n.viewport,o=t.props,a=o.canvasBackground,s=o.page,l=o.renderForms;e.width=r.width,e.height=r.height,e.style.width="".concat(Math.floor(i.width),"px"),e.style.height="".concat(Math.floor(i.height),"px");var u={annotationMode:l?We.ENABLE_FORMS:We.ENABLE,get canvasContext(){return e.getContext("2d")},viewport:r};return a&&(u.background=a),t.cancelRenderingTask(),t.renderer=s.render(u),t.renderer.promise.then(t.onRenderSuccess).catch(t.onRenderError)})),t}return At(o,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.canvasBackground,r=e.page,i=e.renderForms;n===t.canvasBackground&&i===t.renderForms||(r.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask(),this.canvasLayer&&(this.canvasLayer.width=0,this.canvasLayer.height=0,this.canvasLayer=null)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"renderViewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale,i=te&&window.devicePixelRatio||1;return e.getViewport({scale:r*i,rotation:n})}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,n=this.props.canvasRef;return t.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:Ue(n,(function(t){e.canvasLayer=t})),style:{display:"block",userSelect:"none"}})}}]),o}(t.PureComponent);function qe(e){return t.createElement(ze.Consumer,null,(function(n){return t.createElement(Ge,Ct({},n,e))}))}Ge.propTypes={canvasBackground:r().string,canvasRef:Se,onRenderError:r().func,onRenderSuccess:r().func,page:we.isRequired,renderForms:r().bool,rotate:Ce,scale:r().number.isRequired};var Ve=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{svg:null}),Ft(It(t),"onRenderSuccess",(function(){t.renderer=null;var e=t.props,n=e.onRenderSuccess,r=e.page,i=e.scale;n&&n(he(r,i))})),Ft(It(t),"onRenderError",(function(e){if(!fe(e)){var n=t.props.onRenderError;n&&n(e)}})),Ft(It(t),"renderSVG",(function(){var e=t.props.page;return t.renderer=e.getOperatorList(),t.renderer.then((function(n){var r=new St.SVGGraphics(e.commonObjs,e.objs);t.renderer=r.getSVG(n,t.viewport).then((function(e){t.setState({svg:e},t.onRenderSuccess)})).catch(t.onRenderError)})).catch(t.onRenderError)})),Ft(It(t),"drawPageOnContainer",(function(e){var n=t.state.svg;if(e&&n){e.firstElementChild||e.appendChild(n);var r=t.viewport,i=r.width,o=r.height;n.setAttribute("width",i),n.setAttribute("height",o)}})),t}return At(o,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"render",value:function(){var e=this,n=this.viewport,r=n.width,i=n.height;return t.createElement("div",{className:"react-pdf__Page__svg",ref:function(t){return e.drawPageOnContainer(t)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:r,height:i,userSelect:"none"}})}}]),o}(t.PureComponent);function He(e){return t.createElement(ze.Consumer,null,(function(n){return t.createElement(Ve,Ct({},n,e))}))}Ve.propTypes={onRenderError:r().func,onRenderSuccess:r().func,page:we.isRequired,rotate:Ce,scale:r().number.isRequired};var Xe=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"getElementWidth",(function(e){var n=It(t).sideways;return e.getBoundingClientRect()[n?"height":"width"]})),t}return At(o,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"sideways",get:function(){return this.rotate%180!=0}},{key:"defaultSideways",get:function(){return this.unrotatedViewport.rotation%180!=0}},{key:"fontSize",get:function(){var t=this.props.transform,e=this.defaultSideways,n=$t(t,2),r=n[0],i=n[1];return e?i:r}},{key:"top",get:function(){var t=this.props.transform,e=this.unrotatedViewport,n=this.defaultSideways,r=$t(t,6),i=r[2],o=r[3],a=r[4],s=r[5],l=$t(e.viewBox,4),u=l[1],c=l[3];return n?a+i+u:c-(s+o)}},{key:"left",get:function(){var t=this.props.transform,e=this.unrotatedViewport,n=this.defaultSideways,r=$t(t,6),i=r[4],o=r[5],a=$t(e.viewBox,1)[0];return n?o-a:i-a}},{key:"getFontData",value:function(t){var e=this.props.page;return new Promise((function(n){e.commonObjs.get(t,n)}))}},{key:"alignTextItem",value:function(){var t=this,e=this.item;if(e){e.style.transform="";var n=this.props,r=n.fontName,i=n.scale,o=n.width;e.style.fontFamily="".concat(r,", sans-serif"),this.getFontData(r).then((function(n){var a=n?n.fallbackName:"sans-serif";e.style.fontFamily="".concat(r,", ").concat(a);var s=o*i,l=t.getElementWidth(e),u="scaleX(".concat(s/l,")"),c=n?n.ascent:0;c&&(u+=" translateY(".concat(100*(1-c),"%)")),e.style.transform=u,e.style.WebkitTransform=u}))}}},{key:"render",value:function(){var e=this,n=this.fontSize,r=this.top,i=this.left,o=this.props,a=o.customTextRenderer,s=o.scale,l=o.str;return t.createElement("span",{ref:function(t){e.item=t},style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(n*s,"px"),position:"absolute",top:"".concat(r*s,"px"),left:"".concat(i*s,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},a?a(this.props):l)}}]),o}(t.PureComponent);function Ye(e){return t.createElement(ze.Consumer,null,(function(n){return t.createElement(Xe,Ct({},n,e))}))}Xe.propTypes={customTextRenderer:r().func,fontName:r().string.isRequired,itemIndex:r().number.isRequired,page:we.isRequired,rotate:Ce,scale:r().number,str:r().string.isRequired,transform:r().arrayOf(r().number).isRequired,width:r().number.isRequired};var Ke=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{textItems:null}),Ft(It(t),"loadTextItems",(function(){var e=Gt(t.props.page.getTextContent());t.runningTask=e,e.promise.then((function(e){var n=e.items;t.setState({textItems:n},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onGetTextSuccess,n=t.state.textItems;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({textItems:!1});var n=t.props.onGetTextError;n&&n(e)})),t}return At(o,[{key:"componentDidMount",value:function(){Vt(this.props.page),this.loadTextItems()}},{key:"componentDidUpdate",value:function(t){var e=this.props.page;t.page&&e!==t.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){ce(this.runningTask)}},{key:"unrotatedViewport",get:function(){var t=this.props,e=t.page,n=t.scale;return e.getViewport({scale:n})}},{key:"rotate",get:function(){var t=this.props,e=t.page;return t.rotate-e.rotate}},{key:"renderTextItems",value:function(){var e=this.state.textItems;return e?e.map((function(e,n){return t.createElement(Ye,Ct({key:n,itemIndex:n},e))})):null}},{key:"render",value:function(){var e=this.unrotatedViewport,n=this.rotate;return t.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(n,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(n,"deg)"),pointerEvents:"none"}},this.renderTextItems())}}]),o}(t.PureComponent);function Ze(e){return t.createElement(ze.Consumer,null,(function(n){return t.createElement(Ke,Ct({},n,e))}))}Ke.propTypes={onGetTextError:r().func,onGetTextSuccess:r().func,page:we.isRequired,rotate:Ce,scale:r().number};var Qe=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{annotations:null}),Ft(It(t),"loadAnnotations",(function(){var e=Gt(t.props.page.getAnnotations());t.runningTask=e,e.promise.then((function(e){t.setState({annotations:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))})),Ft(It(t),"onLoadSuccess",(function(){var e=t.props.onGetAnnotationsSuccess,n=t.state.annotations;e&&e(n)})),Ft(It(t),"onLoadError",(function(e){t.setState({annotations:!1});var n=t.props.onGetAnnotationsError;n&&n(e)})),Ft(It(t),"onRenderSuccess",(function(){var e=t.props.onRenderAnnotationLayerSuccess;e&&e()})),Ft(It(t),"onRenderError",(function(e){var n=t.props.onRenderAnnotationLayerError;n&&n(e)})),t}return At(o,[{key:"componentDidMount",value:function(){Vt(this.props.page),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.page,r=e.renderForms;(t.page&&n!==t.page||r!==t.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){ce(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,e=t.page,n=t.rotate,r=t.scale;return e.getViewport({scale:r,rotation:n})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(t){var e=this.props,n=e.imageResourcesPath,r=e.linkService,i=e.page,o=e.renderForms,a=this.viewport.clone({dontFlip:!0}),s={annotations:t,div:this.annotationLayer,imageResourcesPath:n,linkService:r,page:i,renderForms:o,viewport:a};this.annotationLayer.innerHTML="";try{St.AnnotationLayer.render(s),this.onRenderSuccess()}catch(t){this.onRenderError(t)}}}},{key:"render",value:function(){var e=this;return t.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:function(t){e.annotationLayer=t}},this.renderAnnotationLayer())}}]),o}(t.PureComponent);Qe.propTypes={imageResourcesPath:r().string,linkService:be.isRequired,onGetAnnotationsError:r().func,onGetAnnotationsSuccess:r().func,onRenderAnnotationLayerError:r().func,onRenderAnnotationLayerSuccess:r().func,page:we,renderForms:r().bool,rotate:Ce,scale:r().number};const Je=function(e){return t.createElement(Ht.Consumer,null,(function(n){return t.createElement(ze.Consumer,null,(function(r){return t.createElement(Qe,Ct({},n,r,e))}))}))};function $e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var en=function(e){Dt(o,e);var n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jt(n);if(r){var i=jt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lt(this,t)});function o(){var t;Ot(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ft(It(t=i.call.apply(i,[this].concat(n))),"state",{page:null}),Ft(It(t),"onLoadSuccess",(function(){var e=t.props,n=e.onLoadSuccess,r=e.registerPage,i=t.state.page;n&&n(he(i,t.scale)),r&&r(t.pageIndex,t.ref)})),Ft(It(t),"onLoadError",(function(e){t.setState({page:!1});var n=t.props.onLoadError;n&&n(e)})),Ft(It(t),"loadPage",(function(){var e=t.props.pdf,n=t.getPageNumber();if(n){t.setState((function(t){return t.page?{page:null}:null}));var r=Gt(e.getPage(n));t.runningTask=r,r.promise.then((function(e){t.setState({page:e},t.onLoadSuccess)})).catch((function(e){t.onLoadError(e)}))}})),t}return At(o,[{key:"componentDidMount",value:function(){Vt(this.props.pdf),this.loadPage()}},{key:"componentDidUpdate",value:function(t){var e=this.props.pdf;if(t.pdf&&e!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var n=this.props.unregisterPage;n&&n(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),ce(this.runningTask)}},{key:"childContext",get:function(){var t=this.state.page;if(!t)return{};var e=this.props,n=e.canvasBackground,r=e.customTextRenderer,i=e.onGetAnnotationsError,o=e.onGetAnnotationsSuccess,a=e.onGetTextError,s=e.onGetTextSuccess,l=e.onRenderAnnotationLayerError,u=e.onRenderAnnotationLayerSuccess,c=e.onRenderError,h=e.onRenderSuccess,f=e.renderForms,d=e.renderInteractiveForms;return{canvasBackground:n,customTextRenderer:r,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onGetTextError:a,onGetTextSuccess:s,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,onRenderError:c,onRenderSuccess:h,page:t,renderForms:null!=f?f:d,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return ne(t.pageNumber)?t.pageNumber-1:ne(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return ne(t.pageNumber)?t.pageNumber:ne(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(ne(t))return t;var e=this.state.page;return e?e.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var e=this.props,n=e.scale,r=e.width,i=e.height,o=this.rotate,a=1,s=null===n?1:n;if(r||i){var l=t.getViewport({scale:1,rotation:o});a=r?r/l.width:i/l.height}return s*a}},{key:"eventProps",get:function(){var t=this;return Wt(this.props,(function(){var e=t.state.page;return e?he(e,t.scale):e}))}},{key:"pageKey",get:function(){var t=this.state.page;return"".concat(t.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var t=this.state.page;return"".concat(t.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var e=this.props,n=e.canvasRef;switch(e.renderMode){case"none":return null;case"svg":return t.createElement(He,{key:"".concat(this.pageKeyNoScale,"_svg")});default:return t.createElement(qe,{key:"".concat(this.pageKey,"_canvas"),canvasRef:n})}}},{key:"renderTextLayer",value:function(){return this.props.renderTextLayer?t.createElement(Ze,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){return this.props.renderAnnotationLayer?t.createElement(Je,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return t.createElement(ze.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,n=this.props.pdf,r=this.state.page;if(!e){var i=this.props.noData;return t.createElement(Xt,{type:"no-data"},"function"==typeof i?i():i)}if(null===n||null===r){var o=this.props.loading;return t.createElement(Xt,{type:"loading"},"function"==typeof o?o():o)}if(!1===n||!1===r){var a=this.props.error;return t.createElement(Xt,{type:"error"},"function"==typeof a?a():a)}return this.renderChildren()}},{key:"render",value:function(){var e=this.pageNumber,n=this.props,r=n.className,i=n.inputRef;return t.createElement("div",Ct({className:qt("react-pdf__Page",r),"data-page-number":e,ref:Ue(i,this.ref),style:{position:"relative"}},this.eventProps),this.renderContent())}}]),o}(t.PureComponent);en.defaultProps={error:"Failed to load the page.",loading:"Loading page",noData:"No page specified.",renderAnnotationLayer:!0,renderForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:1};var nn=r().oneOfType([r().func,r().node]);function rn(e,n){return t.createElement(Ht.Consumer,null,(function(r){return t.createElement(en,Ct({ref:n},r,e))}))}en.propTypes=tn(tn({},ve),{},{canvasBackground:r().string,children:r().node,className:me,customTextRenderer:r().func,error:nn,height:r().number,imageResourcesPath:r().string,inputRef:Se,loading:nn,noData:nn,onGetTextError:r().func,onGetTextSuccess:r().func,onLoadError:r().func,onLoadSuccess:r().func,onRenderError:r().func,onRenderSuccess:r().func,pageIndex:function(t,e,n){var r=t[e],i=t.pageNumber,o=t.pdf;if(!ee(o))return null;if(ee(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(Tt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(e,"` to be greater or equal to 0."));var a=o.numPages;if(r+1>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a-1,"."))}else if(!ee(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(t,e,n){var r=t[e],i=t.pageIndex,o=t.pdf;if(!ee(o))return null;if(ee(r)){if("number"!=typeof r)return new Error("`".concat(e,"` of type `").concat(Tt(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(e,"` to be greater or equal to 1."));var a=o.numPages;if(r>a)return new Error("Expected `".concat(e,"` to be less or equal to ").concat(a,"."))}else if(!ee(i))return new Error("`".concat(e,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:xe,registerPage:r().func,renderAnnotationLayer:r().bool,renderForms:r().bool,renderInteractiveForms:r().bool,renderMode:Ee,renderTextLayer:r().bool,rotate:Ce,scale:r().number,unregisterPage:r().func,width:r().number});const on=t.forwardRef(rn);"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(le),St.GlobalWorkerOptions.workerSrc=Et;const an={},sn=[];function ln(t,e){if(Array.isArray(t))for(const n of t)ln(n,e);else if("object"!=typeof t)cn(Object.getOwnPropertyNames(e)),an[t]=Object.assign(an[t]||{},e);else for(const e in t)ln(e,t[e])}function un(t){return an[t]||{}}function cn(t){sn.push(...t)}function hn(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function fn(t,e){let n;const r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function dn(t){return t%360*Math.PI/180}function pn(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function yn(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vn(t,e,n,r){return null!=e&&null!=n||(r=r||t.bbox(),null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)),{width:e,height:n}}function gn(t,e){const n=t.origin;let r=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",i=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([r,i]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof r,a="string"==typeof i;if(o||a){const{height:t,width:n,x:s,y:l}=e.bbox();o&&(r=r.includes("left")?s:r.includes("right")?s+n:s+n/2),a&&(i=i.includes("top")?l:i.includes("bottom")?l+t:l+t/2)}return[r,i]}const mn="http://www.w3.org/2000/svg",_n="http://www.w3.org/2000/xmlns/",bn="http://www.w3.org/1999/xlink",wn={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class xn{}const Sn={},En="___SYMBOL___ROOT___";function Cn(t,e=mn){return wn.document.createElementNS(e,t)}function kn(t,e=!1){if(t instanceof xn)return t;if("object"==typeof t)return On(t);if(null==t)return new Sn[En];if("string"==typeof t&&"<"!==t.charAt(0))return On(wn.document.querySelector(t));const n=e?wn.document.createElement("div"):Cn("svg");return n.innerHTML=t,t=On(n.firstChild),n.removeChild(n.firstChild),t}function Pn(t,e){return e&&e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node?e:Cn(t)}function Tn(t){if(!t)return null;if(t.instance instanceof xn)return t.instance;if("#document-fragment"===t.nodeName)return new Sn.Fragment(t);let e=yn(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":Sn[e]||(e="Dom"),new Sn[e](t)}let On=Tn;function Rn(t,e=t.name,n=!1){return Sn[e]=t,n&&(Sn[En]=t),cn(Object.getOwnPropertyNames(t.prototype)),t}let An=1e3;function In(t){return"Svgjs"+yn(t)+An++}function Mn(t){for(let e=t.children.length-1;e>=0;e--)Mn(t.children[e]);return t.id?(t.id=In(t.nodeName),t):t}function Dn(t,e){let n,r;for(r=(t=Array.isArray(t)?t:[t]).length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function Ln(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}ln("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=kn(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=kn(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=kn(t)).before(this),this},insertAfter:function(t){return(t=kn(t)).after(this),this}});const jn=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,Fn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Nn=/rgb\((\d+),(\d+),(\d+)\)/,Bn=/(#[a-z_][a-z0-9\-_]*)/i,Un=/\)\s*,?\s*/,zn=/\s/g,Wn=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Gn=/^rgb\(/,qn=/^(\s+)?$/,Vn=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Xn=/[\s,]+/,Yn=/[MLHVCSQTAZ]/i;function Kn(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function Zn(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function Qn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}ln("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(Xn)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),ln("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=pn(e);n[e]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[pn(t)];if("object"==typeof t)for(const e in t)this.node.style[pn(e)]=null==t[e]||qn.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[pn(t)]=null==e||qn.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),ln("Dom",{data:function(t,e,n){if(null==t)return this.data(hn(fn(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),ln("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class Jn{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Jn||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,n){const{random:r,round:i,sin:o,PI:a}=Math;if("vibrant"===t){const t=24*r()+57,e=38*r()+45,n=360*r();return new Jn(t,e,n,"lch")}if("sine"===t){const t=i(80*o(2*a*(e=null==e?r():e)/.5+.01)+150),n=i(50*o(2*a*e/.5+4.6)+200),s=i(100*o(2*a*e/.5+2.3)+150);return new Jn(t,n,s)}if("pastel"===t){const t=8*r()+86,e=17*r()+9,n=360*r();return new Jn(t,e,n,"lch")}if("dark"===t){const t=10+10*r(),e=50*r()+86,n=360*r();return new Jn(t,e,n,"lch")}if("rgb"===t){const t=255*r(),e=255*r(),n=255*r();return new Jn(t,e,n)}if("lab"===t){const t=100*r(),e=256*r()-128,n=256*r()-128;return new Jn(t,e,n,"lab")}if("grey"===t){const t=255*r();return new Jn(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(Wn.test(t)||Gn.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.min(1-r,1-i,1-o);return 1===a?new Jn(0,0,0,1,"cmyk"):new Jn((1-r-a)/(1-a),(1-i-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=Math.max(r,i,o),s=Math.min(r,i,o),l=(a+s)/2,u=a===s,c=a-s;return new Jn(360*(u?0:a===r?((i-o)/c+(i<o?6:0))/6:a===i?((o-r)/c+2)/6:a===o?((r-i)/c+4)/6:0),100*(u?0:l>.5?c/(2-a-s):c/(a+s)),100*l,"hsl")}init(t=0,e=0,n=0,r=0,i="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:t,_b:e,_c:n,_d:r,space:i});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=Zn(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:Zn(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:Zn(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:Zn(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:Zn(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:Zn(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(Gn.test(t)){const e=t.replace(zn,""),[n,r,i]=Nn.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}else{if(!Wn.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,r,i]=Fn.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:r,_c:i,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:s,_d:l}=this,u="rgb"===this.space?{r:o,g:a,b:s}:"xyz"===this.space?{x:o,y:a,z:s}:"hsl"===this.space?{h:o,s:a,l:s}:"lab"===this.space?{l:o,a,b:s}:"lch"===this.space?{l:o,c:a,h:s}:"cmyk"===this.space?{c:o,m:a,y:s,k:l}:{};Object.assign(this,u)}lab(){const{x:t,y:e,z:n}=this.xyz();return new Jn(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),r=Math.sqrt(e**2+n**2);let i=180*Math.atan2(n,e)/Math.PI;return i<0&&(i*=-1,i=360-i),new Jn(t,r,i,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:r,a:i,b:o}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;i=t*Math.cos(n*e),o=t*Math.sin(n*e)}const a=(r+16)/116,s=i/500+a,l=a-o/200,u=16/116,c=.008856,h=7.787;t=.95047*(s**3>c?s**3:(s-u)/h),e=1*(a**3>c?a**3:(a-u)/h),n=1.08883*(l**3>c?l**3:(l-u)/h)}const r=3.2406*t+-1.5372*e+-.4986*n,i=-.9689*t+1.8758*e+.0415*n,o=.0557*t+-.204*e+1.057*n,a=Math.pow,s=.0031308,l=r>s?1.055*a(r,1/2.4)-.055:12.92*r,u=i>s?1.055*a(i,1/2.4)-.055:12.92*i,c=o>s?1.055*a(o,1/2.4)-.055:12.92*o;return new Jn(255*l,255*u,255*c)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new Jn(n,n,n);const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=255*Qn(i,r,t+1/3),a=255*Qn(i,r,t),s=255*Qn(i,r,t-1/3);return new Jn(o,a,s)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:r}=this,i=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,e*(1-r)+r)),a=255*(1-Math.min(1,n*(1-r)+r));return new Jn(i,o,a)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:r,space:i}=this;return[t,e,n,r,i]}toHex(){const[t,e,n]=this._clamped().map(Kn);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[r,i,o]=[t,e,n].map((t=>t/255)),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*a+.3576*s+.1805*l)/.95047,c=(.2126*a+.7152*s+.0722*l)/1,h=(.0193*a+.1192*s+.9505*l)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,d=c>.008856?Math.pow(c,1/3):7.787*c+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116;return new Jn(f,d,p,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:r,min:i,round:o}=Math;return[t,e,n].map((t=>r(0,i(o(t),255))))}}class $n{constructor(...t){this.init(...t)}clone(){return new $n(this)}init(t,e){const n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){er.isMatrixLike(t)||(t=new er(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function tr(t,e,n){return Math.abs(e-t)<(n||1e-6)}class er{constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,r=t.flip&&(e||"y"===t.flip)?-1:1,i=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,s=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,u=t.rotate||t.theta||0,c=new $n(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),h=c.x,f=c.y,d=new $n(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),p=d.x,y=d.y,v=new $n(t.translate||t.tx||t.translateX,t.ty||t.translateY),g=v.x,m=v.y,_=new $n(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:a,scaleY:s,skewX:i,skewY:o,shear:l,theta:u,rx:_.x,ry:_.y,tx:g,ty:m,ox:h,oy:f,px:p,py:y}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const r=t.a*e.a+t.c*e.b,i=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,a=t.b*e.c+t.d*e.d,s=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return n.a=r,n.b=i,n.c=o,n.d=a,n.e=s,n.f=l,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const r=t||0,i=e||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}clone(){return new er(this)}decompose(t=0,e=0){const n=this.a,r=this.b,i=this.c,o=this.d,a=this.e,s=this.f,l=n*o-r*i,u=l>0?1:-1,c=u*Math.sqrt(n*n+r*r),h=Math.atan2(u*r,u*n),f=180/Math.PI*h,d=Math.cos(h),p=Math.sin(h),y=(n*i+r*o)/l,v=i*c/(y*n-r)||o*c/(y*r+n);return{scaleX:c,scaleY:v,shear:y,rotate:f,translateX:a-t+t*d*c+e*(y*d*c-p*v),translateY:s-e+t*p*c+e*(y*p*c+d*v),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new er(t);return tr(this.a,e.a)&&tr(this.b,e.b)&&tr(this.c,e.c)&&tr(this.d,e.d)&&tr(this.e,e.e)&&tr(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=er.fromArray([1,0,0,1,0,0]);return t=t instanceof Cr?t.matrixify():"string"==typeof t?er.fromArray(t.split(Xn).map(parseFloat)):Array.isArray(t)?er.fromArray(t):"object"==typeof t&&er.isMatrixLike(t)?t:"object"==typeof t?(new er).transform(t):6===arguments.length?er.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,r=this.d,i=this.e,o=this.f,a=t*r-e*n;if(!a)throw new Error("Cannot invert "+this);const s=r/a,l=-e/a,u=-n/a,c=t/a,h=-(s*i+u*o),f=-(l*i+c*o);return this.a=s,this.b=l,this.c=u,this.d=c,this.e=h,this.f=f,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof er?t:new er(t);return er.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof er?t:new er(t);return er.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=dn(t);const r=Math.cos(t),i=Math.sin(t),{a:o,b:a,c:s,d:l,e:u,f:c}=this;return this.a=o*r-a*i,this.b=a*r+o*i,this.c=s*r-l*i,this.d=l*r+s*i,this.e=u*r-c*i+n*i-e*r+e,this.f=c*r+u*i-e*i-n*r+n,this}scale(t,e,n,r){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t);const{a:i,b:o,c:a,d:s,e:l,f:u}=this;return this.a=i*t,this.b=o*e,this.c=a*t,this.d=s*e,this.e=l*t-n*t+n,this.f=u*e-r*e+r,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:r,b:i,c:o,d:a,e:s,f:l}=this;return this.a=r+i*t,this.c=o+a*t,this.e=s+l*t-n*t,this}skew(t,e,n,r){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,r=0){3===arguments.length&&(r=n,n=e,e=t),t=dn(t),e=dn(e);const i=Math.tan(t),o=Math.tan(e),{a,b:s,c:l,d:u,e:c,f:h}=this;return this.a=a+s*i,this.b=s+a*o,this.c=l+u*i,this.d=u+l*o,this.e=c+h*i-r*i,this.f=h+c*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(er.isMatrixLike(t))return new er(t).multiplyO(this);const e=er.formatTransforms(t),{x:n,y:r}=new $n(e.ox,e.oy).transform(this),i=(new er).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const t=new $n(n,r).transform(i),o=isFinite(e.px)?e.px-t.x:0,a=isFinite(e.py)?e.py-t.y:0;i.translateO(o,a)}return i.translateO(e.tx,e.ty),i}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function nr(){if(!nr.nodes){const t=kn().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;nr.nodes={svg:t,path:e}}if(!nr.nodes.svg.node.parentNode){const t=wn.document.body||wn.document.documentElement;nr.nodes.svg.addTo(t)}return nr.nodes}function rr(t){return!(t.width||t.height||t.x||t.y)}Rn(er,"Matrix");class ir{constructor(...t){this.init(...t)}addOffset(){return this.x+=wn.window.pageXOffset,this.y+=wn.window.pageYOffset,new ir(this)}init(t){return t="string"==typeof t?t.split(Xn).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return rr(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-e,i=Math.max(this.y+this.height,t.y+t.height)-n;return new ir(e,n,r,i)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof er||(t=new er(t));let e=1/0,n=-1/0,r=1/0,i=-1/0;return[new $n(this.x,this.y),new $n(this.x2,this.y),new $n(this.x,this.y2),new $n(this.x2,this.y2)].forEach((function(o){o=o.transform(t),e=Math.min(e,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),i=Math.max(i,o.y)})),new ir(e,r,n-e,i-r)}}function or(t,e,n){let r;try{if(r=e(t.node),rr(r)&&(i=t.node)!==wn.document&&!(wn.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===wn.document}).call(wn.document.documentElement,i))throw new Error("Element not in the dom")}catch(e){r=n(t)}var i;return r}ln({viewbox:{viewbox(t,e,n,r){return null==t?new ir(this.attr("viewBox")):this.attr("viewBox",new ir(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((n||r)&&"string"!=typeof n&&"string"!=typeof r||(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=n/i.width,a=r/i.height,s=Math.min(o,a);if(null==t)return s;let l=s/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new $n(n/2/o+i.x,r/2/a+i.y);const u=new ir(i).transform(new er({scale:l,origin:e}));return this.viewbox(u)}}}),Rn(ir,"Box");class ar extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}Dn([ar],{each(t,...e){return"function"==typeof t?this.map(((e,n,r)=>t.call(e,e,n,r))):this.map((n=>n[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const sr=["toArray","constructor","each"];function lr(t,e){return new ar(hn((e||wn.document).querySelectorAll(t),(function(t){return Tn(t)})))}ar.extend=function(t){t=t.reduce(((t,e)=>(sr.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),Dn([ar],t)};let ur=0;const cr={};function hr(t){let e=t.getEventHolder();return e===wn.window&&(e=cr),e.events||(e.events={}),e.events}function fr(t){return t.getEventTarget()}function dr(t,e,n,r,i){const o=n.bind(r||t),a=kn(t),s=hr(a),l=fr(a);e=Array.isArray(e)?e:e.split(Xn),n._svgjsListenerId||(n._svgjsListenerId=++ur),e.forEach((function(t){const e=t.split(".")[0],r=t.split(".")[1]||"*";s[e]=s[e]||{},s[e][r]=s[e][r]||{},s[e][r][n._svgjsListenerId]=o,l.addEventListener(e,o,i||!1)}))}function pr(t,e,n,r){const i=kn(t),o=hr(i),a=fr(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Xn)).forEach((function(t){const e=t&&t.split(".")[0],s=t&&t.split(".")[1];let l,u;if(n)o[e]&&o[e][s||"*"]&&(a.removeEventListener(e,o[e][s||"*"][n],r||!1),delete o[e][s||"*"][n]);else if(e&&s){if(o[e]&&o[e][s]){for(u in o[e][s])pr(a,[e,s].join("."),u);delete o[e][s]}}else if(s)for(t in o)for(l in o[t])s===l&&pr(a,[t,s].join("."));else if(e){if(o[e]){for(l in o[e])pr(a,[e,l].join("."));delete o[e]}}else{for(t in o)pr(a,t);!function(t){let e=t.getEventHolder();e===wn.window&&(e=cr),e.events&&(e.events={})}(i)}}))}class yr extends xn{addEventListener(){}dispatch(t,e,n){return function(t,e,n,r){const i=fr(t);return e instanceof wn.window.Event||(e=new wn.window.CustomEvent(e,{detail:n,cancelable:!0,...r})),i.dispatchEvent(e),e}(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const r in n[e])n[e][r](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,n){return pr(this,t,e,n),this}on(t,e,n,r){return dr(this,t,e,n,r),this}removeEventListener(){}}function vr(){}Rn(yr,"EventTarget");const gr=400,mr=">",_r=0,br={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class wr extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(Xn).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class xr{constructor(...t){this.init(...t)}convert(t){return new xr(this.value,t)}divide(t){return t=new xr(t),new xr(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(jn))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof xr&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new xr(t),new xr(this-t,this.unit||t.unit)}plus(t){return t=new xr(t),new xr(this+t,this.unit||t.unit)}times(t){return t=new xr(t),new xr(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Sr=[];class Er extends yr{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=kn(t)).removeNamespace&&this.node instanceof wn.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return kn(t).put(this,e)}children(){return new ar(hn(this.node.children,(function(t){return Tn(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0){return this.writeDataToDom(),new this.constructor(Mn(this.node.cloneNode(t)))}each(t,e){const n=this.children();let r,i;for(r=0,i=n.length;r<i;r++)t.apply(n[r],[r,n]),e&&n[r].each(t,e);return this}element(t,e){return this.put(new Er(Cn(t),e))}first(){return Tn(this.node.firstChild)}get(t){return Tn(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=In(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Tn(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=Tn(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=Tn(e.node.parentNode));return e}put(t,e){return t=kn(t),this.add(t,e),t}putIn(t,e){return kn(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=kn(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,r=this.attr(e);for(const t in r)"number"==typeof r[t]&&(r[t]=Math.round(r[t]*n)/n);return this.attr(r),this}svg(t,e){return this.xml(t,e,mn)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=Tn(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each((function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const r=Cn("wrapper",n),i=wn.document.createDocumentFragment();r.innerHTML=t;for(let t=r.children.length;t--;)i.appendChild(r.firstElementChild);const o=this.parent();return e?this.replace(i)&&o:this.add(i)}}Dn(Er,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=Vn.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?br[t]:Vn.test(e)?parseFloat(e):e;"number"==typeof(e=Sr.reduce(((e,n)=>n(t,e,this)),e))?e=new xr(e):Jn.isColor(e)?e=new Jn(e):e.constructor===Array&&(e=new wr(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return lr(t,this.node)},findOne:function(t){return Tn(this.node.querySelector(t))}}),Rn(Er,"Dom");class Cr extends Er{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new xr(t).plus(this.x()))}dy(t=0){return this.y(new xr(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e="string"==typeof t;e||(t=kn(t));const n=new ar;let r=this;for(;(r=r.parent())&&r.node!==wn.document&&"#document-fragment"!==r.nodeName&&(n.push(r),e||r.node!==t.node)&&(!e||!r.matches(t));)if(r.node===this.root().node)return null;return n}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(Bn);return e?kn(e[1]):null}root(){const t=this.parent(Sn[En]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=vn(this,t,e);return this.width(new xr(n.width)).height(new xr(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}Dn(Cr,{bbox:function(){const t=or(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(nr().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new ir(t)},rbox:function(t){const e=or(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),n=new ir(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new $n(t,e).transform(this.screenCTM().inverse())},ctm:function(){return new er(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new er(e)}return new er(this.node.getScreenCTM())}}),Rn(Cr,"Element");const kr={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof Jn||Jn.isRgb(e)||e instanceof Cr)this.attr(t,e);else for(n=kr[t].length-1;n>=0;n--)null!=e[kr[t][n]]&&this.attr(kr.prefix(t,kr[t][n]),e[kr[t][n]]);return this},ln(["Element","Runner"],e)})),ln(["Element","Runner"],{matrix:function(t,e,n,r,i,o){return null==t?new er(this):this.attr("transform",new er(t,e,n,r,i,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),ln("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new xr(t)):this.rx(t).ry(e)}}),ln("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new $n(this.node.getPointAtLength(t))}}),ln(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),ln("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),ln("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(Un).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(Xn).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply(er.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new er)},toParent:function(t,e){if(this===t)return this;const n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new er(this).decompose();return null==t?e:e[t]}er.isMatrixLike(t)||(t={...t,origin:gn(t,this)});const n=new er(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class Pr extends Cr{flatten(t=this,e){return this.each((function(){if(this instanceof Pr)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(n,r){return r[r.length-n-1].toParent(t,e)})),this.remove()}}Rn(Pr,"Container");class Tr extends Pr{constructor(t,e=t){super(Pn("defs",t),e)}flatten(){return this}ungroup(){return this}}Rn(Tr,"Defs");class Or extends Cr{}function Rr(t){return this.attr("rx",t)}function Ar(t){return this.attr("ry",t)}function Ir(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Mr(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Dr(t){return this.attr("cx",t)}function Lr(t){return this.attr("cy",t)}function jr(t){return null==t?2*this.rx():this.rx(new xr(t).divide(2))}function Fr(t){return null==t?2*this.ry():this.ry(new xr(t).divide(2))}Rn(Or,"Shape");var Nr={__proto__:null,rx:Rr,ry:Ar,x:Ir,y:Mr,cx:Dr,cy:Lr,width:jr,height:Fr};class Br extends Or{constructor(t,e=t){super(Pn("ellipse",t),e)}size(t,e){const n=vn(this,t,e);return this.rx(new xr(n.width).divide(2)).ry(new xr(n.height).divide(2))}}Dn(Br,Nr),ln("Container",{ellipse:Ln((function(t=0,e=t){return this.put(new Br).size(t,e).move(0,0)}))}),Rn(Br,"Ellipse");class Ur extends Er{constructor(t=wn.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new Er(Cn("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}function zr(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new xr(t),fy:new xr(e)}):this.attr({x1:new xr(t),y1:new xr(e)})}function Wr(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new xr(t),cy:new xr(e)}):this.attr({x2:new xr(t),y2:new xr(e)})}Rn(Ur,"Fragment");var Gr,qr={__proto__:null,from:zr,to:Wr};class Vr extends Pr{constructor(t,e){super(Pn(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new ir}targets(){return lr('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}Dn(Vr,qr),ln({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Ln((function(t,e){return this.put(new Vr(t)).update(e)}))}}),Rn(Vr,"Gradient");class Hr extends Pr{constructor(t,e=t){super(Pn("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new ir}targets(){return lr('svg [fill*="'+this.id()+'"]')}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return'url("#'+this.id()+'")'}}ln({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Ln((function(t,e,n){return this.put(new Hr).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),Rn(Hr,"Pattern");class Xr extends Or{constructor(t,e=t){super(Pn("image",t),e)}load(t,e){if(!t)return this;const n=new wn.window.Image;return dr(n,"load",(function(t){const r=this.parent(Hr);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Hr&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),dr(n,"load error",(function(){pr(n)})),this.attr("href",n.src=t,bn)}}Gr=function(t,e,n){return"fill"!==t&&"stroke"!==t||Hn.test(e)&&(e=n.root().defs().image(e)),e instanceof Xr&&(e=n.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},Sr.push(Gr),ln({Container:{image:Ln((function(t,e){return this.put(new Xr).size(0,0).load(t,e)}))}}),Rn(Xr,"Image");class Yr extends wr{bbox(){let t=-1/0,e=-1/0,n=1/0,r=1/0;return this.forEach((function(i){t=Math.max(i[0],t),e=Math.max(i[1],e),n=Math.min(i[0],n),r=Math.min(i[1],r)})),new ir(n,r,t-n,e-r)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(Xn).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*t/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*e/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){er.isMatrixLike(t)||(t=new er(t));for(let e=this.length;e--;){const[n,r]=this[e];this[e][0]=t.a*n+t.c*r+t.e,this[e][1]=t.b*n+t.d*r+t.f}return this}}var Kr={__proto__:null,MorphArray:Yr,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class Zr extends Or{constructor(t,e=t){super(Pn("line",t),e)}array(){return new Yr([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new Yr(t).toLine(),this.attr(t))}size(t,e){const n=vn(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}Dn(Zr,Kr),ln({Container:{line:Ln((function(...t){return Zr.prototype.plot.apply(this.put(new Zr),null!=t[0]?t:[0,0,0,0])}))}}),Rn(Zr,"Line");class Qr extends Pr{constructor(t,e=t){super(Pn("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function Jr(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}ln({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Ln((function(t,e,n){return this.put(new Qr).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker(t,e,n,r){let i=["marker"];return"all"!==t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Qr?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}}),Rn(Qr,"Marker");const $r={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(r,i=!1)=>{let o=Math.floor(r*t);const a=r*o%1==0;return"start"!==e&&"both"!==e||++o,i&&a&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}};class ti{done(){return!1}}class ei extends ti{constructor(t=mr){super(),this.ease=$r[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class ni extends ti{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,r){return this.stepper(t,e,n,r)}}function ri(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,r=Math.log(e/100+1e-10),i=-r/Math.sqrt(n*n+r*r),o=3.9/(i*t);this.d=2*i*o,this.k=o*o}Dn(class extends ni{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const i=r.velocity||0,o=-this.d*i-this.k*(t-e),a=t+i*n+o*n*n/2;return r.velocity=i+o*n,r.done=Math.abs(e-a)+Math.abs(i)<.002,r.done?e:a}},{duration:Jr("_duration",ri),overshoot:Jr("_overshoot",ri)}),Dn(class extends ni{constructor(t=.1,e=.01,n=0,r=1e3){super(),this.p(t).i(e).d(n).windup(r)}step(t,e,n,r){if("string"==typeof t)return t;if(r.done=n===1/0,n===1/0)return e;if(0===n)return t;const i=e-t;let o=(r.integral||0)+i*n;const a=(i-(r.error||0))/n,s=this._windup;return!1!==s&&(o=Math.max(-s,Math.min(o,s))),r.error=i,r.integral=o,r.done=Math.abs(i)<.001,r.done?e:t+(this.P*i+this.I*o+this.D*a)}},{windup:Jr("_windup"),p:Jr("P"),i:Jr("I"),d:Jr("D")});const ii={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},oi={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},ai="mlhvqtcsaz".split("");for(let t=0,e=ai.length;t<e;++t)oi[ai[t]]=function(t){return function(e,n,r){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,r=e.length;t<r;++t)e[t]=e[t]+(t%2?n.y:n.x);return oi[t](e,n,r)}}(ai[t].toUpperCase());function si(t){return t.segment.length&&t.segment.length-1===ii[t.segment[0].toUpperCase()]}function li(t,e){t.inNumber&&ui(t,!1);const n=Yn.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),r=e===n;t.segment=["m"===n?r?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function ui(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,si(t)&&ci(t)}function ci(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return oi[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function hi(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function fi(t){return"E"===t.lastToken.toUpperCase()}class di extends wr{bbox(){return nr().path.setAttribute("d",this.toString()),new ir(nr.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],"M"===n||"L"===n||"T"===n?(this[r][1]+=t,this[r][2]+=e):"H"===n?this[r][1]+=t:"V"===n?this[r][1]+=e:"C"===n||"S"===n||"Q"===n?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,"C"===n&&(this[r][5]+=t,this[r][6]+=e)):"A"===n&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new $n,p:new $n};for(;i.lastToken=r,r=t.charAt(n++);)if(i.inSegment||!li(i,r))if("."!==r)if(isNaN(parseInt(r)))if(" "!==r&&","!==r)if("-"!==r)if("E"!==r.toUpperCase()){if(Yn.test(r)){if(i.inNumber)ui(i,!1);else{if(!si(i))throw new Error("parser Error");ci(i)}--n}}else i.number+=r,i.hasExponent=!0;else{if(i.inNumber&&!fi(i)){ui(i,!1),--n;continue}i.number+=r,i.inNumber=!0}else i.inNumber&&ui(i,!1);else{if("0"===i.number||hi(i)){i.inNumber=!0,i.number=r,ui(i,!0);continue}i.inNumber=!0,i.number+=r}else{if(i.pointSeen||i.hasExponent){ui(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r}return i.inNumber&&ui(i,!1),i.inSegment&&si(i)&&ci(i),i.segments}(t)}size(t,e){const n=this.bbox();let r,i;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,r=this.length-1;r>=0;r--)i=this[r][0],"M"===i||"L"===i||"T"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y):"H"===i?this[r][1]=(this[r][1]-n.x)*t/n.width+n.x:"V"===i?this[r][1]=(this[r][1]-n.y)*e/n.height+n.y:"C"===i||"S"===i||"Q"===i?(this[r][1]=(this[r][1]-n.x)*t/n.width+n.x,this[r][2]=(this[r][2]-n.y)*e/n.height+n.y,this[r][3]=(this[r][3]-n.x)*t/n.width+n.x,this[r][4]=(this[r][4]-n.y)*e/n.height+n.y,"C"===i&&(this[r][5]=(this[r][5]-n.x)*t/n.width+n.x,this[r][6]=(this[r][6]-n.y)*e/n.height+n.y)):"A"===i&&(this[r][1]=this[r][1]*t/n.width,this[r][2]=this[r][2]*e/n.height,this[r][6]=(this[r][6]-n.x)*t/n.width+n.x,this[r][7]=(this[r][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const pi=t=>{const e=typeof t;return"number"===e?xr:"string"===e?Jn.isColor(t)?Jn:Xn.test(t)?Yn.test(t)?di:wr:jn.test(t)?xr:vi:bi.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?wr:"object"===e?_i:vi};class yi{constructor(t){this._stepper=t||new ei("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(pi(t));let e=new this._type(t);return this._type===Jn&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===_i&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class vi{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class gi{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,gi.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}gi.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const mi=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class _i{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let n=0,r=e.length;n<r;++n){if(e[n+1]===t[n+1]){if(e[n+1]===Jn&&t[n+7]!==e[n+7]){const e=t[n+7],r=new Jn(this.values.splice(n+3,5))[e]().toArray();this.values.splice(n+3,0,...r)}n+=e[n+2]+2;continue}if(!t[n+1])return this;const r=(new t[n+1]).toArray(),i=e[n+2]+3;e.splice(n,i,t[n],t[n+1],t[n+2],...r),n+=e[n+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const r=pi(t[n]),i=new r(t[n]).toArray();e.push([n,r,i.length,...i])}return e.sort(mi),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),r=e.shift(),i=e.shift(),o=e.splice(0,i);t[n]=new r(o)}return t}}const bi=[vi,gi,_i];class wi extends Or{constructor(t,e=t){super(Pn("path",t),e)}array(){return this._array||(this._array=new di(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new di(t))}size(t,e){const n=vn(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}wi.prototype.MorphArray=di,ln({Container:{path:Ln((function(t){return this.put(new wi).plot(t||new di)}))}}),Rn(wi,"Path");var xi={__proto__:null,array:function(){return this._array||(this._array=new Yr(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new Yr(t))},size:function(t,e){const n=vn(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}};class Si extends Or{constructor(t,e=t){super(Pn("polygon",t),e)}}ln({Container:{polygon:Ln((function(t){return this.put(new Si).plot(t||new Yr)}))}}),Dn(Si,Kr),Dn(Si,xi),Rn(Si,"Polygon");class Ei extends Or{constructor(t,e=t){super(Pn("polyline",t),e)}}ln({Container:{polyline:Ln((function(t){return this.put(new Ei).plot(t||new Yr)}))}}),Dn(Ei,Kr),Dn(Ei,xi),Rn(Ei,"Polyline");class Ci extends Or{constructor(t,e=t){super(Pn("rect",t),e)}}Dn(Ci,{rx:Rr,ry:Ar}),ln({Container:{rect:Ln((function(t,e){return this.put(new Ci).size(t,e)}))}}),Rn(Ci,"Rect");class ki{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Pi={nextDraw:null,frames:new ki,timeouts:new ki,immediates:new ki,timer:()=>wn.window.performance||wn.window.Date,transforms:[],frame(t){const e=Pi.frames.push({run:t});return null===Pi.nextDraw&&(Pi.nextDraw=wn.window.requestAnimationFrame(Pi._draw)),e},timeout(t,e){e=e||0;const n=Pi.timer().now()+e,r=Pi.timeouts.push({run:t,time:n});return null===Pi.nextDraw&&(Pi.nextDraw=wn.window.requestAnimationFrame(Pi._draw)),r},immediate(t){const e=Pi.immediates.push(t);return null===Pi.nextDraw&&(Pi.nextDraw=wn.window.requestAnimationFrame(Pi._draw)),e},cancelFrame(t){null!=t&&Pi.frames.remove(t)},clearTimeout(t){null!=t&&Pi.timeouts.remove(t)},cancelImmediate(t){null!=t&&Pi.immediates.remove(t)},_draw(t){let e=null;const n=Pi.timeouts.last();for(;(e=Pi.timeouts.shift())&&(t>=e.time?e.run():Pi.timeouts.push(e),e!==n););let r=null;const i=Pi.frames.last();for(;r!==i&&(r=Pi.frames.shift());)r.run(t);let o=null;for(;o=Pi.immediates.shift();)o();Pi.nextDraw=Pi.timeouts.first()||Pi.frames.first()?wn.window.requestAnimationFrame(Pi._draw):null}},Ti=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},Oi=function(){const t=wn.window;return(t.performance||t.Date).now()};class Ri extends yr{constructor(t=Oi){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map(Ti);let r=0;const i=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=e,e=0;else if("now"===n)r=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(r=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();r=t?t.start:this._time}}t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:null===o?this._persist:o,start:r+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Pi.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Pi.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let i=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],o=n.runner;let a=r;const s=this._time-n.start;s<=0?i=!0:(s<a&&(a=s),o.active()&&(o.step(a).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--t,--e):i=!0))}return i&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}ln({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Ri,this._timeline):(this._timeline=t,this)}}});class Ai extends yr{constructor(t){super(),this.id=Ai.id++,t="function"==typeof(t=null==t?gr:t)?new ni(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof ni,this._stepper=this._isDeclarative?t:new ei,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new er,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let r=1,i=!1,o=0;return e=e||_r,n=n||"last","object"!=typeof(t=t||gr)||t instanceof ti||(e=t.delay||e,n=t.when||n,i=t.swing||i,r=t.times||r,o=t.wait||o,t=t.duration||gr),{duration:t,delay:e,swing:i,times:r,wait:o,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const r=Ai.sanitise(t,e,n),i=new Ai(r.duration);return this._timeline&&i.timeline(this._timeline),this._element&&i.element(this._element),i.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new er,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new ei(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,r=e*Math.floor(t)+this._duration*n;return this.time(r)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,r=this._wait,i=this._times,o=this._swing,a=this._reverse;let s;if(null==t){const t=function(t){const e=o*Math.floor(t%(2*(r+n))/(r+n)),i=e&&!a||!e&&a,s=Math.pow(-1,i)*(t%(r+n))/n+i;return Math.max(Math.min(s,1),0)},l=i*(r+n)-r;return s=e<=0?Math.round(t(1e-5)):e<l?t(e):Math.round(t(l-1e-5)),s}const l=Math.floor(this.loops()),u=o&&l%2==0;return s=l+(u&&!a||a&&u?t:1-t),this.loops(s)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,r){return this._queue.push({initialiser:t||vr,runner:e||vr,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Ri||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const r=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let s=!1;return(n||a)&&(this._initialise(n),this.transforms=new er,s=this._run(a?t:e),this.fire("step",this)),this.done=this.done||s&&a,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,r=this._queue.length;n<r;++n){const r=this._queue[n],i=r.runner.call(this,t);r.finished=r.finished||!0===i,e=e&&r.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}Ai.id=0;class Ii{constructor(t=new er,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}Dn([Ai,Ii],{mergeWith(t){return new Ii(t.transforms.lmultiply(this.transforms),t.id)}});const Mi=(t,e)=>t.lmultiplyO(e),Di=t=>t.transforms;function Li(){const t=this._transformationRunners.runners.map(Di).reduce(Mi,new er);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class ji{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Ii).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const r=n.mergeWith(t);this.edit(t.id,r),t=r,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}ln({Element:{animate(t,e,n){const r=Ai.sanitise(t,e,n),i=this.timeline();return new Ai(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Di).reduce(Mi,new er)},_addRunner(t){this._transformationRunners.add(t),Pi.cancelImmediate(this._frameId),this._frameId=Pi.immediate(Li.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new ji).add(new Ii(new er(this))))}}}),Dn(Ai,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new yi(this._stepper).to(r),o=Object.keys(r);return this.queue((function(){i=i.from(this.element()[t](o))}),(function(e){return this.element()[t](i.at(e).valueOf()),i.done()}),(function(e){const n=Object.keys(e),a=(s=o,n.filter((t=>!s.includes(t))));var s;if(a.length){const e=this.element()[t](a),n=new _i(i.from()).valueOf();Object.assign(n,e),i.from(n)}const l=new _i(i.to()).valueOf();Object.assign(l,e),i.to(l),o=n,r=e})),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new yi(this._stepper).to(new xr(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,r){e=r,n.to(t)})),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const r=er.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!r;const i=new yi(this._stepper).type(n?gi:er);let o,a,s,l,u;return this.queue((function(){a=a||this.element(),o=o||gn(t,a),u=new er(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:h,y:f}=new $n(o).transform(a._currentTransform(this));let d=new er({...t,origin:[h,f]}),p=this._isDeclarative&&s?s:u;if(n){d=d.decompose(h,f),p=p.decompose(h,f);const t=d.rotate,e=p.rotate,n=[t-360,t,t+360],r=n.map((t=>Math.abs(t-e))),i=Math.min(...r),o=r.indexOf(i);d.rotate=n[o]}e&&(r||(d.rotate=t.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),i.from(p),i.to(d);const y=i.at(c);return l=y.rotate,s=new er(y),this.addTransform(s),a._addRunner(this),i.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=gn(e,a)),t={...e,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new xr(e),this._tryRetarget(t,e))return this;const n=new yi(this._stepper).to(e);let r=null;return this.queue((function(){r=this.element()[t](),n.from(r),n.to(r+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(r+new xr(t))})),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new yi(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new xr(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(4===arguments.length)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;const i=new yi(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){i.from(this._element.array())}),(function(t){return this._element.plot(i.at(t)),i.done()})),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new ir(t,e,n,r))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),Dn(Ai,{rx:Rr,ry:Ar,from:zr,to:Wr}),Rn(Ai,"Runner");class Fi extends Pr{constructor(t,e=t){super(Pn("svg",t),e),this.namespace()}defs(){return this.isRoot()?Tn(this.node.querySelector("defs"))||this.put(new Tr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof wn.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:mn,version:"1.1"}).attr("xmlns:xlink",bn,_n).attr("xmlns:svgjs","http://svgjs.dev/svgjs",_n):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,_n).attr("xmlns:svgjs",null,_n)}root(){return this.isRoot()?this:super.root()}}ln({Container:{nested:Ln((function(){return this.put(new Fi)}))}}),Rn(Fi,"Svg",!0);class Ni extends Pr{constructor(t,e=t){super(Pn("symbol",t),e)}}ln({Container:{symbol:Ln((function(){return this.put(new Ni)}))}}),Rn(Ni,"Symbol");var Bi={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(wn.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class Ui extends Or{constructor(t,e=t){super(Pn("text",t),e),this.dom.leading=new xr(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new xr(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each((function(r){const i=wn.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new xr(i);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=o:(this.attr("dy",r?o+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new xr(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let r=0,i=e.length;r<i;++r)"textPath"!==e[r].nodeName?(r!==n&&3!==e[r].nodeType&&!0===Tn(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent):0===r&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}Dn(Ui,Bi),ln({Container:{text:Ln((function(t=""){return this.put(new Ui).text(t)})),plain:Ln((function(t=""){return this.put(new Ui).plain(t)}))}}),Rn(Ui,"Text");class zi extends Or{constructor(t,e=t){super(Pn("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Ui))return this;const e=t.index(this),n=wn.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new xr(n);return this.dy(e?r:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Dn(zi,Bi),ln({Tspan:{tspan:Ln((function(t=""){const e=new zi;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),Rn(zi,"Tspan");class Wi extends Or{constructor(t,e=t){super(Pn("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new xr(t).divide(2))}}Dn(Wi,{x:Ir,y:Mr,cx:Dr,cy:Lr,width:jr,height:Fr}),ln({Container:{circle:Ln((function(t=0){return this.put(new Wi).size(t).move(0,0)}))}}),Rn(Wi,"Circle");class Gi extends Pr{constructor(t,e=t){super(Pn("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return lr('svg [clip-path*="'+this.id()+'"]')}}ln({Container:{clip:Ln((function(){return this.defs().put(new Gi)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Gi?t:this.parent().clip().add(t);return this.attr("clip-path",'url("#'+e.id()+'")')},unclip(){return this.attr("clip-path",null)}}}),Rn(Gi,"ClipPath");class qi extends Cr{constructor(t,e=t){super(Pn("foreignObject",t),e)}}ln({Container:{foreignObject:Ln((function(t,e){return this.put(new qi).size(t,e)}))}}),Rn(qi,"ForeignObject");var Vi={__proto__:null,dmove:function(t,e){return this.children().forEach(((n,r)=>{let i;try{i=n.bbox()}catch(t){return}const o=new er(n),a=o.translate(t,e).transform(o.inverse()),s=new $n(i.x,i.y).transform(a);n.move(s.x,s.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const r=t-n.x,i=e-n.y;return this.dmove(r,i)},size:function(t,e,n=this.bbox()){const r=vn(this,t,e,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(((t,e)=>{const r=new $n(n).transform(new er(t).inverse());t.scale(i,o,r.x,r.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class Hi extends Pr{constructor(t,e=t){super(Pn("g",t),e)}}Dn(Hi,Vi),ln({Container:{group:Ln((function(){return this.put(new Hi)}))}}),Rn(Hi,"G");class Xi extends Pr{constructor(t,e=t){super(Pn("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,bn)}}Dn(Xi,Vi),ln({Container:{link:Ln((function(t){return this.put(new Xi).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Xi,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),Rn(Xi,"A");class Yi extends Pr{constructor(t,e=t){super(Pn("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return lr('svg [mask*="'+this.id()+'"]')}}ln({Container:{mask:Ln((function(){return this.defs().put(new Yi)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof Yi?t:this.parent().mask().add(t);return this.attr("mask",'url("#'+e.id()+'")')},unmask(){return this.attr("mask",null)}}}),Rn(Yi,"Mask");class Ki extends Cr{constructor(t,e=t){super(Pn("stop",t),e)}update(t){return("number"==typeof t||t instanceof xr)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new xr(t.offset)),this}}ln({Gradient:{stop:function(t,e,n){return this.put(new Ki).update(t,e,n)}}}),Rn(Ki,"Stop");class Zi extends Cr{constructor(t,e=t){super(Pn("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[t]+";";return n+="}",n}(t,e))}}ln("Dom",{style(t,e){return this.put(new Zi).rule(t,e)},fontface(t,e,n){return this.put(new Zi).font(t,e,n)}}),Rn(Zi,"Style");class Qi extends Ui{constructor(t,e=t){super(Pn("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}ln({Container:{textPath:Ln((function(t,e){return t instanceof Ui||(t=this.text(t)),t.path(e)}))},Text:{path:Ln((function(t,e=!0){const n=new Qi;let r;if(t instanceof wi||(t=this.defs().path(t)),n.attr("href","#"+t,bn),e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:Ln((function(t){return t instanceof Ui||(t=(new Ui).addTo(this.parent()).text(t)),t.path(this)})),targets(){return lr("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),Qi.prototype.MorphArray=di,Rn(Qi,"TextPath");class Ji extends Or{constructor(t,e=t){super(Pn("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,bn)}}ln({Container:{use:Ln((function(t,e){return this.put(new Ji).use(t,e)}))}}),Rn(Ji,"Use");const $i=kn;Dn([Fi,Ni,Xr,Hr,Qr],un("viewbox")),Dn([Zr,Ei,Si,wi],un("marker")),Dn(Ui,un("Text")),Dn(wi,un("Path")),Dn(Tr,un("Defs")),Dn([Ui,zi],un("Tspan")),Dn([Ci,Br,Vr,Ai],un("radius")),Dn(yr,un("EventTarget")),Dn(Er,un("Dom")),Dn(Cr,un("Element")),Dn(Or,un("Shape")),Dn([Pr,Ur],un("Container")),Dn(Vr,un("Gradient")),Dn(Ai,un("Runner")),ar.extend([...new Set(sn)]),function(t=[]){bi.push(...[].concat(t))}([xr,Jn,ir,er,wr,Yr,di,$n]),Dn(bi,{to(t){return(new yi).type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){return this.fromArray(t.map((function(t,o){return r.step(t,e[o],n,i[o],i)})))}});var to=__webpack_require__(2004),eo=__webpack_require__(3279),no=__webpack_require__.n(eo);function ro(t){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(t)}function io(t,e){return io=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},io(t,e)}function oo(t,e){if(e&&("object"===ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&io(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(n);if(r){var i=ao(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return oo(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).youtubeConfig={playerVars:{fs:0,disablekb:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0}},e.vimeoConfig={iframeParams:{autopause:0,badge:0,byline:0,fullscreen:0,portrait:0,title:0}},e}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.Component);function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function co(t,e){return co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},co(t,e)}function ho(t,e){if(e&&("object"===lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fo(t){return fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fo(t)}var po=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fo(i);if(o){var n=fo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ho(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={duration:null},e.debouncedSeek=no()(e.seekTo,200,{leading:!0,trailing:!1}),e}return n=s,(r=[{key:"render",value:function(){var e=this,n=this.props.data.source;"youtube"===this.props.data.host&&(n="https://www.youtube.com/watch?v="+this.props.data.source);var r=this.props.hidden?0:this.props.data.volume/100,i=this.props.data.start_time-this.props.time,o=i>0&&i<2;o&&this.debouncedSeek(this.props.time/this.props.sequenceDuration);var a=o||!this.props.hidden&&this.props.playing;return t.createElement(to.Z,{ref:function(t){return e.player=t},width:480,height:360,url:n,volume:r,style:{display:this.props.hidden?"none":"block"},onDuration:this.onDuration.bind(this),onStart:this.onStart.bind(this),onPlay:this.onPlay.bind(this),playing:a,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}})}},{key:"pause",value:function(){this.player&&this.player.player&&this.player.player.pause&&this.player.player.pause()}},{key:"onDuration",value:function(t){this.setState({duration:t})}},{key:"onPlay",value:function(){this.props.playing||this.props.hidden||this.pause()}},{key:"onStart",value:function(){var t=this.props.data;if(t.annotationStartTime&&this.state.duration){var e=t.annotationStartTime/this.state.duration;this.player.seekTo(e)}}},{key:"seekTo",value:function(t){if(this.player){var e=this.props.sequenceDuration*t,n=this.props.data,r=(e-n.start_time+(n.annotationStartTime||0))/this.state.duration;r>-1&&r<=1&&this.player.seekTo(r)}}}])&&uo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(so),yo={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5"};yo.WEBGL_MAX_TEXTURE_SIZE,yo.WEBGL_EXTENSIONS,yo.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yo.nullFunction=function(){},yo.getUid=function(t){return t.ol_uid||(t.ol_uid=++yo.uidCounter_)},yo.uidCounter_=0;const vo=yo;var go=function(t){var e=vo.VERSION?vo.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};vo.inherits(go,Error);const mo=go;const _o={assert:function(t,e){if(!t)throw new mo(e)}};var bo={};bo.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},bo.clear=function(t){for(var e in t)delete t[e]},bo.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},bo.isEmpty=function(t){var e;for(e in t)return!1;return!e};const wo=bo;var xo={bindListener_:function(t){var e=function(e){var n=t.listener,r=t.bindTo||t.target;return t.callOnce&&xo.unlistenByKey(t),n.call(r,e)};return t.boundListener=e,e},findListener_:function(t,e,n,r){for(var i,o=0,a=t.length;o<a;++o)if((i=t[o]).listener===e&&i.bindTo===n)return r&&(i.deleteIndex=o),i},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=xo.getListeners(t,e);if(n){for(var r=0,i=n.length;r<i;++r)t.removeEventListener(e,n[r].boundListener),wo.clear(n[r]);n.length=0;var o=t.ol_lm;o&&(delete o[e],0===Object.keys(o).length&&delete t.ol_lm)}},listen:function(t,e,n,r,i){var o=xo.getListenerMap_(t),a=o[e];a||(a=o[e]=[]);var s=xo.findListener_(a,n,r,!1);return s?i||(s.callOnce=!1):(s={bindTo:r,callOnce:!!i,listener:n,target:t,type:e},t.addEventListener(e,xo.bindListener_(s)),a.push(s)),s},listenOnce:function(t,e,n,r){return xo.listen(t,e,n,r,!0)},unlisten:function(t,e,n,r){var i=xo.getListeners(t,e);if(i){var o=xo.findListener_(i,n,r,!0);o&&xo.unlistenByKey(o)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=xo.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&xo.removeListeners_(t.target,t.type)}wo.clear(t)}},unlistenAll:function(t){var e=xo.getListenerMap_(t);for(var n in e)xo.removeListeners_(t,n)}};const So=xo,Eo="change",Co="clear",ko="click",Po="dblclick",To="error",Oo="keydown",Ro="keypress",Ao="load",Io="mousedown",Mo="mousewheel",Do="MSPointerDown",Lo="resize",jo="touchstart",Fo="wheel",No="propertychange";var Bo=function(){};Bo.prototype.disposed_=!1,Bo.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},Bo.prototype.disposeInternal=vo.nullFunction;const Uo=Bo;var zo=function(t){this.propagationStopped,this.type=t,this.target=null};zo.prototype.preventDefault=zo.prototype.stopPropagation=function(){this.propagationStopped=!0},zo.stopPropagation=function(t){t.stopPropagation()},zo.preventDefault=function(t){t.preventDefault()};const Wo=zo;var Go=function(){Uo.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};vo.inherits(Go,Uo),Go.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},Go.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Wo(t):t,n=e.type;e.target=this;var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,a=i.length;o<a;++o)if(!1===i[o].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,vo.nullFunction);delete this.dispatching_[n]}return r}},Go.prototype.disposeInternal=function(){So.unlistenAll(this)},Go.prototype.getListeners=function(t){return this.listeners_[t]},Go.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},Go.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=vo.nullFunction,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}};const qo=Go;var Vo=function(){qo.call(this),this.revision_=0};vo.inherits(Vo,qo),Vo.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)So.unlistenByKey(t[e]);else So.unlistenByKey(t)},Vo.prototype.changed=function(){++this.revision_,this.dispatchEvent(Eo)},Vo.prototype.dispatchEvent,Vo.prototype.getRevision=function(){return this.revision_},Vo.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=So.listen(this,t[o],e,n);return i}return So.listen(this,t,e,n)},Vo.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=So.listenOnce(this,t[o],e,n);return i}return So.listenOnce(this,t,e,n)},Vo.prototype.un=function(t,e,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)So.unlisten(this,t[r],e,n);else So.unlisten(this,t,e,n)};const Ho=Vo;var Xo=function(t){Ho.call(this),vo.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};vo.inherits(Xo,Ho),Xo.changeEventTypeCache_={},Xo.getChangeEventType=function(t){return Xo.changeEventTypeCache_.hasOwnProperty(t)?Xo.changeEventTypeCache_[t]:Xo.changeEventTypeCache_[t]="change:"+t},Xo.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},Xo.prototype.getKeys=function(){return Object.keys(this.values_)},Xo.prototype.getProperties=function(){return wo.assign({},this.values_)},Xo.prototype.notify=function(t,e){var n;n=Xo.getChangeEventType(t),this.dispatchEvent(new Xo.Event(n,t,e)),n=No,this.dispatchEvent(new Xo.Event(n,t,e))},Xo.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},Xo.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},Xo.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},Xo.Event=function(t,e,n){Wo.call(this,t),this.key=e,this.oldValue=n},vo.inherits(Xo.Event,Wo);const Yo=Xo,Ko="bottom-left",Zo="bottom-right",Qo="top-left",Jo="top-right",$o=0,ta=1,ea=2,na=4,ra=8,ia=16;var oa={boundingExtent:function(t){for(var e=oa.createEmpty(),n=0,r=t.length;n<r;++n)oa.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return oa.createOrUpdate(r,i,o,a,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},containsCoordinate:function(t,e){return oa.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=$o;return a<n?l|=ia:a>i&&(l|=na),s<r?l|=ra:s>o&&(l|=ea),l===$o&&(l=ta),l},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]},createOrUpdateEmpty:function(t){return oa.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],r=t[1];return oa.createOrUpdate(n,r,n,r,e)},createOrUpdateFromCoordinates:function(t,e){var n=oa.createOrUpdateEmpty(e);return oa.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,r,i){var o=oa.createOrUpdateEmpty(i);return oa.extendFlatCoordinates(o,t,e,n,r)},createOrUpdateFromRings:function(t,e){var n=oa.createOrUpdateEmpty(e);return oa.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)oa.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,r,i){for(;n<r;n+=i)oa.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)oa.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var r;return(r=e.call(n,oa.getBottomLeft(t)))||(r=e.call(n,oa.getBottomRight(t)))||(r=e.call(n,oa.getTopRight(t)))?r:(r=e.call(n,oa.getTopLeft(t)))||!1},getArea:function(t){var e=0;return oa.isEmpty(t)||(e=oa.getWidth(t)*oa.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return e===Ko?n=oa.getBottomLeft(t):e===Zo?n=oa.getBottomRight(t):e===Qo?n=oa.getTopLeft(t):e===Jo?n=oa.getTopRight(t):_o.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},getForViewAndSize:function(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,h=a*s,f=a*l,d=t[0],p=t[1],y=d-u+f,v=d-u-f,g=d+u-f,m=d+u+f,_=p-c-h,b=p-c+h,w=p+c+h,x=p+c-h;return oa.createOrUpdate(Math.min(y,v,g,m),Math.min(_,b,w,x),Math.max(y,v,g,m),Math.max(_,b,w,x),i)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=oa.getIntersection(t,e);return oa.getArea(n)},getIntersection:function(t,e,n){var r=n||oa.createEmpty();return oa.intersects(t,e)&&(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]),r},getMargin:function(t){return oa.getWidth(t)+oa.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},intersectsSegment:function(t,e,n){var r=!1,i=oa.coordinateRelationship(t,e),o=oa.coordinateRelationship(t,n);if(i===ta||o===ta)r=!0;else{var a,s,l=t[0],u=t[1],c=t[2],h=t[3],f=e[0],d=e[1],p=n[0],y=n[1],v=(y-d)/(p-f);o&ea&&!(i&ea)&&(r=(a=p-(y-h)/v)>=l&&a<=c),r||!(o&na)||i&na||(r=(s=y-(p-c)*v)>=u&&s<=h),r||!(o&ra)||i&ra||(r=(a=p-(y-u)/v)>=l&&a<=c),r||!(o&ia)||i&ia||(r=(s=y-(p-l)*v)>=u&&s<=h)}return r},applyTransform:function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var i=[r[0],r[2],r[4],r[6]],o=[r[1],r[3],r[5],r[7]];return oa.boundingExtentXYs_(i,o,n)}};const aa=oa;const sa={TRUE:function(){return!0},FALSE:function(){return!1}};const la={transform2D:function(t,e,n,r,i,o){var a,s=o||[],l=0;for(a=e;a<n;a+=r){var u=t[a],c=t[a+1];s[l++]=i[0]*u+i[2]*c+i[4],s[l++]=i[1]*u+i[3]*c+i[5]}return o&&s.length!=l&&(s.length=l),s},rotate:function(t,e,n,r,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],h=o[1],f=0,d=e;d<n;d+=r){var p=t[d]-c,y=t[d+1]-h;s[f++]=c+p*l-y*u,s[f++]=h+p*u+y*l;for(var v=d+2;v<d+r;++v)s[f++]=t[v]}return a&&s.length!=f&&(s.length=f),s},scale:function(t,e,n,r,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,f=e;f<n;f+=r){var d=t[f]-u,p=t[f+1]-c;l[h++]=u+i*d,l[h++]=c+o*p;for(var y=f+2;y<f+r;++y)l[h++]=t[y]}return s&&l.length!=h&&(l.length=h),l},translate:function(t,e,n,r,i,o,a){var s,l,u=a||[],c=0;for(s=e;s<n;s+=r)for(u[c++]=t[s]+i,u[c++]=t[s+1]+o,l=s+2;l<s+r;++l)u[c++]=t[l];return a&&u.length!=c&&(u.length=c),u}};var ua={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};ua.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},ua.roundUpToPowerOfTwo=function(t){return _o.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},ua.squaredSegmentDistance=function(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return ua.squaredDistance(t,e,n,r)},ua.squaredDistance=function(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o},ua.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--)t[d][e]-=t[d][f]*h[f]}return h},ua.toDegrees=function(t){return 180*t/Math.PI},ua.toRadians=function(t){return t*Math.PI/180},ua.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},ua.lerp=function(t,e,n){return t+n*(e-t)};const ca=ua,ha="Point",fa="LineString",da="LinearRing",pa="Polygon",ya="MultiPoint",va="MultiLineString",ga="MultiPolygon",ma="GeometryCollection",_a="Circle";var ba=function(t){this.radius=t};ba.prototype.geodesicArea=function(t){return ba.getArea_(t,this.radius)},ba.prototype.haversineDistance=function(t,e){return ba.getDistance_(t,e,this.radius)},ba.prototype.offset=function(t,e,n){var r=ca.toRadians(t[1]),i=ca.toRadians(t[0]),o=e/this.radius,a=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=i+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(a));return[ca.toDegrees(s),ca.toDegrees(a)]},ba.DEFAULT_RADIUS=6371008.8,ba.getLength=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||ba.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",h=(t=t.clone().transform(c,"EPSG:4326")).getType(),f=0;switch(h){case ha:case ya:break;case fa:case da:n=t.getCoordinates(),f=ba.getLength_(n,u);break;case va:case pa:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)f+=ba.getLength_(n[i],u);break;case ga:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(a=0,s=(r=n[i]).length;a<s;++a)f+=ba.getLength_(r[a],u);break;case ma:var d=t.getGeometries();for(i=0,o=d.length;i<o;++i)f+=ba.getLength(d[i],e);break;default:throw new Error("Unsupported geometry type: "+h)}return f},ba.getLength_=function(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=ba.getDistance_(t[r],t[r+1],e);return n},ba.getDistance_=function(t,e,n){var r=ca.toRadians(t[1]),i=ca.toRadians(e[1]),o=(i-r)/2,a=ca.toRadians(e[0]-t[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},ba.getArea=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||ba.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",h=(t=t.clone().transform(c,"EPSG:4326")).getType(),f=0;switch(h){case ha:case ya:case fa:case va:case da:break;case pa:for(n=t.getCoordinates(),f=Math.abs(ba.getArea_(n[0],u)),i=1,o=n.length;i<o;++i)f-=Math.abs(ba.getArea_(n[i],u));break;case ga:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(r=n[i],f+=Math.abs(ba.getArea_(r[0],u)),a=1,s=r.length;a<s;++a)f-=Math.abs(ba.getArea_(r[a],u));break;case ma:var d=t.getGeometries();for(i=0,o=d.length;i<o;++i)f+=ba.getArea(d[i],e);break;default:throw new Error("Unsupported geometry type: "+h)}return f},ba.getArea_=function(t,e){for(var n=0,r=t.length,i=t[r-1][0],o=t[r-1][1],a=0;a<r;a++){var s=t[a][0],l=t[a][1];n+=ca.toRadians(s-i)*(2+Math.sin(ca.toRadians(o))+Math.sin(ca.toRadians(l))),i=s,o=l}return n*e*e/2};const wa=ba;var xa={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};xa.METERS_PER_UNIT[xa.DEGREES]=2*Math.PI*6370997/360,xa.METERS_PER_UNIT[xa.FEET]=.3048,xa.METERS_PER_UNIT[xa.METERS]=1,xa.METERS_PER_UNIT[xa.USFEET]=1200/3937;const Sa=xa;var Ea={cache_:null,set:function(t){Ea.cache_=t},get:function(){return Ea.cache_||window.proj4}};const Ca=Ea;var ka=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(vo.ENABLE_PROJ4JS){var n=Ca.get();if("function"==typeof n){var r=n.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};ka.prototype.canWrapX=function(){return this.canWrapX_},ka.prototype.getCode=function(){return this.code_},ka.prototype.getExtent=function(){return this.extent_},ka.prototype.getUnits=function(){return this.units_},ka.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Sa.METERS_PER_UNIT[this.units_]},ka.prototype.getWorldExtent=function(){return this.worldExtent_},ka.prototype.getAxisOrientation=function(){return this.axisOrientation_},ka.prototype.isGlobal=function(){return this.global_},ka.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},ka.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ka.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},ka.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},ka.prototype.setWorldExtent=function(t){this.worldExtent_=t},ka.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},ka.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};const Pa=ka;var Ta={Projection_:function(t){Pa.call(this,{code:t,units:Sa.METERS,extent:Ta.EXTENT,global:!0,worldExtent:Ta.WORLD_EXTENT,getPointResolution:function(t,e){return t/ca.cosh(e[1]/Ta.RADIUS)}})}};vo.inherits(Ta.Projection_,Pa),Ta.RADIUS=6378137,Ta.HALF_SIZE=Math.PI*Ta.RADIUS,Ta.EXTENT=[-Ta.HALF_SIZE,-Ta.HALF_SIZE,Ta.HALF_SIZE,Ta.HALF_SIZE],Ta.WORLD_EXTENT=[-180,-85,180,85],Ta.PROJECTIONS=[new Ta.Projection_("EPSG:3857"),new Ta.Projection_("EPSG:102100"),new Ta.Projection_("EPSG:102113"),new Ta.Projection_("EPSG:900913"),new Ta.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Ta.Projection_("urn:ogc:def:crs:EPSG::3857"),new Ta.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],Ta.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=Ta.HALF_SIZE,s=0;s<r;s+=i){o[s]=a*t[s]/180;var l=Ta.RADIUS*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o},Ta.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/Ta.HALF_SIZE,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Ta.RADIUS))/Math.PI-90;return o};const Oa=Ta;var Ra={Projection_:function(t,e){Pa.call(this,{code:t,units:Sa.DEGREES,extent:Ra.EXTENT,axisOrientation:e,global:!0,metersPerUnit:Ra.METERS_PER_UNIT,worldExtent:Ra.EXTENT})}};vo.inherits(Ra.Projection_,Pa),Ra.RADIUS=6378137,Ra.EXTENT=[-180,-90,180,90],Ra.METERS_PER_UNIT=Math.PI*Ra.RADIUS/180,Ra.PROJECTIONS=[new Ra.Projection_("CRS:84"),new Ra.Projection_("EPSG:4326","neu"),new Ra.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new Ra.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Ra.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ra.Projection_("urn:ogc:def:crs:OGC:2:84"),new Ra.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ra.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];const Aa=Ra;var Ia={cache_:{},clear:function(){Ia.cache_={}},get:function(t){return Ia.cache_[t]||null},add:function(t,e){Ia.cache_[t]=e}};const Ma=Ia;var Da={cache_:{},clear:function(){Da.cache_={}},add:function(t,e,n){var r=t.getCode(),i=e.getCode(),o=Da.cache_;r in o||(o[r]={}),o[r][i]=n},remove:function(t,e){var n=t.getCode(),r=e.getCode(),i=Da.cache_,o=i[n][r];return delete i[n][r],wo.isEmpty(i[n])&&delete i[n],o},get:function(t,e){var n,r=Da.cache_;return t in r&&e in r[t]&&(n=r[t][e]),n}};const La=Da;var ja={};ja.METERS_PER_UNIT=Sa.METERS_PER_UNIT,ja.SPHERE_=new wa(wa.DEFAULT_RADIUS),vo.ENABLE_PROJ4JS&&(ja.setProj4=function(t){Ca.set(t)}),ja.getPointResolution=function(t,e,n,r){var i,o=(t=ja.get(t)).getPointResolutionFunc();if(o)i=o(e,n);else if(t.getUnits()==Sa.DEGREES&&!r||r==Sa.DEGREES)i=e;else{var a=ja.getTransformFromProjections(t,ja.get("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),i=(ja.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4))+ja.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8)))/2;var l=r?Sa.METERS_PER_UNIT[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}return i},ja.addEquivalentProjections=function(t){ja.addProjections(t),t.forEach((function(e){t.forEach((function(t){e!==t&&La.add(e,t,ja.cloneTransform)}))}))},ja.addEquivalentTransforms=function(t,e,n,r){t.forEach((function(t){e.forEach((function(e){La.add(t,e,n),La.add(e,t,r)}))}))},ja.addProjection=function(t){Ma.add(t.getCode(),t),La.add(t,t,ja.cloneTransform)},ja.addProjections=function(t){t.forEach(ja.addProjection)},ja.clearAllProjections=function(){Ma.clear(),La.clear()},ja.createProjection=function(t,e){return t?"string"==typeof t?ja.get(t):t:ja.get(e)},ja.addCoordinateTransforms=function(t,e,n,r){var i=ja.get(t),o=ja.get(e);La.add(i,o,ja.createTransformFromCoordinateTransform(n)),La.add(o,i,ja.createTransformFromCoordinateTransform(r))},ja.createTransformFromCoordinateTransform=function(t){return function(e,n,r){var i,o,a,s=e.length,l=void 0!==r?r:2,u=void 0!==n?n:new Array(s);for(o=0;o<s;o+=l)for(i=t([e[o],e[o+1]]),u[o]=i[0],u[o+1]=i[1],a=l-1;a>=2;--a)u[o+a]=e[o+a];return u}},ja.fromLonLat=function(t,e){return ja.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},ja.toLonLat=function(t,e){var n=ja.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=ca.modulo(r+180,360)-180),n},ja.get=function(t){var e=null;if(t instanceof Pa)e=t;else if("string"==typeof t){var n=t;if(e=Ma.get(n),vo.ENABLE_PROJ4JS&&!e){var r=Ca.get();"function"==typeof r&&void 0!==r.defs(n)&&(e=new Pa({code:n}),ja.addProjection(e))}}return e},ja.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||ja.getTransformFromProjections(t,e)===ja.cloneTransform)&&n},ja.getTransform=function(t,e){var n=ja.get(t),r=ja.get(e);return ja.getTransformFromProjections(n,r)},ja.getTransformFromProjections=function(t,e){var n=t.getCode(),r=e.getCode(),i=La.get(n,r);if(vo.ENABLE_PROJ4JS&&!i){var o=Ca.get();if("function"==typeof o){var a=o.defs(n),s=o.defs(r);if(void 0!==a&&void 0!==s){if(a===s)ja.addEquivalentProjections([e,t]);else{var l=o(r,n);ja.addCoordinateTransforms(e,t,l.forward,l.inverse)}i=La.get(n,r)}}}return i||(i=ja.identityTransform),i},ja.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t},ja.cloneTransform=function(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r},ja.transform=function(t,e,n){return ja.getTransform(e,n)(t,void 0,t.length)},ja.transformExtent=function(t,e,n){var r=ja.getTransform(e,n);return aa.applyTransform(t,r)},ja.transformWithProjections=function(t,e,n){return ja.getTransformFromProjections(e,n)(t)},ja.addCommon=function(){ja.addEquivalentProjections(Oa.PROJECTIONS),ja.addEquivalentProjections(Aa.PROJECTIONS),ja.addEquivalentTransforms(Aa.PROJECTIONS,Oa.PROJECTIONS,Oa.fromEPSG4326,Oa.toEPSG4326)},ja.addCommon();const Fa=ja;var Na={};Na.tmp_=new Array(6),Na.create=function(){return[1,0,0,1,0,0]},Na.reset=function(t){return Na.set(t,1,0,0,1,0,0)},Na.multiply=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],h=e[3],f=e[4],d=e[5];return t[0]=n*l+i*u,t[1]=r*l+o*u,t[2]=n*c+i*h,t[3]=r*c+o*h,t[4]=n*f+i*d+a,t[5]=r*f+o*d+s,t},Na.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},Na.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},Na.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},Na.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return Na.multiply(t,Na.set(Na.tmp_,n,r,-r,n,0,0))},Na.scale=function(t,e,n){return Na.multiply(t,Na.set(Na.tmp_,e,0,0,n,0,0))},Na.translate=function(t,e,n){return Na.multiply(t,Na.set(Na.tmp_,1,0,0,1,e,n))},Na.compose=function(t,e,n,r,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=a*r*u-s*r*l+e,t[5]=a*i*l+s*i*u+n,t},Na.invert=function(t){var e=Na.determinant(t);_o.assert(0!==e,32);var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-r/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-o*a)/e,t[5]=-(n*s-r*a)/e,t},Na.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};const Ba=Na;var Ua=function(){Yo.call(this),this.extent_=aa.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=Ba.create()};vo.inherits(Ua,Yo),Ua.prototype.clone=function(){},Ua.prototype.closestPointXY=function(t,e,n,r){},Ua.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},Ua.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},Ua.prototype.computeExtent=function(t){},Ua.prototype.containsXY=sa.FALSE,Ua.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),aa.returnOrUpdate(this.extent_,t)},Ua.prototype.rotate=function(t,e){},Ua.prototype.scale=function(t,e,n){},Ua.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},Ua.prototype.getSimplifiedGeometry=function(t){},Ua.prototype.getType=function(){},Ua.prototype.applyTransform=function(t){},Ua.prototype.intersectsExtent=function(t){},Ua.prototype.translate=function(t,e){},Ua.prototype.transform=function(t,e){var n=this.tmpTransform_,r=(t=Fa.get(t)).getUnits()==Sa.TILE_PIXELS?function(r,i,o){var a=t.getExtent(),s=t.getWorldExtent(),l=aa.getHeight(s)/aa.getHeight(a);return Ba.compose(n,s[0],s[3],l,-l,0,0,0),la.transform2D(r,0,r.length,o,n,i),Fa.getTransform(t,e)(r,i,o)}:Fa.getTransform(t,e);return this.applyTransform(r),this};const za=Ua;var Wa,Ga,qa={HEX_COLOR_RE_:/^#(?:[0-9a-f]{3,4}){1,2}$/i,NAMED_COLOR_RE_:/^([a-z]*)$/i,asArray:function(t){return Array.isArray(t)?t:qa.fromString(t)},asString:function(t){return"string"==typeof t?t:qa.toString(t)},fromNamed:function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}};qa.fromString=(Wa={},Ga=0,function(t){var e;if(Wa.hasOwnProperty(t))e=Wa[t];else{if(Ga>=1024){var n,r=0;for(n in Wa)0==(3&r++)&&(delete Wa[n],--Ga)}e=qa.fromStringInternal_(t),Wa[t]=e,++Ga}return e}),qa.fromStringInternal_=function(t){var e,n,r,i,o,a;if(qa.NAMED_COLOR_RE_.exec(t)&&(t=qa.fromNamed(t)),qa.HEX_COLOR_RE_.exec(t)){var s,l=t.length-1;s=l<=4?1:2;var u=4===l||8===l;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?(a=t.slice(5,-1).split(",").map(Number),o=qa.normalize(a)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),o=qa.normalize(a)):_o.assert(!1,14);return o},qa.normalize=function(t,e){var n=e||[];return n[0]=ca.clamp(t[0]+.5|0,0,255),n[1]=ca.clamp(t[1]+.5|0,0,255),n[2]=ca.clamp(t[2]+.5|0,0,255),n[3]=ca.clamp(t[3],0,1),n},qa.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"};const Va=qa;var Ha={asColorLike:function(t){return Ha.isColorLike(t)?t:Va.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}};const Xa=Ha;var Ya={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}};const Ka=Ya;var Za={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,r,i=Za.CONTEXT_IDS_.length;for(r=0;r<i;++r)try{if(n=t.getContext(Za.CONTEXT_IDS_[r],e))return n}catch(t){}return null}};const Qa=Za;var Ja={},$a="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";Ja.FIREFOX=-1!==$a.indexOf("firefox"),Ja.SAFARI=-1!==$a.indexOf("safari")&&-1==$a.indexOf("chrom"),Ja.WEBKIT=-1!==$a.indexOf("webkit")&&-1==$a.indexOf("edge"),Ja.MAC=-1!==$a.indexOf("macintosh"),Ja.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,Ja.CANVAS_LINE_DASH=!1,Ja.CANVAS=vo.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Ja.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),Ja.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,Ja.GEOLOCATION="geolocation"in navigator,Ja.TOUCH=vo.ASSUME_TOUCH||"ontouchstart"in window,Ja.POINTER="PointerEvent"in window,Ja.MSPOINTER=!!navigator.msPointerEnabled,Ja.WEBGL,function(){if(vo.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),i=Qa.getContext(r,{failIfMajorPerformanceCaveat:!0});i&&(e=!0,t=i.getParameter(i.MAX_TEXTURE_SIZE),n=i.getSupportedExtensions())}catch(t){}Ja.WEBGL=e,vo.WEBGL_EXTENSIONS=n,vo.WEBGL_MAX_TEXTURE_SIZE=t}}();const ts=Ja,es=0,ns=1,rs=2,is=3;var os={CLASS_HIDDEN:"ol-hidden",CLASS_SELECTABLE:"ol-selectable",CLASS_UNSELECTABLE:"ol-unselectable",CLASS_UNSUPPORTED:"ol-unsupported",CLASS_CONTROL:"ol-control"};os.getFontFamilies=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var r=t.fontFamily;if(t.font="",!r)return null;e[n]=r.split(/,\s?/)}return e[n]}}();const as=os;var ss=function(t){qo.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};vo.inherits(ss,qo),ss.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},ss.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Co)},ss.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},ss.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},ss.prototype.get=function(t){var e=this.entries_[t];return _o.assert(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},ss.prototype.remove=function(t){var e=this.entries_[t];return _o.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},ss.prototype.getCount=function(){return this.count_},ss.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},ss.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},ss.prototype.peekLast=function(){return this.oldest_.value_},ss.prototype.peekLastKey=function(){return this.oldest_.key_},ss.prototype.peekFirstKey=function(){return this.newest_.key_},ss.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},ss.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},ss.prototype.set=function(t,e){_o.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},ss.prototype.prune=function(){for(;this.canExpireCache();)this.pop()};const ls=ss;var us,cs,hs={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:"center",defaultTextBaseline:"middle",defaultPadding:[0,0,0,0],defaultLineWidth:1};hs.labelCache=new ls,hs.checkedFonts_={},hs.measureContext_=null,hs.textHeights_={},hs.checkFont=function(){var t,e,n=hs.checkedFonts_,r=hs.labelCache,i="wmytzilWMYTZIL@#/&?$%10";function o(t){var n=hs.getMeasureContext();n.font="32px monospace",e=n.measureText(i).width;var r=!0;return"monospace"!=t&&(n.font="32px "+t+",monospace",r=n.measureText(i).width!=e),r}function a(){var e=!0;for(var i in n)n[i]<60&&(o(i)?(n[i]=60,wo.clear(hs.textHeights_),hs.measureContext_=null,r.clear()):(++n[i],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var r=as.getFontFamilies(e);if(r)for(var i=0,s=r.length;i<s;++i){var l=r[i];l in n||(n[l]=60,o(l)||(n[l]=0,void 0===t&&(t=window.setInterval(a,32))))}}}(),hs.getMeasureContext=function(){var t=hs.measureContext_;return t||(t=hs.measureContext_=Ka.createCanvasContext2D(1,1)),t},hs.measureTextHeight=(cs=hs.textHeights_,function(t){var e=cs[t];return null==e&&(us||((us=document.createElement("span")).textContent="M",us.style.margin=us.style.padding="0 !important",us.style.position="absolute !important",us.style.left="-99999px !important"),us.style.font=t,document.body.appendChild(us),e=cs[t]=us.offsetHeight,document.body.removeChild(us)),e}),hs.measureTextWidth=function(t,e){var n=hs.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},hs.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},hs.resetTransform_=Ba.create(),hs.drawImage=function(t,e,n,r,i,o,a,s,l,u,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(r,i,o,a,s,l,u,a*c,s*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,hs.resetTransform_)};const fs=hs;var ds=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};ds.prototype.getOpacity=function(){return this.opacity_},ds.prototype.getRotateWithView=function(){return this.rotateWithView_},ds.prototype.getRotation=function(){return this.rotation_},ds.prototype.getScale=function(){return this.scale_},ds.prototype.getSnapToPixel=function(){return this.snapToPixel_},ds.prototype.getAnchor=function(){},ds.prototype.getImage=function(t){},ds.prototype.getHitDetectionImage=function(t){},ds.prototype.getImageState=function(){},ds.prototype.getImageSize=function(){},ds.prototype.getHitDetectionImageSize=function(){},ds.prototype.getOrigin=function(){},ds.prototype.getSize=function(){},ds.prototype.setOpacity=function(t){this.opacity_=t},ds.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ds.prototype.setRotation=function(t){this.rotation_=t},ds.prototype.setScale=function(t){this.scale_=t},ds.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},ds.prototype.listenImageChange=function(t,e){},ds.prototype.load=function(){},ds.prototype.unlistenImageChange=function(t,e){};const ps=ds;var ys=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel,n=void 0!==t.rotateWithView&&t.rotateWithView;ps.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};vo.inherits(ys,ps),ys.prototype.clone=function(){var t=new ys({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},ys.prototype.getAnchor=function(){return this.anchor_},ys.prototype.getAngle=function(){return this.angle_},ys.prototype.getFill=function(){return this.fill_},ys.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},ys.prototype.getImage=function(t){return this.canvas_},ys.prototype.getImageSize=function(){return this.imageSize_},ys.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},ys.prototype.getImageState=function(){return rs},ys.prototype.getOrigin=function(){return this.origin_},ys.prototype.getPoints=function(){return this.points_},ys.prototype.getRadius=function(){return this.radius_},ys.prototype.getRadius2=function(){return this.radius2_},ys.prototype.getSize=function(){return this.size_},ys.prototype.getStroke=function(){return this.stroke_},ys.prototype.listenImageChange=function(t,e){},ys.prototype.load=function(){},ys.prototype.unlistenImageChange=function(t,e){},ys.prototype.render_=function(t){var e,n,r="",i="",o=0,a=null,s=0,l=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=fs.defaultStrokeStyle),n=Xa.asColorLike(n),void 0===(l=this.stroke_.getWidth())&&(l=fs.defaultLineWidth),a=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),ts.CANVAS_LINE_DASH||(a=null,s=0),void 0===(i=this.stroke_.getLineJoin())&&(i=fs.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=fs.defaultLineCap),void 0===(o=this.stroke_.getMiterLimit())&&(o=fs.defaultMiterLimit));var u=2*(this.radius_+l)+1,c={strokeStyle:n,strokeWidth:l,size:u,lineCap:r,lineDash:a,lineDashOffset:s,lineJoin:i,miterLimit:o};if(void 0===t){var h=Ka.createCanvasContext2D(u,u);this.canvas_=h.canvas,e=u=this.canvas_.width,this.draw_(c,h,0,0),this.createHitDetectionCanvas_(c)}else{u=Math.round(u);var f,d=!this.fill_;d&&(f=this.drawHitDetectionCanvas_.bind(this,c));var p=this.getChecksum(),y=t.add(p,u,u,this.draw_.bind(this,c),f);this.canvas_=y.image,this.origin_=[y.offsetX,y.offsetY],e=y.image.width,d?(this.hitDetectionCanvas_=y.hitImage,this.hitDetectionImageSize_=[y.hitImage.width,y.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[e,e]},ys.prototype.draw_=function(t,e,n,r){var i,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),i=0;i<=s;i++)o=2*i*Math.PI/s-Math.PI/2+this.angle_,a=i%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=fs.defaultFillStyle),e.fillStyle=Xa.asColorLike(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},ys.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Ka.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},ys.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,s,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(i*=2),o=0;o<=i;o++)s=2*o*Math.PI/i-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=fs.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},ys.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};const vs=ys;var gs=function(t){var e=t||{};vs.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};vo.inherits(gs,vs),gs.prototype.clone=function(){var t=new gs({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},gs.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};const ms=gs;var _s=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};_s.prototype.clone=function(){var t=this.getColor();return new _s({color:t&&t.slice?t.slice():t||void 0})},_s.prototype.getColor=function(){return this.color_},_s.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},_s.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=vo.getUid(this.color_).toString():this.checksum_="f"+(this.color_?Va.asString(this.color_):"-")),this.checksum_};const bs=_s;var ws=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};ws.prototype.clone=function(){var t=this.getColor();return new ws({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},ws.prototype.getColor=function(){return this.color_},ws.prototype.getLineCap=function(){return this.lineCap_},ws.prototype.getLineDash=function(){return this.lineDash_},ws.prototype.getLineDashOffset=function(){return this.lineDashOffset_},ws.prototype.getLineJoin=function(){return this.lineJoin_},ws.prototype.getMiterLimit=function(){return this.miterLimit_},ws.prototype.getWidth=function(){return this.width_},ws.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},ws.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},ws.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},ws.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},ws.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},ws.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},ws.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},ws.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=vo.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};const xs=ws;var Ss=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Ss.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};Ss.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new Ss({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Ss.prototype.getRenderer=function(){return this.renderer_},Ss.prototype.setRenderer=function(t){this.renderer_=t},Ss.prototype.getGeometry=function(){return this.geometry_},Ss.prototype.getGeometryFunction=function(){return this.geometryFunction_},Ss.prototype.getFill=function(){return this.fill_},Ss.prototype.setFill=function(t){this.fill_=t},Ss.prototype.getImage=function(){return this.image_},Ss.prototype.setImage=function(t){this.image_=t},Ss.prototype.getStroke=function(){return this.stroke_},Ss.prototype.setStroke=function(t){this.stroke_=t},Ss.prototype.getText=function(){return this.text_},Ss.prototype.setText=function(t){this.text_=t},Ss.prototype.getZIndex=function(){return this.zIndex_},Ss.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Ss.defaultGeometryFunction,this.geometry_=t},Ss.prototype.setZIndex=function(t){this.zIndex_=t},Ss.createFunction=function(t){var e,n;return"function"==typeof t?e=t:(Array.isArray(t)?n=t:(_o.assert(t instanceof Ss,41),n=[t]),e=function(){return n}),e},Ss.default_=null,Ss.defaultFunction=function(t,e){if(!Ss.default_){var n=new bs({color:"rgba(255,255,255,0.4)"}),r=new xs({color:"#3399CC",width:1.25});Ss.default_=[new Ss({image:new ms({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ss.default_},Ss.createDefaultEditing=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[pa]=[new Ss({fill:new bs({color:[255,255,255,.5]})})],t[ga]=t[pa],t[fa]=[new Ss({stroke:new xs({color:e,width:5})}),new Ss({stroke:new xs({color:n,width:3})})],t[va]=t[fa],t[_a]=t[pa].concat(t[fa]),t[ha]=[new Ss({image:new ms({radius:6,fill:new bs({color:n}),stroke:new xs({color:e,width:1.5})}),zIndex:1/0})],t[ya]=t[ha],t[ma]=t[pa].concat(t[fa],t[ha]),t},Ss.defaultGeometryFunction=function(t){return t.getGeometry()};const Es=Ss;var Cs=function(t){if(Yo.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,So.listen(this,Yo.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof za||!t){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}};vo.inherits(Cs,Yo),Cs.prototype.clone=function(){var t=new Cs(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},Cs.prototype.getGeometry=function(){return this.get(this.geometryName_)},Cs.prototype.getId=function(){return this.id_},Cs.prototype.getGeometryName=function(){return this.geometryName_},Cs.prototype.getStyle=function(){return this.style_},Cs.prototype.getStyleFunction=function(){return this.styleFunction_},Cs.prototype.handleGeometryChange_=function(){this.changed()},Cs.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(So.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=So.listen(t,Eo,this.handleGeometryChange_,this)),this.changed()},Cs.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},Cs.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Cs.createStyleFunction(t):void 0,this.changed()},Cs.prototype.setId=function(t){this.id_=t,this.changed()},Cs.prototype.setGeometryName=function(t){So.unlisten(this,Yo.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,So.listen(this,Yo.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},Cs.createStyleFunction=function(t){var e,n;return"function"==typeof t?e=2==t.length?function(e){return t(this,e)}:t:(Array.isArray(t)?n=t:(_o.assert(t instanceof Es,41),n=[t]),e=function(){return n}),e};const ks=Cs;var Ps=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};Ps.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},Ps.prototype.adaptOptions=function(t){return wo.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},t)},Ps.prototype.getLastExtent=function(){return null},Ps.prototype.getType=function(){},Ps.prototype.readFeature=function(t,e){},Ps.prototype.readFeatures=function(t,e){},Ps.prototype.readGeometry=function(t,e){},Ps.prototype.readProjection=function(t){},Ps.prototype.writeFeature=function(t,e){},Ps.prototype.writeFeatures=function(t,e){},Ps.prototype.writeGeometry=function(t,e){},Ps.transformWithOptions=function(t,e,n){var r,i=n?Fa.get(n.featureProjection):null,o=n?Fa.get(n.dataProjection):null;if(r=i&&o&&!Fa.equivalent(i,o)?t instanceof za?(e?t.clone():t).transform(e?i:o,e?o:i):Fa.transformExtent(t,o,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=r.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r};const Ts=Ps,Os="arraybuffer",Rs="json",As="text",Is="xml";var Ms=function(){Ts.call(this)};vo.inherits(Ms,Ts),Ms.prototype.getObject_=function(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null},Ms.prototype.getType=function(){return Rs},Ms.prototype.readFeature=function(t,e){return this.readFeatureFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ms.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ms.prototype.readFeatureFromObject=function(t,e){},Ms.prototype.readFeaturesFromObject=function(t,e){},Ms.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(this.getObject_(t),this.getReadOptions(t,e))},Ms.prototype.readGeometryFromObject=function(t,e){},Ms.prototype.readProjection=function(t){return this.readProjectionFromObject(this.getObject_(t))},Ms.prototype.readProjectionFromObject=function(t){},Ms.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},Ms.prototype.writeFeatureObject=function(t,e){},Ms.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},Ms.prototype.writeFeaturesObject=function(t,e){},Ms.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},Ms.prototype.writeGeometryObject=function(t,e){};const Ds=Ms;var Ls=function(t){za.call(this),this.geometries_=t||null,this.listenGeometriesChange_()};vo.inherits(Ls,za),Ls.cloneGeometries_=function(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(t[e].clone());return r},Ls.prototype.unlistenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)So.unlisten(this.geometries_[t],Eo,this.changed,this)},Ls.prototype.listenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)So.listen(this.geometries_[t],Eo,this.changed,this)},Ls.prototype.clone=function(){var t=new Ls(null);return t.setGeometries(this.geometries_),t},Ls.prototype.closestPointXY=function(t,e,n,r){if(r<aa.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a=this.geometries_;for(i=0,o=a.length;i<o;++i)r=a[i].closestPointXY(t,e,n,r);return r},Ls.prototype.containsXY=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1},Ls.prototype.computeExtent=function(t){aa.createOrUpdateEmpty(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)aa.extend(t,e[n].getExtent());return t},Ls.prototype.getGeometries=function(){return Ls.cloneGeometries_(this.geometries_)},Ls.prototype.getGeometriesArray=function(){return this.geometries_},Ls.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(wo.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n,r,i=[],o=this.geometries_,a=!1;for(n=0,r=o.length;n<r;++n){var s=o[n],l=s.getSimplifiedGeometry(t);i.push(l),l!==s&&(a=!0)}if(a){var u=new Ls(null);return u.setGeometriesArray(i),this.simplifiedGeometryCache[e]=u,u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},Ls.prototype.getType=function(){return ma},Ls.prototype.intersectsExtent=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)if(r[e].intersectsExtent(t))return!0;return!1},Ls.prototype.isEmpty=function(){return 0===this.geometries_.length},Ls.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},Ls.prototype.scale=function(t,e,n){var r=n;r||(r=aa.getCenter(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},Ls.prototype.setGeometries=function(t){this.setGeometriesArray(Ls.cloneGeometries_(t))},Ls.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},Ls.prototype.applyTransform=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)r[e].applyTransform(t);this.changed()},Ls.prototype.translate=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()},Ls.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),za.prototype.disposeInternal.call(this)};const js=Ls;var Fs={binarySearch:function(t,e,n){for(var r,i,o=n||Fs.numberSafeCompareFunction,a=0,s=t.length,l=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,l=!i);return l?a:~a},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var r,i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1},reverseSubArray:function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},extend:function(t,e){var n,r=Array.isArray(e)?e:[e],i=r.length;for(n=0;n<i;n++)t[t.length]=r[n]},remove:function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},find:function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},stableSort:function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=i[n].value},findIndex:function(t,e){var n;return t.every((function(r,i){return n=i,!e(r,i,t)}))?-1:n},isSorted:function(t,e,n){var r=e||Fs.numberSafeCompareFunction;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}};const Ns=Fs,Bs="XY",Us="XYZ",zs="XYM",Ws="XYZM";var Gs=function(){za.call(this),this.layout=Bs,this.stride=2,this.flatCoordinates=null};vo.inherits(Gs,za),Gs.getLayoutForStride_=function(t){var e;return 2==t?e=Bs:3==t?e=Us:4==t&&(e=Ws),e},Gs.getStrideForLayout=function(t){var e;return t==Bs?e=2:t==Us||t==zs?e=3:t==Ws&&(e=4),e},Gs.prototype.containsXY=sa.FALSE,Gs.prototype.computeExtent=function(t){return aa.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},Gs.prototype.getCoordinates=function(){},Gs.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},Gs.prototype.getFlatCoordinates=function(){return this.flatCoordinates},Gs.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},Gs.prototype.getLayout=function(){return this.layout},Gs.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(wo.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},Gs.prototype.getSimplifiedGeometryInternal=function(t){return this},Gs.prototype.getStride=function(){return this.stride},Gs.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=Gs.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},Gs.prototype.setCoordinates=function(t,e){},Gs.prototype.setLayout=function(t,e,n){var r;if(t)r=Gs.getStrideForLayout(t);else{var i;for(i=0;i<n;++i){if(0===e.length)return this.layout=Bs,void(this.stride=2);e=e[0]}r=e.length,t=Gs.getLayoutForStride_(r)}this.layout=t,this.stride=r},Gs.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},Gs.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();la.rotate(n,0,n.length,r,t,e,n),this.changed()}},Gs.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=aa.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();la.scale(o,0,o.length,a,t,r,i,o),this.changed()}},Gs.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();la.translate(n,0,n.length,r,t,e,n),this.changed()}},Gs.transform2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return la.transform2D(r,0,r.length,i,e,n)}return null};const qs=Gs;var Vs={point:function(t,e,n,r,i,o,a){var s,l,u=t[e],c=t[e+1],h=t[n]-u,f=t[n+1]-c;if(0===h&&0===f)l=e;else{var d=((i-u)*h+(o-c)*f)/(h*h+f*f);if(d>1)l=n;else{if(d>0){for(s=0;s<r;++s)a[s]=ca.lerp(t[e+s],t[n+s],d);return void(a.length=r)}l=e}}for(s=0;s<r;++s)a[s]=t[l+s];a.length=r},getMaxSquaredDelta:function(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],u=ca.squaredDistance(o,a,s,l);u>i&&(i=u),o=s,a=l}return i},getsMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=Vs.getMaxSquaredDelta(t,e,s,r,i),e=s}return i},getssMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=Vs.getsMaxSquaredDelta(t,e,s,r,i),e=s[s.length-1]}return i},getClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){if(e==n)return u;var h,f;if(0===i){if((f=ca.squaredDistance(a,s,t[e],t[e+1]))<u){for(h=0;h<r;++h)l[h]=t[e+h];return l.length=r,f}return u}for(var d=c||[NaN,NaN],p=e+r;p<n;)if(Vs.point(t,p-r,p,r,a,s,d),(f=ca.squaredDistance(a,s,d[0],d[1]))<u){for(u=f,h=0;h<r;++h)l[h]=d[h];l.length=r,p+=r}else p+=r*Math.max((Math.sqrt(f)-Math.sqrt(u))/i|0,1);if(o&&(Vs.point(t,n-r,e,r,a,s,d),(f=ca.squaredDistance(a,s,d[0],d[1]))<u)){for(u=f,h=0;h<r;++h)l[h]=d[h];l.length=r}return u},getsClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var h,f,d=c||[NaN,NaN];for(h=0,f=n.length;h<f;++h){var p=n[h];u=Vs.getClosestPoint(t,e,p,r,i,o,a,s,l,u,d),e=p}return u},getssClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var h,f,d=c||[NaN,NaN];for(h=0,f=n.length;h<f;++h){var p=n[h];u=Vs.getsClosestPoint(t,e,p,r,i,o,a,s,l,u,d),e=p[p.length-1]}return u}};const Hs=Vs;var Xs={coordinate:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},coordinates:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i){var a,s=n[i];for(a=0;a<r;++a)t[e++]=s[a]}return e},coordinatess:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=Xs.coordinates(t,e,n[o],r);s[l++]=u,e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=Xs.coordinatess(t,e,n[o],r,s[l]);s[l++]=u,e=u[u.length-1]}return s.length=l,s}};const Ys=Xs;var Ks={coordinates:function(t,e,n,r,i){var o,a=void 0!==i?i:[],s=0;for(o=e;o<n;o+=r)a[s++]=t.slice(o,o+r);return a.length=s,a},coordinatess:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=Ks.coordinates(t,e,u,r,s[l]),e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=Ks.coordinatess(t,e,u,r,s[l]),e=u[u.length-1]}return s.length=l,s}};const Zs=Ks;var Qs={lineString:function(t,e,n,r,i,o){var a=NaN,s=NaN,l=(n-e)/r;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-i)*t[e]+i*t[e+r],s=(1-i)*t[e+1]+i*t[e+r+1];else if(0!==l){var u,c=t[e],h=t[e+1],f=0,d=[0];for(u=e+r;u<n;u+=r){var p=t[u],y=t[u+1];f+=Math.sqrt((p-c)*(p-c)+(y-h)*(y-h)),d.push(f),c=p,h=y}var v=i*f,g=Ns.binarySearch(d,v);if(g<0){var m=(v-d[-g-2])/(d[-g-1]-d[-g-2]),_=e+(-g-2)*r;a=ca.lerp(t[_],t[_+r],m),s=ca.lerp(t[_+1],t[_+r+1],m)}else a=t[e+g*r],s=t[e+g*r+1]}return o?(o[0]=a,o[1]=s,o):[a,s]},lineStringCoordinateAtM:function(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var u=s+l>>1;i<t[(u+1)*r-1]?l=u:s=u+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var h,f=(i-c)/(t[(s+1)*r-1]-c);for(a=[],h=0;h<r-1;++h)a.push(ca.lerp(t[(s-1)*r+h],t[s*r+h],f));return a.push(i),a},lineStringsCoordinateAtM:function(t,e,n,r,i,o,a){if(a)return Qs.lineStringCoordinateAtM(t,e,n[n.length-1],r,i,o);var s,l,u;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return Qs.lineStringCoordinateAtM(t,e,c,r,i,!1);e=c}}return null}};const Js=Qs;var $s={linearRingContainsExtent:function(t,e,n,r,i){return!aa.forEachCorner(i,(function(i){return!$s.linearRingContainsXY(t,e,n,r,i[0],i[1])}))},linearRingContainsXY:function(t,e,n,r,i,o){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a},linearRingsContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;if(!$s.linearRingContainsXY(t,e,n[0],r,i,o))return!1;var a,s;for(a=1,s=n.length;a<s;++a)if($s.linearRingContainsXY(t,n[a-1],n[a],r,i,o))return!1;return!0},linearRingssContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;var a,s;for(a=0,s=n.length;a<s;++a){var l=n[a];if($s.linearRingsContainsXY(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}};const tl=$s;const el={forEach:function(t,e,n,r,i,o){for(var a,s=[t[e],t[e+1]],l=[];e+r<n;e+=r){if(l[0]=t[e+r],l[1]=t[e+r+1],a=i.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}};var nl={lineString:function(t,e,n,r,i){var o=aa.extendFlatCoordinates(aa.createEmpty(),t,e,n,r);return!!aa.intersects(i,o)&&(!!aa.containsExtent(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||el.forEach(t,e,n,r,(function(t,e){return aa.intersectsSegment(i,t,e)})))},lineStrings:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){if(nl.lineString(t,e,n[o],r,i))return!0;e=n[o]}return!1},linearRing:function(t,e,n,r,i){return!!(nl.lineString(t,e,n,r,i)||tl.linearRingContainsXY(t,e,n,r,i[0],i[1])||tl.linearRingContainsXY(t,e,n,r,i[0],i[3])||tl.linearRingContainsXY(t,e,n,r,i[2],i[1])||tl.linearRingContainsXY(t,e,n,r,i[2],i[3]))},linearRings:function(t,e,n,r,i){if(!nl.linearRing(t,e,n[0],r,i))return!1;if(1===n.length)return!0;var o,a;for(o=1,a=n.length;o<a;++o)if(tl.linearRingContainsExtent(t,n[o-1],n[o],r,i))return!1;return!0},linearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];if(nl.linearRings(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}};const rl=nl;var il={lineString:function(t,e,n,r){var i,o=t[e],a=t[e+1],s=0;for(i=e+r;i<n;i+=r){var l=t[i],u=t[i+1];s+=Math.sqrt((l-o)*(l-o)+(u-a)*(u-a)),o=l,a=u}return s},linearRing:function(t,e,n,r){var i=il.lineString(t,e,n,r),o=t[n-r]-t[e],a=t[n-r+1]-t[e+1];return i+Math.sqrt(o*o+a*a)}};const ol=il;var al={lineString:function(t,e,n,r,i,o,a){var s=void 0!==a?a:[];return o||(n=al.radialDistance(t,e,n,r,i,s,0),t=s,e=0,r=2),s.length=al.douglasPeucker(t,e,n,r,i,s,0),s},douglasPeucker:function(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u,c=[e,n-r],h=0;c.length>0;){var f=c.pop(),d=c.pop(),p=0,y=t[d],v=t[d+1],g=t[f],m=t[f+1];for(u=d+r;u<f;u+=r){var _=t[u],b=t[u+1],w=ca.squaredSegmentDistance(_,b,y,v,g,m);w>p&&(h=u,p=w)}p>i&&(l[(h-e)/r]=1,d+r<h&&c.push(d,h),h+r<f&&c.push(h,f))}for(u=0;u<s;++u)l[u]&&(o[a++]=t[e+u*r],o[a++]=t[e+u*r+1]);return a},douglasPeuckers:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=al.douglasPeucker(t,e,c,r,i,o,a),s.push(a),e=c}return a},douglasPeuckerss:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],h=[];a=al.douglasPeuckers(t,e,c,r,i,o,a,h),s.push(h),e=c[c.length-1]}return a},radialDistance:function(t,e,n,r,i,o,a){if(n<=e+r){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var s=t[e],l=t[e+1];o[a++]=s,o[a++]=l;var u=s,c=l;for(e+=r;e<n;e+=r)u=t[e],c=t[e+1],ca.squaredDistance(s,l,u,c)>i&&(o[a++]=u,o[a++]=c,s=u,l=c);return u==s&&c==l||(o[a++]=u,o[a++]=c),a},snap:function(t,e){return e*Math.round(t/e)},quantize:function(t,e,n,r,i,o,a){if(e==n)return a;var s,l,u=al.snap(t[e],i),c=al.snap(t[e+1],i);e+=r,o[a++]=u,o[a++]=c;do{if(s=al.snap(t[e],i),l=al.snap(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;e<n;){var h,f;if(h=al.snap(t[e],i),f=al.snap(t[e+1],i),e+=r,h!=s||f!=l){var d=s-u,p=l-c,y=h-u,v=f-c;d*v==p*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(p<0&&v<p||p==v||p>0&&v>p)?(s=h,l=f):(o[a++]=s,o[a++]=l,u=s,c=l,s=h,l=f)}}return o[a++]=s,o[a++]=l,a},quantizes:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=al.quantize(t,e,c,r,i,o,a),s.push(a),e=c}return a},quantizess:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],h=[];a=al.quantizes(t,e,c,r,i,o,a,h),s.push(h),e=c[c.length-1]}return a}};const sl=al;var ll=function(t,e){qs.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};vo.inherits(ll,qs),ll.prototype.appendCoordinate=function(t){this.flatCoordinates?Ns.extend(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},ll.prototype.clone=function(){var t=new ll(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},ll.prototype.closestPointXY=function(t,e,n,r){return r<aa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hs.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hs.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},ll.prototype.forEachSegment=function(t,e){return el.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},ll.prototype.getCoordinateAtM=function(t,e){if(this.layout!=zs&&this.layout!=Ws)return null;var n=void 0!==e&&e;return Js.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},ll.prototype.getCoordinates=function(){return Zs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ll.prototype.getCoordinateAt=function(t,e){return Js.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},ll.prototype.getLength=function(){return ol.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ll.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},ll.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=sl.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new ll(null);return n.setFlatCoordinates(Bs,e),n},ll.prototype.getType=function(){return fa},ll.prototype.intersectsExtent=function(t){return rl.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},ll.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ys.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},ll.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const ul=ll;var cl=function(t,e){qs.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};vo.inherits(cl,qs),cl.prototype.appendLineString=function(t){this.flatCoordinates?Ns.extend(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},cl.prototype.clone=function(){var t=new cl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},cl.prototype.closestPointXY=function(t,e,n,r){return r<aa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hs.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hs.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},cl.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=zs&&this.layout!=Ws||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return Js.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},cl.prototype.getCoordinates=function(){return Zs.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},cl.prototype.getEnds=function(){return this.ends_},cl.prototype.getLineString=function(t){if(t<0||this.ends_.length<=t)return null;var e=new ul(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},cl.prototype.getLineStrings=function(){var t,e,n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0;for(t=0,e=r.length;t<e;++t){var s=r[t],l=new ul(null);l.setFlatCoordinates(i,n.slice(a,s)),o.push(l),a=s}return o},cl.prototype.getFlatMidpoints=function(){var t,e,n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride;for(t=0,e=o.length;t<e;++t){var s=o[t],l=Js.lineString(r,i,s,a,.5);Ns.extend(n,l),i=s}return n},cl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=sl.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n);var r=new cl(null);return r.setFlatCoordinates(Bs,e,n),r},cl.prototype.getType=function(){return va},cl.prototype.intersectsExtent=function(t){return rl.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,t)},cl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ys.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(Bs,null,this.ends_)},cl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},cl.prototype.setLineStrings=function(t){var e,n,r=this.getLayout(),i=[],o=[];for(e=0,n=t.length;e<n;++e){var a=t[e];0===e&&(r=a.getLayout()),Ns.extend(i,a.getFlatCoordinates()),o.push(i.length)}this.setFlatCoordinates(r,i,o)};const hl=cl;var fl=function(t,e){qs.call(this),this.setCoordinates(t,e)};vo.inherits(fl,qs),fl.prototype.clone=function(){var t=new fl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},fl.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=ca.squaredDistance(t,e,i[0],i[1]);if(o<r){var a,s=this.stride;for(a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},fl.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},fl.prototype.computeExtent=function(t){return aa.createOrUpdateFromCoordinate(this.flatCoordinates,t)},fl.prototype.getType=function(){return ha},fl.prototype.intersectsExtent=function(t){return aa.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},fl.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ys.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},fl.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const dl=fl;var pl=function(t,e){qs.call(this),this.setCoordinates(t,e)};vo.inherits(pl,qs),pl.prototype.appendPoint=function(t){this.flatCoordinates?Ns.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},pl.prototype.clone=function(){var t=new pl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},pl.prototype.closestPointXY=function(t,e,n,r){if(r<aa.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a,s=this.flatCoordinates,l=this.stride;for(i=0,o=s.length;i<o;i+=l){var u=ca.squaredDistance(t,e,s[i],s[i+1]);if(u<r){for(r=u,a=0;a<l;++a)n[a]=s[i+a];n.length=l}}return r},pl.prototype.getCoordinates=function(){return Zs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},pl.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(t<0||e<=t)return null;var n=new dl(null);return n.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride)),n},pl.prototype.getPoints=function(){var t,e,n=this.flatCoordinates,r=this.layout,i=this.stride,o=[];for(t=0,e=n.length;t<e;t+=i){var a=new dl(null);a.setFlatCoordinates(r,n.slice(t,t+i)),o.push(a)}return o},pl.prototype.getType=function(){return ya},pl.prototype.intersectsExtent=function(t){var e,n,r,i,o=this.flatCoordinates,a=this.stride;for(e=0,n=o.length;e<n;e+=a)if(r=o[e],i=o[e+1],aa.containsXY(t,r,i))return!0;return!1},pl.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ys.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},pl.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const yl=pl;var vl={linearRing:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=a*s-o*l,o=s,a=l}return i/2},linearRings:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=vl.linearRing(t,e,s,r),e=s}return a},linearRingss:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=vl.linearRings(t,e,s,r),e=s[s.length-1]}return a}};const gl=vl;var ml=function(t,e){qs.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};vo.inherits(ml,qs),ml.prototype.clone=function(){var t=new ml(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},ml.prototype.closestPointXY=function(t,e,n,r){return r<aa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hs.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hs.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},ml.prototype.getArea=function(){return gl.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ml.prototype.getCoordinates=function(){return Zs.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ml.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=sl.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new ml(null);return n.setFlatCoordinates(Bs,e),n},ml.prototype.getType=function(){return da},ml.prototype.intersectsExtent=function(t){},ml.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ys.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(Bs,null)},ml.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const _l=ml;var bl={linearRings:function(t,e,n,r,i,o,a){for(var s,l,u,c,h,f,d,p=i[o+1],y=[],v=0,g=n.length;v<g;++v){var m=n[v];for(c=t[m-r],f=t[m-r+1],s=e;s<m;s+=r)h=t[s],d=t[s+1],(p<=f&&d<=p||f<=p&&p<=d)&&(u=(p-f)/(d-f)*(h-c)+c,y.push(u)),c=h,f=d}var _=NaN,b=-1/0;for(y.sort(Ns.numberSafeCompareFunction),c=y[0],s=1,l=y.length;s<l;++s){h=y[s];var w=Math.abs(h-c);w>b&&(u=(c+h)/2,tl.linearRingsContainsXY(t,e,n,r,u,p)&&(_=u,b=w)),c=h}return isNaN(_)&&(_=i[o]),a?(a.push(_,p,b),a):[_,p,b]},linearRingss:function(t,e,n,r,i){var o,a,s=[];for(o=0,a=n.length;o<a;++o){var l=n[o];s=bl.linearRings(t,e,l,r,i,2*o,s),e=l[l.length-1]}return s}};const wl=bl;const xl={coordinates:function(t,e,n,r){for(;e<n-r;){var i;for(i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}};var Sl={linearRingIsClockwise:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=(s-o)*(l+a),o=s,a=l}return i>0},linearRingsAreOriented:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=Sl.linearRingIsClockwise(t,e,l,r);if(0===o){if(s&&u||!s&&!u)return!1}else if(s&&!u||!s&&u)return!1;e=l}return!0},linearRingssAreOriented:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)if(!Sl.linearRingsAreOriented(t,e,n[o],r,i))return!1;return!0},orientLinearRings:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=Sl.linearRingIsClockwise(t,e,l,r);(0===o?s&&u||!s&&!u:s&&!u||!s&&u)&&xl.coordinates(t,e,l,r),e=l}return e},orientLinearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)e=Sl.orientLinearRings(t,e,n[o],r,i);return e}};const El=Sl;var Cl=function(t,e){qs.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};vo.inherits(Cl,qs),Cl.prototype.appendLinearRing=function(t){this.flatCoordinates?Ns.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Cl.prototype.clone=function(){var t=new Cl(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},Cl.prototype.closestPointXY=function(t,e,n,r){return r<aa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hs.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hs.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},Cl.prototype.containsXY=function(t,e){return tl.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},Cl.prototype.getArea=function(){return gl.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Cl.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),El.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Zs.coordinatess(e,0,this.ends_,this.stride)},Cl.prototype.getEnds=function(){return this.ends_},Cl.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=aa.getCenter(this.getExtent());this.flatInteriorPoint_=wl.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Cl.prototype.getInteriorPoint=function(){return new dl(this.getFlatInteriorPoint(),zs)},Cl.prototype.getLinearRingCount=function(){return this.ends_.length},Cl.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t)return null;var e=new _l(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},Cl.prototype.getLinearRings=function(){var t,e,n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],l=new _l(null);l.setFlatCoordinates(n,r.slice(a,s)),o.push(l),a=s}return o},Cl.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;El.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=El.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Cl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=sl.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n);var r=new Cl(null);return r.setFlatCoordinates(Bs,e,n),r},Cl.prototype.getType=function(){return pa},Cl.prototype.intersectsExtent=function(t){return rl.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},Cl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ys.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(Bs,null,this.ends_)},Cl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},Cl.circular=function(t,e,n,r){var i,o=r||32,a=[];for(i=0;i<o;++i)Ns.extend(a,t.offset(e,n,2*Math.PI*i/o));a.push(a[0],a[1]);var s=new Cl(null);return s.setFlatCoordinates(Bs,a,[a.length]),s},Cl.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n],a=new Cl(null);return a.setFlatCoordinates(Bs,o,[o.length]),a},Cl.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=new Cl(null,o),s=i*(r+1),l=new Array(s),u=0;u<s;u++)l[u]=0;var c=[l.length];return a.setFlatCoordinates(o,l,c),Cl.makeRegular(a,t.getCenter(),t.getRadius(),n),a},Cl.makeRegular=function(t,e,n,r){for(var i,o,a=t.getFlatCoordinates(),s=t.getLayout(),l=t.getStride(),u=t.getEnds(),c=a.length/l-1,h=r||0,f=0;f<=c;++f)o=f*l,i=h+2*ca.modulo(f,c)*Math.PI/c,a[o]=e[0]+n*Math.cos(i),a[o+1]=e[1]+n*Math.sin(i);t.setFlatCoordinates(s,a,u)};const kl=Cl;const Pl={linearRingss:function(t,e,n,r){var i,o,a=[],s=aa.createEmpty();for(i=0,o=n.length;i<o;++i){var l=n[i];s=aa.createOrUpdateFromFlatCoordinates(t,e,l[0],r),a.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return a}};var Tl=function(t,e){qs.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};vo.inherits(Tl,qs),Tl.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n,r,i=this.flatCoordinates.length;for(Ns.extend(this.flatCoordinates,t.getFlatCoordinates()),n=0,r=(e=t.getEnds().slice()).length;n<r;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},Tl.prototype.clone=function(){for(var t=new Tl(null),e=this.endss_.length,n=new Array(e),r=0;r<e;++r)n[r]=this.endss_[r].slice();return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),n),t},Tl.prototype.closestPointXY=function(t,e,n,r){return r<aa.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hs.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Hs.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},Tl.prototype.containsXY=function(t,e){return tl.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},Tl.prototype.getArea=function(){return gl.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},Tl.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),El.orientLinearRingss(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Zs.coordinatesss(e,0,this.endss_,this.stride)},Tl.prototype.getEndss=function(){return this.endss_},Tl.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Pl.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=wl.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},Tl.prototype.getInteriorPoints=function(){var t=new yl(null);return t.setFlatCoordinates(zs,this.getFlatInteriorPoints().slice()),t},Tl.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;El.linearRingssAreOriented(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=El.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Tl.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=sl.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n);var r=new Tl(null);return r.setFlatCoordinates(Bs,e,n),r},Tl.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r,i,o=this.endss_[t].slice(),a=o[o.length-1];if(0!==e)for(r=0,i=o.length;r<i;++r)o[r]-=e;var s=new kl(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e,a),o),s},Tl.prototype.getPolygons=function(){var t,e,n,r,i=this.layout,o=this.flatCoordinates,a=this.endss_,s=[],l=0;for(t=0,e=a.length;t<e;++t){var u=a[t].slice(),c=u[u.length-1];if(0!==l)for(n=0,r=u.length;n<r;++n)u[n]-=l;var h=new kl(null);h.setFlatCoordinates(i,o.slice(l,c),u),s.push(h),l=c}return s},Tl.prototype.getType=function(){return ga},Tl.prototype.intersectsExtent=function(t){return rl.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},Tl.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ys.coordinatesss(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}else this.setFlatCoordinates(Bs,null,this.endss_)},Tl.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.endss_=n,this.changed()},Tl.prototype.setPolygons=function(t){var e,n,r,i=this.getLayout(),o=[],a=[];for(e=0,n=t.length;e<n;++e){var s=t[e];0===e&&(i=s.getLayout());var l,u,c=o.length;for(l=0,u=(r=s.getEnds()).length;l<u;++l)r[l]+=c;Ns.extend(o,s.getFlatCoordinates()),a.push(r)}this.setFlatCoordinates(i,o,a)};const Ol=Tl;var Rl=function(t){var e=t||{};Ds.call(this),this.defaultDataProjection=Fa.get(e.defaultDataProjection?e.defaultDataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Fa.get(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName};vo.inherits(Rl,Ds),Rl.readGeometry_=function(t,e){if(!t)return null;var n=Rl.GEOMETRY_READERS_[t.type];return Ts.transformWithOptions(n(t),!1,e)},Rl.readGeometryCollectionGeometry_=function(t,e){var n=t.geometries.map((function(t){return Rl.readGeometry_(t,e)}));return new js(n)},Rl.readPointGeometry_=function(t){return new dl(t.coordinates)},Rl.readLineStringGeometry_=function(t){return new ul(t.coordinates)},Rl.readMultiLineStringGeometry_=function(t){return new hl(t.coordinates)},Rl.readMultiPointGeometry_=function(t){return new yl(t.coordinates)},Rl.readMultiPolygonGeometry_=function(t){return new Ol(t.coordinates)},Rl.readPolygonGeometry_=function(t){return new kl(t.coordinates)},Rl.writeGeometry_=function(t,e){return(0,Rl.GEOMETRY_WRITERS_[t.getType()])(Ts.transformWithOptions(t,!0,e),e)},Rl.writeEmptyGeometryCollectionGeometry_=function(t){return{type:"GeometryCollection",geometries:[]}},Rl.writeGeometryCollectionGeometry_=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=wo.assign({},e);return delete n.featureProjection,Rl.writeGeometry_(t,n)}));return{type:"GeometryCollection",geometries:n}},Rl.writeLineStringGeometry_=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}},Rl.writeMultiLineStringGeometry_=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}},Rl.writeMultiPointGeometry_=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}},Rl.writeMultiPolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}},Rl.writePointGeometry_=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}},Rl.writePolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}},Rl.GEOMETRY_READERS_={Point:Rl.readPointGeometry_,LineString:Rl.readLineStringGeometry_,Polygon:Rl.readPolygonGeometry_,MultiPoint:Rl.readMultiPointGeometry_,MultiLineString:Rl.readMultiLineStringGeometry_,MultiPolygon:Rl.readMultiPolygonGeometry_,GeometryCollection:Rl.readGeometryCollectionGeometry_},Rl.GEOMETRY_WRITERS_={Point:Rl.writePointGeometry_,LineString:Rl.writeLineStringGeometry_,Polygon:Rl.writePolygonGeometry_,MultiPoint:Rl.writeMultiPointGeometry_,MultiLineString:Rl.writeMultiLineStringGeometry_,MultiPolygon:Rl.writeMultiPolygonGeometry_,GeometryCollection:Rl.writeGeometryCollectionGeometry_,Circle:Rl.writeEmptyGeometryCollectionGeometry_},Rl.prototype.readFeature,Rl.prototype.readFeatures,Rl.prototype.readFeatureFromObject=function(t,e){var n;n="Feature"===t.type?t:{type:"Feature",geometry:t};var r=Rl.readGeometry_(n.geometry,e),i=new ks;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(r),void 0!==n.id&&i.setId(n.id),n.properties&&i.setProperties(n.properties),i},Rl.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];var r,i,o=t.features;for(r=0,i=o.length;r<i;++r)n.push(this.readFeatureFromObject(o[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},Rl.prototype.readGeometry,Rl.prototype.readGeometryFromObject=function(t,e){return Rl.readGeometry_(t,e)},Rl.prototype.readProjection,Rl.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Fa.get(n.properties.name):_o.assert(!1,36):e=this.defaultDataProjection,e},Rl.prototype.writeFeature,Rl.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature"},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();n.geometry=i?Rl.writeGeometry_(i,e):null;var o=t.getProperties();return delete o[t.getGeometryName()],wo.isEmpty(o)?n.properties=null:n.properties=o,n},Rl.prototype.writeFeatures,Rl.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);var n,r,i=[];for(n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}},Rl.prototype.writeGeometry,Rl.prototype.writeGeometryObject=function(t,e){return Rl.writeGeometry_(t,this.adaptOptions(e))};const Al=Rl,Il="IMAGE",Ml="TILE",Dl="VECTOR_TILE",Ll="VECTOR",jl="opacity",Fl="visible",Nl="extent",Bl="zIndex",Ul="maxResolution",zl="minResolution",Wl="source";var Gl=function(t){Yo.call(this);var e=wo.assign({},t);e[jl]=void 0!==t.opacity?t.opacity:1,e[Fl]=void 0===t.visible||t.visible,e[Bl]=void 0!==t.zIndex?t.zIndex:0,e[Ul]=void 0!==t.maxResolution?t.maxResolution:1/0,e[zl]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};vo.inherits(Gl,Yo),Gl.prototype.getType=function(){return this.type},Gl.prototype.getLayerState=function(){return this.state_.opacity=ca.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},Gl.prototype.getLayersArray=function(t){},Gl.prototype.getLayerStatesArray=function(t){},Gl.prototype.getExtent=function(){return this.get(Nl)},Gl.prototype.getMaxResolution=function(){return this.get(Ul)},Gl.prototype.getMinResolution=function(){return this.get(zl)},Gl.prototype.getOpacity=function(){return this.get(jl)},Gl.prototype.getSourceState=function(){},Gl.prototype.getVisible=function(){return this.get(Fl)},Gl.prototype.getZIndex=function(){return this.get(Bl)},Gl.prototype.setExtent=function(t){this.set(Nl,t)},Gl.prototype.setMaxResolution=function(t){this.set(Ul,t)},Gl.prototype.setMinResolution=function(t){this.set(zl,t)},Gl.prototype.setOpacity=function(t){this.set(jl,t)},Gl.prototype.setVisible=function(t){this.set(Fl,t)},Gl.prototype.setZIndex=function(t){this.set(Bl,t)};const ql=Gl,Vl="postcompose",Hl="precompose",Xl="render",Yl="undefined",Kl="ready";var Zl=function(t){var e=wo.assign({},t);delete e.source,ql.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),So.listen(this,Yo.getChangeEventType(Wl),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};vo.inherits(Zl,ql),Zl.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},Zl.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},Zl.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},Zl.prototype.getSource=function(){return this.get(Wl)||null},Zl.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Yl},Zl.prototype.handleSourceChange_=function(){this.changed()},Zl.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(So.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=So.listen(t,Eo,this.handleSourceChange_,this)),this.changed()},Zl.prototype.setMap=function(t){this.mapPrecomposeKey_&&(So.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(So.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=So.listen(t,Hl,(function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[vo.getUid(this)]=e}),this),this.mapRenderKey_=So.listen(this,Eo,t.render,t),this.changed())},Zl.prototype.setSource=function(t){this.set(Wl,t)};const Ql=Zl;var Jl=function(t){var e=t||{};Ql.call(this,e),this.type=Il};vo.inherits(Jl,Ql),Jl.prototype.getSource;const $l=Jl;var tu=function(t,e,n,r){qo.call(this),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=r};vo.inherits(tu,qo),tu.prototype.changed=function(){this.dispatchEvent(Eo)},tu.prototype.getExtent=function(){return this.extent},tu.prototype.getImage=function(){},tu.prototype.getPixelRatio=function(){return this.pixelRatio_},tu.prototype.getResolution=function(){return this.resolution},tu.prototype.getState=function(){return this.state},tu.prototype.load=function(){};const eu=tu;var nu=function(t,e,n,r,i,o){eu.call(this,t,e,n,es),this.src_=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.imageListenerKeys_=null,this.state=es,this.imageLoadFunction_=o};vo.inherits(nu,eu),nu.prototype.getImage=function(){return this.image_},nu.prototype.handleImageError_=function(){this.state=is,this.unlistenImage_(),this.changed()},nu.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=aa.getHeight(this.extent)/this.image_.height),this.state=rs,this.unlistenImage_(),this.changed()},nu.prototype.load=function(){this.state!=es&&this.state!=is||(this.state=ns,this.changed(),this.imageListenerKeys_=[So.listenOnce(this.image_,To,this.handleImageError_,this),So.listenOnce(this.image_,Ao,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},nu.prototype.setImage=function(t){this.image_=t},nu.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(So.unlistenByKey),this.imageListenerKeys_=null};const ru=nu;var iu={calculateSourceResolution:function(t,e,n,r){var i=Fa.transform(n,e,t),o=Fa.getPointResolution(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||aa.containsCoordinate(l,i)){var u=Fa.getPointResolution(t,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o},enlargeClipPoint_:function(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]},render:function(t,e,n,r,i,o,a,s,l,u,c){var h=Ka.createCanvasContext2D(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var f=aa.createEmpty();l.forEach((function(t,e,n){aa.extend(f,t.extent)}));var d=aa.getWidth(f),p=aa.getHeight(f),y=Ka.createCanvasContext2D(Math.round(n*d/r),Math.round(n*p/r)),v=n/r;l.forEach((function(t,e,n){var r=t.extent[0]-f[0],i=-(t.extent[3]-f[3]),o=aa.getWidth(t.extent),a=aa.getHeight(t.extent);y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*v,i*v,o*v,a*v)}));var g=aa.getTopLeft(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],d=a[1][1],p=a[2][0],v=a[2][1],m=(s[0][0]-g[0])/o,_=-(s[0][1]-g[1])/o,b=(s[1][0]-g[0])/o,w=-(s[1][1]-g[1])/o,x=(s[2][0]-g[0])/o,S=-(s[2][1]-g[1])/o,E=l,C=u;l=0,u=0;var k=[[c-=E,d-=C,0,0,b-m],[p-=E,v-=C,0,0,x-m],[0,0,c,d,w-_],[0,0,p,v,S-_]],P=ca.solveLinearSystem(k);if(P){h.save(),h.beginPath();var T=(m+b+x)/3,O=(_+w+S)/3,R=iu.enlargeClipPoint_(T,O,m,_),A=iu.enlargeClipPoint_(T,O,b,w),I=iu.enlargeClipPoint_(T,O,x,S);h.moveTo(A[0],A[1]),h.lineTo(R[0],R[1]),h.lineTo(I[0],I[1]),h.clip(),h.transform(P[0],P[2],P[1],P[3],m,_),h.translate(f[0]-E,f[3]-C),h.scale(r/n,-r/n),h.drawImage(y.canvas,0,0),h.restore()}})),c&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-g[0])/o,a=-(r[0][1]-g[1])/o,s=(r[1][0]-g[0])/o,l=-(r[1][1]-g[1])/o,u=(r[2][0]-g[0])/o,c=-(r[2][1]-g[1])/o;h.beginPath(),h.moveTo(s,l),h.lineTo(i,a),h.lineTo(u,c),h.closePath(),h.stroke()})),h.restore()),h.canvas}};const ou=iu;var au=function(t,e,n,r,i){this.sourceProj_=t,this.targetProj_=e;var o={},a=Fa.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&aa.getWidth(r)==aa.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?aa.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?aa.getWidth(this.targetProj_.getExtent()):null;var s=aa.getTopLeft(n),l=aa.getTopRight(n),u=aa.getBottomRight(n),c=aa.getBottomLeft(n),h=this.transformInv_(s),f=this.transformInv_(l),d=this.transformInv_(u),p=this.transformInv_(c);if(this.addQuad_(s,l,u,c,h,f,d,p,vo.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}),this)}o={}};au.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},au.prototype.addQuad_=function(t,e,n,r,i,o,a,s,l){var u=aa.boundingExtent([i,o,a,s]),c=this.sourceWorldWidth_?aa.getWidth(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var p=aa.boundingExtent([t,e,n,r]);d|=aa.getWidth(p)/this.targetWorldWidth_>vo.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!f&&this.sourceProj_.isGlobal()&&c&&(d|=c>vo.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(d||!this.maxSourceExtent_||aa.intersects(u,this.maxSourceExtent_)){if(!(d||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(l>0))return;d=!0}if(l>0){if(!d){var y,v=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(v);y=f?(ca.modulo(i[0],h)+ca.modulo(a[0],h))/2-ca.modulo(g[0],h):(i[0]+a[0])/2-g[0];var m=(i[1]+a[1])/2-g[1];d=y*y+m*m>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(_),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,_,w,i,o,b,x,l-1),this.addQuad_(w,_,n,r,x,b,a,s,l-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(S),C=[(n[0]+r[0])/2,(n[1]+r[1])/2],k=this.transformInv_(C);this.addQuad_(t,S,C,r,i,E,k,s,l-1),this.addQuad_(S,e,n,C,E,o,a,k,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,i,a,s),this.addTriangle_(t,e,n,i,o,a)}},au.prototype.calculateSourceExtent=function(){var t=aa.createEmpty();return this.triangles_.forEach((function(e,n,r){var i=e.source;aa.extendCoordinate(t,i[0]),aa.extendCoordinate(t,i[1]),aa.extendCoordinate(t,i[2])})),t},au.prototype.getTriangles=function(){return this.triangles_};const su=au;var lu=function(t,e,n,r,i,o){this.targetProj_=e,this.maxSourceExtent_=t.getExtent();var a=e.getExtent(),s=a?aa.getIntersection(n,a):n,l=aa.getCenter(s),u=ou.calculateSourceResolution(t,e,l,r),c=vo.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new su(t,e,s,this.maxSourceExtent_,u*c),this.targetResolution_=r,this.targetExtent_=n;var h=this.triangulation_.calculateSourceExtent();this.sourceImage_=o(h,u,i),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var f=rs;this.sourceImage_&&(f=es),eu.call(this,n,r,this.sourcePixelRatio_,f)};vo.inherits(lu,eu),lu.prototype.disposeInternal=function(){this.state==ns&&this.unlistenSource_(),eu.prototype.disposeInternal.call(this)},lu.prototype.getImage=function(){return this.canvas_},lu.prototype.getProjection=function(){return this.targetProj_},lu.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==rs){var e=aa.getWidth(this.targetExtent_)/this.targetResolution_,n=aa.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ou.render(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},lu.prototype.load=function(){if(this.state==es){this.state=ns,this.changed();var t=this.sourceImage_.getState();t==rs||t==is?this.reproject_():(this.sourceListenerKey_=So.listen(this.sourceImage_,Eo,(function(t){var e=this.sourceImage_.getState();e!=rs&&e!=is||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},lu.prototype.unlistenSource_=function(){So.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null};const uu=lu;var cu=function(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r};cu.createOrUpdate=function(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new cu(t,e,n,r)},cu.prototype.contains=function(t){return this.containsXY(t[1],t[2])},cu.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},cu.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},cu.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},cu.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},cu.prototype.getHeight=function(){return this.maxY-this.minY+1},cu.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},cu.prototype.getWidth=function(){return this.maxX-this.minX+1},cu.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const hu=cu;var fu={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}};const du=fu;var pu={createOrUpdate:function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return pu.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")},withinExtentAndZ:function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}};const yu=pu;var vu=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,_o.assert(Ns.isSorted(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,_o.assert(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=aa.getTopLeft(i)),_o.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,_o.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:vo.DEFAULT_TILE_SIZE,_o.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new hu(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):i&&this.calculateTileRanges_(i)};vu.tmpTileCoord_=[0,0,0],vu.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},vu.prototype.forEachTileCoordParentTileRange=function(t,e,n,r,i){var o,a,s,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):l=this.getTileCoordExtent(t,i);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=hu.createOrUpdate(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(l,u,r),e.call(n,u,o))return!0;--u}return!1},vu.prototype.getExtent=function(){return this.extent_},vu.prototype.getMaxZoom=function(){return this.maxZoom},vu.prototype.getMinZoom=function(){return this.minZoom},vu.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},vu.prototype.getResolution=function(t){return this.resolutions_[t]},vu.prototype.getResolutions=function(){return this.resolutions_},vu.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return hu.createOrUpdate(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},vu.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=du.toSize(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,u=r[1]+(e.maxY+1)*o[1]*i;return aa.createOrUpdate(a,l,s,u,n)},vu.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=vu.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),hu.createOrUpdate(i,r[1],o,r[2],n)},vu.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=du.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]+(t[2]+.5)*r[1]*n]},vu.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=du.toSize(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]+t[2]*i[1]*r,s=o+i[0]*r,l=a+i[1]*r;return aa.createOrUpdate(o,a,s,l,e)},vu.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},vu.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=du.toSize(this.getTileSize(o),this.tmpSize_),u=r?.5:0,c=r?0:.5,h=Math.floor((t-s[0])/n+u),f=Math.floor((e-s[1])/n+c),d=a*h/l[0],p=a*f/l[1];return r?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),yu.createOrUpdate(o,d,p,i)},vu.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=du.toSize(this.getTileSize(n),this.tmpSize_),l=r?.5:0,u=r?0:.5,c=Math.floor((t-o[0])/a+l),h=Math.floor((e-o[1])/a+u),f=c/s[0],d=h/s[1];return r?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),yu.createOrUpdate(n,f,d,i)},vu.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},vu.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},vu.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},vu.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},vu.prototype.getZForResolution=function(t,e){var n=Ns.linearFindNearest(this.resolutions_,t,e||0);return ca.clamp(n,this.minZoom,this.maxZoom)},vu.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n};const gu=vu;var mu={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=mu.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=mu.extentFromProjection(n);if(aa.containsCoordinate(o,i))return e;var a=aa.getWidth(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)},createForExtent:function(t,e,n,r){var i=void 0!==r?r:Qo,o=mu.resolutionsFromExtent(t,e,n);return new gu({extent:t,origin:aa.getCorner(t,i),resolutions:o,tileSize:n})},createXYZ:function(t){var e={};return wo.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Fa.get("EPSG:3857").getExtent()),e.resolutions=mu.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new gu(e)},resolutionsFromExtent:function(t,e,n){for(var r=void 0!==e?e:vo.DEFAULT_MAX_ZOOM,i=aa.getHeight(t),o=aa.getWidth(t),a=du.toSize(void 0!==n?n:vo.DEFAULT_TILE_SIZE),s=Math.max(o/a[0],i/a[1]),l=r+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u},createForProjection:function(t,e,n,r){var i=mu.extentFromProjection(t);return mu.createForExtent(i,e,n,r)},extentFromProjection:function(t){var e=(t=Fa.get(t)).getExtent();if(!e){var n=180*Fa.METERS_PER_UNIT[Sa.DEGREES]/t.getMetersPerUnit();e=aa.createOrUpdate(-n,-n,n,n)}return e}};const _u=mu;var bu=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};bu.prototype.getHTML=function(){return this.html_},bu.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var r,i,o,a;for(a in t){var s;if(a in this.tileRanges_)for(o=t[a],r=0,i=this.tileRanges_[a].length;r<i;++r){if((s=this.tileRanges_[a][r]).intersects(o))return!0;var l=e.getTileRangeForExtentAndZ(_u.extentFromProjection(n),parseInt(a,10)),u=l.getWidth();if(o.minX<l.minX||o.maxX>l.maxX){if(s.intersects(new hu(ca.modulo(o.minX,u),ca.modulo(o.maxX,u),o.minY,o.maxY)))return!0;if(o.getWidth()>u&&s.intersects(l))return!0}}}return!1};const wu=bu;var xu=function(t){Yo.call(this),this.projection_=Fa.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:Kl,this.wrapX_=void 0!==t.wrapX&&t.wrapX};vo.inherits(xu,Yo),xu.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof wu)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof wu){this.attributions_=t;var e=t.map((function(t){return t.getHTML()}));return function(t){return e}}return this.attributions_=t.map((function(t){return new wu({html:t})})),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new wu({html:t})],function(e){return[t]})},xu.prototype.forEachFeatureAtCoordinate=vo.nullFunction,xu.prototype.getAttributions=function(){return this.attributions_},xu.prototype.getAttributions2=function(){return this.attributions2_},xu.prototype.getLogo=function(){return this.logo_},xu.prototype.getProjection=function(){return this.projection_},xu.prototype.getResolutions=function(){},xu.prototype.getState=function(){return this.state_},xu.prototype.getWrapX=function(){return this.wrapX_},xu.prototype.refresh=function(){this.changed()},xu.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},xu.prototype.setLogo=function(t){this.logo_=t},xu.prototype.setState=function(t){this.state_=t,this.changed()};const Su=xu;var Eu=function(t){Su.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0};vo.inherits(Eu,Su),Eu.prototype.getResolutions=function(){return this.resolutions_},Eu.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Ns.linearFindNearest(this.resolutions_,t,0);t=this.resolutions_[e]}return t},Eu.prototype.getImage=function(t,e,n,r){var i=this.getProjection();if(vo.ENABLE_RASTER_REPROJECTION&&i&&r&&!Fa.equivalent(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Fa.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&aa.equals(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new uu(i,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(t,e,n,r)},Eu.prototype.getImageInternal=function(t,e,n,r){},Eu.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case ns:this.dispatchEvent(new Eu.Event(Eu.EventType_.IMAGELOADSTART,e));break;case rs:this.dispatchEvent(new Eu.Event(Eu.EventType_.IMAGELOADEND,e));break;case is:this.dispatchEvent(new Eu.Event(Eu.EventType_.IMAGELOADERROR,e))}},Eu.defaultImageLoadFunction=function(t,e){t.getImage().src=e},Eu.Event=function(t,e){Wo.call(this,t),this.image=e},vo.inherits(Eu.Event,Wo),Eu.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};const Cu=Eu;var ku=function(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,r=void 0!==t.imageLoadFunction?t.imageLoadFunction:Cu.defaultImageLoadFunction;Cu.call(this,{attributions:t.attributions,logo:t.logo,projection:Fa.get(t.projection)}),this.image_=new ru(e,void 0,1,t.url,n,r),this.imageSize_=t.imageSize?t.imageSize:null,So.listen(this.image_,Eo,this.handleImageChange,this)};vo.inherits(ku,Cu),ku.prototype.getImageInternal=function(t,e,n,r){return aa.intersects(t,this.image_.getExtent())?this.image_:null},ku.prototype.handleImageChange=function(t){if(this.image_.getState()==rs){var e,n,r=this.image_.getExtent(),i=this.image_.getImage();this.imageSize_?(e=this.imageSize_[0],n=this.imageSize_[1]):(e=i.width,n=i.height);var o=aa.getHeight(r)/n,a=Math.ceil(aa.getWidth(r)/o);if(a!=e){var s=Ka.createCanvasContext2D(a,n),l=s.canvas;s.drawImage(i,0,0,e,n,0,0,l.width,l.height),this.image_.setImage(l)}}Cu.prototype.handleImageChange.call(this,t)};const Pu=ku,Tu="add",Ou="remove";var Ru=function(t,e){Yo.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()};vo.inherits(Ru,Yo),Ru.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Ru.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},Ru.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},Ru.prototype.getArray=function(){return this.array_},Ru.prototype.item=function(t){return this.array_[t]},Ru.prototype.getLength=function(){return this.get(Ru.Property_.LENGTH)},Ru.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ru.Event(Tu,e))},Ru.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Ru.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},Ru.prototype.remove=function(t){var e,n,r=this.array_;for(e=0,n=r.length;e<n;++e)if(r[e]===t)return this.removeAt(e)},Ru.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ru.Event(Ou,e)),e},Ru.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ru.Event(Ou,r)),this.dispatchEvent(new Ru.Event(Tu,e))}else{var i;for(i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},Ru.prototype.updateLength_=function(){this.set(Ru.Property_.LENGTH,this.array_.length)},Ru.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new mo(58)},Ru.Property_={LENGTH:"length"},Ru.Event=function(t,e){Wo.call(this,t),this.element=e},vo.inherits(Ru.Event,Wo);const Au=Ru;var Iu=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};Iu.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Iu.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Iu.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},Iu.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Iu.prototype.getAngle=function(){return this.angle_};const Mu=Iu,Du={SINGLECLICK:"singleclick",CLICK:ko,DBLCLICK:Po,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Lu={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return 1-Lu.easeIn(1-t)},inAndOut:function(t){return 3*t*t-2*t*t*t},linear:function(t){return t},upAndDown:function(t){return t<.5?Lu.inAndOut(2*t):1-Lu.inAndOut(2*(t-.5))}};const ju=Lu,Fu="active";var Nu=function(t){Yo.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};vo.inherits(Nu,Yo),Nu.prototype.getActive=function(){return this.get(Fu)},Nu.prototype.getMap=function(){return this.map_},Nu.prototype.setActive=function(t){this.set(Fu,t)},Nu.prototype.setMap=function(t){this.map_=t},Nu.pan=function(t,e,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);n?t.animate({duration:n,easing:ju.linear,center:i}):t.setCenter(i)}},Nu.rotate=function(t,e,n,r){e=t.constrainRotation(e,0),Nu.rotateWithoutConstraints(t,e,n,r)},Nu.rotateWithoutConstraints=function(t,e,n,r){if(void 0!==e){var i=t.getRotation(),o=t.getCenter();void 0!==i&&o&&r>0?t.animate({rotation:e,anchor:n,duration:r,easing:ju.easeOut}):t.rotate(e,n)}},Nu.zoom=function(t,e,n,r,i){e=t.constrainResolution(e,0,i),Nu.zoomWithoutConstraints(t,e,n,r)},Nu.zoomByDelta=function(t,e,n,r){var i=t.getResolution(),o=t.constrainResolution(i,e,0);if(void 0!==o){var a=t.getResolutions();o=ca.clamp(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==i){var s=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*s[0]-i*l[0])/(o-i),(o*s[1]-i*l[1])/(o-i)]}Nu.zoomWithoutConstraints(t,o,n,r)},Nu.zoomWithoutConstraints=function(t,e,n,r){if(e){var i=t.getResolution(),o=t.getCenter();if(void 0!==i&&o&&e!==i&&r)t.animate({resolution:e,anchor:n,duration:r,easing:ju.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}};const Bu=Nu;var Uu=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,Bu.call(this,{handleEvent:Uu.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};vo.inherits(Uu,Bu),Uu.handleEvent=function(t){var e=!1,n=t.originalEvent;if(t.type==Du.DBLCLICK){var r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=r.getView();Bu.zoomByDelta(a,o,i,this.duration_),t.preventDefault(),e=!0}return!e};const zu=Uu,Wu=0,Gu=1;const qu={padNumber:function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},compareVersions:function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}};var Vu={add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t},closestOnCircle:function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+n*a/l,o+n*s/l]},closestOnSegment:function(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],h=s[1],f=c-l,d=h-u,p=0===f&&0===d?0:(f*(i-l)+d*(o-u))/(f*f+d*d||0);return p<=0?(n=l,r=u):p>=1?(n=c,r=h):(n=l+p*f,r=u+p*d),[n,r]},createStringXY:function(t){return function(e){return Vu.toStringXY(e,t)}},degreesToStringHDMS:function(t,e,n){var r=ca.modulo(e+180,360)-180,i=Math.abs(3600*r),o=n||0,a=Math.pow(10,o),s=Math.floor(i/3600),l=Math.floor((i-3600*s)/60),u=i-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+" "+qu.padNumber(l,2)+" "+qu.padNumber(u,2,o)+""+(0==r?"":" "+t.charAt(r<0?1:0))},format:function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""},equals:function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},rotate:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},scale:function(t,e){return t[0]*=e,t[1]*=e,t},sub:function(t,e){return t[0]-=e[0],t[1]-=e[1],t},squaredDistance:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},distance:function(t,e){return Math.sqrt(Vu.squaredDistance(t,e))},squaredDistanceToSegment:function(t,e){return Vu.squaredDistance(t,Vu.closestOnSegment(t,e))},toStringHDMS:function(t,e){return t?Vu.degreesToStringHDMS("NS",t[1],e)+" "+Vu.degreesToStringHDMS("EW",t[0],e):""},toStringXY:function(t,e){return Vu.format(t,"{x}, {y}",e)}};const Hu=Vu;var Xu={altKeyOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},altShiftKeysOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}};Xu.always=sa.TRUE,Xu.click=function(t){return t.type==Du.CLICK},Xu.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(ts.WEBKIT&&ts.MAC&&e.ctrlKey)},Xu.never=sa.FALSE,Xu.pointerMove=function(t){return"pointermove"==t.type},Xu.singleClick=function(t){return t.type==Du.SINGLECLICK},Xu.doubleClick=function(t){return t.type==Du.DBLCLICK},Xu.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Xu.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(ts.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},Xu.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Xu.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Xu.mouseOnly=function(t){return _o.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},Xu.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button};const Yu=Xu;var Ku=function(t,e,n){Wo.call(this,t),this.map=e,this.frameState=void 0!==n?n:null};vo.inherits(Ku,Wo);const Zu=Ku;var Qu=function(t,e,n,r,i){Zu.call(this,t,e,i),this.originalEvent=n,this.pixel=e.getEventPixel(n),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r};vo.inherits(Qu,Zu),Qu.prototype.preventDefault=function(){Zu.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Qu.prototype.stopPropagation=function(){Zu.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};const Ju=Qu;var $u=function(t,e,n,r,i){Ju.call(this,t,e,n.originalEvent,r,i),this.pointerEvent=n};vo.inherits($u,Ju);const tc=$u;var ec=function(t){var e=t||{},n=e.handleEvent?e.handleEvent:ec.handleEvent;Bu.call(this,{handleEvent:n}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:ec.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:ec.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:ec.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:ec.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};vo.inherits(ec,Bu),ec.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]},ec.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===Du.POINTERDOWN||e===Du.POINTERDRAG||e===Du.POINTERUP},ec.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==Du.POINTERUP?delete this.trackedPointers_[n]:(t.type==Du.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=wo.getValues(this.trackedPointers_)}},ec.handleDragEvent=vo.nullFunction,ec.handleUpEvent=sa.FALSE,ec.handleDownEvent=sa.FALSE,ec.handleMoveEvent=vo.nullFunction,ec.handleEvent=function(t){if(!(t instanceof tc))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Du.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==Du.POINTERUP){var n=this.handleUpEvent_(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Du.POINTERDOWN){var r=this.handleDownEvent_(t);this.handlingDownUpSequence=r,e=this.shouldStopEvent(r)}else t.type==Du.POINTERMOVE&&this.handleMoveEvent_(t);return!e},ec.prototype.shouldStopEvent=function(t){return t};const nc=ec;var rc=function(t){nc.call(this,{handleDownEvent:rc.handleDownEvent_,handleDragEvent:rc.handleDragEvent_,handleUpEvent:rc.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=e.condition?e.condition:Yu.noModifierKeys,this.noKinetic_=!1};vo.inherits(rc,nc),rc.handleDragEvent_=function(t){var e=this.targetPointers,n=nc.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=this.lastCentroid[0]-n[0],i=n[1]-this.lastCentroid[1],o=t.map.getView(),a=o.getState(),s=[r,i];Hu.scale(s,a.resolution),Hu.rotate(s,a.rotation),Hu.add(s,a.center),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},rc.handleUpEvent_=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animate({center:n.constrainCenter(s),duration:500,easing:ju.easeOut})}return n.setHint(Gu,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},rc.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||e.setHint(Gu,1),e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},rc.prototype.shouldStopEvent=sa.FALSE;const ic=rc;const oc={disable:function(t,e){return void 0!==t?0:void 0},none:function(t,e){return void 0!==t?t+e:void 0},createSnapToN:function(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}},createSnapToZero:function(t){var e=t||ca.toRadians(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}};var ac=function(t){var e=t||{};nc.call(this,{handleDownEvent:ac.handleDownEvent_,handleDragEvent:ac.handleDragEvent_,handleUpEvent:ac.handleUpEvent_}),this.condition_=e.condition?e.condition:Yu.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};vo.inherits(ac,nc),ac.handleDragEvent_=function(t){if(Yu.mouseOnly(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==oc.disable){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_,s=n.getRotation();Bu.rotateWithoutConstraints(n,s-a)}this.lastAngle_=o}}},ac.handleUpEvent_=function(t){if(!Yu.mouseOnly(t))return!0;var e=t.map.getView();e.setHint(Gu,-1);var n=e.getRotation();return Bu.rotate(e,n,void 0,this.duration_),!1},ac.handleDownEvent_=function(t){return!(!Yu.mouseOnly(t)||!Yu.mouseActionButton(t)||!this.condition_(t)||(t.map.getView().setHint(Gu,1),this.lastAngle_=void 0,0))},ac.prototype.shouldStopEvent=sa.FALSE;const sc=ac;var lc=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};vo.inherits(lc,Uo),lc.prototype.disposeInternal=function(){this.setMap(null)},lc.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},lc.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},lc.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},lc.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new kl([n])},lc.prototype.getGeometry=function(){return this.geometry_};const uc=lc;var cc=function(t){nc.call(this,{handleDownEvent:cc.handleDownEvent_,handleDragEvent:cc.handleDragEvent_,handleUpEvent:cc.handleUpEvent_});var e=t||{};this.box_=new uc(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:Yu.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:cc.defaultBoxEndCondition};vo.inherits(cc,nc),cc.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},cc.handleDragEvent_=function(t){Yu.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new cc.Event(cc.EventType_.BOXDRAG,t.coordinate,t)))},cc.prototype.getGeometry=function(){return this.box_.getGeometry()},cc.prototype.onBoxEnd=vo.nullFunction,cc.handleUpEvent_=function(t){return!Yu.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new cc.Event(cc.EventType_.BOXEND,t.coordinate,t))),!1)},cc.handleDownEvent_=function(t){return!(!Yu.mouseOnly(t)||!Yu.mouseActionButton(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new cc.Event(cc.EventType_.BOXSTART,t.coordinate,t)),0))},cc.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},cc.Event=function(t,e,n){Wo.call(this,t),this.coordinate=e,this.mapBrowserEvent=n},vo.inherits(cc.Event,Wo);const hc=cc;var fc=function(t){var e=t||{},n=e.condition?e.condition:Yu.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,hc.call(this,{condition:n,className:e.className||"ol-dragzoom"})};vo.inherits(fc,hc),fc.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n),o=aa.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(aa.getBottomLeft(r)),t.getPixelFromCoordinate(aa.getTopRight(r))]),a=e.getResolutionForExtent(o,n);aa.scaleFromCenter(i,1/a),r=i}var s=e.constrainResolution(e.getResolutionForExtent(r,n)),l=aa.getCenter(r);l=e.constrainCenter(l),e.animate({resolution:s,center:l,duration:this.duration_,easing:ju.easeOut})};const dc=fc,pc=37,yc=38,vc=39,gc=40;var mc=function(t){Bu.call(this,{handleEvent:mc.handleEvent});var e=t||{};this.defaultCondition_=function(t){return Yu.noModifierKeys(t)&&Yu.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};vo.inherits(mc,Bu),mc.handleEvent=function(t){var e=!1;if(t.type==Oo){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==gc||n==pc||n==vc||n==yc)){var r=t.map.getView(),i=r.getResolution()*this.pixelDelta_,o=0,a=0;n==gc?a=-i:n==pc?o=-i:n==vc?o=i:a=i;var s=[o,a];Hu.rotate(s,r.getRotation()),Bu.pan(r,s,this.duration_),t.preventDefault(),e=!0}}return!e};const _c=mc;var bc=function(t){Bu.call(this,{handleEvent:bc.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:Yu.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};vo.inherits(bc,Bu),bc.handleEvent=function(t){var e=!1;if(t.type==Oo||t.type==Ro){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=r.getView();Bu.zoomByDelta(o,i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};const wc=bc;var xc=function(t){Bu.call(this,{handleEvent:xc.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};vo.inherits(xc,Bu),xc.handleEvent=function(t){var e=t.type;if(e!==Fo&&e!==Mo)return!0;t.preventDefault();var n,r=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Fo?(n=i.deltaY,ts.FIREFOX&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=ts.DEVICE_PIXEL_RATIO),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==Mo&&(n=-i.wheelDeltaY,ts.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?xc.Mode_.TRACKPAD:xc.Mode_.WHEEL),this.mode_===xc.Mode_.TRACKPAD){var a=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(Gu,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=a.getMinResolution(),u=a.getMaxResolution(),c=0;if(s<l?(s=Math.max(s,l/this.trackpadZoomBuffer_),c=1):s>u&&(s=Math.min(s,u*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var h=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(h))}return a.setResolution(s),0===c&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,n>0?-1:1),easing:ju.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),c>0?a.animate({resolution:l,easing:ju.easeOut,anchor:this.lastAnchor_,duration:500}):c<0&&a.animate({resolution:u,easing:ju.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var f=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),f),!1},xc.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(Gu,-1)},xc.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=vo.MOUSEWHEELZOOM_MAXDELTA,r=ca.clamp(this.delta_,-n,n);Bu.zoomByDelta(e,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},xc.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},xc.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};const Sc=xc;var Ec=function(t){nc.call(this,{handleDownEvent:Ec.handleDownEvent_,handleDragEvent:Ec.handleDragEvent_,handleUpEvent:Ec.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};vo.inherits(Ec,nc),Ec.handleDragEvent_=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==oc.disable){var l=a.getViewport().getBoundingClientRect(),u=nc.centroid(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_){var c=s.getRotation();a.render(),Bu.rotateWithoutConstraints(s,c+e,this.anchor_)}}},Ec.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(Gu,-1),this.rotating_){var n=e.getRotation();Bu.rotate(e,n,this.anchor_,this.duration_)}return!1}return!0},Ec.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(Gu,1),!0}return!1},Ec.prototype.shouldStopEvent=sa.FALSE;const Cc=Ec;var kc=function(t){nc.call(this,{handleDownEvent:kc.handleDownEvent_,handleDragEvent:kc.handleDragEvent_,handleUpEvent:kc.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};vo.inherits(kc,nc),kc.handleDragEvent_=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView(),u=l.getResolution(),c=l.getMaxResolution(),h=l.getMinResolution(),f=u*e;f>c?(e=c/u,f=c):f<h&&(e=h/u,f=h),1!=e&&(this.lastScaleDelta_=e);var d=s.getViewport().getBoundingClientRect(),p=nc.centroid(this.targetPointers);p[0]-=d.left,p[1]-=d.top,this.anchor_=s.getCoordinateFromPixel(p),s.render(),Bu.zoomWithoutConstraints(l,f,this.anchor_)},kc.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(Gu,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var r=this.lastScaleDelta_-1;Bu.zoom(e,n,this.anchor_,this.duration_,r)}return!1}return!0},kc.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(Gu,1),!0}return!1},kc.prototype.shouldStopEvent=sa.FALSE;const Pc=kc;var Tc={defaults:function(t){var e=t||{},n=new Au,r=new Mu(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new sc),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new zu({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new ic({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Cc),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Pc({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new _c),n.push(new wc({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Sc({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new dc({duration:e.zoomDuration})),n}};const Oc=Tc,Rc="pointermove",Ac="pointerdown",Ic="pointerup",Mc="pointerover",Dc="pointerout",Lc="pointerenter",jc="pointerleave",Fc="pointercancel";var Nc=function(t,e){this.dispatcher=t,this.mapping_=e};Nc.prototype.getEvents=function(){return Object.keys(this.mapping_)},Nc.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};const Bc=Nc;var Uc=function(t){var e={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};Bc.call(this,t,e),this.pointerMap=t.pointerMap,this.lastTouches=[]};vo.inherits(Uc,Bc),Uc.POINTER_ID=1,Uc.POINTER_TYPE="mouse",Uc.DEDUP_DIST=25,Uc.prototype.isEventSimulatedFromTouch_=function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e[0]),l=Math.abs(i-e[1]);if(s<=Uc.DEDUP_DIST&&l<=Uc.DEDUP_DIST)return!0}return!1},Uc.prepareEvent=function(t,e){var n=e.cloneEvent(t,t),r=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),r()},n.pointerId=Uc.POINTER_ID,n.isPrimary=!0,n.pointerType=Uc.POINTER_TYPE,n},Uc.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){Uc.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var e=Uc.prepareEvent(t,this.dispatcher);this.pointerMap[Uc.POINTER_ID.toString()]=t,this.dispatcher.down(e,t)}},Uc.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Uc.prepareEvent(t,this.dispatcher);this.dispatcher.move(e,t)}},Uc.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[Uc.POINTER_ID.toString()];if(e&&e.button===t.button){var n=Uc.prepareEvent(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}},Uc.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Uc.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(e,t)}},Uc.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Uc.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}},Uc.prototype.cancel=function(t){var e=Uc.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},Uc.prototype.cleanupMouse=function(){delete this.pointerMap[Uc.POINTER_ID.toString()]};const zc=Uc;var Wc=function(t){var e={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};Bc.call(this,t,e),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};vo.inherits(Wc,Bc),Wc.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},Wc.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},Wc.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)},Wc.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)},Wc.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)},Wc.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)},Wc.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)},Wc.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)},Wc.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)},Wc.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};const Gc=Wc;var qc=function(t){var e={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};Bc.call(this,t,e)};vo.inherits(qc,Bc),qc.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},qc.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};const Vc=qc;var Hc=function(t,e,n){Wo.call(this,t),this.originalEvent=e;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};vo.inherits(Hc,Wo),Hc.prototype.getButtons_=function(t){var e;if(t.buttons||Hc.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},Hc.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},Hc.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});Hc.HAS_BUTTONS=1===t.buttons}catch(t){}}();const Xc=Hc;var Yc=function(t,e){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};Bc.call(this,t,n),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};vo.inherits(Yc,Bc),Yc.DEDUP_TIMEOUT=2500,Yc.CLICK_COUNT_TIMEOUT=200,Yc.POINTER_TYPE="touch",Yc.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},Yc.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&zc.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},Yc.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},Yc.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),Yc.CLICK_COUNT_TIMEOUT)},Yc.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},Yc.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},Yc.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=Yc.POINTER_TYPE,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},Yc.prototype.processTouches_=function(t,e){var n,r,i=Array.prototype.slice.call(t.changedTouches),o=i.length;function a(){t.preventDefault()}for(n=0;n<o;++n)(r=this.touchToPointer_(t,i[n])).preventDefault=a,e.call(this,t,r)},Yc.prototype.findTouch_=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].identifier===e)return!0;return!1},Yc.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),r=n.length;if(r>=e.length){var i,o,a,s=[];for(i=0;i<r;++i)o=n[i],a=this.pointerMap[o],o==zc.POINTER_ID||this.findTouch_(e,o-2)||s.push(a.out);for(i=0;i<s.length;++i)this.cancelOut_(t,s[i])}},Yc.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},Yc.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},Yc.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},Yc.prototype.moveOverOut_=function(t,e){var n=e,r=this.pointerMap[n.pointerId];if(r){var i=r.out,o=r.outTarget;this.dispatcher.move(n,t),i&&o!==n.target&&(i.relatedTarget=n.target,n.relatedTarget=o,i.target=o,n.target?(this.dispatcher.leaveOut(i,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),r.out=n,r.outTarget=n.target}},Yc.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},Yc.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},Yc.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},Yc.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},Yc.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},Yc.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var r=[n.clientX,n.clientY];e.push(r),setTimeout((function(){Ns.remove(e,r)}),Yc.DEDUP_TIMEOUT)}};const Kc=Yc;var Zc=function(t){qo.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};vo.inherits(Zc,qo),Zc.prototype.registerSources=function(){if(ts.POINTER)this.registerSource("native",new Vc(this));else if(ts.MSPOINTER)this.registerSource("ms",new Gc(this));else{var t=new zc(this);this.registerSource("mouse",t),ts.TOUCH&&this.registerSource("touch",new Kc(this,t))}this.register_()},Zc.prototype.registerSource=function(t,e){var n=e,r=n.getEvents();r&&(r.forEach((function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}),this),this.eventSourceList_.push(n))},Zc.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.addEvents_(t.getEvents())},Zc.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.removeEvents_(t.getEvents())},Zc.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},Zc.prototype.addEvents_=function(t){t.forEach((function(t){So.listen(this.element_,t,this.eventHandler_,this)}),this)},Zc.prototype.removeEvents_=function(t){t.forEach((function(t){So.unlisten(this.element_,t,this.eventHandler_,this)}),this)},Zc.prototype.cloneEvent=function(t,e){for(var n,r={},i=0,o=Zc.CLONE_PROPS.length;i<o;i++)r[n=Zc.CLONE_PROPS[i][0]]=t[n]||e[n]||Zc.CLONE_PROPS[i][1];return r},Zc.prototype.down=function(t,e){this.fireEvent(Ac,t,e)},Zc.prototype.move=function(t,e){this.fireEvent(Rc,t,e)},Zc.prototype.up=function(t,e){this.fireEvent(Ic,t,e)},Zc.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(Lc,t,e)},Zc.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(jc,t,e)},Zc.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(Mc,t,e)},Zc.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(Dc,t,e)},Zc.prototype.cancel=function(t,e){this.fireEvent(Fc,t,e)},Zc.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},Zc.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},Zc.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},Zc.prototype.makeEvent=function(t,e,n){return new Xc(t,n,e)},Zc.prototype.fireEvent=function(t,e,n){var r=this.makeEvent(t,e,n);this.dispatchEvent(r)},Zc.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},Zc.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,zc.prepareEvent(e,this),e)},Zc.prototype.disposeInternal=function(){this.unregister_(),qo.prototype.disposeInternal.call(this)},Zc.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const Qc=Zc;var Jc=function(t,e){qo.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*ts.DEVICE_PIXEL_RATIO:ts.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new Qc(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=So.listen(this.pointerEventHandler_,Ac,this.handlePointerDown_,this),this.relayedListenerKey_=So.listen(this.pointerEventHandler_,Rc,this.relayEvent_,this)};vo.inherits(Jc,qo),Jc.prototype.emulateClick_=function(t){var e=new tc(Du.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new tc(Du.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new tc(Du.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},Jc.prototype.updateActivePointers_=function(t){var e=t;e.type==Du.POINTERUP||e.type==Du.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Du.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},Jc.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new tc(Du.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(So.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},Jc.prototype.isMouseActionButton_=function(t){return 0===t.button},Jc.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new tc(Du.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Qc(document),this.dragListenerKeys_.push(So.listen(this.documentPointerEventHandler_,Du.POINTERMOVE,this.handlePointerMove_,this),So.listen(this.documentPointerEventHandler_,Du.POINTERUP,this.handlePointerUp_,this),So.listen(this.pointerEventHandler_,Du.POINTERCANCEL,this.handlePointerUp_,this)))},Jc.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new tc(Du.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},Jc.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new tc(t.type,this.map_,t,e))},Jc.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},Jc.prototype.disposeInternal=function(){this.relayedListenerKey_&&(So.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(So.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(So.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),qo.prototype.disposeInternal.call(this)};const $c=Jc,th="postrender",eh="movestart",nh="moveend",rh="layergroup",ih="size",oh="target",ah="view",sh=0,lh=2,uh=3,ch=4,hh=5;var fh=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};fh.DROP=1/0,fh.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,wo.clear(this.queuedElements_)},fh.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},fh.prototype.enqueue=function(t){_o.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=fh.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},fh.prototype.getCount=function(){return this.elements_.length},fh.prototype.getLeftChildIndex_=function(t){return 2*t+1},fh.prototype.getRightChildIndex_=function(t){return 2*t+2},fh.prototype.getParentIndex_=function(t){return t-1>>1},fh.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},fh.prototype.isEmpty=function(){return 0===this.elements_.length},fh.prototype.isKeyQueued=function(t){return t in this.queuedElements_},fh.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},fh.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<r&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=i,n[t]=o,this.siftDown_(a,t)},fh.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},fh.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==fh.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()};const dh=fh;var ph=function(t,e){dh.call(this,(function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};vo.inherits(ph,dh),ph.prototype.enqueue=function(t){var e=dh.prototype.enqueue.call(this,t);if(e){var n=t[0];So.listen(n,Eo,this.handleTileChange,this)}return e},ph.prototype.getTilesLoading=function(){return this.tilesLoading_},ph.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===lh||n===uh||n===ch||n===hh){So.unlisten(e,Eo,this.handleTileChange,this);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},ph.prototype.loadMoreTiles=function(t,e){for(var n,r,i,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),(n=r.getState())===hh?a=!0:n!==sh||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load());0===o&&a&&this.tileChangeCallback_()};const yh=ph;const vh={createExtent:function(t){return function(e){return e?[ca.clamp(e[0],t[0],t[2]),ca.clamp(e[1],t[1],t[3])]:void 0}},none:function(t){return t}};const gh={createSnapToResolutions:function(t){return function(e,n,r){if(void 0!==e){var i=Ns.linearFindNearest(t,e,r);i=ca.clamp(i+n,0,t.length-1);var o=Math.floor(i);if(i!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,i-o)}return t[o]}}},createSnapToPower:function(t,e,n){return function(r,i,o){if(void 0!==r){var a=-o/2+.5,s=Math.floor(Math.log(e/r)/Math.log(t)+a),l=Math.max(s+i,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}},mh="center",_h="resolution",bh="rotation";var wh=function(t){Yo.call(this);var e=wo.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Fa.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};vo.inherits(wh,Yo),wh.prototype.applyOptions_=function(t){var e={};e[mh]=void 0!==t.center?t.center:null;var n=wh.createResolutionConstraint_(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=wh.createCenterConstraint_(t),i=n.constraint,o=wh.createRotationConstraint_(t);this.constraints_={center:r,resolution:i,rotation:o},void 0!==t.resolution?e[_h]=t.resolution:void 0!==t.zoom&&(e[_h]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[_h]=ca.clamp(Number(this.getResolution()||e[_h]),this.minResolution_,this.maxResolution_))),e[bh]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},wh.prototype.getUpdatedOptions_=function(t){var e=wo.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),wo.assign({},e,t)},wh.prototype.animate=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&e(!0))}for(var i=Date.now(),o=this.getCenter().slice(),a=this.getResolution(),s=this.getRotation(),l=[],u=0;u<n;++u){var c=arguments[u],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||ju.inAndOut};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center,o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var f=ca.modulo(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+f,s=h.targetRotation}h.callback=e,wh.isNoopAnimation(h)?h.complete=!0:i+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(Wu,1),this.updateAnimations_()},wh.prototype.getAnimating=function(){return this.hints_[Wu]>0},wh.prototype.getInteracting=function(){return this.hints_[Gu]>0},wh.prototype.cancelAnimations=function(){this.setHint(Wu,-this.hints_[Wu]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&n[0].callback(!1)}this.animations_.length=0},wh.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],f=s.sourceCenter[1],d=h+c*(s.targetCenter[0]-h),p=f+c*(s.targetCenter[1]-f);this.set(mh,[d,p])}if(s.sourceResolution&&s.targetResolution){var y=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(mh,this.calculateCenterZoom(y,s.anchor)),this.set(_h,y)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var v=1===c?ca.modulo(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(mh,this.calculateCenterRotate(v,s.anchor)),this.set(bh,v)}if(e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(Wu,-1);var g=r[0].callback;g&&g(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},wh.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenter();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],Hu.rotate(n,t-this.getRotation()),Hu.add(n,e)),n},wh.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenter(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},wh.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+vo.getUid(this)+'"]',n=document.querySelector(e);if(n){var r=getComputedStyle(n);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},wh.prototype.constrainCenter=function(t){return this.constraints_.center(t)},wh.prototype.constrainResolution=function(t,e,n){var r=e||0,i=n||0;return this.constraints_.resolution(t,r,i)},wh.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},wh.prototype.getCenter=function(){return this.get(mh)},wh.prototype.getConstraints=function(){return this.constraints_},wh.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},wh.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();_o.assert(n,1);var r=this.getResolution();_o.assert(void 0!==r,2);var i=this.getRotation();return _o.assert(void 0!==i,3),aa.getForViewAndSize(n,r,i,e)},wh.prototype.getMaxResolution=function(){return this.maxResolution_},wh.prototype.getMinResolution=function(){return this.minResolution_},wh.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},wh.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},wh.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},wh.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},wh.prototype.getProjection=function(){return this.projection_},wh.prototype.getResolution=function(){return this.get(_h)},wh.prototype.getResolutions=function(){return this.resolutions_},wh.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),r=aa.getWidth(t)/n[0],i=aa.getHeight(t)/n[1];return Math.max(r,i)},wh.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},wh.prototype.getRotation=function(){return this.get(bh)},wh.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},wh.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},wh.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},wh.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Ns.linearFindNearest(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},wh.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},wh.prototype.fit=function(t,e){var n,r=e||{},i=r.size;i||(i=this.getSizeFromViewport_()),t instanceof qs?t.getType()===_a?(t=t.getExtent(),(n=kl.fromExtent(t)).rotate(this.getRotation(),aa.getCenter(t))):n=t:(_o.assert(Array.isArray(t),24),_o.assert(!aa.isEmpty(t),25),n=kl.fromExtent(t));var o,a=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0===r.constrainResolution||r.constrainResolution,l=void 0!==r.nearest&&r.nearest;o=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var u=n.getFlatCoordinates(),c=this.getRotation(),h=Math.cos(-c),f=Math.sin(-c),d=1/0,p=1/0,y=-1/0,v=-1/0,g=n.getStride(),m=0,_=u.length;m<_;m+=g){var b=u[m]*h-u[m+1]*f,w=u[m]*f+u[m+1]*h;d=Math.min(d,b),p=Math.min(p,w),y=Math.max(y,b),v=Math.max(v,w)}var x=this.getResolutionForExtent([d,p,y,v],[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);if(x=isNaN(x)?o:Math.max(x,o),s){var S=this.constrainResolution(x,0,0);!l&&S<x&&(S=this.constrainResolution(S,-1,0)),x=S}f=-f;var E=(d+y)/2,C=(p+v)/2,k=[(E+=(a[1]-a[3])/2*x)*h-(C+=(a[0]-a[2])/2*x)*f,C*h+E*f],P=r.callback?r.callback:vo.nullFunction;void 0!==r.duration?this.animate({resolution:x,center:k,duration:r.duration,easing:r.easing},P):(this.setResolution(x),this.setCenter(k),setTimeout(P.bind(void 0,!0),0))},wh.prototype.centerOn=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*i-(s+=(n[1]-e[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenter([u,c])},wh.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},wh.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},wh.prototype.setCenter=function(t){this.set(mh,t),this.getAnimating()&&this.cancelAnimations()},wh.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},wh.prototype.setResolution=function(t){this.set(_h,t),this.getAnimating()&&this.cancelAnimations()},wh.prototype.setRotation=function(t){this.set(bh,t),this.getAnimating()&&this.cancelAnimations()},wh.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},wh.createCenterConstraint_=function(t){return void 0!==t.extent?vh.createExtent(t.extent):vh.none},wh.createResolutionConstraint_=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:vo.DEFAULT_MIN_ZOOM,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],e=gh.createSnapToResolutions(s)}else{var l=Fa.createProjection(t.projection,"EPSG:3857"),u=l.getExtent(),c=(u?Math.max(aa.getWidth(u),aa.getHeight(u)):360*Fa.METERS_PER_UNIT[Sa.DEGREES]/l.getMetersPerUnit())/vo.DEFAULT_TILE_SIZE/Math.pow(2,vo.DEFAULT_MIN_ZOOM),h=c/Math.pow(2,28-vo.DEFAULT_MIN_ZOOM);void 0!==(n=t.maxResolution)?i=0:n=c/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):c/Math.pow(a,o):h),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=gh.createSnapToPower(a,n,o-i)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}},wh.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?oc.createSnapToZero():!1===e?oc.none:"number"==typeof e?oc.createSnapToN(e):oc.none}return oc.disable},wh.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!Hu.equals(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation};const xh=wh;var Sh=function(t){var e=t||{},n=wo.assign({},e);delete n.layers;var r=e.layers;ql.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},So.listen(this,Yo.getChangeEventType(Sh.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new Au(r.slice(),{unique:!0}):(_o.assert(r instanceof Au,43),r=r):r=new Au(void 0,{unique:!0}),this.setLayers(r)};vo.inherits(Sh,ql),Sh.prototype.handleLayerChange_=function(){this.changed()},Sh.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(So.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(So.listen(e,Tu,this.handleLayersAdd_,this),So.listen(e,Ou,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(So.unlistenByKey);wo.clear(this.listenerKeys_);var r,i,o,a=e.getArray();for(r=0,i=a.length;r<i;r++)o=a[r],this.listenerKeys_[vo.getUid(o).toString()]=[So.listen(o,No,this.handleLayerChange_,this),So.listen(o,Eo,this.handleLayerChange_,this)];this.changed()},Sh.prototype.handleLayersAdd_=function(t){var e=t.element,n=vo.getUid(e).toString();this.listenerKeys_[n]=[So.listen(e,No,this.handleLayerChange_,this),So.listen(e,Eo,this.handleLayerChange_,this)],this.changed()},Sh.prototype.handleLayersRemove_=function(t){var e=t.element,n=vo.getUid(e).toString();this.listenerKeys_[n].forEach(So.unlistenByKey),delete this.listenerKeys_[n],this.changed()},Sh.prototype.getLayers=function(){return this.get(Sh.Property_.LAYERS)},Sh.prototype.setLayers=function(t){this.set(Sh.Property_.LAYERS,t)},Sh.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},Sh.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r,i,o,a=this.getLayerState();for(r=n,i=e.length;r<i;r++)(o=e[r]).opacity*=a.opacity,o.visible=o.visible&&a.visible,o.maxResolution=Math.min(o.maxResolution,a.maxResolution),o.minResolution=Math.max(o.minResolution,a.minResolution),void 0!==a.extent&&(void 0!==o.extent?o.extent=aa.getIntersection(o.extent,a.extent):o.extent=a.extent);return e},Sh.prototype.getSourceState=function(){return Kl},Sh.Property_={LAYERS:"layers"};const Eh=Sh,Ch="MAP_RENDERER",kh="LAYER_RENDERER";var Ph={mapRendererPlugins_:[],getMapRendererPlugins:function(){return Ph.mapRendererPlugins_},layerRendererPlugins_:[],getLayerRendererPlugins:function(){return Ph.layerRendererPlugins_},register:function(t,e){switch(t){case Ch:Ph.mapRendererPlugins_.push(e);break;case kh:Ph.layerRendererPlugins_.push(e);break;default:throw new Error("Unsupported plugin type: "+t)}},registerMultiple:function(t,e){for(var n=0,r=e.length;n<r;++n)Ph.register(t,e[n])}};const Th=Ph,Oh="canvas",Rh="webgl";var Ah=function(t){Yo.call(this);var e=Ah.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:ts.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Ba.create(),this.pixelToCoordinateTransform_=Ba.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(ts.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[ko,Po,Io,jo,Do,Du.POINTERDOWN,Mo,Fo],r=0,i=n.length;r<i;++r)So.listen(this.overlayContainerStopEvent_,n[r],Wo.stopPropagation);for(var o in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new $c(this,t.moveTolerance),Du)So.listen(this.mapBrowserEventHandler_,Du[o],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,So.listen(this.viewport_,Fo,this.handleBrowserEvent,this),So.listen(this.viewport_,Mo,this.handleBrowserEvent,this),this.controls=e.controls||new Au,this.interactions=e.interactions||new Au,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new yh(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},So.listen(this,Yo.getChangeEventType(rh),this.handleLayerGroupChanged_,this),So.listen(this,Yo.getChangeEventType(ah),this.handleViewChanged_,this),So.listen(this,Yo.getChangeEventType(ih),this.handleSizeChanged_,this),So.listen(this,Yo.getChangeEventType(oh),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach((function(t){t.setMap(this)}),this),So.listen(this.controls,Tu,(function(t){t.element.setMap(this)}),this),So.listen(this.controls,Ou,(function(t){t.element.setMap(null)}),this),this.interactions.forEach((function(t){t.setMap(this)}),this),So.listen(this.interactions,Tu,(function(t){t.element.setMap(this)}),this),So.listen(this.interactions,Ou,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_,this),So.listen(this.overlays_,Tu,(function(t){this.addOverlayInternal_(t.element)}),this),So.listen(this.overlays_,Ou,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)};vo.inherits(Ah,Yo),Ah.prototype.addControl=function(t){this.getControls().push(t)},Ah.prototype.addInteraction=function(t){this.getInteractions().push(t)},Ah.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},Ah.prototype.addOverlay=function(t){this.getOverlays().push(t)},Ah.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},Ah.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),So.unlisten(this.viewport_,Fo,this.handleBrowserEvent,this),So.unlisten(this.viewport_,Mo,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(Lo,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),Yo.prototype.disposeInternal.call(this)},Ah.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixel(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:sa.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,e,null,o,null)}},Ah.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,(function(t){n||(n=[]),n.push(t)}),e),n},Ah.prototype.forEachLayerAtPixel=function(t,e,n,r,i){if(this.frameState_){var o=void 0!==n?n:null,a=void 0!==r?r:sa.TRUE,s=void 0!==i?i:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,o,a,s)}},Ah.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:sa.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,r,null)},Ah.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},Ah.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=t.changedTouches?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},Ah.prototype.getTarget=function(){return this.get(oh)},Ah.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},Ah.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Ba.apply(e.pixelToCoordinateTransform,t.slice()):null},Ah.prototype.getControls=function(){return this.controls},Ah.prototype.getOverlays=function(){return this.overlays_},Ah.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},Ah.prototype.getInteractions=function(){return this.interactions},Ah.prototype.getLayerGroup=function(){return this.get(rh)},Ah.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},Ah.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Ba.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},Ah.prototype.getRenderer=function(){return this.renderer_},Ah.prototype.getSize=function(){return this.get(ih)},Ah.prototype.getView=function(){return this.get(ah)},Ah.prototype.getViewport=function(){return this.viewport_},Ah.prototype.getOverlayContainer=function(){return this.overlayContainer_},Ah.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},Ah.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!i||!(e in i.wantedTiles))return dh.DROP;if(!i.wantedTiles[e][t.getKey()])return dh.DROP;var o=n[0]-i.focus[0],a=n[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r},Ah.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new Ju(n,this,t);this.handleMapBrowserEvent(r)},Ah.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=n.length-1;e>=0;e--){var r=n[e];if(r.getActive()&&!r.handleEvent(t))break}}},Ah.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=16,r=n;if(t){var i=t.viewHints;i[Wu]&&(n=this.loadTilesWhileAnimating_?8:0,r=2),i[Gu]&&(n=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}var o,a,s=this.postRenderFunctions_;for(o=0,a=s.length;o<a;++o)s[o](this,t);s.length=0},Ah.prototype.handleSizeChanged_=function(){this.render()},Ah.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)So.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[So.listen(r,Oo,this.handleBrowserEvent,this),So.listen(r,Ro,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Lo,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Ka.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(Lo,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},Ah.prototype.handleTileChange_=function(){this.render()},Ah.prototype.handleViewPropertyChanged_=function(){this.render()},Ah.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(So.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(So.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",vo.getUid(t)),this.viewPropertyListenerKey_=So.listen(t,No,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=So.listen(t,Eo,this.handleViewPropertyChanged_,this)),this.render()},Ah.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(So.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[So.listen(t,No,this.render,this),So.listen(t,Eo,this.render,this)]),this.render()},Ah.prototype.isRendered=function(){return!!this.frameState_},Ah.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},Ah.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},Ah.prototype.removeControl=function(t){return this.getControls().remove(t)},Ah.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},Ah.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},Ah.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},Ah.prototype.renderFrame_=function(t){var e,n,r,i=this.getSize(),o=this.getView(),a=aa.createEmpty(),s=this.frameState_,l=null;if(void 0!==i&&du.hasArea(i)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),h={};for(e=0,n=c.length;e<n;++e)h[vo.getUid(c[e].layer)]=c[e];var f=(r=o.getState()).center,d=r.resolution/this.pixelRatio_;f[0]=Math.round(f[0]/d)*d,f[1]=Math.round(f[1]/d)*d,l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:this.focus_?this.focus_:f,index:this.frameIndex_++,layerStates:h,layerStatesArray:c,logos:wo.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:u,wantedTiles:{}}}l&&(l.extent=aa.getForViewAndSize(r.center,r.resolution,r.rotation,l.size,a)),this.frameState_=l,this.renderer_.renderFrame(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s&&(!this.previousExtent_||!aa.isEmpty(this.previousExtent_)&&!aa.equals(l.extent,this.previousExtent_))&&(this.dispatchEvent(new Zu(eh,this,s)),this.previousExtent_=aa.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!l.viewHints[Wu]&&!l.viewHints[Gu]&&!aa.equals(l.extent,this.previousExtent_)&&(this.dispatchEvent(new Zu(nh,this,l)),aa.clone(l.extent,this.previousExtent_))),this.dispatchEvent(new Zu(th,this,l)),setTimeout(this.handlePostRender.bind(this),0)},Ah.prototype.setLayerGroup=function(t){this.set(rh,t)},Ah.prototype.setSize=function(t){this.set(ih,t)},Ah.prototype.setTarget=function(t){this.set(oh,t)},Ah.prototype.setView=function(t){this.set(ah,t)},Ah.prototype.skipFeature=function(t){var e=vo.getUid(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},Ah.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},Ah.prototype.unskipFeature=function(t){var e=vo.getUid(t).toString();delete this.skippedFeatureUids_[e],this.render()},Ah.DEFAULT_RENDERER_TYPES=[Oh,Rh],Ah.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",Ah.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},r={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)r[Ah.LOGO_URL]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?r[i]="":i instanceof HTMLElement?r[vo.getUid(i).toString()]=i:i&&(_o.assert("string"==typeof i.href,44),_o.assert("string"==typeof i.src,45),r[i.src]=i.href)}var o,a,s=t.layers instanceof Eh?t.layers:new Eh({layers:t.layers});n[rh]=s,n[oh]=t.target,n[ah]=void 0!==t.view?t.view:new xh,void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:_o.assert(!1,46),o.indexOf("dom")>=0&&(o=o.concat(Ah.DEFAULT_RENDERER_TYPES))):o=Ah.DEFAULT_RENDERER_TYPES;var l,u,c,h=Th.getMapRendererPlugins();t:for(var f=0,d=o.length;f<d;++f)for(var p=o[f],y=0,v=h.length;y<v;++y){var g=h[y];if(g.handles(p)){a=g;break t}}if(!a)throw new Error("Unable to create a map renderer for types: "+o.join(", "));return void 0!==t.controls&&(Array.isArray(t.controls)?l=new Au(t.controls.slice()):(_o.assert(t.controls instanceof Au,47),l=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?u=new Au(t.interactions.slice()):(_o.assert(t.interactions instanceof Au,48),u=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?c=new Au(t.overlays.slice()):(_o.assert(t.overlays instanceof Au,49),c=t.overlays):c=new Au,{controls:l,interactions:u,keyboardEventTarget:e,logos:r,overlays:c,mapRendererPlugin:a,values:n}};const Ih=Ah;var Mh=function(t){Yo.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:vo.nullFunction,t.target&&this.setTarget(t.target)};vo.inherits(Mh,Yo),Mh.prototype.disposeInternal=function(){Ka.removeNode(this.element),Yo.prototype.disposeInternal.call(this)},Mh.prototype.getMap=function(){return this.map_},Mh.prototype.setMap=function(t){this.map_&&Ka.removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)So.unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==vo.nullFunction&&this.listenerKeys.push(So.listen(t,th,this.render,this)),t.render())},Mh.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t};const Dh=Mh;var Lh=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.collapseLabel?e.collapseLabel:"";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var o=void 0!==e.label?e.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=r,s.appendChild(a),So.listen(s,ko,this.handleClick_,this);var l=n+" "+as.CLASS_UNSELECTABLE+" "+as.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),u=document.createElement("div");u.className=l,u.appendChild(this.ulElement_),u.appendChild(s);var c=e.render?e.render:Lh.render;Dh.call(this,{element:u,render:c,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};vo.inherits(Lh,Dh),Lh.prototype.getSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=t.viewState.resolution,o=0,a=r.length;o<a;++o){var s=r[o];if(Ql.visibleAtResolution(s,i)){var l=s.layer.getSource();if(l){var u=l.getAttributions2();if(u){var c=u(t);if(c)if(Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},Lh.render=function(t){this.updateElement_(t.frameState)},Lh.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t);if(!Ns.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var n=0,r=e.length;n<r;++n){var i=document.createElement("LI");i.innerHTML=e[n],this.ulElement_.appendChild(i)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var o=e.length>0||!wo.isEmpty(t.logos);this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),this.renderedAttributions_=e,this.insertLogos_(t)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},Lh.prototype.insertLogos_=function(t){var e,n,r,i,o=t.logos,a=this.logoElements_;for(e in a)e in o||(Ka.removeNode(a[e]),delete a[e]);for(i in o){var s=o[i];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),a[i]=s),i in a||((n=new Image).src=i,""===s?r=n:((r=document.createElement("a")).href=s,r.appendChild(n)),this.logoLi_.appendChild(r),a[i]=r)}this.logoLi_.style.display=wo.isEmpty(o)?"none":""},Lh.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},Lh.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?Ka.replaceNode(this.collapseLabel_,this.label_):Ka.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},Lh.prototype.getCollapsible=function(){return this.collapsible_},Lh.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},Lh.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},Lh.prototype.getCollapsed=function(){return this.collapsed_};const jh=Lh;var Fh=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),So.listen(o,ko,Fh.prototype.handleClick_,this);var a=n+" "+as.CLASS_UNSELECTABLE+" "+as.CLASS_CONTROL,s=document.createElement("div");s.className=a,s.appendChild(o);var l=e.render?e.render:Fh.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,Dh.call(this,{element:s,render:l,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(as.CLASS_HIDDEN)};vo.inherits(Fh,Dh),Fh.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Fh.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:ju.easeOut}):t.setRotation(0))},Fh.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(as.CLASS_HIDDEN);i||0!==n?i&&0!==n&&this.element.classList.remove(as.CLASS_HIDDEN):this.element.classList.add(as.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=n}};const Nh=Fh;var Bh=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInLabel?e.zoomInLabel:"+",o=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",s=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof i?document.createTextNode(i):i),So.listen(l,ko,Bh.prototype.handleClick_.bind(this,r));var u=document.createElement("button");u.className=n+"-out",u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof o?document.createTextNode(o):o),So.listen(u,ko,Bh.prototype.handleClick_.bind(this,-r));var c=n+" "+as.CLASS_UNSELECTABLE+" "+as.CLASS_CONTROL,h=document.createElement("div");h.className=c,h.appendChild(l),h.appendChild(u),Dh.call(this,{element:h,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};vo.inherits(Bh,Dh),Bh.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},Bh.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var r=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:r,duration:this.duration_,easing:ju.easeOut})):e.setResolution(r)}}};const Uh=Bh;var zh={defaults:function(t){var e=t||{},n=new Au;return(void 0===e.zoom||e.zoom)&&n.push(new Uh(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Nh(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new jh(e.attributionOptions)),n}};const Wh=zh;var Gh=function(t,e,n,r,i){this.loader_=void 0!==i?i:null;var o=void 0!==i?es:rs;eu.call(this,t,e,n,o),this.canvas_=r,this.error_=null};vo.inherits(Gh,eu),Gh.prototype.getError=function(){return this.error_},Gh.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=is):this.state=rs,this.changed()},Gh.prototype.load=function(){this.state==es&&(this.state=ns,this.changed(),this.loader_(this.handleLoad_.bind(this)))},Gh.prototype.getImage=function(){return this.canvas_};const qh=Gh,Vh="image",Hh="vector";var Xh=function(t,e,n,r,i){Wo.call(this,t),this.vectorContext=e,this.frameState=n,this.context=r,this.glContext=i};vo.inherits(Xh,Wo);const Yh=Xh;var Kh=function(){};Kh.prototype.drawCustom=function(t,e,n){},Kh.prototype.drawGeometry=function(t){},Kh.prototype.setStyle=function(t){},Kh.prototype.drawCircle=function(t,e){},Kh.prototype.drawFeature=function(t,e){},Kh.prototype.drawGeometryCollection=function(t,e){},Kh.prototype.drawLineString=function(t,e){},Kh.prototype.drawMultiLineString=function(t,e){},Kh.prototype.drawMultiPoint=function(t,e){},Kh.prototype.drawMultiPolygon=function(t,e){},Kh.prototype.drawPoint=function(t,e){},Kh.prototype.drawPolygon=function(t,e){},Kh.prototype.drawText=function(t,e){},Kh.prototype.setFillStrokeStyle=function(t,e){},Kh.prototype.setImageStyle=function(t,e){},Kh.prototype.setTextStyle=function(t,e){};const Zh=Kh;var Qh=function(t,e,n,r,i){Zh.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.viewRotation_=i,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Ba.create()};vo.inherits(Qh,Zh),Qh.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=la.transform2D(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l,u,c=this.imageRotation_;for(this.imageRotateWithView_&&(c+=this.viewRotation_),l=0,u=i.length;l<u;l+=2){var h=i[l]-this.imageAnchorX_,f=i[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(h=Math.round(h),f=Math.round(f)),0!==c||1!=this.imageScale_){var d=h+this.imageAnchorX_,p=f+this.imageAnchorY_;Ba.compose(a,d,p,this.imageScale_,this.imageScale_,c,-d,-p),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},Qh.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=la.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Ba.compose(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},Qh.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=la.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},Qh.prototype.drawRings_=function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},Qh.prototype.drawCircle=function(t){if(aa.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=qs.transform2D(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},Qh.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},Qh.prototype.drawGeometry=function(t){switch(t.getType()){case ha:this.drawPoint(t);break;case fa:this.drawLineString(t);break;case pa:this.drawPolygon(t);break;case ya:this.drawMultiPoint(t);break;case va:this.drawMultiLineString(t);break;case ga:this.drawMultiPolygon(t);break;case ma:this.drawGeometryCollection(t);break;case _a:this.drawCircle(t)}},Qh.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&aa.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},Qh.prototype.drawGeometryCollection=function(t){var e,n,r=t.getGeometriesArray();for(e=0,n=r.length;e<n;++e)this.drawGeometry(r[e])},Qh.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},Qh.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},Qh.prototype.drawLineString=function(t){if(aa.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},Qh.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(aa.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n,r,i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();for(i.beginPath(),n=0,r=s.length;n<r;++n)a=this.moveToLineTo_(o,a,s[n],l,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},Qh.prototype.drawPolygon=function(t){if(aa.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},Qh.prototype.drawMultiPolygon=function(t){if(aa.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,n,r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();for(r.beginPath(),e=0,n=a.length;e<n;++e){var l=a[e];o=this.drawRings_(i,o,l,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},Qh.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},Qh.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),ts.CANVAS_LINE_DASH&&(Ns.equals(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,ts.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},Qh.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:fs.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=r&&(n.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},Qh.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Xa.asColorLike(n||fs.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:fs.defaultLineCap,lineDash:o||fs.defaultLineDash,lineDashOffset:a||fs.defaultLineDashOffset,lineJoin:void 0!==s?s:fs.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:fs.defaultLineWidth),miterLimit:void 0!==u?u:fs.defaultMiterLimit,strokeStyle:Xa.asColorLike(r||fs.defaultStrokeStyle)}}else this.strokeState_=null},Qh.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=i[0]}else this.image_=null},Qh.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Xa.asColorLike(n||fs.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),u=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:fs.defaultLineCap,lineDash:a||fs.defaultLineDash,lineDashOffset:s||fs.defaultLineDashOffset,lineJoin:void 0!==l?l:fs.defaultLineJoin,lineWidth:void 0!==u?u:fs.defaultLineWidth,miterLimit:void 0!==c?c:fs.defaultMiterLimit,strokeStyle:Xa.asColorLike(i||fs.defaultStrokeStyle)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),y=t.getRotation(),v=t.getScale(),g=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:fs.defaultFont,textAlign:void 0!==m?m:fs.defaultTextAlign,textBaseline:void 0!==_?_:fs.defaultTextBaseline},this.text_=void 0!==g?g:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""};const Jh=Qh;var $h=function(t){Ho.call(this),this.layer_=t};vo.inherits($h,Ho),$h.prototype.forEachFeatureAtCoordinate=vo.nullFunction,$h.prototype.hasFeatureAtCoordinate=sa.FALSE,$h.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){return t.forEachLoadedTile(e,r,i,(function(t){n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t}))}},$h.prototype.getLayer=function(){return this.layer_},$h.prototype.handleImageChange_=function(t){t.target.getState()===rs&&this.renderIfReadyAndVisible()},$h.prototype.loadImage=function(t){var e=t.getState();return e!=rs&&e!=is&&So.listen(t,Eo,this.handleImageChange_,this),e==es&&(t.load(),e=t.getState()),e==rs},$h.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Kl&&this.changed()},$h.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=vo.getUid(t).toString();r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},$h.prototype.updateLogos=function(t,e){var n=e.getLogo();void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(_o.assert("string"==typeof n.href,44),_o.assert("string"==typeof n.src,45),t.logos[n.src]=n.href))},$h.prototype.updateUsedTiles=function(t,e,n,r){var i=vo.getUid(e).toString(),o=n.toString();i in t?o in t[i]?t[i][o].extend(r):t[i][o]=r:(t[i]={},t[i][o]=r)},$h.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,l,u){var c=vo.getUid(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var h,f,d,p,y,v,g=t.wantedTiles[c],m=t.tileQueue;for(v=n.getMinZoom();v<=a;++v)for(f=n.getTileRangeForExtentAndZ(o,v,f),d=n.getResolution(v),p=f.minX;p<=f.maxX;++p)for(y=f.minY;y<=f.maxY;++y)a-v<=s?((h=e.getTile(v,p,y,r,i)).getState()==sh&&(g[h.getKey()]=!0,m.isKeyQueued(h.getKey())||m.enqueue([h,c,n.getTileCoordCenter(h.tileCoord),d])),void 0!==l&&l.call(u,h)):e.useTile(v,p,y,i)};const tf=$h;var ef=function(t){tf.call(this,t),this.renderedResolution,this.transform_=Ba.create()};vo.inherits(ef,tf),ef.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r,o=e.size[1]*r,a=e.viewState.rotation,s=aa.getTopLeft(n),l=aa.getTopRight(n),u=aa.getBottomRight(n),c=aa.getBottomLeft(n);Ba.apply(e.coordinateToPixelTransform,s),Ba.apply(e.coordinateToPixelTransform,l),Ba.apply(e.coordinateToPixelTransform,u),Ba.apply(e.coordinateToPixelTransform,c),t.save(),fs.rotateAtOffset(t,-a,i/2,o/2),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),fs.rotateAtOffset(t,a,i/2,o/2)},ef.prototype.dispatchComposeEvent_=function(t,e,n,r){var i=this.getLayer();if(i.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,s=n.viewState.rotation;fs.rotateAtOffset(e,-s,o/2,a/2);var l=void 0!==r?r:this.getTransform(n,0),u=new Jh(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new Yh(t,u,n,e,null);i.dispatchEvent(c),fs.rotateAtOffset(e,s,o/2,a/2)}},ef.prototype.forEachLayerAtCoordinate=function(t,e,n,r){return this.forEachFeatureAtCoordinate(t,e,0,sa.TRUE,this)?n.call(r,this.getLayer(),null):void 0},ef.prototype.postCompose=function(t,e,n,r){this.dispatchComposeEvent_(Vl,t,e,r)},ef.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(Hl,t,e,n)},ef.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(Xl,t,e,n)},ef.prototype.getTransform=function(t,e){var n=t.viewState,r=t.pixelRatio,i=r*t.size[0]/2,o=r*t.size[1]/2,a=r/n.resolution,s=-a,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return Ba.compose(this.transform_,i,o,a,s,l,u,c)},ef.prototype.composeFrame=function(t,e,n){},ef.prototype.prepareFrame=function(t,e){};const nf=ef;var rf=function(t){nf.call(this,t),this.coordinateToCanvasPixelTransform=Ba.create(),this.hitCanvasContext_=null};vo.inherits(rf,nf),rf.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var r=this.getImage();if(r){var i=e.extent,o=void 0!==i&&!aa.containsExtent(i,t.extent)&&aa.intersects(i,t.extent);o&&this.clip(n,t,i);var a=this.getImageTransform(),s=n.globalAlpha;n.globalAlpha=e.opacity;var l=a[4],u=a[5],c=r.width*a[0],h=r.height*a[3];n.drawImage(r,0,0,+r.width,+r.height,Math.round(l),Math.round(u),Math.round(c),Math.round(h)),n.globalAlpha=s,o&&n.restore()}this.postCompose(n,t,e)},rf.prototype.getImage=function(){},rf.prototype.getImageTransform=function(){},rf.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},rf.prototype.forEachLayerAtCoordinate=function(t,e,n,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==vo.nullFunction)return nf.prototype.forEachLayerAtCoordinate.apply(this,arguments);var i=Ba.apply(this.coordinateToCanvasPixelTransform,t.slice());Hu.scale(i,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Ka.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?n.call(r,this.getLayer(),o):void 0}};const of=rf;var af=function(t){of.call(this,t),this.image_=null,this.imageTransform_=Ba.create(),this.skippedFeatures_=[],this.vectorRenderer_=null};vo.inherits(af,of),af.handles=function(t,e){return t===Oh&&(e.getType()===Il||e.getType()===Ll&&e.getRenderMode()===Vh)},af.create=function(t,e){var n=new af(e);if(e.getType()===Ll)for(var r=Th.getLayerRendererPlugins(),i=0,o=r.length;i<o;++i){var a=r[i];a!==af&&a.handles(Oh,e)&&n.setVectorRenderer(a.create(t,e))}return n},af.prototype.getImage=function(){return this.image_?this.image_.getImage():null},af.prototype.getImageTransform=function(){return this.imageTransform_},af.prototype.prepareFrame=function(t,e){var n,r=t.pixelRatio,i=t.size,o=t.viewState,a=o.center,s=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=t.extent;if(void 0!==e.extent&&(c=aa.getIntersection(c,e.extent)),!u[Wu]&&!u[Gu]&&!aa.isEmpty(c)){var h=o.projection;if(!vo.ENABLE_RASTER_REPROJECTION){var f=l.getProjection();f&&(h=f)}var d=this.vectorRenderer_;if(d){var p=d.context,y=wo.assign({},t,{size:[aa.getWidth(c)/s,aa.getHeight(c)/s],viewState:wo.assign({},t.viewState,{rotation:0})}),v=Object.keys(y.skippedFeatureUids).sort();!d.prepareFrame(y,e)||!d.replayGroupChanged&&Ns.equals(v,this.skippedFeatures_)||(p.canvas.width=y.size[0]*r,p.canvas.height=y.size[1]*r,d.composeFrame(y,e,p),this.image_=new qh(c,s,r,p.canvas),this.skippedFeatures_=v)}else(n=l.getImage(c,s,r,h))&&this.loadImage(n)&&(this.image_=n)}if(this.image_){var g=(n=this.image_).getExtent(),m=n.getResolution(),_=n.getPixelRatio(),b=r*m/(s*_),w=Ba.compose(this.imageTransform_,r*i[0]/2,r*i[1]/2,b,b,0,_*(g[0]-a[0])/m,_*(a[1]-g[3])/m);Ba.compose(this.coordinateToCanvasPixelTransform,r*i[0]/2-w[4],r*i[1]/2-w[5],r/s,-r/s,0,-a[0],-a[1]),this.updateLogos(t,l),this.renderedResolution=m*r/_}return!!this.image_},af.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,r,i):of.prototype.forEachFeatureAtCoordinate.call(this,t,e,n,r,i)},af.prototype.setVectorRenderer=function(t){this.vectorRenderer_=t};const sf=af;var lf=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};lf.getKey=function(t,e,n){return e+":"+t+":"+(n?Va.asString(n):"null")},lf.prototype.clear=function(){this.cache_={},this.cacheSize_=0},lf.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},lf.prototype.get=function(t,e,n){var r=lf.getKey(t,e,n);return r in this.cache_?this.cache_[r]:null},lf.prototype.set=function(t,e,n,r){var i=lf.getKey(t,e,n);this.cache_[i]=r,++this.cacheSize_},lf.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};const uf=lf;var cf={};cf.iconImageCache=new uf;const hf=cf;var ff=function(t,e){Uo.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};vo.inherits(ff,Uo),ff.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Ba.compose(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ba.invert(Ba.setFromArray(r,n))},ff.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},ff.expireIconCache_=function(t,e){hf.iconImageCache.expire()},ff.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=e.viewState,u=l.resolution;function c(t,n){var o=vo.getUid(t).toString(),a=e.layerStates[vo.getUid(n)].managed;if(!(o in e.skippedFeatureUids)||a)return r.call(i,t,a?n:null)}var h=l.projection,f=t;if(h.canWrapX()){var d=h.getExtent(),p=aa.getWidth(d),y=t[0];(y<d[0]||y>d[2])&&(f=[y+p*Math.ceil((d[0]-y)/p),t[1]])}var v,g=e.layerStatesArray;for(v=g.length-1;v>=0;--v){var m=g[v],_=m.layer;if(Ql.visibleAtResolution(m,u)&&o.call(a,_)){var b=this.getLayerRenderer(_);if(_.getSource()&&(s=b.forEachFeatureAtCoordinate(_.getSource().getWrapX()?f:t,e,n,c,i)),s)return s}}},ff.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){},ff.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,sa.TRUE,this,r,i)},ff.prototype.getLayerRenderer=function(t){var e=vo.getUid(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=Th.getLayerRendererPlugins(),i=this.getType(),o=0,a=r.length;o<a;++o){var s=r[o];if(s.handles(i,t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=So.listen(n,Eo,this.handleLayerRendererChange_,this),n},ff.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},ff.prototype.getLayerRenderers=function(){return this.layerRenderers_},ff.prototype.getMap=function(){return this.map_},ff.prototype.getType=function(){},ff.prototype.handleLayerRendererChange_=function(){this.map_.render()},ff.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],So.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},ff.prototype.renderFrame=vo.nullFunction,ff.prototype.removeUnusedLayerRenderers_=function(t,e){var n;for(n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},ff.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(ff.expireIconCache_)},ff.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},ff.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};const df=ff;var pf=function(t,e){df.call(this,t,e),this.context_=Ka.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=as.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Ba.create()};vo.inherits(pf,df),pf.handles=function(t){return t===Oh},pf.create=function(t,e){return new pf(t,e)},pf.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap(),r=this.context_;if(n.hasListener(t)){var i=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new Jh(r,o,i,s,a),u=new Yh(t,l,e,r,null);n.dispatchEvent(u)}},pf.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,r=this.canvas_.height/2,i=t.pixelRatio/e.resolution,o=-i,a=-e.rotation,s=-e.center[0],l=-e.center[1];return Ba.compose(this.transform_,n,r,i,o,a,s,l)},pf.prototype.getType=function(){return Oh},pf.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,r=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.canvas_.width!=r||this.canvas_.height!=i?(this.canvas_.width=r,this.canvas_.height=i):e.clearRect(0,0,r,i);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(Hl,t);var a=t.layerStatesArray;Ns.stableSort(a,df.sortByZIndex),o&&(e.save(),fs.rotateAtOffset(e,o,r/2,i/2));var s,l,u,c,h,f=t.viewState.resolution;for(s=0,l=a.length;s<l;++s)u=(h=a[s]).layer,c=this.getLayerRenderer(u),Ql.visibleAtResolution(h,f)&&h.sourceState==Kl&&c.prepareFrame(t,h)&&c.composeFrame(t,h,e);o&&e.restore(),this.dispatchComposeEvent_(Vl,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},pf.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){var a,s,l=e.viewState.resolution,u=e.layerStatesArray,c=u.length,h=Ba.apply(e.pixelToCoordinateTransform,t.slice());for(s=c-1;s>=0;--s){var f=u[s],d=f.layer;if(Ql.visibleAtResolution(f,l)&&i.call(o,d)&&(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(h,e,n,r)))return a}};const yf=pf;var vf=function(t){of.call(this,t),this.context=null===this.context?null:Ka.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=aa.createEmpty(),this.tmpTileRange_=new hu(0,0,0,0),this.imageTransform_=Ba.create(),this.zDirection=0};vo.inherits(vf,of),vf.handles=function(t,e){return t===Oh&&e.getType()===Ml},vf.create=function(t,e){return new vf(e)},vf.prototype.isDrawableTile_=function(t){var e=t.getState(),n=this.getLayer().getUseInterimTilesOnError();return e==lh||e==ch||e==uh&&!n},vf.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,i=t.viewState,o=i.projection,a=i.resolution,s=i.center,l=this.getLayer(),u=l.getSource(),c=u.getRevision(),h=u.getTileGridForProjection(o),f=h.getZForResolution(a,this.zDirection),d=h.getResolution(f),p=Math.round(a/d)||1,y=t.extent;if(void 0!==e.extent&&(y=aa.getIntersection(y,e.extent)),aa.isEmpty(y))return!1;var v=h.getTileRangeForExtentAndZ(y,f),g=h.getTileRangeExtent(f,v),m=u.getTilePixelRatio(n),_={};_[f]={};var b,w,x,S=this.createLoadedTileFinder(u,o,_),E=this.tmpExtent,C=this.tmpTileRange_,k=!1;for(w=v.minX;w<=v.maxX;++w)for(x=v.minY;x<=v.maxY;++x){if((b=u.getTile(f,w,x,n,o)).getState()==uh&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(k=!0):b.setState(lh)),this.isDrawableTile_(b)||(b=b.getInterimTile()),this.isDrawableTile_(b)){var P=vo.getUid(this);if(b.getState()==lh){_[f][b.tileCoord.toString()]=b;var T=b.inTransition(P);k||!T&&-1!==this.renderedTiles.indexOf(b)||(k=!0)}if(1===b.getAlpha(P,t.time))continue}var O=h.getTileCoordChildTileRange(b.tileCoord,C,E),R=!1;O&&(R=S(f+1,O)),R||h.forEachTileCoordParentTileRange(b.tileCoord,S,null,C,E)}var A=d*n/m*p,I=t.viewHints,M=I[Wu]||I[Gu];if(!(this.renderedResolution&&Date.now()-t.time>16&&M)&&(k||!this.renderedExtent_||!aa.containsExtent(this.renderedExtent_,y)||this.renderedRevision!=c||p!=this.oversampling_||!M&&A!=this.renderedResolution)){var D=this.context;if(D){var L=u.getTilePixelSize(f,n,o),j=Math.round(v.getWidth()*L[0]/p),F=Math.round(v.getHeight()*L[1]/p),N=D.canvas;N.width!=j||N.height!=F?(this.oversampling_=p,N.width=j,N.height=F):(this.renderedExtent_&&!aa.equals(g,this.renderedExtent_)&&D.clearRect(0,0,j,F),p=this.oversampling_)}this.renderedTiles.length=0;var B,U,z,W,G,q,V,H,X,Y,K=Object.keys(_).map(Number);for(K.sort((function(t,e){return t===f?1:e===f?-1:t>e?1:t<e?-1:0})),W=0,G=K.length;W<G;++W)for(var Z in z=K[W],U=u.getTilePixelSize(z,n,o),B=h.getResolution(z)/d,V=m*u.getGutter(o),H=_[z])b=H[Z],w=((q=h.getTileCoordExtent(b.getTileCoord(),E))[0]-g[0])/d*m/p,x=(g[3]-q[3])/d*m/p,X=U[0]*B/p,Y=U[1]*B/p,this.drawTileImage(b,t,e,w,x,X,Y,V,f===z),this.renderedTiles.push(b);this.renderedRevision=c,this.renderedResolution=d*n/m*p,this.renderedExtent_=g}var Q=this.renderedResolution/a,J=Ba.compose(this.imageTransform_,n*r[0]/2,n*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-s[0])/this.renderedResolution*n,(s[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Ba.compose(this.coordinateToCanvasPixelTransform,n*r[0]/2-J[4],n*r[1]/2-J[5],n/a,-n/a,0,-s[0],-s[1]),this.updateUsedTiles(t.usedTiles,u,f,v),this.manageTilePyramid(t,u,h,n,o,y,f,l.getPreload()),this.scheduleExpireCache(t,u),this.updateLogos(t,u),this.renderedTiles.length>0},vf.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t.getImage(this.getLayer());if(u){var c=vo.getUid(this),h=l?t.getAlpha(c,e.time):1;1!==h||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,i,o,a);var f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,r,i,o,a),f&&this.context.restore(),1!==h?e.animate=!0:l&&t.endTransition(c)}},vf.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},vf.prototype.getLayer,vf.prototype.getImageTransform=function(){return this.imageTransform_};const gf=vf;var mf=__webpack_require__(5510),_f=__webpack_require__.n(mf),bf=function(){};bf.prototype.getReplay=function(t,e){},bf.prototype.isEmpty=function(){};const wf=bf,xf="Circle",Sf="Default",Ef="Image",Cf="LineString",kf="Polygon",Pf="Text";var Tf={lineString:function(t,e,n,r,i,o,a,s){for(var l,u,c,h=[],f=t[e]>t[n-r],d=i.length,p=t[e],y=t[e+1],v=t[e+=r],g=t[e+1],m=0,_=Math.sqrt(Math.pow(v-p,2)+Math.pow(g-y,2)),b="",w=0,x=0;x<d;++x){u=f?d-x-1:x;var S=i.charAt(u),E=o(b=f?S+b:b+S)-w;w+=E;for(var C=a+E/2;e<n-r&&m+_<C;)p=v,y=g,v=t[e+=r],g=t[e+1],m+=_,_=Math.sqrt(Math.pow(v-p,2)+Math.pow(g-y,2));var k=C-m,P=Math.atan2(g-y,v-p);if(f&&(P+=P>0?-Math.PI:Math.PI),void 0!==c){var T=P-c;if(T+=T>Math.PI?-2*Math.PI:T<-Math.PI?2*Math.PI:0,Math.abs(T)>s)return null}var O=k/_,R=ca.lerp(p,v,O),A=ca.lerp(y,g,O);c==P?(f&&(l[0]=R,l[1]=A,l[2]=E/2),l[4]=b):(w=E,l=[R,A,E/2,P,b=S],f?h.unshift(l):h.push(l),c=P),a+=E}return h}};const Of=Tf,Rf=0,Af=1,If=2,Mf=3,Df=4,Lf=5,jf=6,Ff=7,Nf=8,Bf=9,Uf=10,zf=11,Wf=12;var Gf={};Gf.ORDER=[kf,xf,Cf,Ef,Pf,Sf],Gf.TEXT_ALIGN={},Gf.TEXT_ALIGN.left=0,Gf.TEXT_ALIGN.end=0,Gf.TEXT_ALIGN.center=.5,Gf.TEXT_ALIGN.right=1,Gf.TEXT_ALIGN.start=1,Gf.TEXT_ALIGN.top=0,Gf.TEXT_ALIGN.middle=.5,Gf.TEXT_ALIGN.hanging=.2,Gf.TEXT_ALIGN.alphabetic=.8,Gf.TEXT_ALIGN.ideographic=.8,Gf.TEXT_ALIGN.bottom=1;const qf=Gf;var Vf=function(t,e,n,r,i,o){Zh.call(this),this.declutterTree=o,this.tmpExtent_=aa.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Ba.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=Ba.create(),this.resetTransform_=Ba.create()};vo.inherits(Vf,Zh),Vf.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.fillOrigin_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},Vf.prototype.replayImage_=function(t,e,n,r,i,o,a,s,l,u,c,h,f,d,p,y,v,g){var m=v||g,_=this.tmpLocalTransform_;e-=i*=f,n-=o*=f,d&&(e=Math.round(e),n=Math.round(n));var b,w,x,S,E=p+u>r.width?r.width-u:p,C=s+c>r.height?r.height-c:s,k=this.tmpExtent_,P=y[3]+E*f+y[1],T=y[0]+C*f+y[2],O=e-y[3],R=n-y[0];(m||0!==h)&&(b=[O,R],w=[O+P,R],x=[O+P,R+T],S=[O,R+T]);var A=null;if(0!==h){var I=e+i,M=n+o;A=Ba.compose(_,I,M,1,1,h,-I,-M),aa.createOrUpdateEmpty(k),aa.extendCoordinate(k,Ba.apply(_,b)),aa.extendCoordinate(k,Ba.apply(_,w)),aa.extendCoordinate(k,Ba.apply(_,x)),aa.extendCoordinate(k,Ba.apply(_,S))}else aa.createOrUpdate(O,R,O+P,R+T,k);var D=t.canvas,L=k[0]<=D.width&&k[2]>=0&&k[1]<=D.height&&k[3]>=0;if(a){if(!L&&1==a[4])return;aa.extend(a,k);var j=L?[t,A?A.slice(0):null,l,r,u,c,E,C,e,n,f]:null;j&&m&&j.push(v,g,b,w,x,S),a.push(j)}else L&&(m&&this.replayTextBackground_(t,b,w,x,S,v,g),fs.drawImage(t,A,l,r,u,c,E,C,e,n,f))},Vf.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},Vf.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var l,u,c,h=[t[e],t[e+1]],f=[NaN,NaN],d=!0;for(l=e+r;l<n;l+=r)f[0]=t[l],f[1]=t[l+1],(c=aa.coordinateRelationship(s,f))!==u?(d&&(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1]),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):c===ta?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,h[0]=f[0],h[1]=f[1],u=c;return(i&&d||l===e+r)&&(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1]),a},Vf.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(l),e=s}return e},Vf.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==ga){r=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var f=0,d=h.length;f<d;++f){var p=[];s=this.drawCustomCoordinates_(r,s,h[f],u,p),a.push(p)}this.instructions.push([Df,c,a,t,n,Zs.coordinatesss])}else l==pa||l==va?(o=[],r=l==pa?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),u,o),this.instructions.push([Df,c,o,t,n,Zs.coordinatess])):l==fa||l==ya?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([Df,c,i,t,n,Zs.coordinates])):l==ha&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([Df,c,i,t,n]));this.endGeometry(t,e)},Vf.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Rf,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Rf,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},Vf.prototype.fill_=function(t){if(this.fillOrigin_){var e=Ba.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]),t.rotate(this.viewRotation_)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,fs.resetTransform_)},Vf.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],ts.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},Vf.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var i=fs.drawImage,o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),i.apply(void 0,s))}}t.length=5,aa.createOrUpdateEmpty(t)}}},Vf.prototype.replay_=function(t,e,n,r,i,o){var a;this.pixelCoordinates_&&Ns.equals(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=la.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Ba.setFromArray(this.renderedTransform_,e));for(var s,l,u,c,h,f,d,p,y,v=!wo.isEmpty(n),g=0,m=r.length,_=0,b=0,w=0,x=null,S=null,E=this.coordinateCache_,C=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C},P=this.instructions!=r||this.overlaps?0:200;g<m;){var T,O,R,A=r[g];switch(A[0]){case Rf:T=A[1],v&&n[vo.getUid(T).toString()]||!T.getGeometry()?g=A[2]:void 0===o||aa.intersects(o,T.getGeometry().getExtent())?++g:g=A[2]+1;break;case Af:b>P&&(this.fill_(t),b=0),w>P&&(t.stroke(),w=0),b||w||(t.beginPath(),c=h=NaN),++g;break;case If:var I=a[_=A[1]],M=a[_+1],D=a[_+2]-I,L=a[_+3]-M,j=Math.sqrt(D*D+L*L);t.moveTo(I+j,M),t.arc(I,M,j,0,2*Math.PI,!0),++g;break;case Mf:t.closePath(),++g;break;case Df:_=A[1],s=A[2];var F=A[3],N=A[4],B=6==A.length?A[5]:void 0;k.geometry=F,k.feature=T,g in E||(E[g]=[]);var U=E[g];B?B(a,_,s,2,U):(U[0]=a[_],U[1]=a[_+1],U.length=2),N(U,k),++g;break;case jf:_=A[1],s=A[2],y=A[3],l=A[4],u=A[5],p=i?null:A[6];var z,W,G,q=A[7],V=A[8],H=A[9],X=A[10],Y=A[11],K=A[12],Z=A[13],Q=A[14],J=A[15];for(A.length>16?(z=A[16],W=A[17],G=A[18]):(z=fs.defaultPadding,W=G=!1),Y&&(K+=C);_<s;_+=2)this.replayImage_(t,a[_],a[_+1],y,l,u,p,q,V,H,X,K,Z,Q,J,z,W?x:null,G?S:null);this.renderDeclutter_(p,T),++g;break;case Lf:var $=A[1],tt=A[2],et=A[3];p=i?null:A[4];var nt=A[5],rt=A[6],it=A[7],ot=A[8],at=A[9],st=A[10],lt=A[11],ut=A[12],ct=A[13],ht=A[14],ft=ol.lineString(a,$,tt,2),dt=ot(ut);if(nt||dt<=ft){var pt=this.textStates[ct].textAlign,yt=(ft-dt)*qf.TEXT_ALIGN[pt],vt=Of.lineString(a,$,tt,2,ut,ot,yt,it);if(vt){var gt,mt,_t,bt,wt;if(st)for(gt=0,mt=vt.length;gt<mt;++gt)_t=(wt=vt[gt])[4],bt=this.getImage(_t,ct,"",st),l=wt[2]+lt,u=et*bt.height+2*(.5-et)*lt-at,this.replayImage_(t,wt[0],wt[1],bt,l,u,p,bt.height,1,0,0,wt[3],ht,!1,bt.width,fs.defaultPadding,null,null);if(rt)for(gt=0,mt=vt.length;gt<mt;++gt)_t=(wt=vt[gt])[4],bt=this.getImage(_t,ct,rt,""),l=wt[2],u=et*bt.height-at,this.replayImage_(t,wt[0],wt[1],bt,l,u,p,bt.height,1,0,0,wt[3],ht,!1,bt.width,fs.defaultPadding,null,null)}}this.renderDeclutter_(p,T),++g;break;case Ff:if(void 0!==i){var xt=i(T=A[1]);if(xt)return xt}++g;break;case Nf:P?b++:this.fill_(t),++g;break;case Bf:for(_=A[1],s=A[2],O=a[_],d=(R=a[_+1])+.5|0,(f=O+.5|0)===c&&d===h||(t.moveTo(O,R),c=f,h=d),_+=2;_<s;_+=2)f=(O=a[_])+.5|0,d=(R=a[_+1])+.5|0,_!=s-2&&f===c&&d===h||(t.lineTo(O,R),c=f,h=d);++g;break;case Uf:x=A,this.fillOrigin_=A[2],b&&(this.fill_(t),b=0,w&&(t.stroke(),w=0)),t.fillStyle=A[1],++g;break;case zf:S=A,w&&(t.stroke(),w=0),this.setStrokeStyle_(t,A),++g;break;case Wf:P?w++:t.stroke(),++g;break;default:++g}}b&&this.fill_(t),w&&t.stroke()},Vf.prototype.replay=function(t,e,n,r){this.viewRotation_=n,this.replay_(t,e,r,this.instructions,void 0,void 0)},Vf.prototype.replayHitDetection=function(t,e,n,r,i,o){return this.viewRotation_=n,this.replay_(t,e,r,this.hitDetectionInstructions,i,o)},Vf.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==Ff?o=t:r==Rf&&(n[2]=t,Ns.reverseSubArray(this.hitDetectionInstructions,o,t),o=-1)},Vf.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=Xa.asColorLike(r||fs.defaultFillStyle)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=Xa.asColorLike(i||fs.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:fs.defaultLineCap;var a=e.getLineDash();n.lineDash=a?a.slice():fs.defaultLineDash;var s=e.getLineDashOffset();n.lineDashOffset=s||fs.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:fs.defaultLineJoin;var u=e.getWidth();n.lineWidth=void 0!==u?u:fs.defaultLineWidth;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:fs.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},Vf.prototype.applyFill=function(t,e){var n=t.fillStyle,r=[Uf,n];if("string"!=typeof n){var i=e.getExtent();r.push([i[0],i[3]])}this.instructions.push(r)},Vf.prototype.applyStroke=function(t){this.instructions.push([zf,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio])},Vf.prototype.updateFillStyle=function(t,e,n){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(e.call(this,t,n),t.currentFillStyle=r)},Vf.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Ns.equals(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},Vf.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Ff,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},Vf.prototype.finish=vo.nullFunction,Vf.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=aa.clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;aa.buffer(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};const Hf=Vf;var Xf=function(t,e,n,r,i,o){Hf.call(this,t,e,n,r,i,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};vo.inherits(Xf,Hf),Xf.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},Xf.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([jf,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([jf,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Xf.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([jf,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([jf,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},Xf.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},Xf.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=r[0]};const Yf=Xf;var Kf=function(t,e,n,r,i,o){Hf.call(this,t,e,n,r,i,o)};vo.inherits(Kf,Hf),Kf.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[Bf,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},Kf.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([zf,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Af]);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push([Wf]),this.endGeometry(t,e)}},Kf.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([zf,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[Af]);var o,a,s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinates_(l,c,s[o],u);this.hitDetectionInstructions.push([Wf]),this.endGeometry(t,e)}},Kf.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([Wf]),this.reverseHitDetectionInstructions(),this.state=null},Kf.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([Wf]),t.lastStroke=this.coordinates.length),t.lastStroke=0,Hf.prototype.applyStroke.call(this,t),this.instructions.push([Af])};const Zf=Kf;var Qf=function(t,e,n,r,i,o){Hf.call(this,t,e,n,r,i,o)};vo.inherits(Qf,Hf),Qf.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=null!=i.strokeStyle,s=n.length,l=[Af];this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var u=0;u<s;++u){var c=n[u],h=this.coordinates.length,f=this.appendFlatCoordinates(t,e,c,r,!0,!a),d=[Bf,h,f];if(this.instructions.push(d),this.hitDetectionInstructions.push(d),a){var p=[Mf];this.instructions.push(p),this.hitDetectionInstructions.push(p)}e=c}var y=[Nf];if(this.hitDetectionInstructions.push(y),o&&this.instructions.push(y),a){var v=[Wf];this.instructions.push(v),this.hitDetectionInstructions.push(v)}return e},Qf.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Uf,Va.asString(fs.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([zf,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var l=[Af],u=[If,s];this.instructions.push(l,u),this.hitDetectionInstructions.push(l,u);var c=[Nf];if(this.hitDetectionInstructions.push(c),void 0!==n.fillStyle&&this.instructions.push(c),void 0!==n.strokeStyle){var h=[Wf];this.instructions.push(h),this.hitDetectionInstructions.push(h)}this.endGeometry(t,e)}},Qf.prototype.drawPolygon=function(t,e){var n=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Uf,Va.asString(fs.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([zf,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(t,e)},Qf.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Uf,Va.asString(fs.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([zf,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o,a,s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinatess_(l,c,s[o],u);this.endGeometry(t,e)}},Qf.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,n,r=this.coordinates;for(e=0,n=r.length;e<n;++e)r[e]=sl.snap(r[e],t)}},Qf.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.applyFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)};const Jf=Qf;const $f={lineString:function(t,e,n,r,i){var o,a,s,l,u,c,h,f,d,p=n,y=n,v=0,g=0,m=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==l&&(f=_-l,d=b-u,s=Math.sqrt(f*f+d*d),void 0!==c&&(g+=a,Math.acos((c*f+h*d)/(a*s))>t&&(g>v&&(v=g,p=m,y=o),g=0,m=o-i)),a=s,c=f,h=d),l=_,u=b}return(g+=s)>v?[m,o]:[p,y]}},td="line";var ed=function(t,e,n,r,i,o){Hf.call(this,t,e,n,r,i,o),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},fs.labelCache.prune()};vo.inherits(ed,Hf),ed.measureTextWidths=function(t,e,n){var r,i,o=e.length,a=0;for(i=0;i<o;++i)r=fs.measureTextWidth(t,e[i]),a=Math.max(a,r),n.push(r);return a},ed.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o,a,s=this.coordinates.length,l=t.getType(),u=null,c=2,h=2;if(i.placement===td){if(!aa.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(u=t.getFlatCoordinates(),h=t.getStride(),l==fa)f=[u.length];else if(l==va)f=t.getEnds();else if(l==pa)f=t.getEnds().slice(0,1);else if(l==ga){var d=t.getEndss();for(f=[],o=0,a=d.length;o<a;++o)f.push(d[o][0])}this.beginGeometry(t,e);for(var p,y=i.textAlign,v=0,g=0,m=f.length;g<m;++g){if(null==y){var _=$f.lineString(i.maxAngle,u,v,f[g],h);v=_[0],p=_[1]}else p=f[g];for(o=v;o<p;o+=h)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,v=f[g],this.drawChars_(s,c,this.declutterGroup_),s=c}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),w=b.width/this.pixelRatio;switch(l){case ha:case ya:c=(u=t.getFlatCoordinates()).length;break;case fa:u=t.getFlatMidpoint();break;case _a:u=t.getCenter();break;case va:c=(u=t.getFlatMidpoints()).length;break;case pa:if(u=t.getFlatInteriorPoint(),!i.overflow&&u[2]/this.resolution<w)return;h=3;break;case ga:var x=t.getFlatInteriorPoints();for(u=[],o=0,a=x.length;o<a;o+=3)(i.overflow||x[o+2]/this.resolution>=w)&&u.push(x[o],x[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,h,!1,!1),this.beginGeometry(t,e),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,t),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(b,s,c),this.endGeometry(t,e)}}},ed.prototype.getImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio,a=fs.labelCache;if(!a.containsKey(o)){var s=r?this.strokeStates[r]||this.textStrokeState_:null,l=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,c=this.pixelRatio,h=u.scale*c,f=qf.TEXT_ALIGN[u.textAlign||fs.defaultTextAlign],d=r&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),y=p.length,v=[],g=ed.measureTextWidths(u.font,p,v),m=fs.measureTextHeight(u.font),_=m*y,b=g+d,w=Ka.createCanvasContext2D(Math.ceil(b*h),Math.ceil((_+d)*h));i=w.canvas,a.set(o,i),1!=h&&w.scale(h,h),w.font=u.font,r&&(w.strokeStyle=s.strokeStyle,w.lineWidth=d*(ts.SAFARI?h:1),w.lineCap=s.lineCap,w.lineJoin=s.lineJoin,w.miterLimit=s.miterLimit,ts.CANVAS_LINE_DASH&&s.lineDash.length&&(w.setLineDash(s.lineDash),w.lineDashOffset=s.lineDashOffset)),n&&(w.fillStyle=l.fillStyle),w.textBaseline="middle",w.textAlign="center";var x,S=.5-f,E=f*i.width/h+S*d;if(r)for(x=0;x<y;++x)w.strokeText(p[x],E+S*v[x],.5*(d+m)+x*m);if(n)for(x=0;x<y;++x)w.fillText(p[x],E+S*v[x],.5*(d+m)+x*m)}return a.get(o)},ed.prototype.drawTextImage_=function(t,e,n){var r=this.textState_,i=this.textStrokeState_,o=this.pixelRatio,a=qf.TEXT_ALIGN[r.textAlign||fs.defaultTextAlign],s=qf.TEXT_ALIGN[r.textBaseline],l=i&&i.lineWidth?i.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,c=s*t.height/o+2*(.5-s)*l;this.instructions.push([jf,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width,r.padding==fs.defaultPadding?fs.defaultPadding:r.padding.map((function(t){return t*o})),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([jf,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,!0,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},ed.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.textFillState_,a=this.strokeKey_;r&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:i.font,textAlign:i.textAlign||fs.defaultTextAlign,scale:i.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=qf.TEXT_ALIGN[i.textBaseline],h=this.textOffsetY_*u,f=this.text_,d=i.font,p=i.scale,y=r?r.lineWidth*p/2:0,v=this.widths_[d];v||(this.widths_[d]=v={}),this.instructions.push([Lf,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=v[t];return e||(e=v[t]=fs.measureTextWidth(d,t)),e*p*u},h,a,y*u,f,s,1]),this.hitDetectionInstructions.push([Lf,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=v[t];return e||(e=v[t]=fs.measureTextWidth(d,t)),e*p},h,a,y,f,s,1/u])},ed.prototype.setTextStyle=function(t,e){var n,r,i;if(t){this.declutterGroup_=e;var o=t.getFill();o?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Xa.asColorLike(o.getColor()||fs.defaultFillStyle)):r=this.textFillState_=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i=this.textStrokeState_={});var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||fs.defaultLineCap,i.lineDash=s?s.slice():fs.defaultLineDash,i.lineDashOffset=void 0===l?fs.defaultLineDashOffset:l,i.lineJoin=a.getLineJoin()||fs.defaultLineJoin,i.lineWidth=void 0===u?fs.defaultLineWidth:u,i.miterLimit=void 0===c?fs.defaultMiterLimit:c,i.strokeStyle=Xa.asColorLike(a.getColor()||fs.defaultStrokeStyle)}else i=this.textStrokeState_=null;n=this.textState_;var h=t.getFont()||fs.defaultFont;fs.checkFont(h);var f=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||fs.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||fs.defaultPadding,n.scale=void 0===f?1:f;var d=t.getOffsetX(),p=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:vo.getUid(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+vo.getUid(r.fillStyle):""}else this.text_=""};const nd=ed;var rd=function(t,e,n,r,i,o,a){wf.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Ka.createCanvasContext2D(1,1),this.hitDetectionTransform_=Ba.create()};vo.inherits(rd,wf),rd.circleArrayCache_={0:[[!0]]},rd.fillCircleArrayRowToMiddle_=function(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0},rd.getCircleArray_=function(t){if(void 0!==rd.circleArrayCache_[t])return rd.circleArrayCache_[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)rd.fillCircleArrayRowToMiddle_(n,t+i,t+o),rd.fillCircleArrayRowToMiddle_(n,t+o,t+i),rd.fillCircleArrayRowToMiddle_(n,t-o,t+i),rd.fillCircleArrayRowToMiddle_(n,t-i,t+o),rd.fillCircleArrayRowToMiddle_(n,t-i,t-o),rd.fillCircleArrayRowToMiddle_(n,t-o,t-i),rd.fillCircleArrayRowToMiddle_(n,t+o,t-i),rd.fillCircleArrayRowToMiddle_(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return rd.circleArrayCache_[t]=n,n},rd.replayDeclutter=function(t,e,n){for(var r=Object.keys(t).map(Number).sort(Ns.numberSafeCompareFunction),i={},o=0,a=r.length;o<a;++o)for(var s=t[r[o].toString()],l=0,u=s.length;l<u;){var c=s[l++],h=s[l++];c.replay(e,h,n,i)}},rd.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=aa.createEmpty()).push(1)),e},rd.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},rd.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},rd.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,n=this.replaysByZIndex_[t];for(e in n)n[e].finish()}},rd.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=2*(r=Math.round(r))+1,u=Ba.compose(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(s=aa.createEmpty(),aa.extendCoordinate(s,t),aa.buffer(s,e*(this.renderBuffer_+r),s));var h,f,d=rd.getCircleArray_(r);function p(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var r=0;r<l;r++){var i;if(d[n][r]&&e[4*(r*l+n)+3]>0)return(!h||f!=Ef&&f!=Pf||-1!==h.indexOf(t))&&(i=o(t)),i||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(h=this.declutterTree_.all().map((function(t){return t.value})));var y,v,g,m,_,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(Ns.numberSafeCompareFunction),y=b.length-1;y>=0;--y){var w=b[y].toString();for(g=this.replaysByZIndex_[w],v=qf.ORDER.length-1;v>=0;--v)if(void 0!==(m=g[f=qf.ORDER[v]]))if(!a||f!=Ef&&f!=Pf){if(_=m.replayHitDetection(c,u,n,i,p,s))return _}else{var x=a[w];x?x.push(m,u.slice(0)):a[w]=[m,u.slice(0)]}}},rd.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return la.transform2D(a,0,8,2,t,a),a},rd.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,rd.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=i),i},rd.prototype.getReplays=function(){return this.replaysByZIndex_},rd.prototype.isEmpty=function(){return wo.isEmpty(this.replaysByZIndex_)},rd.prototype.replay=function(t,e,n,r,i,o){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Ns.numberSafeCompareFunction),t.save(),this.clip(t,e);var s,l,u,c,h,f,d=i||qf.ORDER;for(s=0,l=a.length;s<l;++s){var p=a[s].toString();for(h=this.replaysByZIndex_[p],u=0,c=d.length;u<c;++u){var y=d[u];if(void 0!==(f=h[y]))if(!o||y!=Ef&&y!=Pf)f.replay(t,e,n,r);else{var v=o[p];v?v.push(f,e.slice(0)):o[p]=[f,e.slice(0)]}}}t.restore()},rd.BATCH_CONSTRUCTORS_={Circle:Jf,Default:Hf,Image:Yf,LineString:Zf,Polygon:Jf,Text:nd};const id=rd;var od={defaultOrder:function(t,e){return vo.getUid(t)-vo.getUid(e)},getSquaredTolerance:function(t,e){var n=od.getTolerance(t,e);return n*n},getTolerance:function(t,e){return vo.SIMPLIFY_TOLERANCE*t/e},renderCircleGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),xf);a.setFillStrokeStyle(i,o),a.drawCircle(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Pf);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderFeature:function(t,e,n,r,i,o){var a,s,l=!1;return(a=n.getImage())&&((s=a.getImageState())==rs||s==is?a.unlistenImageChange(i,o):(s==es&&a.load(),s=a.getImageState(),a.listenImageChange(i,o),l=!0)),od.renderFeature_(t,e,n,r),l},renderFeature_:function(t,e,n,r){var i=n.getGeometryFunction()(e);if(i){var o=i.getSimplifiedGeometry(r);n.getRenderer()?od.renderGeometry_(t,o,n,e):(0,od.GEOMETRY_RENDERERS_[o.getType()])(t,o,n,e)}},renderGeometry_:function(t,e,n,r){if(e.getType()!=ma)t.getReplay(n.getZIndex(),Sf).drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)od.renderGeometry_(t,i[o],n,r)},renderGeometryCollectionGeometry_:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i)(0,od.GEOMETRY_RENDERERS_[a[i].getType()])(t,a[i],n,r)},renderLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Cf);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Pf);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Cf);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Pf);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var a=t.getReplay(n.getZIndex(),kf);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Pf);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=rs)return;var o=t.getReplay(n.getZIndex(),Ef);o.setImageStyle(i,t.addDeclutter(!1)),o.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Pf);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderMultiPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=rs)return;var o=t.getReplay(n.getZIndex(),Ef);o.setImageStyle(i,t.addDeclutter(!1)),o.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Pf);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),kf);a.setFillStrokeStyle(i,o),a.drawPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Pf);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}}};od.GEOMETRY_RENDERERS_={Point:od.renderPointGeometry_,LineString:od.renderLineStringGeometry_,Polygon:od.renderPolygonGeometry_,MultiPoint:od.renderMultiPointGeometry_,MultiLineString:od.renderMultiLineStringGeometry_,MultiPolygon:od.renderMultiPolygonGeometry_,GeometryCollection:od.renderGeometryCollectionGeometry_,Circle:od.renderCircleGeometry_};const ad=od;var sd=function(t){nf.call(this,t),this.declutterTree_=t.getDeclutter()?_f()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=aa.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Ka.createCanvasContext2D(),So.listen(fs.labelCache,Co,this.handleFontsChanged_,this)};vo.inherits(sd,nf),sd.handles=function(t,e){return t===Oh&&e.getType()===Ll},sd.create=function(t,e){return new sd(e)},sd.prototype.disposeInternal=function(){So.unlisten(fs.labelCache,Co,this.handleFontsChanged_,this),nf.prototype.disposeInternal.call(this)},sd.prototype.composeFrame=function(t,e,n){var r=t.extent,i=t.pixelRatio,o=e.managed?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,l=a.rotation,u=s.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(t,0);this.preCompose(n,t,h);var f=e.extent,d=void 0!==f;d&&this.clip(n,t,f);var p=this.replayGroup_;if(p&&!p.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var y,v=this.getLayer(),g=0,m=0,_=1!==e.opacity,b=v.hasListener(Xl);if(_||b){var w=n.canvas.width,x=n.canvas.height;if(l){var S=Math.round(Math.sqrt(w*w+x*x));g=(S-w)/2,m=(S-x)/2,w=x=S}this.context.canvas.width=w,this.context.canvas.height=x,y=this.context}else y=n;var E=y.globalAlpha;_||(y.globalAlpha=e.opacity),y!=n&&y.translate(g,m);var C=t.size[0]*i,k=t.size[1]*i;if(fs.rotateAtOffset(y,-l,C/2,k/2),p.replay(y,h,l,o),c.getWrapX()&&s.canWrapX()&&!aa.containsExtent(u,r)){for(var P,T=r[0],O=aa.getWidth(u),R=0;T<u[0];)P=O*--R,h=this.getTransform(t,P),p.replay(y,h,l,o),T+=O;for(R=0,T=r[2];T>u[2];)P=O*++R,h=this.getTransform(t,P),p.replay(y,h,l,o),T-=O;h=this.getTransform(t,0)}if(fs.rotateAtOffset(y,l,C/2,k/2),y!=n){if(b&&this.dispatchRenderEvent(y,t,h),_){var A=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(y.canvas,-g,-m),n.globalAlpha=A}else n.drawImage(y.canvas,-g,-m);y.translate(-g,-m)}_||(y.globalAlpha=E)}d&&n.restore(),this.postCompose(n,t,e,h)},sd.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={},u=this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=vo.getUid(t).toString();if(!(e in l))return l[e]=!0,r.call(i,t,s)}),null);return u}},sd.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},sd.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},sd.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getSource();this.updateLogos(t,r);var i=t.viewHints[Wu],o=t.viewHints[Gu],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,h=u.resolution,f=t.pixelRatio,d=n.getRevision(),p=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=ad.defaultOrder);var v=aa.buffer(l,p*h),g=u.projection.getExtent();if(r.getWrapX()&&u.projection.canWrapX()&&!aa.containsExtent(g,t.extent)){var m=aa.getWidth(g),_=Math.max(aa.getWidth(v)/2,m);v[0]=g[0]-_,v[2]=g[2]+_}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==y&&aa.containsExtent(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new id(ad.getTolerance(h,f),v,h,f,r.getOverlaps(),this.declutterTree_,n.getRenderBuffer());r.loadFeatures(v,h,c);var w=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,h):(r=n.getStyleFunction())&&(e=r(t,h)),e){var i=this.renderFeature(t,h,f,e,b);this.dirty_=this.dirty_||i}}.bind(this);if(y){var x=[];r.forEachFeatureInExtent(v,(function(t){x.push(t)}),this),x.sort(y);for(var S=0,E=x.length;S<E;++S)w(x[S])}else r.forEachFeatureInExtent(v,w,this);return b.finish(),this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=y,this.renderedExtent_=v,this.replayGroup_=b,this.replayGroupChanged=!0,!0},sd.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=ad.renderFeature(i,t,r[a],ad.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=ad.renderFeature(i,t,r,ad.getSquaredTolerance(e,n),this.handleStyleImageChange_,this);return o};const ld=sd,ud="vector";var cd=function(t){this.context=null,gf.call(this,t),this.declutterTree_=t.getDeclutter()?_f()(9):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Ba.create(),this.zDirection=t.getRenderMode()==ud?1:0,So.listen(fs.labelCache,Co,this.handleFontsChanged_,this)};vo.inherits(cd,gf),cd.handles=function(t,e){return t===Oh&&e.getType()===Dl},cd.create=function(t,e){return new cd(e)},cd.IMAGE_REPLAYS={image:[kf,xf,Cf,Ef,Pf],hybrid:[kf,Cf]},cd.VECTOR_REPLAYS={image:[Sf],hybrid:[Ef,Pf,Sf],vector:qf.ORDER},cd.prototype.disposeInternal=function(){So.unlisten(fs.labelCache,Co,this.handleFontsChanged_,this),gf.prototype.disposeInternal.call(this)},cd.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=n.getRenderMode();this.context||i==ud||(this.context=Ka.createCanvasContext2D()),this.context&&i==ud&&(this.context=null)}return this.renderedLayerRevision_=r,gf.prototype.prepareFrame.apply(this,arguments)},cd.prototype.createReplayGroup_=function(t,e){var n=this.getLayer(),r=e.pixelRatio,i=e.viewState.projection,o=n.getRevision(),a=n.getRenderOrder()||null,s=t.getReplayState(n);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(i),h=c.getResolution(t.tileCoord[0]),f=c.getTileCoordExtent(t.wrappedTileCoord),d={},p=0,y=t.tileKeys.length;p<y;++p){var v=t.getTile(t.tileKeys[p]);if(v.getState()!=uh){var g=v.tileCoord,m=u.getTileCoordExtent(g),_=aa.getIntersection(f,m),b=aa.equals(m,_)?null:aa.buffer(_,n.getRenderBuffer()*h),w=v.getProjection(),x=!1;Fa.equivalent(i,w)||(x=!0,v.setProjection(i)),s.dirty=!1;var S,E=new id(0,_,h,r,l.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),C=ad.getSquaredTolerance(h,r),k=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,h):(r=n.getStyleFunction())&&(e=r(t,h)),e){var i=this.renderFeature(t,C,e,E);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},P=v.getFeatures();a&&a!==s.renderedRenderOrder&&P.sort(a);for(var T=0,O=P.length;T<O;++T)S=P[T],x&&(w.getUnits()==Sa.TILE_PIXELS&&(w.setWorldExtent(m),w.setExtent(v.getExtent())),S.getGeometry().transform(w,i)),b&&!aa.intersects(b,S.getGeometry().getExtent())||k.call(this,S);for(var R in E.finish(),E.getReplays())d[R]=!0;v.setReplayGroup(n,t.tileCoord.toString(),E)}}s.renderedRevision=o,s.renderedRenderOrder=a}},cd.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t;this.createReplayGroup_(u,e),this.context&&(this.renderTileImage_(u,e,n),gf.prototype.drawTileImage.apply(this,arguments))},cd.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s,l,u,c,h,f,d,p,y=this.getLayer(),v={},g=this.renderedTiles,m=y.getSource().getTileGridForProjection(e.viewState.projection);for(u=0,c=g.length;u<c;++u)if(d=(f=g[u]).wrappedTileCoord,p=m.getTileCoordExtent(d,this.tmpExtent),s=aa.buffer(p,n*o,s),aa.containsCoordinate(s,t))for(var _=0,b=f.tileKeys.length;_<b;++_){var w=f.getTile(f.tileKeys[_]);w.getState()!=uh&&(h=w.getReplayGroup(y,f.tileCoord.toString()),l=l||h.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=vo.getUid(t).toString();if(!(e in v))return v[e]=!0,r.call(i,t,y)}),null))}return l},cd.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),r=t.tileCoord,i=n.getResolution(r[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=n.getTileCoordExtent(r,this.tmpExtent),u=o.center,c=aa.getTopLeft(l),h=e.size,f=Math.round(a*h[0]/2),d=Math.round(a*h[1]/2);return Ba.compose(this.tmpTransform_,f,d,i/s,i/s,o.rotation,(c[0]-u[0])/i,(u[1]-c[1])/i)},cd.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},cd.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},cd.prototype.postCompose=function(t,e,n){var r,i,o=this.getLayer(),a=o.getDeclutter()?{}:null,s=o.getSource(),l=o.getRenderMode(),u=cd.VECTOR_REPLAYS[l],c=e.pixelRatio,h=e.viewState.rotation,f=e.size;h&&(r=Math.round(c*f[0]/2),i=Math.round(c*f[1]/2),fs.rotateAtOffset(t,-h,r,i)),a&&this.declutterTree_.clear();for(var d=this.renderedTiles,p=s.getTileGridForProjection(e.viewState.projection),y=[],v=[],g=d.length-1;g>=0;--g){var m=d[g];if(m.getState()!=hh)for(var _=m.tileCoord,b=p.getTileCoordExtent(_)[0]-p.getTileCoordExtent(m.wrappedTileCoord)[0],w=void 0,x=0,S=m.tileKeys.length;x<S;++x){var E=m.getTile(m.tileKeys[x]);if(E.getState()!=uh){var C=E.getReplayGroup(o,_.toString());if(l==ud||C.hasReplays(u)){w||(w=this.getTransform(e,b));var k=E.tileCoord[0],P=C.getClipCoords(w);t.save(),t.globalAlpha=n.opacity;for(var T=0,O=y.length;T<O;++T){var R=y[T];k<v[T]&&(t.beginPath(),t.moveTo(P[0],P[1]),t.lineTo(P[2],P[3]),t.lineTo(P[4],P[5]),t.lineTo(P[6],P[7]),t.moveTo(R[6],R[7]),t.lineTo(R[4],R[5]),t.lineTo(R[2],R[3]),t.lineTo(R[0],R[1]),t.clip())}C.replay(t,w,h,{},u,a),t.restore(),y.push(P),v.push(k)}}}}a&&id.replayDeclutter(a,t,h),h&&fs.rotateAtOffset(t,h,r,i),gf.prototype.postCompose.apply(this,arguments)},cd.prototype.renderFeature=function(t,e,n,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)i=ad.renderFeature(r,t,n[o],e,this.handleStyleImageChange_,this)||i;else i=ad.renderFeature(r,t,n,e,this.handleStyleImageChange_,this);return i},cd.prototype.renderTileImage_=function(t,e,n){var r=this.getLayer(),i=t.getReplayState(r),o=r.getRevision(),a=cd.IMAGE_REPLAYS[r.getRenderMode()];if(a&&i.renderedTileRevision!==o){i.renderedTileRevision=o;var s=t.wrappedTileCoord,l=s[0],u=e.pixelRatio,c=r.getSource(),h=c.getTileGridForProjection(e.viewState.projection),f=h.getResolution(l),d=t.getContext(r),p=c.getTilePixelSize(l,u,e.viewState.projection);d.canvas.width=p[0],d.canvas.height=p[1];for(var y=h.getTileCoordExtent(s),v=0,g=t.tileKeys.length;v<g;++v){var m=t.getTile(t.tileKeys[v]);if(m.getState()!=uh){var _=u/f,b=Ba.reset(this.tmpTransform_);Ba.scale(b,_,-_),Ba.translate(b,-y[0],-y[3]),m.getReplayGroup(r,t.tileCoord.toString()).replay(d,b,0,{},a)}}}};const hd=cd;var fd=function(t){this.source_=t};fd.prototype.getType=function(){},fd.prototype.getSource=function(){return this.source_},fd.prototype.isAnimated=sa.FALSE;const dd=fd;var pd=function(t){dd.call(this,t)};vo.inherits(pd,dd),pd.prototype.getType=function(){return Qa.FRAGMENT_SHADER};const yd=pd;var vd=function(t){dd.call(this,t)};vo.inherits(vd,dd),vd.prototype.getType=function(){return Qa.VERTEX_SHADER};const gd=vd;var md={};md.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),md.vertex=new gd(vo.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");const _d=md,bd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_radius":"g")};const wd={create:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},fromTransform:function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}};var xd=function(t,e){Zh.call(this),this.tolerance=t,this.maxExtent=e,this.origin=aa.getCenter(e),this.projectionMatrix_=Ba.create(),this.offsetRotateMatrix_=Ba.create(),this.offsetScaleMatrix_=Ba.create(),this.tmpMat4_=wd.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};vo.inherits(xd,Zh),xd.prototype.getDeleteResourcesFunction=function(t){},xd.prototype.finish=function(t){},xd.prototype.setUpProgram=function(t,e,n,r){},xd.prototype.shutDownProgram=function(t,e){},xd.prototype.drawReplay=function(t,e,n,r){},xd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){},xd.prototype.drawHitDetectionReplay=function(t,e,n,r,i,o){return i?this.drawHitDetectionReplayOneByOne(t,e,n,r,o):this.drawHitDetectionReplayAll(t,e,n,r)},xd.prototype.drawHitDetectionReplayAll=function(t,e,n,r){return t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0),r(null)||void 0},xd.prototype.replay=function(t,e,n,r,i,o,a,s,l,u,c){var h,f,d,p,y,v,g,m,_=t.getGL();this.lineStringReplay&&(h=_.isEnabled(_.STENCIL_TEST),f=_.getParameter(_.STENCIL_FUNC),d=_.getParameter(_.STENCIL_VALUE_MASK),p=_.getParameter(_.STENCIL_REF),y=_.getParameter(_.STENCIL_WRITEMASK),v=_.getParameter(_.STENCIL_FAIL),g=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),m=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(t,e,n,r,i,o,a,s,l,u,c),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),t.bindBuffer(Qa.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(Qa.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var b=this.setUpProgram(_,t,i,o),w=Ba.reset(this.projectionMatrix_);Ba.scale(w,2/(n*i[0]),2/(n*i[1])),Ba.rotate(w,-r),Ba.translate(w,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var x=Ba.reset(this.offsetScaleMatrix_);Ba.scale(x,2/i[0],2/i[1]);var S,E=Ba.reset(this.offsetRotateMatrix_);return 0!==r&&Ba.rotate(E,-r),_.uniformMatrix4fv(b.u_projectionMatrix,!1,wd.fromTransform(this.tmpMat4_,w)),_.uniformMatrix4fv(b.u_offsetScaleMatrix,!1,wd.fromTransform(this.tmpMat4_,x)),_.uniformMatrix4fv(b.u_offsetRotateMatrix,!1,wd.fromTransform(this.tmpMat4_,E)),_.uniform1f(b.u_opacity,a),void 0===l?this.drawReplay(_,t,s,!1):S=this.drawHitDetectionReplay(_,t,s,l,u,c),this.shutDownProgram(_,b),this.lineStringReplay&&(h||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(f,p,d),_.stencilMask(y),_.stencilOp(v,m,g)),S},xd.prototype.drawElements=function(t,e,n,r){var i=e.hasOESElementIndexUint?Qa.UNSIGNED_INT:Qa.UNSIGNED_SHORT,o=r-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(Qa.TRIANGLES,o,i,a)};const Sd=xd;var Ed={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:.5,defaultTextBaseline:.5,defaultLineWidth:1,triangleIsCounterClockwise:function(t,e,n,r,i,o){var a=(n-t)*(o-e)-(i-t)*(r-e);return a<=Ed.EPSILON&&a>=-Ed.EPSILON?void 0:a>0}};Ed.EPSILON=Number.EPSILON||2220446049250313e-31;const Cd=Ed;var kd=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:kd.Usage_.STATIC_DRAW};kd.prototype.getArray=function(){return this.arr_},kd.prototype.getUsage=function(){return this.usage_},kd.Usage_={STATIC_DRAW:Qa.STATIC_DRAW,STREAM_DRAW:Qa.STREAM_DRAW,DYNAMIC_DRAW:Qa.DYNAMIC_DRAW};const Pd=kd;var Td=function(t,e){Sd.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};vo.inherits(Td,Sd),Td.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(i=e,o=n;i<o;i+=r)this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},Td.prototype.drawCircle=function(t,e){var n=t.getRadius(),r=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var i=t.getFlatCoordinates();i=la.translate(i,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(i,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},Td.prototype.finish=function(t){this.verticesBuffer=new Pd(this.vertices),this.indicesBuffer=new Pd(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Td.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Td.prototype.setUpProgram=function(t,e,n,r){var i,o;i=_d.fragment,o=_d.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new bd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Qa.FLOAT,!1,16,0),t.enableVertexAttribArray(a.a_instruction),t.vertexAttribPointer(a.a_instruction,1,Qa.FLOAT,!1,16,8),t.enableVertexAttribArray(a.a_radius),t.vertexAttribPointer(a.a_radius,1,Qa.FLOAT,!1,16,12),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Td.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},Td.prototype.drawReplay=function(t,e,n,r){var i,o,a,s;if(wo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},Td.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,h;for(h=this.startIndices.length-2,s=this.startIndices[h+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),u=this.styleIndices_[o];h>=0&&this.startIndices[h]>=u;){if(a=this.startIndices[h],c=this.startIndicesFeature[h],void 0===n[vo.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||aa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(c);if(f)return f}h--,s=a}},Td.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[vo.getUid(l).toString()]&&(i!==o&&this.drawElements(t,e,i,o),o=c),u--,i=c;i!==o&&this.drawElements(t,e,i,o),i=o=s}},Td.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},Td.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},Td.prototype.setFillStrokeStyle=function(t,e){var n,r;if(e){var i=e.getLineDash();this.state_.lineDash=i||Cd.defaultLineDash;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||Cd.defaultLineDashOffset,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?Cd.defaultStrokeStyle:Va.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||Cd.defaultStrokeStyle,r=void 0!==(r=e.getWidth())?r:Cd.defaultLineWidth}else n=[0,0,0,0],r=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?Cd.defaultFillStyle:Va.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||Cd.defaultFillStyle,this.state_.strokeColor&&Ns.equals(this.state_.strokeColor,n)&&this.state_.fillColor&&Ns.equals(this.state_.fillColor,a)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=n,this.state_.lineWidth=r,this.styles_.push([a,n,r]))};const Od=Td;var Rd={};Rd.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Rd.vertex=new gd(vo.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");const Ad=Rd,Id=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_rotateWithView":"g")},Md="webglcontextlost",Dd="webglcontextrestored";var Ld=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Ns.includes(vo.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),So.listen(this.canvas_,Md,this.handleWebGLContextLost,this),So.listen(this.canvas_,Dd,this.handleWebGLContextRestored,this)};vo.inherits(Ld,Uo),Ld.prototype.bindBuffer=function(t,e){var n=this.getGL(),r=e.getArray(),i=String(vo.getUid(e));if(i in this.bufferCache_){var o=this.bufferCache_[i];n.bindBuffer(t,o.buffer)}else{var a,s=n.createBuffer();n.bindBuffer(t,s),t==Qa.ARRAY_BUFFER?a=new Float32Array(r):t==Qa.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[i]={buf:e,buffer:s}}},Ld.prototype.deleteBuffer=function(t){var e=this.getGL(),n=String(vo.getUid(t)),r=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[n]},Ld.prototype.disposeInternal=function(){So.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},Ld.prototype.getCanvas=function(){return this.canvas_},Ld.prototype.getGL=function(){return this.gl_},Ld.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},Ld.prototype.getShader=function(t){var e=String(vo.getUid(t));if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),r=n.createShader(t.getType());return n.shaderSource(r,t.getSource()),n.compileShader(r),this.shaderCache_[e]=r,r},Ld.prototype.getProgram=function(t,e){var n=vo.getUid(t)+"/"+vo.getUid(e);if(n in this.programCache_)return this.programCache_[n];var r=this.getGL(),i=r.createProgram();return r.attachShader(i,this.getShader(t)),r.attachShader(i,this.getShader(e)),r.linkProgram(i),this.programCache_[n]=i,i},Ld.prototype.handleWebGLContextLost=function(){wo.clear(this.bufferCache_),wo.clear(this.shaderCache_),wo.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},Ld.prototype.handleWebGLContextRestored=function(){},Ld.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=Ld.createEmptyTexture(t,1,1),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=r},Ld.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},Ld.createTexture_=function(t,e,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_WRAP_T,n),r},Ld.createEmptyTexture=function(t,e,n,r,i){var o=Ld.createTexture_(t,r,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},Ld.createTexture=function(t,e,n,r){var i=Ld.createTexture_(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i};const jd=Ld;var Fd=function(t,e){Sd.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};vo.inherits(Fd,Sd),Fd.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.getTextures(!0),i=t.getGL();return function(){var o,a;if(!i.isContextLost())for(o=0,a=r.length;o<a;++o)i.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},Fd.prototype.drawCoordinates=function(t,e,n,r){var i,o,a,s,l,u,c=this.anchorX,h=this.anchorY,f=this.height,d=this.imageHeight,p=this.imageWidth,y=this.opacity,v=this.originX,g=this.originY,m=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,w=this.width,x=Math.cos(_),S=Math.sin(_),E=this.indices.length,C=this.vertices.length;for(i=e;i<n;i+=r)l=t[i]-this.origin[0],u=t[i+1]-this.origin[1],o=C/8,a=-b*c,s=-b*(f-h),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=v/p,this.vertices[C++]=(g+f)/d,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(w-c),s=-b*(f-h),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=(v+w)/p,this.vertices[C++]=(g+f)/d,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(w-c),s=b*h,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=(v+w)/p,this.vertices[C++]=g/d,this.vertices[C++]=y,this.vertices[C++]=m,a=-b*c,s=b*h,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*x-s*S,this.vertices[C++]=a*S+s*x,this.vertices[C++]=v/p,this.vertices[C++]=g/d,this.vertices[C++]=y,this.vertices[C++]=m,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return C},Fd.prototype.createTextures=function(t,e,n,r){var i,o,a,s,l=e.length;for(s=0;s<l;++s)o=e[s],(a=vo.getUid(o).toString())in n?i=n[a]:(i=jd.createTexture(r,o,Qa.CLAMP_TO_EDGE,Qa.CLAMP_TO_EDGE),n[a]=i),t[s]=i},Fd.prototype.setUpProgram=function(t,e,n,r){var i,o=Ad.fragment,a=Ad.vertex,s=e.getProgram(o,a);return this.defaultLocations?i=this.defaultLocations:(i=new Id(t,s),this.defaultLocations=i),e.useProgram(s),t.enableVertexAttribArray(i.a_position),t.vertexAttribPointer(i.a_position,2,Qa.FLOAT,!1,32,0),t.enableVertexAttribArray(i.a_offsets),t.vertexAttribPointer(i.a_offsets,2,Qa.FLOAT,!1,32,8),t.enableVertexAttribArray(i.a_texCoord),t.vertexAttribPointer(i.a_texCoord,2,Qa.FLOAT,!1,32,16),t.enableVertexAttribArray(i.a_opacity),t.vertexAttribPointer(i.a_opacity,1,Qa.FLOAT,!1,32,24),t.enableVertexAttribArray(i.a_rotateWithView),t.vertexAttribPointer(i.a_rotateWithView,1,Qa.FLOAT,!1,32,28),i},Fd.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},Fd.prototype.drawReplay=function(t,e,n,r){var i,o,a,s=r?this.getHitDetectionTextures():this.getTextures(),l=r?this.hitDetectionGroupIndices:this.groupIndices;if(wo.isEmpty(n))for(i=0,o=s.length,a=0;i<o;++i){t.bindTexture(Qa.TEXTURE_2D,s[i]);var u=l[i];this.drawElements(t,e,a,u),a=u}else this.drawReplaySkipping(t,e,n,s,l)},Fd.prototype.drawReplaySkipping=function(t,e,n,r,i){var o,a,s=0;for(o=0,a=r.length;o<a;++o){t.bindTexture(Qa.TEXTURE_2D,r[o]);for(var l=o>0?i[o-1]:0,u=i[o],c=l,h=l;s<this.startIndices.length&&this.startIndices[s]<=u;){var f=this.startIndicesFeature[s];void 0!==n[vo.getUid(f).toString()]?(c!==h&&this.drawElements(t,e,c,h),h=c=s===this.startIndices.length-1?u:this.startIndices[s+1]):h=s===this.startIndices.length-1?u:this.startIndices[s+1],s++}c!==h&&this.drawElements(t,e,c,h)}},Fd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c=this.startIndices.length-1,h=this.getHitDetectionTextures();for(o=h.length-1;o>=0;--o)for(t.bindTexture(Qa.TEXTURE_2D,h[o]),a=o>0?this.hitDetectionGroupIndices[o-1]:0,l=this.hitDetectionGroupIndices[o];c>=0&&this.startIndices[c]>=a;){if(s=this.startIndices[c],u=this.startIndicesFeature[c],void 0===n[vo.getUid(u).toString()]&&u.getGeometry()&&(void 0===i||aa.intersects(i,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var f=r(u);if(f)return f}l=s,c--}},Fd.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},Fd.prototype.getTextures=function(t){},Fd.prototype.getHitDetectionTextures=function(){};const Nd=Fd;var Bd=function(t,e){Nd.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};vo.inherits(Bd,Nd),Bd.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},Bd.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},Bd.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new Pd(this.vertices);var n=this.indices;this.indicesBuffer=new Pd(n);var r={};this.createTextures(this.textures_,this.images_,r,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,e),this.images_=null,this.hitDetectionImages_=null,Nd.prototype.finish.call(this,t)},Bd.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),r=t.getImage(1),i=t.getImageSize(),o=t.getHitDetectionImage(1),a=t.getOpacity(),s=t.getOrigin(),l=t.getRotateWithView(),u=t.getRotation(),c=t.getSize(),h=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],vo.getUid(e)!=vo.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(o):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],vo.getUid(e)!=vo.getUid(o)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(o))),this.anchorX=n[0],this.anchorY=n[1],this.height=c[1],this.imageHeight=i[1],this.imageWidth=i[0],this.opacity=a,this.originX=s[0],this.originY=s[1],this.rotation=u,this.rotateWithView=l,this.scale=h,this.width=c[0]},Bd.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},Bd.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};const Ud=Bd;const zd={lineStringIsClosed:function(t,e,n,r){var i=n-r;return t[e]===t[i]&&t[e+1]===t[i+1]&&(n-e)/r>3&&!!gl.linearRing(t,e,n,r)}};var Wd={};Wd.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Wd.vertex=new gd(vo.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");const Gd=Wd,qd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_direction":"g")};var Vd=function(t,e){Sd.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};vo.inherits(Vd,Sd),Vd.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a,s,l,u,c,h,f=this.vertices.length,d=this.indices.length,p="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,y="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,v=zd.lineStringIsClosed(t,e,n,r),g=d,m=1;for(i=e,o=n;i<o;i+=r){if(l=f/7,u=c,c=h||[t[i],t[i+1]],i===e){if(h=[t[i+r],t[i+r+1]],n-e==2*r&&Ns.equals(c,h))break;if(!v){y&&(f=this.addVertices_([0,0],c,h,m*Vd.Instruction_.BEGIN_LINE_CAP*y,f),f=this.addVertices_([0,0],c,h,-m*Vd.Instruction_.BEGIN_LINE_CAP*y,f),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2),f=this.addVertices_([0,0],c,h,m*Vd.Instruction_.BEGIN_LINE*(y||1),f),g=(f=this.addVertices_([0,0],c,h,-m*Vd.Instruction_.BEGIN_LINE*(y||1),f))/7-1;continue}u=[t[n-2*r],t[n-2*r+1]],a=h}else{if(i===n-r){if(v){h=a;break}u=u||[0,0],f=this.addVertices_(u,c,[0,0],m*Vd.Instruction_.END_LINE*(y||1),f),f=this.addVertices_(u,c,[0,0],-m*Vd.Instruction_.END_LINE*(y||1),f),this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=g,this.indices[d++]=l+1,this.indices[d++]=l,y&&(f=this.addVertices_(u,c,[0,0],m*Vd.Instruction_.END_LINE_CAP*y,f),f=this.addVertices_(u,c,[0,0],-m*Vd.Instruction_.END_LINE_CAP*y,f),this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=l+1,this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l+2);break}h=[t[i+r],t[i+r+1]]}s=Cd.triangleIsCounterClockwise(u[0],u[1],c[0],c[1],h[0],h[1])?-1:1,f=this.addVertices_(u,c,h,s*Vd.Instruction_.BEVEL_FIRST*(p||1),f),f=this.addVertices_(u,c,h,s*Vd.Instruction_.BEVEL_SECOND*(p||1),f),f=this.addVertices_(u,c,h,-s*Vd.Instruction_.MITER_BOTTOM*(p||1),f),i>e&&(this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=l+2,this.indices[d++]=l,this.indices[d++]=m*s>0?g:g-1),this.indices[d++]=l,this.indices[d++]=l+2,this.indices[d++]=l+1,g=l+2,m=s,p&&(f=this.addVertices_(u,c,h,s*Vd.Instruction_.MITER_TOP*p,f),this.indices[d++]=l+1,this.indices[d++]=l+3,this.indices[d++]=l)}v&&(l=l||f/7,s=El.linearRingIsClockwise([u[0],u[1],c[0],c[1],h[0],h[1]],0,6,2)?1:-1,f=this.addVertices_(u,c,h,s*Vd.Instruction_.BEVEL_FIRST*(p||1),f),f=this.addVertices_(u,c,h,-s*Vd.Instruction_.MITER_BOTTOM*(p||1),f),this.indices[d++]=l,this.indices[d++]=g-1,this.indices[d++]=g,this.indices[d++]=l+1,this.indices[d++]=l,this.indices[d++]=m*s>0?g:g-1)},Vd.prototype.addVertices_=function(t,e,n,r,i){return this.vertices[i++]=t[0],this.vertices[i++]=t[1],this.vertices[i++]=e[0],this.vertices[i++]=e[1],this.vertices[i++]=n[0],this.vertices[i++]=n[1],this.vertices[i++]=r,i},Vd.prototype.isValid_=function(t,e,n,r){var i=n-e;if(i<2*r)return!1;if(i===2*r){var o=[t[e],t[e+1]],a=[t[e+r],t[e+r+1]];return!Ns.equals(o,a)}return!0},Vd.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),r=t.getStride();this.isValid_(n,0,n.length,r)&&(n=la.translate(n,0,n.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,r))},Vd.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,r=t.getEnds();r.unshift(0);var i,o,a=t.getFlatCoordinates(),s=t.getStride();if(r.length>1)for(i=1,o=r.length;i<o;++i)if(this.isValid_(a,r[i-1],r[i],s)){var l=la.translate(a,r[i-1],r[i],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},Vd.prototype.drawPolygonCoordinates=function(t,e,n){var r,i;if(zd.lineStringIsClosed(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(r=0,i=e.length;r<i;++r)zd.lineStringIsClosed(e[r],0,e[r].length,n)||(e[r].push(e[r][0]),e[r].push(e[r][1])),this.drawCoordinates_(e[r],0,e[r].length,n)},Vd.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},Vd.prototype.getCurrentIndex=function(){return this.indices.length},Vd.prototype.finish=function(t){this.verticesBuffer=new Pd(this.vertices),this.indicesBuffer=new Pd(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Vd.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Vd.prototype.setUpProgram=function(t,e,n,r){var i,o;i=Gd.fragment,o=Gd.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new qd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_lastPos),t.vertexAttribPointer(a.a_lastPos,2,Qa.FLOAT,!1,28,0),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Qa.FLOAT,!1,28,8),t.enableVertexAttribArray(a.a_nextPos),t.vertexAttribPointer(a.a_nextPos,2,Qa.FLOAT,!1,28,16),t.enableVertexAttribArray(a.a_direction),t.vertexAttribPointer(a.a_direction,1,Qa.FLOAT,!1,28,24),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Vd.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},Vd.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),wo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},Vd.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[vo.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},Vd.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,h;for(h=this.startIndices.length-2,s=this.startIndices[h+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setStrokeStyle_(t,l[0],l[1],l[2]),u=this.styleIndices_[o];h>=0&&this.startIndices[h]>=u;){if(a=this.startIndices[h],c=this.startIndicesFeature[h],void 0===n[vo.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||aa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(c);if(f)return f}h--,s=a}},Vd.prototype.setStrokeStyle_=function(t,e,n,r){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,r)},Vd.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:Cd.defaultLineCap;var r=e.getLineDash();this.state_.lineDash=r||Cd.defaultLineDash;var i=e.getLineDashOffset();this.state_.lineDashOffset=i||Cd.defaultLineDashOffset;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:Cd.defaultLineJoin;var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?Cd.defaultStrokeStyle:Va.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||Cd.defaultStrokeStyle;var s=e.getWidth();s=void 0!==s?s:Cd.defaultLineWidth;var l=e.getMiterLimit();l=void 0!==l?l:Cd.defaultMiterLimit,this.state_.strokeColor&&Ns.equals(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=l,this.styles_.push([a,s,l]))},Vd.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};const Hd=Vd;var Xd={};Xd.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Xd.vertex=new gd(vo.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");const Yd=Xd,Kd=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"a")};var Zd=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};Zd.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var r=n.next;e.prev=n,e.next=r,n.next=e,r&&(r.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Zd.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},Zd.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},Zd.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},Zd.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Zd.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Zd.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Zd.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Zd.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Zd.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Zd.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Zd.prototype.getLength=function(){return this.length_};const Qd=Zd;var Jd=function(t){this.rbush_=_f()(t),this.items_={}};Jd.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[vo.getUid(e)]=n},Jd.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[vo.getUid(a)]=s}this.rbush_.load(n)},Jd.prototype.remove=function(t){var e=vo.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},Jd.prototype.update=function(t,e){var n=this.items_[vo.getUid(e)],r=[n.minX,n.minY,n.maxX,n.maxY];aa.equals(r,t)||(this.remove(e),this.insert(t,e))},Jd.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},Jd.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},Jd.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},Jd.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},Jd.prototype.forEach_=function(t,e,n){for(var r,i=0,o=t.length;i<o;i++)if(r=e.call(n,t[i]))return r;return r},Jd.prototype.isEmpty=function(){return wo.isEmpty(this.items_)},Jd.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Jd.prototype.getExtent=function(t){var e=this.rbush_.data;return aa.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},Jd.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]};const $d=Jd;var tp=function(t,e){Sd.call(this,t,e),this.lineStringReplay=new Hd(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};vo.inherits(tp,Sd),tp.prototype.drawCoordinates_=function(t,e,n){var r=new Qd,i=new $d;this.processFlatCoordinates_(t,n,r,i,!0);var o=this.getMaxCoords_(r);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new Qd,maxCoords:void 0,rtree:new $d};l.push(u),this.processFlatCoordinates_(e[a],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort((function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]})),a=0;a<l.length;++a){var c,h=l[a].list,f=h.firstItem(),d=f;do{if(this.getIntersections_(d,i).length){c=!0;break}d=h.nextItem()}while(f!==d);c||this.bridgeHole_(h,l[a].maxCoords[0],r,o[0],i)&&(i.concat(l[a].rtree),this.classifyPoints_(r,i,!1))}}else this.classifyPoints_(r,i,!1);this.triangulate_(r,i)},tp.prototype.processFlatCoordinates_=function(t,e,n,r,i){var o,a,s,l,u,c=El.linearRingIsClockwise(t,0,t.length,e),h=this.vertices.length/2,f=[],d=[];if(i===c){for(l=s=this.createPoint_(t[0],t[1],h++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],h++),d.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var p=t.length-e;for(l=s=this.createPoint_(t[p],t[p+1],h++),o=p-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],h++),d.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;d.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}r.load(f,d)},tp.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,r=[n.p0.x,n.p0.y];do{(n=t.nextItem()).p0.x>r[0]&&(r=[n.p0.x,n.p0.y])}while(n!==e);return r},tp.prototype.classifyPoints_=function(t,e,n){var r=t.firstItem(),i=r,o=t.nextItem(),a=!1;do{var s=n?Cd.triangleIsCounterClockwise(o.p1.x,o.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):Cd.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(i,o,t,e),a=!0,o===r&&(r=t.getNextItem()),o=i,t.prevItem()):i.p1.reflex!==s&&(i.p1.reflex=s,a=!0),i=o,o=t.nextItem()}while(i!==r);return a},tp.prototype.bridgeHole_=function(t,e,n,r,i){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,h={x:r,y:c.y,i:-1},f=1/0,d=this.getIntersections_({p0:c,p1:h},i,!0);for(a=0,s=d.length;a<s;++a){var p=d[a],y=this.calculateIntersection_(c,h,p.p0,p.p1,!0),v=Math.abs(c.x-y[0]);v<f&&void 0!==Cd.triangleIsCounterClockwise(c.x,c.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(f=v,u={x:y[0],y:y[1],i:-1},o=p)}if(f===1/0)return!1;if(l=o.p1,f>0){var g=this.getPointsInTriangle_(c,u,o.p1,i);if(g.length){var m=1/0;for(a=0,s=g.length;a<s;++a){var _=g[a],b=Math.atan2(c.y-_.y,h.x-_.x);(b<m||b===m&&_.x<l.x)&&(m=b,l=_)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var w={x:c.x,y:c.y,i:c.i,reflex:void 0},x={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=w,this.insertItem_(c,o.p1,t,i),this.insertItem_(x,w,t,i),o.p1=x,t.setFirstItem(),n.concat(t),!0},tp.prototype.triangulate_=function(t,e){for(var n=!1,r=this.isSimple_(t,e);t.getLength()>3;)if(r){if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(r=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var i=this.indices.length;this.indices[i++]=t.getPrevItem().p0.i,this.indices[i++]=t.getCurrItem().p0.i,this.indices[i++]=t.getNextItem().p0.i}},tp.prototype.clipEars_=function(t,e,n,r){var i,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),c=l,h=t.nextItem(),f=t.getNextItem(),d=!1;do{var p;i=c.p0,o=c.p1,a=h.p1,!1===o.reflex&&(p=n?0===this.getPointsInTriangle_(i,o,a,e,!0).length:r?this.diagonalIsInside_(f.p1,a,o,i,u.p0):this.diagonalIsInside_(u.p0,i,o,a,f.p1),(n||0===this.getIntersections_({p0:i,p1:a},e).length)&&p&&(n||!1===i.reflex||!1===a.reflex||El.linearRingIsClockwise([u.p0.x,u.p0.y,i.x,i.y,o.x,o.y,a.x,a.y,f.p1.x,f.p1.y],0,10,2)===!r)&&(this.indices[s++]=i.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(c,h,t,e),h===l&&(l=f),d=!0)),u=t.getPrevItem(),c=t.getCurrItem(),h=t.nextItem(),f=t.getNextItem()}while(c!==l&&t.getLength()>3);return d},tp.prototype.resolveSelfIntersections_=function(t,e,n){var r=t.firstItem();t.nextItem();var i=r,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1,n);if(s){var l,u=!1,c=this.vertices.length,h=this.indices.length,f=c/2,d=t.prevItem();if(t.removeItem(),e.remove(d),u=d===r,n?(s[0]===i.p0.x&&s[1]===i.p0.y?(t.prevItem(),l=i.p0,o.p0=l,e.remove(i),u=u||i===r):(l=o.p1,i.p1=l,e.remove(o),u=u||o===r),t.removeItem()):(l=this.createPoint_(s[0],s[1],f),i.p1=l,o.p0=l,e.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[h++]=d.p0.i,this.indices[h++]=d.p1.i,this.indices[h++]=l.i,a=!0,u)break}i=t.getPrevItem(),o=t.nextItem()}while(i!==r);return a},tp.prototype.isSimple_=function(t,e){var n=t.firstItem(),r=n;do{if(this.getIntersections_(r,e).length)return!1;r=t.nextItem()}while(r!==n);return!0},tp.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),r=t.firstItem(),i=r,o=0;do{n[o++]=i.p0.x,n[o++]=i.p0.y,i=t.nextItem()}while(i!==r);return El.linearRingIsClockwise(n,0,e,2)},tp.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),r=n;do{var i=this.getIntersections_(r,e);if(i.length){var o=i[0],a=this.vertices.length/2,s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new Qd,c=new $d;this.insertItem_(l,r.p1,u,c),r.p1=l,e.update([Math.min(r.p0.x,l.x),Math.min(r.p0.y,l.y),Math.max(r.p0.x,l.x),Math.max(r.p0.y,l.y)],r);for(var h=t.nextItem();h!==o;)this.insertItem_(h.p0,h.p1,u,c),e.remove(h),t.removeItem(),h=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}r=t.nextItem()}while(r!==n)},tp.prototype.createPoint_=function(t,e,n){var r=this.vertices.length;return this.vertices[r++]=t,this.vertices[r++]=e,{x:t,y:e,i:n,reflex:void 0}},tp.prototype.insertItem_=function(t,e,n,r){var i={p0:t,p1:e};return n.insertItem(i),r&&r.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i},tp.prototype.removeItem_=function(t,e,n,r){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,r.remove(e),r.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},tp.prototype.getPointsInTriangle_=function(t,e,n,r,i){var o,a,s,l,u=[],c=r.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,a=c.length;o<a;++o)for(s in c[o])"object"!=typeof(l=c[o][s])||i&&!l.reflex||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===n.x&&l.y===n.y||-1!==u.indexOf(l)||!tl.linearRingContainsXY([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,l.x,l.y)||u.push(l);return u},tp.prototype.getIntersections_=function(t,e,n){var r,i,o=t.p0,a=t.p1,s=e.getInExtent([Math.min(o.x,a.x),Math.min(o.y,a.y),Math.max(o.x,a.x),Math.max(o.y,a.y)]),l=[];for(r=0,i=s.length;r<i;++r){var u=s[r];t!==u&&(n||u.p0!==a||u.p1!==o)&&this.calculateIntersection_(o,a,u.p0,u.p1,n)&&l.push(u)}return l},tp.prototype.calculateIntersection_=function(t,e,n,r,i){var o=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==o){var a=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!i&&a>Cd.EPSILON&&a<1-Cd.EPSILON&&s>Cd.EPSILON&&s<1-Cd.EPSILON||i&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},tp.prototype.diagonalIsInside_=function(t,e,n,r,i){if(void 0===e.reflex||void 0===r.reflex)return!1;var o=(n.x-r.x)*(e.y-r.y)>(n.y-r.y)*(e.x-r.x),a=(i.x-r.x)*(e.y-r.y)<(i.y-r.y)*(e.x-r.x),s=(t.x-e.x)*(r.y-e.y)>(t.y-e.y)*(r.x-e.x),l=(n.x-e.x)*(r.y-e.y)<(n.y-e.y)*(r.x-e.x),u=r.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},tp.prototype.drawMultiPolygon=function(t,e){var n,r,i,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),h=0;for(n=0,r=a.length;n<r;++n){var f=a[n];if(f.length>0){var d=la.translate(c,h,f[0],s,-this.origin[0],-this.origin[1]);if(d.length){var p,y=[];for(i=1,o=f.length;i<o;++i)f[i]!==f[i-1]&&(p=la.translate(c,f[i-1],f[i],s,-this.origin[0],-this.origin[1]),y.push(p));this.lineStringReplay.drawPolygonCoordinates(d,y,s),this.drawCoordinates_(d,y,s)}}h=f[f.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},tp.prototype.drawPolygon=function(t,e){var n=t.getEnds(),r=t.getStride();if(n.length>0){var i=t.getFlatCoordinates().map(Number),o=la.translate(i,0,n[0],r,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(l=la.translate(i,n[a-1],n[a],r,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,r),this.drawCoordinates_(o,u,r)}}},tp.prototype.finish=function(t){this.verticesBuffer=new Pd(this.vertices),this.indicesBuffer=new Pd(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},tp.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),r()}},tp.prototype.setUpProgram=function(t,e,n,r){var i,o;i=Yd.fragment,o=Yd.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new Kd(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Qa.FLOAT,!1,8,0),a},tp.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},tp.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),wo.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},tp.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,h;for(h=this.startIndices.length-2,s=this.startIndices[h+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l),u=this.styleIndices_[o];h>=0&&this.startIndices[h]>=u;){if(a=this.startIndices[h],c=this.startIndicesFeature[h],void 0===n[vo.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||aa.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(c);if(f)return f}h--,s=a}},tp.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[vo.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},tp.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},tp.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?Cd.defaultFillStyle:Va.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||Cd.defaultFillStyle,this.state_.fillColor&&Ns.equals(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var r=new xs({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}};const ep=tp;var np=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Ka.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};np.prototype.get=function(t){return this.entries_[t]||null},np.prototype.add=function(t,e,n,r,i){var o,a,s;for(a=0,s=this.emptyBlocks_.length;a<s;++a)if((o=this.emptyBlocks_[a]).width>=e+this.space_&&o.height>=n+this.space_){var l={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=l,r.call(i,this.context_,o.x+this.space_,o.y+this.space_),this.split_(a,o,e+this.space_,n+this.space_),l}return null},np.prototype.split_=function(t,e,n,r){var i,o;e.width-n>e.height-r?(i={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+r,width:n,height:e.height-r},this.updateBlocks_(t,i,o)):(i={x:e.x+n,y:e.y,width:e.width-n,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,i,o))},np.prototype.updateBlocks_=function(t,e,n){var r=[t,1];e.width>0&&e.height>0&&r.push(e),n.width>0&&n.height>0&&r.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};const rp=np;var ip=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:vo.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=vo.MAX_ATLAS_SIZE?vo.MAX_ATLAS_SIZE:void 0!==vo.WEBGL_MAX_TEXTURE_SIZE?vo.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new rp(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new rp(this.currentHitSize_,this.space_)]};ip.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},ip.prototype.getInfo_=function(t,e){var n,r,i;for(r=0,i=t.length;r<i;++r)if(n=t[r].get(e))return n;return null},ip.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},ip.prototype.add=function(t,e,n,r,i,o){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,n,r,o);if(!a)return null;var s=void 0!==i?i:vo.nullFunction,l=this.add_(!0,t,e,n,s,o);return this.mergeInfos_(a,l)},ip.prototype.add_=function(t,e,n,r,i,o){var a,s,l,u,c=t?this.hitAtlases_:this.atlases_;for(l=0,u=c.length;l<u;++l){if(s=(a=c[l]).add(e,n,r,i,o))return s;var h;s||l!==u-1||(t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),a=new rp(h,this.space_),c.push(a),++u)}return null};const op=ip;var ap=function(t,e){Nd.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=Ka.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};vo.inherits(ap,Nd),ap.prototype.drawText=function(t,e){if(this.text_){var n=null,r=2,i=2;switch(t.getType()){case ha:case ya:r=(n=t.getFlatCoordinates()).length,i=t.getStride();break;case _a:n=t.getCenter();break;case fa:n=t.getFlatMidpoint();break;case va:r=(n=t.getFlatMidpoints()).length;break;case pa:n=t.getFlatInteriorPoint();break;case ga:r=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var o,a,s,l,u,c,h,f,d=this.currAtlas_,p=this.text_.split("\n"),y=this.getTextSize_(p),v=Math.round(y[0]*this.textAlign_-this.offsetX_),g=Math.round(y[1]*this.textBaseline_-this.offsetY_),m=this.state_.lineWidth/2*this.state_.scale;for(o=0,a=p.length;o<a;++o)for(u=0,c=d.height*o,s=0,l=(h=p[o].split("")).length;s<l;++s){if(f=d.atlas.getInfo(h[s])){var _,b=f.image;this.anchorX=v-u,this.anchorY=g-c,this.originX=0===s?f.offsetX-m:f.offsetX,this.originY=f.offsetY,this.height=d.height,this.width=0===s||s===h.length-1?d.width[h[s]]+m:d.width[h[s]],this.imageHeight=b.height,this.imageWidth=b.width,0===this.images_.length?this.images_.push(b):(_=this.images_[this.images_.length-1],vo.getUid(_)!=vo.getUid(b)&&(this.groupIndices.push(this.indices.length),this.images_.push(b))),this.drawText_(n,0,r,i)}u+=this.width}}},ap.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,r=t.length*n.height;return[t.map((function(t){var r,i,o=0;for(r=0,i=t.length;r<i;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),o+=n.width[a]?n.width[a]:0}return o})).reduce((function(t,e){return Math.max(t,e)})),r]},ap.prototype.drawText_=function(t,e,n,r){var i,o;for(i=e,o=n;i<o;i+=r)this.drawCoordinates(t,e,n,r)},ap.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,r=this.measureCanvas_.getContext("2d");r.font=n.font;var i=Math.ceil(r.measureText(t).width*n.scale);e.atlas.add(t,i,e.height,(function(e,r,i){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",ts.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,r,i),n.fillColor&&e.fillText(t,r,i)}))&&(e.width[t]=i)}},ap.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new Pd(this.vertices),this.indicesBuffer=new Pd(this.indices),this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,Nd.prototype.finish.call(this,t)},ap.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),r=t.getStroke();if(t&&t.getText()&&(n||r)){if(n){var i=n.getColor();e.fillColor=Xa.asColorLike(i||Cd.defaultFillStyle)}else e.fillColor=null;if(r){var o=r.getColor();e.strokeColor=Xa.asColorLike(o||Cd.defaultStrokeStyle),e.lineWidth=r.getWidth()||Cd.defaultLineWidth,e.lineCap=r.getLineCap()||Cd.defaultLineCap,e.lineDashOffset=r.getLineDashOffset()||Cd.defaultLineDashOffset,e.lineJoin=r.getLineJoin()||Cd.defaultLineJoin,e.miterLimit=r.getMiterLimit()||Cd.defaultMiterLimit;var a=r.getLineDash();e.lineDash=a?a.slice():Cd.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||Cd.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var s=qf.TEXT_ALIGN[t.getTextAlign()],l=qf.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===s?Cd.defaultTextAlign:s,this.textBaseline_=void 0===l?Cd.defaultTextBaseline:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},ap.prototype.getAtlas_=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?n=n.concat(t[e]):n.push(t[e]));var r=this.calculateHash_(n);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=t.font;var o=Math.ceil((1.5*i.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[r]={atlas:new op({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[r]},ap.prototype.calculateHash_=function(t){var e,n,r="";for(e=0,n=t.length;e<n;++e)r+=t[e];return r},ap.prototype.getTextures=function(t){return this.textures_},ap.prototype.getHitDetectionTextures=function(){return this.textures_};const sp=ap;var lp=function(t,e,n){wf.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=n,this.replaysByZIndex_={}};vo.inherits(lp,wf),lp.prototype.addDeclutter=function(t,e){},lp.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var r,i=this.replaysByZIndex_[e];for(r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=n.length,r=0;r<e;r++)t=n[r].apply(this,arguments);return t}},lp.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n,r=this.replaysByZIndex_[e];for(n in r)r[n].finish(t)}},lp.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,lp.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),r[e]=i),i},lp.prototype.isEmpty=function(){return wo.isEmpty(this.replaysByZIndex_)},lp.prototype.replay=function(t,e,n,r,i,o,a,s){var l,u,c,h,f,d,p=Object.keys(this.replaysByZIndex_).map(Number);for(p.sort(Ns.numberSafeCompareFunction),l=0,u=p.length;l<u;++l)for(f=this.replaysByZIndex_[p[l].toString()],c=0,h=qf.ORDER.length;c<h;++c)void 0!==(d=f[qf.ORDER[c]])&&d.replay(t,e,n,r,i,o,a,s,void 0,!1)},lp.prototype.replayHitDetection_=function(t,e,n,r,i,o,a,s,l,u,c){var h,f,d,p,y,v,g=Object.keys(this.replaysByZIndex_).map(Number);for(g.sort((function(t,e){return e-t})),h=0,f=g.length;h<f;++h)for(p=this.replaysByZIndex_[g[h].toString()],d=qf.ORDER.length-1;d>=0;--d)if(void 0!==(y=p[qf.ORDER[d]])&&(v=y.replay(t,e,n,r,i,o,a,s,l,u,c)))return v},lp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l,u){var c,h=e.getGL();return h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(c=aa.buffer(aa.createOrUpdateFromCoordinate(t),r*this.renderBuffer_)),this.replayHitDetection_(e,t,r,i,lp.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var n=u(t);if(n)return n}}),!0,c)},lp.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,r,i,lp.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0}),!1)},lp.HIT_DETECTION_SIZE_=[1,1],lp.BATCH_CONSTRUCTORS_={Circle:Od,Image:Ud,LineString:Hd,Polygon:ep,Text:sp};const up=lp;var cp=function(t,e,n,r,i,o,a){Zh.call(this),this.context_=t,this.center_=e,this.extent_=o,this.pixelRatio_=a,this.size_=i,this.rotation_=r,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};vo.inherits(cp,Zh),cp.prototype.drawText_=function(t,e){var n=this.context_,r=t.getReplay(0,Pf);r.setTextStyle(this.textStyle_),r.drawText(e,null),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)()},cp.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},cp.prototype.drawGeometry=function(t){switch(t.getType()){case ha:this.drawPoint(t,null);break;case fa:this.drawLineString(t,null);break;case pa:this.drawPolygon(t,null);break;case ya:this.drawMultiPoint(t,null);break;case va:this.drawMultiLineString(t,null);break;case ga:this.drawMultiPolygon(t,null);break;case ma:this.drawGeometryCollection(t,null);break;case _a:this.drawCircle(t,null)}},cp.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&aa.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},cp.prototype.drawGeometryCollection=function(t,e){var n,r,i=t.getGeometriesArray();for(n=0,r=i.length;n<r;++n)this.drawGeometry(i[n])},cp.prototype.drawPoint=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,Ef);i.setImageStyle(this.imageStyle_),i.drawPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawMultiPoint=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,Ef);i.setImageStyle(this.imageStyle_),i.drawMultiPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawLineString=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,Cf);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawMultiLineString=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,Cf);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawMultiLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawPolygon=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,kf);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawMultiPolygon=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,kf);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawMultiPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.drawCircle=function(t,e){var n=this.context_,r=new up(1,this.extent_),i=r.getReplay(0,xf);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawCircle(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},cp.prototype.setImageStyle=function(t){this.imageStyle_=t},cp.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},cp.prototype.setTextStyle=function(t){this.textStyle_=t};const hp=cp;var fp={};fp.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),fp.vertex=new gd(vo.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");const dp=fp,pp=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_texCoord":"c")};var yp=function(t,e){tf.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new Pd([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=Ba.create(),this.projectionMatrix=Ba.create(),this.tmpMat4_=wd.create(),this.defaultLocations_=null};vo.inherits(yp,tf),yp.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var r=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(r);var i=jd.createEmptyTexture(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(Qa.FRAMEBUFFER,o),n.framebufferTexture2D(Qa.FRAMEBUFFER,Qa.COLOR_ATTACHMENT0,Qa.TEXTURE_2D,i,0),this.texture=i,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(Qa.FRAMEBUFFER,this.framebuffer)},yp.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(Hl,n,t),n.bindBuffer(Qa.ARRAY_BUFFER,this.arrayBuffer_);var r,i=n.getGL(),o=dp.fragment,a=dp.vertex,s=n.getProgram(o,a);this.defaultLocations_?r=this.defaultLocations_:(r=new pp(i,s),this.defaultLocations_=r),n.useProgram(s)&&(i.enableVertexAttribArray(r.a_position),i.vertexAttribPointer(r.a_position,2,Qa.FLOAT,!1,16,0),i.enableVertexAttribArray(r.a_texCoord),i.vertexAttribPointer(r.a_texCoord,2,Qa.FLOAT,!1,16,8),i.uniform1i(r.u_texture,0)),i.uniformMatrix4fv(r.u_texCoordMatrix,!1,wd.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),i.uniformMatrix4fv(r.u_projectionMatrix,!1,wd.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),i.uniform1f(r.u_opacity,e.opacity),i.bindTexture(Qa.TEXTURE_2D,this.getTexture()),i.drawArrays(Qa.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(Vl,n,t)},yp.prototype.dispatchComposeEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=n.viewState,o=i.resolution,a=n.pixelRatio,s=n.extent,l=i.center,u=i.rotation,c=n.size,h=new hp(e,l,o,u,c,s,a),f=new Yh(t,h,n,null,e);r.dispatchEvent(f)}},yp.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},yp.prototype.getTexture=function(){return this.texture},yp.prototype.getProjectionMatrix=function(){return this.projectionMatrix},yp.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},yp.prototype.prepareFrame=function(t,e,n){},yp.prototype.forEachLayerAtPixel=function(t,e,n,r){};const vp=yp;var gp=function(t,e){vp.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};vo.inherits(gp,vp),gp.handles=function(t,e){return t===Rh&&e.getType()===Il},gp.create=function(t,e){return new gp(t,e)},gp.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return jd.createTexture(n,e,Qa.CLAMP_TO_EDGE,Qa.CLAMP_TO_EDGE)},gp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},gp.prototype.prepareFrame=function(t,e,n){var r=this.mapRenderer.getGL(),i=t.pixelRatio,o=t.viewState,a=o.center,s=o.resolution,l=o.rotation,u=this.image_,c=this.texture,h=this.getLayer().getSource(),f=t.viewHints,d=t.extent;if(void 0!==e.extent&&(d=aa.getIntersection(d,e.extent)),!f[Wu]&&!f[Gu]&&!aa.isEmpty(d)){var p=o.projection;if(!vo.ENABLE_RASTER_REPROJECTION){var y=h.getProjection();y&&(p=y)}var v=h.getImage(d,s,i,p);if(v&&this.loadImage(v)&&(u=v,c=this.createTexture_(v),this.texture)){var g=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture);t.postRenderFunctions.push(g)}}if(u){var m=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(m.width,m.height,i,a,s,l,u.getExtent()),this.hitTransformationMatrix_=null;var _=this.texCoordMatrix;Ba.reset(_),Ba.scale(_,1,-1),Ba.translate(_,0,-1),this.image_=u,this.texture=c,this.updateLogos(t,h)}return!!u},gp.prototype.updateProjectionMatrix_=function(t,e,n,r,i,o,a){var s=t*i,l=e*i,u=this.projectionMatrix;Ba.reset(u),Ba.scale(u,2*n/s,2*n/l),Ba.rotate(u,-o),Ba.translate(u,a[0]-r[0],a[1]-r[1]),Ba.scale(u,(a[2]-a[0])/2,(a[3]-a[1])/2),Ba.translate(u,1,1)},gp.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,sa.TRUE,this)},gp.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==vo.nullFunction){var i=Ba.apply(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(i,e,0,sa.TRUE,this)?n.call(r,this.getLayer(),null):void 0}var o=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,o));var a=Ba.apply(this.hitTransformationMatrix_,t.slice());if(!(a[0]<0||a[0]>o[0]||a[1]<0||a[1]>o[1])){this.hitCanvasContext_||(this.hitCanvasContext_=Ka.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?n.call(r,this.getLayer(),s):void 0}}},gp.prototype.getHitTransformationMatrix_=function(t,e){var n=Ba.create();Ba.translate(n,-1,-1),Ba.scale(n,2/t[0],2/t[1]),Ba.translate(n,0,t[1]),Ba.scale(n,1,-1);var r=Ba.invert(this.projectionMatrix.slice()),i=Ba.create();return Ba.translate(i,0,e[1]),Ba.scale(i,1,-1),Ba.scale(i,e[0]/2,e[1]/2),Ba.translate(i,1,1),Ba.multiply(i,r),Ba.multiply(i,n),i};const mp=gp;var _p=function(t,e){df.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=as.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=Ka.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=Qa.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new jd(this.canvas_,this.gl_),So.listen(this.canvas_,Md,this.handleWebGLContextLost,this),So.listen(this.canvas_,Dd,this.handleWebGLContextRestored,this),this.textureCache_=new ls,this.focus_=null,this.tileTextureQueue_=new dh(function(t){var e=t[1],n=t[2],r=e[0]-this.focus_[0],i=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(r*r+i*i)/n}.bind(this),(function(t){return t[0].getKey()})),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),r=n[0],i=n[3],o=n[4];this.bindTileTexture(r,i,o,Qa.LINEAR,Qa.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};vo.inherits(_p,df),_p.handles=function(t){return ts.WEBGL&&t===Rh},_p.create=function(t,e){return new _p(t,e)},_p.prototype.bindTileTexture=function(t,e,n,r,i){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(Qa.TEXTURE_2D,s.texture),s.magFilter!=r&&(o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_MAG_FILTER,r),s.magFilter=r),s.minFilter!=i&&(o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_MIN_FILTER,i),s.minFilter=i)}else{var l=o.createTexture();if(o.bindTexture(Qa.TEXTURE_2D,l),n>0){var u=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):c.clearRect(0,0,e[0],e[1]),c.drawImage(t.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(Qa.TEXTURE_2D,0,Qa.RGBA,Qa.RGBA,Qa.UNSIGNED_BYTE,u)}else o.texImage2D(Qa.TEXTURE_2D,0,Qa.RGBA,Qa.RGBA,Qa.UNSIGNED_BYTE,t.getImage());o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_MAG_FILTER,r),o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_MIN_FILTER,i),o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_WRAP_S,Qa.CLAMP_TO_EDGE),o.texParameteri(Qa.TEXTURE_2D,Qa.TEXTURE_WRAP_T,Qa.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:r,minFilter:i})}},_p.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=this.context_,i=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,c=a.rotation,h=new hp(r,u,l,c,o,i,s),f=new Yh(t,h,e,null,r);n.dispatchEvent(f)}},_p.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach((function(e){e&&t.deleteTexture(e.texture)})),this.context_.dispose(),df.prototype.disposeInternal.call(this)},_p.prototype.expireCache_=function(t,e){for(var n,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>vo.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(n=this.textureCache_.peekLast())r.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},_p.prototype.getContext=function(){return this.context_},_p.prototype.getGL=function(){return this.gl_},_p.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},_p.prototype.getType=function(){return Rh},_p.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},_p.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},_p.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(Qa.TEXTURE0),t.blendFuncSeparate(Qa.SRC_ALPHA,Qa.ONE_MINUS_SRC_ALPHA,Qa.ONE,Qa.ONE_MINUS_SRC_ALPHA),t.disable(Qa.CULL_FACE),t.disable(Qa.DEPTH_TEST),t.disable(Qa.SCISSOR_TEST),t.disable(Qa.STENCIL_TEST)},_p.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},_p.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(Hl,t);var r=[],i=t.layerStatesArray;Ns.stableSort(i,df.sortByZIndex);var o,a,s,l=t.viewState.resolution;for(o=0,a=i.length;o<a;++o)s=i[o],Ql.visibleAtResolution(s,l)&&s.sourceState==Kl&&this.getLayerRenderer(s.layer).prepareFrame(t,s,e)&&r.push(s);var u=t.size[0]*t.pixelRatio,c=t.size[1]*t.pixelRatio;for(this.canvas_.width==u&&this.canvas_.height==c||(this.canvas_.width=u,this.canvas_.height=c),n.bindFramebuffer(Qa.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(Qa.COLOR_BUFFER_BIT),n.enable(Qa.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,a=r.length;o<a;++o)s=r[o],this.getLayerRenderer(s.layer).composeFrame(t,s,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>vo.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(Vl,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},_p.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,c=e.layerStatesArray;for(l=c.length-1;l>=0;--l){var h=c[l],f=h.layer;if(Ql.visibleAtResolution(h,u.resolution)&&o.call(a,f)&&(s=this.getLayerRenderer(f).forEachFeatureAtCoordinate(t,e,n,r,i)))return s}},_p.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],c=u.layer;if(Ql.visibleAtResolution(u,s.resolution)&&r.call(i,c)&&(o=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e)))return!0}return o},_p.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){if(this.getGL().isContextLost())return!1;var a,s,l=e.viewState,u=e.layerStatesArray;for(s=u.length-1;s>=0;--s){var c=u[s],h=c.layer;if(Ql.visibleAtResolution(c,l.resolution)&&i.call(r,h)&&(a=this.getLayerRenderer(h).forEachLayerAtPixel(t,e,n,r)))return a}};const bp=_p;var wp={};wp.fragment=new yd(vo.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),wp.vertex=new gd(vo.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");const xp=wp,Sp=function(t,e){this.u_tileOffset=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,vo.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,vo.DEBUG_WEBGL?"a_texCoord":"c")};var Ep=function(t,e){vp.call(this,t,e),this.fragmentShader_=xp.fragment,this.vertexShader_=xp.vertex,this.locations_=null,this.renderArrayBuffer_=new Pd([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};vo.inherits(Ep,vp),Ep.handles=function(t,e){return t===Rh&&e.getType()===Ml},Ep.create=function(t,e){return new Ep(t,e)},Ep.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),vp.prototype.disposeInternal.call(this)},Ep.prototype.createLoadedTileFinder=function(t,e,n){var r=this.mapRenderer;return function(i,o){return t.forEachLoadedTile(e,i,o,(function(t){var e=r.isTileTextureLoaded(t);return e&&(n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t),e}))}},Ep.prototype.handleWebGLContextLost=function(){vp.prototype.handleWebGLContextLost.call(this),this.locations_=null},Ep.prototype.prepareFrame=function(t,e,n){var r,i=this.mapRenderer,o=n.getGL(),a=t.viewState,s=a.projection,l=this.getLayer(),u=l.getSource(),c=u.getTileGridForProjection(s),h=c.getZForResolution(a.resolution),f=c.getResolution(h),d=u.getTilePixelSize(h,t.pixelRatio,s),p=d[0]/du.toSize(c.getTileSize(h),this.tmpSize_)[0],y=f/p,v=u.getTilePixelRatio(p)*u.getGutter(s),g=a.center,m=t.extent,_=c.getTileRangeForExtentAndZ(m,h);if(this.renderedTileRange_&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==u.getRevision())r=this.renderedFramebufferExtent_;else{var b=_.getSize(),w=Math.max(b[0]*d[0],b[1]*d[1]),x=ca.roundUpToPowerOfTwo(w),S=y*x,E=c.getOrigin(h),C=E[0]+_.minX*d[0]*y,k=E[1]+_.minY*d[1]*y;r=[C,k,C+S,k+S],this.bindFramebuffer(t,x),o.viewport(0,0,x,x),o.clearColor(0,0,0,0),o.clear(Qa.COLOR_BUFFER_BIT),o.disable(Qa.BLEND);var P=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(P),this.locations_||(this.locations_=new Sp(o,P)),n.bindBuffer(Qa.ARRAY_BUFFER,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,Qa.FLOAT,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,Qa.FLOAT,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var T={};T[h]={};var O,R,A,I,M,D,L=this.createLoadedTileFinder(u,s,T),j=l.getUseInterimTilesOnError(),F=!0,N=aa.createEmpty(),B=new hu(0,0,0,0);for(I=_.minX;I<=_.maxX;++I)for(M=_.minY;M<=_.maxY;++M)if(R=u.getTile(h,I,M,p,s),void 0===e.extent||(D=c.getTileCoordExtent(R.tileCoord,N),aa.intersects(D,e.extent))){if((A=R.getState())==lh||A==ch||A==uh&&!j||(R=R.getInterimTile()),(A=R.getState())==lh){if(i.isTileTextureLoaded(R)){T[h][R.tileCoord.toString()]=R;continue}}else if(A==ch||A==uh&&!j)continue;F=!1,c.forEachTileCoordParentTileRange(R.tileCoord,L,null,B,N)||(O=c.getTileCoordChildTileRange(R.tileCoord,B,N))&&L(h+1,O)}var U=Object.keys(T).map(Number);U.sort(Ns.numberSafeCompareFunction);var z,W,G,q,V=new Float32Array(4);for(z=0,W=U.length;z<W;++z)for(G in q=T[U[z]])R=q[G],D=c.getTileCoordExtent(R.tileCoord,N),V[0]=2*(D[2]-D[0])/S,V[1]=2*(D[3]-D[1])/S,V[2]=2*(D[0]-r[0])/S-1,V[3]=2*(D[1]-r[1])/S-1,o.uniform4fv(this.locations_.u_tileOffset,V),i.bindTileTexture(R,d,v*p,Qa.LINEAR,Qa.LINEAR),o.drawArrays(Qa.TRIANGLE_STRIP,0,4);F?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=r,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,h,_);var H=i.getTileTextureQueue();this.manageTilePyramid(t,u,c,p,s,m,h,l.getPreload(),(function(t){t.getState()!=lh||i.isTileTextureLoaded(t)||H.isKeyQueued(t.getKey())||H.enqueue([t,c.getTileCoordCenter(t.tileCoord),c.getResolution(t.tileCoord[0]),d,v*p])}),this),this.scheduleExpireCache(t,u),this.updateLogos(t,u);var X=this.texCoordMatrix;return Ba.reset(X),Ba.translate(X,(Math.round(g[0]/f)*f-r[0])/(r[2]-r[0]),(Math.round(g[1]/f)*f-r[1])/(r[3]-r[1])),0!==a.rotation&&Ba.rotate(X,a.rotation),Ba.scale(X,t.size[0]*a.resolution/(r[2]-r[0]),t.size[1]*a.resolution/(r[3]-r[1])),Ba.translate(X,-.5,-.5),!0},Ep.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.framebuffer){var i=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=Ba.apply(this.texCoordMatrix,i.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?n.call(r,this.getLayer(),l):void 0}};const Cp=Ep;var kp=function(t,e){vp.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=aa.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};vo.inherits(kp,vp),kp.handles=function(t,e){return t===Rh&&e.getType()===Ll},kp.create=function(t,e){return new kp(t,e)},kp.prototype.composeFrame=function(t,e,n){this.layerState_=e;var r=t.viewState,i=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();i&&!i.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),i.replay(n,r.center,r.resolution,r.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},kp.prototype.disposeInternal=function(){var t=this.replayGroup_;if(t){var e=this.mapRenderer.getContext();t.getDeleteResourcesFunction(e)(),this.replayGroup_=null}vp.prototype.disposeInternal.call(this)},kp.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),a=e.viewState,s=this.getLayer(),l=this.layerState_,u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a.center,a.resolution,a.rotation,e.size,e.pixelRatio,l.opacity,{},(function(t){var e=vo.getUid(t).toString();if(!(e in u))return u[e]=!0,r.call(i,t,s)}))}},kp.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),r=e.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,i.opacity,e.skippedFeatureUids)}return!1},kp.prototype.forEachLayerAtPixel=function(t,e,n,r){var i=Ba.apply(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(i,e)?n.call(r,this.getLayer(),null):void 0},kp.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},kp.prototype.prepareFrame=function(t,e,n){var r=this.getLayer(),i=r.getSource();this.updateLogos(t,i);var o=t.viewHints[Wu],a=t.viewHints[Gu],s=r.getUpdateWhileAnimating(),l=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return!0;var u=t.extent,c=t.viewState,h=c.projection,f=c.resolution,d=t.pixelRatio,p=r.getRevision(),y=r.getRenderBuffer(),v=r.getRenderOrder();void 0===v&&(v=ad.defaultOrder);var g=aa.buffer(u,y*f);if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&aa.containsExtent(this.renderedExtent_,g))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var m=new up(ad.getTolerance(f,d),g,r.getRenderBuffer());i.loadFeatures(g,f,h);var _=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,f):(n=r.getStyleFunction())&&(e=n(t,f)),e){var i=this.renderFeature(t,f,d,e,m);this.dirty_=this.dirty_||i}};if(v){var b=[];i.forEachFeatureInExtent(g,(function(t){b.push(t)}),this),b.sort(v),b.forEach(_,this)}else i.forEachFeatureInExtent(g,_,this);return m.finish(n),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=g,this.replayGroup_=m,!0},kp.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=r.length-1;a>=0;--a)o=ad.renderFeature(i,t,r[a],ad.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=ad.renderFeature(i,t,r,ad.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;return o};const Pp=kp;vo.ENABLE_CANVAS&&(Th.register(Ch,yf),Th.registerMultiple(kh,[sf,gf,ld,hd])),vo.ENABLE_WEBGL&&(Th.register(Ch,bp),Th.registerMultiple(kh,[mp,Cp,Pp]));var Tp=function(t){(t=wo.assign({},t)).controls||(t.controls=Wh.defaults()),t.interactions||(t.interactions=Oc.defaults()),Ih.call(this,t)};vo.inherits(Tp,Ih);const Op=Tp;var Rp=function(t){var e=t||{},n=wo.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,Ql.call(this,n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.renderMode_=e.renderMode||Hh,this.type=Ll};vo.inherits(Rp,Ql),Rp.prototype.getDeclutter=function(){return this.declutter_},Rp.prototype.setDeclutter=function(t){this.declutter_=t},Rp.prototype.getRenderBuffer=function(){return this.renderBuffer_},Rp.prototype.getRenderOrder=function(){return this.get(Rp.Property_.RENDER_ORDER)},Rp.prototype.getSource,Rp.prototype.getStyle=function(){return this.style_},Rp.prototype.getStyleFunction=function(){return this.styleFunction_},Rp.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},Rp.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},Rp.prototype.setRenderOrder=function(t){this.set(Rp.Property_.RENDER_ORDER,t)},Rp.prototype.setStyle=function(t){this.style_=void 0!==t?t:Es.defaultFunction,this.styleFunction_=null===t?void 0:Es.createFunction(this.style_),this.changed()},Rp.prototype.getRenderMode=function(){return this.renderMode_},Rp.Property_={RENDER_ORDER:"renderOrder"};const Ap=Rp;var Ip={};Ip.DOCUMENT=document.implementation.createDocument("","",null),Ip.createElementNS=function(t,e){return Ip.DOCUMENT.createElementNS(t,e)},Ip.getAllTextContent=function(t,e){return Ip.getAllTextContent_(t,e,[]).join("")},Ip.getAllTextContent_=function(t,e,n){var r;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(r=t.firstChild;r;r=r.nextSibling)Ip.getAllTextContent_(r,e,n);return n},Ip.isDocument=function(t){return t instanceof Document},Ip.isNode=function(t){return t instanceof Node},Ip.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},Ip.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},Ip.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},Ip.makeArrayExtender=function(t,e){return function(n,r){var i=t.call(e,n,r);if(void 0!==i){var o=r[r.length-1];Ns.extend(o,i)}}},Ip.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},Ip.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},Ip.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName;(s in a?a[s]:a[s]=[]).push(o)}}},Ip.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},Ip.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},Ip.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=Ip.makeSimpleNodeFactory(e.localName)}Ip.serialize(n,r,i,o)}},Ip.makeSimpleNodeFactory=function(t,e){var n=t;return function(t,r,i){var o=r[r.length-1].node,a=n;void 0===a&&(a=i);var s=e;return void 0===e&&(s=o.namespaceURI),Ip.createElementNS(s,a)}},Ip.OBJECT_PROPERTY_NODE_FACTORY=Ip.makeSimpleNodeFactory(),Ip.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},Ip.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},Ip.parseNode=function(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}},Ip.pushParseAndPop=function(t,e,n,r,i){return r.push(t),Ip.parseNode(e,n,r,i),r.pop()},Ip.serialize=function(t,e,n,r,i,o){for(var a,s,l=(void 0!==i?i:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&void 0!==(s=e.call(o,a,r,void 0!==i?i[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)},Ip.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),Ip.serialize(e,n,r,i,o,a),i.pop()};const Mp=Ip;var Dp={loadFeaturesXhr:function(t,e,n,r){return function(i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,o,a):t,!0),e.getType()==Os&&(s.responseType="arraybuffer"),s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i,o=e.getType();o==Rs||o==As?i=s.responseText:o==Is?(i=s.responseXML)||(i=Mp.parse(s.responseText)):o==Os&&(i=s.response),i?n.call(this,e.readFeatures(i,{featureProjection:a}),e.readProjection(i),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),s.onerror=function(){r.call(this)}.bind(this),s.send()}},xhr:function(t,e){return Dp.loadFeaturesXhr(t,e,(function(t,e){this.addFeatures(t)}),vo.nullFunction)}};const Lp=Dp;const jp={all:function(t,e){return[[-1/0,-1/0,1/0,1/0]]},bbox:function(t,e){return[t]},tile:function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},Fp="addfeature",Np="changefeature",Bp="clear",Up="removefeature";var zp=function(t){var e=t||{};Su.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:Kl,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=vo.nullFunction,this.format_=e.format,this.overlaps_=null==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(_o.assert(this.format_,7),this.loader_=Lp.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:jp.all;var n,r,i=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=i?new $d:null,this.loadedExtentsRtree_=new $d,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,e.features instanceof Au?r=(n=e.features).getArray():Array.isArray(e.features)&&(r=e.features),i||void 0!==n||(n=new Au(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)};vo.inherits(zp,Su),zp.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},zp.prototype.addFeatureInternal=function(t){var e=vo.getUid(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new zp.Event(Fp,t))}},zp.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[So.listen(e,Eo,this.handleFeatureChange_,this),So.listen(e,No,this.handleFeatureChange_,this)]},zp.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e:(_o.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},zp.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},zp.prototype.addFeaturesInternal=function(t){var e,n,r,i,o=[],a=[],s=[];for(n=0,r=t.length;n<r;n++)i=t[n],e=vo.getUid(i).toString(),this.addToIndex_(e,i)&&a.push(i);for(n=0,r=a.length;n<r;n++){i=a[n],e=vo.getUid(i).toString(),this.setupChangeEvents_(e,i);var l=i.getGeometry();if(l){var u=l.getExtent();o.push(u),s.push(i)}else this.nullGeometryFeatures_[e]=i}for(this.featuresRtree_&&this.featuresRtree_.load(o,s),n=0,r=a.length;n<r;n++)this.dispatchEvent(new zp.Event(Fp,a[n]))},zp.prototype.bindFeaturesCollection_=function(t){var e=!1;So.listen(this,Fp,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),So.listen(this,Up,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),So.listen(t,Tu,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),So.listen(t,Ou,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},zp.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(So.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new zp.Event(Bp);this.dispatchEvent(r),this.changed()},zp.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},zp.prototype.forEachFeatureAtCoordinateDirect=function(t,e,n){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e.call(n,r):void 0}))},zp.prototype.forEachFeatureInExtent=function(t,e,n){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,n):this.featuresCollection_?this.featuresCollection_.forEach(e,n):void 0},zp.prototype.forEachFeatureIntersectingExtent=function(t,e,n){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var i=e.call(n,r);if(i)return i}}))},zp.prototype.getFeaturesCollection=function(){return this.featuresCollection_},zp.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),wo.isEmpty(this.nullGeometryFeatures_)||Ns.extend(t,wo.getValues(this.nullGeometryFeatures_))),t},zp.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},zp.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},zp.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||sa.TRUE;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,r,o,a))<u){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},zp.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},zp.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},zp.prototype.getFormat=function(){return this.format_},zp.prototype.getOverlaps=function(){return this.overlaps_},zp.prototype.getResolutions=function(){},zp.prototype.getUrl=function(){return this.url_},zp.prototype.handleFeatureChange_=function(t){var e=t.target,n=vo.getUid(e).toString(),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new zp.Event(Np,e))},zp.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&wo.isEmpty(this.nullGeometryFeatures_)},zp.prototype.loadFeatures=function(t,e,n){var r,i,o=this.loadedExtentsRtree_,a=this.strategy_(t,e);for(r=0,i=a.length;r<i;++r){var s=a[r],l=o.forEachInExtent(s,(function(t){return aa.containsExtent(t.extent,s)}));l||(this.loader_.call(this,s,e,n),o.insert(s,{extent:s.slice()}))}},zp.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(aa.equals(n.extent,t))return e=n,!0})),e&&n.remove(e)},zp.prototype.removeFeature=function(t){var e=vo.getUid(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},zp.prototype.removeFeatureInternal=function(t){var e=vo.getUid(t).toString();this.featureChangeKeys_[e].forEach(So.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new zp.Event(Up,t))},zp.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},zp.prototype.setLoader=function(t){this.loader_=t},zp.Event=function(t,e){Wo.call(this,t),this.feature=e},vo.inherits(zp.Event,Wo);const Wp=zp;function Gp(t){return Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(t)}function qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vp(t,e){return Vp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vp(t,e)}function Hp(t,e){if(e&&("object"===Gp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xp(t)}var Yp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xp(i);if(o){var n=Xp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hp(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).map=void 0,e.mapId="image-player-"+Math.random().toString(16).slice(2),e}return n=s,r=[{key:"styleFunction",value:function(t){this.styles||(this.styles={Polygon:[new Es({stroke:new xs({color:"#ffffff",width:4}),fill:new bs({color:"rgba(255,255,255,0)"})}),new Es({stroke:new xs({color:"#905050",width:2})})],Point:[new Es({image:new ms({radius:6,fill:null,stroke:new xs({color:"#ffffff",width:4})})}),new Es({image:new ms({radius:6,fill:null,stroke:new xs({color:"#905050",width:2})})})]});var e=t.getGeometry().getType();return this.styles[e]}},{key:"objectProportioned",value:function(){var t={w:180,h:90},e=this.props.width||180,n=this.props.height||90;return e/2>n?t.h=Math.ceil(180*n/e):t.w=Math.ceil(90*e/n),[-t.w,-t.h,t.w,t.h]}},{key:"zoomToExtent",value:function(t){this.map.getView().fit(t,this.map.getSize())}},{key:"center",value:function(t,e){this.map.getView().setCenter([t,e])}},{key:"zoom",value:function(t){this.map.getView().setZoom(t)}},{key:"hasFeature",value:function(t){return Object.prototype.hasOwnProperty.call(t,"feature")||Object.prototype.hasOwnProperty.call(t,"geometry")||Object.prototype.hasOwnProperty.call(t,"xywh")}},{key:"addVectorLayer",value:function(t,e,n){var r=new Al({dataProjection:e,featureProjection:e}).readFeature(n),i=new Ap({title:"annotation",source:new Wp({features:[r]}),style:this.styleFunction(r)});this.map.addLayer(i);var o=r.getGeometry().getExtent();if(n.zoom){var a=aa.getCenter(o);this.center(a[0],a[1]),this.zoom(n.zoom)}else this.zoomToExtent(e.getExtent())}},{key:"addImageLayer",value:function(t,e,n){var r=new $l({source:new Pu({url:this.props.url,projection:e,imageExtent:n})});this.map.addLayer(r)}},{key:"initializeMap",value:function(){var t=this.objectProportioned(),e=new Pa({units:"pixels",extent:t});this.map=new Op({interactions:Oc.defaults({mouseWheelZoom:!1}),controls:[],target:this.mapId,view:new xh({projection:e})}),this.addImageLayer(this.props,e,t);var n=null;if(this.props.annotationData){try{n=JSON.parse(this.props.annotationData)}catch(t){return void console.error("Can't parse image annotation JSON",t)}if(!n)return void console.error("Can't parse image annotation JSON");n.type="Feature"}n&&this.hasFeature(n)?this.addVectorLayer(this.props,e,n):n&&void 0!==n.x?(this.center(n.x,n.y),this.zoom(n.zoom-.5)):this.zoomToExtent(t)}},{key:"shouldComponentUpdate",value:function(t){return void 0===this.map&&!t.hidden||this.props.annotationData!==t.annotationData||this.props.hidden!==t.hidden}},{key:"render",value:function(){var e=this.props.hidden?"none":"block";return t.createElement("div",{id:this.mapId,className:"image-player",style:{display:e}})}},{key:"componentDidUpdate",value:function(){this.map&&(this.map.setTarget(null),delete this.map),this.props.hidden||this.initializeMap()}}],r&&qp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Kp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Yp.propTypes={annotationData:r().string,height:r().number,hidden:r().bool.isRequired,url:r().string.isRequired,width:r().number};var Qp=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return t*=i,e*=i,n*=i,r*=i,[Math.min(t,n),Math.min(e,r),Math.abs(n-t),Math.abs(r-e)]},Jp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e&&e.geometry&&e.geometry.coordinates){var o=Qp(e.geometry.coordinates[0][0],e.geometry.coordinates[0][1],e.geometry.coordinates[1][0],e.geometry.coordinates[1][1],.75*n),a=Kp(o,4),s=a[0],l=a[1],u=a[2],c=a[3];return t.rect(u,c).move(s-r,l-i).stroke({color:"#22f",width:2}).fill("none")}console.error("drawAnnotation error: coordinates not present",e)};function $p(t){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(t)}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ey(t,e){return ey=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ey(t,e)}function ny(t,e){if(e&&("object"===$p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ry(t)}function ry(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iy(t)}var oy=function(t,e){return t.clientWidth/2-e.width/2},ay=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ey(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=iy(i);if(o){var n=iy(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ny(this,t)});function s(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=a.call(this,e)).className="jux-media-video",n.players=[],n.mediaPlayerNodes=[],n.pdfViewer=null,n.pdfPageRef=t.createRef(),n.onPDFPageRenderSuccess=n.onPDFPageRenderSuccess.bind(ry(n)),n}return n=s,r=[{key:"componentDidUpdate",value:function(t){this.generatePlayers(t.data)}},{key:"isElementShowing",value:function(t){return this.props.time>=t.start_time&&this.props.time<=t.end_time}},{key:"generatePlayers",value:function(e){var n=this;this.players=[],this.mediaPlayerNodes=[];for(var r=0;r<e.length;r++){var i=e[r],o=this.isElementShowing(i);"img"===i.type?this.players.push(t.createElement(Yp,{key:r,url:i.source,width:i.width,height:i.height,hidden:!o,annotationData:i.annotationData})):"pdf"===i.type?function(){var e=JSON.parse(i.annotationData),a=1;e&&e.geometry&&e.geometry.page&&(a=e.geometry.page||1),n.players.push(t.createElement("div",{key:r,hidden:!o},t.createElement(Re,{file:i.source},t.createElement("div",{ref:n.pdfPageRef,className:"react-pdf-page-container"},t.createElement(on,{pageNumber:a,height:360,onRenderSuccess:function(t){return n.onPDFPageRenderSuccess(t,e)}})))))}():this.players.push(t.createElement(po,{ref:function(t){return n.mediaPlayerNodes.push(t)},key:r,data:i,sequenceDuration:this.props.duration,time:this.props.time,hidden:!o,playing:this.props.playing}))}}},{key:"render",value:function(){if(this.props.data.length<1){var e=j(this.props.instructions);return t.createElement("div",{className:"jux-media-display"},t.createElement("div",{className:"help-text"},t.createElement("h2",null,"Place secondary elements"),t.createElement("p",{className:"instructions"},"Click the tracks below to place",t.createElement("br",null),t.createElement("span",{className:"media-track-icon "}),"media and",t.createElement("span",{className:"text-track-icon"}),"text elements.",t.createElement("br",null),t.createElement("br",null),e)))}return t.createElement("div",{className:"jux-media-display"},this.players)}},{key:"seekTo",value:function(t){this.mediaPlayerNodes.forEach((function(e){e&&e.seekTo&&e.seekTo(t)}))}},{key:"refreshPdfAnnotation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((t||this.state.selectedAnnotation)&&this.pdfPageRef&&this.pdfPageRef.current){var e=document.querySelector(".jux-media-display");this.pdfLeftMargin=Math.abs(oy(e,this.pdfViewer)),this.svgDraw.clear(),Jp(this.svgDraw,t,this.pdfScale,-this.pdfLeftMargin,0)}}},{key:"onPDFPageRenderSuccess",value:function(t,e){this.pdfViewer=t;var n=this.pdfPageRef.current.querySelector(".react-pdf__Page");this.pdfScale=t.width/t.getViewport({scale:1}).width,this.svgDraw=$i().addTo(n),this.refreshPdfAnnotation(e)}}],r&&ty(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);ay.propTypes={data:r().array.isRequired,duration:r().number,instructions:r().string.isRequired,playing:r().bool.isRequired,time:r().number};var sy=__webpack_require__(4184),ly=__webpack_require__.n(sy);const uy=!("undefined"==typeof window||!window.document||!window.document.createElement);var cy=!1,hy=!1;try{var fy={get passive(){return cy=!0},get once(){return hy=cy=!0}};uy&&(window.addEventListener("test",fy,fy),window.removeEventListener("test",fy,!0))}catch(t){}const dy=function(t,e,n,r){if(r&&"boolean"!=typeof r&&!hy){var i=r.once,o=r.capture,a=n;!hy&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,cy?r:o)}t.addEventListener(e,n,r)};function py(t){return t&&t.ownerDocument||document}const yy=function(t,e,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var vy;function gy(t){if((!vy&&0!==vy||t)&&uy){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),vy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return vy}function my(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function _y(e){var n,r,i=(n=e,(r=(0,t.useRef)(n)).current=n,r);(0,t.useEffect)((function(){return function(){return i.current()}}),[])}var by=/([A-Z])/g,wy=/^ms-/;function xy(t){return function(t){return t.replace(by,"-$1").toLowerCase()}(t).replace(wy,"-ms-")}var Sy=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ey=function(t,e){var n="",r="";if("string"==typeof e)return t.style.getPropertyValue(xy(e))||function(t,e){return function(t){var e=py(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(xy(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?function(t){return!(!t||!Sy.test(t))}(i)?r+=i+"("+o+") ":n+=xy(i)+": "+o+";":t.style.removeProperty(xy(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n},Cy=function(t,e,n,r){return dy(t,e,n,r),function(){yy(t,e,n,r)}};function ky(t,e,n,r){var i,o;null==n&&(o=-1===(i=Ey(t,"transitionDuration")||"").indexOf("ms")?1e3:1,n=parseFloat(i)*o||0);var a=function(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent("transitionend",n,r),t.dispatchEvent(i)}}(t,0,!0)}),e+n),o=Cy(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}(t,n,r),s=Cy(t,"transitionend",e);return function(){a(),s()}}function Py(t){void 0===t&&(t=py());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Ty(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function Oy(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ry(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ay(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=Ry(t.className,e):t.setAttribute("class",Ry(t.className&&t.className.baseVal||"",e))}function Iy(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function My(t){var e;return Iy(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=Iy(t)?py():py(t),n=Iy(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}(t):t.scrollHeight>t.clientHeight}var Dy=["template","script","style"],Ly=function(t,e,n){[].forEach.call(t.children,(function(t){var r,i,o;-1===e.indexOf(t)&&(i=(r=t).nodeType,o=r.tagName,1===i&&-1===Dy.indexOf(o.toLowerCase()))&&n(t)}))};function jy(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}var Fy=function(){function t(t){var e=void 0===t?{}:t,n=e.hideSiblingNodes,r=void 0===n||n,i=e.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=gy()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(t,e){return!!n(t)&&(r=e,!0)})),r;var e,n,r},e.setContainerStyle=function(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt(Ey(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Ey(e,n)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,n){var r=this.modals.indexOf(t),i=this.containers.indexOf(e);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;Ly(t,[n,r],(function(t){return jy(!0,t)}))}(e,t),-1!==i)return this.data[i].modals.push(t),r;var o={modals:[t],classes:n?n.split(/\s+/):[],overflowing:My(e)};return this.handleContainerOverflow&&this.setContainerStyle(o,e),o.classes.forEach(Oy.bind(null,e)),this.containers.push(e),this.data.push(o),r},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=this.containerIndexFromModal(t),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.classes.forEach(Ay.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;Ly(t,[n,r],(function(t){return jy(!1,t)}))}(i,t),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],a=o.backdrop;jy(!1,o.dialog),jy(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();const Ny=Fy;var By,Uy=function(t){var e;return"undefined"==typeof document?null:null==t?py().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(e=t)&&e.nodeType&&t||null)};var zy=(0,t.forwardRef)((function(n,r){var i=n.show,o=void 0!==i&&i,a=n.role,s=void 0===a?"dialog":a,l=n.className,u=n.style,c=n.children,h=n.backdrop,f=void 0===h||h,d=n.keyboard,p=void 0===d||d,y=n.onBackdropClick,v=n.onEscapeKeyDown,g=n.transition,m=n.backdropTransition,_=n.autoFocus,b=void 0===_||_,w=n.enforceFocus,x=void 0===w||w,S=n.restoreFocus,E=void 0===S||S,C=n.restoreFocusOptions,k=n.renderDialog,P=n.renderBackdrop,T=void 0===P?function(e){return t.createElement("div",e)}:P,O=n.manager,R=n.container,A=n.containerClassName,I=n.onShow,M=n.onHide,D=void 0===M?function(){}:M,L=n.onExit,j=n.onExited,F=n.onExiting,N=n.onEnter,B=n.onEntering,U=n.onEntered,z=kt(n,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),W=function(e,n){var r=(0,t.useState)((function(){return Uy(e)})),i=r[0],o=r[1];if(!i){var a=Uy(e);a&&o(a)}return(0,t.useEffect)((function(){}),[n,i]),(0,t.useEffect)((function(){var t=Uy(e);t!==i&&o(t)}),[e,i]),i}(R),G=function(e){var n=e||(By||(By=new Ny),By),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(t,e){return n.add(r.current,t,e)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(t){r.current.dialog=t}),[]),setBackdropRef:(0,t.useCallback)((function(t){r.current.backdrop=t}),[])})}(O),q=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}(),V=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(o),H=(0,t.useState)(!o),X=H[0],Y=H[1],K=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,(function(){return G}),[G]),uy&&!V&&o&&(K.current=Py()),g||o||X?o&&X&&Y(!1):Y(!0);var Z=my((function(){if(G.add(W,A),nt.current=Cy(document,"keydown",tt),et.current=Cy(document,"focus",(function(){return setTimeout(J)}),!0),I&&I(),b){var t=Py(document);G.dialog&&t&&!Ty(G.dialog,t)&&(K.current=t,G.dialog.focus())}})),Q=my((function(){var t;G.remove(),null==nt.current||nt.current(),null==et.current||et.current(),E&&(null==(t=K.current)||null==t.focus||t.focus(C),K.current=null)}));(0,t.useEffect)((function(){o&&W&&Z()}),[o,W,Z]),(0,t.useEffect)((function(){X&&Q()}),[X,Q]),_y((function(){Q()}));var J=my((function(){if(x&&q()&&G.isTopModal()){var t=Py();G.dialog&&t&&!Ty(G.dialog,t)&&G.dialog.focus()}})),$=my((function(t){t.target===t.currentTarget&&(null==y||y(t),!0===f&&D())})),tt=my((function(t){p&&27===t.keyCode&&G.isTopModal()&&(null==v||v(t),t.defaultPrevented||D())})),et=(0,t.useRef)(),nt=(0,t.useRef)(),rt=g;if(!W||!(o||rt&&!X))return null;var it=Ct({role:s,ref:G.setDialogRef,"aria-modal":"dialog"===s||void 0},z,{style:u,className:l,tabIndex:-1}),ot=k?k(it):t.createElement("div",it,t.cloneElement(c,{role:"document"}));rt&&(ot=t.createElement(rt,{appear:!0,unmountOnExit:!0,in:!!o,onExit:L,onExiting:F,onExited:function(){Y(!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];null==j||j.apply(void 0,e)},onEnter:N,onEntering:B,onEntered:U},ot));var at=null;if(f){var st=m;at=T({ref:G.setBackdropRef,onClick:$}),st&&(at=t.createElement(st,{appear:!0,in:!!o},at))}return t.createElement(t.Fragment,null,e.createPortal(t.createElement(t.Fragment,null,at,ot),W))})),Wy={show:r().bool,container:r().any,onShow:r().func,onHide:r().func,backdrop:r().oneOfType([r().bool,r().oneOf(["static"])]),renderDialog:r().func,renderBackdrop:r().func,onEscapeKeyDown:r().func,onBackdropClick:r().func,containerClassName:r().string,keyboard:r().bool,transition:r().elementType,backdropTransition:r().elementType,autoFocus:r().bool,enforceFocus:r().bool,restoreFocus:r().bool,restoreFocusOptions:r().shape({preventScroll:r().bool}),onEnter:r().func,onEntering:r().func,onEntered:r().func,onExit:r().func,onExiting:r().func,onExited:r().func,manager:r().instanceOf(Ny)};zy.displayName="Modal",zy.propTypes=Wy;const Gy=Object.assign(zy,{Manager:Ny});function qy(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mt(t,e)}__webpack_require__(2473);var Vy=Function.prototype.bind.call(Function.prototype.call,[].slice);function Hy(t,e){return Vy(t.querySelectorAll(e))}var Xy=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yy=".sticky-top",Ky=".navbar-toggler",Zy=function(t){function e(){return t.apply(this,arguments)||this}qy(e,t);var n=e.prototype;return n.adjustAndStore=function(t,e,n){var r,i=e.style[t];e.dataset[t]=i,Ey(e,((r={})[t]=parseFloat(Ey(e,t))+n+"px",r))},n.restore=function(t,e){var n,r=e.dataset[t];void 0!==r&&(delete e.dataset[t],Ey(e,((n={})[t]=r,n)))},n.setContainerStyle=function(e,n){var r=this;if(t.prototype.setContainerStyle.call(this,e,n),e.overflowing){var i=gy();Hy(n,Xy).forEach((function(t){return r.adjustAndStore("paddingRight",t,i)})),Hy(n,Yy).forEach((function(t){return r.adjustAndStore("marginRight",t,-i)})),Hy(n,Ky).forEach((function(t){return r.adjustAndStore("marginRight",t,i)}))}},n.removeContainerStyle=function(e,n){var r=this;t.prototype.removeContainerStyle.call(this,e,n),Hy(n,Xy).forEach((function(t){return r.restore("paddingRight",t)})),Hy(n,Yy).forEach((function(t){return r.restore("marginRight",t)})),Hy(n,Ky).forEach((function(t){return r.restore("marginRight",t)}))},e}(Ny);const Qy=t.createContext(null);var Jy="unmounted",$y="exited",tv="entering",ev="entered",nv="exiting",rv=function(n){function r(t,e){var r;r=n.call(this,t,e)||this;var i,o=e&&!e.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=$y,r.appearStatus=tv):i=ev:i=t.unmountOnExit||t.mountOnEnter?Jy:$y,r.state={status:i},r.nextCallback=null,r}qy(r,n),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Jy?{status:$y}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==tv&&n!==ev&&(e=tv):n!==tv&&n!==ev||(e=nv)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===tv?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===$y&&this.setState({status:Jy})},i.performEnter=function(t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[e.findDOMNode(this),i],a=o[0],s=o[1],l=this.getTimeouts(),u=i?l.appear:l.enter;t||r?(this.props.onEnter(a,s),this.safeSetState({status:tv},(function(){n.props.onEntering(a,s),n.onTransitionEnd(u,(function(){n.safeSetState({status:ev},(function(){n.props.onEntered(a,s)}))}))}))):this.safeSetState({status:ev},(function(){n.props.onEntered(a)}))},i.performExit=function(){var t=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:e.findDOMNode(this);n?(this.props.onExit(i),this.safeSetState({status:nv},(function(){t.props.onExiting(i),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:$y},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:$y},(function(){t.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:e.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Jy)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,kt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Qy.Provider,{value:null},"function"==typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},r}(t.Component);function iv(){}rv.contextType=Qy,rv.propTypes={},rv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:iv,onEntering:iv,onEntered:iv,onExit:iv,onExiting:iv,onExited:iv},rv.UNMOUNTED=Jy,rv.EXITED=$y,rv.ENTERING=tv,rv.ENTERED=ev,rv.EXITING=nv;const ov=rv;function av(t,e){var n=Ey(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function sv(t,e){var n=av(t,"transitionDuration"),r=av(t,"transitionDelay"),i=ky(t,(function(n){n.target===t&&(i(),e(n))}),n+r)}var lv,uv=["className","children"],cv=((lv={}).entering="show",lv.entered="show",lv),hv=t.forwardRef((function(e,n){var r=e.className,i=e.children,o=kt(e,uv),a=(0,t.useCallback)((function(t){!function(t){t.offsetHeight}(t),o.onEnter&&o.onEnter(t)}),[o]);return t.createElement(ov,Ct({ref:n,addEndListener:sv},o,{onEnter:a}),(function(e,n){return t.cloneElement(i,Ct({},n,{className:ly()("fade",r,i.props.className,cv[e])}))}))}));hv.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},hv.displayName="Fade";const fv=hv;var dv=/-(.)/g,pv=t.createContext({});function yv(e,n){var r=(0,t.useContext)(pv);return e||r[n]||n}pv.Consumer,pv.Provider;var vv=["className","bsPrefix","as"];function gv(e,n){var r,i=void 0===n?{}:n,o=i.displayName,a=void 0===o?(r=e)[0].toUpperCase()+function(t){return t.replace(dv,(function(t,e){return e.toUpperCase()}))}(r).slice(1):o,s=i.Component,l=i.defaultProps,u=t.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,a=n.as,l=void 0===a?s||"div":a,u=kt(n,vv),c=yv(o,e);return t.createElement(l,Ct({ref:r,className:ly()(i,c)},u))}));return u.defaultProps=l,u.displayName=a,u}const mv=gv("modal-body"),_v=t.createContext({onHide:function(){}});var bv=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],wv=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.contentClassName,a=e.centered,s=e.size,l=e.children,u=e.scrollable,c=kt(e,bv),h=(r=yv(r,"modal"))+"-dialog";return t.createElement("div",Ct({},c,{ref:n,className:ly()(h,i,s&&r+"-"+s,a&&h+"-centered",u&&h+"-scrollable")}),t.createElement("div",{className:ly()(r+"-content",o)},l))}));wv.displayName="ModalDialog";const xv=wv,Sv=gv("modal-footer");var Ev=["label","onClick","className"],Cv={label:r().string.isRequired,onClick:r().func},kv=t.forwardRef((function(e,n){var r=e.label,i=e.onClick,o=e.className,a=kt(e,Ev);return t.createElement("button",Ct({ref:n,type:"button",className:ly()("close",o),onClick:i},a),t.createElement("span",{"aria-hidden":"true"},""),t.createElement("span",{className:"sr-only"},r))}));kv.displayName="CloseButton",kv.propTypes=Cv,kv.defaultProps={label:"Close"};const Pv=kv;var Tv=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Ov=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.closeLabel,o=e.closeButton,a=e.onHide,s=e.className,l=e.children,u=kt(e,Tv);r=yv(r,"modal-header");var c=(0,t.useContext)(_v),h=my((function(){c&&c.onHide(),a&&a()}));return t.createElement("div",Ct({ref:n},u,{className:ly()(s,r)}),l,o&&t.createElement(Pv,{label:i,onClick:h}))}));Ov.displayName="ModalHeader",Ov.defaultProps={closeLabel:"Close",closeButton:!1};const Rv=Ov;const Av=gv("modal-title",{Component:("h4",t.forwardRef((function(e,n){return t.createElement("div",Ct({},e,{ref:n,className:ly()(e.className,"h4")}))})))});var Iv,Mv=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Dv={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:xv};function Lv(e){return t.createElement(fv,Ct({},e,{timeout:null}))}function jv(e){return t.createElement(fv,Ct({},e,{timeout:null}))}var Fv=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.style,a=e.dialogClassName,s=e.contentClassName,l=e.children,u=e.dialogAs,c=e["aria-labelledby"],h=e.show,f=e.animation,d=e.backdrop,p=e.keyboard,y=e.onEscapeKeyDown,v=e.onShow,g=e.onHide,m=e.container,_=e.autoFocus,b=e.enforceFocus,w=e.restoreFocus,x=e.restoreFocusOptions,S=e.onEntered,E=e.onExit,C=e.onExiting,k=e.onEnter,P=e.onEntering,T=e.onExited,O=e.backdropClassName,R=e.manager,A=kt(e,Mv),I=(0,t.useState)({}),M=I[0],D=I[1],L=(0,t.useState)(!1),j=L[0],F=L[1],N=(0,t.useRef)(!1),B=(0,t.useRef)(!1),U=(0,t.useRef)(null),z=(0,t.useState)(null),W=z[0],G=z[1],q=my(g);r=yv(r,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return W}}}),[W]);var V=(0,t.useMemo)((function(){return{onHide:q}}),[q]);function H(){return R||(Iv||(Iv=new Zy),Iv)}function X(t){if(uy){var e=H().isContainerOverflowing(W),n=t.scrollHeight>py(t).documentElement.clientHeight;D({paddingRight:e&&!n?gy():void 0,paddingLeft:!e&&n?gy():void 0})}}var Y=my((function(){W&&X(W.dialog)}));_y((function(){yy(window,"resize",Y),U.current&&U.current()}));var K=function(){N.current=!0},Z=function(t){N.current&&W&&t.target===W.dialog&&(B.current=!0),N.current=!1},Q=function(){F(!0),U.current=ky(W.dialog,(function(){F(!1)}))},J=function(t){"static"!==d?B.current||t.target!==t.currentTarget?B.current=!1:null==g||g():function(t){t.target===t.currentTarget&&Q()}(t)},$=(0,t.useCallback)((function(e){return t.createElement("div",Ct({},e,{className:ly()(r+"-backdrop",O,!f&&"show")}))}),[f,O,r]),tt=Ct({},o,M);return f||(tt.display="block"),t.createElement(_v.Provider,{value:V},t.createElement(Gy,{show:h,ref:G,backdrop:d,container:m,keyboard:!0,autoFocus:_,enforceFocus:b,restoreFocus:w,restoreFocusOptions:x,onEscapeKeyDown:function(t){p||"static"!==d?p&&y&&y(t):(t.preventDefault(),Q())},onShow:v,onHide:g,onEnter:function(t,e){t&&(t.style.display="block",X(t)),null==k||k(t,e)},onEntering:function(t,e){null==P||P(t,e),dy(window,"resize",Y)},onEntered:S,onExit:function(t){null==U.current||U.current(),null==E||E(t)},onExiting:C,onExited:function(t){t&&(t.style.display=""),null==T||T(t),yy(window,"resize",Y)},manager:H(),containerClassName:r+"-open",transition:f?Lv:void 0,backdropTransition:f?jv:void 0,renderBackdrop:$,renderDialog:function(e){return t.createElement("div",Ct({role:"dialog"},e,{style:tt,className:ly()(i,r,j&&r+"-static"),onClick:d?J:void 0,onMouseUp:Z,"aria-labelledby":c}),t.createElement(u,Ct({},A,{onMouseDown:K,className:a,contentClassName:s}),l))}}))}));Fv.displayName="Modal",Fv.defaultProps=Dv,Fv.Body=mv,Fv.Header=Rv,Fv.Title=Av,Fv.Footer=Sv,Fv.Dialog=xv,Fv.TRANSITION_DURATION=300,Fv.BACKDROP_TRANSITION_DURATION=150;const Nv=Fv;function Bv(t){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(t)}function Uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wv(t,e){return Wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wv(t,e)}function Gv(t,e){if(e&&("object"===Bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qv(t)}var Vv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qv(i);if(o){var n=qv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Gv(this,t)});function s(){return Uv(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Nv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Nv.Header,{closeButton:!0},t.createElement(Nv.Title,null,"Warning")),t.createElement(Nv.Body,null,"Using this selection as the primary video may cause some track elements to be removed."),t.createElement(Nv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Update sequence")))}}])&&zv(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Hv(t){return Hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(t)}function Xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(t,e){return Kv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kv(t,e)}function Zv(t,e){if(e&&("object"===Hv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qv(t)}Vv.propTypes={onCloseClick:r().func.isRequired,onConfirmClick:r().func.isRequired,showing:r().bool.isRequired};var Jv=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qv(i);if(o){var n=Qv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zv(this,t)});function s(){return Xv(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Nv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Nv.Header,{closeButton:!0},t.createElement(Nv.Title,null,"Add Primary Media")),t.createElement(Nv.Body,null,"You must add a primary video before adding secondary elements."),t.createElement(Nv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onCloseClick},"Close")))}}])&&Yv(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eg(t,e){return eg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},eg(t,e)}function ng(t,e){if(e&&("object"===$v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rg(t)}Jv.propTypes={onCloseClick:r().func.isRequired,showing:r().bool.isRequired};var ig=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rg(i);if(o){var n=rg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ng(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={value:""},e}return n=s,(r=[{key:"onSubmit",value:function(t){t.preventDefault(),this.props.onSubmit(this.state.value,this.props.timestamp),this.setState({value:""})}},{key:"onTextChange",value:function(t){this.setState({value:t.target.value})}},{key:"close",value:function(){this.props.onCloseClick()}},{key:"render",value:function(){return t.createElement(Nv,{show:this.props.showing,autoFocus:!1,onHide:this.close.bind(this)},t.createElement(Nv.Header,{closeButton:!0},t.createElement(Nv.Title,null,"Add text annotation")),t.createElement(Nv.Body,null,t.createElement("form",{onSubmit:this.onSubmit.bind(this)},t.createElement("textarea",{className:"form-control",maxLength:140,onChange:this.onTextChange.bind(this),value:this.state.value}),t.createElement("div",{className:"helptext"},"140 character limit"),t.createElement("br",null),t.createElement("button",{className:"btn btn-primary right",type:"submit"},"Submit"))))}}])&&tg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function og(t){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(t)}function ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sg(t,e){return sg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sg(t,e)}function lg(t,e){if(e&&("object"===og(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ug(t)}ig.propTypes={onCloseClick:r().func.isRequired,onSubmit:r().func.isRequired,showing:r().bool.isRequired,timestamp:r().number};var cg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ug(i);if(o){var n=ug(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lg(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).type="txt",e.state={adding:!1,timecode:0},e.helpText="Click on this track to place text elements",e}return n=s,(r=[{key:"renderItemAdder",value:function(){return t.createElement(ig,{showing:this.state.adding,onCloseClick:this.closeItemAdder.bind(this),onSubmit:this.onTrackElementAdd.bind(this)})}},{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?this.setState({adding:!0,timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"onTrackElementAdd",value:function(t){this.closeItemAdder(),this.props.onTrackElementAdd(t,this.state.timecode)}}])&&ag(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(vt);function hg(t){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(t)}function fg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yg(t,e){return yg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yg(t,e)}function vg(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gg(t)}var mg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gg(i);if(o){var n=gg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vg(this,t)});function s(){return dg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"shouldDisplay",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return fg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i.source}}catch(t){r.e(t)}finally{r.f()}return""}},{key:"render",value:function(){var e=this.shouldDisplay(this.props.data,this.props.time);return t.createElement("div",{className:"jux-text-display-container"},t.createElement("div",{className:"jux-text-display"},e))}}])&&pg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function _g(t){return _g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(t)}function bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xg(t,e){return xg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xg(t,e)}function Sg(t,e){if(e&&("object"===_g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Eg(t)}mg.propTypes={data:r().array.isRequired,time:r().number};var Cg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Eg(i);if(o){var n=Eg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Sg(this,t)});function s(){return bg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"generateTick",value:function(e,n,r){var i={left:e+"%"};return r&&(i={right:0}),[t.createElement("div",{key:n+"-label",className:"jux-timeline-ticklabel",style:i},P(n)),t.createElement("div",{key:n,className:"jux-timeline-tick",style:{left:e+"%"}})]}},{key:"generateTicks",value:function(t){var e=30;t>300&&t<=900?e=60:t>900&&t<=1800?e=120:t>1800&&(e=10*Math.round(.15*t/10));for(var n=[],r=0;r<t-.08*t;r+=e){var i=r/t*100;n.push([i,r])}return n.push([100,t]),n}},{key:"generateTicksElements",value:function(t){var e=this,n=this.generateTicks(t),r=[];return n.forEach((function(t,i){r.push(e.generateTick(t[0],t[1],i===n.length-1))})),r}},{key:"render",value:function(){var e=this.generateTicksElements(this.props.duration),n=this.props.hovering?"jux-timeline-ruler hover":"jux-timeline-ruler";return t.createElement("div",{className:n},t.createElement("div",{className:"jux-timeline-hline"}),e)}}])&&wg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function kg(t){return kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(t)}function Pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Og(t,e){return Og=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Og(t,e)}function Rg(t,e){if(e&&("object"===kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ag(t)}Cg.propTypes={duration:r().number,hovering:r().bool.isRequired};var Ig=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Og(t,e)}(l,e);var n,r,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ag(i);if(a){var n=Ag(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rg(this,t)});function l(){return Pg(this,l),s.apply(this,arguments)}return n=l,(r=[{key:"render",value:function(){var e=this;return t.createElement("div",{className:"jux-timecode-editor"},t.createElement("input",{ref:function(t){return e._spinner=t},min:this.props.min,required:!0,defaultValue:P(this.props.timecode)}))}},{key:"componentDidUpdate",value:function(t){k(this._spinner.value)!==t.timecode&&(this._spinner.value=P(t.timecode))}},{key:"componentDidMount",value:function(){var t=this;jQuery(this._spinner).timecodespinner({change:function(e){var n=k(e.target.value);o()(n)&&t.props.onChange(n),t.props.timecode!==t._spinner.value&&(t._spinner.value=P(t.props.timecode))},spin:function(e,n){var r=n.value/100;if(o()(r)&&t.props.onChange(r),t.props.timecode!==t._spinner.value)return t._spinner.value=P(t.props.timecode),!1}})}},{key:"componentWillUnmount",value:function(){jQuery(this._spinner).timecodespinner("destroy")}}])&&Tg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function Mg(t){return Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(t)}function Dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jg(t,e){return jg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},jg(t,e)}function Fg(t,e){if(e&&("object"===Mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ng(t)}Ig.propTypes={min:r().number.isRequired,onChange:r().func.isRequired,timecode:r().number.isRequired};var Bg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ng(i);if(o){var n=Ng(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fg(this,t)});function s(){return Dg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(Nv,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(Nv.Header,{closeButton:!0},t.createElement(Nv.Title,null,"Confirm Delete")),t.createElement(Nv.Body,null,"Are you sure you want to delete this element?"),t.createElement(Nv.Footer,null,t.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Delete Element")))}}])&&Lg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Ug(t){return Ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(t)}function zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wg(t,e){return Wg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wg(t,e)}function Gg(t,e){if(e&&("object"===Ug(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qg(t)}Bg.propTypes={onCloseClick:r().func.isRequired,onConfirmClick:r().func.isRequired,showing:r().bool.isRequired};var Vg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qg(i);if(o){var n=qg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Gg(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={showDeleteElementModal:!1},e.debouncedDisplayUpdatedTextNotice=no()(e.displayUpdatedTextNotice,1e3),e}return n=s,r=[{key:"render",value:function(){var e=this.props.activeElement;if(e){var n="txt"===e.type,r=e.end_time-e.start_time,i="";return"vid"===e.type&&(i=t.createElement("div",{className:"form-group"},t.createElement("label",null,"Volume ",e.volume,t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",value:e.volume,onChange:this.onVolumeChange.bind(this)})))),t.createElement("div",{className:"jux-track-container jux-track-element-manager"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-md-1 float-left"},t.createElement("svg",{width:"3em",height:"3em",viewBox:"0 0 16 16",className:"bi bi-arrows-move",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.5 8a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1H6a.5.5 0 0 0 .5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M3.854 5.646a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L2.207 8l1.647-1.646a.5.5 0 0 0 0-.708zM9.5 8a.5.5 0 0 1 .5-.5h4.5a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 5.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L13.793 8l-1.647-1.646a.5.5 0 0 1 0-.708zM8 9.5a.5.5 0 0 0-.5.5v4.5a.5.5 0 0 0 1 0V10a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 12.146a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8 13.793l-1.646-1.647a.5.5 0 0 0-.708 0zM8 6.5a.5.5 0 0 1-.5-.5V1.5a.5.5 0 0 1 1 0V6a.5.5 0 0 1-.5.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 3.854a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8 2.207 6.354 3.854a.5.5 0 0 1-.708 0z"}))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Start ",t.createElement("br",null),P(e.start_time)),t.createElement("br",null),t.createElement(Ig,{min:0,timecode:e.start_time,onChange:this.onStartTimeChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS"))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Duration ",P(r)),t.createElement("br",null),t.createElement(Ig,{min:100,timecode:e.end_time-e.start_time,onChange:this.onDurationChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS")),i),t.createElement("div",{className:"col"},t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"content",className:"small"},"Content"),t.createElement("br",null),t.createElement("textarea",{style:{display:n?"block":"none"},className:"form-control",id:"content",value:e.source,maxLength:140,onChange:this.onTextChange.bind(this)}),t.createElement("div",{style:{display:n?"block":"none"},className:"helptext float-left"},"140 character limit"),t.createElement("div",{className:"float-right jux-updated-text small"},"Updated"),t.createElement("button",{style:{display:n?"none":"block"},className:"jux-edit-track-element btn btn-outline-secondary btn-sm",title:"Edit Element",onClick:this.onEditClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))," Edit Selection"))),t.createElement("div",{className:"col float-right"},t.createElement("button",{className:"jux-remove-track-element btn btn-secondary btn-danger float-right",title:"Delete element",onClick:this.onDeleteClick.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),t.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))))),t.createElement(Bg,{showing:this.state.showDeleteElementModal,onCloseClick:this.onDeleteCloseClick.bind(this),onConfirmClick:this.onDeleteConfirmClick.bind(this)}),t.createElement("div",{className:"clearfix"}))}return t.createElement("div",null)}},{key:"onVolumeChange",value:function(t){this.props.onChange(this.props.activeElement,{volume:parseInt(t.target.value,10)})}},{key:"displayUpdatedTextNotice",value:function(){jQuery(".jux-updated-text").show(0,(function(){setTimeout((function(){jQuery(".jux-updated-text").fadeOut("slow")}),1e3)}))}},{key:"onTextChange",value:function(t){this.props.onChange(this.props.activeElement,{source:t.target.value}),this.debouncedDisplayUpdatedTextNotice()}},{key:"onDeleteClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.setState({showDeleteElementModal:!0})}},{key:"onDeleteCloseClick",value:function(){this.setState({showDeleteElementModal:!1})}},{key:"onDeleteConfirmClick",value:function(){this.props.onDeleteClick(),this.setState({showDeleteElementModal:!1})}},{key:"onEditClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.props.onEditClick()}},{key:"onStartTimeChange",value:function(t){var e=this.props.activeElement.end_time+(t-this.props.activeElement.start_time);this.props.onChange(this.props.activeElement,{start_time:t,end_time:e})}},{key:"onDurationChange",value:function(t){var e=this.props.activeElement.start_time+t;this.props.onChange(this.props.activeElement,{end_time:e})}}],r&&zg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Hg(t){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(t)}function Xg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e){return Kg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kg(t,e)}function Zg(t,e){if(e&&("object"===Hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qg(t)}Vg.propTypes={activeElement:r().object,onChange:r().func.isRequired,onDeleteClick:r().func.isRequired,onEditClick:r().func.isRequired};var Jg=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qg(i);if(o){var n=Qg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zg(this,t)});function s(){return Xg(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){return t.createElement("button",{className:"jux-play","aria-label":"play",onClick:this.onClick.bind(this)},this.props.playing?t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pause-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"})):t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-play-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})))}}])&&Yg(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function $g(t){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(t)}function tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nm(t,e){return nm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nm(t,e)}function rm(t,e){if(e&&("object"===$g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},im(t)}Jg.propTypes={onClick:r().func.isRequired,playing:r().bool.isRequired};var om=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nm(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=im(i);if(o){var n=im(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rm(this,t)});function s(){return tm(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){var e=!1;0===this.props.time&&(e=!0);var n=e?"jux-rewind disabled":"jux-rewind";return t.createElement("button",{className:n,disabled:e,"aria-label":"rewind",onClick:this.onClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-skip-start-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M4.5 3.5A.5.5 0 0 0 4 4v8a.5.5 0 0 0 1 0V4a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{d:"M4.903 8.697l6.364 3.692c.54.313 1.232-.066 1.232-.697V4.308c0-.63-.692-1.01-1.232-.696L4.903 7.304a.802.802 0 0 0 0 1.393z"})))}}])&&em(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function am(t){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(t)}function sm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lm(t,e){return lm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lm(t,e)}function um(t,e){if(e&&("object"===am(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cm(t)}om.propTypes={onClick:r().func.isRequired,time:r().number.isRequired};var hm=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lm(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cm(i);if(o){var n=cm(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return um(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).trackWidth=915,e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.duration)return t.createElement("div",{className:"jux-playhead-container"},t.createElement("div",{className:"jux-playhead-line",style:{opacity:0}}));var n=0;0!==this.props.duration&&(n=this.props.currentTime/this.props.duration);var r={left:this.trackWidth*n+7+"px"};return t.createElement("div",{className:"jux-playhead-container"},t.createElement("input",{type:"range",min:"0",max:"1000","aria-label":"range",ref:function(t){return e.el=t},onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,value:1e3*n}),t.createElement("div",{className:"jux-playhead-line",style:r}))}}])&&sm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function fm(t){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(t)}function dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pm(t,e){return pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pm(t,e)}function ym(t,e){if(e&&("object"===fm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vm(t)}hm.propTypes={currentTime:r().number,duration:r().number,onChange:r().func.isRequired,onMouseDown:r().func.isRequired,onMouseUp:r().func.isRequired,onMouseEnter:r().func.isRequired,onMouseLeave:r().func.isRequired};var gm=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pm(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vm(i);if(o){var n=vm(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ym(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).id="jux-spine-video",e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.spineVid){var n=j(this.props.instructions);return t.createElement("div",{className:"jux-spine-display"},t.createElement("div",{className:"help-text"},t.createElement("button",{className:"add-spine","aria-label":"add primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-plus-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4a.5.5 0 0 0-1 0v3.5H4a.5.5 0 0 0 0 1h3.5V12a.5.5 0 0 0 1 0V8.5H12a.5.5 0 0 0 0-1H8.5V4z"}))),t.createElement("h2",{onClick:this.onClickReviseSpine},"Add a primary video"),t.createElement("p",{className:"instructions"},n)))}var r;r="youtube"===this.props.spineVid.host?"https://www.youtube.com/watch?v="+this.props.spineVid.url:this.props.spineVid.url;var i=80;this.props.spineVid&&(i=this.props.spineVid.volume);var o="";if(!this.props.readOnly){var a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-up",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM6 5.04L4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96V5.04z"}),t.createElement("path",{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}),t.createElement("path",{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}),t.createElement("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707z"}));0===i?a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-off",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M10.717 3.55A.5.5 0 0 1 11 4v8a.5.5 0 0 1-.812.39L7.825 10.5H5.5A.5.5 0 0 1 5 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM10 5.04L8.312 6.39A.5.5 0 0 1 8 6.5H6v3h2a.5.5 0 0 1 .312.11L10 10.96V5.04z"})):i<=50&&(a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M8.717 3.55A.5.5 0 0 1 9 4v8a.5.5 0 0 1-.812.39L5.825 10.5H3.5A.5.5 0 0 1 3 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM8 5.04L6.312 6.39A.5.5 0 0 1 6 6.5H4v3h2a.5.5 0 0 1 .312.11L8 10.96V5.04z"}),t.createElement("path",{d:"M10.707 11.182A4.486 4.486 0 0 0 12.025 8a4.486 4.486 0 0 0-1.318-3.182L10 5.525A3.489 3.489 0 0 1 11.025 8c0 .966-.392 1.841-1.025 2.475l.707.707z"}))),o=t.createElement("div",{className:"jux-spine-controls"},t.createElement("button",{className:"btn btn-default jux-spine-revise",title:"Revise primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-repeat",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"}),t.createElement("path",{fillRule:"evenodd",d:"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"}))),t.createElement("button",{className:"btn btn-default jux-spine-edit",title:"Edit primary video",onClick:this.onClickEditSpine.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))),t.createElement("button",{className:"btn btn-default jux-spine-vol-display",title:"Toggle volume",onClick:this.onVolumeToggle.bind(this)},a),t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",className:"jux-spine-vol-input",value:i,onChange:this.onVolumeChange.bind(this)}))}var s=this.props.spineVid.volume/100;return t.createElement("div",{className:"jux-spine-display"},t.createElement(to.Z,{id:this.id,ref:function(t){return e.player=t},width:480,height:360,volume:s,playing:this.props.playing,onEnded:this.props.onEnded,url:r,onStart:this.onStart.bind(this),onDuration:this.props.onDuration,onProgress:this.props.onProgress,onPlay:this.props.onPlay,onPause:this.props.onPause,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}}),o)}},{key:"onStart",value:function(){if(this.props.spineVid.annotationStartTime&&this.props.duration){var t=this.props.spineVid.annotationStartTime/this.props.duration;this.player.seekTo(t)}}},{key:"onClickReviseSpine",value:function(){F("video",!0,{type:"spine",timecode:0})}},{key:"onClickEditSpine",value:function(){N(this.props.spineVid.assetId,this.props.spineVid.annotationId,void 0===this.props.spineVid.annotationDuration,{type:"spine"})}},{key:"onVolumeChange",value:function(t){var e=parseInt(t.target.value,10);this.props.onVolumeChange(e)}},{key:"onVolumeToggle",value:function(){this.props.onVolumeToggle()}}])&&dm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(so);function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}const _m=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=mm({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",mm({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,mm({},this.attributes,e))},withConverter:function(e){return t(mm({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wm(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function xm(t){return t.json()}var Sm=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=_m.get("csrftoken");this.xhrOpts={method:"get",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":e},credentials:"same-origin"}}var e,n;return e=t,(n=[{key:"assetUrl",value:function(t){return"/api/asset/"+t+"/"}},{key:"projectSequenceAssetUrl",value:function(t){return"/project/api/projectsequenceassets/?project="+t}},{key:"sequenceAssetUrl",value:function(t){return"/sequence/api/assets/"+t+"/"}},{key:"sequenceAssetsUrl",value:function(){return"/sequence/api/assets/"}},{key:"getAsset",value:function(t){if(!t)throw"getAsset: assetId is required.";return fetch(this.assetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t}))}},{key:"getSequenceAsset",value:function(t){if(!t)throw"getSequenceAsset: projectId is required.";return fetch(this.projectSequenceAssetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t.length>0?t[0].sequence_asset:null}))}},{key:"createOrUpdateSequenceAsset",value:function(t,e,n,r,i,a){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===a)throw"createOrUpdateSequenceAsset: missing parameter";var s=80;o()(e)&&(s=e);var l=this;return fetch(this.projectSequenceAssetUrl(r),this.xhrOpts).then((function(t){return t.json()})).then((function(e){if(e.length>0){var o=e[0].sequence_asset.id;return l.updateSequenceAsset(o,t,s,n,r,i,a)}return l.createSequenceAsset(t,s,n,r,i,a)}))}},{key:"createSequenceAsset",value:function(t,e,n,r,i,a){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===a)throw"createSequenceAsset: missing parameter";var s=80;return o()(e)&&(s=e),this.xhrOpts.method="post",this.xhrOpts.body=JSON.stringify({spine:t,spine_volume:s,course:n,project:r,media_elements:O(i),text_elements:R(a)}),fetch(this.sequenceAssetsUrl(),this.xhrOpts)}},{key:"updateSequenceAsset",value:function(t,e,n,r,i,a,s){if(void 0===t||void 0===e||void 0===r||void 0===i||void 0===a||void 0===s)throw"updateSequenceAsset: missing parameter";var l=80;return o()(n)&&(l=n),this.xhrOpts.method="put",this.xhrOpts.body=JSON.stringify({id:t,spine:e,spine_volume:l,course:r,project:i,media_elements:O(a),text_elements:R(s)}),fetch(this.sequenceAssetUrl(t),this.xhrOpts).then(wm).then(xm)}}])&&bm(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Em(t){return Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(t)}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function km(t,e){return km=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},km(t,e)}function Pm(t,e){if(e&&("object"===Em(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tm(t)}function Tm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Om(t)}var Rm=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&km(t,e)}(c,e);var n,r,i,a,l=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Om(i);if(a){var n=Om(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Pm(this,t)});function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var n=Tm(e=l.call(this,t));return e.state={spineVid:null,mediaTrack:[],textTrack:[],playing:!1,time:null,duration:null,activeElement:null,currentSecondaryElement:null,showOutOfBoundsModal:!1,showAddPrimaryMediaModal:!1,hoveringOnPlayhead:!1},document.addEventListener("asset.select",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.addMediaTrackElement(t.detail.assetId,t.detail.annotationId,t.detail.caller.timecode),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})})),document.addEventListener("asset.save",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.editActiveMediaTrackElement(t.detail.assetId,t.detail.annotationId)})),document.addEventListener("sequence.save",(function(){n.onSaveClick()})),"undefined"!=typeof jQuery&&jQuery.widget("ui.timecodespinner",jQuery.ui.spinner,{options:{step:100,page:60},_parse:function(t){return"string"==typeof t?Number(t)==t?Number(t):100*k(t):t},_format:function(t){return P(t/100)}}),e}return n=c,r=[{key:"componentDidMount",value:function(){window.MediaThread&&window.MediaThread.current_project&&this.initializeSequenceAsset(window.MediaThread.current_project)}},{key:"initializeSequenceAsset",value:function(t){var e=this;(new Sm).getSequenceAsset(t).then((function(t){if(t&&t.spine){t.media_elements.forEach((function(t){var e=C(t.media);t.media=e.id,t.media_asset=e.assetId,t.host=e.host,t.source=e.url,t.type=e.type,t.annotationStartTime=e.startTime,t.annotationDuration=e.duration,t.annotationData=e.data,t.width=e.width,t.height=e.height})),e.setState({mediaTrack:A(t.media_elements),textTrack:I(t.text_elements)});var n=C(t.spine);e.updateSpineVid(n.url,n.host,n.assetId,n.id,n.startTime,n.duration,t.spine_volume),jQuery(window).trigger("sequence.set_submittable",{submittable:e.isBaselineWorkCompleted()})}})).then((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)})).catch((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)}))}},{key:"render",value:function(){var e=this,n=this.getItem(this.state.activeElement),r="";this.props.readOnly||(r=t.createElement("div",null,t.createElement(xt,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onMediaDragStop.bind(this),onTrackEditButtonClick:this.onMediaTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.mediaTrack}),t.createElement(cg,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onTextDragStop.bind(this),onTrackElementAdd:this.onTextTrackElementAdd.bind(this),onTrackEditButtonClick:this.onTextTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.textTrack})));var i="",o=!(this.hasMediaElements()||!this.props.readOnly);return o||(i=t.createElement(ay,{ref:function(t){return e._mediaDisplay=t},time:this.state.time,duration:this.sequenceDuration(),data:this.state.mediaTrack,playing:this.state.playing,currentElement:this.state.currentSecondaryElement,instructions:this.props.secondaryInstructions})),t.createElement("div",{className:"jux-container"},t.createElement("div",{className:"jux-vid-container"},t.createElement(gm,{spineVid:this.state.spineVid,ref:function(t){return e._primaryVid=t},readOnly:this.props.readOnly,duration:this.state.duration,onDuration:this.onSpineDuration.bind(this),onEnded:this.onSpineVideoEnded.bind(this),playing:this.state.playing,onProgress:this.onSpineProgress.bind(this),onPlay:this.onSpinePlay.bind(this),onPause:this.onSpinePause.bind(this),onVolumeChange:this.onSpineVolumeChange.bind(this),onVolumeToggle:this.onSpineVolumeToggle.bind(this),instructions:this.props.primaryInstructions}),t.createElement("div",{style:{display:o?"none":"block"},className:"jux-media-separator"}),i),t.createElement(mg,{time:this.state.time,duration:this.sequenceDuration(),data:this.state.textTrack}),t.createElement("div",{className:"jux-flex-horiz"},t.createElement(om,{time:this.state.time||0,onClick:this.onRewindClick.bind(this)}),t.createElement(Jg,{playing:this.state.playing,onClick:this.onPlayClick.bind(this)}),t.createElement("div",{className:"jux-time-display"},t.createElement("div",null,P(this.state.time)," / ",P(this.sequenceDuration())))),t.createElement("div",{className:"jux-timeline"},t.createElement(Cg,{hovering:this.state.hoveringOnPlayhead,duration:this.sequenceDuration()}),t.createElement(hm,{currentTime:this.state.time,duration:this.sequenceDuration(),onMouseDown:this.onPlayheadMouseDown.bind(this),onMouseUp:this.onPlayheadMouseUp.bind(this),onMouseEnter:this.onPlayheadMouseEnter.bind(this),onMouseLeave:this.onPlayheadMouseLeave.bind(this),onChange:this.onPlayheadTimeChange.bind(this)}),r),t.createElement(Vg,{activeElement:n,onChange:this.onTrackElementUpdate.bind(this),onEditClick:this.onTrackMediaElementEdit.bind(this),onDeleteClick:this.onTrackElementRemove.bind(this)}),t.createElement(Vv,{showing:this.state.showOutOfBoundsModal,onCloseClick:this.onOutOfBoundsCloseClick.bind(this),onConfirmClick:this.onOutOfBoundsConfirmClick.bind(this)}),t.createElement(Jv,{showing:this.state.showAddPrimaryMediaModal,onCloseClick:this.onAddPrimaryCloseClick.bind(this)}))}},{key:"isBaselineWorkCompleted",value:function(){return!!this.state.spineVid&&(this.state.mediaTrack.length>0||this.state.textTrack.length>0)}},{key:"onTrackElementUpdate",value:function(t,e){if(t){var n;n="txt"===t.type?this.state.textTrack:this.state.mediaTrack;var r=u()(n,["key",t.key,10]),i=h()(n,["key",r.key]);(function(t,e,n,r){if(r<=n)throw new Error("end_time must be greater than start_time.");if(!e)throw new Error("A sequence must have a duration.");if(r>e)return!0;if(0===t.length||!n&&!r)return!1;var i,o=m(t);try{for(o.s();!(i=o.n()).done;)if(b({start_time:n,end_time:r},i.value))return!0}catch(t){o.e(t)}finally{o.f()}return!1})(i,this.sequenceDuration(),o()(e.start_time)?e.start_time:r.start_time,o()(e.end_time)?e.end_time:r.end_time)||(s()(e.source)&&(r.source=e.source),o()(e.start_time)&&(r.start_time=e.start_time),o()(e.end_time)&&(r.end_time=e.end_time),o()(e.volume)&&(r.volume=e.volume),i.push(r),i=d()(i,"key"),"txt"===t.type?this.setState({textTrack:i}):this.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}}},{key:"onTextTrackElementAdd",value:function(t,e){var n=x(e,e+30,this.sequenceDuration(),this.state.textTrack);if(o()(n.start)||o()(n.end)){var r=this.state.textTrack.slice(),i=r.length;r.push({key:i,start_time:n.start,end_time:n.end,type:"txt",source:t}),this.setState({textTrack:r,activeElement:["txt",i]}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onMediaTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["media",e.props.data.key]})}},{key:"onTextTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["txt",e.props.data.key]})}},{key:"onMediaDragStop",value:function(t,e,n){var r=L(this.state.mediaTrack,n,this.sequenceDuration());null!==r&&(this.setState({mediaTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onTextDragStop",value:function(t,e,n){var r=L(this.state.textTrack,n,this.sequenceDuration());null!==r&&(this.setState({textTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onPlayClick",value:function(){var t=!this.state.playing;this.setState({playing:t})}},{key:"onRewindClick",value:function(){this.setState({playing:!1,time:0}),this._primaryVid.player.seekTo(this.state.spineVid.annotationStartTime||0)}},{key:"onTrackElementRemove",value:function(){if(this.state.activeElement){var t=this.state.activeElement[0],e=this.state.activeElement[1];if("txt"===t){var n=this.state.textTrack.slice();n.splice(e,1),D(n),this.setState({textTrack:n,activeElement:null})}else{var r=this.state.mediaTrack.slice();r.splice(e,1),D(r),this.setState({mediaTrack:r,activeElement:null})}jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onTrackMediaElementEdit",value:function(){var t=this.getItem(this.state.activeElement);N(t.media_asset,t.media,void 0===t.annotationDuration,{type:"track"})}},{key:"onPlayheadTimeChange",value:function(t){var e=t.target.value/1e3,n=this.sequenceDuration()*e;this.setState({time:n})}},{key:"onPlayheadMouseDown",value:function(){this.setState({playing:!1})}},{key:"onPlayheadMouseUp",value:function(){var t=(this.state.time+(this.state.spineVid.annotationStartTime||0))/this.state.duration;this._primaryVid.player.seekTo(t),this._mediaDisplay&&this._mediaDisplay.seekTo(t)}},{key:"onPlayheadMouseEnter",value:function(){this.setState({hoveringOnPlayhead:!0})}},{key:"onPlayheadMouseLeave",value:function(){this.setState({hoveringOnPlayhead:!1})}},{key:"onSpineVideoEnded",value:function(){this.setState({playing:!1,time:0})}},{key:"onSpineDuration",value:function(t){this.setState((function(e){return{duration:t,mediaTrack:S(t,e.mediaTrack),textTrack:S(t,e.textTrack)}}))}},{key:"onSpineProgress",value:function(t){if(void 0!==t.played){if(t.played>=1)return void this.setState({playing:!1,time:0});var e=t.playedSeconds-(this.state.spineVid.annotationStartTime||0),n=Math.max(0,e);n>=this.sequenceDuration()&&(this.setState({playing:!1}),n=Math.min(n,this.sequenceDuration())),this.setState((function(t){return{time:n,currentSecondaryElement:M(t.mediaTrack,n)}}))}}},{key:"onSpinePlay",value:function(){this.state.playing||this.setState({playing:!0})}},{key:"onSpinePause",value:function(){this.state.playing&&this.setState({playing:!1})}},{key:"onSaveClick",value:function(){if(this.state.spineVid){var t=new Sm,e=this;t.createOrUpdateSequenceAsset(this.state.spineVid.annotationId,this.state.spineVid.volume,window.MediaThread.current_course,window.MediaThread.current_project,this.state.mediaTrack,this.state.textTrack).then((function(){jQuery(window).trigger("sequence.on_save_success",{submittable:e.isBaselineWorkCompleted()})})).catch((function(t){jQuery(window).trigger("sequence.on_save_error",t)}))}else jQuery(window).trigger("sequence.on_save_success",{submittable:!1})}},{key:"onOutOfBoundsCloseClick",value:function(){this.setState({showOutOfBoundsModal:!1})}},{key:"onOutOfBoundsConfirmClick",value:function(){var t=this.state.tmpSpineVid;this.setState((function(e){return{showOutOfBoundsModal:!1,mediaTrack:S(t.annotationDuration,e.mediaTrack),textTrack:S(t.annotationDuration,e.textTrack)}})),this.updateSpineVid(t.url,t.host,t.assetId,t.annotationId,t.annotationStartTime,t.annotationDuration,t.volume),this.setState({tmpSpineVid:null}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onAddWithoutPrimaryVid",value:function(){this.setState({showAddPrimaryMediaModal:!0})}},{key:"onAddPrimaryCloseClick",value:function(){this.setState({showAddPrimaryMediaModal:!1})}},{key:"onSpineVolumeChange",value:function(t){var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onSpineVolumeToggle",value:function(){var t=80;this.state.spineVid.volume&&(t=0);var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"getItem",value:function(t){return t?"txt"===t[0]?this.state.textTrack[t[1]]:this.state.mediaTrack[t[1]]:null}},{key:"sequenceDuration",value:function(){return this.state.spineVid&&this.state.spineVid.annotationDuration?this.state.spineVid.annotationDuration:this.state.duration}},{key:"updateSpineVid",value:function(t,e,n,r,i,a,s){o()(s)||(s=80),this.state.spineVid&&this.state.spineVid.url!==t&&this.setState({duration:null}),this.setState({spineVid:{url:t,host:e,assetId:n,annotationId:r,annotationStartTime:i,annotationDuration:a,volume:s},playing:!1,time:0}),this._primaryVid.onStart()}},{key:"addOrEditSpineVideo",value:function(t,e){var n=this;(new Sm).getAsset(t).then((function(r){var i=E(r,t,e);i.duration&&!function(t,e,n){for(var r=0;r<e.length;r++)if(e[r].end_time>t)return!0;for(var i=0;i<n.length;i++)if(n[i].end_time>t)return!0;return!1}(i.duration,n.state.mediaTrack,n.state.textTrack)||!(n.state.mediaTrack.length>0||n.state.textTrack.length>0)?n.updateSpineVid(i.url,i.host,t,e,i.startTime,i.duration,i.volume):n.setState({showOutOfBoundsModal:!0,tmpSpineVid:{url:i.url,host:i.host,assetId:t,annotationId:e,annotationStartTime:i.startTime,annotationDuration:i.duration,volume:i.volume},playing:!1,time:0})}))}},{key:"addMediaTrackElement",value:function(t,e,n){var r=this;(new Sm).getAsset(t).then((function(i){var a=E(i,t,e),s=r.state.mediaTrack.slice(0),l=s.length,u=x(n,n+a.duration,r.sequenceDuration(),r.state.mediaTrack);(o()(u.start)||o()(u.end))&&(s.push({key:l,start_time:u.start,end_time:u.end,type:a.type,host:a.host,source:a.url,media_asset:t,media:e,annotationData:a.data,annotationStartTime:a.startTime,annotationDuration:a.duration,width:a.width,height:a.height,volume:80}),r.setState({mediaTrack:s,activeElement:["media",l]}))}))}},{key:"editActiveMediaTrackElement",value:function(t,e){var n=this;(new Sm).getAsset(t).then((function(r){var i=n.state.mediaTrack.slice(),o=E(r,t,e),a=n.state.activeElement[1],s=n.state.mediaTrack[a],l=s.start_time,u=o.duration||s.end_time-s.start_time;i[a].media=e,i[a].annotationData=o.data,i[a].annotationStartTime=o.startTime,i[a].annotationDuration=o.duration;var c=n.state.mediaTrack.slice();c.splice(a,1);var h=w(l,l+u,n.sequenceDuration(),c);i[a].end_time=h,n.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}))}},{key:"hasMediaElements",value:function(){return this.state.mediaTrack.length>0}}],r&&Cm(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(t.Component);Rm.propTypes={primaryInstructions:r().string.isRequired,secondaryInstructions:r().string.isRequired,readOnly:r().bool.isRequired},Rm.defaultProps={primaryInstructions:"",secondaryInstructions:"",readOnly:!1},document.getElementById("jux-container")&&e.render(t.createElement(Rm,{readOnly:view&&view.readOnly||!1,primaryInstructions:view&&view.primaryInstructions||"",secondaryInstructions:view&&view.secondaryInstructions||""}),document.getElementById("jux-container"))})()})();