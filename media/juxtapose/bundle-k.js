/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={4184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},6010:(t,e,n)=>{"use strict";function r(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.r(e),n.d(e,{default:()=>i})},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function i(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,n,l){(l=l||{}).arrayMerge=l.arrayMerge||i,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(t)?u?l.arrayMerge(t,n,l):function(t,e,n){var i={};return n.isMergeableObject(t)&&o(t).forEach((function(e){i[e]=r(t[e],n)})),o(e).forEach((function(o){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(a(t,o)&&n.isMergeableObject(e[o])?i[o]=function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(o,n)(t[o],e[o],n):i[o]=r(e[o],n))})),i}(t,n,l):r(n,l)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return s(t,n,e)}),{})};var l=s;t.exports=l},6998:function(t){t.exports=function(t,e){if(null==e&&(e={fuzzy:!0}),/youtu\.?be/.test(t)){var n,r=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<r.length;++n)if(r[n].test(t))return r[n].exec(t)[1];if(e.fuzzy){var i=t.split(/[\/\&\?=#\.\s]/g);for(n=0;n<i.length;++n)if(/^[^#\&\?]{11}$/.test(i[n]))return i[n]}}return null}},9090:t=>{function e(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function n(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}t.exports=function(t,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=t,r.attrs&&function(t,e){for(var n in e)t.setAttribute(n,e[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?e:n)(a,i),a.onload||e(a,i),o.appendChild(a)}},2307:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",d="[object Promise]",y="[object RegExp]",g="[object Set]",v="[object String]",m="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",x=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w[a]=w[_]=w[s]=w[b]=w[l]=w[u]=w[c]=w[f]=w[h]=w[p]=w[y]=w[g]=w[v]=w[m]=!1;var S="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,P=S||C||Function("return this")(),O=e&&!e.nodeType&&e,T=O&&t&&!t.nodeType&&t,R=T&&T.exports===O,k=R&&S.process,D=function(){try{return k&&k.binding&&k.binding("util")}catch(t){}}(),I=D&&D.isTypedArray;function L(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function M(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function j(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var A,F,N,U=Array.prototype,B=Function.prototype,z=Object.prototype,W=P["__core-js_shared__"],G=B.toString,V=z.hasOwnProperty,H=(A=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",X=z.toString,q=RegExp("^"+G.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=R?P.Buffer:void 0,K=P.Symbol,Z=P.Uint8Array,Q=z.propertyIsEnumerable,J=U.splice,$=K?K.toStringTag:void 0,tt=Object.getOwnPropertySymbols,et=Y?Y.isBuffer:void 0,nt=(F=Object.keys,N=Object,function(t){return F(N(t))}),rt=Tt(P,"DataView"),it=Tt(P,"Map"),ot=Tt(P,"Promise"),at=Tt(P,"Set"),st=Tt(P,"WeakMap"),lt=Tt(Object,"create"),ut=It(rt),ct=It(it),ft=It(ot),ht=It(at),pt=It(st),dt=K?K.prototype:void 0,yt=dt?dt.valueOf:void 0;function gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function bt(t){var e=this.__data__=new vt(t);this.size=e.size}function xt(t,e){for(var n=t.length;n--;)if(Lt(t[n][0],e))return n;return-1}function Et(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$&&$ in Object(t)?function(t){var e=V.call(t,$),n=t[$];try{t[$]=void 0;var r=!0}catch(t){}var i=X.call(t);return r&&(e?t[$]=n:delete t[$]),i}(t):function(t){return X.call(t)}(t)}function wt(t){return Bt(t)&&Et(t)==o}function St(t,e,n,r,i){return t===e||(null==t||null==e||!Bt(t)&&!Bt(e)?t!=t&&e!=e:function(t,e,n,r,i,c){var d=jt(t),m=jt(e),x=d?a:kt(t),E=m?a:kt(e),w=(x=x==o?p:x)==p,S=(E=E==o?p:E)==p,C=x==E;if(C&&At(t)){if(!At(e))return!1;d=!0,w=!1}if(C&&!w)return c||(c=new bt),d||zt(t)?Ct(t,e,n,r,i,c):function(t,e,n,r,i,o,a){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!o(new Z(t),new Z(e)));case s:case l:case h:return Lt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case y:case v:return t==e+"";case f:var c=M;case g:var p=1&r;if(c||(c=j),t.size!=e.size&&!p)return!1;var d=a.get(t);if(d)return d==e;r|=2,a.set(t,e);var m=Ct(c(t),c(e),r,i,o,a);return a.delete(t),m;case"[object Symbol]":if(yt)return yt.call(t)==yt.call(e)}return!1}(t,e,x,n,r,i,c);if(!(1&n)){var P=w&&V.call(t,"__wrapped__"),O=S&&V.call(e,"__wrapped__");if(P||O){var T=P?t.value():t,R=O?e.value():e;return c||(c=new bt),i(T,R,n,r,c)}}return!!C&&(c||(c=new bt),function(t,e,n,r,i,o){var a=1&n,s=Pt(t),l=s.length;if(l!=Pt(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:V.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++u<l;){var d=t[c=s[u]],y=e[c];if(r)var g=a?r(y,d,c,e,t,o):r(d,y,c,t,e,o);if(!(void 0===g?d===y||i(d,y,n,r,o):g)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var v=t.constructor,m=e.constructor;v==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m||(h=!1)}return o.delete(t),o.delete(e),h}(t,e,n,r,i,c))}(t,e,n,r,St,i))}function Ct(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,f=!0,h=2&n?new _t:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],d=e[c];if(r)var y=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(h){if(!L(e,(function(t,e){if(a=e,!h.has(a)&&(p===t||i(p,t,n,r,o)))return h.push(e);var a}))){f=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Pt(t){return function(t,e,n){var r=e(t);return jt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Wt,Rt)}function Ot(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Tt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ut(t)||function(t){return!!H&&H in t}(t))&&(Ft(t)?q:x).test(It(t))}(n)?n:void 0}gt.prototype.clear=function(){this.__data__=lt?lt(null):{},this.size=0},gt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gt.prototype.get=function(t){var e=this.__data__;if(lt){var n=e[t];return n===r?void 0:n}return V.call(e,t)?e[t]:void 0},gt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:V.call(e,t)},gt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lt&&void 0===e?r:e,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0||(n==e.length-1?e.pop():J.call(e,n,1),--this.size,0))},vt.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},vt.prototype.has=function(t){return xt(this.__data__,t)>-1},vt.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new gt,map:new(it||vt),string:new gt}},mt.prototype.delete=function(t){var e=Ot(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return Ot(this,t).get(t)},mt.prototype.has=function(t){return Ot(this,t).has(t)},mt.prototype.set=function(t,e){var n=Ot(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,r),this},_t.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new vt,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof vt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(r)}return n.set(t,e),this.size=n.size,this};var Rt=tt?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];l=s,Q.call(t,l)&&(a[o++]=s)}var l;return a}(tt(t)))}:function(){return[]},kt=Et;function Dt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function It(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Lt(t,e){return t===e||t!=t&&e!=e}(rt&&kt(new rt(new ArrayBuffer(1)))!=b||it&&kt(new it)!=f||ot&&kt(ot.resolve())!=d||at&&kt(new at)!=g||st&&kt(new st)!=m)&&(kt=function(t){var e=Et(t),n=e==p?t.constructor:void 0,r=n?It(n):"";if(r)switch(r){case ut:return b;case ct:return f;case ft:return d;case ht:return g;case pt:return m}return e});var Mt=wt(function(){return arguments}())?wt:function(t){return Bt(t)&&V.call(t,"callee")&&!Q.call(t,"callee")},jt=Array.isArray,At=et||function(){return!1};function Ft(t){if(!Ut(t))return!1;var e=Et(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Nt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ut(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Bt(t){return null!=t&&"object"==typeof t}var zt=I?function(t){return function(e){return t(e)}}(I):function(t){return Bt(t)&&Nt(t.length)&&!!w[Et(t)]};function Wt(t){return null!=(e=t)&&Nt(e.length)&&!Ft(e)?function(t,e){var n=jt(t),r=!n&&Mt(t),i=!n&&!r&&At(t),o=!n&&!r&&!i&&zt(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var u in t)!e&&!V.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Dt(u,l))||s.push(u);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||z))return nt(t);var e,n,r=[];for(var i in Object(t))V.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t);var e}t.exports=function(t,e){return St(t,e)}},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),h=!n&&!c&&!f&&l(t),p=n||c||f||h,d=p?r(t.length,String):[],y=d.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,y))||d.push(g);return d}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(t,e){return t&&r(e,i(e),t)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t,e){return t&&r(e,i(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),l=n(4626),u=n(278),c=n(8805),f=n(1911),h=n(8234),p=n(6904),d=n(4160),y=n(3824),g=n(9148),v=n(8517),m=n(1469),_=n(4144),b=n(6688),x=n(3218),E=n(2928),w=n(3674),S=n(1704),C="[object Arguments]",P="[object Function]",O="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[O]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[P]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,R,k,D,I){var L,M=1&n,j=2&n,A=4&n;if(R&&(L=D?R(e,k,D,I):R(e)),void 0!==L)return L;if(!x(e))return e;var F=m(e);if(F){if(L=y(e),!M)return u(e,L)}else{var N=d(e),U=N==P||"[object GeneratorFunction]"==N;if(_(e))return l(e,M);if(N==O||N==C||U&&!D){if(L=j||U?{}:v(e),!M)return j?f(e,s(L,e)):c(e,a(L,e))}else{if(!T[N])return D?e:{};L=g(e,N,M)}}I||(I=new r);var B=I.get(e);if(B)return B;I.set(e,L),E(e)?e.forEach((function(r){L.add(t(r,n,R,r,e,I))})):b(e)&&e.forEach((function(r,i){L.set(i,t(r,n,R,i,e,I))}));var z=F?void 0:(A?j?p:h:j?S:w)(e);return i(z||e,(function(r,i){z&&(r=e[i=r]),o(L,i,t(r,n,R,i,e,I))})),L}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function t(e,n,o,a,s){var l=-1,u=e.length;for(o||(o=i),s||(s=[]);++l<u;){var c=e[l];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),f="[object Arguments]",h="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,g,v){var m=l(t),_=l(e),b=m?h:s(t),x=_?h:s(e),E=(b=b==f?p:b)==p,w=(x=x==f?p:x)==p,S=b==x;if(S&&u(t)){if(!u(e))return!1;m=!0,E=!1}if(S&&!E)return v||(v=new r),m||c(t)?i(t,e,n,y,g,v):o(t,e,b,n,y,g,v);if(!(1&n)){var C=E&&d.call(t,"__wrapped__"),P=w&&d.call(e,"__wrapped__");if(C||P){var O=C?t.value():t,T=P?e.value():e;return v||(v=new r),g(O,T,n,y,v)}}return!!S&&(v||(v=new r),a(t,e,n,y,g,v))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],f=t[c],h=u[1];if(l&&u[2]){if(void 0===f&&!(c in t))return!1}else{var p=new r;if(o)var d=o(f,h,c,t,e,p);if(!(void 0===d?i(h,f,3,o,p):d))return!1}}return!0}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2689:(t,e,n)=>{var r=n(9932),i=n(7786),o=n(7206),a=n(9199),s=n(1131),l=n(1717),u=n(5022),c=n(6557),f=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return f(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[c];var h=-1;e=r(e,l(o));var p=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return s(p,(function(t,e){return u(t,e,n)}))}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),o=n(61);t.exports=function(t,e){return o(i(t,e,r),t+"")}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),o=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},1131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,u=e==e,c=r(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(t,e){return r(t,i(t),e)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(t,e){return r(t,i(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},8777:(t,e,n)=>{var r=n(852),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=l.get(t),p=l.get(e);if(h&&p)return h==e&&p==t;var d=-1,y=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++d<c;){var v=t[d],m=e[d];if(a)var _=u?a(m,v,d,e,t,l):a(v,m,d,t,e,l);if(void 0!==_){if(_)continue;y=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(v===t||s(v,t,n,a,l)))return g.push(e)}))){y=!1;break}}else if(v!==m&&!s(v,m,n,a,l)){y=!1;break}}return l.delete(t),l.delete(e),y}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=l),t.size!=e.size&&!d)return!1;var y=h.get(t);if(y)return y==e;r|=2,h.set(t,e);var g=a(p(t),p(e),r,u,f,h);return h.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var f=c;f--;){var h=u[f];if(!(l?h in e:i.call(e,h)))return!1}var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var y=!0;s.set(t,e),s.set(e,t);for(var g=l;++f<c;){var v=t[h=u[f]],m=e[h];if(o)var _=l?o(m,v,h,e,t,s):o(v,m,h,t,e,s);if(!(void 0===_?v===m||a(v,m,n,o,s):_)){y=!1;break}g||(g="constructor"==h)}if(y&&!g){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(y=!1)}return s.delete(t),s.delete(e),y}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),o=n(1704);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=u(r),g=u(i),v=u(o),m=u(a),_=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=c||o&&b(o.resolve())!=f||a&&b(new a)!=h||s&&b(new s)!=p)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return d;case g:return c;case v:return f;case m:return h;case _:return p}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,f=!1;++u<c;){var h=l(e[u]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++u!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(h,c)&&(o(t)||i(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),o=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},3279:(t,e,n)=>{var r=n(3218),i=n(7771),o=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,u,c,f,h,p,d=0,y=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=l,r=u;return l=u=void 0,d=e,f=t.apply(r,n)}function _(t){return d=t,h=setTimeout(x,e),y?m(t):f}function b(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-d>=c}function x(){var t=i();if(b(t))return E(t);h=setTimeout(x,function(t){var n=e-(t-p);return g?s(n,c-(t-d)):n}(t))}function E(t){return h=void 0,v&&l?m(t):(l=u=void 0,f)}function w(){var t=i(),n=b(t);if(l=arguments,u=this,p=t,n){if(void 0===h)return _(p);if(g)return clearTimeout(h),h=setTimeout(x,e),m(p)}return void 0===h&&(h=setTimeout(x,e)),f}return e=o(e)||0,r(n)&&(y=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,e):c,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==h&&clearTimeout(h),d=0,l=p=u=h=void 0},w.flush=function(){return void 0===h?f:E(i())},w}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},7398:(t,e,n)=>{var r=n(5639).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},7037:(t,e,n)=>{var r=n(4239),i=n(1469),o=n(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):i(t)}},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},4885:t=>{t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},3063:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469),s=n(4885);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},9734:(t,e,n)=>{var r=n(1078),i=n(2689),o=n(5976),a=n(6612),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!((i=t[n])===(o=e[n])||r(i)&&r(o)))return!1;var i,o;return!0}const o=function(t,e){var n;void 0===e&&(e=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&e(i,o)||(r=t.apply(this,i),a=!0,n=this,o=i),r}}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,l=i(t),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(e){s=e(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},2703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(t,e,n)=>{t.exports=n(2703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8166:function(t){t.exports=function(){"use strict";function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-l*c/s+f)),Math.min(o,Math.floor(r+(s-l)*c/s+f)),a)}var h=n[r],p=i,d=o;for(e(n,i,r),a(n[o],h)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;a(n[p],h)<0;)p++;for(;a(n[d],h)>0;)d--}0===a(n[i],h)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,i,o,a){t(e,r,i||0,o||e.length-1,a||n)}}()},5510:(t,e,n)=>{"use strict";t.exports=i;var r=n(8166);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,i,o){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(a=e+Math.ceil((n-e)/i/2)*i,r(t,a,e,n,o),s.push(e,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var i,o,a,s,l=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],d(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],d(t,a=e.leaf?n(o):o)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(i=o(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;a||s.leaf||!p(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=y(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=y([])).leaf=!1,i.height=r;var l,u,c,f,h=Math.ceil(o/s),p=h*Math.ceil(Math.sqrt(s));for(g(t,e,n,p,this.compareMinX),l=e;l<=n;l+=p)for(g(t,l,c=Math.min(l+p-1,n),h,this.compareMinY),u=l;u<=c;u+=h)f=Math.min(u+h-1,c),i.children.push(this._build(t,u,f,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,l,u,c,h,p,d;r.push(e),!e.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)l=f(a=e.children[i]),p=t,d=a,(u=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-l)<h?(h=u,c=l<c?l:c,s=a):u===h&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),l(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,l,u,c,h,p,d,y,g,v,m;for(u=c=1/0,r=e;r<=n-e;r++)p=i=s(t,0,r,this.toBBox),d=o=s(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(p.minX,d.minX),g=Math.max(p.minY,d.minY),v=Math.min(p.maxX,d.maxX),m=Math.min(p.maxY,d.maxY),a=Math.max(0,v-y)*Math.max(0,m-g),l=f(i)+f(o),a<u?(u=a,h=r,c=l<c?l:c):a===u&&l<c&&(c=l,h=r);return h},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,u=s(t,0,e,a),c=s(t,n-e,n,a),f=h(u)+h(c);for(i=e;i<n-e;i++)o=t.children[i],l(u,t.leaf?a(o):o),f+=h(u);for(i=n-e-1;i>=e;i--)o=t.children[i],l(c,t.leaf?a(o):o),f+=h(c);return f},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},y={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(y,t)||!p.call(d,t)&&(h.test(t)?y[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,_);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,_);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,_);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,w=60106,S=60107,C=60108,P=60114,O=60109,T=60110,R=60112,k=60113,D=60120,I=60115,L=60116,M=60121,j=60128,A=60129,F=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),w=U("react.portal"),S=U("react.fragment"),C=U("react.strict_mode"),P=U("react.profiler"),O=U("react.provider"),T=U("react.context"),R=U("react.forward_ref"),k=U("react.suspense"),D=U("react.suspense_list"),I=U("react.memo"),L=U("react.lazy"),M=U("react.block"),U("react.scope"),j=U("react.opaque.id"),A=U("react.debug_trace_mode"),F=U("react.offscreen"),N=U("react.legacy_hidden")}var B,z="function"==typeof Symbol&&Symbol.iterator;function W(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function G(t){if(void 0===B)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var V=!1;function H(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function X(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return H(t.type,!1);case 11:return H(t.type.render,!1);case 22:return H(t.type._render,!1);case 1:return H(t.type,!0);default:return""}}function q(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case w:return"Portal";case P:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return q(t.type);case M:return q(t._render);case L:e=t._payload,t=t._init;try{return q(t(e))}catch(t){}}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Y(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Y(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Y(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Y(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Y(n)}}function ut(t,e){var n=Y(e.value),r=Y(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var dt,yt,gt=(yt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((dt=dt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var mt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||mt.hasOwnProperty(t)&&mt[t]?(""+e).trim():e+"px"}function xt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(mt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mt[e]=mt[t]}))}));var Et=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Pt=null,Ot=null,Tt=null;function Rt(t){if(t=ni(t)){if("function"!=typeof Pt)throw Error(a(280));var e=t.stateNode;e&&(e=ii(e),Pt(t.stateNode,t.type,e))}}function kt(t){Ot?Tt?Tt.push(t):Tt=[t]:Ot=t}function Dt(){if(Ot){var t=Ot,e=Tt;if(Tt=Ot=null,Rt(t),e)for(t=0;t<e.length;t++)Rt(e[t])}}function It(t,e){return t(e)}function Lt(t,e,n,r,i){return t(e,n,r,i)}function Mt(){}var jt=It,At=!1,Ft=!1;function Nt(){null===Ot&&null===Tt||(Mt(),Dt())}function Ut(t,e){var n=t.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var Bt=!1;if(f)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(yt){Bt=!1}function Wt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Gt=!1,Vt=null,Ht=!1,Xt=null,qt={onError:function(t){Gt=!0,Vt=t}};function Yt(t,e,n,r,i,o,a,s,l){Gt=!1,Vt=null,Wt.apply(qt,arguments)}function Kt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Qt(t){if(Kt(t)!==t)throw Error(a(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Kt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qt(i),t;if(o===r)return Qt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function $t(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,oe=[],ae=null,se=null,le=null,ue=new Map,ce=new Map,fe=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function de(t,e){switch(t){case"focusin":case"focusout":ae=null;break;case"dragenter":case"dragleave":se=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=ei(t.target);if(null!==e){var n=Kt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Zt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function me(t,e,n){ve(t)&&n.delete(e)}function _e(){for(ie=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==ae&&ve(ae)&&(ae=null),null!==se&&ve(se)&&(se=null),null!==le&&ve(le)&&(le=null),ue.forEach(me),ce.forEach(me)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_e)))}function xe(t){function e(e){return be(e,t)}if(0<oe.length){be(oe[0],t);for(var n=1;n<oe.length;n++){var r=oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ae&&be(ae,t),null!==se&&be(se,t),null!==le&&be(le,t),ue.forEach(e),ce.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Ee(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var we={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionend:Ee("Transition","TransitionEnd")},Se={},Ce={};function Pe(t){if(Se[t])return Se[t];if(!we[t])return t;var e,n=we[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Se[t]=n[e];return t}f&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete we.animationend.animation,delete we.animationiteration.animation,delete we.animationstart.animation),"TransitionEvent"in window||delete we.transitionend.transition);var Oe=Pe("animationend"),Te=Pe("animationiteration"),Re=Pe("animationstart"),ke=Pe("transitionend"),De=new Map,Ie=new Map,Le=["abort","abort",Oe,"animationEnd",Te,"animationIteration",Re,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ke,"transitionEnd","waiting","waiting"];function Me(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ie.set(r,e),De.set(r,i),u(i,[r])}}(0,o.unstable_now)();var je=8;function Ae(t){if(0!=(1&t))return je=15,1;if(0!=(2&t))return je=14,2;if(0!=(4&t))return je=13,4;var e=24&t;return 0!==e?(je=12,e):0!=(32&t)?(je=11,32):0!=(e=192&t)?(je=10,e):0!=(256&t)?(je=9,256):0!=(e=3584&t)?(je=8,e):0!=(4096&t)?(je=7,4096):0!=(e=4186112&t)?(je=6,e):0!=(e=62914560&t)?(je=5,e):67108864&t?(je=4,67108864):0!=(134217728&t)?(je=3,134217728):0!=(e=805306368&t)?(je=2,e):0!=(1073741824&t)?(je=1,1073741824):(je=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return je=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=je=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=Ae(l),i=je):0!=(s&=o)&&(r=Ae(s),i=je)}else 0!=(o=n&~a)?(r=Ae(o),i=je):0!==s&&(r=Ae(s),i=je);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&a)){if(Ae(e),i<=je)return e;je=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function Ne(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ue(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Be(24&~e))?Ue(10,e):t;case 10:return 0===(t=Be(192&~e))?Ue(8,e):t;case 8:return 0===(t=Be(3584&~e))&&0===(t=Be(4186112&~e))&&(t=512),t;case 2:return 0===(e=Be(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Be(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ve(t)/He|0)|0},Ve=Math.log,He=Math.LN2,Xe=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,Ye=!0;function Ke(t,e,n,r){At||Mt();var i=Qe,o=At;At=!0;try{Lt(i,t,e,n,r)}finally{(At=o)||Nt()}}function Ze(t,e,n,r){qe(Xe,Qe.bind(null,t,e,n,r))}function Qe(t,e,n,r){var i;if(Ye)if((i=0==(4&e))&&0<oe.length&&-1<he.indexOf(t))t=pe(null,t,e,n,r),oe.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&de(t,r);else{if(i){if(-1<he.indexOf(t))return t=pe(o,t,e,n,r),void oe.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return ae=ye(ae,t,e,n,r,i),!0;case"dragenter":return se=ye(se,t,e,n,r,i),!0;case"mouseover":return le=ye(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ue.set(o,ye(ue.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,ye(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;de(t,r)}Mr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Ct(r);if(null!==(i=ei(i))){var o=Kt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Zt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(t,e,r,i,n),null}var $e=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in $e?$e.value:$e.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function on(){return!0}function an(){return!1}function sn(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),e}var ln,un,cn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),pn=i({},fn,{view:0,detail:0}),dn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(ln=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=ln=0,cn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:un}}),gn=sn(yn),vn=sn(i({},yn,{dataTransfer:0})),mn=sn(i({},pn,{relatedTarget:0})),_n=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=sn(bn),En=sn(i({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function On(){return Pn}var Tn=i({},pn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Rn=sn(Tn),kn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),In=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Ln),jn=[9,13,27,32],An=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Nn=f&&"TextEvent"in window&&!Fn,Un=f&&(!An||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),zn=!1;function Wn(t,e){switch(t){case"keyup":return-1!==jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,r){kt(r),0<(e=Ar(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yn=null,Kn=null;function Zn(t){Tr(t,0)}function Qn(t){if(Q(ri(t)))return t}function Jn(t,e){if("change"===t)return e}var $n=!1;if(f){var tr;if(f){var er="oninput"in document;if(!er){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),er="function"==typeof nr.oninput}tr=er}else tr=!1;$n=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",ir),Kn=Yn=null)}function ir(t){if("value"===t.propertyName&&Qn(Kn)){var e=[];if(qn(e,Kn,t,Ct(t)),t=Zn,At)t(e);else{At=!0;try{It(t,e)}finally{At=!1,Nt()}}}}function or(t,e,n){"focusin"===t?(rr(),Kn=n,(Yn=e).attachEvent("onpropertychange",ir)):"focusout"===t&&rr()}function ar(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Kn)}function sr(t,e){if("click"===t)return Qn(e)}function lr(t,e){if("input"===t||"change"===t)return Qn(e)}var ur="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},cr=Object.prototype.hasOwnProperty;function fr(t,e){if(ur(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(e,n[r])||!ur(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function yr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function gr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,mr=null,_r=null,br=null,xr=!1;function Er(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==J(r)||(r="selectionStart"in(r=mr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Ar(_r,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}Me("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Me("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Me(Le,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<wr.length;Sr++)Ie.set(wr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Or(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,u){if(Yt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var c=Vt;Gt=!1,Vt=null,Ht||(Ht=!0,Xt=c)}}(r,e,void 0,t),t.currentTarget=null}function Tr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Or(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Or(i,s,u),o=l}}}if(Ht)throw t=Xt,Ht=!1,Xt=null,t}function Rr(t,e){var n=oi(e),r=t+"__bubble";n.has(r)||(Lr(e,t,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Dr(t){t[kr]||(t[kr]=!0,s.forEach((function(e){Pr.has(e)||Ir(e,!1,t,null),Ir(e,!0,t,null)})))}function Ir(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Pr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=oi(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Lr(o,t,i,e),a.add(s))}function Lr(t,e,n,r){var i=Ie.get(e);switch(void 0===i?2:i){case 0:i=Ke;break;case 1:i=Ze;break;default:i=Qe}n=i.bind(null,e,n,t),i=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{jt(t,e,n)}finally{Ft=!1,Nt()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=De.get(t);if(void 0!==s){var l=hn,u=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Oe:case Te:case Re:l=_n;break;case ke:l=In;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var c=0!=(4&e),f=!c&&"scroll"===t,h=c?null!==s?s+"Capture":null:s;c=[];for(var p,d=r;null!==d;){var y=(p=d).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==h&&null!=(y=Ut(d,h))&&c.push(jr(d,y,p))),f)break;d=d.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(f=Kt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,y="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=kn,y="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==l?s:ri(l),p=null==u?s:ri(u),(s=new c(y,d+"leave",l,n,i)).target=f,s.relatedTarget=p,y=null,ei(i)===r&&((c=new c(h,d+"enter",u,n,i)).target=p,c.relatedTarget=f,y=c),f=y,l&&u)t:{for(h=u,d=0,p=c=l;p;p=Fr(p))d++;for(p=0,y=h;y;y=Fr(y))p++;for(;0<d-p;)c=Fr(c),d--;for(;0<p-d;)h=Fr(h),p--;for(;d--;){if(c===h||null!==h&&c===h.alternate)break t;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==l&&Nr(a,s,l,c,!1),null!==u&&null!==f&&Nr(a,f,u,c,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Xn(s))if($n)g=lr;else{g=ar;var v=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(t,r))?qn(a,g,n,i):(v&&v(t,s,r),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&it(s,"number",s.value)),v=r?ri(r):window,t){case"focusin":(Xn(v)||"true"===v.contentEditable)&&(mr=v,_r=r,br=null);break;case"focusout":br=_r=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Er(a,n,i)}var m;if(An)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Vn?Wn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(m=nn()):(tn="value"in($e=i)?$e.value:$e.textContent,Vn=!0)),0<(v=Ar(r,_)).length&&(_=new En(_,t,null,n,i),a.push({event:_,listeners:v}),(m||null!==(m=Gn(n)))&&(_.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return Gn(e);case"keypress":return 32!==e.which?null:(zn=!0,Bn);case"textInput":return(t=e.data)===Bn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!An&&Wn(t,e)?(t=nn(),en=tn=$e=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Un&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=Ar(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m)}Tr(a,e)}))}function jr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ar(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ut(t,n))&&r.unshift(jr(t,o,i)),null!=(o=Ut(t,e))&&r.push(jr(t,o,i))),t=t.return}return r}function Fr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ut(n,o))&&a.unshift(jr(n,l,s)):i||null!=(l=Ut(n,o))&&a.push(jr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Ur(){}var Br=null,zr=null;function Wr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function Xr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function qr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0,Zr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Zr,Jr="__reactProps$"+Zr,$r="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ei(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[Qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Yr(t);null!==t;){if(n=t[Qr])return n;t=Yr(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Qr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ii(t){return t[Jr]||null}function oi(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var ai=[],si=-1;function li(t){return{current:t}}function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ci(t,e){si++,ai[si]=t.current,t.current=e}var fi={},hi=li(fi),pi=li(!1),di=fi;function yi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gi(t){return null!=t.childContextTypes}function vi(){ui(pi),ui(hi)}function mi(t,e,n){if(hi.current!==fi)throw Error(a(168));ci(hi,e),ci(pi,n)}function _i(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,q(e)||"Unknown",o));return i({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,di=hi.current,ci(hi,t),ci(pi,pi.current),!0}function xi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=_i(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,ui(pi),ui(hi),ci(hi,t)):ui(pi),ci(pi,n)}var Ei=null,wi=null,Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ri=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ai={},Fi=void 0!==Ti?Ti:function(){},Ni=null,Ui=null,Bi=!1,zi=Ri(),Wi=1e4>zi?Ri:function(){return Ri()-zi};function Gi(){switch(ki()){case Di:return 99;case Ii:return 98;case Li:return 97;case Mi:return 96;case ji:return 95;default:throw Error(a(332))}}function Vi(t){switch(t){case 99:return Di;case 98:return Ii;case 97:return Li;case 96:return Mi;case 95:return ji;default:throw Error(a(332))}}function Hi(t,e){return t=Vi(t),Si(t,e)}function Xi(t,e,n){return t=Vi(t),Ci(t,e,n)}function qi(){if(null!==Ui){var t=Ui;Ui=null,Pi(t)}Yi()}function Yi(){if(!Bi&&null!==Ni){Bi=!0;var t=0;try{var e=Ni;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),Ci(Di,qi),e}finally{Bi=!1}}}var Ki=x.ReactCurrentBatchConfig;function Zi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Qi=li(null),Ji=null,$i=null,to=null;function eo(){to=$i=Ji=null}function no(t){var e=Qi.current;ui(Qi),t.type._context._currentValue=e}function ro(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function io(t,e){Ji=t,to=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Aa=!0),t.firstContext=null)}function oo(t,e){if(to!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(to=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Ji)throw Error(a(308));$i=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var ao=!1;function so(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function co(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var o=t.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var f=t.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=u)}}if(null!==a){for(h=o.baseState,s=0,f=c=u=null;;){l=a.lane;var p=a.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,y=a;switch(l=e,p=n,y.tag){case 1:if("function"==typeof(d=y.payload)){h=d.call(p,h,l);break t}h=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(l="function"==typeof(d=y.payload)?d.call(p,h,l):d))break t;h=i({},h,l);break t;case 2:ao=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=p,u=h):f=f.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===f&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Ns|=s,t.lanes=s,t.memoizedState=h}}function po(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function go(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternals)&&Kt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.payload=e,null!=n&&(o.callback=n),co(t,o),fl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=cl(t),o=uo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),co(t,o),fl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=cl(t),i=uo(n,r);i.tag=2,null!=e&&(i.callback=e),co(t,i),fl(t,r,n)}};function mo(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&fr(n,r)&&fr(i,o))}function _o(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(e)?di:hi.current,o=(r=null!=(r=e.contextTypes))?yi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function xo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yo,so(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(e)?di:hi.current,i.context=yi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(go(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var Eo=Array.isArray;function wo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===yo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Gl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=ql(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=wo(t,e,n),r.return=t,r):((r=Vl(n.type,n.key,n.props,null,t.mode,r)).ref=wo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Hl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=ql(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case E:return(n=Vl(e.type,e.key,e.props,null,t.mode,n)).ref=wo(t,null,e),n.return=t,n;case w:return(e=Yl(e,t.mode,n)).return=t,e}if(Eo(e)||W(e))return(e=Hl(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?f(t,e,n.props.children,r,i):u(t,e,n,r):null;case w:return n.key===i?c(t,e,n,r):null}if(Eo(n)||W(n))return null!==i?null:f(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===S?f(e,t,r.props.children,i,r.key):u(e,t,r,i);case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||W(r))return f(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function y(i,a,s,l){for(var u=null,c=null,f=a,y=a=0,g=null;null!==f&&y<s.length;y++){f.index>y?(g=f,f=null):g=f.sibling;var v=p(i,f,s[y],l);if(null===v){null===f&&(f=g);break}t&&f&&null===v.alternate&&e(i,f),a=o(v,a,y),null===c?u=v:c.sibling=v,c=v,f=g}if(y===s.length)return n(i,f),u;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],l))&&(a=o(f,a,y),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);y<s.length;y++)null!==(g=d(f,i,y,s[y],l))&&(t&&null!==g.alternate&&f.delete(null===g.key?y:g.key),a=o(g,a,y),null===c?u=g:c.sibling=g,c=g);return t&&f.forEach((function(t){return e(i,t)})),u}function g(i,s,l,u){var c=W(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,y=s,g=s=0,v=null,m=l.next();null!==y&&!m.done;g++,m=l.next()){y.index>g?(v=y,y=null):v=y.sibling;var _=p(i,y,m.value,u);if(null===_){null===y&&(y=v);break}t&&y&&null===_.alternate&&e(i,y),s=o(_,s,g),null===f?c=_:f.sibling=_,f=_,y=v}if(m.done)return n(i,y),c;if(null===y){for(;!m.done;g++,m=l.next())null!==(m=h(i,m.value,u))&&(s=o(m,s,g),null===f?c=m:f.sibling=m,f=m);return c}for(y=r(i,y);!m.done;g++,m=l.next())null!==(m=d(y,i,g,m.value,u))&&(t&&null!==m.alternate&&y.delete(null===m.key?g:m.key),s=o(m,s,g),null===f?c=m:f.sibling=m,f=m);return t&&y.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"==typeof o&&null!==o&&o.type===S&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case E:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===S){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}}else if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=wo(t,u,o),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===S?((r=Hl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Vl(o.type,o.key,o.props,null,t.mode,l)).ref=wo(t,r,o),l.return=t,t=l)}return s(t);case w:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=ql(o,t.mode,l)).return=t,t=r),s(t);if(Eo(o))return y(t,r,o,l);if(W(o))return g(t,r,o,l);if(c&&So(t,o),void 0===o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,q(t.type)||"Component"))}return n(t,r)}}var Po=Co(!0),Oo=Co(!1),To={},Ro=li(To),ko=li(To),Do=li(To);function Io(t){if(t===To)throw Error(a(174));return t}function Lo(t,e){switch(ci(Do,e),ci(ko,t),ci(Ro,To),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(Ro),ci(Ro,e)}function Mo(){ui(Ro),ui(ko),ui(Do)}function jo(t){Io(Do.current);var e=Io(Ro.current),n=pt(e,t.type);e!==n&&(ci(ko,t),ci(Ro,n))}function Ao(t){ko.current===t&&(ui(Ro),ui(ko))}var Fo=li(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=null,Bo=null,zo=!1;function Wo(t,e){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Go(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Vo(t){if(zo){var e=Bo;if(e){var n=e;if(!Go(t,e)){if(!(e=qr(n.nextSibling))||!Go(t,e))return t.flags=-1025&t.flags|2,zo=!1,void(Uo=t);Wo(Uo,n)}Uo=t,Bo=qr(e.firstChild)}else t.flags=-1025&t.flags|2,zo=!1,Uo=t}}function Ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Uo=t}function Xo(t){if(t!==Uo)return!1;if(!zo)return Ho(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Gr(e,t.memoizedProps))for(e=Bo;e;)Wo(t,e),e=qr(e.nextSibling);if(Ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Bo=qr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Bo=null}}else Bo=Uo?qr(t.stateNode.nextSibling):null;return!0}function qo(){Bo=Uo=null,zo=!1}var Yo=[];function Ko(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Zo=x.ReactCurrentDispatcher,Qo=x.ReactCurrentBatchConfig,Jo=0,$o=null,ta=null,ea=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function aa(t,e,n,r,i,o){if(Jo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=null===t||null===t.memoizedState?Ia:La,t=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ea=ta=null,e.updateQueue=null,Zo.current=Ma,t=n(r,i)}while(ra)}if(Zo.current=Da,e=null!==ta&&null!==ta.next,Jo=0,ea=ta=$o=null,na=!1,e)throw Error(a(300));return t}function sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?$o.memoizedState=ea=t:ea=ea.next=t,ea}function la(){if(null===ta){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=ta.next;var e=null===ea?$o.memoizedState:ea.next;if(null!==e)ea=e,ta=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ta=t).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ea?$o.memoizedState=ea=t:ea=ea.next=t}return ea}function ua(t,e){return"function"==typeof e?e(t):e}function ca(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,$o.lanes|=c,Ns|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ur(r,e.memoizedState)||(Aa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);ur(o,e.memoizedState)||(Aa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Yo.push(e))),t)return n(e._source);throw Yo.push(e),Error(a(350))}function pa(t,e,n,r){var i=ks;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Zo.current,u=l.useState((function(){return ha(i,e,n)})),c=u[1],f=u[0];u=ea;var h=t.memoizedState,p=h.refs,d=p.getSnapshot,y=h.source;h=h.subscribe;var g=$o;return t.memoizedState={refs:p,source:e,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var t=o(e._source);if(!ur(s,t)){t=n(e._source),ur(f,t)||(c(t),t=cl(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-Ge(a),u=1<<l;r[l]|=t,a&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),ur(d,n)&&ur(y,e)&&ur(h,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:f}).dispatch=c=ka.bind(null,$o,t),u.queue=t,u.baseQueue=null,f=ha(i,e,n),u.memoizedState=u.baseState=f),f}function da(t,e,n){return pa(la(),t,e,n)}function ya(t){var e=sa();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t}).dispatch=ka.bind(null,$o,t),[e.memoizedState,t]}function ga(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function va(t){return t={current:t},sa().memoizedState=t}function ma(){return la().memoizedState}function _a(t,e,n,r){var i=sa();$o.flags|=t,i.memoizedState=ga(1|e,n,void 0,void 0===r?null:r)}function ba(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ga(e,n,o,r)}$o.flags|=t,i.memoizedState=ga(1|e,n,o,r)}function xa(t,e){return _a(516,4,t,e)}function Ea(t,e){return ba(516,4,t,e)}function wa(t,e){return ba(4,2,t,e)}function Sa(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(t,e,n){return n=null!=n?n.concat([t]):null,ba(4,2,Sa.bind(null,e,t),n)}function Pa(){}function Oa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&oa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ra(t,e){var n=Gi();Hi(98>n?98:n,(function(){t(!0)})),Hi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{t(!1),e()}finally{Qo.transition=n}}))}function ka(t,e,n){var r=ul(),i=cl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ra=na=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(t){}fl(t,i,r)}}var Da={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ia={readContext:oo,useCallback:function(t,e){return sa().memoizedState=[t,void 0===e?null:e],t},useContext:oo,useEffect:xa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,_a(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=sa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ka.bind(null,$o,t),[r.memoizedState,t]},useRef:va,useState:ya,useDebugValue:Pa,useDeferredValue:function(t){var e=ya(t),n=e[0],r=e[1];return xa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ya(!1),e=t[0];return va(t=Ra.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=sa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},pa(r,t,e,n)},useOpaqueIdentifier:function(){if(zo){var t=!1,e=function(t){return{$$typeof:j,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=ya(e)[1];return 0==(2&$o.mode)&&($o.flags|=516,ga(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return ya(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},La={readContext:oo,useCallback:Oa,useContext:oo,useEffect:Ea,useImperativeHandle:Ca,useLayoutEffect:wa,useMemo:Ta,useReducer:ca,useRef:ma,useState:function(){return ca(ua)},useDebugValue:Pa,useDeferredValue:function(t){var e=ca(ua),n=e[0],r=e[1];return Ea((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ca(ua)[0];return[ma().current,t]},useMutableSource:da,useOpaqueIdentifier:function(){return ca(ua)[0]},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:Oa,useContext:oo,useEffect:Ea,useImperativeHandle:Ca,useLayoutEffect:wa,useMemo:Ta,useReducer:fa,useRef:ma,useState:function(){return fa(ua)},useDebugValue:Pa,useDeferredValue:function(t){var e=fa(ua),n=e[0],r=e[1];return Ea((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ua)[0];return[ma().current,t]},useMutableSource:da,useOpaqueIdentifier:function(){return fa(ua)[0]},unstable_isNewReconciler:!1},ja=x.ReactCurrentOwner,Aa=!1;function Fa(t,e,n,r){e.child=null===t?Oo(e,null,n,r):Po(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=aa(t,e,n,r,o,i),null===t||Aa?(e.flags|=1,Fa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ua(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Vl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ba(t,e,a,r,i,o))}return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Gl(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ba(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(Aa=!1,0==(o&i))return e.lanes=t.lanes,ns(t,e,o);0!=(16384&t.flags)&&(Aa=!0)}return Ga(t,e,n,r,o)}function za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},_l(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_l(0,t),null;e.memoizedState={baseLanes:0},_l(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,_l(0,r);return Fa(t,e,i,n),e.child}function Wa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ga(t,e,n,r,i){var o=gi(n)?di:hi.current;return o=yi(e,o),io(e,i),n=aa(t,e,n,r,o,i),null===t||Aa?(e.flags|=1,Fa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Va(t,e,n,r,i){if(gi(n)){var o=!0;bi(e)}else o=!1;if(io(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),_o(e,n,r),xo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):yi(e,u=gi(n)?di:hi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(e,a,r,u),ao=!1;var h=e.memoizedState;a.state=h,ho(e,r,a,i),l=e.memoizedState,s!==r||h!==l||pi.current||ao?("function"==typeof c&&(go(e,n,c,r),l=e.memoizedState),(s=ao||mo(e,n,s,r,h,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Zi(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):yi(e,l=gi(n)?di:hi.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||h!==l)&&bo(e,a,r,l),ao=!1,h=e.memoizedState,a.state=h,ho(e,r,a,i);var d=e.memoizedState;s!==f||h!==d||pi.current||ao?("function"==typeof p&&(go(e,n,p,r),d=e.memoizedState),(u=ao||mo(e,n,u,r,h,d,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return Ha(t,e,n,r,o,i)}function Ha(t,e,n,r,i,o){Wa(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&xi(e,n,!1),ns(t,e,o);r=e.stateNode,ja.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Po(e,t.child,null,o),e.child=Po(e,null,s,o)):Fa(t,e,s,o),e.memoizedState=r.state,i&&xi(e,n,!0),e.child}function Xa(t){var e=t.stateNode;e.pendingContext?mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mi(0,e.context,!1),Lo(t,e.containerInfo)}var qa,Ya,Ka,Za={dehydrated:null,retryLane:0};function Qa(t,e,n){var r,i=e.pendingProps,o=Fo.current,a=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===t?(void 0!==i.fallback&&Vo(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Za,e.lanes=33554432,t):((n=Xl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=function(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gl(a,s),null!==t?r=Gl(t,r):(r=Hl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Za,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=Gl(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Xl(e,i,0,null),n=Hl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),ro(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(t,e,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&$a(t,n);else if(19===t.tag)$a(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Fo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Gl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Gl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(e.type)&&vi(),null;case 3:return Mo(),ui(pi),ui(hi),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Xo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Ao(e);var o=Io(Do.current);if(n=e.type,null!==t&&null!=e.stateNode)Ya(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Io(Ro.current),Xo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[Jr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(t=0;t<Cr.length;t++)Rr(Cr[t],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":tt(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":lt(r,s),Rr("invalid",r)}for(var u in wt(n,s),t=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Rr("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),ct(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Qr]=e,t[Jr]=r,qa(t,e),e.stateNode=t,u=St(n,r),n){case"dialog":Rr("cancel",t),Rr("close",t),o=r;break;case"iframe":case"object":case"embed":Rr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Rr(Cr[o],t);o=r;break;case"source":Rr("error",t),o=r;break;case"img":case"image":case"link":Rr("error",t),Rr("load",t),o=r;break;case"details":Rr("toggle",t),o=r;break;case"input":tt(t,r),o=$(t,r),Rr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Rr("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Rr("invalid",t);break;default:o=r}wt(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?xt(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&gt(t,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&vt(t,f):"number"==typeof f&&vt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rr("scroll",t):null!=f&&b(t,s,f,u))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Y(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Ur)}Wr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(a(166));n=Io(Do.current),Io(Ro.current),Xo(e)?(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=e,e.stateNode=r)}return null;case 13:return ui(Fo),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Xo(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===ks||0==(134217727&Ns)&&0==(134217727&Us)||yl(ks,Is))),(r||n)&&(e.flags|=4),null);case 4:return Mo(),null===t&&Dr(e.stateNode.containerInfo),null;case 10:return no(e),null;case 19:if(ui(Fo),null===(r=e.memoizedState))return null;if(s=0!=(64&e.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=No(t))){for(e.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),e.child}t=t.sibling}null!==r.tail&&Wi()>Gs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=No(u))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Gs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,e=Fo.current,ci(Fo,s?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:gi(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Mo(),ui(pi),ui(hi),Ko(),0!=(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Ao(t),null;case 13:return ui(Fo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ui(Fo),null;case 4:return Mo(),null;case 10:return no(t),null;case 23:case 24:return bl(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=X(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Io(Ro.current);var a,s=null;switch(n){case"input":o=$(t,o),r=$(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Ur)}for(f in wt(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var u=o[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Rr("scroll",t),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===j?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(t,e,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qs||(qs=!0,Ys=r),ss(0,e)},n}function cs(t,e,n){(n=uo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var fs="function"==typeof WeakSet?WeakSet:Set;function hs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Fl(t,e)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Xr(e.stateNode.containerInfo))}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ml(n,t),Ll(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&po(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}po(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Wr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xe(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(t,e){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(Ei,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ml(e,n);else{r=e;try{i()}catch(t){Fl(r,t)}}n=n.next}while(n!==t)}break;case 1:if(hs(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fl(e,t)}break;case 5:hs(e);break;case 4:Es(t,e)}}function vs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(vt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?bs(t,n,e):xs(t,n,e)}function bs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Ur));else if(4!==r&&null!==(t=t.child))for(bs(t,e,n),t=t.sibling;null!==t;)bs(t,e,n),t=t.sibling}function xs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(xs(t,e,n),t=t.sibling;null!==t;)xs(t,e,n),t=t.sibling}function Es(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,u=l;;)if(gs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?xt(n,l):"dangerouslySetInnerHTML"===s?gt(n,l):"children"===s?vt(n,l):b(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,xe(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ws=Wi(),ys(e.child,!0)),void Ss(e);case 19:return void Ss(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Ss(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new fs),e.forEach((function(e){var r=Ul.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Ps=Math.ceil,Os=x.ReactCurrentDispatcher,Ts=x.ReactCurrentOwner,Rs=0,ks=null,Ds=null,Is=0,Ls=0,Ms=li(0),js=0,As=null,Fs=0,Ns=0,Us=0,Bs=0,zs=null,Ws=0,Gs=1/0;function Vs(){Gs=Wi()+500}var Hs,Xs=null,qs=!1,Ys=null,Ks=null,Zs=!1,Qs=null,Js=90,$s=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!=(48&Rs)?Wi():-1!==il?il:il=Wi()}function cl(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Gi()?1:2;if(0===ol&&(ol=Fs),0!==Ki.transition){0!==al&&(al=null!==zs?zs.pendingLanes:0),t=ol;var e=4186112&~al;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Gi(),t=Ue(0!=(4&Rs)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol)}function fl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(t=hl(t,e)))return null;We(t,e,n),t===ks&&(Us|=e,4===js&&yl(t,Is));var r=Gi();1===e?0!=(8&Rs)&&0==(48&Rs)?gl(t):(pl(t,n),0===Rs&&(Vs(),qi())):(0==(4&Rs)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),pl(t,n)),zs=t}function hl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ge(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=e,Ae(u);var f=je;o[l]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);s&=~u}if(r=Fe(t,t===ks?Is:0),e=je,0===r)null!==n&&(n!==Ai&&Pi(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ai&&Pi(n)}15===e?(n=gl.bind(null,t),null===Ni?(Ni=[n],Ui=Ci(Di,Yi)):Ni.push(n),n=Ai):14===e?n=Xi(99,gl.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Xi(n,dl.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function dl(t){if(il=-1,al=ol=0,0!=(48&Rs))throw Error(a(327));var e=t.callbackNode;if(Il()&&t.callbackNode!==e)return null;var n=Fe(t,t===ks?Is:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=wl();for(ks===t&&Is===r||(Vs(),xl(t,r));;)try{Pl();break}catch(e){El(t,e)}if(eo(),Os.current=o,Rs=i,null!==Ds?r=0:(ks=null,Is=0,r=js),0!=(Fs&Us))xl(t,0);else if(0!==r){if(2===r&&(Rs|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(n=Ne(t))&&(r=Sl(t,n))),1===r)throw e=As,xl(t,0),yl(t,n),pl(t,Wi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Rl(t);break;case 3:if(yl(t,n),(62914560&n)===n&&10<(r=Ws+500-Wi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vr(Rl.bind(null,t),r);break}Rl(t);break;case 4:if(yl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){t.timeoutHandle=Vr(Rl.bind(null,t),n);break}Rl(t);break;default:throw Error(a(329))}}return pl(t,Wi()),t.callbackNode===e?dl.bind(null,t):null}function yl(t,e){for(e&=~Bs,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function gl(t){if(0!=(48&Rs))throw Error(a(327));if(Il(),t===ks&&0!=(t.expiredLanes&Is)){var e=Is,n=Sl(t,e);0!=(Fs&Us)&&(n=Sl(t,e=Fe(t,e)))}else n=Sl(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Rs|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(e=Ne(t))&&(n=Sl(t,e))),1===n)throw n=As,xl(t,0),yl(t,e),pl(t,Wi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rl(t),pl(t,Wi()),null}function vl(t,e){var n=Rs;Rs|=1;try{return t(e)}finally{0===(Rs=n)&&(Vs(),qi())}}function ml(t,e){var n=Rs;Rs&=-2,Rs|=8;try{return t(e)}finally{0===(Rs=n)&&(Vs(),qi())}}function _l(t,e){ci(Ms,Ls),Ls|=e,Fs|=e}function bl(){Ls=Ms.current,ui(Ms)}function xl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Mo(),ui(pi),ui(hi),Ko();break;case 5:Ao(r);break;case 4:Mo();break;case 13:case 19:ui(Fo);break;case 10:no(r);break;case 23:case 24:bl()}n=n.return}ks=t,Ds=Gl(t.current,null),Is=Ls=Fs=e,js=0,As=null,Bs=Us=Ns=0}function El(t,e){for(;;){var n=Ds;try{if(eo(),Zo.current=Da,na){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ea=ta=$o=null,ra=!1,Ts.current=null,null===n||null===n.return){js=1,As=e,Ds=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Fo.current),h=a;do{var p;if(p=13===h.tag){var d=h.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var y=h.memoizedProps;p=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(p){var g=h.updateQueue;if(null===g){var v=new Set;v.add(u),h.updateQueue=v}else g.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=uo(-1,1);m.tag=2,co(s,m)}s.lanes|=1;break t}l=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Nl.bind(null,o,u,s);u.then(b,b)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);l=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),l=as(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,e&=-e,h.lanes|=e,fo(h,us(0,o,e));break t;case 1:o=l;var x=h.type,E=h.stateNode;if(0==(64&h.flags)&&("function"==typeof x.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ks||!Ks.has(E)))){h.flags|=4096,e&=-e,h.lanes|=e,fo(h,cs(h,o,e));break t}}h=h.return}while(null!==h)}Tl(n)}catch(t){e=t,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function wl(){var t=Os.current;return Os.current=Da,null===t?Da:t}function Sl(t,e){var n=Rs;Rs|=16;var r=wl();for(ks===t&&Is===e||xl(t,e);;)try{Cl();break}catch(e){El(t,e)}if(eo(),Rs=n,Os.current=r,null!==Ds)throw Error(a(261));return ks=null,Is=0,js}function Cl(){for(;null!==Ds;)Ol(Ds)}function Pl(){for(;null!==Ds&&!Oi();)Ol(Ds)}function Ol(t){var e=Hs(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,null===e?Tl(t):Ds=e,Ts.current=null}function Tl(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=is(n,e,Ls)))return void(Ds=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ls)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(Ds=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ds=e);Ds=e=t}while(null!==e);0===js&&(js=5)}function Rl(t){var e=Gi();return Hi(99,kl.bind(null,t,e)),null}function kl(t,e){do{Il()}while(null!==Qs);if(0!=(48&Rs))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-Ge(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==el&&0==(24&r)&&el.has(t)&&el.delete(t),t===ks&&(Ds=ks=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ts.current=null,Br=Ye,gr(s=yr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var f=0,h=-1,p=-1,d=0,y=0,g=s,v=null;e:for(;;){for(var m;g!==l||0!==o&&3!==g.nodeType||(h=f+o),g!==u||0!==c&&3!==g.nodeType||(p=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)v=g,g=m;for(;;){if(g===s)break e;if(v===l&&++d===o&&(h=f),v===u&&++y===c&&(p=f),null!==(m=g.nextSibling))break;v=(g=v).parentNode}g=m}l=-1===h||-1===p?null:{start:h,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:s,selectionRange:l},Ye=!1,sl=null,ll=!1,Xs=r;do{try{Dl()}catch(t){if(null===Xs)throw Error(a(330));Fl(Xs,t),Xs=Xs.nextEffect}}while(null!==Xs);sl=null,Xs=r;do{try{for(s=t;null!==Xs;){var _=Xs.flags;if(16&_&&vt(Xs.stateNode,""),128&_){var b=Xs.alternate;if(null!==b){var x=b.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&_){case 2:_s(Xs),Xs.flags&=-3;break;case 6:_s(Xs),Xs.flags&=-3,ws(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,ws(Xs.alternate,Xs);break;case 4:ws(Xs.alternate,Xs);break;case 8:Es(s,l=Xs);var E=l.alternate;vs(l),null!==E&&vs(E)}Xs=Xs.nextEffect}}catch(t){if(null===Xs)throw Error(a(330));Fl(Xs,t),Xs=Xs.nextEffect}}while(null!==Xs);if(x=zr,b=yr(),_=x.focusedElem,s=x.selectionRange,b!==_&&_&&_.ownerDocument&&dr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(x=s.end)&&(x=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(x,_.value.length)):(x=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),l=_.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!x.extend&&E>s&&(l=s,s=E,E=l),l=pr(_,E),o=pr(_,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),E>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=_;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(x=b[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ye=!!Br,zr=Br=null,t.current=n,Xs=r;do{try{for(_=t;null!==Xs;){var w=Xs.flags;if(36&w&&ds(_,Xs.alternate,Xs),128&w){b=void 0;var S=Xs.ref;if(null!==S){var C=Xs.stateNode;Xs.tag,b=C,"function"==typeof S?S(b):S.current=b}}Xs=Xs.nextEffect}}catch(t){if(null===Xs)throw Error(a(330));Fl(Xs,t),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Fi(),Rs=i}else t.current=n;if(Zs)Zs=!1,Qs=t,Js=e;else for(Xs=r;null!==Xs;)e=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((w=Xs).sibling=null,w.stateNode=null),Xs=e;if(0===(r=t.pendingLanes)&&(Ks=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(t){}if(pl(t,Wi()),qs)throw qs=!1,t=Ys,Ys=null,t;return 0!=(8&Rs)||qi(),null}function Dl(){for(;null!==Xs;){var t=Xs.alternate;ll||null===sl||(0!=(8&Xs.flags)?$t(Xs,sl)&&(ll=!0):13===Xs.tag&&Cs(t,Xs)&&$t(Xs,sl)&&(ll=!0));var e=Xs.flags;0!=(256&e)&&ps(t,Xs),0==(512&e)||Zs||(Zs=!0,Xi(97,(function(){return Il(),null}))),Xs=Xs.nextEffect}}function Il(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Hi(t,jl)}return!1}function Ll(t,e){$s.push(e,t),Zs||(Zs=!0,Xi(97,(function(){return Il(),null})))}function Ml(t,e){tl.push(e,t),Zs||(Zs=!0,Xi(97,(function(){return Il(),null})))}function jl(){if(null===Qs)return!1;var t=Qs;if(Qs=null,0!=(48&Rs))throw Error(a(331));var e=Rs;Rs|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===o)throw Error(a(330));Fl(o,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Rs=e,qi(),!0}function Al(t,e,n){co(t,e=us(0,e=as(n,e),1)),e=ul(),null!==(t=hl(t,1))&&(We(t,1,e),pl(t,e))}function Fl(t,e){if(3===t.tag)Al(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Al(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=cs(n,t=as(e,t),1);if(co(n,i),i=ul(),null!==(n=hl(n,1)))We(n,1,i),pl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Nl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,ks===t&&(Is&n)===n&&(4===js||3===js&&(62914560&Is)===Is&&500>Wi()-Ws?xl(t,0):Bs|=n),pl(t,e)}function Ul(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Gi()?1:2:(0===ol&&(ol=Fs),0===(e=Be(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=hl(t,e))&&(We(t,e,n),pl(t,n))}function Bl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(t,e,n,r){return new Bl(t,e,n,r)}function Wl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Gl(t,e){var n=t.alternate;return null===n?((n=zl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Wl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case S:return Hl(n.children,i,o,e);case A:s=8,i|=16;break;case C:s=8,i|=1;break;case P:return(t=zl(12,n,e,8|i)).elementType=P,t.type=P,t.lanes=o,t;case k:return(t=zl(13,n,e,i)).type=k,t.elementType=k,t.lanes=o,t;case D:return(t=zl(19,n,e,i)).elementType=D,t.lanes=o,t;case F:return Xl(n,i,o,e);case N:return(t=zl(24,n,e,i)).elementType=N,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case O:s=10;break t;case T:s=9;break t;case R:s=11;break t;case I:s=14;break t;case L:s=16,r=null;break t;case M:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=zl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Hl(t,e,n,r){return(t=zl(7,t,r,e)).lanes=n,t}function Xl(t,e,n,r){return(t=zl(23,t,r,e)).elementType=F,t.lanes=n,t}function ql(t,e,n){return(t=zl(6,t,null,e)).lanes=n,t}function Yl(t,e,n){return(e=zl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Zl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ql(t,e,n,r){var i=e.current,o=ul(),s=cl(i);t:if(n){e:{if(Kt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=_i(n,u,l);break t}}n=l}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=uo(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),co(i,e),fl(i,s,o),s}function Jl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $l(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){$l(t,e),(t=t.alternate)&&$l(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(t,e,null!=n&&!0===n.hydrate),e=zl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,so(e),t[$r]=n.current,Dr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Jl(a);s.call(t)}}Ql(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Jl(a);l.call(t)}}ml((function(){Ql(e,a,t,i)}))}return Jl(a)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(a(200));return Zl(t,e,null,n)}Hs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Aa=!0;else{if(0==(n&r)){switch(Aa=!1,e.tag){case 3:Xa(e),qo();break;case 5:jo(e);break;case 1:gi(e.type)&&bi(e);break;case 4:Lo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ci(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Qa(t,e,n):(ci(Fo,1&Fo.current),null!==(e=ns(t,e,n))?e.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Fo,Fo.current),r)break;return null;case 23:case 24:return e.lanes=0,za(t,e,n)}return ns(t,e,n)}Aa=0!=(16384&t.flags)}else Aa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=yi(e,hi.current),io(e,n),i=aa(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(e);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternals=e,xo(e,r,t,n),e=Ha(null,e,r,!0,o,n)}else e.tag=0,Fa(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Wl(t)?1:0;if(null!=t){if((t=t.$$typeof)===R)return 11;if(t===I)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=Ga(null,e,i,t,n);break t;case 1:e=Va(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=Ua(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ga(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Va(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(Xa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)qo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Bo=qr(e.stateNode.containerInfo.firstChild),Uo=e,o=zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Yo.push(o);for(n=Oo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(t,e,r,n),qo();e=e.child}return e;case 5:return jo(e),null===t&&Vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(e.flags|=16),Wa(t,e),Fa(t,e,s,n),e.child;case 6:return null===t&&Vo(e),null;case 13:return Qa(t,e,n);case 4:return Lo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Po(e,null,r,n):Fa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return Fa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(ci(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){e=ns(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,io(e,n),r=r(i=oo(i,o.unstable_observedBits)),e.flags|=1,Fa(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),Ua(t,e,i,o=Zi(i.type,o),r,n);case 15:return Ba(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gi(r)?(t=!0,bi(e)):t=!1,io(e,n),_o(e,r,i),xo(e,r,i,n),Ha(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return za(t,e,n)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){Ql(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,(function(){e[$r]=null}))},te=function(t){13===t.tag&&(fl(t,4,ul()),tu(t,4))},ee=function(t){13===t.tag&&(fl(t,67108864,ul()),tu(t,67108864))},ne=function(t){if(13===t.tag){var e=ul(),n=cl(t);fl(t,n,e),tu(t,n)}},re=function(t,e){return e()},Pt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ii(r);if(!i)throw Error(a(90));Q(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},It=vl,Lt=function(t,e,n,r,i){var o=Rs;Rs|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Rs=o)&&(Vs(),qi())}},Mt=function(){0==(49&Rs)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pl(t,Wi())}))}qi()}(),Il())},jt=function(t,e){var n=Rs;Rs|=2;try{return t(e)}finally{0===(Rs=n)&&(Vs(),qi())}};var ou={Events:[ni,ri,ii,kt,Dt,Il,{current:!1}]},au={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Ei=lu.inject(su),wi=lu}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Rs;if(0!=(48&n))return t(e);Rs|=1;try{if(t)return Hi(99,t.bind(null,e))}finally{Rs=n,qi()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(a(40));return!!t._reactRootContainer&&(ml((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=vl,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ru(t,e,n,!1,r)},e.version="17.0.2"},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},5668:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=y(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=d(n(5697)),a=d(n(3935)),s=d(n(6010)),l=n(1825),u=n(2849),c=n(9280),f=d(n(783)),h=d(n(5904)),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(t){return t&&t.__esModule?t:{default:t}}function y(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(y=function(t){return t?n:e})(t)}function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g.apply(this,arguments)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function E(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(y,t);var e,n,r,o,c,d=(o=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(o);if(c){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return E(this,t)});function y(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),C(w(e=d.call(this,t)),"onDragStart",(function(t,n){if((0,h.default)("Draggable: onDragStart: %j",n),!1===e.props.onStart(t,(0,u.createDraggableData)(w(e),n)))return!1;e.setState({dragging:!0,dragged:!0})})),C(w(e),"onDrag",(function(t,n){if(!e.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",n);var r,i,o=(0,u.createDraggableData)(w(e),n),a={x:o.x,y:o.y};if(e.props.bounds){var s=a.x,l=a.y;a.x+=e.state.slackX,a.y+=e.state.slackY;var c=(r=(0,u.getBoundPosition)(w(e),a.x,a.y),i=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(r,i)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],p=c[1];a.x=f,a.y=p,a.slackX=e.state.slackX+(s-a.x),a.slackY=e.state.slackY+(l-a.y),o.x=a.x,o.y=a.y,o.deltaX=a.x-e.state.x,o.deltaY=a.y-e.state.y}if(!1===e.props.onDrag(t,o))return!1;e.setState(a)})),C(w(e),"onDragStop",(function(t,n){if(!e.state.dragging)return!1;if(!1===e.props.onStop(t,(0,u.createDraggableData)(w(e),n)))return!1;(0,h.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(e.props.position)){var i=e.props.position,o=i.x,a=i.y;r.x=o,r.y=a}e.setState(r)})),e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:m({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),e}return e=y,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:m({},n)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),r=e.defaultPosition,o=e.defaultClassName,a=e.defaultClassNameDragging,c=e.defaultClassNameDragged,h=e.position,d=e.positionOffset,y=(e.scale,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,p)),v={},_=null,b=!Boolean(h)||this.state.dragging,x=h||r,E={x:(0,u.canDragX)(this)&&b?this.state.x:x.x,y:(0,u.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?_=(0,l.createSVGTransform)(E,d):v=(0,l.createCSSTransform)(E,d);var w=(0,s.default)(n.props.className||"",o,(C(t={},a,this.state.dragging),C(t,c,this.state.dragged),t));return i.createElement(f.default,g({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:w,style:m(m({},n.props.style),v),transform:_}))}}])&&b(e.prototype,n),r&&b(e,r),y}(i.Component);e.default=P,C(P,"displayName","Draggable"),C(P,"propTypes",m(m({},f.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),C(P,"defaultProps",m(m({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},783:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(5697)),a=f(n(3935)),s=n(1825),l=n(2849),u=n(9280),c=f(n(5904));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},S=w,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(f,t);var e,n,r,o,u=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function f(){var t;y(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(_(t=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),x(_(t),"mounted",!1),x(_(t),"handleDragStart",(function(e){if(t.props.onMouseDown(e),!t.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var n=t.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(t.props.disabled||!(e.target instanceof r.defaultView.Node)||t.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,t.props.handle,n)||t.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,t.props.cancel,n))){"touchstart"===e.type&&e.preventDefault();var i=(0,s.getTouchIdentifier)(e);t.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(e,i,_(t));if(null!=o){var a=o.x,u=o.y,f=(0,l.createCoreData)(_(t),a,u);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",t.props.onStart),!1!==t.props.onStart(e,f)&&!1!==t.mounted&&(t.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),t.setState({dragging:!0,lastX:a,lastY:u}),(0,s.addEvent)(r,S.move,t.handleDrag),(0,s.addEvent)(r,S.stop,t.handleDragStop))}}})),x(_(t),"handleDrag",(function(e){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(t.props.grid)){var o=r-t.state.lastX,a=i-t.state.lastY,s=p((0,l.snapToGrid)(t.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=t.state.lastX+o,i=t.state.lastY+a}var u=(0,l.createCoreData)(_(t),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1!==t.props.onDrag(e,u)&&!1!==t.mounted)t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(f)}}})),x(_(t),"handleDragStop",(function(e){if(t.state.dragging){var n=(0,l.getControlPosition)(e,t.state.touchIdentifier,_(t));if(null!=n){var r=n.x,i=n.y,o=(0,l.createCoreData)(_(t),r,i);if(!1===t.props.onStop(e,o)||!1===t.mounted)return!1;var a=t.findDOMNode();a&&t.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(a.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),a&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(a.ownerDocument,S.move,t.handleDrag),(0,s.removeEvent)(a.ownerDocument,S.stop,t.handleDragStop))}}})),x(_(t),"onMouseDown",(function(e){return S=w,t.handleDragStart(e)})),x(_(t),"onMouseUp",(function(e){return S=w,t.handleDragStop(e)})),x(_(t),"onTouchStart",(function(e){return S=E,t.handleDragStart(e)})),x(_(t),"onTouchEnd",(function(e){return S=E,t.handleDragStop(e)})),t}return e=f,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,s.addEvent)(t,E.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.findDOMNode();if(t){var e=t.ownerDocument;(0,s.removeEvent)(e,w.move,this.handleDrag),(0,s.removeEvent)(e,E.move,this.handleDrag),(0,s.removeEvent)(e,w.stop,this.handleDragStop),(0,s.removeEvent)(e,E.stop,this.handleDragStop),(0,s.removeEvent)(t,E.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(e)}}},{key:"findDOMNode",value:function(){var t,e,n;return null!==(t=null===(e=this.props)||void 0===e||null===(n=e.nodeRef)||void 0===n?void 0:n.current)&&void 0!==t?t:a.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(e.prototype,n),f}(i.Component);e.default=C,x(C,"displayName","DraggableCore"),x(C,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),x(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1193:(t,e,n)=>{"use strict";var r=n(5668),i=r.default,o=r.DraggableCore;t.exports=i,t.exports.default=i,t.exports.DraggableCore=o},1825:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchesSelector=f,e.matchesSelectorAndParentsTo=function(t,e,n){var r=t;do{if(f(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},e.addEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}},e.removeEvent=function(t,e,n,r){if(t){var i=l({capture:!0},r);t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}},e.outerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderTopWidth))+(0,i.int)(n.borderBottomWidth)},e.outerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e+=(0,i.int)(n.borderLeftWidth))+(0,i.int)(n.borderRightWidth)},e.innerHeight=function(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingTop))-(0,i.int)(n.paddingBottom)},e.innerWidth=function(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return(e-=(0,i.int)(n.paddingLeft))-(0,i.int)(n.paddingRight)},e.offsetXYFromParent=function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:(t.clientX+e.scrollLeft-r.left)/n,y:(t.clientY+e.scrollTop-r.top)/n}},e.createCSSTransform=function(t,e){var n=h(t,e,"px");return u({},(0,o.browserPrefixToKey)("transform",o.default),n)},e.createSVGTransform=function(t,e){return h(t,e,"")},e.getTranslation=h,e.getTouch=function(t,e){return t.targetTouches&&(0,i.findInArray)(t.targetTouches,(function(t){return e===t.identifier}))||t.changedTouches&&(0,i.findInArray)(t.changedTouches,(function(t){return e===t.identifier}))},e.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},e.addUserSelectStyles=function(t){if(t){var e=t.getElementById("react-draggable-style-el");e||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",e.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",t.getElementsByTagName("head")[0].appendChild(e)),t.body&&p(t.body,"react-draggable-transparent-selection")}},e.removeUserSelectStyles=function(t){if(t)try{if(t.body&&d(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&"Caret"!==e.type&&e.removeAllRanges()}}catch(t){}},e.addClassName=p,e.removeClassName=d;var i=n(9280),o=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(8650));function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="";function f(t,e){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,i.isFunction)(t[e])}))),!!(0,i.isFunction)(t[c])&&t[c](e)}function h(t,e,n){var r=t.x,i=t.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){var a="".concat("string"==typeof e.x?e.x:e.x+n),s="".concat("string"==typeof e.y?e.y:e.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function p(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function d(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}},8650:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=r,e.browserPrefixToKey=i,e.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},e.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var o=null===(t=window.document)||void 0===t||null===(e=t.documentElement)||void 0===e?void 0:e.style;if(!o)return"";if(r in o)return"";for(var a=0;a<n.length;a++)if(i(r,n[a])in o)return n[a];return""}function i(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):"-"===t[r]?n=!0:e+=t[r];return e}(t)):t}var o=r();e.default=o},5904:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},2849:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=function(t,e,n){if(!t.props.bounds)return[e,n];var a=t.props.bounds;a="string"==typeof a?a:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(a);var s=o(t);if("string"==typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var f=l,h=c.getComputedStyle(s),p=c.getComputedStyle(f);a={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(h.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(h.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(h.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(h.marginBottom)}}return(0,r.isNum)(a.right)&&(e=Math.min(e,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(e=Math.max(e,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[e,n]},e.snapToGrid=function(t,e,n){return[Math.round(e/t[0])*t[0],Math.round(n/t[1])*t[1]]},e.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},e.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},e.getControlPosition=function(t,e,n){var r="number"==typeof e?(0,i.getTouch)(t,e):null;if("number"==typeof e&&!r)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(r||t,s,n.props.scale)},e.createCoreData=function(t,e,n){var i=t.state,a=!(0,r.isNum)(i.lastX),s=o(t);return a?{node:s,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:s,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},e.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}};var r=n(9280),i=n(1825);function o(t){var e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}},9280:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]},e.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},e.isNum=function(t){return"number"==typeof t&&!isNaN(t)},e.int=function(t){return parseInt(t,10)},e.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}},9590:t=>{var e="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(t[l],a[l]))return!1;return!0}if(n&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!=l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!o(t[u[l]],a[u[l]]))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return o(t,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}},5966:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=h(n(7294)),o=h(n(5697)),a=n(1193),s=n(1706),l=n(7493),u=n(7373),c=n(2886),f=h(n(6010));function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function m(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&v(t,e)}(h,t);var e,n,r,o,c=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function h(){var t;y(this,h);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(_(t=c.call.apply(c,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),x(_(t),"elementRef",i.default.createRef()),x(_(t),"onDragStart",(function(e,n){var r=n.node,i=t.props,o=i.onDragStart,a=i.transformScale;if(o){var s={top:0,left:0},l=r.offsetParent;if(l){var c=l.getBoundingClientRect(),f=r.getBoundingClientRect(),h=f.left/a,p=c.left/a,d=f.top/a,y=c.top/a;s.left=h-p+l.scrollLeft,s.top=d-y+l.scrollTop,t.setState({dragging:s});var g=(0,u.calcXY)(t.getPositionParams(),s.top,s.left,t.props.w,t.props.h),v=g.x,m=g.y;return o.call(_(t),t.props.i,v,m,{e,node:r,newPosition:s})}}})),x(_(t),"onDrag",(function(e,n){var r=n.node,i=n.deltaX,o=n.deltaY,a=t.props.onDrag;if(a){if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");var s=t.state.dragging.top+o,l=t.state.dragging.left+i,c=t.props,f=c.isBounded,h=c.i,p=c.w,d=c.h,y=c.containerWidth,g=t.getPositionParams();if(f){var v=r.offsetParent;if(v){var m=t.props,b=m.margin,x=m.rowHeight,E=v.clientHeight-(0,u.calcGridItemWHPx)(d,x,b[1]);s=(0,u.clamp)(s,0,E);var w=(0,u.calcGridColWidth)(g),S=y-(0,u.calcGridItemWHPx)(p,w,b[0]);l=(0,u.clamp)(l,0,S)}}var C={top:s,left:l};t.setState({dragging:C});var P=(0,u.calcXY)(g,s,l,p,d),O=P.x,T=P.y;return a.call(_(t),h,O,T,{e,node:r,newPosition:C})}})),x(_(t),"onDragStop",(function(e,n){var r=n.node,i=t.props.onDragStop;if(i){if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=t.props,a=o.w,s=o.h,l=o.i,c=t.state.dragging,f=c.left,h=c.top,p={top:h,left:f};t.setState({dragging:null});var d=(0,u.calcXY)(t.getPositionParams(),h,f,a,s),y=d.x,g=d.y;return i.call(_(t),l,y,g,{e,node:r,newPosition:p})}})),x(_(t),"onResizeStop",(function(e,n){t.onResizeHandler(e,n,"onResizeStop")})),x(_(t),"onResizeStart",(function(e,n){t.onResizeHandler(e,n,"onResizeStart")})),x(_(t),"onResize",(function(e,n){t.onResizeHandler(e,n,"onResize")})),t}return e=h,n=[{key:"shouldComponentUpdate",value:function(t,e){if(this.props.children!==t.children)return!0;if(this.props.droppingPosition!==t.droppingPosition)return!0;var n=(0,u.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,u.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,e);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==t.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(t){this.moveDroppingItem(t)}},{key:"moveDroppingItem",value:function(t){var e=this.props.droppingPosition;if(e){var n=this.elementRef.current;if(n){var r=t.droppingPosition||{left:0,top:0},i=this.state.dragging,o=i&&e.left!==r.left||e.top!==r.top;if(i){if(o){var a=e.left-i.left,s=e.top-i.top;this.onDrag(e.e,{node:n,deltaX:a,deltaY:s})}}else this.onDragStart(e.e,{node:n,deltaX:e.left,deltaY:e.top})}}}},{key:"getPositionParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}},{key:"createStyle",value:function(t){var e,n=this.props,r=n.usePercentages,i=n.containerWidth;return n.useCSSTransforms?e=(0,l.setTransform)(t):(e=(0,l.setTopLeft)(t),r&&(e.left=(0,l.perc)(t.left/i),e.width=(0,l.perc)(t.width/i))),e}},{key:"mixinDraggable",value:function(t,e){return i.default.createElement(a.DraggableCore,{disabled:!e,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}},{key:"mixinResizable",value:function(t,e,n){var r=this.props,o=r.cols,a=r.x,l=r.minW,c=r.minH,f=r.maxW,h=r.maxH,p=r.transformScale,d=r.resizeHandles,y=r.resizeHandle,g=this.getPositionParams(),v=(0,u.calcGridItemPosition)(g,0,0,o-a,0).width,m=(0,u.calcGridItemPosition)(g,0,0,l,c),_=(0,u.calcGridItemPosition)(g,0,0,f,h),b=[m.width,m.height],x=[Math.min(_.width,v),Math.min(_.height,1/0)];return i.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:e.width,height:e.height,minConstraints:b,maxConstraints:x,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:p,resizeHandles:d,handle:y},t)}},{key:"onResizeHandler",value:function(t,e,n){var r=e.node,i=e.size,o=this.props[n];if(o){var a=this.props,s=a.cols,l=a.x,c=a.y,f=a.i,h=a.maxH,p=a.minH,d=this.props,y=d.minW,g=d.maxW,v=(0,u.calcWH)(this.getPositionParams(),i.width,i.height,l,c),m=v.w,_=v.h;y=Math.max(y,1),g=Math.min(g,s-l),m=(0,u.clamp)(m,y,g),_=(0,u.clamp)(_,p,h),this.setState({resizing:"onResizeStop"===n?null:i}),o.call(this,f,m,_,{e:t,node:r,size:i})}}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.w,o=t.h,a=t.isDraggable,s=t.isResizable,l=t.droppingPosition,c=t.useCSSTransforms,h=(0,u.calcGridItemPosition)(this.getPositionParams(),e,n,r,o,this.state),p=i.default.Children.only(this.props.children),y=i.default.cloneElement(p,{ref:this.elementRef,className:(0,f.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":a,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:c}),style:d(d(d({},this.props.style),p.props.style),this.createStyle(h))});return y=this.mixinResizable(y,h,s),this.mixinDraggable(y,a)}}],n&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.default.Component);e.default=E,x(E,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minWidth not Number"):n>t.w||n>t.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxWidth not Number"):n<t.w||n<t.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("minHeight not Number"):n>t.h||n>t.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(t,e){var n=t[e];return"number"!=typeof n?new Error("maxHeight not Number"):n<t.h||n<t.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),x(E,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9580:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(2307)),a=f(n(6010)),s=n(7493),l=n(7373),u=f(n(5966)),c=f(n(2886));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function p(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function E(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P="react-grid-layout",O=!1;try{O=/firefox/i.test(navigator.userAgent)}catch(t){}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&x(t,e)}(d,t);var e,n,r,c,f,h=(c=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(c);if(f){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return E(this,t)});function d(){var t;_(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return C(w(t=h.call.apply(h,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(t.props.layout,t.props.children,t.props.cols,(0,s.compactType)(t.props),t.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),C(w(t),"dragEnterCounter",0),C(w(t),"onDragStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);if(u)return t.setState({oldDragItem:(0,s.cloneLayoutItem)(u),oldLayout:l}),t.props.onDragStart(l,u,u,null,o,a)})),C(w(t),"onDrag",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.oldDragItem,u=t.state.layout,c=t.props,f=c.cols,h=c.allowOverlap,p=c.preventCollision,d=(0,s.getLayoutItem)(u,e);if(d){var y={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:e};u=(0,s.moveElement)(u,d,n,r,!0,p,(0,s.compactType)(t.props),f,h),t.props.onDrag(u,l,d,y,o,a),t.setState({layout:h?u:(0,s.compact)(u,(0,s.compactType)(t.props),f),activeDrag:y})}})),C(w(t),"onDragStop",(function(e,n,r,i){var o=i.e,a=i.node;if(t.state.activeDrag){var l=t.state.oldDragItem,u=t.state.layout,c=t.props,f=c.cols,h=c.preventCollision,p=c.allowOverlap,d=(0,s.getLayoutItem)(u,e);if(d){u=(0,s.moveElement)(u,d,n,r,!0,h,(0,s.compactType)(t.props),f,p),t.props.onDragStop(u,l,d,null,o,a);var y=p?u:(0,s.compact)(u,(0,s.compactType)(t.props),f),g=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldDragItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,g)}}})),C(w(t),"onResizeStart",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state.layout,u=(0,s.getLayoutItem)(l,e);u&&(t.setState({oldResizeItem:(0,s.cloneLayoutItem)(u),oldLayout:t.state.layout}),t.props.onResizeStart(l,u,u,null,o,a))})),C(w(t),"onResize",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,f=t.props,h=f.cols,p=f.preventCollision,d=f.allowOverlap,v=(0,s.withLayoutItem)(u,e,(function(t){var e;if(p&&!d){var i=(0,s.getAllCollisions)(u,y(y({},t),{},{w:n,h:r})).filter((function(e){return e.i!==t.i}));if(e=i.length>0){var o=1/0,a=1/0;i.forEach((function(e){e.x>t.x&&(o=Math.min(o,e.x)),e.y>t.y&&(a=Math.min(a,e.y))})),Number.isFinite(o)&&(t.w=o-t.x),Number.isFinite(a)&&(t.h=a-t.y)}}return e||(t.w=n,t.h=r),t})),m=g(v,2),_=m[0],b=m[1];if(b){var x={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:e};t.props.onResize(_,c,b,x,o,a),t.setState({layout:d?_:(0,s.compact)(_,(0,s.compactType)(t.props),h),activeDrag:x})}})),C(w(t),"onResizeStop",(function(e,n,r,i){var o=i.e,a=i.node,l=t.state,u=l.layout,c=l.oldResizeItem,f=t.props,h=f.cols,p=f.allowOverlap,d=(0,s.getLayoutItem)(u,e);t.props.onResizeStop(u,c,d,null,o,a);var y=p?u:(0,s.compact)(u,(0,s.compactType)(t.props),h),g=t.state.oldLayout;t.setState({activeDrag:null,layout:y,oldResizeItem:null,oldLayout:null}),t.onLayoutMaybeChanged(y,g)})),C(w(t),"onDragOver",(function(e){var n;if(e.preventDefault(),e.stopPropagation(),O&&(null===(n=e.nativeEvent.target)||void 0===n||!n.classList.contains(P)))return!1;var r=t.props,o=r.droppingItem,a=r.onDropDragOver,s=r.margin,u=r.cols,c=r.rowHeight,f=r.maxRows,h=r.width,d=r.containerPadding,g=r.transformScale,v=null==a?void 0:a(e);if(!1===v)return t.state.droppingDOMNode&&t.removeDroppingPlaceholder(),!1;var m=y(y({},o),v),_=t.state.layout,b=e.nativeEvent,x=b.layerX,E=b.layerY,w={left:x/g,top:E/g,e};if(t.state.droppingDOMNode){if(t.state.droppingPosition){var S=t.state.droppingPosition,C=S.left,T=S.top;(C!=x||T!=E)&&t.setState({droppingPosition:w})}}else{var R={cols:u,margin:s,maxRows:f,rowHeight:c,containerWidth:h,containerPadding:d||s},k=(0,l.calcXY)(R,E,x,m.w,m.h);t.setState({droppingDOMNode:i.createElement("div",{key:m.i}),droppingPosition:w,layout:[].concat(p(_),[y(y({},m),{},{x:k.x,y:k.y,static:!1,isDraggable:!0})])})}})),C(w(t),"removeDroppingPlaceholder",(function(){var e=t.props,n=e.droppingItem,r=e.cols,i=t.state.layout,o=(0,s.compact)(i.filter((function(t){return t.i!==n.i})),(0,s.compactType)(t.props),r);t.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),C(w(t),"onDragLeave",(function(e){e.preventDefault(),t.dragEnterCounter--,0===t.dragEnterCounter&&t.removeDroppingPlaceholder()})),C(w(t),"onDragEnter",(function(e){e.preventDefault(),t.dragEnterCounter++})),C(w(t),"onDrop",(function(e){e.preventDefault();var n=t.props.droppingItem,r=t.state.layout,i=r.find((function(t){return t.i===n.i}));t.dragEnterCounter=0,t.removeDroppingPlaceholder(),t.props.onDrop(r,i,e)})),t}return e=d,r=[{key:"getDerivedStateFromProps",value:function(t,e){var n;return e.activeDrag?null:((0,o.default)(t.layout,e.propsLayout)&&t.compactType===e.compactType?(0,s.childrenEqual)(t.children,e.children)||(n=e.layout):n=t.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,s.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(t,e){return this.props.children!==t.children||!(0,s.fastRGLPropsEqual)(this.props,t,o.default)||this.state.activeDrag!==e.activeDrag||this.state.mounted!==e.mounted||this.state.droppingPosition!==e.droppingPosition}},{key:"componentDidUpdate",value:function(t,e){if(!this.state.activeDrag){var n=this.state.layout,r=e.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var t=(0,s.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+2*e+"px"}}},{key:"onLayoutMaybeChanged",value:function(t,e){e||(e=this.state.layout),(0,o.default)(e,t)||this.props.onLayoutChange(t)}},{key:"placeholder",value:function(){var t=this.state.activeDrag;if(!t)return null;var e=this.props,n=e.width,r=e.cols,o=e.margin,a=e.containerPadding,s=e.rowHeight,l=e.maxRows,c=e.useCSSTransforms,f=e.transformScale;return i.createElement(u.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:f},i.createElement("div",null))}},{key:"processGridItem",value:function(t,e){if(t&&t.key){var n=(0,s.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;var r=this.props,o=r.width,a=r.cols,l=r.margin,c=r.containerPadding,f=r.rowHeight,h=r.maxRows,p=r.isDraggable,d=r.isResizable,y=r.isBounded,g=r.useCSSTransforms,v=r.transformScale,m=r.draggableCancel,_=r.draggableHandle,b=r.resizeHandles,x=r.resizeHandle,E=this.state,w=E.mounted,S=E.droppingPosition,C="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,P="boolean"==typeof n.isResizable?n.isResizable:!n.static&&d,O=n.resizeHandles||b,T=C&&y&&!1!==n.isBounded;return i.createElement(u.default,{containerWidth:o,cols:a,margin:l,containerPadding:c||l,maxRows:h,rowHeight:f,cancel:m,handle:_,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:C,isResizable:P,isBounded:T,useCSSTransforms:g&&w,usePercentages:!w,transformScale:v,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:e?S:void 0,resizeHandles:O,resizeHandle:x},t)}}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.style,o=e.isDroppable,l=e.innerRef,u=(0,a.default)(P,n),c=y({height:this.containerHeight()},r);return i.createElement("div",{ref:l,className:u,style:c,onDrop:o?this.onDrop:s.noop,onDragLeave:o?this.onDragLeave:s.noop,onDragEnter:o?this.onDragEnter:s.noop,onDragOver:o?this.onDragOver:s.noop},i.Children.map(this.props.children,(function(e){return t.processGridItem(e)})),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(i.Component);e.default=T,C(T,"displayName","ReactGridLayout"),C(T,"propTypes",c.default),C(T,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},2886:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resizeHandleType=e.resizeHandleAxesType=e.default=void 0;var r=o(n(5697)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}var a=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));e.resizeHandleAxesType=a;var s=r.default.oneOfType([r.default.node,r.default.func]);e.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(t){t.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;void 0!==e&&n(7493).validateLayout(e,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(t,e){var n=t[e],r={};i.default.Children.forEach(n,(function(t){if(null!=(null==t?void 0:t.key)){if(r[t.key])throw new Error('Duplicate child key "'+t.key+'" found! This will cause problems in ReactGridLayout.');r[t.key]=!0}}))},innerRef:r.default.any};e.default=l},3973:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=h(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=f(n(5697)),a=f(n(2307)),s=n(7493),l=n(5651),u=f(n(9580)),c=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(h=function(t){return t?n:e})(t)}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function _(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){return Object.prototype.toString.call(t)};function S(t,e){return null==t?null:Array.isArray(t)?t:t[e]}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&m(t,e)}(d,t);var e,n,r,o,f,h=(o=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(o);if(f){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function d(){var t;g(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return E(b(t=h.call.apply(h,[this].concat(n))),"state",t.generateInitialState()),E(b(t),"onLayoutChange",(function(e){t.props.onLayoutChange(e,y(y({},t.props.layouts),{},E({},t.state.breakpoint,e)))})),t}return e=d,r=[{key:"getDerivedStateFromProps",value:function(t,e){if(!(0,a.default)(t.layouts,e.layouts)){var n=e.breakpoint,r=e.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,r,t.compactType),layouts:t.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var t=this.props,e=t.width,n=t.breakpoints,r=t.layouts,i=t.cols,o=(0,l.getBreakpointFromWidth)(n,e),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}}},{key:"componentDidUpdate",value:function(t){this.props.width==t.width&&this.props.breakpoint===t.breakpoint&&(0,a.default)(this.props.breakpoints,t.breakpoints)&&(0,a.default)(this.props.cols,t.cols)||this.onWidthChange(t)}},{key:"onWidthChange",value:function(t){var e=this.props,n=e.breakpoints,r=e.cols,i=e.layouts,o=e.compactType,a=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),u=this.state.breakpoint,c=(0,l.getColsFromBreakpoint)(a,r),f=y({},i);if(u!==a||t.breakpoints!==n||t.cols!==r){u in f||(f[u]=(0,s.cloneLayout)(this.state.layout));var h=(0,l.findOrGenerateResponsiveLayout)(f,n,a,u,c,o);h=(0,s.synchronizeLayoutWithChildren)(h,this.props.children,c,o,this.props.allowOverlap),f[a]=h,this.props.onLayoutChange(h,f),this.props.onBreakpointChange(a,c),this.setState({breakpoint:a,layout:h,cols:c})}var p=S(this.props.margin,a),d=S(this.props.containerPadding,a);this.props.onWidthChange(this.props.width,p,c,d)}},{key:"render",value:function(){var t=this.props,e=(t.breakpoint,t.breakpoints,t.cols,t.layouts,t.margin),n=t.containerPadding,r=(t.onBreakpointChange,t.onLayoutChange,t.onWidthChange,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,c));return i.createElement(u.default,p({},r,{margin:S(e,this.state.breakpoint),containerPadding:S(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(i.Component);e.default=C,E(C,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(t,e){if("[object Object]"!==w(t[e]))throw new Error("Layout property must be an object. Received: "+w(t[e]));Object.keys(t[e]).forEach((function(e){if(!(e in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(t.layouts[e],"layouts."+e)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),E(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},7373:(t,e)=>{"use strict";function n(t){var e=t.margin,n=t.containerPadding,r=t.containerWidth,i=t.cols;return(r-e[0]*(i-1)-2*n[0])/i}function r(t,e,n){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*n):t}function i(t,e,n){return Math.max(Math.min(t,n),e)}Object.defineProperty(e,"__esModule",{value:!0}),e.calcGridColWidth=n,e.calcGridItemPosition=function(t,e,i,o,a,s){var l=t.margin,u=t.containerPadding,c=t.rowHeight,f=n(t),h={};return s&&s.resizing?(h.width=Math.round(s.resizing.width),h.height=Math.round(s.resizing.height)):(h.width=r(o,f,l[0]),h.height=r(a,c,l[1])),s&&s.dragging?(h.top=Math.round(s.dragging.top),h.left=Math.round(s.dragging.left)):(h.top=Math.round((c+l[1])*i+u[1]),h.left=Math.round((f+l[0])*e+u[0])),h},e.calcGridItemWHPx=r,e.calcWH=function(t,e,r,o,a){var s=t.margin,l=t.maxRows,u=t.cols,c=t.rowHeight,f=n(t),h=Math.round((e+s[0])/(f+s[0])),p=Math.round((r+s[1])/(c+s[1]));return{w:h=i(h,0,u-o),h:p=i(p,0,l-a)}},e.calcXY=function(t,e,r,o,a){var s=t.margin,l=t.cols,u=t.rowHeight,c=t.maxRows,f=n(t),h=Math.round((r-s[0])/(f+s[0])),p=Math.round((e-s[1])/(u+s[1]));return{x:h=i(h,0,l-o),y:p=i(p,0,c-a)}},e.clamp=i},7135:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&p(t,e)}(m,e);var n,r,o,l,u=(n=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(r){var i=g(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return d(this,t)});function m(){var t;f(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(y(t=u.call.apply(u,[this].concat(n))),"state",{width:1280}),v(y(t),"elementRef",i.createRef()),v(y(t),"mounted",!1),v(y(t),"onWindowResize",(function(){if(t.mounted){var e=t.elementRef.current;e instanceof HTMLElement&&e.offsetWidth&&t.setState({width:e.offsetWidth})}})),t}return o=m,(l=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var e=this.props,n=e.measureBeforeMount,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,s);return n&&!this.mounted?i.createElement("div",{className:(0,a.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):i.createElement(t,c({innerRef:this.elementRef},r,this.state))}}])&&h(o.prototype,l),Object.defineProperty(o,"prototype",{writable:!1}),m}(i.Component),v(e,"defaultProps",{measureBeforeMount:!1}),v(e,"propTypes",{measureBeforeMount:o.default.bool}),n};var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n(7294)),o=l(n(5697)),a=l(n(6010)),s=["measureBeforeMount"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1362:t=>{t.exports=function(t,e,n){return t===e||t.className===e.className&&n(t.style,e.style)&&t.width===e.width&&t.autoSize===e.autoSize&&t.cols===e.cols&&t.draggableCancel===e.draggableCancel&&t.draggableHandle===e.draggableHandle&&n(t.verticalCompact,e.verticalCompact)&&n(t.compactType,e.compactType)&&n(t.layout,e.layout)&&n(t.margin,e.margin)&&n(t.containerPadding,e.containerPadding)&&t.rowHeight===e.rowHeight&&t.maxRows===e.maxRows&&t.isBounded===e.isBounded&&t.isDraggable===e.isDraggable&&t.isResizable===e.isResizable&&t.allowOverlap===e.allowOverlap&&t.preventCollision===e.preventCollision&&t.useCSSTransforms===e.useCSSTransforms&&t.transformScale===e.transformScale&&t.isDroppable===e.isDroppable&&n(t.resizeHandles,e.resizeHandles)&&n(t.resizeHandle,e.resizeHandle)&&t.onLayoutChange===e.onLayoutChange&&t.onDragStart===e.onDragStart&&t.onDrag===e.onDrag&&t.onDragStop===e.onDragStop&&t.onResizeStart===e.onResizeStart&&t.onResize===e.onResize&&t.onResizeStop===e.onResizeStop&&t.onDrop===e.onDrop&&n(t.droppingItem,e.droppingItem)&&n(t.innerRef,e.innerRef)}},5651:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findOrGenerateResponsiveLayout=function(t,e,n,o,a,s){if(t[n])return(0,r.cloneLayout)(t[n]);for(var l=t[o],u=i(e),c=u.slice(u.indexOf(n)),f=0,h=c.length;f<h;f++){var p=c[f];if(t[p]){l=t[p];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},e.getBreakpointFromWidth=function(t,e){for(var n=i(t),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];e>t[s]&&(r=s)}return r},e.getColsFromBreakpoint=function(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]},e.sortBreakpoints=i;var r=n(7493);function i(t){return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))}},7493:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bottom=u,e.childrenEqual=function(t,e){return(0,r.default)(i.default.Children.map(t,(function(t){return null==t?void 0:t.key})),i.default.Children.map(e,(function(t){return null==t?void 0:t.key})))},e.cloneLayout=c,e.cloneLayoutItem=h,e.collides=d,e.compact=y,e.compactItem=m,e.compactType=function(t){var e=t||{},n=e.verticalCompact,r=e.compactType;return!1===n?null:r},e.correctBounds=_,e.fastPositionEqual=function(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height},e.fastRGLPropsEqual=void 0,e.getAllCollisions=E,e.getFirstCollision=x,e.getLayoutItem=b,e.getStatics=w,e.modifyLayout=f,e.moveElement=S,e.moveElementAwayFromCollision=C,e.noop=void 0,e.perc=function(t){return 100*t+"%"},e.setTopLeft=function(t){var e=t.top,n=t.left,r=t.width,i=t.height;return{top:"".concat(e,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.setTransform=function(t){var e=t.top,n=t.left,r=t.width,i=t.height,o="translate(".concat(n,"px,").concat(e,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(i,"px"),position:"absolute"}},e.sortLayoutItems=P,e.sortLayoutItemsByColRow=T,e.sortLayoutItemsByRowCol=O,e.synchronizeLayoutWithChildren=function(t,e,n,r,o){t=t||[];var a=[];i.default.Children.forEach(e,(function(e){if(null!=(null==e?void 0:e.key)){var n=b(t,String(e.key));if(n)a.push(h(n));else{var r=e.props["data-grid"]||e.props._grid;r?a.push(h(s(s({},r),{},{i:e.key}))):a.push(h({w:1,h:1,x:0,y:u(a),i:String(e.key)}))}}}));var l=_(a,{cols:n});return o?l:y(l,r,n)},e.validateLayout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var r=0,i=t.length;r<i;r++){for(var o=t[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+e+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+e+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+e+"["+r+"].static must be a boolean!")}},e.withLayoutItem=function(t,e,n){var r=b(t,e);return r?[t=f(t,r=n(h(r))),r]:[t,null]};var r=o(n(2307)),i=o(n(7294));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e,n=0,r=0,i=t.length;r<i;r++)(e=t[r].y+t[r].h)>n&&(n=e);return n}function c(t){for(var e=Array(t.length),n=0,r=t.length;n<r;n++)e[n]=h(t[n]);return e}function f(t,e){for(var n=Array(t.length),r=0,i=t.length;r<i;r++)e.i===t[r].i?n[r]=e:n[r]=t[r];return n}function h(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:Boolean(t.moved),static:Boolean(t.static),isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}var p=n(1362);function d(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function y(t,e,n){for(var r=w(t),i=P(t,e),o=Array(t.length),a=0,s=i.length;a<s;a++){var l=h(i[a]);l.static||(l=m(r,l,e,n,i),r.push(l)),o[t.indexOf(i[a])]=l,l.moved=!1}return o}e.fastRGLPropsEqual=p;var g={x:"w",y:"h"};function v(t,e,n,r){var i=g[r];e[r]+=1;for(var o=t.map((function(t){return t.i})).indexOf(e.i)+1;o<t.length;o++){var a=t[o];if(!a.static){if(a.y>e.y+e.h)break;d(e,a)&&v(t,a,n+e[i],r)}}e[r]=n}function m(t,e,n,r,i){var o,a="horizontal"===n;if("vertical"===n)for(e.y=Math.min(u(t),e.y);e.y>0&&!x(t,e);)e.y--;else if(a)for(;e.x>0&&!x(t,e);)e.x--;for(;o=x(t,e);)a?v(i,e,o.x+o.w,"x"):v(i,e,o.y+o.h,"y"),a&&e.x+e.w>r&&(e.x=r-e.w,e.y++);return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function _(t,e){for(var n=w(t),r=0,i=t.length;r<i;r++){var o=t[r];if(o.x+o.w>e.cols&&(o.x=e.cols-o.w),o.x<0&&(o.x=0,o.w=e.cols),o.static)for(;x(n,o);)o.y++;else n.push(o)}return t}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].i===e)return t[n]}function x(t,e){for(var n=0,r=t.length;n<r;n++)if(d(t[n],e))return t[n]}function E(t,e){return t.filter((function(t){return d(t,e)}))}function w(t){return t.filter((function(t){return t.static}))}function S(t,e,n,r,i,o,a,s,l){if(e.static&&!0!==e.isDraggable)return t;if(e.y===r&&e.x===n)return t;"Moving element ".concat(e.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(e.x,",").concat(e.y,"]");var u=e.x,f=e.y;"number"==typeof n&&(e.x=n),"number"==typeof r&&(e.y=r),e.moved=!0;var h=P(t,a);("vertical"===a&&"number"==typeof r?f>=r:"horizontal"===a&&"number"==typeof n&&u>=n)&&(h=h.reverse());var p=E(h,e),d=p.length>0;if(d&&l)return c(t);if(d&&o)return"Collision prevented on ".concat(e.i,", reverting."),e.x=u,e.y=f,e.moved=!1,t;for(var y=0,g=p.length;y<g;y++){var v=p[y];"Resolving collision between ".concat(e.i," at [").concat(e.x,",").concat(e.y,"] and ").concat(v.i," at [").concat(v.x,",").concat(v.y,"]"),v.moved||(t=v.static?C(t,v,e,i,a,s):C(t,e,v,i,a,s))}return t}function C(t,e,n,r,i,o){var a="horizontal"===i,s="horizontal"!==i,l=e.static;if(r){r=!1;var u={x:a?Math.max(e.x-n.w,0):n.x,y:s?Math.max(e.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!x(t,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),S(t,n,a?u.x:void 0,s?u.y:void 0,r,l,i,o)}return S(t,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i,o)}function P(t,e){return"horizontal"===e?T(t):"vertical"===e?O(t):t}function O(t){return t.slice(0).sort((function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:t.y===e.y&&t.x===e.x?0:-1}))}function T(t){return t.slice(0).sort((function(t,e){return t.x>e.x||t.x===e.x&&t.y>e.y?1:-1}))}e.noop=function(){}},9968:(t,e,n)=>{t.exports=n(9580).default,t.exports.utils=n(7493),t.exports.Responsive=n(3973).default,t.exports.Responsive.utils=n(5651),t.exports.WidthProvider=n(7135).default},722:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),a=(i=n(9590))&&i.__esModule?i:{default:i},s=n(5741);function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(l,t);var e,n,r,i,s=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(i){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(d(t=s.call.apply(s,[this].concat(n))),"mounted",!1),g(d(t),"isReady",!1),g(d(t),"isPlaying",!1),g(d(t),"isLoading",!0),g(d(t),"loadOnReady",null),g(d(t),"startOnPlay",!0),g(d(t),"seekOnPlay",null),g(d(t),"onDurationCalled",!1),g(d(t),"handlePlayerMount",(function(e){t.player=e,t.player.load(t.props.url),t.progress()})),g(d(t),"getInternalPlayer",(function(e){return t.player?t.player[e]:null})),g(d(t),"progress",(function(){if(t.props.url&&t.player&&t.isReady){var e=t.getCurrentTime()||0,n=t.getSecondsLoaded(),r=t.getDuration();if(r){var i={playedSeconds:e,played:e/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===t.prevPlayed&&i.loadedSeconds===t.prevLoaded||t.props.onProgress(i),t.prevPlayed=i.playedSeconds,t.prevLoaded=i.loadedSeconds}}t.progressTimeout=setTimeout(t.progress,t.props.progressFrequency||t.props.progressInterval)})),g(d(t),"handleReady",(function(){if(t.mounted){t.isReady=!0,t.isLoading=!1;var e=t.props,n=e.onReady,r=e.playing,i=e.volume,o=e.muted;n(),o||null===i||t.player.setVolume(i),t.loadOnReady?(t.player.load(t.loadOnReady,!0),t.loadOnReady=null):r&&t.player.play(),t.handleDurationCheck()}})),g(d(t),"handlePlay",(function(){t.isPlaying=!0,t.isLoading=!1;var e=t.props,n=e.onStart,r=e.onPlay,i=e.playbackRate;t.startOnPlay&&(t.player.setPlaybackRate&&1!==i&&t.player.setPlaybackRate(i),n(),t.startOnPlay=!1),r(),t.seekOnPlay&&(t.seekTo(t.seekOnPlay),t.seekOnPlay=null),t.handleDurationCheck()})),g(d(t),"handlePause",(function(e){t.isPlaying=!1,t.isLoading||t.props.onPause(e)})),g(d(t),"handleEnded",(function(){var e=t.props,n=e.activePlayer,r=e.loop,i=e.onEnded;n.loopOnEnded&&r&&t.seekTo(0),r||(t.isPlaying=!1,i())})),g(d(t),"handleError",(function(){var e;t.isLoading=!1,(e=t.props).onError.apply(e,arguments)})),g(d(t),"handleDurationCheck",(function(){clearTimeout(t.durationCheckTimeout);var e=t.getDuration();e?t.onDurationCalled||(t.props.onDuration(e),t.onDurationCalled=!0):t.durationCheckTimeout=setTimeout(t.handleDurationCheck,100)})),g(d(t),"handleLoaded",(function(){t.isLoading=!1})),t}return e=l,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,l=n.playbackRate,u=n.pip,c=n.loop,f=n.activePlayer;if(!(0,a.default)(t.url,r)){if(this.isLoading&&!f.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}t.playing||!i||this.isPlaying||this.player.play(),t.playing&&!i&&this.isPlaying&&this.player.pause(),!t.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&null!==o&&this.player.setVolume(o),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return e.player.setVolume(o)})))),t.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(t,e){var n=this;if(!this.isReady&&0!==t)return this.seekOnPlay=t,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(e?"fraction"===e:t>0&&t<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*t):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(t)}},{key:"render",value:function(){var t=this.props.activePlayer;return t?o.default.createElement(t,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(e.prototype,n),l}(o.Component);e.default=v,g(v,"displayName","Player"),g(v,"propTypes",s.propTypes),g(v,"defaultProps",s.defaultProps)},3855:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}(n(7294));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y="64px",g={},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(v,t);var e,n,r,o,a=(r=v,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(o){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){var t;l(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=a.call.apply(a,[this].concat(n))),"mounted",!1),d(h(t),"state",{image:null}),d(h(t),"handleKeyPress",(function(e){"Enter"!==e.key&&" "!==e.key||t.props.onClick()})),t}return e=v,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.url,r=e.light;t.url===n&&t.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(t){var e=this,n=t.url,r=t.light;if("string"!=typeof r){if(!g[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(t){return t.json()})).then((function(t){if(t.thumbnail_url&&e.mounted){var r=t.thumbnail_url.replace("height=100","height=480");e.setState({image:r}),g[n]=r}}));this.setState({image:g[n]})}else this.setState({image:r})}},{key:"render",value:function(){var t=this.props,e=t.onClick,n=t.playIcon,r=t.previewTabIndex,o=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:y,width:y,height:y},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:e,tabIndex:r,onKeyPress:this.handleKeyPress},n||u)}}])&&u(e.prototype,n),v}(i.Component);e.default=v},390:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createReactPlayer=void 0;var r=C(n(7294)),i=c(n(9996)),o=c(n(845)),a=c(n(9590)),s=n(5741),l=n(8045),u=c(n(722));function c(t){return t&&t.__esModule?t:{default:t}}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}function b(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return S=function(){return t},t}function C(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!=typeof t)return{default:t};var e=S();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var P=(0,r.lazy)((function(){return Promise.resolve().then((function(){return C(n(3855))}))})),O="undefined"!=typeof window&&window.document,T=void 0!==n.g&&n.g.window&&n.g.window.document,R=Object.keys(s.propTypes),k=O||T?r.Suspense:function(){return null},D=[];e.createReactPlayer=function(t,e){var n,c;return c=n=function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(C,n);var c,f,h,g,S=(h=C,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(h);if(g){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function C(){var n;v(this,C);for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return w(x(n=S.call.apply(S,[this].concat(c))),"state",{showPreview:!!n.props.light}),w(x(n),"references",{wrapper:function(t){n.wrapper=t},player:function(t){n.player=t}}),w(x(n),"handleClickPreview",(function(t){n.setState({showPreview:!1}),n.props.onClickPreview(t)})),w(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),w(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),w(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),w(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),w(x(n),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(t):null})),w(x(n),"seekTo",(function(t,e){if(!n.player)return null;n.player.seekTo(t,e)})),w(x(n),"handleReady",(function(){n.props.onReady(x(n))})),w(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(D,y(t));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return e||null}))),w(x(n),"getConfig",(0,o.default)((function(t,e){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[e]||{},r,r[e]||{}])}))),w(x(n),"getAttributes",(0,o.default)((function(t){return(0,l.omit)(n.props,R)}))),w(x(n),"renderActivePlayer",(function(t){if(!t)return null;var e=n.getActivePlayer(t);if(!e)return null;var i=n.getConfig(t,e.key);return r.default.createElement(u.default,d({},n.props,{key:e.key,ref:n.references.player,config:i,activePlayer:e.lazyPlayer||e,onReady:n.handleReady}))})),n}return c=C,f=[{key:"shouldComponentUpdate",value:function(t,e){return!(0,a.default)(this.props,t)||!(0,a.default)(this.state,e)}},{key:"componentDidUpdate",value:function(t){var e=this.props.light;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(t){if(!t)return null;var e=this.props,n=e.light,i=e.playIcon,o=e.previewTabIndex;return r.default.createElement(P,{url:t,light:n,playIcon:i,previewTabIndex:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.style,i=t.width,o=t.height,a=t.fallback,s=t.wrapper,l=this.state.showPreview,u=this.getAttributes(e);return r.default.createElement(s,d({ref:this.references.wrapper,style:p(p({},n),{},{width:i,height:o})},u),r.default.createElement(k,{fallback:a},l?this.renderPreview(e):this.renderActivePlayer(e)))}}],f&&m(c.prototype,f),C}(r.Component),w(n,"displayName","ReactPlayer"),w(n,"propTypes",s.propTypes),w(n,"defaultProps",s.defaultProps),w(n,"addCustomPlayer",(function(t){D.push(t)})),w(n,"removeCustomPlayers",(function(){D.length=0})),w(n,"canPlay",(function(e){for(var n=0,r=[].concat(D,y(t));n<r.length;n++)if(r[n].canPlay(e))return!0;return!1})),w(n,"canEnablePIP",(function(e){for(var n=0,r=[].concat(D,y(t));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(e))return!0}return!1})),c}},2004:(t,e,n)=>{"use strict";e.Z=void 0;var r,i=(r=n(6497))&&r.__esModule?r:{default:r},o=n(390),a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);e.Z=s},1776:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canPlay=e.FLV_EXTENSIONS=e.DASH_EXTENSIONS=e.HLS_EXTENSIONS=e.VIDEO_EXTENSIONS=e.AUDIO_EXTENSIONS=e.MATCH_URL_KALTURA=e.MATCH_URL_VIDYARD=e.MATCH_URL_MIXCLOUD=e.MATCH_URL_DAILYMOTION=e.MATCH_URL_TWITCH_CHANNEL=e.MATCH_URL_TWITCH_VIDEO=e.MATCH_URL_WISTIA=e.MATCH_URL_STREAMABLE=e.MATCH_URL_FACEBOOK_WATCH=e.MATCH_URL_FACEBOOK=e.MATCH_URL_VIMEO=e.MATCH_URL_SOUNDCLOUD=e.MATCH_URL_YOUTUBE=void 0;var r=n(8045);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;e.MATCH_URL_YOUTUBE=o;var a=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;e.MATCH_URL_SOUNDCLOUD=a;var s=/vimeo\.com\/.+/;e.MATCH_URL_VIMEO=s;var l=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;e.MATCH_URL_FACEBOOK=l;var u=/^https?:\/\/fb\.watch\/.+$/;e.MATCH_URL_FACEBOOK_WATCH=u;var c=/streamable\.com\/([a-z0-9]+)$/;e.MATCH_URL_STREAMABLE=c;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;e.MATCH_URL_WISTIA=f;var h=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;e.MATCH_URL_TWITCH_VIDEO=h;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;e.MATCH_URL_TWITCH_CHANNEL=p;var d=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;e.MATCH_URL_DAILYMOTION=d;var y=/mixcloud\.com\/([^/]+\/[^/]+)/;e.MATCH_URL_MIXCLOUD=y;var g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;e.MATCH_URL_VIDYARD=g;var v=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;e.MATCH_URL_KALTURA=v;var m=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;e.AUDIO_EXTENSIONS=m;var _=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;e.VIDEO_EXTENSIONS=_;var b=/\.(m3u8)($|\?)/i;e.HLS_EXTENSIONS=b;var x=/\.(mpd)($|\?)/i;e.DASH_EXTENSIONS=x;var E=/\.(flv)($|\?)/i;e.FLV_EXTENSIONS=E;var w={youtube:function(t){return t instanceof Array?t.every((function(t){return o.test(t)})):o.test(t)},soundcloud:function(t){return a.test(t)&&!m.test(t)},vimeo:function(t){return s.test(t)&&!_.test(t)&&!b.test(t)},facebook:function(t){return l.test(t)||u.test(t)},streamable:function(t){return c.test(t)},wistia:function(t){return f.test(t)},twitch:function(t){return h.test(t)||p.test(t)},dailymotion:function(t){return d.test(t)},mixcloud:function(t){return y.test(t)},vidyard:function(t){return g.test(t)},kaltura:function(t){return v.test(t)},file:function t(e){if(e instanceof Array){var n,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"==typeof a&&t(a))return!0;if(t(a.src))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(e)&&!(0,r.isBlobUrl)(e))||m.test(e)||_.test(e)||b.test(e)||x.test(e)||E.test(e)}};e.canPlay=w},6807:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(s){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function m(){var t;f(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(y(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),v(y(t),"onDurationChange",(function(){var e=t.getDuration();t.props.onDuration(e)})),v(y(t),"mute",(function(){t.callPlayer("setMuted",!0)})),v(y(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),v(y(t),"ref",(function(e){t.container=e})),t}return e=m,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e,n,r=this,i=this.props,s=i.controls,l=i.config,f=i.onError,h=i.playing,p=(e=t.match(a.MATCH_URL_DAILYMOTION),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];this.player?this.player.load(p,{start:(0,o.parseStartTime)(t),autoplay:h}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(t){return t.player})).then((function(e){if(r.container){var n=e.player;r.player=new n(r.container,{width:"100%",height:"100%",video:p,params:u({controls:s,autoplay:r.props.playing,mute:r.props.muted,start:(0,o.parseStartTime)(t),origin:window.location.origin},l.params),events:{apiready:r.props.onReady,seeked:function(){return r.props.onSeek(r.player.currentTime)},video_end:r.props.onEnded,durationchange:r.onDurationChange,pause:r.props.onPause,playing:r.props.onPlay,waiting:r.props.onBuffer,error:function(t){return f(t)}}})}}),f)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&h(e.prototype,n),m}(i.Component);e.default=m,v(m,"displayName","DailyMotion"),v(m,"canPlay",a.canPlay.dailymotion),v(m,"loopOnEnded",!0)},1972:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="https://connect.facebook.net/en_US/sdk.js",v="fbAsyncInit",m="facebook-player-",_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(_,t);var e,n,r,a,s=(r=_,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(a){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function _(){var t;u(this,_);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(p(t),"playerID",t.props.config.playerId||"".concat(m).concat((0,o.randomString)())),y(p(t),"mute",(function(){t.callPlayer("mute")})),y(p(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=_,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;e?(0,o.getSDK)(g,"FB",v).then((function(t){return t.XFBML.parse()})):(0,o.getSDK)(g,"FB",v).then((function(t){t.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),t.Event.subscribe("xfbml.render",(function(t){n.props.onLoaded()})),t.Event.subscribe("xfbml.ready",(function(t){"video"===t.type&&t.id===n.playerID&&(n.player=t.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},t))}}])&&c(e.prototype,n),_}(i.Component);e.default=_,y(_,"displayName","Facebook"),y(_,"canPlay",a.canPlay.facebook),y(_,"loopOnEnded",!0)},4926:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="undefined"!=typeof navigator,v=g&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,m=g&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||v)&&!window.MSStream,_=/www\.dropbox\.com\/.+/,b=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,s,g=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){var t;u(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=g.call.apply(g,[this].concat(n))),"onReady",(function(){var e;return(e=t.props).onReady.apply(e,arguments)})),y(p(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),y(p(t),"onBuffer",(function(){var e;return(e=t.props).onBuffer.apply(e,arguments)})),y(p(t),"onBufferEnd",(function(){var e;return(e=t.props).onBufferEnd.apply(e,arguments)})),y(p(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),y(p(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),y(p(t),"onError",(function(){var e;return(e=t.props).onError.apply(e,arguments)})),y(p(t),"onEnablePIP",(function(){var e;return(e=t.props).onEnablePIP.apply(e,arguments)})),y(p(t),"onDisablePIP",(function(e){var n=t.props,r=n.onDisablePIP,i=n.playing;r(e),i&&t.play()})),y(p(t),"onPresentationModeChange",(function(e){if(t.player&&(0,o.supportsWebKitPresentationMode)(t.player)){var n=t.player.webkitPresentationMode;"picture-in-picture"===n?t.onEnablePIP(e):"inline"===n&&t.onDisablePIP(e)}})),y(p(t),"onSeek",(function(e){t.props.onSeek(e.target.currentTime)})),y(p(t),"mute",(function(){t.player.muted=!0})),y(p(t),"unmute",(function(){t.player.muted=!1})),y(p(t),"renderSourceElement",(function(t,e){return"string"==typeof t?i.default.createElement("source",{key:e,src:t}):i.default.createElement("source",l({key:e},t))})),y(p(t),"renderTrack",(function(t,e){return i.default.createElement("track",l({key:e},t))})),y(p(t),"ref",(function(e){t.player&&(t.prevPlayer=t.player),t.player=e})),t}return e=v,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),m&&this.player.load()}},{key:"componentDidUpdate",value:function(t){this.shouldUseAudio(this.props)!==this.shouldUseAudio(t)&&(this.removeListeners(this.prevPlayer,t.url),this.addListeners(this.player)),this.props.url===t.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(t){var e=this.props,n=e.url,r=e.playsinline;t.addEventListener("play",this.onPlay),t.addEventListener("waiting",this.onBuffer),t.addEventListener("playing",this.onBufferEnd),t.addEventListener("pause",this.onPause),t.addEventListener("seeked",this.onSeek),t.addEventListener("ended",this.onEnded),t.addEventListener("error",this.onError),t.addEventListener("enterpictureinpicture",this.onEnablePIP),t.addEventListener("leavepictureinpicture",this.onDisablePIP),t.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||t.addEventListener("canplay",this.onReady),r&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(t,e){t.removeEventListener("canplay",this.onReady),t.removeEventListener("play",this.onPlay),t.removeEventListener("waiting",this.onBuffer),t.removeEventListener("playing",this.onBufferEnd),t.removeEventListener("pause",this.onPause),t.removeEventListener("seeked",this.onSeek),t.removeEventListener("ended",this.onEnded),t.removeEventListener("error",this.onError),t.removeEventListener("enterpictureinpicture",this.onEnablePIP),t.removeEventListener("leavepictureinpicture",this.onDisablePIP),t.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(e)||t.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(t){return!t.config.forceVideo&&!t.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(t.url)||t.config.forceAudio)}},{key:"shouldUseHLS",value:function(t){return!!this.props.config.forceHLS||!m&&(a.HLS_EXTENSIONS.test(t)||b.test(t))}},{key:"shouldUseDASH",value:function(t){return a.DASH_EXTENSIONS.test(t)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(t){return a.FLV_EXTENSIONS.test(t)||this.props.config.forceFLV}},{key:"load",value:function(t){var e=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(e.hls=new n(i),e.hls.on(n.Events.MANIFEST_PARSED,(function(){e.props.onReady()})),e.hls.on(n.Events.ERROR,(function(t,r){e.props.onError(t,r,e.hls,n)})),b.test(t)){var r=t.match(b)[1];e.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else e.hls.loadSource(t);e.hls.attachMedia(e.player),e.props.onLoaded()})),this.shouldUseDASH(t)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){e.dash=n.MediaPlayer().create(),e.dash.initialize(e.player,t,e.props.playing),e.dash.on("error",e.props.onError),parseInt(a)<3?e.dash.getDebug().setLogToBrowserConsole(!1):e.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),e.props.onLoaded()})),this.shouldUseFLV(t)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){e.flv=n.createPlayer({type:"flv",url:t}),e.flv.attachMediaElement(e.player),e.flv.load(),e.props.onLoaded()})),t instanceof Array)this.player.load();else if((0,o.isMediaStream)(t))try{this.player.srcObject=t}catch(e){this.player.src=window.URL.createObjectURL(t)}}},{key:"play",value:function(){var t=this.player.play();t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(t){this.player.currentTime=t}},{key:"setVolume",value:function(t){this.player.volume=t}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(t){this.player.playbackRate=t}},{key:"getDuration",value:function(){if(!this.player)return null;var t=this.player,e=t.duration,n=t.seekable;return e===1/0&&n.length>0?n.end(n.length-1):e}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var t=this.player.buffered;if(0===t.length)return 0;var e=t.end(t.length-1),n=this.getDuration();return e>n?n:e}},{key:"getSource",value:function(t){var e=this.shouldUseHLS(t),n=this.shouldUseDASH(t),r=this.shouldUseFLV(t);if(!(t instanceof Array||(0,o.isMediaStream)(t)||e||n||r))return _.test(t)?t.replace("www.dropbox.com","dl.dropboxusercontent.com"):t}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.playing,r=t.loop,o=t.controls,a=t.muted,s=t.config,u=t.width,c=t.height,f=this.shouldUseAudio(this.props)?"audio":"video",h={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(f,l({ref:this.ref,src:this.getSource(e),style:h,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),e instanceof Array&&e.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(e.prototype,n),v}(i.Component);e.default=x,y(x,"displayName","FilePlayer"),y(x,"canPlay",a.canPlay.file)},3911:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(y,t);var e,n,r,a,s=(r=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function y(){var t;l(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),d(h(t),"duration",null),d(h(t),"currentTime",null),d(h(t),"secondsLoaded",null),d(h(t),"mute",(function(){t.callPlayer("mute")})),d(h(t),"unmute",(function(){t.callPlayer("unmute")})),d(h(t),"ref",(function(e){t.iframe=e})),t}return e=y,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.on("ready",(function(){e.player.isReady=!0,e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.player.setLoop(e.props.loop),e.props.muted&&e.player.mute(),setTimeout((function(){e.props.onReady()}))})))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(e.prototype,n),y}(i.Component);e.default=y,d(y,"displayName","Kaltura"),d(y,"canPlay",a.canPlay.kaltura)},143:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(v,t);var e,n,r,s,l=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function v(){var t;c(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(d(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),g(d(t),"duration",null),g(d(t),"currentTime",null),g(d(t),"secondsLoaded",null),g(d(t),"mute",(function(){})),g(d(t),"unmute",(function(){})),g(d(t),"ref",(function(e){t.iframe=e})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(t){e.player=t.PlayerWidget(e.iframe),e.player.ready.then((function(){e.player.events.play.on(e.props.onPlay),e.player.events.pause.on(e.props.onPause),e.player.events.ended.on(e.props.onEnded),e.player.events.error.on(e.props.error),e.player.events.progress.on((function(t,n){e.currentTime=t,e.duration=n})),e.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props,e=t.url,n=t.config,r=e.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&f(e.prototype,n),v}(i.Component);e.default=v,g(v,"displayName","Mixcloud"),g(v,"canPlay",a.canPlay.mixcloud),g(v,"loopOnEnded",!0)},2648:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(l,t);var e,n,r,a,s=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(a){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function l(){var t;c(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(d(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(d(t),"duration",null),g(d(t),"currentTime",null),g(d(t),"fractionLoaded",null),g(d(t),"mute",(function(){t.setVolume(0)})),g(d(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),g(d(t),"ref",(function(e){t.iframe=e})),t}return e=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;e||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(t){n.currentTime=t.currentPosition/1e3,n.fractionLoaded=t.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(t){return n.props.onError(t)}))),n.player.load(t,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(t){n.duration=t/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",1e3*t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:t,frameBorder:0,allow:"autoplay"})}}])&&f(e.prototype,n),l}(i.Component);e.default=v,g(v,"displayName","SoundCloud"),g(v,"canPlay",a.canPlay.soundcloud),g(v,"loopOnEnded",!0)},993:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(g,t);var e,n,r,s,y=(r=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(s){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){var t;l(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=y.call.apply(y,[this].concat(n))),"callPlayer",o.callPlayer),d(h(t),"duration",null),d(h(t),"currentTime",null),d(h(t),"secondsLoaded",null),d(h(t),"mute",(function(){t.callPlayer("mute")})),d(h(t),"unmute",(function(){t.callPlayer("unmute")})),d(h(t),"ref",(function(e){t.iframe=e})),t}return e=g,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(t){e.iframe&&(e.player=new t.Player(e.iframe),e.player.setLoop(e.props.loop),e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seeked",e.props.onSeek),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.duration,r=t.seconds;e.duration=n,e.currentTime=r})),e.player.on("buffered",(function(t){var n=t.percent;e.duration&&(e.secondsLoaded=e.duration*n)})),e.props.muted&&e.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(t),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&u(e.prototype,n),g}(i.Component);e.default=y,d(y,"displayName","Streamable"),d(y,"canPlay",a.canPlay.streamable)},9482:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g="twitch-player-",v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(m,t);var e,n,r,s,v=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function m(){var t;u(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=v.call.apply(v,[this].concat(n))),"callPlayer",o.callPlayer),y(p(t),"playerID",t.props.config.playerId||"".concat(g).concat((0,o.randomString)())),y(p(t),"mute",(function(){t.callPlayer("setMuted",!0)})),y(p(t),"unmute",(function(){t.callPlayer("setMuted",!1)})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playsinline,s=r.onError,u=r.config,c=r.controls,f=a.MATCH_URL_TWITCH_CHANNEL.test(t),h=f?t.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:t.match(a.MATCH_URL_TWITCH_VIDEO)[1];e?f?this.player.setChannel(h):this.player.setVideo("v"+h):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({video:f?"":h,channel:f?h:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||c,time:(0,o.parseStartTime)(t)},u.options));var r=e.Player,a=r.READY,s=r.PLAYING,p=r.PAUSE,d=r.ENDED,g=r.ONLINE,v=r.OFFLINE;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(p,n.props.onPause),n.player.addEventListener(d,n.props.onEnded),n.player.addEventListener(g,n.props.onLoaded),n.player.addEventListener(v,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&c(e.prototype,n),m}(i.Component);e.default=v,y(v,"displayName","Twitch"),y(v,"canPlay",a.canPlay.twitch),y(v,"loopOnEnded",!0)},6596:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,s,g=(r=v,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){var t;u(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=g.call.apply(g,[this].concat(n))),"callPlayer",o.callPlayer),y(p(t),"mute",(function(){t.setVolume(0)})),y(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(p(t),"ref",(function(e){t.container=e})),t}return e=v,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.config,s=n.onError,u=n.onDuration,c=t&&t.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(t){e.container&&(t.api.addReadyListener((function(t,n){e.player=n,e.player.on("ready",e.props.onReady),e.player.on("play",e.props.onPlay),e.player.on("pause",e.props.onPause),e.player.on("seek",e.props.onSeek),e.player.on("playerComplete",e.props.onEnded)}),c),t.api.renderPlayer(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({uuid:c,container:e.container,autoplay:r?1:0},i.options)),t.api.getPlayerMetadata(c).then((function(t){e.duration=t.length_in_seconds,u(t.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(t){this.callPlayer("seek",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackSpeed",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}],n&&c(e.prototype,n),v}(i.Component);e.default=g,y(g,"displayName","Vidyard"),y(g,"canPlay",a.canPlay.vidyard)},868:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(g,t);var e,n,r,a,s=(r=g,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(a){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function g(){var t;u(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),y(p(t),"duration",null),y(p(t),"currentTime",null),y(p(t),"secondsLoaded",null),y(p(t),"mute",(function(){t.setVolume(0)})),y(p(t),"unmute",(function(){null!==t.props.volume&&t.setVolume(t.props.volume)})),y(p(t),"ref",(function(e){t.container=e})),t}return e=g,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){e.container&&(e.player=new n.Player(e.container,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({url:t,autoplay:e.props.playing,muted:e.props.muted,loop:e.props.loop,playsinline:e.props.playsinline,controls:e.props.controls},e.props.config.playerOptions)),e.player.ready().then((function(){var t=e.container.querySelector("iframe");t.style.width="100%",t.style.height="100%"})).catch(e.props.onError),e.player.on("loaded",(function(){e.props.onReady(),e.refreshDuration()})),e.player.on("play",(function(){e.props.onPlay(),e.refreshDuration()})),e.player.on("pause",e.props.onPause),e.player.on("seeked",(function(t){return e.props.onSeek(t.seconds)})),e.player.on("ended",e.props.onEnded),e.player.on("error",e.props.onError),e.player.on("timeupdate",(function(t){var n=t.seconds;e.currentTime=n})),e.player.on("progress",(function(t){var n=t.seconds;e.secondsLoaded=n})),e.player.on("bufferstart",e.props.onBuffer),e.player.on("bufferend",e.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var t=this;this.player.getDuration().then((function(e){t.duration=e}))}},{key:"play",value:function(){var t=this.callPlayer("play");t&&t.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(t){this.callPlayer("setCurrentTime",t)}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var t={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:t})}}],n&&c(e.prototype,n),g}(i.Component);e.default=g,y(g,"displayName","Vimeo"),y(g,"canPlay",a.canPlay.vimeo),y(g,"forceLoad",!0)},8018:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v="wistia-player-",m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,r,s,l=(r=m,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(s){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function m(){var t;c(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return g(d(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),g(d(t),"playerID",t.props.config.playerId||"".concat(v).concat((0,o.randomString)())),g(d(t),"onPlay",(function(){var e;return(e=t.props).onPlay.apply(e,arguments)})),g(d(t),"onPause",(function(){var e;return(e=t.props).onPause.apply(e,arguments)})),g(d(t),"onSeek",(function(){var e;return(e=t.props).onSeek.apply(e,arguments)})),g(d(t),"onEnded",(function(){var e;return(e=t.props).onEnded.apply(e,arguments)})),g(d(t),"mute",(function(){t.callPlayer("mute")})),g(d(t),"unmute",(function(){t.callPlayer("unmute")})),t}return e=m,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(t){var e=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,l=n.config,c=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(t){l.customControls&&l.customControls.forEach((function(e){return t.defineControl(e)})),window._wq=window._wq||[],window._wq.push({id:e.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},l.options),onReady:function(t){e.player=t,e.unbind(),e.player.bind("play",e.onPlay),e.player.bind("pause",e.onPause),e.player.bind("seek",e.onSeek),e.player.bind("end",e.onEnded),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(t){this.callPlayer("time",t)}},{key:"setVolume",value:function(t){this.callPlayer("volume",t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("playbackRate",t)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var t=this.props.url,e=t&&t.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(e);return i.default.createElement("div",{id:this.playerID,key:e,className:n,style:{width:"100%",height:"100%"}})}}],n&&f(e.prototype,n),m}(i.Component);e.default=m,g(m,"displayName","Wistia"),g(m,"canPlay",a.canPlay.wistia),g(m,"loopOnEnded",!0)},356:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(n(7294)),o=n(8045),a=n(1776);function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function y(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,b=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(f,t);var e,n,r,s,l=(r=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(s){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function f(){var t;h(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(g(t=l.call.apply(l,[this].concat(n))),"callPlayer",o.callPlayer),m(g(t),"parsePlaylist",(function(e){return e instanceof Array?{listType:"playlist",playlist:e.map(t.getID).join(",")}:_.test(e)?{listType:"playlist",list:c(e.match(_),2)[1].replace(/^UC/,"UU")}:b.test(e)?{listType:"user_uploads",list:c(e.match(b),2)[1]}:{}})),m(g(t),"onStateChange",(function(e){var n=e.data,r=t.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,f=r.config,h=f.playerVars,p=f.onUnstarted,d=window.YT.PlayerState,y=d.UNSTARTED,g=d.PLAYING,v=d.PAUSED,m=d.BUFFERING,_=d.ENDED,b=d.CUED;if(n===y&&p(),n===g&&(i(),s()),n===v&&o(),n===m&&a(),n===_){var x=!!t.callPlayer("getPlaylist");c&&!x&&(h.start?t.seekTo(h.start):t.play()),l()}n===b&&u()})),m(g(t),"mute",(function(){t.callPlayer("mute")})),m(g(t),"unmute",(function(){t.callPlayer("unMute")})),m(g(t),"ref",(function(e){t.container=e})),t}return e=f,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(t){return!t||t instanceof Array||_.test(t)?null:t.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(t,e){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,l=r.controls,c=r.loop,f=r.config,h=r.onError,p=f.playerVars,d=f.embedOptions,y=this.getID(t);if(e)return _.test(t)||b.test(t)||t instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(t)):void this.player.cueVideoById({videoId:y,startSeconds:(0,o.parseStartTime)(t)||p.start,endSeconds:(0,o.parseEndTime)(t)||p.end});(0,o.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(t){return t.loaded})).then((function(e){n.container&&(n.player=new e.Player(n.container,u({width:"100%",height:"100%",videoId:y,playerVars:u(u({autoplay:i?1:0,mute:a?1:0,controls:l?1:0,start:(0,o.parseStartTime)(t),end:(0,o.parseEndTime)(t),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(t)),p),events:{onReady:function(){c&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(t){return h(t.data)}},host:x.test(t)?"https://www.youtube-nocookie.com":void 0},d)))}),h),d.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(t){this.callPlayer("seekTo",t),this.props.playing||this.pause()}},{key:"setVolume",value:function(t){this.callPlayer("setVolume",100*t)}},{key:"setPlaybackRate",value:function(t){this.callPlayer("setPlaybackRate",t)}},{key:"setLoop",value:function(t){this.callPlayer("setLoop",t)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var t={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:t},i.default.createElement("div",{ref:this.ref}))}}])&&p(e.prototype,n),f}(i.Component);e.default=E,m(E,"displayName","YouTube"),m(E,"canPlay",a.canPlay.youtube)},6497:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7294),i=n(8045),o=n(1776);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}var u=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(356))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(2648))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(868))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(1972))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(993))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(8018))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(9482))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6807))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(143))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(6596))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(3911))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(t){return o.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(t)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return l(n(4926))}))}))}];e.default=u},5741:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultProps=e.propTypes=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r},o=i.default.string,a=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,f=i.default.object,h=i.default.func,p=i.default.node,d={url:u([o,l,f]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:u([o,s]),height:u([o,s]),style:f,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:u([a,o]),playIcon:p,previewTabIndex:s,fallback:p,wrapper:u([o,h,c({render:h.isRequired})]),config:c({soundcloud:c({options:f}),youtube:c({playerVars:f,embedOptions:f,onUnstarted:h}),facebook:c({appId:o,version:o,playerId:o,attributes:f}),dailymotion:c({params:f}),vimeo:c({playerOptions:f}),file:c({attributes:f,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:f,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:c({options:f,playerId:o,customControls:l}),mixcloud:c({options:f}),twitch:c({options:f,playerId:o}),vidyard:c({options:f})}),onReady:h,onStart:h,onPlay:h,onPause:h,onBuffer:h,onBufferEnd:h,onEnded:h,onError:h,onDuration:h,onSeek:h,onProgress:h,onClickPreview:h,onEnablePIP:h,onDisablePIP:h};e.propTypes=d;var y=function(){},g={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:y,onStart:y,onPlay:y,onPause:y,onBuffer:y,onBufferEnd:y,onEnded:y,onError:y,onDuration:y,onSeek:y,onProgress:y,onClickPreview:y,onEnablePIP:y,onDisablePIP:y};e.defaultProps=g},8045:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStartTime=function(t){return f(t,s)},e.parseEndTime=function(t){return f(t,l)},e.randomString=function(){return Math.random().toString(36).substr(2,5)},e.queryString=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},e.getSDK=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=h(e);return a&&i(a)?Promise.resolve(a):new Promise((function(r,i){if(p[t])p[t].push({resolve:r,reject:i});else{p[t]=[{resolve:r,reject:i}];var a=function(e){p[t].forEach((function(t){return t.resolve(e)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(h(e))}}o(t,(function(r){r?(p[t].forEach((function(t){return t.reject(r)})),p[t]=null):n||a(h(e))}))}}))},e.getConfig=function(t,e){return(0,i.default)(e.config,t.config)},e.omit=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(e=[]).concat.apply(e,r),a={},s=Object.keys(t),l=0,u=s;l<u.length;l++){var c=u[l];-1===o.indexOf(c)&&(a[c]=t[c])}return a},e.callPlayer=function(t){var e;if(!this.player||!this.player[t]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c – ");return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=this.player)[t].apply(e,i)},e.isMediaStream=function(t){return"undefined"!=typeof window&&void 0!==window.MediaStream&&t instanceof window.MediaStream},e.isBlobUrl=function(t){return/^blob:/.test(t)},e.supportsWebKitPresentationMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),e=!1===/iPhone|iPod/.test(navigator.userAgent);return t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSetPresentationMode&&e};var r=o(n(9090)),i=o(n(9996));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=/[?&#](?:start|t)=([0-9hms]+)/,l=/[?&#]end=([0-9hms]+)/,u=/(\d+)(h|m|s)/g,c=/^\d+$/;function f(t,e){if(!(t instanceof Array)){var n=t.match(e);if(n){var r=n[1];if(r.match(u))return function(t){for(var e,n,r=0,i=u.exec(t);null!==i;){var o=(n=3,function(t){if(Array.isArray(t))return t}(e=i)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,n)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[1],l=o[2];"h"===l&&(r+=60*parseInt(s,10)*60),"m"===l&&(r+=60*parseInt(s,10)),"s"===l&&(r+=parseInt(s,10)),i=u.exec(t)}return r}(r);if(c.test(r))return parseInt(r)}}}function h(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var p={}},2827:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=n(1193),o=n(9069),a=n(448),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var d=function(t){var e,n;function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleRefs={},e.lastHandleRect=null,e.slack=null,e}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n);var l=a.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(t,e){var n=this.props,r=n.minConstraints,i=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!i&&!o)return[t,e];if(o){var a=this.props.width/this.props.height,s=t-this.props.width,l=e-this.props.height;Math.abs(s)>Math.abs(l*a)?e=t/a:t=e*a}var u=t,c=e,f=this.slack||[0,0],h=f[0],p=f[1];return t+=h,e+=p,r&&(t=Math.max(r[0],t),e=Math.max(r[1],e)),i&&(t=Math.min(i[0],t),e=Math.min(i[1],e)),this.slack=[h+(u-t),p+(c-e)],[t,e]},l.resizeHandler=function(t,e){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY;"onResizeStart"===t&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==e&&"s"!==e,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==e&&"w"!==e;if(l||u){var c=e[0],f=e[e.length-1],h=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===f&&(a+=h.left-n.lastHandleRect.left),"n"===c&&(s+=h.top-n.lastHandleRect.top)),n.lastHandleRect=h,"w"===f&&(a=-a),"n"===c&&(s=-s);var p=n.props.width+(l?a/n.props.transformScale:0),d=n.props.height+(u?s/n.props.transformScale:0),y=n.runConstraints(p,d);p=y[0],d=y[1];var g=p!==n.props.width||d!==n.props.height,v="function"==typeof n.props[t]?n.props[t]:null;v&&!("onResize"===t&&!g)&&(null==r.persist||r.persist(),v(r,{node:o,size:{width:p,height:d},handle:e})),"onResizeStop"===t&&n.resetData()}}},l.renderResizeHandle=function(t,e){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+t,ref:e});if("function"==typeof n)return n(t,e);var i=f({ref:e},"string"==typeof n.type?{}:{handleAxis:t});return r.cloneElement(n,i)},l.render=function(){var t=this,e=this.props,n=e.children,a=e.className,l=e.draggableOpts,c=(e.width,e.height,e.handle,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,e.resizeHandles),h=(e.transformScale,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,s));return(0,o.cloneElement)(n,f(f({},h),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(n.props.children,c.map((function(e){var n,o=null!=(n=t.handleRefs[e])?n:t.handleRefs[e]=r.createRef();return r.createElement(i.DraggableCore,u({},l,{nodeRef:o,key:"resizableHandle-"+e,onStop:t.resizeHandler("onResizeStop",e),onStart:t.resizeHandler("onResizeStart",e),onDrag:t.resizeHandler("onResize",e)}),t.renderResizeHandle(e,o))})))}))},a}(r.Component);e.default=d,d.propTypes=a.resizableProps,d.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},8735:(t,e,n)=>{"use strict";e.default=void 0;var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}(n(7294)),i=l(n(5697)),o=l(n(2827)),a=n(448),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={width:e.props.width,height:e.props.height,propsWidth:e.props.width,propsHeight:e.props.height},e.onResize=function(t,n){var r=n.size;e.props.onResize?(null==t.persist||t.persist(),e.setState(r,(function(){return e.props.onResize&&e.props.onResize(t,n)}))):e.setState(r)},e}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n),i.getDerivedStateFromProps=function(t,e){return e.propsWidth!==t.width||e.propsHeight!==t.height?{width:t.width,height:t.height,propsWidth:t.width,propsHeight:t.height}:null},i.prototype.render=function(){var t=this.props,e=t.handle,n=t.handleSize,i=(t.onResize,t.onResizeStart),a=t.onResizeStop,l=t.draggableOpts,u=t.minConstraints,f=t.maxConstraints,p=t.lockAspectRatio,d=t.axis,y=(t.width,t.height,t.resizeHandles),g=t.style,v=t.transformScale,m=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,s);return r.createElement(o.default,{axis:d,draggableOpts:l,handle:e,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:f,minConstraints:u,onResizeStart:i,onResize:this.onResize,onResizeStop:a,resizeHandles:y,transformScale:v,width:this.state.width},r.createElement("div",c({},m,{style:h(h({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},i}(r.Component);e.default=y,y.propTypes=h(h({},a.resizableProps),{},{children:i.default.element})},448:(t,e,n)=>{"use strict";e.__esModule=!0,e.resizableProps=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r};n(1193);var o={axis:i.default.oneOf(["both","x","y","none"]),className:i.default.string,children:i.default.element.isRequired,draggableOpts:i.default.shape({allowAnyClick:i.default.bool,cancel:i.default.string,children:i.default.node,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:i.default.node,grid:i.default.arrayOf(i.default.number),handle:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number}),height:i.default.number.isRequired,handle:i.default.oneOfType([i.default.node,i.default.func]),handleSize:i.default.arrayOf(i.default.number),lockAspectRatio:i.default.bool,maxConstraints:i.default.arrayOf(i.default.number),minConstraints:i.default.arrayOf(i.default.number),onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,resizeHandles:i.default.arrayOf(i.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:i.default.number,width:i.default.number.isRequired};e.resizableProps=o},9069:(t,e,n)=>{"use strict";e.__esModule=!0,e.cloneElement=function(t,e){return e.style&&t.props.style&&(e.style=a(a({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),i.default.cloneElement(t,e)};var r,i=(r=n(7294))&&r.__esModule?r:{default:r};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1706:(t,e,n)=>{"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=n(2827).default,t.exports.ResizableBox=n(8735).default},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),e.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function g(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}function v(){}function m(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=g.prototype;var _=m.prototype=new v;_.constructor=m,r(_,g.prototype),_.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function P(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+P(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),O(a,e,n,"",(function(t){return t}))):null!=a&&(S(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+P(s=t[u],u);l+=O(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=O(s=s.value,e,n,c=r+P(s,u++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function T(t,e,n){if(null==t)return t;var r=[],i=0;return O(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function R(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var k={current:null};function D(){var t=k.current;if(null===t)throw Error(p(321));return t}var I={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:T,forEach:function(t,e,n){T(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return T(t,(function(){e++})),e},toArray:function(t){return T(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)x.call(e,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:R}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return D().useCallback(t,e)},e.useContext=function(t,e){return D().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return D().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return D().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return D().useLayoutEffect(t,e)},e.useMemo=function(t,e){return D().useMemo(t,e)},e.useReducer=function(t,e,n){return D().useReducer(t,e,n)},e.useRef=function(t){return D().useRef(t)},e.useState=function(t){return D().useState(t)},e.version="17.0.2"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,f=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(f,0),t}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(f,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,v=-1,m=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();_=t+m;try{g(!0,t)?x.postMessage(null):(y=!1,g=null)}catch(t){throw x.postMessage(null),t}}else y=!1},n=function(t){g=t,y||(y=!0,x.postMessage(null))},r=function(t,n){v=h((function(){t(e.unstable_now())}),n)},i=function(){p(v),v=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function w(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var P=[],O=[],T=1,R=null,k=3,D=!1,I=!1,L=!1;function M(t){for(var e=w(O);null!==e;){if(null===e.callback)S(O);else{if(!(e.startTime<=t))break;S(O),e.sortIndex=e.expirationTime,E(P,e)}e=w(O)}}function j(t){if(L=!1,M(t),!I)if(null!==w(P))I=!0,n(A);else{var e=w(O);null!==e&&r(j,e.startTime-t)}}function A(t,n){I=!1,L&&(L=!1,i()),D=!0;var o=k;try{for(M(n),R=w(P);null!==R&&(!(R.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=R.callback;if("function"==typeof a){R.callback=null,k=R.priorityLevel;var s=a(R.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?R.callback=s:R===w(P)&&S(P),M(n)}else S(P);R=w(P)}if(null!==R)var l=!0;else{var u=w(O);null!==u&&r(j,u.startTime-n),l=!1}return l}finally{R=null,k=o,D=!1}}var F=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||D||(I=!0,n(A))},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return w(P)},e.unstable_next=function(t){switch(k){case 1:case 2:case 3:var e=3;break;default:e=k}var n=k;k=e;try{return t()}finally{k=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=k;k=t;try{return e()}finally{k=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:T++,callback:o,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,E(O,t),null===w(P)&&t===w(O)&&(L?i():L=!0,r(j,a-s))):(t.sortIndex=l,E(P,t),I||D||(I=!0,n(A))),t},e.unstable_wrapCallback=function(t){var e=k;return function(){var n=k;k=e;try{return t.apply(this,arguments)}finally{k=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},2473:t=>{"use strict";t.exports=function(){}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(7294),e=n(3935),r=n(5697),i=n.n(r),o=n(7398),a=n.n(o),s=n(7037),l=n.n(s),u=n(3311),c=n.n(u),f=n(3063),h=n.n(f),p=n(9734),d=n.n(p),y=n(361),g=n.n(y),v=n(6998),m=n.n(v);function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(t,e){return t.start_time<e.end_time&&t.end_time>e.start_time}function E(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(x(o,i[a]))return i[a].start_time>t?i[a].start_time:null;return Math.min(e,n)}function w(t,e,n,r){var i=function(t,e,n,r){if(e<=t)throw new Error("end time must be greater than start time.");if(!n)throw new Error("A sequence must have a duration.");for(var i=d()(r.slice(),"start_time"),o={start_time:t,end_time:e},a=0;a<i.length;a++)if(x(o,i[a])){if(t<i[a].start_time)continue;return i[a].end_time<e?i[a].end_time:null}return Math.max(t,0)}(t,e,n,r),o=E(i,e,n,r);return i>=o||!a()(i)||!a()(o)?{}:{start:i,end:o}}function S(t,e){if(!t)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];i.end_time<=t&&n.push(i)}return n}function C(t,e,n){var r,i=t.assets[e],o=(r=i.sources).youtube&&r.youtube.url?{url:m()(r.youtube.url),host:"youtube"}:r.vimeo&&r.vimeo.url?{url:r.vimeo.url,host:"vimeo"}:r.video&&r.video.url?{url:r.video.url}:r.mp4_pseudo&&r.mp4_pseudo.url?{url:r.mp4_pseudo.url}:r.mp4_panopto&&r.mp4_panopto.url?{url:r.mp4_panopto.url}:r.mp4_audio&&r.mp4_audio.url?{url:r.mp4_audio.url}:r.image&&r.image.url?{url:r.image.url,width:r.image.width,height:r.image.height}:r.pdf&&r.pdf.url?{url:r.pdf.url}:null,a=function(t,e){for(var n=0;n<t.annotations.length&&e;n++){var r=t.annotations[n];if(r.id===e&&!r.is_global_annotation)return{duration:r.range2-r.range1||30,range1:r.range1,annotationData:r.annotation_data}}return{duration:void 0,range1:0}}(i,n),s="image"===i.primary_type?"img":"vid";"pdf"===i.primary_type&&(s="pdf");var l="img"===s||"pdf"===s?30:a.duration;return{url:o.url,host:o.host,type:s,startTime:a.range1,duration:l,data:a.annotationData,width:o.width,height:o.height}}function P(t){var e="image"===t.asset.media_type?"img":"vid";"pdf"===t.asset.media_type&&(e="pdf");var n=function(t){return"image"===t.asset.media_type?30:t.is_global_annotation?void 0:t.range2-t.range1||30}(t),r=t.asset.primary_source.url;return"youtube"===t.asset.primary_source.label&&(r=m()(r)),{id:t.id,assetId:t.asset.id,url:r,host:t.asset.primary_source.label,type:e,startTime:t.range1||0,duration:n,data:t.annotation_data,width:t.asset.primary_source.width,height:t.asset.primary_source.height}}function O(t){var e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return a()(n)&&a()(r)&&a()(i)?60*n+r+i/100:null}function T(t){var e=function(t){var e=Math.floor(t/60),n=Math.floor(t-60*e);return[e,n,Math.min(99,Math.round(100*(t-60*e-n)))]}(t);return R(e[0])+":"+R(e[1])+":"+R(e[2])}function R(t){return(t<10?"0":"")+t}function k(t){var e,n=g()(t),r=_(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;delete i.host,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function D(t){var e,n=g()(t),r=_(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.text=i.source,delete i.source}}catch(t){r.e(t)}finally{r.f()}return n}function I(t){var e,n=0,r=_(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),n++}}catch(t){r.e(t)}finally{r.f()}return t}function L(t){var e,n=0,r=_(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.type="txt",i.key=n,i.start_time=parseFloat(i.start_time),i.end_time=parseFloat(i.end_time),i.source=i.text,delete i.text,n++}}catch(t){r.e(t)}finally{r.f()}return t}function M(t,e){var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i}}catch(t){r.e(t)}finally{r.f()}return null}function j(t){for(var e=0;e<t.length;e++)t[e].key=e}function A(t,e,n){var r=c()(t,["key",parseInt(e.i,10)]),i=t.slice(),o=c()(i,["key",parseInt(e.i,10)]),a=e.x/1e3*n;if(a===r.start_time||Math.abs(a-r.start_time)<=.001*n)return null;var s=o.end_time-o.start_time;return o.start_time=a,o.end_time=o.start_time+s,(i=h()(i,["key",o.key])).push(o),d()(i,"key")}function F(t){return t.replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function N(t,e,n){jQuery(window).trigger("collection.open",[{allowAssets:e,media_type:t,disable:"all"===t?[]:["media_type"],caller:n}])}function U(t,e,n,r){var i=n?"collection.annotation.create":"collection.annotation.edit";jQuery(window).trigger(i,[{caller:r,assetId:t,annotationId:e}])}var B=n(9968),z=n.n(B);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},H(t,e)}function X(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var Y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(i);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return X(this,t)});function s(){return G(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement("div",{className:"jux-vid-item-thumb",style:{backgroundImage:"url("+this.props.url+")"}})}}])&&V(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Q(t,e)}function J(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}Y.propTypes={url:i().string.isRequired};var tt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(i);if(o){var n=$(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return J(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={vimeoThumbnailUrl:null},e}return n=s,r=[{key:"vimeoThumbnailListener",value:function(t){var e=t.target.responseText,n=null;try{n=JSON.parse(e)}catch(t){return void console.error("Can't parse vimeo thumbnail JSON",t)}if(n){var r=n[0].thumbnail_medium;this.setState({vimeoThumbnailUrl:r})}else console.error("Can't parse vimeo thumbnail JSON")}},{key:"getVimeoThumbnailUrl",value:function(t){var e=function(t){return/^.*vimeo\.com\/([0-9]+)/.exec(t)[1]}(t.source),n="https://vimeo.com/api/v2/video/"+e+".json",r=new XMLHttpRequest;r.addEventListener("load",this.vimeoThumbnailListener.bind(this)),r.open("GET",n,!0),r.send(null)}},{key:"renderVidThumb",value:function(e){if("youtube"===e.host){var n="https://img.youtube.com/vi/"+e.source+"/default.jpg";return t.createElement(Y,{url:n})}return"vimeo"===e.host?(this.state.vimeoThumbnailUrl||this.getVimeoThumbnailUrl(e),this.state.vimeoThumbnailUrl?t.createElement(Y,{url:this.state.vimeoThumbnailUrl}):""):t.createElement("video",{className:"jux-media-item-middle"},t.createElement("source",{src:e.source,type:"video/mp4"}))}},{key:"renderImgThumb",value:function(e){var n={backgroundImage:"url("+e.source+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return t.createElement("div",{className:"jux-media-item-middle",style:n})}},{key:"renderTxtThumb",value:function(e){var n=10;return this.el&&this.el.clientWidth&&(n=Math.round(this.el.clientWidth/15)),t.createElement("p",{className:"jux-media-item-middle"},function(t,e,n){if(void 0===t)return"";void 0===n&&(n="…");var r=t.replace(/(<([^>]+)>)/g,"");return r.length>e?r.substr(0,e-n.length)+n:r}(e.source,n))}},{key:"componentDidMount",value:function(){"txt"===this.props.data.type&&this.forceUpdate()}},{key:"render",value:function(){var e=this,n="";"vid"===this.props.data.type?n=this.renderVidThumb(this.props.data):"img"===this.props.data.type?n=this.renderImgThumb(this.props.data):"txt"===this.props.data.type&&(n=this.renderTxtThumb(this.props.data));var r=this.props.className;return this.props.isActive&&(r+=" jux-item-active"),t.createElement("div",{data:this.props.data,ref:function(t){return e.el=t},"data-dragging":this.props.dragging,className:r,style:this.props.style,onClick:this.onEditButtonClick.bind(this),onMouseDown:this.props.onMouseDown,onTouchEnd:this.props.onTouchEnd,onTouchStart:this.props.onTouchStart},n)}},{key:"onEditButtonClick",value:function(t){this.props.onEditButtonClick(t,this)}}],r&&Z(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},it(t,e)}function ot(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}tt.propTypes={className:i().string,data:i().object.isRequired,dragging:i().bool,isActive:i().bool.isRequired,style:i().object,onEditButtonClick:i().func,onMouseDown:i().func,onTouchEnd:i().func,onTouchStart:i().func};var st=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(i);if(o){var n=at(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ot(this,t)});function s(){return nt(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.callbackParent(t,this.props.absoluteTimecode)}},{key:"render",value:function(){return t.createElement("div",{className:"jux-snap-column",onClick:this.onClick.bind(this)})}}])&&rt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}st.propTypes={absoluteTimecode:i().number.isRequired,callbackParent:i().func.isRequired};var ut=["style","className","key","children"];function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(t,e){return ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ft(t,e)}function ht(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}function dt(){return dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}function yt(t){return 10*t}var gt=t.forwardRef((function(e){var n=e.style,r=e.className,i=e.key,o=e.children,a=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,ut);return t.createElement(tt,dt({style:n,className:r,key:i},a),o)}));gt.propTypes={style:i().object,className:i().string,children:i().array};var vt=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pt(i);if(o){var n=pt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ht(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).width=910,e}return n=s,r=[{key:"generateLayout",value:function(t){var e=[],n=this;return t.map((function(t){if(n.props.duration&&!(t.start_time>n.props.duration)){var r=yt(Math.min(t.end_time-t.start_time,n.props.duration)/n.props.duration*100),i={x:yt(t.start_time/n.props.duration*100),y:0,w:r,h:49};e.push(i)}})),e}},{key:"generateItems",value:function(e){var n=[],r=this;return e.map((function(e,i){if(r.props.duration&&!(e.start_time>r.props.duration)){var o=yt(Math.min(e.end_time-e.start_time,r.props.duration)/r.props.duration*100),a=yt(e.start_time/r.props.duration*100),s=function(t,e,n){return!(!t||t[0]!==e||parseInt(t[1],10)!==n)}(r.props.activeElement,r.type,i),l=t.createElement(gt,{onEditButtonClick:r.onEditButtonClick.bind(r),isActive:s,key:i,data:e,"data-grid":{x:a,y:0,w:o,h:49}});n.push(l)}})),n}},{key:"generateSnapColumns",value:function(){for(var e=[],n=this.width/10,r=this.props.duration/n,i=0;i<n;i++){var o=r*i;e.push(t.createElement(st,{key:i,idx:i,absoluteTimecode:o,callbackParent:this.onAddTrackElementClick.bind(this)}))}return e}},{key:"onEditButtonClick",value:function(t,e){this.props.onTrackEditButtonClick(t,e)}},{key:"closeItemAdder",value:function(){this.setState({adding:!1})}},{key:"renderItemAdder",value:function(){return null}},{key:"render",value:function(){var e="jux-track-container jux-"+this.type,n=0===this.props.data.length?"block":"none";return t.createElement("div",{className:e},t.createElement("div",{className:"track-icon"}),t.createElement("div",{className:"jux-track"},t.createElement("div",{className:"jux-track-instructions",style:{display:n}},this.helpText),this.renderItemAdder(),this.generateSnapColumns(),t.createElement(z(),{width:this.width,margin:[0,0],className:"layout react-grid-layout",cols:1e3,onDragStop:this.props.onDragStop,onClick:this.onClick,maxRows:1,rowHeight:1,autoSize:!1,isResizable:!1,layout:this.generateLayout(this.props.data),preventCollision:!0},this.generateItems(this.props.data))))}},{key:"onAddWithoutPrimaryVid",value:function(){this.props.onAddWithoutPrimaryVid()}}],r&&ct(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bt(t,e)}function xt(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}vt.propTypes={data:i().array.isRequired,duration:i().number,onAddWithoutPrimaryVid:i().func,onDragStop:i().func.isRequired,onTrackEditButtonClick:i().func.isRequired};var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Et(r);if(i){var n=Et(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xt(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).type="media",e.helpText="Click on this track to place video and audio elements",e}return e=a,(n=[{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?N("all",!1,{type:"track",timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"getHelpText",value:function(){return"Click on this track to place video and audio elements"}}])&&_t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(vt),St=n(2004),Ct=n(3279),Pt=n.n(Ct);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Tt(t,e){return Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tt(t,e)}function Rt(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(o,t);var e,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kt(n);if(r){var i=kt(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Rt(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,t)).youtubeConfig={playerVars:{fs:0,disablekb:1,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0}},e.vimeoConfig={iframeParams:{autopause:0,badge:0,byline:0,fullscreen:0,portrait:0,title:0}},e}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}(t.Component);function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e){return Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mt(t,e)}function jt(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}var Ft=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(i);if(o){var n=At(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jt(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={duration:null},e.debouncedSeek=Pt()(e.seekTo,200,{leading:!0,trailing:!1}),e}return n=s,(r=[{key:"render",value:function(){var e=this,n=this.props.data.source;"youtube"===this.props.data.host&&(n="https://www.youtube.com/watch?v="+this.props.data.source);var r=this.props.hidden?0:this.props.data.volume/100,i=this.props.data.start_time-this.props.time,o=i>0&&i<2;o&&this.debouncedSeek(this.props.time/this.props.sequenceDuration);var a=o||!this.props.hidden&&this.props.playing;return t.createElement(St.Z,{ref:function(t){return e.player=t},width:480,height:360,url:n,volume:r,style:{display:this.props.hidden?"none":"block"},onDuration:this.onDuration.bind(this),onStart:this.onStart.bind(this),onPlay:this.onPlay.bind(this),playing:a,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}})}},{key:"pause",value:function(){this.player&&this.player.player&&this.player.player.pause&&this.player.player.pause()}},{key:"onDuration",value:function(t){this.setState({duration:t})}},{key:"onPlay",value:function(){this.props.playing||this.props.hidden||this.pause()}},{key:"onStart",value:function(){var t=this.props.data;if(t.annotationStartTime&&this.state.duration){var e=t.annotationStartTime/this.state.duration;this.player.seekTo(e)}}},{key:"seekTo",value:function(t){if(this.player){var e=this.props.sequenceDuration*t,n=this.props.data,r=(e-n.start_time+(n.annotationStartTime||0))/this.state.duration;r>-1&&r<=1&&this.player.seekTo(r)}}}])&&Lt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(Dt),Nt={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5"};Nt.WEBGL_MAX_TEXTURE_SIZE,Nt.WEBGL_EXTENSIONS,Nt.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Nt.nullFunction=function(){},Nt.getUid=function(t){return t.ol_uid||(t.ol_uid=++Nt.uidCounter_)},Nt.uidCounter_=0;const Ut=Nt;var Bt=function(t){var e=Ut.VERSION?Ut.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};Ut.inherits(Bt,Error);const zt=Bt;const Wt={assert:function(t,e){if(!t)throw new zt(e)}};var Gt={};Gt.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},Gt.clear=function(t){for(var e in t)delete t[e]},Gt.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Gt.isEmpty=function(t){var e;for(e in t)return!1;return!e};const Vt=Gt;var Ht={bindListener_:function(t){var e=function(e){var n=t.listener,r=t.bindTo||t.target;return t.callOnce&&Ht.unlistenByKey(t),n.call(r,e)};return t.boundListener=e,e},findListener_:function(t,e,n,r){for(var i,o=0,a=t.length;o<a;++o)if((i=t[o]).listener===e&&i.bindTo===n)return r&&(i.deleteIndex=o),i},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=Ht.getListeners(t,e);if(n){for(var r=0,i=n.length;r<i;++r)t.removeEventListener(e,n[r].boundListener),Vt.clear(n[r]);n.length=0;var o=t.ol_lm;o&&(delete o[e],0===Object.keys(o).length&&delete t.ol_lm)}},listen:function(t,e,n,r,i){var o=Ht.getListenerMap_(t),a=o[e];a||(a=o[e]=[]);var s=Ht.findListener_(a,n,r,!1);return s?i||(s.callOnce=!1):(s={bindTo:r,callOnce:!!i,listener:n,target:t,type:e},t.addEventListener(e,Ht.bindListener_(s)),a.push(s)),s},listenOnce:function(t,e,n,r){return Ht.listen(t,e,n,r,!0)},unlisten:function(t,e,n,r){var i=Ht.getListeners(t,e);if(i){var o=Ht.findListener_(i,n,r,!0);o&&Ht.unlistenByKey(o)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=Ht.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&Ht.removeListeners_(t.target,t.type)}Vt.clear(t)}},unlistenAll:function(t){var e=Ht.getListenerMap_(t);for(var n in e)Ht.removeListeners_(t,n)}};const Xt=Ht,qt="change",Yt="clear",Kt="click",Zt="dblclick",Qt="error",Jt="keydown",$t="keypress",te="load",ee="mousedown",ne="mousewheel",re="MSPointerDown",ie="resize",oe="touchstart",ae="wheel",se="propertychange";var le=function(){};le.prototype.disposed_=!1,le.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},le.prototype.disposeInternal=Ut.nullFunction;const ue=le;var ce=function(t){this.propagationStopped,this.type=t,this.target=null};ce.prototype.preventDefault=ce.prototype.stopPropagation=function(){this.propagationStopped=!0},ce.stopPropagation=function(t){t.stopPropagation()},ce.preventDefault=function(t){t.preventDefault()};const fe=ce;var he=function(){ue.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};Ut.inherits(he,ue),he.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},he.prototype.dispatchEvent=function(t){var e="string"==typeof t?new fe(t):t,n=e.type;e.target=this;var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,a=i.length;o<a;++o)if(!1===i[o].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,Ut.nullFunction);delete this.dispatching_[n]}return r}},he.prototype.disposeInternal=function(){Xt.unlistenAll(this)},he.prototype.getListeners=function(t){return this.listeners_[t]},he.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},he.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=Ut.nullFunction,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}};const pe=he;var de=function(){pe.call(this),this.revision_=0};Ut.inherits(de,pe),de.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Xt.unlistenByKey(t[e]);else Xt.unlistenByKey(t)},de.prototype.changed=function(){++this.revision_,this.dispatchEvent(qt)},de.prototype.dispatchEvent,de.prototype.getRevision=function(){return this.revision_},de.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=Xt.listen(this,t[o],e,n);return i}return Xt.listen(this,t,e,n)},de.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=Xt.listenOnce(this,t[o],e,n);return i}return Xt.listenOnce(this,t,e,n)},de.prototype.un=function(t,e,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)Xt.unlisten(this,t[r],e,n);else Xt.unlisten(this,t,e,n)};const ye=de;var ge=function(t){ye.call(this),Ut.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};Ut.inherits(ge,ye),ge.changeEventTypeCache_={},ge.getChangeEventType=function(t){return ge.changeEventTypeCache_.hasOwnProperty(t)?ge.changeEventTypeCache_[t]:ge.changeEventTypeCache_[t]="change:"+t},ge.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},ge.prototype.getKeys=function(){return Object.keys(this.values_)},ge.prototype.getProperties=function(){return Vt.assign({},this.values_)},ge.prototype.notify=function(t,e){var n;n=ge.getChangeEventType(t),this.dispatchEvent(new ge.Event(n,t,e)),n=se,this.dispatchEvent(new ge.Event(n,t,e))},ge.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},ge.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},ge.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},ge.Event=function(t,e,n){fe.call(this,t),this.key=e,this.oldValue=n},Ut.inherits(ge.Event,fe);const ve=ge,me="bottom-left",_e="bottom-right",be="top-left",xe="top-right",Ee=0,we=1,Se=2,Ce=4,Pe=8,Oe=16;var Te={boundingExtent:function(t){for(var e=Te.createEmpty(),n=0,r=t.length;n<r;++n)Te.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return Te.createOrUpdate(r,i,o,a,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},containsCoordinate:function(t,e){return Te.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],l=Ee;return a<n?l|=Oe:a>i&&(l|=Ce),s<r?l|=Pe:s>o&&(l|=Se),l===Ee&&(l=we),l},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]},createOrUpdateEmpty:function(t){return Te.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],r=t[1];return Te.createOrUpdate(n,r,n,r,e)},createOrUpdateFromCoordinates:function(t,e){var n=Te.createOrUpdateEmpty(e);return Te.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,r,i){var o=Te.createOrUpdateEmpty(i);return Te.extendFlatCoordinates(o,t,e,n,r)},createOrUpdateFromRings:function(t,e){var n=Te.createOrUpdateEmpty(e);return Te.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)Te.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,r,i){for(;n<r;n+=i)Te.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)Te.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var r;return(r=e.call(n,Te.getBottomLeft(t)))||(r=e.call(n,Te.getBottomRight(t)))||(r=e.call(n,Te.getTopRight(t)))?r:(r=e.call(n,Te.getTopLeft(t)))||!1},getArea:function(t){var e=0;return Te.isEmpty(t)||(e=Te.getWidth(t)*Te.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return e===me?n=Te.getBottomLeft(t):e===_e?n=Te.getBottomRight(t):e===be?n=Te.getTopLeft(t):e===xe?n=Te.getTopRight(t):Wt.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},getForViewAndSize:function(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,f=a*s,h=a*l,p=t[0],d=t[1],y=p-u+h,g=p-u-h,v=p+u-h,m=p+u+h,_=d-c-f,b=d-c+f,x=d+c+f,E=d+c-f;return Te.createOrUpdate(Math.min(y,g,v,m),Math.min(_,b,x,E),Math.max(y,g,v,m),Math.max(_,b,x,E),i)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=Te.getIntersection(t,e);return Te.getArea(n)},getIntersection:function(t,e,n){var r=n||Te.createEmpty();return Te.intersects(t,e)&&(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]),r},getMargin:function(t){return Te.getWidth(t)+Te.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},intersectsSegment:function(t,e,n){var r=!1,i=Te.coordinateRelationship(t,e),o=Te.coordinateRelationship(t,n);if(i===we||o===we)r=!0;else{var a,s,l=t[0],u=t[1],c=t[2],f=t[3],h=e[0],p=e[1],d=n[0],y=n[1],g=(y-p)/(d-h);o&Se&&!(i&Se)&&(r=(a=d-(y-f)/g)>=l&&a<=c),r||!(o&Ce)||i&Ce||(r=(s=y-(d-c)*g)>=u&&s<=f),r||!(o&Pe)||i&Pe||(r=(a=d-(y-u)/g)>=l&&a<=c),r||!(o&Oe)||i&Oe||(r=(s=y-(d-l)*g)>=u&&s<=f)}return r},applyTransform:function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var i=[r[0],r[2],r[4],r[6]],o=[r[1],r[3],r[5],r[7]];return Te.boundingExtentXYs_(i,o,n)}};const Re=Te;const ke={TRUE:function(){return!0},FALSE:function(){return!1}};const De={transform2D:function(t,e,n,r,i,o){var a,s=o||[],l=0;for(a=e;a<n;a+=r){var u=t[a],c=t[a+1];s[l++]=i[0]*u+i[2]*c+i[4],s[l++]=i[1]*u+i[3]*c+i[5]}return o&&s.length!=l&&(s.length=l),s},rotate:function(t,e,n,r,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],f=o[1],h=0,p=e;p<n;p+=r){var d=t[p]-c,y=t[p+1]-f;s[h++]=c+d*l-y*u,s[h++]=f+d*u+y*l;for(var g=p+2;g<p+r;++g)s[h++]=t[g]}return a&&s.length!=h&&(s.length=h),s},scale:function(t,e,n,r,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],f=0,h=e;h<n;h+=r){var p=t[h]-u,d=t[h+1]-c;l[f++]=u+i*p,l[f++]=c+o*d;for(var y=h+2;y<h+r;++y)l[f++]=t[y]}return s&&l.length!=f&&(l.length=f),l},translate:function(t,e,n,r,i,o,a){var s,l,u=a||[],c=0;for(s=e;s<n;s+=r)for(u[c++]=t[s]+i,u[c++]=t[s+1]+o,l=s+2;l<s+r;++l)u[c++]=t[l];return a&&u.length!=c&&(u.length=c),u}};var Ie={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};Ie.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},Ie.roundUpToPowerOfTwo=function(t){return Wt.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},Ie.squaredSegmentDistance=function(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return Ie.squaredDistance(t,e,n,r)},Ie.squaredDistance=function(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o},Ie.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var f=new Array(e),h=e-1;h>=0;h--){f[h]=t[h][e]/t[h][h];for(var p=h-1;p>=0;p--)t[p][e]-=t[p][h]*f[h]}return f},Ie.toDegrees=function(t){return 180*t/Math.PI},Ie.toRadians=function(t){return t*Math.PI/180},Ie.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},Ie.lerp=function(t,e,n){return t+n*(e-t)};const Le=Ie,Me="Point",je="LineString",Ae="LinearRing",Fe="Polygon",Ne="MultiPoint",Ue="MultiLineString",Be="MultiPolygon",ze="GeometryCollection",We="Circle";var Ge=function(t){this.radius=t};Ge.prototype.geodesicArea=function(t){return Ge.getArea_(t,this.radius)},Ge.prototype.haversineDistance=function(t,e){return Ge.getDistance_(t,e,this.radius)},Ge.prototype.offset=function(t,e,n){var r=Le.toRadians(t[1]),i=Le.toRadians(t[0]),o=e/this.radius,a=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=i+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(a));return[Le.toDegrees(s),Le.toDegrees(a)]},Ge.DEFAULT_RADIUS=6371008.8,Ge.getLength=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||Ge.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",f=(t=t.clone().transform(c,"EPSG:4326")).getType(),h=0;switch(f){case Me:case Ne:break;case je:case Ae:n=t.getCoordinates(),h=Ge.getLength_(n,u);break;case Ue:case Fe:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)h+=Ge.getLength_(n[i],u);break;case Be:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(a=0,s=(r=n[i]).length;a<s;++a)h+=Ge.getLength_(r[a],u);break;case ze:var p=t.getGeometries();for(i=0,o=p.length;i<o;++i)h+=Ge.getLength(p[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return h},Ge.getLength_=function(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=Ge.getDistance_(t[r],t[r+1],e);return n},Ge.getDistance_=function(t,e,n){var r=Le.toRadians(t[1]),i=Le.toRadians(e[1]),o=(i-r)/2,a=Le.toRadians(e[0]-t[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},Ge.getArea=function(t,e){var n,r,i,o,a,s,l=e||{},u=l.radius||Ge.DEFAULT_RADIUS,c=l.projection||"EPSG:3857",f=(t=t.clone().transform(c,"EPSG:4326")).getType(),h=0;switch(f){case Me:case Ne:case je:case Ue:case Ae:break;case Fe:for(n=t.getCoordinates(),h=Math.abs(Ge.getArea_(n[0],u)),i=1,o=n.length;i<o;++i)h-=Math.abs(Ge.getArea_(n[i],u));break;case Be:for(i=0,o=(n=t.getCoordinates()).length;i<o;++i)for(r=n[i],h+=Math.abs(Ge.getArea_(r[0],u)),a=1,s=r.length;a<s;++a)h-=Math.abs(Ge.getArea_(r[a],u));break;case ze:var p=t.getGeometries();for(i=0,o=p.length;i<o;++i)h+=Ge.getArea(p[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return h},Ge.getArea_=function(t,e){for(var n=0,r=t.length,i=t[r-1][0],o=t[r-1][1],a=0;a<r;a++){var s=t[a][0],l=t[a][1];n+=Le.toRadians(s-i)*(2+Math.sin(Le.toRadians(o))+Math.sin(Le.toRadians(l))),i=s,o=l}return n*e*e/2};const Ve=Ge;var He={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};He.METERS_PER_UNIT[He.DEGREES]=2*Math.PI*6370997/360,He.METERS_PER_UNIT[He.FEET]=.3048,He.METERS_PER_UNIT[He.METERS]=1,He.METERS_PER_UNIT[He.USFEET]=1200/3937;const Xe=He;var qe={cache_:null,set:function(t){qe.cache_=t},get:function(){return qe.cache_||window.proj4}};const Ye=qe;var Ke=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(Ut.ENABLE_PROJ4JS){var n=Ye.get();if("function"==typeof n){var r=n.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};Ke.prototype.canWrapX=function(){return this.canWrapX_},Ke.prototype.getCode=function(){return this.code_},Ke.prototype.getExtent=function(){return this.extent_},Ke.prototype.getUnits=function(){return this.units_},Ke.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Xe.METERS_PER_UNIT[this.units_]},Ke.prototype.getWorldExtent=function(){return this.worldExtent_},Ke.prototype.getAxisOrientation=function(){return this.axisOrientation_},Ke.prototype.isGlobal=function(){return this.global_},Ke.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Ke.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Ke.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Ke.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Ke.prototype.setWorldExtent=function(t){this.worldExtent_=t},Ke.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Ke.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};const Ze=Ke;var Qe={Projection_:function(t){Ze.call(this,{code:t,units:Xe.METERS,extent:Qe.EXTENT,global:!0,worldExtent:Qe.WORLD_EXTENT,getPointResolution:function(t,e){return t/Le.cosh(e[1]/Qe.RADIUS)}})}};Ut.inherits(Qe.Projection_,Ze),Qe.RADIUS=6378137,Qe.HALF_SIZE=Math.PI*Qe.RADIUS,Qe.EXTENT=[-Qe.HALF_SIZE,-Qe.HALF_SIZE,Qe.HALF_SIZE,Qe.HALF_SIZE],Qe.WORLD_EXTENT=[-180,-85,180,85],Qe.PROJECTIONS=[new Qe.Projection_("EPSG:3857"),new Qe.Projection_("EPSG:102100"),new Qe.Projection_("EPSG:102113"),new Qe.Projection_("EPSG:900913"),new Qe.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Qe.Projection_("urn:ogc:def:crs:EPSG::3857"),new Qe.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],Qe.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=Qe.HALF_SIZE,s=0;s<r;s+=i){o[s]=a*t[s]/180;var l=Qe.RADIUS*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o},Qe.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/Qe.HALF_SIZE,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Qe.RADIUS))/Math.PI-90;return o};const Je=Qe;var $e={Projection_:function(t,e){Ze.call(this,{code:t,units:Xe.DEGREES,extent:$e.EXTENT,axisOrientation:e,global:!0,metersPerUnit:$e.METERS_PER_UNIT,worldExtent:$e.EXTENT})}};Ut.inherits($e.Projection_,Ze),$e.RADIUS=6378137,$e.EXTENT=[-180,-90,180,90],$e.METERS_PER_UNIT=Math.PI*$e.RADIUS/180,$e.PROJECTIONS=[new $e.Projection_("CRS:84"),new $e.Projection_("EPSG:4326","neu"),new $e.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new $e.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new $e.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new $e.Projection_("urn:ogc:def:crs:OGC:2:84"),new $e.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new $e.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];const tn=$e;var en={cache_:{},clear:function(){en.cache_={}},get:function(t){return en.cache_[t]||null},add:function(t,e){en.cache_[t]=e}};const nn=en;var rn={cache_:{},clear:function(){rn.cache_={}},add:function(t,e,n){var r=t.getCode(),i=e.getCode(),o=rn.cache_;r in o||(o[r]={}),o[r][i]=n},remove:function(t,e){var n=t.getCode(),r=e.getCode(),i=rn.cache_,o=i[n][r];return delete i[n][r],Vt.isEmpty(i[n])&&delete i[n],o},get:function(t,e){var n,r=rn.cache_;return t in r&&e in r[t]&&(n=r[t][e]),n}};const on=rn;var an={};an.METERS_PER_UNIT=Xe.METERS_PER_UNIT,an.SPHERE_=new Ve(Ve.DEFAULT_RADIUS),Ut.ENABLE_PROJ4JS&&(an.setProj4=function(t){Ye.set(t)}),an.getPointResolution=function(t,e,n,r){var i,o=(t=an.get(t)).getPointResolutionFunc();if(o)i=o(e,n);else if(t.getUnits()==Xe.DEGREES&&!r||r==Xe.DEGREES)i=e;else{var a=an.getTransformFromProjections(t,an.get("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),i=(an.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4))+an.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8)))/2;var l=r?Xe.METERS_PER_UNIT[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}return i},an.addEquivalentProjections=function(t){an.addProjections(t),t.forEach((function(e){t.forEach((function(t){e!==t&&on.add(e,t,an.cloneTransform)}))}))},an.addEquivalentTransforms=function(t,e,n,r){t.forEach((function(t){e.forEach((function(e){on.add(t,e,n),on.add(e,t,r)}))}))},an.addProjection=function(t){nn.add(t.getCode(),t),on.add(t,t,an.cloneTransform)},an.addProjections=function(t){t.forEach(an.addProjection)},an.clearAllProjections=function(){nn.clear(),on.clear()},an.createProjection=function(t,e){return t?"string"==typeof t?an.get(t):t:an.get(e)},an.addCoordinateTransforms=function(t,e,n,r){var i=an.get(t),o=an.get(e);on.add(i,o,an.createTransformFromCoordinateTransform(n)),on.add(o,i,an.createTransformFromCoordinateTransform(r))},an.createTransformFromCoordinateTransform=function(t){return function(e,n,r){var i,o,a,s=e.length,l=void 0!==r?r:2,u=void 0!==n?n:new Array(s);for(o=0;o<s;o+=l)for(i=t([e[o],e[o+1]]),u[o]=i[0],u[o+1]=i[1],a=l-1;a>=2;--a)u[o+a]=e[o+a];return u}},an.fromLonLat=function(t,e){return an.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},an.toLonLat=function(t,e){var n=an.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Le.modulo(r+180,360)-180),n},an.get=function(t){var e=null;if(t instanceof Ze)e=t;else if("string"==typeof t){var n=t;if(e=nn.get(n),Ut.ENABLE_PROJ4JS&&!e){var r=Ye.get();"function"==typeof r&&void 0!==r.defs(n)&&(e=new Ze({code:n}),an.addProjection(e))}}return e},an.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||an.getTransformFromProjections(t,e)===an.cloneTransform)&&n},an.getTransform=function(t,e){var n=an.get(t),r=an.get(e);return an.getTransformFromProjections(n,r)},an.getTransformFromProjections=function(t,e){var n=t.getCode(),r=e.getCode(),i=on.get(n,r);if(Ut.ENABLE_PROJ4JS&&!i){var o=Ye.get();if("function"==typeof o){var a=o.defs(n),s=o.defs(r);if(void 0!==a&&void 0!==s){if(a===s)an.addEquivalentProjections([e,t]);else{var l=o(r,n);an.addCoordinateTransforms(e,t,l.forward,l.inverse)}i=on.get(n,r)}}}return i||(i=an.identityTransform),i},an.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t},an.cloneTransform=function(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r},an.transform=function(t,e,n){return an.getTransform(e,n)(t,void 0,t.length)},an.transformExtent=function(t,e,n){var r=an.getTransform(e,n);return Re.applyTransform(t,r)},an.transformWithProjections=function(t,e,n){return an.getTransformFromProjections(e,n)(t)},an.addCommon=function(){an.addEquivalentProjections(Je.PROJECTIONS),an.addEquivalentProjections(tn.PROJECTIONS),an.addEquivalentTransforms(tn.PROJECTIONS,Je.PROJECTIONS,Je.fromEPSG4326,Je.toEPSG4326)},an.addCommon();const sn=an;var ln={};ln.tmp_=new Array(6),ln.create=function(){return[1,0,0,1,0,0]},ln.reset=function(t){return ln.set(t,1,0,0,1,0,0)},ln.multiply=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],f=e[3],h=e[4],p=e[5];return t[0]=n*l+i*u,t[1]=r*l+o*u,t[2]=n*c+i*f,t[3]=r*c+o*f,t[4]=n*h+i*p+a,t[5]=r*h+o*p+s,t},ln.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},ln.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},ln.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},ln.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return ln.multiply(t,ln.set(ln.tmp_,n,r,-r,n,0,0))},ln.scale=function(t,e,n){return ln.multiply(t,ln.set(ln.tmp_,e,0,0,n,0,0))},ln.translate=function(t,e,n){return ln.multiply(t,ln.set(ln.tmp_,1,0,0,1,e,n))},ln.compose=function(t,e,n,r,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=a*r*u-s*r*l+e,t[5]=a*i*l+s*i*u+n,t},ln.invert=function(t){var e=ln.determinant(t);Wt.assert(0!==e,32);var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-r/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-o*a)/e,t[5]=-(n*s-r*a)/e,t},ln.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};const un=ln;var cn=function(){ve.call(this),this.extent_=Re.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=un.create()};Ut.inherits(cn,ve),cn.prototype.clone=function(){},cn.prototype.closestPointXY=function(t,e,n,r){},cn.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},cn.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},cn.prototype.computeExtent=function(t){},cn.prototype.containsXY=ke.FALSE,cn.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Re.returnOrUpdate(this.extent_,t)},cn.prototype.rotate=function(t,e){},cn.prototype.scale=function(t,e,n){},cn.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},cn.prototype.getSimplifiedGeometry=function(t){},cn.prototype.getType=function(){},cn.prototype.applyTransform=function(t){},cn.prototype.intersectsExtent=function(t){},cn.prototype.translate=function(t,e){},cn.prototype.transform=function(t,e){var n=this.tmpTransform_,r=(t=sn.get(t)).getUnits()==Xe.TILE_PIXELS?function(r,i,o){var a=t.getExtent(),s=t.getWorldExtent(),l=Re.getHeight(s)/Re.getHeight(a);return un.compose(n,s[0],s[3],l,-l,0,0,0),De.transform2D(r,0,r.length,o,n,i),sn.getTransform(t,e)(r,i,o)}:sn.getTransform(t,e);return this.applyTransform(r),this};const fn=cn;var hn,pn,dn={HEX_COLOR_RE_:/^#(?:[0-9a-f]{3,4}){1,2}$/i,NAMED_COLOR_RE_:/^([a-z]*)$/i,asArray:function(t){return Array.isArray(t)?t:dn.fromString(t)},asString:function(t){return"string"==typeof t?t:dn.toString(t)},fromNamed:function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}};dn.fromString=(hn={},pn=0,function(t){var e;if(hn.hasOwnProperty(t))e=hn[t];else{if(pn>=1024){var n,r=0;for(n in hn)0==(3&r++)&&(delete hn[n],--pn)}e=dn.fromStringInternal_(t),hn[t]=e,++pn}return e}),dn.fromStringInternal_=function(t){var e,n,r,i,o,a;if(dn.NAMED_COLOR_RE_.exec(t)&&(t=dn.fromNamed(t)),dn.HEX_COLOR_RE_.exec(t)){var s,l=t.length-1;s=l<=4?1:2;var u=4===l||8===l;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?(a=t.slice(5,-1).split(",").map(Number),o=dn.normalize(a)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),o=dn.normalize(a)):Wt.assert(!1,14);return o},dn.normalize=function(t,e){var n=e||[];return n[0]=Le.clamp(t[0]+.5|0,0,255),n[1]=Le.clamp(t[1]+.5|0,0,255),n[2]=Le.clamp(t[2]+.5|0,0,255),n[3]=Le.clamp(t[3],0,1),n},dn.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"};const yn=dn;var gn={asColorLike:function(t){return gn.isColorLike(t)?t:yn.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}};const vn=gn;var mn={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}};const _n=mn;var bn={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,r,i=bn.CONTEXT_IDS_.length;for(r=0;r<i;++r)try{if(n=t.getContext(bn.CONTEXT_IDS_[r],e))return n}catch(t){}return null}};const xn=bn;var En={},wn="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";En.FIREFOX=-1!==wn.indexOf("firefox"),En.SAFARI=-1!==wn.indexOf("safari")&&-1==wn.indexOf("chrom"),En.WEBKIT=-1!==wn.indexOf("webkit")&&-1==wn.indexOf("edge"),En.MAC=-1!==wn.indexOf("macintosh"),En.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,En.CANVAS_LINE_DASH=!1,En.CANVAS=Ut.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(En.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),En.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,En.GEOLOCATION="geolocation"in navigator,En.TOUCH=Ut.ASSUME_TOUCH||"ontouchstart"in window,En.POINTER="PointerEvent"in window,En.MSPOINTER=!!navigator.msPointerEnabled,En.WEBGL,function(){if(Ut.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),i=xn.getContext(r,{failIfMajorPerformanceCaveat:!0});i&&(e=!0,t=i.getParameter(i.MAX_TEXTURE_SIZE),n=i.getSupportedExtensions())}catch(t){}En.WEBGL=e,Ut.WEBGL_EXTENSIONS=n,Ut.WEBGL_MAX_TEXTURE_SIZE=t}}();const Sn=En,Cn=0,Pn=1,On=2,Tn=3;var Rn={CLASS_HIDDEN:"ol-hidden",CLASS_SELECTABLE:"ol-selectable",CLASS_UNSELECTABLE:"ol-unselectable",CLASS_UNSUPPORTED:"ol-unsupported",CLASS_CONTROL:"ol-control"};Rn.getFontFamilies=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var r=t.fontFamily;if(t.font="",!r)return null;e[n]=r.split(/,\s?/)}return e[n]}}();const kn=Rn;var Dn=function(t){pe.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};Ut.inherits(Dn,pe),Dn.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},Dn.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Yt)},Dn.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},Dn.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},Dn.prototype.get=function(t){var e=this.entries_[t];return Wt.assert(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},Dn.prototype.remove=function(t){var e=this.entries_[t];return Wt.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},Dn.prototype.getCount=function(){return this.count_},Dn.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},Dn.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},Dn.prototype.peekLast=function(){return this.oldest_.value_},Dn.prototype.peekLastKey=function(){return this.oldest_.key_},Dn.prototype.peekFirstKey=function(){return this.newest_.key_},Dn.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},Dn.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},Dn.prototype.set=function(t,e){Wt.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},Dn.prototype.prune=function(){for(;this.canExpireCache();)this.pop()};const In=Dn;var Ln,Mn,jn={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:"center",defaultTextBaseline:"middle",defaultPadding:[0,0,0,0],defaultLineWidth:1};jn.labelCache=new In,jn.checkedFonts_={},jn.measureContext_=null,jn.textHeights_={},jn.checkFont=function(){var t,e,n=jn.checkedFonts_,r=jn.labelCache,i="wmytzilWMYTZIL@#/&?$%10";function o(t){var n=jn.getMeasureContext();n.font="32px monospace",e=n.measureText(i).width;var r=!0;return"monospace"!=t&&(n.font="32px "+t+",monospace",r=n.measureText(i).width!=e),r}function a(){var e=!0;for(var i in n)n[i]<60&&(o(i)?(n[i]=60,Vt.clear(jn.textHeights_),jn.measureContext_=null,r.clear()):(++n[i],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var r=kn.getFontFamilies(e);if(r)for(var i=0,s=r.length;i<s;++i){var l=r[i];l in n||(n[l]=60,o(l)||(n[l]=0,void 0===t&&(t=window.setInterval(a,32))))}}}(),jn.getMeasureContext=function(){var t=jn.measureContext_;return t||(t=jn.measureContext_=_n.createCanvasContext2D(1,1)),t},jn.measureTextHeight=(Mn=jn.textHeights_,function(t){var e=Mn[t];return null==e&&(Ln||((Ln=document.createElement("span")).textContent="M",Ln.style.margin=Ln.style.padding="0 !important",Ln.style.position="absolute !important",Ln.style.left="-99999px !important"),Ln.style.font=t,document.body.appendChild(Ln),e=Mn[t]=Ln.offsetHeight,document.body.removeChild(Ln)),e}),jn.measureTextWidth=function(t,e){var n=jn.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},jn.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},jn.resetTransform_=un.create(),jn.drawImage=function(t,e,n,r,i,o,a,s,l,u,c){var f;1!=n&&(f=t.globalAlpha,t.globalAlpha=f*n),e&&t.setTransform.apply(t,e),t.drawImage(r,i,o,a,s,l,u,a*c,s*c),f&&(t.globalAlpha=f),e&&t.setTransform.apply(t,jn.resetTransform_)};const An=jn;var Fn=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};Fn.prototype.getOpacity=function(){return this.opacity_},Fn.prototype.getRotateWithView=function(){return this.rotateWithView_},Fn.prototype.getRotation=function(){return this.rotation_},Fn.prototype.getScale=function(){return this.scale_},Fn.prototype.getSnapToPixel=function(){return this.snapToPixel_},Fn.prototype.getAnchor=function(){},Fn.prototype.getImage=function(t){},Fn.prototype.getHitDetectionImage=function(t){},Fn.prototype.getImageState=function(){},Fn.prototype.getImageSize=function(){},Fn.prototype.getHitDetectionImageSize=function(){},Fn.prototype.getOrigin=function(){},Fn.prototype.getSize=function(){},Fn.prototype.setOpacity=function(t){this.opacity_=t},Fn.prototype.setRotateWithView=function(t){this.rotateWithView_=t},Fn.prototype.setRotation=function(t){this.rotation_=t},Fn.prototype.setScale=function(t){this.scale_=t},Fn.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},Fn.prototype.listenImageChange=function(t,e){},Fn.prototype.load=function(){},Fn.prototype.unlistenImageChange=function(t,e){};const Nn=Fn;var Un=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel,n=void 0!==t.rotateWithView&&t.rotateWithView;Nn.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};Ut.inherits(Un,Nn),Un.prototype.clone=function(){var t=new Un({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},Un.prototype.getAnchor=function(){return this.anchor_},Un.prototype.getAngle=function(){return this.angle_},Un.prototype.getFill=function(){return this.fill_},Un.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},Un.prototype.getImage=function(t){return this.canvas_},Un.prototype.getImageSize=function(){return this.imageSize_},Un.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},Un.prototype.getImageState=function(){return On},Un.prototype.getOrigin=function(){return this.origin_},Un.prototype.getPoints=function(){return this.points_},Un.prototype.getRadius=function(){return this.radius_},Un.prototype.getRadius2=function(){return this.radius2_},Un.prototype.getSize=function(){return this.size_},Un.prototype.getStroke=function(){return this.stroke_},Un.prototype.listenImageChange=function(t,e){},Un.prototype.load=function(){},Un.prototype.unlistenImageChange=function(t,e){},Un.prototype.render_=function(t){var e,n,r="",i="",o=0,a=null,s=0,l=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=An.defaultStrokeStyle),n=vn.asColorLike(n),void 0===(l=this.stroke_.getWidth())&&(l=An.defaultLineWidth),a=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),Sn.CANVAS_LINE_DASH||(a=null,s=0),void 0===(i=this.stroke_.getLineJoin())&&(i=An.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=An.defaultLineCap),void 0===(o=this.stroke_.getMiterLimit())&&(o=An.defaultMiterLimit));var u=2*(this.radius_+l)+1,c={strokeStyle:n,strokeWidth:l,size:u,lineCap:r,lineDash:a,lineDashOffset:s,lineJoin:i,miterLimit:o};if(void 0===t){var f=_n.createCanvasContext2D(u,u);this.canvas_=f.canvas,e=u=this.canvas_.width,this.draw_(c,f,0,0),this.createHitDetectionCanvas_(c)}else{u=Math.round(u);var h,p=!this.fill_;p&&(h=this.drawHitDetectionCanvas_.bind(this,c));var d=this.getChecksum(),y=t.add(d,u,u,this.draw_.bind(this,c),h);this.canvas_=y.image,this.origin_=[y.offsetX,y.offsetY],e=y.image.width,p?(this.hitDetectionCanvas_=y.hitImage,this.hitDetectionImageSize_=[y.hitImage.width,y.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[e,e]},Un.prototype.draw_=function(t,e,n,r){var i,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),i=0;i<=s;i++)o=2*i*Math.PI/s-Math.PI/2+this.angle_,a=i%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=An.defaultFillStyle),e.fillStyle=vn.asColorLike(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},Un.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=_n.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},Un.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,s,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(i*=2),o=0;o<=i;o++)s=2*o*Math.PI/i-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=An.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},Un.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};const Bn=Un;var zn=function(t){var e=t||{};Bn.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};Ut.inherits(zn,Bn),zn.prototype.clone=function(){var t=new zn({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},zn.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};const Wn=zn;var Gn=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};Gn.prototype.clone=function(){var t=this.getColor();return new Gn({color:t&&t.slice?t.slice():t||void 0})},Gn.prototype.getColor=function(){return this.color_},Gn.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Gn.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=Ut.getUid(this.color_).toString():this.checksum_="f"+(this.color_?yn.asString(this.color_):"-")),this.checksum_};const Vn=Gn;var Hn=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};Hn.prototype.clone=function(){var t=this.getColor();return new Hn({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Hn.prototype.getColor=function(){return this.color_},Hn.prototype.getLineCap=function(){return this.lineCap_},Hn.prototype.getLineDash=function(){return this.lineDash_},Hn.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Hn.prototype.getLineJoin=function(){return this.lineJoin_},Hn.prototype.getMiterLimit=function(){return this.miterLimit_},Hn.prototype.getWidth=function(){return this.width_},Hn.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Hn.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},Hn.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},Hn.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},Hn.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},Hn.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},Hn.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},Hn.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Ut.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};const Xn=Hn;var qn=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=qn.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};qn.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new qn({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},qn.prototype.getRenderer=function(){return this.renderer_},qn.prototype.setRenderer=function(t){this.renderer_=t},qn.prototype.getGeometry=function(){return this.geometry_},qn.prototype.getGeometryFunction=function(){return this.geometryFunction_},qn.prototype.getFill=function(){return this.fill_},qn.prototype.setFill=function(t){this.fill_=t},qn.prototype.getImage=function(){return this.image_},qn.prototype.setImage=function(t){this.image_=t},qn.prototype.getStroke=function(){return this.stroke_},qn.prototype.setStroke=function(t){this.stroke_=t},qn.prototype.getText=function(){return this.text_},qn.prototype.setText=function(t){this.text_=t},qn.prototype.getZIndex=function(){return this.zIndex_},qn.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=qn.defaultGeometryFunction,this.geometry_=t},qn.prototype.setZIndex=function(t){this.zIndex_=t},qn.createFunction=function(t){var e,n;return"function"==typeof t?e=t:(Array.isArray(t)?n=t:(Wt.assert(t instanceof qn,41),n=[t]),e=function(){return n}),e},qn.default_=null,qn.defaultFunction=function(t,e){if(!qn.default_){var n=new Vn({color:"rgba(255,255,255,0.4)"}),r=new Xn({color:"#3399CC",width:1.25});qn.default_=[new qn({image:new Wn({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return qn.default_},qn.createDefaultEditing=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[Fe]=[new qn({fill:new Vn({color:[255,255,255,.5]})})],t[Be]=t[Fe],t[je]=[new qn({stroke:new Xn({color:e,width:5})}),new qn({stroke:new Xn({color:n,width:3})})],t[Ue]=t[je],t[We]=t[Fe].concat(t[je]),t[Me]=[new qn({image:new Wn({radius:6,fill:new Vn({color:n}),stroke:new Xn({color:e,width:1.5})}),zIndex:1/0})],t[Ne]=t[Me],t[ze]=t[Fe].concat(t[je],t[Me]),t},qn.defaultGeometryFunction=function(t){return t.getGeometry()};const Yn=qn;var Kn=function(t){if(ve.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Xt.listen(this,ve.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof fn||!t){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}};Ut.inherits(Kn,ve),Kn.prototype.clone=function(){var t=new Kn(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},Kn.prototype.getGeometry=function(){return this.get(this.geometryName_)},Kn.prototype.getId=function(){return this.id_},Kn.prototype.getGeometryName=function(){return this.geometryName_},Kn.prototype.getStyle=function(){return this.style_},Kn.prototype.getStyleFunction=function(){return this.styleFunction_},Kn.prototype.handleGeometryChange_=function(){this.changed()},Kn.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Xt.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Xt.listen(t,qt,this.handleGeometryChange_,this)),this.changed()},Kn.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},Kn.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Kn.createStyleFunction(t):void 0,this.changed()},Kn.prototype.setId=function(t){this.id_=t,this.changed()},Kn.prototype.setGeometryName=function(t){Xt.unlisten(this,ve.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Xt.listen(this,ve.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},Kn.createStyleFunction=function(t){var e,n;return"function"==typeof t?e=2==t.length?function(e){return t(this,e)}:t:(Array.isArray(t)?n=t:(Wt.assert(t instanceof Yn,41),n=[t]),e=function(){return n}),e};const Zn=Kn;var Qn=function(){this.defaultDataProjection=null,this.defaultFeatureProjection=null};Qn.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},Qn.prototype.adaptOptions=function(t){return Vt.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},t)},Qn.prototype.getLastExtent=function(){return null},Qn.prototype.getType=function(){},Qn.prototype.readFeature=function(t,e){},Qn.prototype.readFeatures=function(t,e){},Qn.prototype.readGeometry=function(t,e){},Qn.prototype.readProjection=function(t){},Qn.prototype.writeFeature=function(t,e){},Qn.prototype.writeFeatures=function(t,e){},Qn.prototype.writeGeometry=function(t,e){},Qn.transformWithOptions=function(t,e,n){var r,i=n?sn.get(n.featureProjection):null,o=n?sn.get(n.dataProjection):null;if(r=i&&o&&!sn.equivalent(i,o)?t instanceof fn?(e?t.clone():t).transform(e?i:o,e?o:i):sn.transformExtent(t,o,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=r.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r};const Jn=Qn,$n="arraybuffer",tr="json",er="text",nr="xml";var rr=function(){Jn.call(this)};Ut.inherits(rr,Jn),rr.prototype.getObject_=function(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null},rr.prototype.getType=function(){return tr},rr.prototype.readFeature=function(t,e){return this.readFeatureFromObject(this.getObject_(t),this.getReadOptions(t,e))},rr.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(this.getObject_(t),this.getReadOptions(t,e))},rr.prototype.readFeatureFromObject=function(t,e){},rr.prototype.readFeaturesFromObject=function(t,e){},rr.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(this.getObject_(t),this.getReadOptions(t,e))},rr.prototype.readGeometryFromObject=function(t,e){},rr.prototype.readProjection=function(t){return this.readProjectionFromObject(this.getObject_(t))},rr.prototype.readProjectionFromObject=function(t){},rr.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},rr.prototype.writeFeatureObject=function(t,e){},rr.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},rr.prototype.writeFeaturesObject=function(t,e){},rr.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},rr.prototype.writeGeometryObject=function(t,e){};const ir=rr;var or=function(t){fn.call(this),this.geometries_=t||null,this.listenGeometriesChange_()};Ut.inherits(or,fn),or.cloneGeometries_=function(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(t[e].clone());return r},or.prototype.unlistenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)Xt.unlisten(this.geometries_[t],qt,this.changed,this)},or.prototype.listenGeometriesChange_=function(){var t,e;if(this.geometries_)for(t=0,e=this.geometries_.length;t<e;++t)Xt.listen(this.geometries_[t],qt,this.changed,this)},or.prototype.clone=function(){var t=new or(null);return t.setGeometries(this.geometries_),t},or.prototype.closestPointXY=function(t,e,n,r){if(r<Re.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a=this.geometries_;for(i=0,o=a.length;i<o;++i)r=a[i].closestPointXY(t,e,n,r);return r},or.prototype.containsXY=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1},or.prototype.computeExtent=function(t){Re.createOrUpdateEmpty(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)Re.extend(t,e[n].getExtent());return t},or.prototype.getGeometries=function(){return or.cloneGeometries_(this.geometries_)},or.prototype.getGeometriesArray=function(){return this.geometries_},or.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Vt.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n,r,i=[],o=this.geometries_,a=!1;for(n=0,r=o.length;n<r;++n){var s=o[n],l=s.getSimplifiedGeometry(t);i.push(l),l!==s&&(a=!0)}if(a){var u=new or(null);return u.setGeometriesArray(i),this.simplifiedGeometryCache[e]=u,u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},or.prototype.getType=function(){return ze},or.prototype.intersectsExtent=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)if(r[e].intersectsExtent(t))return!0;return!1},or.prototype.isEmpty=function(){return 0===this.geometries_.length},or.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},or.prototype.scale=function(t,e,n){var r=n;r||(r=Re.getCenter(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},or.prototype.setGeometries=function(t){this.setGeometriesArray(or.cloneGeometries_(t))},or.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},or.prototype.applyTransform=function(t){var e,n,r=this.geometries_;for(e=0,n=r.length;e<n;++e)r[e].applyTransform(t);this.changed()},or.prototype.translate=function(t,e){var n,r,i=this.geometries_;for(n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()},or.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),fn.prototype.disposeInternal.call(this)};const ar=or;var sr={binarySearch:function(t,e,n){for(var r,i,o=n||sr.numberSafeCompareFunction,a=0,s=t.length,l=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,l=!i);return l?a:~a},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var r,i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1},reverseSubArray:function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},extend:function(t,e){var n,r=Array.isArray(e)?e:[e],i=r.length;for(n=0;n<i;n++)t[t.length]=r[n]},remove:function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},find:function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},stableSort:function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=i[n].value},findIndex:function(t,e){var n;return t.every((function(r,i){return n=i,!e(r,i,t)}))?-1:n},isSorted:function(t,e,n){var r=e||sr.numberSafeCompareFunction;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}};const lr=sr,ur="XY",cr="XYZ",fr="XYM",hr="XYZM";var pr=function(){fn.call(this),this.layout=ur,this.stride=2,this.flatCoordinates=null};Ut.inherits(pr,fn),pr.getLayoutForStride_=function(t){var e;return 2==t?e=ur:3==t?e=cr:4==t&&(e=hr),e},pr.getStrideForLayout=function(t){var e;return t==ur?e=2:t==cr||t==fr?e=3:t==hr&&(e=4),e},pr.prototype.containsXY=ke.FALSE,pr.prototype.computeExtent=function(t){return Re.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},pr.prototype.getCoordinates=function(){},pr.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},pr.prototype.getFlatCoordinates=function(){return this.flatCoordinates},pr.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},pr.prototype.getLayout=function(){return this.layout},pr.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Vt.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},pr.prototype.getSimplifiedGeometryInternal=function(t){return this},pr.prototype.getStride=function(){return this.stride},pr.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=pr.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},pr.prototype.setCoordinates=function(t,e){},pr.prototype.setLayout=function(t,e,n){var r;if(t)r=pr.getStrideForLayout(t);else{var i;for(i=0;i<n;++i){if(0===e.length)return this.layout=ur,void(this.stride=2);e=e[0]}r=e.length,t=pr.getLayoutForStride_(r)}this.layout=t,this.stride=r},pr.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},pr.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();De.rotate(n,0,n.length,r,t,e,n),this.changed()}},pr.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Re.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();De.scale(o,0,o.length,a,t,r,i,o),this.changed()}},pr.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();De.translate(n,0,n.length,r,t,e,n),this.changed()}},pr.transform2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return De.transform2D(r,0,r.length,i,e,n)}return null};const dr=pr;var yr={point:function(t,e,n,r,i,o,a){var s,l,u=t[e],c=t[e+1],f=t[n]-u,h=t[n+1]-c;if(0===f&&0===h)l=e;else{var p=((i-u)*f+(o-c)*h)/(f*f+h*h);if(p>1)l=n;else{if(p>0){for(s=0;s<r;++s)a[s]=Le.lerp(t[e+s],t[n+s],p);return void(a.length=r)}l=e}}for(s=0;s<r;++s)a[s]=t[l+s];a.length=r},getMaxSquaredDelta:function(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],u=Le.squaredDistance(o,a,s,l);u>i&&(i=u),o=s,a=l}return i},getsMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=yr.getMaxSquaredDelta(t,e,s,r,i),e=s}return i},getssMaxSquaredDelta:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];i=yr.getsMaxSquaredDelta(t,e,s,r,i),e=s[s.length-1]}return i},getClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){if(e==n)return u;var f,h;if(0===i){if((h=Le.squaredDistance(a,s,t[e],t[e+1]))<u){for(f=0;f<r;++f)l[f]=t[e+f];return l.length=r,h}return u}for(var p=c||[NaN,NaN],d=e+r;d<n;)if(yr.point(t,d-r,d,r,a,s,p),(h=Le.squaredDistance(a,s,p[0],p[1]))<u){for(u=h,f=0;f<r;++f)l[f]=p[f];l.length=r,d+=r}else d+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/i|0,1);if(o&&(yr.point(t,n-r,e,r,a,s,p),(h=Le.squaredDistance(a,s,p[0],p[1]))<u)){for(u=h,f=0;f<r;++f)l[f]=p[f];l.length=r}return u},getsClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var f,h,p=c||[NaN,NaN];for(f=0,h=n.length;f<h;++f){var d=n[f];u=yr.getClosestPoint(t,e,d,r,i,o,a,s,l,u,p),e=d}return u},getssClosestPoint:function(t,e,n,r,i,o,a,s,l,u,c){var f,h,p=c||[NaN,NaN];for(f=0,h=n.length;f<h;++f){var d=n[f];u=yr.getsClosestPoint(t,e,d,r,i,o,a,s,l,u,p),e=d[d.length-1]}return u}};const gr=yr;var vr={coordinate:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},coordinates:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i){var a,s=n[i];for(a=0;a<r;++a)t[e++]=s[a]}return e},coordinatess:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=vr.coordinates(t,e,n[o],r);s[l++]=u,e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=i||[],l=0;for(o=0,a=n.length;o<a;++o){var u=vr.coordinatess(t,e,n[o],r,s[l]);s[l++]=u,e=u[u.length-1]}return s.length=l,s}};const mr=vr;var _r={coordinates:function(t,e,n,r,i){var o,a=void 0!==i?i:[],s=0;for(o=e;o<n;o+=r)a[s++]=t.slice(o,o+r);return a.length=s,a},coordinatess:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=_r.coordinates(t,e,u,r,s[l]),e=u}return s.length=l,s},coordinatesss:function(t,e,n,r,i){var o,a,s=void 0!==i?i:[],l=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s[l++]=_r.coordinatess(t,e,u,r,s[l]),e=u[u.length-1]}return s.length=l,s}};const br=_r;var xr={lineString:function(t,e,n,r,i,o){var a=NaN,s=NaN,l=(n-e)/r;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-i)*t[e]+i*t[e+r],s=(1-i)*t[e+1]+i*t[e+r+1];else if(0!==l){var u,c=t[e],f=t[e+1],h=0,p=[0];for(u=e+r;u<n;u+=r){var d=t[u],y=t[u+1];h+=Math.sqrt((d-c)*(d-c)+(y-f)*(y-f)),p.push(h),c=d,f=y}var g=i*h,v=lr.binarySearch(p,g);if(v<0){var m=(g-p[-v-2])/(p[-v-1]-p[-v-2]),_=e+(-v-2)*r;a=Le.lerp(t[_],t[_+r],m),s=Le.lerp(t[_+1],t[_+r+1],m)}else a=t[e+v*r],s=t[e+v*r+1]}return o?(o[0]=a,o[1]=s,o):[a,s]},lineStringCoordinateAtM:function(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var u=s+l>>1;i<t[(u+1)*r-1]?l=u:s=u+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var f,h=(i-c)/(t[(s+1)*r-1]-c);for(a=[],f=0;f<r-1;++f)a.push(Le.lerp(t[(s-1)*r+f],t[s*r+f],h));return a.push(i),a},lineStringsCoordinateAtM:function(t,e,n,r,i,o,a){if(a)return xr.lineStringCoordinateAtM(t,e,n[n.length-1],r,i,o);var s,l,u;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return xr.lineStringCoordinateAtM(t,e,c,r,i,!1);e=c}}return null}};const Er=xr;var wr={linearRingContainsExtent:function(t,e,n,r,i){return!Re.forEachCorner(i,(function(i){return!wr.linearRingContainsXY(t,e,n,r,i[0],i[1])}))},linearRingContainsXY:function(t,e,n,r,i,o){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a},linearRingsContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;if(!wr.linearRingContainsXY(t,e,n[0],r,i,o))return!1;var a,s;for(a=1,s=n.length;a<s;++a)if(wr.linearRingContainsXY(t,n[a-1],n[a],r,i,o))return!1;return!0},linearRingssContainsXY:function(t,e,n,r,i,o){if(0===n.length)return!1;var a,s;for(a=0,s=n.length;a<s;++a){var l=n[a];if(wr.linearRingsContainsXY(t,e,l,r,i,o))return!0;e=l[l.length-1]}return!1}};const Sr=wr;const Cr={forEach:function(t,e,n,r,i,o){for(var a,s=[t[e],t[e+1]],l=[];e+r<n;e+=r){if(l[0]=t[e+r],l[1]=t[e+r+1],a=i.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}};var Pr={lineString:function(t,e,n,r,i){var o=Re.extendFlatCoordinates(Re.createEmpty(),t,e,n,r);return!!Re.intersects(i,o)&&(!!Re.containsExtent(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||Cr.forEach(t,e,n,r,(function(t,e){return Re.intersectsSegment(i,t,e)})))},lineStrings:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){if(Pr.lineString(t,e,n[o],r,i))return!0;e=n[o]}return!1},linearRing:function(t,e,n,r,i){return!!(Pr.lineString(t,e,n,r,i)||Sr.linearRingContainsXY(t,e,n,r,i[0],i[1])||Sr.linearRingContainsXY(t,e,n,r,i[0],i[3])||Sr.linearRingContainsXY(t,e,n,r,i[2],i[1])||Sr.linearRingContainsXY(t,e,n,r,i[2],i[3]))},linearRings:function(t,e,n,r,i){if(!Pr.linearRing(t,e,n[0],r,i))return!1;if(1===n.length)return!0;var o,a;for(o=1,a=n.length;o<a;++o)if(Sr.linearRingContainsExtent(t,n[o-1],n[o],r,i))return!1;return!0},linearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o){var s=n[o];if(Pr.linearRings(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}};const Or=Pr;var Tr={lineString:function(t,e,n,r){var i,o=t[e],a=t[e+1],s=0;for(i=e+r;i<n;i+=r){var l=t[i],u=t[i+1];s+=Math.sqrt((l-o)*(l-o)+(u-a)*(u-a)),o=l,a=u}return s},linearRing:function(t,e,n,r){var i=Tr.lineString(t,e,n,r),o=t[n-r]-t[e],a=t[n-r+1]-t[e+1];return i+Math.sqrt(o*o+a*a)}};const Rr=Tr;var kr={lineString:function(t,e,n,r,i,o,a){var s=void 0!==a?a:[];return o||(n=kr.radialDistance(t,e,n,r,i,s,0),t=s,e=0,r=2),s.length=kr.douglasPeucker(t,e,n,r,i,s,0),s},douglasPeucker:function(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u,c=[e,n-r],f=0;c.length>0;){var h=c.pop(),p=c.pop(),d=0,y=t[p],g=t[p+1],v=t[h],m=t[h+1];for(u=p+r;u<h;u+=r){var _=t[u],b=t[u+1],x=Le.squaredSegmentDistance(_,b,y,g,v,m);x>d&&(f=u,d=x)}d>i&&(l[(f-e)/r]=1,p+r<f&&c.push(p,f),f+r<h&&c.push(f,h))}for(u=0;u<s;++u)l[u]&&(o[a++]=t[e+u*r],o[a++]=t[e+u*r+1]);return a},douglasPeuckers:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=kr.douglasPeucker(t,e,c,r,i,o,a),s.push(a),e=c}return a},douglasPeuckerss:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],f=[];a=kr.douglasPeuckers(t,e,c,r,i,o,a,f),s.push(f),e=c[c.length-1]}return a},radialDistance:function(t,e,n,r,i,o,a){if(n<=e+r){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var s=t[e],l=t[e+1];o[a++]=s,o[a++]=l;var u=s,c=l;for(e+=r;e<n;e+=r)u=t[e],c=t[e+1],Le.squaredDistance(s,l,u,c)>i&&(o[a++]=u,o[a++]=c,s=u,l=c);return u==s&&c==l||(o[a++]=u,o[a++]=c),a},snap:function(t,e){return e*Math.round(t/e)},quantize:function(t,e,n,r,i,o,a){if(e==n)return a;var s,l,u=kr.snap(t[e],i),c=kr.snap(t[e+1],i);e+=r,o[a++]=u,o[a++]=c;do{if(s=kr.snap(t[e],i),l=kr.snap(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;e<n;){var f,h;if(f=kr.snap(t[e],i),h=kr.snap(t[e+1],i),e+=r,f!=s||h!=l){var p=s-u,d=l-c,y=f-u,g=h-c;p*g==d*y&&(p<0&&y<p||p==y||p>0&&y>p)&&(d<0&&g<d||d==g||d>0&&g>d)?(s=f,l=h):(o[a++]=s,o[a++]=l,u=s,c=l,s=f,l=h)}}return o[a++]=s,o[a++]=l,a},quantizes:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l];a=kr.quantize(t,e,c,r,i,o,a),s.push(a),e=c}return a},quantizess:function(t,e,n,r,i,o,a,s){var l,u;for(l=0,u=n.length;l<u;++l){var c=n[l],f=[];a=kr.quantizes(t,e,c,r,i,o,a,f),s.push(f),e=c[c.length-1]}return a}};const Dr=kr;var Ir=function(t,e){dr.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};Ut.inherits(Ir,dr),Ir.prototype.appendCoordinate=function(t){this.flatCoordinates?lr.extend(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},Ir.prototype.clone=function(){var t=new Ir(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},Ir.prototype.closestPointXY=function(t,e,n,r){return r<Re.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gr.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gr.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},Ir.prototype.forEachSegment=function(t,e){return Cr.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},Ir.prototype.getCoordinateAtM=function(t,e){if(this.layout!=fr&&this.layout!=hr)return null;var n=void 0!==e&&e;return Er.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},Ir.prototype.getCoordinates=function(){return br.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Ir.prototype.getCoordinateAt=function(t,e){return Er.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},Ir.prototype.getLength=function(){return Rr.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Ir.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},Ir.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=Dr.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new Ir(null);return n.setFlatCoordinates(ur,e),n},Ir.prototype.getType=function(){return je},Ir.prototype.intersectsExtent=function(t){return Or.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},Ir.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mr.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(ur,null)},Ir.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const Lr=Ir;var Mr=function(t,e){dr.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};Ut.inherits(Mr,dr),Mr.prototype.appendLineString=function(t){this.flatCoordinates?lr.extend(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Mr.prototype.clone=function(){var t=new Mr(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},Mr.prototype.closestPointXY=function(t,e,n,r){return r<Re.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gr.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gr.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},Mr.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=fr&&this.layout!=hr||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return Er.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},Mr.prototype.getCoordinates=function(){return br.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)},Mr.prototype.getEnds=function(){return this.ends_},Mr.prototype.getLineString=function(t){if(t<0||this.ends_.length<=t)return null;var e=new Lr(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},Mr.prototype.getLineStrings=function(){var t,e,n=this.flatCoordinates,r=this.ends_,i=this.layout,o=[],a=0;for(t=0,e=r.length;t<e;++t){var s=r[t],l=new Lr(null);l.setFlatCoordinates(i,n.slice(a,s)),o.push(l),a=s}return o},Mr.prototype.getFlatMidpoints=function(){var t,e,n=[],r=this.flatCoordinates,i=0,o=this.ends_,a=this.stride;for(t=0,e=o.length;t<e;++t){var s=o[t],l=Er.lineString(r,i,s,a,.5);lr.extend(n,l),i=s}return n},Mr.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=Dr.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n);var r=new Mr(null);return r.setFlatCoordinates(ur,e,n),r},Mr.prototype.getType=function(){return Ue},Mr.prototype.intersectsExtent=function(t){return Or.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,t)},Mr.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=mr.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(ur,null,this.ends_)},Mr.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},Mr.prototype.setLineStrings=function(t){var e,n,r=this.getLayout(),i=[],o=[];for(e=0,n=t.length;e<n;++e){var a=t[e];0===e&&(r=a.getLayout()),lr.extend(i,a.getFlatCoordinates()),o.push(i.length)}this.setFlatCoordinates(r,i,o)};const jr=Mr;var Ar=function(t,e){dr.call(this),this.setCoordinates(t,e)};Ut.inherits(Ar,dr),Ar.prototype.clone=function(){var t=new Ar(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},Ar.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Le.squaredDistance(t,e,i[0],i[1]);if(o<r){var a,s=this.stride;for(a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},Ar.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},Ar.prototype.computeExtent=function(t){return Re.createOrUpdateFromCoordinate(this.flatCoordinates,t)},Ar.prototype.getType=function(){return Me},Ar.prototype.intersectsExtent=function(t){return Re.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},Ar.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mr.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(ur,null)},Ar.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const Fr=Ar;var Nr=function(t,e){dr.call(this),this.setCoordinates(t,e)};Ut.inherits(Nr,dr),Nr.prototype.appendPoint=function(t){this.flatCoordinates?lr.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},Nr.prototype.clone=function(){var t=new Nr(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},Nr.prototype.closestPointXY=function(t,e,n,r){if(r<Re.closestSquaredDistanceXY(this.getExtent(),t,e))return r;var i,o,a,s=this.flatCoordinates,l=this.stride;for(i=0,o=s.length;i<o;i+=l){var u=Le.squaredDistance(t,e,s[i],s[i+1]);if(u<r){for(r=u,a=0;a<l;++a)n[a]=s[i+a];n.length=l}}return r},Nr.prototype.getCoordinates=function(){return br.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Nr.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;if(t<0||e<=t)return null;var n=new Fr(null);return n.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride)),n},Nr.prototype.getPoints=function(){var t,e,n=this.flatCoordinates,r=this.layout,i=this.stride,o=[];for(t=0,e=n.length;t<e;t+=i){var a=new Fr(null);a.setFlatCoordinates(r,n.slice(t,t+i)),o.push(a)}return o},Nr.prototype.getType=function(){return Ne},Nr.prototype.intersectsExtent=function(t){var e,n,r,i,o=this.flatCoordinates,a=this.stride;for(e=0,n=o.length;e<n;e+=a)if(r=o[e],i=o[e+1],Re.containsXY(t,r,i))return!0;return!1},Nr.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mr.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(ur,null)},Nr.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const Ur=Nr;var Br={linearRing:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=a*s-o*l,o=s,a=l}return i/2},linearRings:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=Br.linearRing(t,e,s,r),e=s}return a},linearRingss:function(t,e,n,r){var i,o,a=0;for(i=0,o=n.length;i<o;++i){var s=n[i];a+=Br.linearRings(t,e,s,r),e=s[s.length-1]}return a}};const zr=Br;var Wr=function(t,e){dr.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};Ut.inherits(Wr,dr),Wr.prototype.clone=function(){var t=new Wr(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},Wr.prototype.closestPointXY=function(t,e,n,r){return r<Re.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gr.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gr.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},Wr.prototype.getArea=function(){return zr.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Wr.prototype.getCoordinates=function(){return br.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},Wr.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=Dr.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new Wr(null);return n.setFlatCoordinates(ur,e),n},Wr.prototype.getType=function(){return Ae},Wr.prototype.intersectsExtent=function(t){},Wr.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mr.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(ur,null)},Wr.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};const Gr=Wr;var Vr={linearRings:function(t,e,n,r,i,o,a){for(var s,l,u,c,f,h,p,d=i[o+1],y=[],g=0,v=n.length;g<v;++g){var m=n[g];for(c=t[m-r],h=t[m-r+1],s=e;s<m;s+=r)f=t[s],p=t[s+1],(d<=h&&p<=d||h<=d&&d<=p)&&(u=(d-h)/(p-h)*(f-c)+c,y.push(u)),c=f,h=p}var _=NaN,b=-1/0;for(y.sort(lr.numberSafeCompareFunction),c=y[0],s=1,l=y.length;s<l;++s){f=y[s];var x=Math.abs(f-c);x>b&&(u=(c+f)/2,Sr.linearRingsContainsXY(t,e,n,r,u,d)&&(_=u,b=x)),c=f}return isNaN(_)&&(_=i[o]),a?(a.push(_,d,b),a):[_,d,b]},linearRingss:function(t,e,n,r,i){var o,a,s=[];for(o=0,a=n.length;o<a;++o){var l=n[o];s=Vr.linearRings(t,e,l,r,i,2*o,s),e=l[l.length-1]}return s}};const Hr=Vr;const Xr={coordinates:function(t,e,n,r){for(;e<n-r;){var i;for(i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}};var qr={linearRingIsClockwise:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];i+=(s-o)*(l+a),o=s,a=l}return i>0},linearRingsAreOriented:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=qr.linearRingIsClockwise(t,e,l,r);if(0===o){if(s&&u||!s&&!u)return!1}else if(s&&!u||!s&&u)return!1;e=l}return!0},linearRingssAreOriented:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)if(!qr.linearRingsAreOriented(t,e,n[o],r,i))return!1;return!0},orientLinearRings:function(t,e,n,r,i){var o,a,s=void 0!==i&&i;for(o=0,a=n.length;o<a;++o){var l=n[o],u=qr.linearRingIsClockwise(t,e,l,r);(0===o?s&&u||!s&&!u:s&&!u||!s&&u)&&Xr.coordinates(t,e,l,r),e=l}return e},orientLinearRingss:function(t,e,n,r,i){var o,a;for(o=0,a=n.length;o<a;++o)e=qr.orientLinearRings(t,e,n[o],r,i);return e}};const Yr=qr;var Kr=function(t,e){dr.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};Ut.inherits(Kr,dr),Kr.prototype.appendLinearRing=function(t){this.flatCoordinates?lr.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Kr.prototype.clone=function(){var t=new Kr(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},Kr.prototype.closestPointXY=function(t,e,n,r){return r<Re.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gr.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gr.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},Kr.prototype.containsXY=function(t,e){return Sr.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},Kr.prototype.getArea=function(){return zr.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Kr.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Yr.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,br.coordinatess(e,0,this.ends_,this.stride)},Kr.prototype.getEnds=function(){return this.ends_},Kr.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Re.getCenter(this.getExtent());this.flatInteriorPoint_=Hr.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Kr.prototype.getInteriorPoint=function(){return new Fr(this.getFlatInteriorPoint(),fr)},Kr.prototype.getLinearRingCount=function(){return this.ends_.length},Kr.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t)return null;var e=new Gr(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},Kr.prototype.getLinearRings=function(){var t,e,n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],l=new Gr(null);l.setFlatCoordinates(n,r.slice(a,s)),o.push(l),a=s}return o},Kr.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Yr.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Yr.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Kr.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=Dr.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n);var r=new Kr(null);return r.setFlatCoordinates(ur,e,n),r},Kr.prototype.getType=function(){return Fe},Kr.prototype.intersectsExtent=function(t){return Or.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},Kr.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=mr.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(ur,null,this.ends_)},Kr.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},Kr.circular=function(t,e,n,r){var i,o=r||32,a=[];for(i=0;i<o;++i)lr.extend(a,t.offset(e,n,2*Math.PI*i/o));a.push(a[0],a[1]);var s=new Kr(null);return s.setFlatCoordinates(ur,a,[a.length]),s},Kr.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n],a=new Kr(null);return a.setFlatCoordinates(ur,o,[o.length]),a},Kr.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=new Kr(null,o),s=i*(r+1),l=new Array(s),u=0;u<s;u++)l[u]=0;var c=[l.length];return a.setFlatCoordinates(o,l,c),Kr.makeRegular(a,t.getCenter(),t.getRadius(),n),a},Kr.makeRegular=function(t,e,n,r){for(var i,o,a=t.getFlatCoordinates(),s=t.getLayout(),l=t.getStride(),u=t.getEnds(),c=a.length/l-1,f=r||0,h=0;h<=c;++h)o=h*l,i=f+2*Le.modulo(h,c)*Math.PI/c,a[o]=e[0]+n*Math.cos(i),a[o+1]=e[1]+n*Math.sin(i);t.setFlatCoordinates(s,a,u)};const Zr=Kr;const Qr={linearRingss:function(t,e,n,r){var i,o,a=[],s=Re.createEmpty();for(i=0,o=n.length;i<o;++i){var l=n[i];s=Re.createOrUpdateFromFlatCoordinates(t,e,l[0],r),a.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return a}};var Jr=function(t,e){dr.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};Ut.inherits(Jr,dr),Jr.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n,r,i=this.flatCoordinates.length;for(lr.extend(this.flatCoordinates,t.getFlatCoordinates()),n=0,r=(e=t.getEnds().slice()).length;n<r;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},Jr.prototype.clone=function(){for(var t=new Jr(null),e=this.endss_.length,n=new Array(e),r=0;r<e;++r)n[r]=this.endss_[r].slice();return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),n),t},Jr.prototype.closestPointXY=function(t,e,n,r){return r<Re.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gr.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gr.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},Jr.prototype.containsXY=function(t,e){return Sr.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},Jr.prototype.getArea=function(){return zr.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},Jr.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Yr.orientLinearRingss(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,br.coordinatesss(e,0,this.endss_,this.stride)},Jr.prototype.getEndss=function(){return this.endss_},Jr.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Qr.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Hr.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},Jr.prototype.getInteriorPoints=function(){var t=new Ur(null);return t.setFlatCoordinates(fr,this.getFlatInteriorPoints().slice()),t},Jr.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Yr.linearRingssAreOriented(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Yr.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Jr.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=Dr.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n);var r=new Jr(null);return r.setFlatCoordinates(ur,e,n),r},Jr.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r,i,o=this.endss_[t].slice(),a=o[o.length-1];if(0!==e)for(r=0,i=o.length;r<i;++r)o[r]-=e;var s=new Zr(null);return s.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e,a),o),s},Jr.prototype.getPolygons=function(){var t,e,n,r,i=this.layout,o=this.flatCoordinates,a=this.endss_,s=[],l=0;for(t=0,e=a.length;t<e;++t){var u=a[t].slice(),c=u[u.length-1];if(0!==l)for(n=0,r=u.length;n<r;++n)u[n]-=l;var f=new Zr(null);f.setFlatCoordinates(i,o.slice(l,c),u),s.push(f),l=c}return s},Jr.prototype.getType=function(){return Be},Jr.prototype.intersectsExtent=function(t){return Or.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},Jr.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=mr.coordinatesss(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()}else this.setFlatCoordinates(ur,null,this.endss_)},Jr.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.endss_=n,this.changed()},Jr.prototype.setPolygons=function(t){var e,n,r,i=this.getLayout(),o=[],a=[];for(e=0,n=t.length;e<n;++e){var s=t[e];0===e&&(i=s.getLayout());var l,u,c=o.length;for(l=0,u=(r=s.getEnds()).length;l<u;++l)r[l]+=c;lr.extend(o,s.getFlatCoordinates()),a.push(r)}this.setFlatCoordinates(i,o,a)};const $r=Jr;var ti=function(t){var e=t||{};ir.call(this),this.defaultDataProjection=sn.get(e.defaultDataProjection?e.defaultDataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=sn.get(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName};Ut.inherits(ti,ir),ti.readGeometry_=function(t,e){if(!t)return null;var n=ti.GEOMETRY_READERS_[t.type];return Jn.transformWithOptions(n(t),!1,e)},ti.readGeometryCollectionGeometry_=function(t,e){var n=t.geometries.map((function(t){return ti.readGeometry_(t,e)}));return new ar(n)},ti.readPointGeometry_=function(t){return new Fr(t.coordinates)},ti.readLineStringGeometry_=function(t){return new Lr(t.coordinates)},ti.readMultiLineStringGeometry_=function(t){return new jr(t.coordinates)},ti.readMultiPointGeometry_=function(t){return new Ur(t.coordinates)},ti.readMultiPolygonGeometry_=function(t){return new $r(t.coordinates)},ti.readPolygonGeometry_=function(t){return new Zr(t.coordinates)},ti.writeGeometry_=function(t,e){return(0,ti.GEOMETRY_WRITERS_[t.getType()])(Jn.transformWithOptions(t,!0,e),e)},ti.writeEmptyGeometryCollectionGeometry_=function(t){return{type:"GeometryCollection",geometries:[]}},ti.writeGeometryCollectionGeometry_=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=Vt.assign({},e);return delete n.featureProjection,ti.writeGeometry_(t,n)}));return{type:"GeometryCollection",geometries:n}},ti.writeLineStringGeometry_=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}},ti.writeMultiLineStringGeometry_=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}},ti.writeMultiPointGeometry_=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}},ti.writeMultiPolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}},ti.writePointGeometry_=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}},ti.writePolygonGeometry_=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}},ti.GEOMETRY_READERS_={Point:ti.readPointGeometry_,LineString:ti.readLineStringGeometry_,Polygon:ti.readPolygonGeometry_,MultiPoint:ti.readMultiPointGeometry_,MultiLineString:ti.readMultiLineStringGeometry_,MultiPolygon:ti.readMultiPolygonGeometry_,GeometryCollection:ti.readGeometryCollectionGeometry_},ti.GEOMETRY_WRITERS_={Point:ti.writePointGeometry_,LineString:ti.writeLineStringGeometry_,Polygon:ti.writePolygonGeometry_,MultiPoint:ti.writeMultiPointGeometry_,MultiLineString:ti.writeMultiLineStringGeometry_,MultiPolygon:ti.writeMultiPolygonGeometry_,GeometryCollection:ti.writeGeometryCollectionGeometry_,Circle:ti.writeEmptyGeometryCollectionGeometry_},ti.prototype.readFeature,ti.prototype.readFeatures,ti.prototype.readFeatureFromObject=function(t,e){var n;n="Feature"===t.type?t:{type:"Feature",geometry:t};var r=ti.readGeometry_(n.geometry,e),i=new Zn;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==n.geometry_name&&i.setGeometryName(n.geometry_name),i.setGeometry(r),void 0!==n.id&&i.setId(n.id),n.properties&&i.setProperties(n.properties),i},ti.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];var r,i,o=t.features;for(r=0,i=o.length;r<i;++r)n.push(this.readFeatureFromObject(o[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},ti.prototype.readGeometry,ti.prototype.readGeometryFromObject=function(t,e){return ti.readGeometry_(t,e)},ti.prototype.readProjection,ti.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=sn.get(n.properties.name):Wt.assert(!1,36):e=this.defaultDataProjection,e},ti.prototype.writeFeature,ti.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature"},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();n.geometry=i?ti.writeGeometry_(i,e):null;var o=t.getProperties();return delete o[t.getGeometryName()],Vt.isEmpty(o)?n.properties=null:n.properties=o,n},ti.prototype.writeFeatures,ti.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);var n,r,i=[];for(n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}},ti.prototype.writeGeometry,ti.prototype.writeGeometryObject=function(t,e){return ti.writeGeometry_(t,this.adaptOptions(e))};const ei=ti,ni="IMAGE",ri="TILE",ii="VECTOR_TILE",oi="VECTOR",ai="opacity",si="visible",li="extent",ui="zIndex",ci="maxResolution",fi="minResolution",hi="source";var pi=function(t){ve.call(this);var e=Vt.assign({},t);e[ai]=void 0!==t.opacity?t.opacity:1,e[si]=void 0===t.visible||t.visible,e[ui]=void 0!==t.zIndex?t.zIndex:0,e[ci]=void 0!==t.maxResolution?t.maxResolution:1/0,e[fi]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};Ut.inherits(pi,ve),pi.prototype.getType=function(){return this.type},pi.prototype.getLayerState=function(){return this.state_.opacity=Le.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},pi.prototype.getLayersArray=function(t){},pi.prototype.getLayerStatesArray=function(t){},pi.prototype.getExtent=function(){return this.get(li)},pi.prototype.getMaxResolution=function(){return this.get(ci)},pi.prototype.getMinResolution=function(){return this.get(fi)},pi.prototype.getOpacity=function(){return this.get(ai)},pi.prototype.getSourceState=function(){},pi.prototype.getVisible=function(){return this.get(si)},pi.prototype.getZIndex=function(){return this.get(ui)},pi.prototype.setExtent=function(t){this.set(li,t)},pi.prototype.setMaxResolution=function(t){this.set(ci,t)},pi.prototype.setMinResolution=function(t){this.set(fi,t)},pi.prototype.setOpacity=function(t){this.set(ai,t)},pi.prototype.setVisible=function(t){this.set(si,t)},pi.prototype.setZIndex=function(t){this.set(ui,t)};const di=pi,yi="postcompose",gi="precompose",vi="render",mi="undefined",_i="ready";var bi=function(t){var e=Vt.assign({},t);delete e.source,di.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),Xt.listen(this,ve.getChangeEventType(hi),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};Ut.inherits(bi,di),bi.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},bi.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},bi.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},bi.prototype.getSource=function(){return this.get(hi)||null},bi.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():mi},bi.prototype.handleSourceChange_=function(){this.changed()},bi.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Xt.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Xt.listen(t,qt,this.handleSourceChange_,this)),this.changed()},bi.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Xt.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Xt.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Xt.listen(t,gi,(function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[Ut.getUid(this)]=e}),this),this.mapRenderKey_=Xt.listen(this,qt,t.render,t),this.changed())},bi.prototype.setSource=function(t){this.set(hi,t)};const xi=bi;var Ei=function(t){var e=t||{};xi.call(this,e),this.type=ni};Ut.inherits(Ei,xi),Ei.prototype.getSource;const wi=Ei;var Si=function(t,e,n,r){pe.call(this),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=r};Ut.inherits(Si,pe),Si.prototype.changed=function(){this.dispatchEvent(qt)},Si.prototype.getExtent=function(){return this.extent},Si.prototype.getImage=function(){},Si.prototype.getPixelRatio=function(){return this.pixelRatio_},Si.prototype.getResolution=function(){return this.resolution},Si.prototype.getState=function(){return this.state},Si.prototype.load=function(){};const Ci=Si;var Pi=function(t,e,n,r,i,o){Ci.call(this,t,e,n,Cn),this.src_=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.imageListenerKeys_=null,this.state=Cn,this.imageLoadFunction_=o};Ut.inherits(Pi,Ci),Pi.prototype.getImage=function(){return this.image_},Pi.prototype.handleImageError_=function(){this.state=Tn,this.unlistenImage_(),this.changed()},Pi.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Re.getHeight(this.extent)/this.image_.height),this.state=On,this.unlistenImage_(),this.changed()},Pi.prototype.load=function(){this.state!=Cn&&this.state!=Tn||(this.state=Pn,this.changed(),this.imageListenerKeys_=[Xt.listenOnce(this.image_,Qt,this.handleImageError_,this),Xt.listenOnce(this.image_,te,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},Pi.prototype.setImage=function(t){this.image_=t},Pi.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(Xt.unlistenByKey),this.imageListenerKeys_=null};const Oi=Pi;var Ti={calculateSourceResolution:function(t,e,n,r){var i=sn.transform(n,e,t),o=sn.getPointResolution(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var l=t.getExtent();if(!l||Re.containsCoordinate(l,i)){var u=sn.getPointResolution(t,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o},enlargeClipPoint_:function(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]},render:function(t,e,n,r,i,o,a,s,l,u,c){var f=_n.createCanvasContext2D(Math.round(n*t),Math.round(n*e));if(0===l.length)return f.canvas;f.scale(n,n);var h=Re.createEmpty();l.forEach((function(t,e,n){Re.extend(h,t.extent)}));var p=Re.getWidth(h),d=Re.getHeight(h),y=_n.createCanvasContext2D(Math.round(n*p/r),Math.round(n*d/r)),g=n/r;l.forEach((function(t,e,n){var r=t.extent[0]-h[0],i=-(t.extent[3]-h[3]),o=Re.getWidth(t.extent),a=Re.getHeight(t.extent);y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*g,i*g,o*g,a*g)}));var v=Re.getTopLeft(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],c=a[1][0],p=a[1][1],d=a[2][0],g=a[2][1],m=(s[0][0]-v[0])/o,_=-(s[0][1]-v[1])/o,b=(s[1][0]-v[0])/o,x=-(s[1][1]-v[1])/o,E=(s[2][0]-v[0])/o,w=-(s[2][1]-v[1])/o,S=l,C=u;l=0,u=0;var P=[[c-=S,p-=C,0,0,b-m],[d-=S,g-=C,0,0,E-m],[0,0,c,p,x-_],[0,0,d,g,w-_]],O=Le.solveLinearSystem(P);if(O){f.save(),f.beginPath();var T=(m+b+E)/3,R=(_+x+w)/3,k=Ti.enlargeClipPoint_(T,R,m,_),D=Ti.enlargeClipPoint_(T,R,b,x),I=Ti.enlargeClipPoint_(T,R,E,w);f.moveTo(D[0],D[1]),f.lineTo(k[0],k[1]),f.lineTo(I[0],I[1]),f.clip(),f.transform(O[0],O[2],O[1],O[3],m,_),f.translate(h[0]-S,h[3]-C),f.scale(r/n,-r/n),f.drawImage(y.canvas,0,0),f.restore()}})),c&&(f.save(),f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-v[0])/o,a=-(r[0][1]-v[1])/o,s=(r[1][0]-v[0])/o,l=-(r[1][1]-v[1])/o,u=(r[2][0]-v[0])/o,c=-(r[2][1]-v[1])/o;f.beginPath(),f.moveTo(s,l),f.lineTo(i,a),f.lineTo(u,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}};const Ri=Ti;var ki=function(t,e,n,r,i){this.sourceProj_=t,this.targetProj_=e;var o={},a=sn.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Re.getWidth(r)==Re.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Re.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Re.getWidth(this.targetProj_.getExtent()):null;var s=Re.getTopLeft(n),l=Re.getTopRight(n),u=Re.getBottomRight(n),c=Re.getBottomLeft(n),f=this.transformInv_(s),h=this.transformInv_(l),p=this.transformInv_(u),d=this.transformInv_(c);if(this.addQuad_(s,l,u,c,f,h,p,d,Ut.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}),this)}o={}};ki.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},ki.prototype.addQuad_=function(t,e,n,r,i,o,a,s,l){var u=Re.boundingExtent([i,o,a,s]),c=this.sourceWorldWidth_?Re.getWidth(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Re.boundingExtent([t,e,n,r]);p|=Re.getWidth(d)/this.targetWorldWidth_>Ut.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!h&&this.sourceProj_.isGlobal()&&c&&(p|=c>Ut.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(p||!this.maxSourceExtent_||Re.intersects(u,this.maxSourceExtent_)){if(!(p||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var y,g=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(g);y=h?(Le.modulo(i[0],f)+Le.modulo(a[0],f))/2-Le.modulo(v[0],f):(i[0]+a[0])/2-v[0];var m=(i[1]+a[1])/2-v[1];p=y*y+m*m>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(_),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],E=this.transformInv_(x);this.addQuad_(t,e,_,x,i,o,b,E,l-1),this.addQuad_(x,_,n,r,E,b,a,s,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(w),C=[(n[0]+r[0])/2,(n[1]+r[1])/2],P=this.transformInv_(C);this.addQuad_(t,w,C,r,i,S,P,s,l-1),this.addQuad_(w,e,n,C,S,o,a,P,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,i,a,s),this.addTriangle_(t,e,n,i,o,a)}},ki.prototype.calculateSourceExtent=function(){var t=Re.createEmpty();return this.triangles_.forEach((function(e,n,r){var i=e.source;Re.extendCoordinate(t,i[0]),Re.extendCoordinate(t,i[1]),Re.extendCoordinate(t,i[2])})),t},ki.prototype.getTriangles=function(){return this.triangles_};const Di=ki;var Ii=function(t,e,n,r,i,o){this.targetProj_=e,this.maxSourceExtent_=t.getExtent();var a=e.getExtent(),s=a?Re.getIntersection(n,a):n,l=Re.getCenter(s),u=Ri.calculateSourceResolution(t,e,l,r),c=Ut.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new Di(t,e,s,this.maxSourceExtent_,u*c),this.targetResolution_=r,this.targetExtent_=n;var f=this.triangulation_.calculateSourceExtent();this.sourceImage_=o(f,u,i),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var h=On;this.sourceImage_&&(h=Cn),Ci.call(this,n,r,this.sourcePixelRatio_,h)};Ut.inherits(Ii,Ci),Ii.prototype.disposeInternal=function(){this.state==Pn&&this.unlistenSource_(),Ci.prototype.disposeInternal.call(this)},Ii.prototype.getImage=function(){return this.canvas_},Ii.prototype.getProjection=function(){return this.targetProj_},Ii.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==On){var e=Re.getWidth(this.targetExtent_)/this.targetResolution_,n=Re.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=Ri.render(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},Ii.prototype.load=function(){if(this.state==Cn){this.state=Pn,this.changed();var t=this.sourceImage_.getState();t==On||t==Tn?this.reproject_():(this.sourceListenerKey_=Xt.listen(this.sourceImage_,qt,(function(t){var e=this.sourceImage_.getState();e!=On&&e!=Tn||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},Ii.prototype.unlistenSource_=function(){Xt.unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null};const Li=Ii;var Mi=function(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r};Mi.createOrUpdate=function(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Mi(t,e,n,r)},Mi.prototype.contains=function(t){return this.containsXY(t[1],t[2])},Mi.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},Mi.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},Mi.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},Mi.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},Mi.prototype.getHeight=function(){return this.maxY-this.minY+1},Mi.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},Mi.prototype.getWidth=function(){return this.maxX-this.minX+1},Mi.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const ji=Mi;var Ai={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}};const Fi=Ai;var Ni={createOrUpdate:function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return Ni.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")},withinExtentAndZ:function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}};const Ui=Ni;var Bi=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Wt.assert(lr.isSorted(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Wt.assert(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Re.getTopLeft(i)),Wt.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Wt.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:Ut.DEFAULT_TILE_SIZE,Wt.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new ji(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):i&&this.calculateTileRanges_(i)};Bi.tmpTileCoord_=[0,0,0],Bi.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},Bi.prototype.forEachTileCoordParentTileRange=function(t,e,n,r,i){var o,a,s,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):l=this.getTileCoordExtent(t,i);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=ji.createOrUpdate(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(l,u,r),e.call(n,u,o))return!0;--u}return!1},Bi.prototype.getExtent=function(){return this.extent_},Bi.prototype.getMaxZoom=function(){return this.maxZoom},Bi.prototype.getMinZoom=function(){return this.minZoom},Bi.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},Bi.prototype.getResolution=function(t){return this.resolutions_[t]},Bi.prototype.getResolutions=function(){return this.resolutions_},Bi.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return ji.createOrUpdate(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},Bi.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=Fi.toSize(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,u=r[1]+(e.maxY+1)*o[1]*i;return Re.createOrUpdate(a,l,s,u,n)},Bi.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Bi.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),ji.createOrUpdate(i,r[1],o,r[2],n)},Bi.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Fi.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]+(t[2]+.5)*r[1]*n]},Bi.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Fi.toSize(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]+t[2]*i[1]*r,s=o+i[0]*r,l=a+i[1]*r;return Re.createOrUpdate(o,a,s,l,e)},Bi.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},Bi.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=Fi.toSize(this.getTileSize(o),this.tmpSize_),u=r?.5:0,c=r?0:.5,f=Math.floor((t-s[0])/n+u),h=Math.floor((e-s[1])/n+c),p=a*f/l[0],d=a*h/l[1];return r?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),Ui.createOrUpdate(o,p,d,i)},Bi.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=Fi.toSize(this.getTileSize(n),this.tmpSize_),l=r?.5:0,u=r?0:.5,c=Math.floor((t-o[0])/a+l),f=Math.floor((e-o[1])/a+u),h=c/s[0],p=f/s[1];return r?(h=Math.ceil(h)-1,p=Math.ceil(p)-1):(h=Math.floor(h),p=Math.floor(p)),Ui.createOrUpdate(n,h,p,i)},Bi.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},Bi.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},Bi.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},Bi.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},Bi.prototype.getZForResolution=function(t,e){var n=lr.linearFindNearest(this.resolutions_,t,e||0);return Le.clamp(n,this.minZoom,this.maxZoom)},Bi.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n};const zi=Bi;var Wi={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=Wi.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=Wi.extentFromProjection(n);if(Re.containsCoordinate(o,i))return e;var a=Re.getWidth(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)},createForExtent:function(t,e,n,r){var i=void 0!==r?r:be,o=Wi.resolutionsFromExtent(t,e,n);return new zi({extent:t,origin:Re.getCorner(t,i),resolutions:o,tileSize:n})},createXYZ:function(t){var e={};return Vt.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=sn.get("EPSG:3857").getExtent()),e.resolutions=Wi.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new zi(e)},resolutionsFromExtent:function(t,e,n){for(var r=void 0!==e?e:Ut.DEFAULT_MAX_ZOOM,i=Re.getHeight(t),o=Re.getWidth(t),a=Fi.toSize(void 0!==n?n:Ut.DEFAULT_TILE_SIZE),s=Math.max(o/a[0],i/a[1]),l=r+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u},createForProjection:function(t,e,n,r){var i=Wi.extentFromProjection(t);return Wi.createForExtent(i,e,n,r)},extentFromProjection:function(t){var e=(t=sn.get(t)).getExtent();if(!e){var n=180*sn.METERS_PER_UNIT[Xe.DEGREES]/t.getMetersPerUnit();e=Re.createOrUpdate(-n,-n,n,n)}return e}};const Gi=Wi;var Vi=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};Vi.prototype.getHTML=function(){return this.html_},Vi.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var r,i,o,a;for(a in t){var s;if(a in this.tileRanges_)for(o=t[a],r=0,i=this.tileRanges_[a].length;r<i;++r){if((s=this.tileRanges_[a][r]).intersects(o))return!0;var l=e.getTileRangeForExtentAndZ(Gi.extentFromProjection(n),parseInt(a,10)),u=l.getWidth();if(o.minX<l.minX||o.maxX>l.maxX){if(s.intersects(new ji(Le.modulo(o.minX,u),Le.modulo(o.maxX,u),o.minY,o.maxY)))return!0;if(o.getWidth()>u&&s.intersects(l))return!0}}}return!1};const Hi=Vi;var Xi=function(t){ve.call(this),this.projection_=sn.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:_i,this.wrapX_=void 0!==t.wrapX&&t.wrapX};Ut.inherits(Xi,ve),Xi.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof Hi)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof Hi){this.attributions_=t;var e=t.map((function(t){return t.getHTML()}));return function(t){return e}}return this.attributions_=t.map((function(t){return new Hi({html:t})})),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new Hi({html:t})],function(e){return[t]})},Xi.prototype.forEachFeatureAtCoordinate=Ut.nullFunction,Xi.prototype.getAttributions=function(){return this.attributions_},Xi.prototype.getAttributions2=function(){return this.attributions2_},Xi.prototype.getLogo=function(){return this.logo_},Xi.prototype.getProjection=function(){return this.projection_},Xi.prototype.getResolutions=function(){},Xi.prototype.getState=function(){return this.state_},Xi.prototype.getWrapX=function(){return this.wrapX_},Xi.prototype.refresh=function(){this.changed()},Xi.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},Xi.prototype.setLogo=function(t){this.logo_=t},Xi.prototype.setState=function(t){this.state_=t,this.changed()};const qi=Xi;var Yi=function(t){qi.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0};Ut.inherits(Yi,qi),Yi.prototype.getResolutions=function(){return this.resolutions_},Yi.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=lr.linearFindNearest(this.resolutions_,t,0);t=this.resolutions_[e]}return t},Yi.prototype.getImage=function(t,e,n,r){var i=this.getProjection();if(Ut.ENABLE_RASTER_REPROJECTION&&i&&r&&!sn.equivalent(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&sn.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&Re.equals(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Li(i,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(t,e,n,r)},Yi.prototype.getImageInternal=function(t,e,n,r){},Yi.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Pn:this.dispatchEvent(new Yi.Event(Yi.EventType_.IMAGELOADSTART,e));break;case On:this.dispatchEvent(new Yi.Event(Yi.EventType_.IMAGELOADEND,e));break;case Tn:this.dispatchEvent(new Yi.Event(Yi.EventType_.IMAGELOADERROR,e))}},Yi.defaultImageLoadFunction=function(t,e){t.getImage().src=e},Yi.Event=function(t,e){fe.call(this,t),this.image=e},Ut.inherits(Yi.Event,fe),Yi.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};const Ki=Yi;var Zi=function(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,r=void 0!==t.imageLoadFunction?t.imageLoadFunction:Ki.defaultImageLoadFunction;Ki.call(this,{attributions:t.attributions,logo:t.logo,projection:sn.get(t.projection)}),this.image_=new Oi(e,void 0,1,t.url,n,r),this.imageSize_=t.imageSize?t.imageSize:null,Xt.listen(this.image_,qt,this.handleImageChange,this)};Ut.inherits(Zi,Ki),Zi.prototype.getImageInternal=function(t,e,n,r){return Re.intersects(t,this.image_.getExtent())?this.image_:null},Zi.prototype.handleImageChange=function(t){if(this.image_.getState()==On){var e,n,r=this.image_.getExtent(),i=this.image_.getImage();this.imageSize_?(e=this.imageSize_[0],n=this.imageSize_[1]):(e=i.width,n=i.height);var o=Re.getHeight(r)/n,a=Math.ceil(Re.getWidth(r)/o);if(a!=e){var s=_n.createCanvasContext2D(a,n),l=s.canvas;s.drawImage(i,0,0,e,n,0,0,l.width,l.height),this.image_.setImage(l)}}Ki.prototype.handleImageChange.call(this,t)};const Qi=Zi,Ji="add",$i="remove";var to=function(t,e){ve.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()};Ut.inherits(to,ve),to.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},to.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},to.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},to.prototype.getArray=function(){return this.array_},to.prototype.item=function(t){return this.array_[t]},to.prototype.getLength=function(){return this.get(to.Property_.LENGTH)},to.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new to.Event(Ji,e))},to.prototype.pop=function(){return this.removeAt(this.getLength()-1)},to.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},to.prototype.remove=function(t){var e,n,r=this.array_;for(e=0,n=r.length;e<n;++e)if(r[e]===t)return this.removeAt(e)},to.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new to.Event($i,e)),e},to.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new to.Event($i,r)),this.dispatchEvent(new to.Event(Ji,e))}else{var i;for(i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},to.prototype.updateLength_=function(){this.set(to.Property_.LENGTH,this.array_.length)},to.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new zt(58)},to.Property_={LENGTH:"length"},to.Event=function(t,e){fe.call(this,t),this.element=e},Ut.inherits(to.Event,fe);const eo=to;var no=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};no.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},no.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},no.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},no.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},no.prototype.getAngle=function(){return this.angle_};const ro=no,io={SINGLECLICK:"singleclick",CLICK:Kt,DBLCLICK:Zt,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var oo={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return 1-oo.easeIn(1-t)},inAndOut:function(t){return 3*t*t-2*t*t*t},linear:function(t){return t},upAndDown:function(t){return t<.5?oo.inAndOut(2*t):1-oo.inAndOut(2*(t-.5))}};const ao=oo,so="active";var lo=function(t){ve.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};Ut.inherits(lo,ve),lo.prototype.getActive=function(){return this.get(so)},lo.prototype.getMap=function(){return this.map_},lo.prototype.setActive=function(t){this.set(so,t)},lo.prototype.setMap=function(t){this.map_=t},lo.pan=function(t,e,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);n?t.animate({duration:n,easing:ao.linear,center:i}):t.setCenter(i)}},lo.rotate=function(t,e,n,r){e=t.constrainRotation(e,0),lo.rotateWithoutConstraints(t,e,n,r)},lo.rotateWithoutConstraints=function(t,e,n,r){if(void 0!==e){var i=t.getRotation(),o=t.getCenter();void 0!==i&&o&&r>0?t.animate({rotation:e,anchor:n,duration:r,easing:ao.easeOut}):t.rotate(e,n)}},lo.zoom=function(t,e,n,r,i){e=t.constrainResolution(e,0,i),lo.zoomWithoutConstraints(t,e,n,r)},lo.zoomByDelta=function(t,e,n,r){var i=t.getResolution(),o=t.constrainResolution(i,e,0);if(void 0!==o){var a=t.getResolutions();o=Le.clamp(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==i){var s=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*s[0]-i*l[0])/(o-i),(o*s[1]-i*l[1])/(o-i)]}lo.zoomWithoutConstraints(t,o,n,r)},lo.zoomWithoutConstraints=function(t,e,n,r){if(e){var i=t.getResolution(),o=t.getCenter();if(void 0!==i&&o&&e!==i&&r)t.animate({resolution:e,anchor:n,duration:r,easing:ao.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}};const uo=lo;var co=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,uo.call(this,{handleEvent:co.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};Ut.inherits(co,uo),co.handleEvent=function(t){var e=!1,n=t.originalEvent;if(t.type==io.DBLCLICK){var r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=r.getView();uo.zoomByDelta(a,o,i,this.duration_),t.preventDefault(),e=!0}return!e};const fo=co,ho=0,po=1;const yo={padNumber:function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},compareVersions:function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}};var go={add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t},closestOnCircle:function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+n*a/l,o+n*s/l]},closestOnSegment:function(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],f=s[1],h=c-l,p=f-u,d=0===h&&0===p?0:(h*(i-l)+p*(o-u))/(h*h+p*p||0);return d<=0?(n=l,r=u):d>=1?(n=c,r=f):(n=l+d*h,r=u+d*p),[n,r]},createStringXY:function(t){return function(e){return go.toStringXY(e,t)}},degreesToStringHDMS:function(t,e,n){var r=Le.modulo(e+180,360)-180,i=Math.abs(3600*r),o=n||0,a=Math.pow(10,o),s=Math.floor(i/3600),l=Math.floor((i-3600*s)/60),u=i-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+"° "+yo.padNumber(l,2)+"′ "+yo.padNumber(u,2,o)+"″"+(0==r?"":" "+t.charAt(r<0?1:0))},format:function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""},equals:function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},rotate:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},scale:function(t,e){return t[0]*=e,t[1]*=e,t},sub:function(t,e){return t[0]-=e[0],t[1]-=e[1],t},squaredDistance:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},distance:function(t,e){return Math.sqrt(go.squaredDistance(t,e))},squaredDistanceToSegment:function(t,e){return go.squaredDistance(t,go.closestOnSegment(t,e))},toStringHDMS:function(t,e){return t?go.degreesToStringHDMS("NS",t[1],e)+" "+go.degreesToStringHDMS("EW",t[0],e):""},toStringXY:function(t,e){return go.format(t,"{x}, {y}",e)}};const vo=go;var mo={altKeyOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},altShiftKeysOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}};mo.always=ke.TRUE,mo.click=function(t){return t.type==io.CLICK},mo.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(Sn.WEBKIT&&Sn.MAC&&e.ctrlKey)},mo.never=ke.FALSE,mo.pointerMove=function(t){return"pointermove"==t.type},mo.singleClick=function(t){return t.type==io.SINGLECLICK},mo.doubleClick=function(t){return t.type==io.DBLCLICK},mo.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},mo.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(Sn.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},mo.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},mo.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},mo.mouseOnly=function(t){return Wt.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},mo.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button};const _o=mo;var bo=function(t,e,n){fe.call(this,t),this.map=e,this.frameState=void 0!==n?n:null};Ut.inherits(bo,fe);const xo=bo;var Eo=function(t,e,n,r,i){xo.call(this,t,e,i),this.originalEvent=n,this.pixel=e.getEventPixel(n),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r};Ut.inherits(Eo,xo),Eo.prototype.preventDefault=function(){xo.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Eo.prototype.stopPropagation=function(){xo.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};const wo=Eo;var So=function(t,e,n,r,i){wo.call(this,t,e,n.originalEvent,r,i),this.pointerEvent=n};Ut.inherits(So,wo);const Co=So;var Po=function(t){var e=t||{},n=e.handleEvent?e.handleEvent:Po.handleEvent;uo.call(this,{handleEvent:n}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:Po.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:Po.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:Po.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:Po.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};Ut.inherits(Po,uo),Po.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]},Po.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===io.POINTERDOWN||e===io.POINTERDRAG||e===io.POINTERUP},Po.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==io.POINTERUP?delete this.trackedPointers_[n]:(t.type==io.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Vt.getValues(this.trackedPointers_)}},Po.handleDragEvent=Ut.nullFunction,Po.handleUpEvent=ke.FALSE,Po.handleDownEvent=ke.FALSE,Po.handleMoveEvent=Ut.nullFunction,Po.handleEvent=function(t){if(!(t instanceof Co))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==io.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==io.POINTERUP){var n=this.handleUpEvent_(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==io.POINTERDOWN){var r=this.handleDownEvent_(t);this.handlingDownUpSequence=r,e=this.shouldStopEvent(r)}else t.type==io.POINTERMOVE&&this.handleMoveEvent_(t);return!e},Po.prototype.shouldStopEvent=function(t){return t};const Oo=Po;var To=function(t){Oo.call(this,{handleDownEvent:To.handleDownEvent_,handleDragEvent:To.handleDragEvent_,handleUpEvent:To.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=e.condition?e.condition:_o.noModifierKeys,this.noKinetic_=!1};Ut.inherits(To,Oo),To.handleDragEvent_=function(t){var e=this.targetPointers,n=Oo.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=this.lastCentroid[0]-n[0],i=n[1]-this.lastCentroid[1],o=t.map.getView(),a=o.getState(),s=[r,i];vo.scale(s,a.resolution),vo.rotate(s,a.rotation),vo.add(s,a.center),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},To.handleUpEvent_=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animate({center:n.constrainCenter(s),duration:500,easing:ao.easeOut})}return n.setHint(po,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},To.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||e.setHint(po,1),e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},To.prototype.shouldStopEvent=ke.FALSE;const Ro=To;const ko={disable:function(t,e){return void 0!==t?0:void 0},none:function(t,e){return void 0!==t?t+e:void 0},createSnapToN:function(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}},createSnapToZero:function(t){var e=t||Le.toRadians(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}};var Do=function(t){var e=t||{};Oo.call(this,{handleDownEvent:Do.handleDownEvent_,handleDragEvent:Do.handleDragEvent_,handleUpEvent:Do.handleUpEvent_}),this.condition_=e.condition?e.condition:_o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};Ut.inherits(Do,Oo),Do.handleDragEvent_=function(t){if(_o.mouseOnly(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==ko.disable){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_,s=n.getRotation();uo.rotateWithoutConstraints(n,s-a)}this.lastAngle_=o}}},Do.handleUpEvent_=function(t){if(!_o.mouseOnly(t))return!0;var e=t.map.getView();e.setHint(po,-1);var n=e.getRotation();return uo.rotate(e,n,void 0,this.duration_),!1},Do.handleDownEvent_=function(t){return!(!_o.mouseOnly(t)||!_o.mouseActionButton(t)||!this.condition_(t)||(t.map.getView().setHint(po,1),this.lastAngle_=void 0,0))},Do.prototype.shouldStopEvent=ke.FALSE;const Io=Do;var Lo=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};Ut.inherits(Lo,ue),Lo.prototype.disposeInternal=function(){this.setMap(null)},Lo.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},Lo.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},Lo.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},Lo.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Zr([n])},Lo.prototype.getGeometry=function(){return this.geometry_};const Mo=Lo;var jo=function(t){Oo.call(this,{handleDownEvent:jo.handleDownEvent_,handleDragEvent:jo.handleDragEvent_,handleUpEvent:jo.handleUpEvent_});var e=t||{};this.box_=new Mo(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:_o.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:jo.defaultBoxEndCondition};Ut.inherits(jo,Oo),jo.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},jo.handleDragEvent_=function(t){_o.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new jo.Event(jo.EventType_.BOXDRAG,t.coordinate,t)))},jo.prototype.getGeometry=function(){return this.box_.getGeometry()},jo.prototype.onBoxEnd=Ut.nullFunction,jo.handleUpEvent_=function(t){return!_o.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new jo.Event(jo.EventType_.BOXEND,t.coordinate,t))),!1)},jo.handleDownEvent_=function(t){return!(!_o.mouseOnly(t)||!_o.mouseActionButton(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new jo.Event(jo.EventType_.BOXSTART,t.coordinate,t)),0))},jo.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},jo.Event=function(t,e,n){fe.call(this,t),this.coordinate=e,this.mapBrowserEvent=n},Ut.inherits(jo.Event,fe);const Ao=jo;var Fo=function(t){var e=t||{},n=e.condition?e.condition:_o.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,Ao.call(this,{condition:n,className:e.className||"ol-dragzoom"})};Ut.inherits(Fo,Ao),Fo.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n),o=Re.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(Re.getBottomLeft(r)),t.getPixelFromCoordinate(Re.getTopRight(r))]),a=e.getResolutionForExtent(o,n);Re.scaleFromCenter(i,1/a),r=i}var s=e.constrainResolution(e.getResolutionForExtent(r,n)),l=Re.getCenter(r);l=e.constrainCenter(l),e.animate({resolution:s,center:l,duration:this.duration_,easing:ao.easeOut})};const No=Fo,Uo=37,Bo=38,zo=39,Wo=40;var Go=function(t){uo.call(this,{handleEvent:Go.handleEvent});var e=t||{};this.defaultCondition_=function(t){return _o.noModifierKeys(t)&&_o.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};Ut.inherits(Go,uo),Go.handleEvent=function(t){var e=!1;if(t.type==Jt){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Wo||n==Uo||n==zo||n==Bo)){var r=t.map.getView(),i=r.getResolution()*this.pixelDelta_,o=0,a=0;n==Wo?a=-i:n==Uo?o=-i:n==zo?o=i:a=i;var s=[o,a];vo.rotate(s,r.getRotation()),uo.pan(r,s,this.duration_),t.preventDefault(),e=!0}}return!e};const Vo=Go;var Ho=function(t){uo.call(this,{handleEvent:Ho.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:_o.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};Ut.inherits(Ho,uo),Ho.handleEvent=function(t){var e=!1;if(t.type==Jt||t.type==$t){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=r.getView();uo.zoomByDelta(o,i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};const Xo=Ho;var qo=function(t){uo.call(this,{handleEvent:qo.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};Ut.inherits(qo,uo),qo.handleEvent=function(t){var e=t.type;if(e!==ae&&e!==ne)return!0;t.preventDefault();var n,r=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ae?(n=i.deltaY,Sn.FIREFOX&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Sn.DEVICE_PIXEL_RATIO),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==ne&&(n=-i.wheelDeltaY,Sn.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?qo.Mode_.TRACKPAD:qo.Mode_.WHEEL),this.mode_===qo.Mode_.TRACKPAD){var a=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(po,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=a.getMinResolution(),u=a.getMaxResolution(),c=0;if(s<l?(s=Math.max(s,l/this.trackpadZoomBuffer_),c=1):s>u&&(s=Math.min(s,u*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var f=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(f))}return a.setResolution(s),0===c&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,n>0?-1:1),easing:ao.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),c>0?a.animate({resolution:l,easing:ao.easeOut,anchor:this.lastAnchor_,duration:500}):c<0&&a.animate({resolution:u,easing:ao.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var h=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),h),!1},qo.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(po,-1)},qo.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Ut.MOUSEWHEELZOOM_MAXDELTA,r=Le.clamp(this.delta_,-n,n);uo.zoomByDelta(e,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},qo.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},qo.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};const Yo=qo;var Ko=function(t){Oo.call(this,{handleDownEvent:Ko.handleDownEvent_,handleDragEvent:Ko.handleDragEvent_,handleUpEvent:Ko.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};Ut.inherits(Ko,Oo),Ko.handleDragEvent_=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==ko.disable){var l=a.getViewport().getBoundingClientRect(),u=Oo.centroid(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_){var c=s.getRotation();a.render(),uo.rotateWithoutConstraints(s,c+e,this.anchor_)}}},Ko.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(po,-1),this.rotating_){var n=e.getRotation();uo.rotate(e,n,this.anchor_,this.duration_)}return!1}return!0},Ko.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(po,1),!0}return!1},Ko.prototype.shouldStopEvent=ke.FALSE;const Zo=Ko;var Qo=function(t){Oo.call(this,{handleDownEvent:Qo.handleDownEvent_,handleDragEvent:Qo.handleDragEvent_,handleUpEvent:Qo.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};Ut.inherits(Qo,Oo),Qo.handleDragEvent_=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView(),u=l.getResolution(),c=l.getMaxResolution(),f=l.getMinResolution(),h=u*e;h>c?(e=c/u,h=c):h<f&&(e=f/u,h=f),1!=e&&(this.lastScaleDelta_=e);var p=s.getViewport().getBoundingClientRect(),d=Oo.centroid(this.targetPointers);d[0]-=p.left,d[1]-=p.top,this.anchor_=s.getCoordinateFromPixel(d),s.render(),uo.zoomWithoutConstraints(l,h,this.anchor_)},Qo.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(po,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var r=this.lastScaleDelta_-1;uo.zoom(e,n,this.anchor_,this.duration_,r)}return!1}return!0},Qo.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(po,1),!0}return!1},Qo.prototype.shouldStopEvent=ke.FALSE;const Jo=Qo;var $o={defaults:function(t){var e=t||{},n=new eo,r=new ro(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Io),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new fo({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Ro({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Zo),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Jo({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Vo),n.push(new Xo({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Yo({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new No({duration:e.zoomDuration})),n}};const ta=$o,ea="pointermove",na="pointerdown",ra="pointerup",ia="pointerover",oa="pointerout",aa="pointerenter",sa="pointerleave",la="pointercancel";var ua=function(t,e){this.dispatcher=t,this.mapping_=e};ua.prototype.getEvents=function(){return Object.keys(this.mapping_)},ua.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};const ca=ua;var fa=function(t){var e={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ca.call(this,t,e),this.pointerMap=t.pointerMap,this.lastTouches=[]};Ut.inherits(fa,ca),fa.POINTER_ID=1,fa.POINTER_TYPE="mouse",fa.DEDUP_DIST=25,fa.prototype.isEventSimulatedFromTouch_=function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e[0]),l=Math.abs(i-e[1]);if(s<=fa.DEDUP_DIST&&l<=fa.DEDUP_DIST)return!0}return!1},fa.prepareEvent=function(t,e){var n=e.cloneEvent(t,t),r=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),r()},n.pointerId=fa.POINTER_ID,n.isPrimary=!0,n.pointerType=fa.POINTER_TYPE,n},fa.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){fa.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var e=fa.prepareEvent(t,this.dispatcher);this.pointerMap[fa.POINTER_ID.toString()]=t,this.dispatcher.down(e,t)}},fa.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=fa.prepareEvent(t,this.dispatcher);this.dispatcher.move(e,t)}},fa.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[fa.POINTER_ID.toString()];if(e&&e.button===t.button){var n=fa.prepareEvent(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}},fa.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=fa.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(e,t)}},fa.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=fa.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}},fa.prototype.cancel=function(t){var e=fa.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},fa.prototype.cleanupMouse=function(){delete this.pointerMap[fa.POINTER_ID.toString()]};const ha=fa;var pa=function(t){var e={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ca.call(this,t,e),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};Ut.inherits(pa,ca),pa.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},pa.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},pa.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)},pa.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)},pa.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)},pa.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)},pa.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)},pa.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)},pa.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)},pa.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};const da=pa;var ya=function(t){var e={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ca.call(this,t,e)};Ut.inherits(ya,ca),ya.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},ya.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};const ga=ya;var va=function(t,e,n){fe.call(this,t),this.originalEvent=e;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};Ut.inherits(va,fe),va.prototype.getButtons_=function(t){var e;if(t.buttons||va.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},va.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},va.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});va.HAS_BUTTONS=1===t.buttons}catch(t){}}();const ma=va;var _a=function(t,e){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ca.call(this,t,n),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};Ut.inherits(_a,ca),_a.DEDUP_TIMEOUT=2500,_a.CLICK_COUNT_TIMEOUT=200,_a.POINTER_TYPE="touch",_a.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},_a.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&ha.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},_a.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},_a.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),_a.CLICK_COUNT_TIMEOUT)},_a.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},_a.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},_a.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=_a.POINTER_TYPE,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},_a.prototype.processTouches_=function(t,e){var n,r,i=Array.prototype.slice.call(t.changedTouches),o=i.length;function a(){t.preventDefault()}for(n=0;n<o;++n)(r=this.touchToPointer_(t,i[n])).preventDefault=a,e.call(this,t,r)},_a.prototype.findTouch_=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].identifier===e)return!0;return!1},_a.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),r=n.length;if(r>=e.length){var i,o,a,s=[];for(i=0;i<r;++i)o=n[i],a=this.pointerMap[o],o==ha.POINTER_ID||this.findTouch_(e,o-2)||s.push(a.out);for(i=0;i<s.length;++i)this.cancelOut_(t,s[i])}},_a.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},_a.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},_a.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},_a.prototype.moveOverOut_=function(t,e){var n=e,r=this.pointerMap[n.pointerId];if(r){var i=r.out,o=r.outTarget;this.dispatcher.move(n,t),i&&o!==n.target&&(i.relatedTarget=n.target,n.relatedTarget=o,i.target=o,n.target?(this.dispatcher.leaveOut(i,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),r.out=n,r.outTarget=n.target}},_a.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},_a.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},_a.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},_a.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},_a.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},_a.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var r=[n.clientX,n.clientY];e.push(r),setTimeout((function(){lr.remove(e,r)}),_a.DEDUP_TIMEOUT)}};const ba=_a;var xa=function(t){pe.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};Ut.inherits(xa,pe),xa.prototype.registerSources=function(){if(Sn.POINTER)this.registerSource("native",new ga(this));else if(Sn.MSPOINTER)this.registerSource("ms",new da(this));else{var t=new ha(this);this.registerSource("mouse",t),Sn.TOUCH&&this.registerSource("touch",new ba(this,t))}this.register_()},xa.prototype.registerSource=function(t,e){var n=e,r=n.getEvents();r&&(r.forEach((function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}),this),this.eventSourceList_.push(n))},xa.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.addEvents_(t.getEvents())},xa.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.removeEvents_(t.getEvents())},xa.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},xa.prototype.addEvents_=function(t){t.forEach((function(t){Xt.listen(this.element_,t,this.eventHandler_,this)}),this)},xa.prototype.removeEvents_=function(t){t.forEach((function(t){Xt.unlisten(this.element_,t,this.eventHandler_,this)}),this)},xa.prototype.cloneEvent=function(t,e){for(var n,r={},i=0,o=xa.CLONE_PROPS.length;i<o;i++)r[n=xa.CLONE_PROPS[i][0]]=t[n]||e[n]||xa.CLONE_PROPS[i][1];return r},xa.prototype.down=function(t,e){this.fireEvent(na,t,e)},xa.prototype.move=function(t,e){this.fireEvent(ea,t,e)},xa.prototype.up=function(t,e){this.fireEvent(ra,t,e)},xa.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(aa,t,e)},xa.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(sa,t,e)},xa.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(ia,t,e)},xa.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(oa,t,e)},xa.prototype.cancel=function(t,e){this.fireEvent(la,t,e)},xa.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},xa.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},xa.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},xa.prototype.makeEvent=function(t,e,n){return new ma(t,n,e)},xa.prototype.fireEvent=function(t,e,n){var r=this.makeEvent(t,e,n);this.dispatchEvent(r)},xa.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},xa.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,ha.prepareEvent(e,this),e)},xa.prototype.disposeInternal=function(){this.unregister_(),pe.prototype.disposeInternal.call(this)},xa.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];const Ea=xa;var wa=function(t,e){pe.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*Sn.DEVICE_PIXEL_RATIO:Sn.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new Ea(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Xt.listen(this.pointerEventHandler_,na,this.handlePointerDown_,this),this.relayedListenerKey_=Xt.listen(this.pointerEventHandler_,ea,this.relayEvent_,this)};Ut.inherits(wa,pe),wa.prototype.emulateClick_=function(t){var e=new Co(io.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new Co(io.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new Co(io.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},wa.prototype.updateActivePointers_=function(t){var e=t;e.type==io.POINTERUP||e.type==io.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==io.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},wa.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Co(io.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Xt.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},wa.prototype.isMouseActionButton_=function(t){return 0===t.button},wa.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new Co(io.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Ea(document),this.dragListenerKeys_.push(Xt.listen(this.documentPointerEventHandler_,io.POINTERMOVE,this.handlePointerMove_,this),Xt.listen(this.documentPointerEventHandler_,io.POINTERUP,this.handlePointerUp_,this),Xt.listen(this.pointerEventHandler_,io.POINTERCANCEL,this.handlePointerUp_,this)))},wa.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Co(io.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},wa.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Co(t.type,this.map_,t,e))},wa.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},wa.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Xt.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Xt.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Xt.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),pe.prototype.disposeInternal.call(this)};const Sa=wa,Ca="postrender",Pa="movestart",Oa="moveend",Ta="layergroup",Ra="size",ka="target",Da="view",Ia=0,La=2,Ma=3,ja=4,Aa=5;var Fa=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};Fa.DROP=1/0,Fa.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Vt.clear(this.queuedElements_)},Fa.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},Fa.prototype.enqueue=function(t){Wt.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Fa.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},Fa.prototype.getCount=function(){return this.elements_.length},Fa.prototype.getLeftChildIndex_=function(t){return 2*t+1},Fa.prototype.getRightChildIndex_=function(t){return 2*t+2},Fa.prototype.getParentIndex_=function(t){return t-1>>1},Fa.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},Fa.prototype.isEmpty=function(){return 0===this.elements_.length},Fa.prototype.isKeyQueued=function(t){return t in this.queuedElements_},Fa.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},Fa.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<r&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=i,n[t]=o,this.siftDown_(a,t)},Fa.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},Fa.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==Fa.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()};const Na=Fa;var Ua=function(t,e){Na.call(this,(function(e){return t.apply(null,e)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};Ut.inherits(Ua,Na),Ua.prototype.enqueue=function(t){var e=Na.prototype.enqueue.call(this,t);if(e){var n=t[0];Xt.listen(n,qt,this.handleTileChange,this)}return e},Ua.prototype.getTilesLoading=function(){return this.tilesLoading_},Ua.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===La||n===Ma||n===ja||n===Aa){Xt.unlisten(e,qt,this.handleTileChange,this);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},Ua.prototype.loadMoreTiles=function(t,e){for(var n,r,i,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),(n=r.getState())===Aa?a=!0:n!==Ia||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load());0===o&&a&&this.tileChangeCallback_()};const Ba=Ua;var za={createExtent:function(t){return function(e){return e?[Le.clamp(e[0],t[0],t[2]),Le.clamp(e[1],t[1],t[3])]:void 0}},none:function(t){return t}};const Wa=za;const Ga={createSnapToResolutions:function(t){return function(e,n,r){if(void 0!==e){var i=lr.linearFindNearest(t,e,r);i=Le.clamp(i+n,0,t.length-1);var o=Math.floor(i);if(i!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,i-o)}return t[o]}}},createSnapToPower:function(t,e,n){return function(r,i,o){if(void 0!==r){var a=-o/2+.5,s=Math.floor(Math.log(e/r)/Math.log(t)+a),l=Math.max(s+i,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}},Va="center",Ha="resolution",Xa="rotation";var qa=function(t){ve.call(this);var e=Vt.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=sn.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};Ut.inherits(qa,ve),qa.prototype.applyOptions_=function(t){var e={};e[Va]=void 0!==t.center?t.center:null;var n=qa.createResolutionConstraint_(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=qa.createCenterConstraint_(t),i=n.constraint,o=qa.createRotationConstraint_(t);this.constraints_={center:r,resolution:i,rotation:o},void 0!==t.resolution?e[Ha]=t.resolution:void 0!==t.zoom&&(e[Ha]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[Ha]=Le.clamp(Number(this.getResolution()||e[Ha]),this.minResolution_,this.maxResolution_))),e[Xa]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},qa.prototype.getUpdatedOptions_=function(t){var e=Vt.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Vt.assign({},e,t)},qa.prototype.animate=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&e(!0))}for(var i=Date.now(),o=this.getCenter().slice(),a=this.getResolution(),s=this.getRotation(),l=[],u=0;u<n;++u){var c=arguments[u],f={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||ao.inAndOut};if(c.center&&(f.sourceCenter=o,f.targetCenter=c.center,o=f.targetCenter),void 0!==c.zoom?(f.sourceResolution=a,f.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),a=f.targetResolution):c.resolution&&(f.sourceResolution=a,f.targetResolution=c.resolution,a=f.targetResolution),void 0!==c.rotation){f.sourceRotation=s;var h=Le.modulo(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=s+h,s=f.targetRotation}f.callback=e,qa.isNoopAnimation(f)?f.complete=!0:i+=f.duration,l.push(f)}this.animations_.push(l),this.setHint(ho,1),this.updateAnimations_()},qa.prototype.getAnimating=function(){return this.hints_[ho]>0},qa.prototype.getInteracting=function(){return this.hints_[po]>0},qa.prototype.cancelAnimations=function(){this.setHint(ho,-this.hints_[ho]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&n[0].callback(!1)}this.animations_.length=0},qa.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var f=s.sourceCenter[0],h=s.sourceCenter[1],p=f+c*(s.targetCenter[0]-f),d=h+c*(s.targetCenter[1]-h);this.set(Va,[p,d])}if(s.sourceResolution&&s.targetResolution){var y=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(Va,this.calculateCenterZoom(y,s.anchor)),this.set(Ha,y)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var g=1===c?Le.modulo(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(Va,this.calculateCenterRotate(g,s.anchor)),this.set(Xa,g)}if(e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(ho,-1);var v=r[0].callback;v&&v(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},qa.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenter();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],vo.rotate(n,t-this.getRotation()),vo.add(n,e)),n},qa.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenter(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},qa.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Ut.getUid(this)+'"]',n=document.querySelector(e);if(n){var r=getComputedStyle(n);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},qa.prototype.constrainCenter=function(t){return this.constraints_.center(t)},qa.prototype.constrainResolution=function(t,e,n){var r=e||0,i=n||0;return this.constraints_.resolution(t,r,i)},qa.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},qa.prototype.getCenter=function(){return this.get(Va)},qa.prototype.getConstraints=function(){return this.constraints_},qa.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},qa.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Wt.assert(n,1);var r=this.getResolution();Wt.assert(void 0!==r,2);var i=this.getRotation();return Wt.assert(void 0!==i,3),Re.getForViewAndSize(n,r,i,e)},qa.prototype.getMaxResolution=function(){return this.maxResolution_},qa.prototype.getMinResolution=function(){return this.minResolution_},qa.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},qa.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},qa.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},qa.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},qa.prototype.getProjection=function(){return this.projection_},qa.prototype.getResolution=function(){return this.get(Ha)},qa.prototype.getResolutions=function(){return this.resolutions_},qa.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),r=Re.getWidth(t)/n[0],i=Re.getHeight(t)/n[1];return Math.max(r,i)},qa.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},qa.prototype.getRotation=function(){return this.get(Xa)},qa.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},qa.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},qa.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},qa.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=lr.linearFindNearest(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},qa.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},qa.prototype.fit=function(t,e){var n,r=e||{},i=r.size;i||(i=this.getSizeFromViewport_()),t instanceof dr?t.getType()===We?(t=t.getExtent(),(n=Zr.fromExtent(t)).rotate(this.getRotation(),Re.getCenter(t))):n=t:(Wt.assert(Array.isArray(t),24),Wt.assert(!Re.isEmpty(t),25),n=Zr.fromExtent(t));var o,a=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0===r.constrainResolution||r.constrainResolution,l=void 0!==r.nearest&&r.nearest;o=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var u=n.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),h=Math.sin(-c),p=1/0,d=1/0,y=-1/0,g=-1/0,v=n.getStride(),m=0,_=u.length;m<_;m+=v){var b=u[m]*f-u[m+1]*h,x=u[m]*h+u[m+1]*f;p=Math.min(p,b),d=Math.min(d,x),y=Math.max(y,b),g=Math.max(g,x)}var E=this.getResolutionForExtent([p,d,y,g],[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);if(E=isNaN(E)?o:Math.max(E,o),s){var w=this.constrainResolution(E,0,0);!l&&w<E&&(w=this.constrainResolution(w,-1,0)),E=w}h=-h;var S=(p+y)/2,C=(d+g)/2,P=[(S+=(a[1]-a[3])/2*E)*f-(C+=(a[0]-a[2])/2*E)*h,C*f+S*h],O=r.callback?r.callback:Ut.nullFunction;void 0!==r.duration?this.animate({resolution:E,center:P,duration:r.duration,easing:r.easing},O):(this.setResolution(E),this.setCenter(P),setTimeout(O.bind(void 0,!0),0))},qa.prototype.centerOn=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*i-(s+=(n[1]-e[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenter([u,c])},qa.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},qa.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},qa.prototype.setCenter=function(t){this.set(Va,t),this.getAnimating()&&this.cancelAnimations()},qa.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},qa.prototype.setResolution=function(t){this.set(Ha,t),this.getAnimating()&&this.cancelAnimations()},qa.prototype.setRotation=function(t){this.set(Xa,t),this.getAnimating()&&this.cancelAnimations()},qa.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},qa.createCenterConstraint_=function(t){return void 0!==t.extent?Wa.createExtent(t.extent):Wa.none},qa.createResolutionConstraint_=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:Ut.DEFAULT_MIN_ZOOM,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;n=s[i],r=void 0!==s[o]?s[o]:s[s.length-1],e=Ga.createSnapToResolutions(s)}else{var l=sn.createProjection(t.projection,"EPSG:3857"),u=l.getExtent(),c=(u?Math.max(Re.getWidth(u),Re.getHeight(u)):360*sn.METERS_PER_UNIT[Xe.DEGREES]/l.getMetersPerUnit())/Ut.DEFAULT_TILE_SIZE/Math.pow(2,Ut.DEFAULT_MIN_ZOOM),f=c/Math.pow(2,28-Ut.DEFAULT_MIN_ZOOM);void 0!==(n=t.maxResolution)?i=0:n=c/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):c/Math.pow(a,o):f),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=Ga.createSnapToPower(a,n,o-i)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}},qa.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?ko.createSnapToZero():!1===e?ko.none:"number"==typeof e?ko.createSnapToN(e):ko.none}return ko.disable},qa.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!vo.equals(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation};const Ya=qa;var Ka=function(t){var e=t||{},n=Vt.assign({},e);delete n.layers;var r=e.layers;di.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},Xt.listen(this,ve.getChangeEventType(Ka.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new eo(r.slice(),{unique:!0}):(Wt.assert(r instanceof eo,43),r=r):r=new eo(void 0,{unique:!0}),this.setLayers(r)};Ut.inherits(Ka,di),Ka.prototype.handleLayerChange_=function(){this.changed()},Ka.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(Xt.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(Xt.listen(e,Ji,this.handleLayersAdd_,this),Xt.listen(e,$i,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Xt.unlistenByKey);Vt.clear(this.listenerKeys_);var r,i,o,a=e.getArray();for(r=0,i=a.length;r<i;r++)o=a[r],this.listenerKeys_[Ut.getUid(o).toString()]=[Xt.listen(o,se,this.handleLayerChange_,this),Xt.listen(o,qt,this.handleLayerChange_,this)];this.changed()},Ka.prototype.handleLayersAdd_=function(t){var e=t.element,n=Ut.getUid(e).toString();this.listenerKeys_[n]=[Xt.listen(e,se,this.handleLayerChange_,this),Xt.listen(e,qt,this.handleLayerChange_,this)],this.changed()},Ka.prototype.handleLayersRemove_=function(t){var e=t.element,n=Ut.getUid(e).toString();this.listenerKeys_[n].forEach(Xt.unlistenByKey),delete this.listenerKeys_[n],this.changed()},Ka.prototype.getLayers=function(){return this.get(Ka.Property_.LAYERS)},Ka.prototype.setLayers=function(t){this.set(Ka.Property_.LAYERS,t)},Ka.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},Ka.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r,i,o,a=this.getLayerState();for(r=n,i=e.length;r<i;r++)(o=e[r]).opacity*=a.opacity,o.visible=o.visible&&a.visible,o.maxResolution=Math.min(o.maxResolution,a.maxResolution),o.minResolution=Math.max(o.minResolution,a.minResolution),void 0!==a.extent&&(void 0!==o.extent?o.extent=Re.getIntersection(o.extent,a.extent):o.extent=a.extent);return e},Ka.prototype.getSourceState=function(){return _i},Ka.Property_={LAYERS:"layers"};const Za=Ka,Qa="MAP_RENDERER",Ja="LAYER_RENDERER";var $a={mapRendererPlugins_:[],getMapRendererPlugins:function(){return $a.mapRendererPlugins_},layerRendererPlugins_:[],getLayerRendererPlugins:function(){return $a.layerRendererPlugins_},register:function(t,e){switch(t){case Qa:$a.mapRendererPlugins_.push(e);break;case Ja:$a.layerRendererPlugins_.push(e);break;default:throw new Error("Unsupported plugin type: "+t)}},registerMultiple:function(t,e){for(var n=0,r=e.length;n<r;++n)$a.register(t,e[n])}};const ts=$a,es="canvas",ns="webgl";var rs=function(t){ve.call(this);var e=rs.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:Sn.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=un.create(),this.pixelToCoordinateTransform_=un.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(Sn.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[Kt,Zt,ee,oe,re,io.POINTERDOWN,ne,ae],r=0,i=n.length;r<i;++r)Xt.listen(this.overlayContainerStopEvent_,n[r],fe.stopPropagation);for(var o in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new Sa(this,t.moveTolerance),io)Xt.listen(this.mapBrowserEventHandler_,io[o],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,Xt.listen(this.viewport_,ae,this.handleBrowserEvent,this),Xt.listen(this.viewport_,ne,this.handleBrowserEvent,this),this.controls=e.controls||new eo,this.interactions=e.interactions||new eo,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Ba(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Xt.listen(this,ve.getChangeEventType(Ta),this.handleLayerGroupChanged_,this),Xt.listen(this,ve.getChangeEventType(Da),this.handleViewChanged_,this),Xt.listen(this,ve.getChangeEventType(Ra),this.handleSizeChanged_,this),Xt.listen(this,ve.getChangeEventType(ka),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach((function(t){t.setMap(this)}),this),Xt.listen(this.controls,Ji,(function(t){t.element.setMap(this)}),this),Xt.listen(this.controls,$i,(function(t){t.element.setMap(null)}),this),this.interactions.forEach((function(t){t.setMap(this)}),this),Xt.listen(this.interactions,Ji,(function(t){t.element.setMap(this)}),this),Xt.listen(this.interactions,$i,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_,this),Xt.listen(this.overlays_,Ji,(function(t){this.addOverlayInternal_(t.element)}),this),Xt.listen(this.overlays_,$i,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)};Ut.inherits(rs,ve),rs.prototype.addControl=function(t){this.getControls().push(t)},rs.prototype.addInteraction=function(t){this.getInteractions().push(t)},rs.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},rs.prototype.addOverlay=function(t){this.getOverlays().push(t)},rs.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},rs.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Xt.unlisten(this.viewport_,ae,this.handleBrowserEvent,this),Xt.unlisten(this.viewport_,ne,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(ie,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),ve.prototype.disposeInternal.call(this)},rs.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixel(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:ke.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,e,null,o,null)}},rs.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,(function(t){n||(n=[]),n.push(t)}),e),n},rs.prototype.forEachLayerAtPixel=function(t,e,n,r,i){if(this.frameState_){var o=void 0!==n?n:null,a=void 0!==r?r:ke.TRUE,s=void 0!==i?i:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,o,a,s)}},rs.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:ke.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,r,null)},rs.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},rs.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=t.changedTouches?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},rs.prototype.getTarget=function(){return this.get(ka)},rs.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},rs.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?un.apply(e.pixelToCoordinateTransform,t.slice()):null},rs.prototype.getControls=function(){return this.controls},rs.prototype.getOverlays=function(){return this.overlays_},rs.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},rs.prototype.getInteractions=function(){return this.interactions},rs.prototype.getLayerGroup=function(){return this.get(Ta)},rs.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},rs.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?un.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},rs.prototype.getRenderer=function(){return this.renderer_},rs.prototype.getSize=function(){return this.get(Ra)},rs.prototype.getView=function(){return this.get(Da)},rs.prototype.getViewport=function(){return this.viewport_},rs.prototype.getOverlayContainer=function(){return this.overlayContainer_},rs.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},rs.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!i||!(e in i.wantedTiles))return Na.DROP;if(!i.wantedTiles[e][t.getKey()])return Na.DROP;var o=n[0]-i.focus[0],a=n[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r},rs.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new wo(n,this,t);this.handleMapBrowserEvent(r)},rs.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=n.length-1;e>=0;e--){var r=n[e];if(r.getActive()&&!r.handleEvent(t))break}}},rs.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=16,r=n;if(t){var i=t.viewHints;i[ho]&&(n=this.loadTilesWhileAnimating_?8:0,r=2),i[po]&&(n=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}var o,a,s=this.postRenderFunctions_;for(o=0,a=s.length;o<a;++o)s[o](this,t);s.length=0},rs.prototype.handleSizeChanged_=function(){this.render()},rs.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Xt.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Xt.listen(r,Jt,this.handleBrowserEvent,this),Xt.listen(r,$t,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ie,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),_n.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(ie,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},rs.prototype.handleTileChange_=function(){this.render()},rs.prototype.handleViewPropertyChanged_=function(){this.render()},rs.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Xt.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Xt.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Ut.getUid(t)),this.viewPropertyListenerKey_=Xt.listen(t,se,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Xt.listen(t,qt,this.handleViewPropertyChanged_,this)),this.render()},rs.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Xt.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Xt.listen(t,se,this.render,this),Xt.listen(t,qt,this.render,this)]),this.render()},rs.prototype.isRendered=function(){return!!this.frameState_},rs.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},rs.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},rs.prototype.removeControl=function(t){return this.getControls().remove(t)},rs.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},rs.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},rs.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},rs.prototype.renderFrame_=function(t){var e,n,r,i=this.getSize(),o=this.getView(),a=Re.createEmpty(),s=this.frameState_,l=null;if(void 0!==i&&Fi.hasArea(i)&&o&&o.isDef()){var u=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),f={};for(e=0,n=c.length;e<n;++e)f[Ut.getUid(c[e].layer)]=c[e];var h=(r=o.getState()).center,p=r.resolution/this.pixelRatio_;h[0]=Math.round(h[0]/p)*p,h[1]=Math.round(h[1]/p)*p,l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:this.focus_?this.focus_:h,index:this.frameIndex_++,layerStates:f,layerStatesArray:c,logos:Vt.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:u,wantedTiles:{}}}l&&(l.extent=Re.getForViewAndSize(r.center,r.resolution,r.rotation,l.size,a)),this.frameState_=l,this.renderer_.renderFrame(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s&&(!this.previousExtent_||!Re.isEmpty(this.previousExtent_)&&!Re.equals(l.extent,this.previousExtent_))&&(this.dispatchEvent(new xo(Pa,this,s)),this.previousExtent_=Re.createOrUpdateEmpty(this.previousExtent_)),this.previousExtent_&&!l.viewHints[ho]&&!l.viewHints[po]&&!Re.equals(l.extent,this.previousExtent_)&&(this.dispatchEvent(new xo(Oa,this,l)),Re.clone(l.extent,this.previousExtent_))),this.dispatchEvent(new xo(Ca,this,l)),setTimeout(this.handlePostRender.bind(this),0)},rs.prototype.setLayerGroup=function(t){this.set(Ta,t)},rs.prototype.setSize=function(t){this.set(Ra,t)},rs.prototype.setTarget=function(t){this.set(ka,t)},rs.prototype.setView=function(t){this.set(Da,t)},rs.prototype.skipFeature=function(t){var e=Ut.getUid(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},rs.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},rs.prototype.unskipFeature=function(t){var e=Ut.getUid(t).toString();delete this.skippedFeatureUids_[e],this.render()},rs.DEFAULT_RENDERER_TYPES=[es,ns],rs.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",rs.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},r={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)r[rs.LOGO_URL]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?r[i]="":i instanceof HTMLElement?r[Ut.getUid(i).toString()]=i:i&&(Wt.assert("string"==typeof i.href,44),Wt.assert("string"==typeof i.src,45),r[i.src]=i.href)}var o,a,s=t.layers instanceof Za?t.layers:new Za({layers:t.layers});n[Ta]=s,n[ka]=t.target,n[Da]=void 0!==t.view?t.view:new Ya,void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:Wt.assert(!1,46),o.indexOf("dom")>=0&&(o=o.concat(rs.DEFAULT_RENDERER_TYPES))):o=rs.DEFAULT_RENDERER_TYPES;var l,u,c,f=ts.getMapRendererPlugins();t:for(var h=0,p=o.length;h<p;++h)for(var d=o[h],y=0,g=f.length;y<g;++y){var v=f[y];if(v.handles(d)){a=v;break t}}if(!a)throw new Error("Unable to create a map renderer for types: "+o.join(", "));return void 0!==t.controls&&(Array.isArray(t.controls)?l=new eo(t.controls.slice()):(Wt.assert(t.controls instanceof eo,47),l=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?u=new eo(t.interactions.slice()):(Wt.assert(t.interactions instanceof eo,48),u=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?c=new eo(t.overlays.slice()):(Wt.assert(t.overlays instanceof eo,49),c=t.overlays):c=new eo,{controls:l,interactions:u,keyboardEventTarget:e,logos:r,overlays:c,mapRendererPlugin:a,values:n}};const is=rs;var os=function(t){ve.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:Ut.nullFunction,t.target&&this.setTarget(t.target)};Ut.inherits(os,ve),os.prototype.disposeInternal=function(){_n.removeNode(this.element),ve.prototype.disposeInternal.call(this)},os.prototype.getMap=function(){return this.map_},os.prototype.setMap=function(t){this.map_&&_n.removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Xt.unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ut.nullFunction&&this.listenerKeys.push(Xt.listen(t,Ca,this.render,this)),t.render())},os.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t};const as=os;var ss=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.collapseLabel?e.collapseLabel:"»";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var o=void 0!==e.label?e.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=r,s.appendChild(a),Xt.listen(s,Kt,this.handleClick_,this);var l=n+" "+kn.CLASS_UNSELECTABLE+" "+kn.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),u=document.createElement("div");u.className=l,u.appendChild(this.ulElement_),u.appendChild(s);var c=e.render?e.render:ss.render;as.call(this,{element:u,render:c,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};Ut.inherits(ss,as),ss.prototype.getSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=t.viewState.resolution,o=0,a=r.length;o<a;++o){var s=r[o];if(xi.visibleAtResolution(s,i)){var l=s.layer.getSource();if(l){var u=l.getAttributions2();if(u){var c=u(t);if(c)if(Array.isArray(c))for(var f=0,h=c.length;f<h;++f)c[f]in e||(n.push(c[f]),e[c[f]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},ss.render=function(t){this.updateElement_(t.frameState)},ss.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t);if(!lr.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var n=0,r=e.length;n<r;++n){var i=document.createElement("LI");i.innerHTML=e[n],this.ulElement_.appendChild(i)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var o=e.length>0||!Vt.isEmpty(t.logos);this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),this.renderedAttributions_=e,this.insertLogos_(t)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},ss.prototype.insertLogos_=function(t){var e,n,r,i,o=t.logos,a=this.logoElements_;for(e in a)e in o||(_n.removeNode(a[e]),delete a[e]);for(i in o){var s=o[i];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),a[i]=s),i in a||((n=new Image).src=i,""===s?r=n:((r=document.createElement("a")).href=s,r.appendChild(n)),this.logoLi_.appendChild(r),a[i]=r)}this.logoLi_.style.display=Vt.isEmpty(o)?"none":""},ss.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},ss.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?_n.replaceNode(this.collapseLabel_,this.label_):_n.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},ss.prototype.getCollapsible=function(){return this.collapsible_},ss.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},ss.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},ss.prototype.getCollapsed=function(){return this.collapsed_};const ls=ss;var us=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),Xt.listen(o,Kt,us.prototype.handleClick_,this);var a=n+" "+kn.CLASS_UNSELECTABLE+" "+kn.CLASS_CONTROL,s=document.createElement("div");s.className=a,s.appendChild(o);var l=e.render?e.render:us.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,as.call(this,{element:s,render:l,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(kn.CLASS_HIDDEN)};Ut.inherits(us,as),us.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},us.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:ao.easeOut}):t.setRotation(0))},us.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(kn.CLASS_HIDDEN);i||0!==n?i&&0!==n&&this.element.classList.remove(kn.CLASS_HIDDEN):this.element.classList.add(kn.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=n}};const cs=us;var fs=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInLabel?e.zoomInLabel:"+",o=void 0!==e.zoomOutLabel?e.zoomOutLabel:"−",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",s=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=n+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof i?document.createTextNode(i):i),Xt.listen(l,Kt,fs.prototype.handleClick_.bind(this,r));var u=document.createElement("button");u.className=n+"-out",u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof o?document.createTextNode(o):o),Xt.listen(u,Kt,fs.prototype.handleClick_.bind(this,-r));var c=n+" "+kn.CLASS_UNSELECTABLE+" "+kn.CLASS_CONTROL,f=document.createElement("div");f.className=c,f.appendChild(l),f.appendChild(u),as.call(this,{element:f,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};Ut.inherits(fs,as),fs.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},fs.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var r=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:r,duration:this.duration_,easing:ao.easeOut})):e.setResolution(r)}}};const hs=fs;var ps={defaults:function(t){var e=t||{},n=new eo;return(void 0===e.zoom||e.zoom)&&n.push(new hs(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new cs(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new ls(e.attributionOptions)),n}};const ds=ps;var ys=function(t,e,n,r,i){this.loader_=void 0!==i?i:null;var o=void 0!==i?Cn:On;Ci.call(this,t,e,n,o),this.canvas_=r,this.error_=null};Ut.inherits(ys,Ci),ys.prototype.getError=function(){return this.error_},ys.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Tn):this.state=On,this.changed()},ys.prototype.load=function(){this.state==Cn&&(this.state=Pn,this.changed(),this.loader_(this.handleLoad_.bind(this)))},ys.prototype.getImage=function(){return this.canvas_};const gs=ys,vs="image",ms="vector";var _s=function(t,e,n,r,i){fe.call(this,t),this.vectorContext=e,this.frameState=n,this.context=r,this.glContext=i};Ut.inherits(_s,fe);const bs=_s;var xs=function(){};xs.prototype.drawCustom=function(t,e,n){},xs.prototype.drawGeometry=function(t){},xs.prototype.setStyle=function(t){},xs.prototype.drawCircle=function(t,e){},xs.prototype.drawFeature=function(t,e){},xs.prototype.drawGeometryCollection=function(t,e){},xs.prototype.drawLineString=function(t,e){},xs.prototype.drawMultiLineString=function(t,e){},xs.prototype.drawMultiPoint=function(t,e){},xs.prototype.drawMultiPolygon=function(t,e){},xs.prototype.drawPoint=function(t,e){},xs.prototype.drawPolygon=function(t,e){},xs.prototype.drawText=function(t,e){},xs.prototype.setFillStrokeStyle=function(t,e){},xs.prototype.setImageStyle=function(t,e){},xs.prototype.setTextStyle=function(t,e){};const Es=xs;var ws=function(t,e,n,r,i){Es.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.viewRotation_=i,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=un.create()};Ut.inherits(ws,Es),ws.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=De.transform2D(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l,u,c=this.imageRotation_;for(this.imageRotateWithView_&&(c+=this.viewRotation_),l=0,u=i.length;l<u;l+=2){var f=i[l]-this.imageAnchorX_,h=i[l+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(f=Math.round(f),h=Math.round(h)),0!==c||1!=this.imageScale_){var p=f+this.imageAnchorX_,d=h+this.imageAnchorY_;un.compose(a,p,d,this.imageScale_,this.imageScale_,c,-p,-d),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,h,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},ws.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=De.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=un.compose(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},ws.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=De.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},ws.prototype.drawRings_=function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},ws.prototype.drawCircle=function(t){if(Re.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=dr.transform2D(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},ws.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},ws.prototype.drawGeometry=function(t){switch(t.getType()){case Me:this.drawPoint(t);break;case je:this.drawLineString(t);break;case Fe:this.drawPolygon(t);break;case Ne:this.drawMultiPoint(t);break;case Ue:this.drawMultiLineString(t);break;case Be:this.drawMultiPolygon(t);break;case ze:this.drawGeometryCollection(t);break;case We:this.drawCircle(t)}},ws.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Re.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},ws.prototype.drawGeometryCollection=function(t){var e,n,r=t.getGeometriesArray();for(e=0,n=r.length;e<n;++e)this.drawGeometry(r[e])},ws.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},ws.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},ws.prototype.drawLineString=function(t){if(Re.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},ws.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Re.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n,r,i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();for(i.beginPath(),n=0,r=s.length;n<r;++n)a=this.moveToLineTo_(o,a,s[n],l,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},ws.prototype.drawPolygon=function(t){if(Re.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},ws.prototype.drawMultiPolygon=function(t){if(Re.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,n,r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();for(r.beginPath(),e=0,n=a.length;e<n;++e){var l=a[e];o=this.drawRings_(i,o,l,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},ws.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},ws.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),Sn.CANVAS_LINE_DASH&&(lr.equals(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,Sn.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},ws.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:An.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=r&&(n.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},ws.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:vn.asColorLike(n||An.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:An.defaultLineCap,lineDash:o||An.defaultLineDash,lineDashOffset:a||An.defaultLineDashOffset,lineJoin:void 0!==s?s:An.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:An.defaultLineWidth),miterLimit:void 0!==u?u:An.defaultMiterLimit,strokeStyle:vn.asColorLike(r||An.defaultStrokeStyle)}}else this.strokeState_=null},ws.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=i[0]}else this.image_=null},ws.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:vn.asColorLike(n||An.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),u=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:An.defaultLineCap,lineDash:a||An.defaultLineDash,lineDashOffset:s||An.defaultLineDashOffset,lineJoin:void 0!==l?l:An.defaultLineJoin,lineWidth:void 0!==u?u:An.defaultLineWidth,miterLimit:void 0!==c?c:An.defaultMiterLimit,strokeStyle:vn.asColorLike(i||An.defaultStrokeStyle)}}else this.textStrokeState_=null;var f=t.getFont(),h=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),y=t.getRotation(),g=t.getScale(),v=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==f?f:An.defaultFont,textAlign:void 0!==m?m:An.defaultTextAlign,textBaseline:void 0!==_?_:An.defaultTextBaseline},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==g?g:1)}else this.text_=""};const Ss=ws;var Cs=function(t){ye.call(this),this.layer_=t};Ut.inherits(Cs,ye),Cs.prototype.forEachFeatureAtCoordinate=Ut.nullFunction,Cs.prototype.hasFeatureAtCoordinate=ke.FALSE,Cs.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){return t.forEachLoadedTile(e,r,i,(function(t){n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t}))}},Cs.prototype.getLayer=function(){return this.layer_},Cs.prototype.handleImageChange_=function(t){t.target.getState()===On&&this.renderIfReadyAndVisible()},Cs.prototype.loadImage=function(t){var e=t.getState();return e!=On&&e!=Tn&&Xt.listen(t,qt,this.handleImageChange_,this),e==Cn&&(t.load(),e=t.getState()),e==On},Cs.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==_i&&this.changed()},Cs.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Ut.getUid(t).toString();r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},Cs.prototype.updateLogos=function(t,e){var n=e.getLogo();void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(Wt.assert("string"==typeof n.href,44),Wt.assert("string"==typeof n.src,45),t.logos[n.src]=n.href))},Cs.prototype.updateUsedTiles=function(t,e,n,r){var i=Ut.getUid(e).toString(),o=n.toString();i in t?o in t[i]?t[i][o].extend(r):t[i][o]=r:(t[i]={},t[i][o]=r)},Cs.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,l,u){var c=Ut.getUid(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var f,h,p,d,y,g,v=t.wantedTiles[c],m=t.tileQueue;for(g=n.getMinZoom();g<=a;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),p=n.getResolution(g),d=h.minX;d<=h.maxX;++d)for(y=h.minY;y<=h.maxY;++y)a-g<=s?((f=e.getTile(g,d,y,r,i)).getState()==Ia&&(v[f.getKey()]=!0,m.isKeyQueued(f.getKey())||m.enqueue([f,c,n.getTileCoordCenter(f.tileCoord),p])),void 0!==l&&l.call(u,f)):e.useTile(g,d,y,i)};const Ps=Cs;var Os=function(t){Ps.call(this,t),this.renderedResolution,this.transform_=un.create()};Ut.inherits(Os,Ps),Os.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r,o=e.size[1]*r,a=e.viewState.rotation,s=Re.getTopLeft(n),l=Re.getTopRight(n),u=Re.getBottomRight(n),c=Re.getBottomLeft(n);un.apply(e.coordinateToPixelTransform,s),un.apply(e.coordinateToPixelTransform,l),un.apply(e.coordinateToPixelTransform,u),un.apply(e.coordinateToPixelTransform,c),t.save(),An.rotateAtOffset(t,-a,i/2,o/2),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),An.rotateAtOffset(t,a,i/2,o/2)},Os.prototype.dispatchComposeEvent_=function(t,e,n,r){var i=this.getLayer();if(i.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,s=n.viewState.rotation;An.rotateAtOffset(e,-s,o/2,a/2);var l=void 0!==r?r:this.getTransform(n,0),u=new Ss(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new bs(t,u,n,e,null);i.dispatchEvent(c),An.rotateAtOffset(e,s,o/2,a/2)}},Os.prototype.forEachLayerAtCoordinate=function(t,e,n,r){return this.forEachFeatureAtCoordinate(t,e,0,ke.TRUE,this)?n.call(r,this.getLayer(),null):void 0},Os.prototype.postCompose=function(t,e,n,r){this.dispatchComposeEvent_(yi,t,e,r)},Os.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(gi,t,e,n)},Os.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(vi,t,e,n)},Os.prototype.getTransform=function(t,e){var n=t.viewState,r=t.pixelRatio,i=r*t.size[0]/2,o=r*t.size[1]/2,a=r/n.resolution,s=-a,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return un.compose(this.transform_,i,o,a,s,l,u,c)},Os.prototype.composeFrame=function(t,e,n){},Os.prototype.prepareFrame=function(t,e){};const Ts=Os;var Rs=function(t){Ts.call(this,t),this.coordinateToCanvasPixelTransform=un.create(),this.hitCanvasContext_=null};Ut.inherits(Rs,Ts),Rs.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var r=this.getImage();if(r){var i=e.extent,o=void 0!==i&&!Re.containsExtent(i,t.extent)&&Re.intersects(i,t.extent);o&&this.clip(n,t,i);var a=this.getImageTransform(),s=n.globalAlpha;n.globalAlpha=e.opacity;var l=a[4],u=a[5],c=r.width*a[0],f=r.height*a[3];n.drawImage(r,0,0,+r.width,+r.height,Math.round(l),Math.round(u),Math.round(c),Math.round(f)),n.globalAlpha=s,o&&n.restore()}this.postCompose(n,t,e)},Rs.prototype.getImage=function(){},Rs.prototype.getImageTransform=function(){},Rs.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},Rs.prototype.forEachLayerAtCoordinate=function(t,e,n,r){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==Ut.nullFunction)return Ts.prototype.forEachLayerAtCoordinate.apply(this,arguments);var i=un.apply(this.coordinateToCanvasPixelTransform,t.slice());vo.scale(i,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=_n.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?n.call(r,this.getLayer(),o):void 0}};const ks=Rs;var Ds=function(t){ks.call(this,t),this.image_=null,this.imageTransform_=un.create(),this.skippedFeatures_=[],this.vectorRenderer_=null};Ut.inherits(Ds,ks),Ds.handles=function(t,e){return t===es&&(e.getType()===ni||e.getType()===oi&&e.getRenderMode()===vs)},Ds.create=function(t,e){var n=new Ds(e);if(e.getType()===oi)for(var r=ts.getLayerRendererPlugins(),i=0,o=r.length;i<o;++i){var a=r[i];a!==Ds&&a.handles(es,e)&&n.setVectorRenderer(a.create(t,e))}return n},Ds.prototype.getImage=function(){return this.image_?this.image_.getImage():null},Ds.prototype.getImageTransform=function(){return this.imageTransform_},Ds.prototype.prepareFrame=function(t,e){var n,r=t.pixelRatio,i=t.size,o=t.viewState,a=o.center,s=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=t.extent;if(void 0!==e.extent&&(c=Re.getIntersection(c,e.extent)),!u[ho]&&!u[po]&&!Re.isEmpty(c)){var f=o.projection;if(!Ut.ENABLE_RASTER_REPROJECTION){var h=l.getProjection();h&&(f=h)}var p=this.vectorRenderer_;if(p){var d=p.context,y=Vt.assign({},t,{size:[Re.getWidth(c)/s,Re.getHeight(c)/s],viewState:Vt.assign({},t.viewState,{rotation:0})}),g=Object.keys(y.skippedFeatureUids).sort();!p.prepareFrame(y,e)||!p.replayGroupChanged&&lr.equals(g,this.skippedFeatures_)||(d.canvas.width=y.size[0]*r,d.canvas.height=y.size[1]*r,p.composeFrame(y,e,d),this.image_=new gs(c,s,r,d.canvas),this.skippedFeatures_=g)}else(n=l.getImage(c,s,r,f))&&this.loadImage(n)&&(this.image_=n)}if(this.image_){var v=(n=this.image_).getExtent(),m=n.getResolution(),_=n.getPixelRatio(),b=r*m/(s*_),x=un.compose(this.imageTransform_,r*i[0]/2,r*i[1]/2,b,b,0,_*(v[0]-a[0])/m,_*(a[1]-v[3])/m);un.compose(this.coordinateToCanvasPixelTransform,r*i[0]/2-x[4],r*i[1]/2-x[5],r/s,-r/s,0,-a[0],-a[1]),this.updateLogos(t,l),this.renderedResolution=m*r/_}return!!this.image_},Ds.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,r,i):ks.prototype.forEachFeatureAtCoordinate.call(this,t,e,n,r,i)},Ds.prototype.setVectorRenderer=function(t){this.vectorRenderer_=t};const Is=Ds;var Ls=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};Ls.getKey=function(t,e,n){return e+":"+t+":"+(n?yn.asString(n):"null")},Ls.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Ls.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},Ls.prototype.get=function(t,e,n){var r=Ls.getKey(t,e,n);return r in this.cache_?this.cache_[r]:null},Ls.prototype.set=function(t,e,n,r){var i=Ls.getKey(t,e,n);this.cache_[i]=r,++this.cacheSize_},Ls.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};const Ms=Ls;var js={};js.iconImageCache=new Ms;const As=js;var Fs=function(t,e){ue.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};Ut.inherits(Fs,ue),Fs.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;un.compose(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),un.invert(un.setFromArray(r,n))},Fs.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},Fs.expireIconCache_=function(t,e){As.iconImageCache.expire()},Fs.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=e.viewState,u=l.resolution;function c(t,n){var o=Ut.getUid(t).toString(),a=e.layerStates[Ut.getUid(n)].managed;if(!(o in e.skippedFeatureUids)||a)return r.call(i,t,a?n:null)}var f=l.projection,h=t;if(f.canWrapX()){var p=f.getExtent(),d=Re.getWidth(p),y=t[0];(y<p[0]||y>p[2])&&(h=[y+d*Math.ceil((p[0]-y)/d),t[1]])}var g,v=e.layerStatesArray;for(g=v.length-1;g>=0;--g){var m=v[g],_=m.layer;if(xi.visibleAtResolution(m,u)&&o.call(a,_)){var b=this.getLayerRenderer(_);if(_.getSource()&&(s=b.forEachFeatureAtCoordinate(_.getSource().getWrapX()?h:t,e,n,c,i)),s)return s}}},Fs.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){},Fs.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,ke.TRUE,this,r,i)},Fs.prototype.getLayerRenderer=function(t){var e=Ut.getUid(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=ts.getLayerRendererPlugins(),i=this.getType(),o=0,a=r.length;o<a;++o){var s=r[o];if(s.handles(i,t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Xt.listen(n,qt,this.handleLayerRendererChange_,this),n},Fs.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},Fs.prototype.getLayerRenderers=function(){return this.layerRenderers_},Fs.prototype.getMap=function(){return this.map_},Fs.prototype.getType=function(){},Fs.prototype.handleLayerRendererChange_=function(){this.map_.render()},Fs.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Xt.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},Fs.prototype.renderFrame=Ut.nullFunction,Fs.prototype.removeUnusedLayerRenderers_=function(t,e){var n;for(n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},Fs.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Fs.expireIconCache_)},Fs.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},Fs.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};const Ns=Fs;var Us=function(t,e){Ns.call(this,t,e),this.context_=_n.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=kn.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=un.create()};Ut.inherits(Us,Ns),Us.handles=function(t){return t===es},Us.create=function(t,e){return new Us(t,e)},Us.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap(),r=this.context_;if(n.hasListener(t)){var i=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new Ss(r,o,i,s,a),u=new bs(t,l,e,r,null);n.dispatchEvent(u)}},Us.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,r=this.canvas_.height/2,i=t.pixelRatio/e.resolution,o=-i,a=-e.rotation,s=-e.center[0],l=-e.center[1];return un.compose(this.transform_,n,r,i,o,a,s,l)},Us.prototype.getType=function(){return es},Us.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,r=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.canvas_.width!=r||this.canvas_.height!=i?(this.canvas_.width=r,this.canvas_.height=i):e.clearRect(0,0,r,i);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(gi,t);var a=t.layerStatesArray;lr.stableSort(a,Ns.sortByZIndex),o&&(e.save(),An.rotateAtOffset(e,o,r/2,i/2));var s,l,u,c,f,h=t.viewState.resolution;for(s=0,l=a.length;s<l;++s)u=(f=a[s]).layer,c=this.getLayerRenderer(u),xi.visibleAtResolution(f,h)&&f.sourceState==_i&&c.prepareFrame(t,f)&&c.composeFrame(t,f,e);o&&e.restore(),this.dispatchComposeEvent_(yi,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},Us.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){var a,s,l=e.viewState.resolution,u=e.layerStatesArray,c=u.length,f=un.apply(e.pixelToCoordinateTransform,t.slice());for(s=c-1;s>=0;--s){var h=u[s],p=h.layer;if(xi.visibleAtResolution(h,l)&&i.call(o,p)&&(a=this.getLayerRenderer(p).forEachLayerAtCoordinate(f,e,n,r)))return a}};const Bs=Us;var zs=function(t){ks.call(this,t),this.context=null===this.context?null:_n.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=Re.createEmpty(),this.tmpTileRange_=new ji(0,0,0,0),this.imageTransform_=un.create(),this.zDirection=0};Ut.inherits(zs,ks),zs.handles=function(t,e){return t===es&&e.getType()===ri},zs.create=function(t,e){return new zs(e)},zs.prototype.isDrawableTile_=function(t){var e=t.getState(),n=this.getLayer().getUseInterimTilesOnError();return e==La||e==ja||e==Ma&&!n},zs.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,i=t.viewState,o=i.projection,a=i.resolution,s=i.center,l=this.getLayer(),u=l.getSource(),c=u.getRevision(),f=u.getTileGridForProjection(o),h=f.getZForResolution(a,this.zDirection),p=f.getResolution(h),d=Math.round(a/p)||1,y=t.extent;if(void 0!==e.extent&&(y=Re.getIntersection(y,e.extent)),Re.isEmpty(y))return!1;var g=f.getTileRangeForExtentAndZ(y,h),v=f.getTileRangeExtent(h,g),m=u.getTilePixelRatio(n),_={};_[h]={};var b,x,E,w=this.createLoadedTileFinder(u,o,_),S=this.tmpExtent,C=this.tmpTileRange_,P=!1;for(x=g.minX;x<=g.maxX;++x)for(E=g.minY;E<=g.maxY;++E){if((b=u.getTile(h,x,E,n,o)).getState()==Ma&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(P=!0):b.setState(La)),this.isDrawableTile_(b)||(b=b.getInterimTile()),this.isDrawableTile_(b)){var O=Ut.getUid(this);if(b.getState()==La){_[h][b.tileCoord.toString()]=b;var T=b.inTransition(O);P||!T&&-1!==this.renderedTiles.indexOf(b)||(P=!0)}if(1===b.getAlpha(O,t.time))continue}var R=f.getTileCoordChildTileRange(b.tileCoord,C,S),k=!1;R&&(k=w(h+1,R)),k||f.forEachTileCoordParentTileRange(b.tileCoord,w,null,C,S)}var D=p*n/m*d,I=t.viewHints,L=I[ho]||I[po];if(!(this.renderedResolution&&Date.now()-t.time>16&&L)&&(P||!this.renderedExtent_||!Re.containsExtent(this.renderedExtent_,y)||this.renderedRevision!=c||d!=this.oversampling_||!L&&D!=this.renderedResolution)){var M=this.context;if(M){var j=u.getTilePixelSize(h,n,o),A=Math.round(g.getWidth()*j[0]/d),F=Math.round(g.getHeight()*j[1]/d),N=M.canvas;N.width!=A||N.height!=F?(this.oversampling_=d,N.width=A,N.height=F):(this.renderedExtent_&&!Re.equals(v,this.renderedExtent_)&&M.clearRect(0,0,A,F),d=this.oversampling_)}this.renderedTiles.length=0;var U,B,z,W,G,V,H,X,q,Y,K=Object.keys(_).map(Number);for(K.sort((function(t,e){return t===h?1:e===h?-1:t>e?1:t<e?-1:0})),W=0,G=K.length;W<G;++W)for(var Z in z=K[W],B=u.getTilePixelSize(z,n,o),U=f.getResolution(z)/p,H=m*u.getGutter(o),X=_[z])b=X[Z],x=((V=f.getTileCoordExtent(b.getTileCoord(),S))[0]-v[0])/p*m/d,E=(v[3]-V[3])/p*m/d,q=B[0]*U/d,Y=B[1]*U/d,this.drawTileImage(b,t,e,x,E,q,Y,H,h===z),this.renderedTiles.push(b);this.renderedRevision=c,this.renderedResolution=p*n/m*d,this.renderedExtent_=v}var Q=this.renderedResolution/a,J=un.compose(this.imageTransform_,n*r[0]/2,n*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-s[0])/this.renderedResolution*n,(s[1]-this.renderedExtent_[3])/this.renderedResolution*n);return un.compose(this.coordinateToCanvasPixelTransform,n*r[0]/2-J[4],n*r[1]/2-J[5],n/a,-n/a,0,-s[0],-s[1]),this.updateUsedTiles(t.usedTiles,u,h,g),this.manageTilePyramid(t,u,f,n,o,y,h,l.getPreload()),this.scheduleExpireCache(t,u),this.updateLogos(t,u),this.renderedTiles.length>0},zs.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t.getImage(this.getLayer());if(u){var c=Ut.getUid(this),f=l?t.getAlpha(c,e.time):1;1!==f||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,i,o,a);var h=f!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,s,s,u.width-2*s,u.height-2*s,r,i,o,a),h&&this.context.restore(),1!==f?e.animate=!0:l&&t.endTransition(c)}},zs.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},zs.prototype.getLayer,zs.prototype.getImageTransform=function(){return this.imageTransform_};const Ws=zs;var Gs=n(5510),Vs=n.n(Gs),Hs=function(){};Hs.prototype.getReplay=function(t,e){},Hs.prototype.isEmpty=function(){};const Xs=Hs,qs="Circle",Ys="Default",Ks="Image",Zs="LineString",Qs="Polygon",Js="Text";const $s={lineString:function(t,e,n,r,i,o,a,s){for(var l,u,c,f=[],h=t[e]>t[n-r],p=i.length,d=t[e],y=t[e+1],g=t[e+=r],v=t[e+1],m=0,_=Math.sqrt(Math.pow(g-d,2)+Math.pow(v-y,2)),b="",x=0,E=0;E<p;++E){u=h?p-E-1:E;var w=i.charAt(u),S=o(b=h?w+b:b+w)-x;x+=S;for(var C=a+S/2;e<n-r&&m+_<C;)d=g,y=v,g=t[e+=r],v=t[e+1],m+=_,_=Math.sqrt(Math.pow(g-d,2)+Math.pow(v-y,2));var P=C-m,O=Math.atan2(v-y,g-d);if(h&&(O+=O>0?-Math.PI:Math.PI),void 0!==c){var T=O-c;if(T+=T>Math.PI?-2*Math.PI:T<-Math.PI?2*Math.PI:0,Math.abs(T)>s)return null}var R=P/_,k=Le.lerp(d,g,R),D=Le.lerp(y,v,R);c==O?(h&&(l[0]=k,l[1]=D,l[2]=S/2),l[4]=b):(x=S,l=[k,D,S/2,O,b=w],h?f.unshift(l):f.push(l),c=O),a+=S}return f}},tl=0,el=1,nl=2,rl=3,il=4,ol=5,al=6,sl=7,ll=8,ul=9,cl=10,fl=11,hl=12;var pl={};pl.ORDER=[Qs,qs,Zs,Ks,Js,Ys],pl.TEXT_ALIGN={},pl.TEXT_ALIGN.left=0,pl.TEXT_ALIGN.end=0,pl.TEXT_ALIGN.center=.5,pl.TEXT_ALIGN.right=1,pl.TEXT_ALIGN.start=1,pl.TEXT_ALIGN.top=0,pl.TEXT_ALIGN.middle=.5,pl.TEXT_ALIGN.hanging=.2,pl.TEXT_ALIGN.alphabetic=.8,pl.TEXT_ALIGN.ideographic=.8,pl.TEXT_ALIGN.bottom=1;const dl=pl;var yl=function(t,e,n,r,i,o){Es.call(this),this.declutterTree=o,this.tmpExtent_=Re.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=un.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=un.create(),this.resetTransform_=un.create()};Ut.inherits(yl,Es),yl.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.fillOrigin_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},yl.prototype.replayImage_=function(t,e,n,r,i,o,a,s,l,u,c,f,h,p,d,y,g,v){var m=g||v,_=this.tmpLocalTransform_;e-=i*=h,n-=o*=h,p&&(e=Math.round(e),n=Math.round(n));var b,x,E,w,S=d+u>r.width?r.width-u:d,C=s+c>r.height?r.height-c:s,P=this.tmpExtent_,O=y[3]+S*h+y[1],T=y[0]+C*h+y[2],R=e-y[3],k=n-y[0];(m||0!==f)&&(b=[R,k],x=[R+O,k],E=[R+O,k+T],w=[R,k+T]);var D=null;if(0!==f){var I=e+i,L=n+o;D=un.compose(_,I,L,1,1,f,-I,-L),Re.createOrUpdateEmpty(P),Re.extendCoordinate(P,un.apply(_,b)),Re.extendCoordinate(P,un.apply(_,x)),Re.extendCoordinate(P,un.apply(_,E)),Re.extendCoordinate(P,un.apply(_,w))}else Re.createOrUpdate(R,k,R+O,k+T,P);var M=t.canvas,j=P[0]<=M.width&&P[2]>=0&&P[1]<=M.height&&P[3]>=0;if(a){if(!j&&1==a[4])return;Re.extend(a,P);var A=j?[t,D?D.slice(0):null,l,r,u,c,S,C,e,n,h]:null;A&&m&&A.push(g,v,b,x,E,w),a.push(A)}else j&&(m&&this.replayTextBackground_(t,b,x,E,w,g,v),An.drawImage(t,D,l,r,u,c,S,C,e,n,h))},yl.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},yl.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var l,u,c,f=[t[e],t[e+1]],h=[NaN,NaN],p=!0;for(l=e+r;l<n;l+=r)h[0]=t[l],h[1]=t[l+1],(c=Re.coordinateRelationship(s,h))!==u?(p&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),this.coordinates[a++]=h[0],this.coordinates[a++]=h[1],p=!1):c===we?(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1],p=!1):p=!0,f[0]=h[0],f[1]=h[1],u=c;return(i&&p||l===e+r)&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),a},yl.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(l),e=s}return e},yl.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==Be){r=(t=t).getOrientedFlatCoordinates(),a=[];var f=t.getEndss();s=0;for(var h=0,p=f.length;h<p;++h){var d=[];s=this.drawCustomCoordinates_(r,s,f[h],u,d),a.push(d)}this.instructions.push([il,c,a,t,n,br.coordinatesss])}else l==Fe||l==Ue?(o=[],r=l==Fe?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),u,o),this.instructions.push([il,c,o,t,n,br.coordinatess])):l==je||l==Ne?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([il,c,i,t,n,br.coordinates])):l==Me&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([il,c,i,t,n]));this.endGeometry(t,e)},yl.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[tl,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[tl,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},yl.prototype.fill_=function(t){if(this.fillOrigin_){var e=un.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]),t.rotate(this.viewRotation_)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,An.resetTransform_)},yl.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Sn.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},yl.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var i=An.drawImage,o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),i.apply(void 0,s))}}t.length=5,Re.createOrUpdateEmpty(t)}}},yl.prototype.replay_=function(t,e,n,r,i,o){var a;this.pixelCoordinates_&&lr.equals(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=De.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),un.setFromArray(this.renderedTransform_,e));for(var s,l,u,c,f,h,p,d,y,g=!Vt.isEmpty(n),v=0,m=r.length,_=0,b=0,x=0,E=null,w=null,S=this.coordinateCache_,C=this.viewRotation_,P={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C},O=this.instructions!=r||this.overlaps?0:200;v<m;){var T,R,k,D=r[v];switch(D[0]){case tl:T=D[1],g&&n[Ut.getUid(T).toString()]||!T.getGeometry()?v=D[2]:void 0===o||Re.intersects(o,T.getGeometry().getExtent())?++v:v=D[2]+1;break;case el:b>O&&(this.fill_(t),b=0),x>O&&(t.stroke(),x=0),b||x||(t.beginPath(),c=f=NaN),++v;break;case nl:var I=a[_=D[1]],L=a[_+1],M=a[_+2]-I,j=a[_+3]-L,A=Math.sqrt(M*M+j*j);t.moveTo(I+A,L),t.arc(I,L,A,0,2*Math.PI,!0),++v;break;case rl:t.closePath(),++v;break;case il:_=D[1],s=D[2];var F=D[3],N=D[4],U=6==D.length?D[5]:void 0;P.geometry=F,P.feature=T,v in S||(S[v]=[]);var B=S[v];U?U(a,_,s,2,B):(B[0]=a[_],B[1]=a[_+1],B.length=2),N(B,P),++v;break;case al:_=D[1],s=D[2],y=D[3],l=D[4],u=D[5],d=i?null:D[6];var z,W,G,V=D[7],H=D[8],X=D[9],q=D[10],Y=D[11],K=D[12],Z=D[13],Q=D[14],J=D[15];for(D.length>16?(z=D[16],W=D[17],G=D[18]):(z=An.defaultPadding,W=G=!1),Y&&(K+=C);_<s;_+=2)this.replayImage_(t,a[_],a[_+1],y,l,u,d,V,H,X,q,K,Z,Q,J,z,W?E:null,G?w:null);this.renderDeclutter_(d,T),++v;break;case ol:var $=D[1],tt=D[2],et=D[3];d=i?null:D[4];var nt=D[5],rt=D[6],it=D[7],ot=D[8],at=D[9],st=D[10],lt=D[11],ut=D[12],ct=D[13],ft=D[14],ht=Rr.lineString(a,$,tt,2),pt=ot(ut);if(nt||pt<=ht){var dt=this.textStates[ct].textAlign,yt=(ht-pt)*dl.TEXT_ALIGN[dt],gt=$s.lineString(a,$,tt,2,ut,ot,yt,it);if(gt){var vt,mt,_t,bt,xt;if(st)for(vt=0,mt=gt.length;vt<mt;++vt)_t=(xt=gt[vt])[4],bt=this.getImage(_t,ct,"",st),l=xt[2]+lt,u=et*bt.height+2*(.5-et)*lt-at,this.replayImage_(t,xt[0],xt[1],bt,l,u,d,bt.height,1,0,0,xt[3],ft,!1,bt.width,An.defaultPadding,null,null);if(rt)for(vt=0,mt=gt.length;vt<mt;++vt)_t=(xt=gt[vt])[4],bt=this.getImage(_t,ct,rt,""),l=xt[2],u=et*bt.height-at,this.replayImage_(t,xt[0],xt[1],bt,l,u,d,bt.height,1,0,0,xt[3],ft,!1,bt.width,An.defaultPadding,null,null)}}this.renderDeclutter_(d,T),++v;break;case sl:if(void 0!==i){var Et=i(T=D[1]);if(Et)return Et}++v;break;case ll:O?b++:this.fill_(t),++v;break;case ul:for(_=D[1],s=D[2],R=a[_],p=(k=a[_+1])+.5|0,(h=R+.5|0)===c&&p===f||(t.moveTo(R,k),c=h,f=p),_+=2;_<s;_+=2)h=(R=a[_])+.5|0,p=(k=a[_+1])+.5|0,_!=s-2&&h===c&&p===f||(t.lineTo(R,k),c=h,f=p);++v;break;case cl:E=D,this.fillOrigin_=D[2],b&&(this.fill_(t),b=0,x&&(t.stroke(),x=0)),t.fillStyle=D[1],++v;break;case fl:w=D,x&&(t.stroke(),x=0),this.setStrokeStyle_(t,D),++v;break;case hl:O?x++:t.stroke(),++v;break;default:++v}}b&&this.fill_(t),x&&t.stroke()},yl.prototype.replay=function(t,e,n,r){this.viewRotation_=n,this.replay_(t,e,r,this.instructions,void 0,void 0)},yl.prototype.replayHitDetection=function(t,e,n,r,i,o){return this.viewRotation_=n,this.replay_(t,e,r,this.hitDetectionInstructions,i,o)},yl.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==sl?o=t:r==tl&&(n[2]=t,lr.reverseSubArray(this.hitDetectionInstructions,o,t),o=-1)},yl.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=vn.asColorLike(r||An.defaultFillStyle)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=vn.asColorLike(i||An.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:An.defaultLineCap;var a=e.getLineDash();n.lineDash=a?a.slice():An.defaultLineDash;var s=e.getLineDashOffset();n.lineDashOffset=s||An.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:An.defaultLineJoin;var u=e.getWidth();n.lineWidth=void 0!==u?u:An.defaultLineWidth;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:An.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},yl.prototype.applyFill=function(t,e){var n=t.fillStyle,r=[cl,n];if("string"!=typeof n){var i=e.getExtent();r.push([i[0],i[3]])}this.instructions.push(r)},yl.prototype.applyStroke=function(t){this.instructions.push([fl,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio])},yl.prototype.updateFillStyle=function(t,e,n){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(e.call(this,t,n),t.currentFillStyle=r)},yl.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!lr.equals(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},yl.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[sl,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},yl.prototype.finish=Ut.nullFunction,yl.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Re.clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Re.buffer(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};const gl=yl;var vl=function(t,e,n,r,i,o){gl.call(this,t,e,n,r,i,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};Ut.inherits(vl,gl),vl.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},vl.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([al,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([al,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},vl.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([al,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([al,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},vl.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},vl.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=r[0]};const ml=vl;var _l=function(t,e,n,r,i,o){gl.call(this,t,e,n,r,i,o)};Ut.inherits(_l,gl),_l.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[ul,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},_l.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([fl,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[el]);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push([hl]),this.endGeometry(t,e)}},_l.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([fl,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[el]);var o,a,s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinates_(l,c,s[o],u);this.hitDetectionInstructions.push([hl]),this.endGeometry(t,e)}},_l.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([hl]),this.reverseHitDetectionInstructions(),this.state=null},_l.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([hl]),t.lastStroke=this.coordinates.length),t.lastStroke=0,gl.prototype.applyStroke.call(this,t),this.instructions.push([el])};const bl=_l;var xl=function(t,e,n,r,i,o){gl.call(this,t,e,n,r,i,o)};Ut.inherits(xl,gl),xl.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=null!=i.strokeStyle,s=n.length,l=[el];this.instructions.push(l),this.hitDetectionInstructions.push(l);for(var u=0;u<s;++u){var c=n[u],f=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,r,!0,!a),p=[ul,f,h];if(this.instructions.push(p),this.hitDetectionInstructions.push(p),a){var d=[rl];this.instructions.push(d),this.hitDetectionInstructions.push(d)}e=c}var y=[ll];if(this.hitDetectionInstructions.push(y),o&&this.instructions.push(y),a){var g=[hl];this.instructions.push(g),this.hitDetectionInstructions.push(g)}return e},xl.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([cl,yn.asString(An.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([fl,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var l=[el],u=[nl,s];this.instructions.push(l,u),this.hitDetectionInstructions.push(l,u);var c=[ll];if(this.hitDetectionInstructions.push(c),void 0!==n.fillStyle&&this.instructions.push(c),void 0!==n.strokeStyle){var f=[hl];this.instructions.push(f),this.hitDetectionInstructions.push(f)}this.endGeometry(t,e)}},xl.prototype.drawPolygon=function(t,e){var n=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([cl,yn.asString(An.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([fl,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(t,e)},xl.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([cl,yn.asString(An.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([fl,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o,a,s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinatess_(l,c,s[o],u);this.endGeometry(t,e)}},xl.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,n,r=this.coordinates;for(e=0,n=r.length;e<n;++e)r[e]=Dr.snap(r[e],t)}},xl.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.applyFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)};const El=xl;const wl={lineString:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,p,d=n,y=n,g=0,v=0,m=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==l&&(h=_-l,p=b-u,s=Math.sqrt(h*h+p*p),void 0!==c&&(v+=a,Math.acos((c*h+f*p)/(a*s))>t&&(v>g&&(g=v,d=m,y=o),v=0,m=o-i)),a=s,c=h,f=p),l=_,u=b}return(v+=s)>g?[m,o]:[d,y]}},Sl="line";var Cl=function(t,e,n,r,i,o){gl.call(this,t,e,n,r,i,o),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},An.labelCache.prune()};Ut.inherits(Cl,gl),Cl.measureTextWidths=function(t,e,n){var r,i,o=e.length,a=0;for(i=0;i<o;++i)r=An.measureTextWidth(t,e[i]),a=Math.max(a,r),n.push(r);return a},Cl.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o,a,s=this.coordinates.length,l=t.getType(),u=null,c=2,f=2;if(i.placement===Sl){if(!Re.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var h;if(u=t.getFlatCoordinates(),f=t.getStride(),l==je)h=[u.length];else if(l==Ue)h=t.getEnds();else if(l==Fe)h=t.getEnds().slice(0,1);else if(l==Be){var p=t.getEndss();for(h=[],o=0,a=p.length;o<a;++o)h.push(p[o][0])}this.beginGeometry(t,e);for(var d,y=i.textAlign,g=0,v=0,m=h.length;v<m;++v){if(null==y){var _=wl.lineString(i.maxAngle,u,g,h[v],f);g=_[0],d=_[1]}else d=h[v];for(o=g;o<d;o+=f)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,g=h[v],this.drawChars_(s,c,this.declutterGroup_),s=c}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=b.width/this.pixelRatio;switch(l){case Me:case Ne:c=(u=t.getFlatCoordinates()).length;break;case je:u=t.getFlatMidpoint();break;case We:u=t.getCenter();break;case Ue:c=(u=t.getFlatMidpoints()).length;break;case Fe:if(u=t.getFlatInteriorPoint(),!i.overflow&&u[2]/this.resolution<x)return;f=3;break;case Be:var E=t.getFlatInteriorPoints();for(u=[],o=0,a=E.length;o<a;o+=3)(i.overflow||E[o+2]/this.resolution>=x)&&u.push(E[o],E[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,f,!1,!1),this.beginGeometry(t,e),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,t),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(b,s,c),this.endGeometry(t,e)}}},Cl.prototype.getImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio,a=An.labelCache;if(!a.containsKey(o)){var s=r?this.strokeStates[r]||this.textStrokeState_:null,l=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,c=this.pixelRatio,f=u.scale*c,h=dl.TEXT_ALIGN[u.textAlign||An.defaultTextAlign],p=r&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),y=d.length,g=[],v=Cl.measureTextWidths(u.font,d,g),m=An.measureTextHeight(u.font),_=m*y,b=v+p,x=_n.createCanvasContext2D(Math.ceil(b*f),Math.ceil((_+p)*f));i=x.canvas,a.set(o,i),1!=f&&x.scale(f,f),x.font=u.font,r&&(x.strokeStyle=s.strokeStyle,x.lineWidth=p*(Sn.SAFARI?f:1),x.lineCap=s.lineCap,x.lineJoin=s.lineJoin,x.miterLimit=s.miterLimit,Sn.CANVAS_LINE_DASH&&s.lineDash.length&&(x.setLineDash(s.lineDash),x.lineDashOffset=s.lineDashOffset)),n&&(x.fillStyle=l.fillStyle),x.textBaseline="middle",x.textAlign="center";var E,w=.5-h,S=h*i.width/f+w*p;if(r)for(E=0;E<y;++E)x.strokeText(d[E],S+w*g[E],.5*(p+m)+E*m);if(n)for(E=0;E<y;++E)x.fillText(d[E],S+w*g[E],.5*(p+m)+E*m)}return a.get(o)},Cl.prototype.drawTextImage_=function(t,e,n){var r=this.textState_,i=this.textStrokeState_,o=this.pixelRatio,a=dl.TEXT_ALIGN[r.textAlign||An.defaultTextAlign],s=dl.TEXT_ALIGN[r.textBaseline],l=i&&i.lineWidth?i.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,c=s*t.height/o+2*(.5-s)*l;this.instructions.push([al,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width,r.padding==An.defaultPadding?An.defaultPadding:r.padding.map((function(t){return t*o})),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([al,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,!0,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},Cl.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.textFillState_,a=this.strokeKey_;r&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:i.font,textAlign:i.textAlign||An.defaultTextAlign,scale:i.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=dl.TEXT_ALIGN[i.textBaseline],f=this.textOffsetY_*u,h=this.text_,p=i.font,d=i.scale,y=r?r.lineWidth*d/2:0,g=this.widths_[p];g||(this.widths_[p]=g={}),this.instructions.push([ol,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=g[t];return e||(e=g[t]=An.measureTextWidth(p,t)),e*d*u},f,a,y*u,h,s,1]),this.hitDetectionInstructions.push([ol,t,e,c,n,i.overflow,l,i.maxAngle,function(t){var e=g[t];return e||(e=g[t]=An.measureTextWidth(p,t)),e*d},f,a,y,h,s,1/u])},Cl.prototype.setTextStyle=function(t,e){var n,r,i;if(t){this.declutterGroup_=e;var o=t.getFill();o?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=vn.asColorLike(o.getColor()||An.defaultFillStyle)):r=this.textFillState_=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i=this.textStrokeState_={});var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||An.defaultLineCap,i.lineDash=s?s.slice():An.defaultLineDash,i.lineDashOffset=void 0===l?An.defaultLineDashOffset:l,i.lineJoin=a.getLineJoin()||An.defaultLineJoin,i.lineWidth=void 0===u?An.defaultLineWidth:u,i.miterLimit=void 0===c?An.defaultMiterLimit:c,i.strokeStyle=vn.asColorLike(a.getColor()||An.defaultStrokeStyle)}else i=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||An.defaultFont;An.checkFont(f);var h=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||An.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||An.defaultPadding,n.scale=void 0===h?1:h;var p=t.getOffsetX(),d=t.getOffsetY(),y=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===g?0:g,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:Ut.getUid(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Ut.getUid(r.fillStyle):""}else this.text_=""};const Pl=Cl;var Ol=function(t,e,n,r,i,o,a){Xs.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=_n.createCanvasContext2D(1,1),this.hitDetectionTransform_=un.create()};Ut.inherits(Ol,Xs),Ol.circleArrayCache_={0:[[!0]]},Ol.fillCircleArrayRowToMiddle_=function(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0},Ol.getCircleArray_=function(t){if(void 0!==Ol.circleArrayCache_[t])return Ol.circleArrayCache_[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)Ol.fillCircleArrayRowToMiddle_(n,t+i,t+o),Ol.fillCircleArrayRowToMiddle_(n,t+o,t+i),Ol.fillCircleArrayRowToMiddle_(n,t-o,t+i),Ol.fillCircleArrayRowToMiddle_(n,t-i,t+o),Ol.fillCircleArrayRowToMiddle_(n,t-i,t-o),Ol.fillCircleArrayRowToMiddle_(n,t-o,t-i),Ol.fillCircleArrayRowToMiddle_(n,t+o,t-i),Ol.fillCircleArrayRowToMiddle_(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return Ol.circleArrayCache_[t]=n,n},Ol.replayDeclutter=function(t,e,n){for(var r=Object.keys(t).map(Number).sort(lr.numberSafeCompareFunction),i={},o=0,a=r.length;o<a;++o)for(var s=t[r[o].toString()],l=0,u=s.length;l<u;){var c=s[l++],f=s[l++];c.replay(e,f,n,i)}},Ol.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Re.createEmpty()).push(1)),e},Ol.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},Ol.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},Ol.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,n=this.replaysByZIndex_[t];for(e in n)n[e].finish()}},Ol.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,l=2*(r=Math.round(r))+1,u=un.compose(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(s=Re.createEmpty(),Re.extendCoordinate(s,t),Re.buffer(s,e*(this.renderBuffer_+r),s));var f,h,p=Ol.getCircleArray_(r);function d(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var r=0;r<l;r++){var i;if(p[n][r]&&e[4*(r*l+n)+3]>0)return(!f||h!=Ks&&h!=Js||-1!==f.indexOf(t))&&(i=o(t)),i||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(f=this.declutterTree_.all().map((function(t){return t.value})));var y,g,v,m,_,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(lr.numberSafeCompareFunction),y=b.length-1;y>=0;--y){var x=b[y].toString();for(v=this.replaysByZIndex_[x],g=dl.ORDER.length-1;g>=0;--g)if(void 0!==(m=v[h=dl.ORDER[g]]))if(!a||h!=Ks&&h!=Js){if(_=m.replayHitDetection(c,u,n,i,d,s))return _}else{var E=a[x];E?E.push(m,u.slice(0)):a[x]=[m,u.slice(0)]}}},Ol.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return De.transform2D(a,0,8,2,t,a),a},Ol.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,Ol.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=i),i},Ol.prototype.getReplays=function(){return this.replaysByZIndex_},Ol.prototype.isEmpty=function(){return Vt.isEmpty(this.replaysByZIndex_)},Ol.prototype.replay=function(t,e,n,r,i,o){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(lr.numberSafeCompareFunction),t.save(),this.clip(t,e);var s,l,u,c,f,h,p=i||dl.ORDER;for(s=0,l=a.length;s<l;++s){var d=a[s].toString();for(f=this.replaysByZIndex_[d],u=0,c=p.length;u<c;++u){var y=p[u];if(void 0!==(h=f[y]))if(!o||y!=Ks&&y!=Js)h.replay(t,e,n,r);else{var g=o[d];g?g.push(h,e.slice(0)):o[d]=[h,e.slice(0)]}}}t.restore()},Ol.BATCH_CONSTRUCTORS_={Circle:El,Default:gl,Image:ml,LineString:bl,Polygon:El,Text:Pl};const Tl=Ol;var Rl={defaultOrder:function(t,e){return Ut.getUid(t)-Ut.getUid(e)},getSquaredTolerance:function(t,e){var n=Rl.getTolerance(t,e);return n*n},getTolerance:function(t,e){return Ut.SIMPLIFY_TOLERANCE*t/e},renderCircleGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),qs);a.setFillStrokeStyle(i,o),a.drawCircle(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Js);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderFeature:function(t,e,n,r,i,o){var a,s,l=!1;return(a=n.getImage())&&((s=a.getImageState())==On||s==Tn?a.unlistenImageChange(i,o):(s==Cn&&a.load(),s=a.getImageState(),a.listenImageChange(i,o),l=!0)),Rl.renderFeature_(t,e,n,r),l},renderFeature_:function(t,e,n,r){var i=n.getGeometryFunction()(e);if(i){var o=i.getSimplifiedGeometry(r);n.getRenderer()?Rl.renderGeometry_(t,o,n,e):(0,Rl.GEOMETRY_RENDERERS_[o.getType()])(t,o,n,e)}},renderGeometry_:function(t,e,n,r){if(e.getType()!=ze)t.getReplay(n.getZIndex(),Ys).drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)Rl.renderGeometry_(t,i[o],n,r)},renderGeometryCollectionGeometry_:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i)(0,Rl.GEOMETRY_RENDERERS_[a[i].getType()])(t,a[i],n,r)},renderLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Zs);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Js);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Zs);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Js);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var a=t.getReplay(n.getZIndex(),Qs);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Js);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}},renderPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=On)return;var o=t.getReplay(n.getZIndex(),Ks);o.setImageStyle(i,t.addDeclutter(!1)),o.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Js);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderMultiPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=On)return;var o=t.getReplay(n.getZIndex(),Ks);o.setImageStyle(i,t.addDeclutter(!1)),o.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Js);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),Qs);a.setFillStrokeStyle(i,o),a.drawPolygon(e,r)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),Js);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,r)}}};Rl.GEOMETRY_RENDERERS_={Point:Rl.renderPointGeometry_,LineString:Rl.renderLineStringGeometry_,Polygon:Rl.renderPolygonGeometry_,MultiPoint:Rl.renderMultiPointGeometry_,MultiLineString:Rl.renderMultiLineStringGeometry_,MultiPolygon:Rl.renderMultiPolygonGeometry_,GeometryCollection:Rl.renderGeometryCollectionGeometry_,Circle:Rl.renderCircleGeometry_};const kl=Rl;var Dl=function(t){Ts.call(this,t),this.declutterTree_=t.getDeclutter()?Vs()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Re.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=_n.createCanvasContext2D(),Xt.listen(An.labelCache,Yt,this.handleFontsChanged_,this)};Ut.inherits(Dl,Ts),Dl.handles=function(t,e){return t===es&&e.getType()===oi},Dl.create=function(t,e){return new Dl(e)},Dl.prototype.disposeInternal=function(){Xt.unlisten(An.labelCache,Yt,this.handleFontsChanged_,this),Ts.prototype.disposeInternal.call(this)},Dl.prototype.composeFrame=function(t,e,n){var r=t.extent,i=t.pixelRatio,o=e.managed?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,l=a.rotation,u=s.getExtent(),c=this.getLayer().getSource(),f=this.getTransform(t,0);this.preCompose(n,t,f);var h=e.extent,p=void 0!==h;p&&this.clip(n,t,h);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var y,g=this.getLayer(),v=0,m=0,_=1!==e.opacity,b=g.hasListener(vi);if(_||b){var x=n.canvas.width,E=n.canvas.height;if(l){var w=Math.round(Math.sqrt(x*x+E*E));v=(w-x)/2,m=(w-E)/2,x=E=w}this.context.canvas.width=x,this.context.canvas.height=E,y=this.context}else y=n;var S=y.globalAlpha;_||(y.globalAlpha=e.opacity),y!=n&&y.translate(v,m);var C=t.size[0]*i,P=t.size[1]*i;if(An.rotateAtOffset(y,-l,C/2,P/2),d.replay(y,f,l,o),c.getWrapX()&&s.canWrapX()&&!Re.containsExtent(u,r)){for(var O,T=r[0],R=Re.getWidth(u),k=0;T<u[0];)O=R*--k,f=this.getTransform(t,O),d.replay(y,f,l,o),T+=R;for(k=0,T=r[2];T>u[2];)O=R*++k,f=this.getTransform(t,O),d.replay(y,f,l,o),T-=R;f=this.getTransform(t,0)}if(An.rotateAtOffset(y,l,C/2,P/2),y!=n){if(b&&this.dispatchRenderEvent(y,t,f),_){var D=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(y.canvas,-v,-m),n.globalAlpha=D}else n.drawImage(y.canvas,-v,-m);y.translate(-v,-m)}_||(y.globalAlpha=S)}p&&n.restore(),this.postCompose(n,t,e,f)},Dl.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={},u=this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=Ut.getUid(t).toString();if(!(e in l))return l[e]=!0,r.call(i,t,s)}),null);return u}},Dl.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},Dl.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Dl.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getSource();this.updateLogos(t,r);var i=t.viewHints[ho],o=t.viewHints[po],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,f=u.resolution,h=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=kl.defaultOrder);var g=Re.buffer(l,d*f),v=u.projection.getExtent();if(r.getWrapX()&&u.projection.canWrapX()&&!Re.containsExtent(v,t.extent)){var m=Re.getWidth(v),_=Math.max(Re.getWidth(g)/2,m);g[0]=v[0]-_,g[2]=v[2]+_}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==y&&Re.containsExtent(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new Tl(kl.getTolerance(f,h),g,f,h,r.getOverlaps(),this.declutterTree_,n.getRenderBuffer());r.loadFeatures(g,f,c);var x=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,f):(r=n.getStyleFunction())&&(e=r(t,f)),e){var i=this.renderFeature(t,f,h,e,b);this.dirty_=this.dirty_||i}}.bind(this);if(y){var E=[];r.forEachFeatureInExtent(g,(function(t){E.push(t)}),this),E.sort(y);for(var w=0,S=E.length;w<S;++w)x(E[w])}else r.forEachFeatureInExtent(g,x,this);return b.finish(),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=y,this.renderedExtent_=g,this.replayGroup_=b,this.replayGroupChanged=!0,!0},Dl.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=kl.renderFeature(i,t,r[a],kl.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=kl.renderFeature(i,t,r,kl.getSquaredTolerance(e,n),this.handleStyleImageChange_,this);return o};const Il=Dl,Ll="vector";var Ml=function(t){this.context=null,Ws.call(this,t),this.declutterTree_=t.getDeclutter()?Vs()(9):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=un.create(),this.zDirection=t.getRenderMode()==Ll?1:0,Xt.listen(An.labelCache,Yt,this.handleFontsChanged_,this)};Ut.inherits(Ml,Ws),Ml.handles=function(t,e){return t===es&&e.getType()===ii},Ml.create=function(t,e){return new Ml(e)},Ml.IMAGE_REPLAYS={image:[Qs,qs,Zs,Ks,Js],hybrid:[Qs,Zs]},Ml.VECTOR_REPLAYS={image:[Ys],hybrid:[Ks,Js,Ys],vector:dl.ORDER},Ml.prototype.disposeInternal=function(){Xt.unlisten(An.labelCache,Yt,this.handleFontsChanged_,this),Ws.prototype.disposeInternal.call(this)},Ml.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=n.getRenderMode();this.context||i==Ll||(this.context=_n.createCanvasContext2D()),this.context&&i==Ll&&(this.context=null)}return this.renderedLayerRevision_=r,Ws.prototype.prepareFrame.apply(this,arguments)},Ml.prototype.createReplayGroup_=function(t,e){var n=this.getLayer(),r=e.pixelRatio,i=e.viewState.projection,o=n.getRevision(),a=n.getRenderOrder()||null,s=t.getReplayState(n);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(i),f=c.getResolution(t.tileCoord[0]),h=c.getTileCoordExtent(t.wrappedTileCoord),p={},d=0,y=t.tileKeys.length;d<y;++d){var g=t.getTile(t.tileKeys[d]);if(g.getState()!=Ma){var v=g.tileCoord,m=u.getTileCoordExtent(v),_=Re.getIntersection(h,m),b=Re.equals(m,_)?null:Re.buffer(_,n.getRenderBuffer()*f),x=g.getProjection(),E=!1;sn.equivalent(i,x)||(E=!0,g.setProjection(i)),s.dirty=!1;var w,S=new Tl(0,_,f,r,l.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),C=kl.getSquaredTolerance(f,r),P=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,f):(r=n.getStyleFunction())&&(e=r(t,f)),e){var i=this.renderFeature(t,C,e,S);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=g.getFeatures();a&&a!==s.renderedRenderOrder&&O.sort(a);for(var T=0,R=O.length;T<R;++T)w=O[T],E&&(x.getUnits()==Xe.TILE_PIXELS&&(x.setWorldExtent(m),x.setExtent(g.getExtent())),w.getGeometry().transform(x,i)),b&&!Re.intersects(b,w.getGeometry().getExtent())||P.call(this,w);for(var k in S.finish(),S.getReplays())p[k]=!0;g.setReplayGroup(n,t.tileCoord.toString(),S)}}s.renderedRevision=o,s.renderedRenderOrder=a}},Ml.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,l){var u=t;this.createReplayGroup_(u,e),this.context&&(this.renderTileImage_(u,e,n),Ws.prototype.drawTileImage.apply(this,arguments))},Ml.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s,l,u,c,f,h,p,d,y=this.getLayer(),g={},v=this.renderedTiles,m=y.getSource().getTileGridForProjection(e.viewState.projection);for(u=0,c=v.length;u<c;++u)if(p=(h=v[u]).wrappedTileCoord,d=m.getTileCoordExtent(p,this.tmpExtent),s=Re.buffer(d,n*o,s),Re.containsCoordinate(s,t))for(var _=0,b=h.tileKeys.length;_<b;++_){var x=h.getTile(h.tileKeys[_]);x.getState()!=Ma&&(f=x.getReplayGroup(y,h.tileCoord.toString()),l=l||f.forEachFeatureAtCoordinate(t,o,a,n,{},(function(t){var e=Ut.getUid(t).toString();if(!(e in g))return g[e]=!0,r.call(i,t,y)}),null))}return l},Ml.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),r=t.tileCoord,i=n.getResolution(r[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=n.getTileCoordExtent(r,this.tmpExtent),u=o.center,c=Re.getTopLeft(l),f=e.size,h=Math.round(a*f[0]/2),p=Math.round(a*f[1]/2);return un.compose(this.tmpTransform_,h,p,i/s,i/s,o.rotation,(c[0]-u[0])/i,(u[1]-c[1])/i)},Ml.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},Ml.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Ml.prototype.postCompose=function(t,e,n){var r,i,o=this.getLayer(),a=o.getDeclutter()?{}:null,s=o.getSource(),l=o.getRenderMode(),u=Ml.VECTOR_REPLAYS[l],c=e.pixelRatio,f=e.viewState.rotation,h=e.size;f&&(r=Math.round(c*h[0]/2),i=Math.round(c*h[1]/2),An.rotateAtOffset(t,-f,r,i)),a&&this.declutterTree_.clear();for(var p=this.renderedTiles,d=s.getTileGridForProjection(e.viewState.projection),y=[],g=[],v=p.length-1;v>=0;--v){var m=p[v];if(m.getState()!=Aa)for(var _=m.tileCoord,b=d.getTileCoordExtent(_)[0]-d.getTileCoordExtent(m.wrappedTileCoord)[0],x=void 0,E=0,w=m.tileKeys.length;E<w;++E){var S=m.getTile(m.tileKeys[E]);if(S.getState()!=Ma){var C=S.getReplayGroup(o,_.toString());if(l==Ll||C.hasReplays(u)){x||(x=this.getTransform(e,b));var P=S.tileCoord[0],O=C.getClipCoords(x);t.save(),t.globalAlpha=n.opacity;for(var T=0,R=y.length;T<R;++T){var k=y[T];P<g[T]&&(t.beginPath(),t.moveTo(O[0],O[1]),t.lineTo(O[2],O[3]),t.lineTo(O[4],O[5]),t.lineTo(O[6],O[7]),t.moveTo(k[6],k[7]),t.lineTo(k[4],k[5]),t.lineTo(k[2],k[3]),t.lineTo(k[0],k[1]),t.clip())}C.replay(t,x,f,{},u,a),t.restore(),y.push(O),g.push(P)}}}}a&&Tl.replayDeclutter(a,t,f),f&&An.rotateAtOffset(t,f,r,i),Ws.prototype.postCompose.apply(this,arguments)},Ml.prototype.renderFeature=function(t,e,n,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)i=kl.renderFeature(r,t,n[o],e,this.handleStyleImageChange_,this)||i;else i=kl.renderFeature(r,t,n,e,this.handleStyleImageChange_,this);return i},Ml.prototype.renderTileImage_=function(t,e,n){var r=this.getLayer(),i=t.getReplayState(r),o=r.getRevision(),a=Ml.IMAGE_REPLAYS[r.getRenderMode()];if(a&&i.renderedTileRevision!==o){i.renderedTileRevision=o;var s=t.wrappedTileCoord,l=s[0],u=e.pixelRatio,c=r.getSource(),f=c.getTileGridForProjection(e.viewState.projection),h=f.getResolution(l),p=t.getContext(r),d=c.getTilePixelSize(l,u,e.viewState.projection);p.canvas.width=d[0],p.canvas.height=d[1];for(var y=f.getTileCoordExtent(s),g=0,v=t.tileKeys.length;g<v;++g){var m=t.getTile(t.tileKeys[g]);if(m.getState()!=Ma){var _=u/h,b=un.reset(this.tmpTransform_);un.scale(b,_,-_),un.translate(b,-y[0],-y[3]),m.getReplayGroup(r,t.tileCoord.toString()).replay(p,b,0,{},a)}}}};const jl=Ml;var Al=function(t){this.source_=t};Al.prototype.getType=function(){},Al.prototype.getSource=function(){return this.source_},Al.prototype.isAnimated=ke.FALSE;const Fl=Al;var Nl=function(t){Fl.call(this,t)};Ut.inherits(Nl,Fl),Nl.prototype.getType=function(){return xn.FRAGMENT_SHADER};const Ul=Nl;var Bl=function(t){Fl.call(this,t)};Ut.inherits(Bl,Fl),Bl.prototype.getType=function(){return xn.VERTEX_SHADER};const zl=Bl;var Wl={};Wl.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Wl.vertex=new zl(Ut.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");const Gl=Wl,Vl=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_radius":"g")};const Hl={create:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},fromTransform:function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}};var Xl=function(t,e){Es.call(this),this.tolerance=t,this.maxExtent=e,this.origin=Re.getCenter(e),this.projectionMatrix_=un.create(),this.offsetRotateMatrix_=un.create(),this.offsetScaleMatrix_=un.create(),this.tmpMat4_=Hl.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};Ut.inherits(Xl,Es),Xl.prototype.getDeleteResourcesFunction=function(t){},Xl.prototype.finish=function(t){},Xl.prototype.setUpProgram=function(t,e,n,r){},Xl.prototype.shutDownProgram=function(t,e){},Xl.prototype.drawReplay=function(t,e,n,r){},Xl.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){},Xl.prototype.drawHitDetectionReplay=function(t,e,n,r,i,o){return i?this.drawHitDetectionReplayOneByOne(t,e,n,r,o):this.drawHitDetectionReplayAll(t,e,n,r)},Xl.prototype.drawHitDetectionReplayAll=function(t,e,n,r){return t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0),r(null)||void 0},Xl.prototype.replay=function(t,e,n,r,i,o,a,s,l,u,c){var f,h,p,d,y,g,v,m,_=t.getGL();this.lineStringReplay&&(f=_.isEnabled(_.STENCIL_TEST),h=_.getParameter(_.STENCIL_FUNC),p=_.getParameter(_.STENCIL_VALUE_MASK),d=_.getParameter(_.STENCIL_REF),y=_.getParameter(_.STENCIL_WRITEMASK),g=_.getParameter(_.STENCIL_FAIL),v=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),m=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(t,e,n,r,i,o,a,s,l,u,c),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),t.bindBuffer(xn.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(xn.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var b=this.setUpProgram(_,t,i,o),x=un.reset(this.projectionMatrix_);un.scale(x,2/(n*i[0]),2/(n*i[1])),un.rotate(x,-r),un.translate(x,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var E=un.reset(this.offsetScaleMatrix_);un.scale(E,2/i[0],2/i[1]);var w,S=un.reset(this.offsetRotateMatrix_);return 0!==r&&un.rotate(S,-r),_.uniformMatrix4fv(b.u_projectionMatrix,!1,Hl.fromTransform(this.tmpMat4_,x)),_.uniformMatrix4fv(b.u_offsetScaleMatrix,!1,Hl.fromTransform(this.tmpMat4_,E)),_.uniformMatrix4fv(b.u_offsetRotateMatrix,!1,Hl.fromTransform(this.tmpMat4_,S)),_.uniform1f(b.u_opacity,a),void 0===l?this.drawReplay(_,t,s,!1):w=this.drawHitDetectionReplay(_,t,s,l,u,c),this.shutDownProgram(_,b),this.lineStringReplay&&(f||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(h,d,p),_.stencilMask(y),_.stencilOp(g,m,v)),w},Xl.prototype.drawElements=function(t,e,n,r){var i=e.hasOESElementIndexUint?xn.UNSIGNED_INT:xn.UNSIGNED_SHORT,o=r-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(xn.TRIANGLES,o,i,a)};const ql=Xl;var Yl={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:.5,defaultTextBaseline:.5,defaultLineWidth:1,triangleIsCounterClockwise:function(t,e,n,r,i,o){var a=(n-t)*(o-e)-(i-t)*(r-e);return a<=Yl.EPSILON&&a>=-Yl.EPSILON?void 0:a>0}};Yl.EPSILON=Number.EPSILON||2220446049250313e-31;const Kl=Yl;var Zl=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:Zl.Usage_.STATIC_DRAW};Zl.prototype.getArray=function(){return this.arr_},Zl.prototype.getUsage=function(){return this.usage_},Zl.Usage_={STATIC_DRAW:xn.STATIC_DRAW,STREAM_DRAW:xn.STREAM_DRAW,DYNAMIC_DRAW:xn.DYNAMIC_DRAW};const Ql=Zl;var Jl=function(t,e){ql.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};Ut.inherits(Jl,ql),Jl.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(i=e,o=n;i<o;i+=r)this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},Jl.prototype.drawCircle=function(t,e){var n=t.getRadius(),r=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var i=t.getFlatCoordinates();i=De.translate(i,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(i,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},Jl.prototype.finish=function(t){this.verticesBuffer=new Ql(this.vertices),this.indicesBuffer=new Ql(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Jl.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Jl.prototype.setUpProgram=function(t,e,n,r){var i,o;i=Gl.fragment,o=Gl.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new Vl(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,xn.FLOAT,!1,16,0),t.enableVertexAttribArray(a.a_instruction),t.vertexAttribPointer(a.a_instruction,1,xn.FLOAT,!1,16,8),t.enableVertexAttribArray(a.a_radius),t.vertexAttribPointer(a.a_radius,1,xn.FLOAT,!1,16,12),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Jl.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},Jl.prototype.drawReplay=function(t,e,n,r){var i,o,a,s;if(Vt.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},Jl.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[Ut.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||Re.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},Jl.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[Ut.getUid(l).toString()]&&(i!==o&&this.drawElements(t,e,i,o),o=c),u--,i=c;i!==o&&this.drawElements(t,e,i,o),i=o=s}},Jl.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},Jl.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},Jl.prototype.setFillStrokeStyle=function(t,e){var n,r;if(e){var i=e.getLineDash();this.state_.lineDash=i||Kl.defaultLineDash;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||Kl.defaultLineDashOffset,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?Kl.defaultStrokeStyle:yn.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||Kl.defaultStrokeStyle,r=void 0!==(r=e.getWidth())?r:Kl.defaultLineWidth}else n=[0,0,0,0],r=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?Kl.defaultFillStyle:yn.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||Kl.defaultFillStyle,this.state_.strokeColor&&lr.equals(this.state_.strokeColor,n)&&this.state_.fillColor&&lr.equals(this.state_.fillColor,a)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=n,this.state_.lineWidth=r,this.styles_.push([a,n,r]))};const $l=Jl;var tu={};tu.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),tu.vertex=new zl(Ut.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");const eu=tu,nu=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_rotateWithView":"g")},ru="webglcontextlost",iu="webglcontextrestored";var ou=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=lr.includes(Ut.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),Xt.listen(this.canvas_,ru,this.handleWebGLContextLost,this),Xt.listen(this.canvas_,iu,this.handleWebGLContextRestored,this)};Ut.inherits(ou,ue),ou.prototype.bindBuffer=function(t,e){var n=this.getGL(),r=e.getArray(),i=String(Ut.getUid(e));if(i in this.bufferCache_){var o=this.bufferCache_[i];n.bindBuffer(t,o.buffer)}else{var a,s=n.createBuffer();n.bindBuffer(t,s),t==xn.ARRAY_BUFFER?a=new Float32Array(r):t==xn.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[i]={buf:e,buffer:s}}},ou.prototype.deleteBuffer=function(t){var e=this.getGL(),n=String(Ut.getUid(t)),r=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[n]},ou.prototype.disposeInternal=function(){Xt.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},ou.prototype.getCanvas=function(){return this.canvas_},ou.prototype.getGL=function(){return this.gl_},ou.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},ou.prototype.getShader=function(t){var e=String(Ut.getUid(t));if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),r=n.createShader(t.getType());return n.shaderSource(r,t.getSource()),n.compileShader(r),this.shaderCache_[e]=r,r},ou.prototype.getProgram=function(t,e){var n=Ut.getUid(t)+"/"+Ut.getUid(e);if(n in this.programCache_)return this.programCache_[n];var r=this.getGL(),i=r.createProgram();return r.attachShader(i,this.getShader(t)),r.attachShader(i,this.getShader(e)),r.linkProgram(i),this.programCache_[n]=i,i},ou.prototype.handleWebGLContextLost=function(){Vt.clear(this.bufferCache_),Vt.clear(this.shaderCache_),Vt.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},ou.prototype.handleWebGLContextRestored=function(){},ou.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=ou.createEmptyTexture(t,1,1),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=r},ou.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},ou.createTexture_=function(t,e,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_WRAP_T,n),r},ou.createEmptyTexture=function(t,e,n,r,i){var o=ou.createTexture_(t,r,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},ou.createTexture=function(t,e,n,r){var i=ou.createTexture_(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i};const au=ou;var su=function(t,e){ql.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};Ut.inherits(su,ql),su.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.getTextures(!0),i=t.getGL();return function(){var o,a;if(!i.isContextLost())for(o=0,a=r.length;o<a;++o)i.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},su.prototype.drawCoordinates=function(t,e,n,r){var i,o,a,s,l,u,c=this.anchorX,f=this.anchorY,h=this.height,p=this.imageHeight,d=this.imageWidth,y=this.opacity,g=this.originX,v=this.originY,m=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,x=this.width,E=Math.cos(_),w=Math.sin(_),S=this.indices.length,C=this.vertices.length;for(i=e;i<n;i+=r)l=t[i]-this.origin[0],u=t[i+1]-this.origin[1],o=C/8,a=-b*c,s=-b*(h-f),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*E-s*w,this.vertices[C++]=a*w+s*E,this.vertices[C++]=g/d,this.vertices[C++]=(v+h)/p,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(x-c),s=-b*(h-f),this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*E-s*w,this.vertices[C++]=a*w+s*E,this.vertices[C++]=(g+x)/d,this.vertices[C++]=(v+h)/p,this.vertices[C++]=y,this.vertices[C++]=m,a=b*(x-c),s=b*f,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*E-s*w,this.vertices[C++]=a*w+s*E,this.vertices[C++]=(g+x)/d,this.vertices[C++]=v/p,this.vertices[C++]=y,this.vertices[C++]=m,a=-b*c,s=b*f,this.vertices[C++]=l,this.vertices[C++]=u,this.vertices[C++]=a*E-s*w,this.vertices[C++]=a*w+s*E,this.vertices[C++]=g/d,this.vertices[C++]=v/p,this.vertices[C++]=y,this.vertices[C++]=m,this.indices[S++]=o,this.indices[S++]=o+1,this.indices[S++]=o+2,this.indices[S++]=o,this.indices[S++]=o+2,this.indices[S++]=o+3;return C},su.prototype.createTextures=function(t,e,n,r){var i,o,a,s,l=e.length;for(s=0;s<l;++s)o=e[s],(a=Ut.getUid(o).toString())in n?i=n[a]:(i=au.createTexture(r,o,xn.CLAMP_TO_EDGE,xn.CLAMP_TO_EDGE),n[a]=i),t[s]=i},su.prototype.setUpProgram=function(t,e,n,r){var i,o=eu.fragment,a=eu.vertex,s=e.getProgram(o,a);return this.defaultLocations?i=this.defaultLocations:(i=new nu(t,s),this.defaultLocations=i),e.useProgram(s),t.enableVertexAttribArray(i.a_position),t.vertexAttribPointer(i.a_position,2,xn.FLOAT,!1,32,0),t.enableVertexAttribArray(i.a_offsets),t.vertexAttribPointer(i.a_offsets,2,xn.FLOAT,!1,32,8),t.enableVertexAttribArray(i.a_texCoord),t.vertexAttribPointer(i.a_texCoord,2,xn.FLOAT,!1,32,16),t.enableVertexAttribArray(i.a_opacity),t.vertexAttribPointer(i.a_opacity,1,xn.FLOAT,!1,32,24),t.enableVertexAttribArray(i.a_rotateWithView),t.vertexAttribPointer(i.a_rotateWithView,1,xn.FLOAT,!1,32,28),i},su.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},su.prototype.drawReplay=function(t,e,n,r){var i,o,a,s=r?this.getHitDetectionTextures():this.getTextures(),l=r?this.hitDetectionGroupIndices:this.groupIndices;if(Vt.isEmpty(n))for(i=0,o=s.length,a=0;i<o;++i){t.bindTexture(xn.TEXTURE_2D,s[i]);var u=l[i];this.drawElements(t,e,a,u),a=u}else this.drawReplaySkipping(t,e,n,s,l)},su.prototype.drawReplaySkipping=function(t,e,n,r,i){var o,a,s=0;for(o=0,a=r.length;o<a;++o){t.bindTexture(xn.TEXTURE_2D,r[o]);for(var l=o>0?i[o-1]:0,u=i[o],c=l,f=l;s<this.startIndices.length&&this.startIndices[s]<=u;){var h=this.startIndicesFeature[s];void 0!==n[Ut.getUid(h).toString()]?(c!==f&&this.drawElements(t,e,c,f),f=c=s===this.startIndices.length-1?u:this.startIndices[s+1]):f=s===this.startIndices.length-1?u:this.startIndices[s+1],s++}c!==f&&this.drawElements(t,e,c,f)}},su.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c=this.startIndices.length-1,f=this.getHitDetectionTextures();for(o=f.length-1;o>=0;--o)for(t.bindTexture(xn.TEXTURE_2D,f[o]),a=o>0?this.hitDetectionGroupIndices[o-1]:0,l=this.hitDetectionGroupIndices[o];c>=0&&this.startIndices[c]>=a;){if(s=this.startIndices[c],u=this.startIndicesFeature[c],void 0===n[Ut.getUid(u).toString()]&&u.getGeometry()&&(void 0===i||Re.intersects(i,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,l);var h=r(u);if(h)return h}l=s,c--}},su.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},su.prototype.getTextures=function(t){},su.prototype.getHitDetectionTextures=function(){};const lu=su;var uu=function(t,e){lu.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};Ut.inherits(uu,lu),uu.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},uu.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},uu.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new Ql(this.vertices);var n=this.indices;this.indicesBuffer=new Ql(n);var r={};this.createTextures(this.textures_,this.images_,r,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,e),this.images_=null,this.hitDetectionImages_=null,lu.prototype.finish.call(this,t)},uu.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),r=t.getImage(1),i=t.getImageSize(),o=t.getHitDetectionImage(1),a=t.getOpacity(),s=t.getOrigin(),l=t.getRotateWithView(),u=t.getRotation(),c=t.getSize(),f=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],Ut.getUid(e)!=Ut.getUid(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(o):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],Ut.getUid(e)!=Ut.getUid(o)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(o))),this.anchorX=n[0],this.anchorY=n[1],this.height=c[1],this.imageHeight=i[1],this.imageWidth=i[0],this.opacity=a,this.originX=s[0],this.originY=s[1],this.rotation=u,this.rotateWithView=l,this.scale=f,this.width=c[0]},uu.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},uu.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};const cu=uu;const fu={lineStringIsClosed:function(t,e,n,r){var i=n-r;return t[e]===t[i]&&t[e+1]===t[i+1]&&(n-e)/r>3&&!!zr.linearRing(t,e,n,r)}};var hu={};hu.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),hu.vertex=new zl(Ut.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");const pu=hu,du=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_direction":"g")};var yu=function(t,e){ql.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};Ut.inherits(yu,ql),yu.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a,s,l,u,c,f,h=this.vertices.length,p=this.indices.length,d="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,y="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,g=fu.lineStringIsClosed(t,e,n,r),v=p,m=1;for(i=e,o=n;i<o;i+=r){if(l=h/7,u=c,c=f||[t[i],t[i+1]],i===e){if(f=[t[i+r],t[i+r+1]],n-e==2*r&&lr.equals(c,f))break;if(!g){y&&(h=this.addVertices_([0,0],c,f,m*yu.Instruction_.BEGIN_LINE_CAP*y,h),h=this.addVertices_([0,0],c,f,-m*yu.Instruction_.BEGIN_LINE_CAP*y,h),this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=l+1,this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l+2),h=this.addVertices_([0,0],c,f,m*yu.Instruction_.BEGIN_LINE*(y||1),h),v=(h=this.addVertices_([0,0],c,f,-m*yu.Instruction_.BEGIN_LINE*(y||1),h))/7-1;continue}u=[t[n-2*r],t[n-2*r+1]],a=f}else{if(i===n-r){if(g){f=a;break}u=u||[0,0],h=this.addVertices_(u,c,[0,0],m*yu.Instruction_.END_LINE*(y||1),h),h=this.addVertices_(u,c,[0,0],-m*yu.Instruction_.END_LINE*(y||1),h),this.indices[p++]=l,this.indices[p++]=v-1,this.indices[p++]=v,this.indices[p++]=v,this.indices[p++]=l+1,this.indices[p++]=l,y&&(h=this.addVertices_(u,c,[0,0],m*yu.Instruction_.END_LINE_CAP*y,h),h=this.addVertices_(u,c,[0,0],-m*yu.Instruction_.END_LINE_CAP*y,h),this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=l+1,this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l+2);break}f=[t[i+r],t[i+r+1]]}s=Kl.triangleIsCounterClockwise(u[0],u[1],c[0],c[1],f[0],f[1])?-1:1,h=this.addVertices_(u,c,f,s*yu.Instruction_.BEVEL_FIRST*(d||1),h),h=this.addVertices_(u,c,f,s*yu.Instruction_.BEVEL_SECOND*(d||1),h),h=this.addVertices_(u,c,f,-s*yu.Instruction_.MITER_BOTTOM*(d||1),h),i>e&&(this.indices[p++]=l,this.indices[p++]=v-1,this.indices[p++]=v,this.indices[p++]=l+2,this.indices[p++]=l,this.indices[p++]=m*s>0?v:v-1),this.indices[p++]=l,this.indices[p++]=l+2,this.indices[p++]=l+1,v=l+2,m=s,d&&(h=this.addVertices_(u,c,f,s*yu.Instruction_.MITER_TOP*d,h),this.indices[p++]=l+1,this.indices[p++]=l+3,this.indices[p++]=l)}g&&(l=l||h/7,s=Yr.linearRingIsClockwise([u[0],u[1],c[0],c[1],f[0],f[1]],0,6,2)?1:-1,h=this.addVertices_(u,c,f,s*yu.Instruction_.BEVEL_FIRST*(d||1),h),h=this.addVertices_(u,c,f,-s*yu.Instruction_.MITER_BOTTOM*(d||1),h),this.indices[p++]=l,this.indices[p++]=v-1,this.indices[p++]=v,this.indices[p++]=l+1,this.indices[p++]=l,this.indices[p++]=m*s>0?v:v-1)},yu.prototype.addVertices_=function(t,e,n,r,i){return this.vertices[i++]=t[0],this.vertices[i++]=t[1],this.vertices[i++]=e[0],this.vertices[i++]=e[1],this.vertices[i++]=n[0],this.vertices[i++]=n[1],this.vertices[i++]=r,i},yu.prototype.isValid_=function(t,e,n,r){var i=n-e;if(i<2*r)return!1;if(i===2*r){var o=[t[e],t[e+1]],a=[t[e+r],t[e+r+1]];return!lr.equals(o,a)}return!0},yu.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),r=t.getStride();this.isValid_(n,0,n.length,r)&&(n=De.translate(n,0,n.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,r))},yu.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,r=t.getEnds();r.unshift(0);var i,o,a=t.getFlatCoordinates(),s=t.getStride();if(r.length>1)for(i=1,o=r.length;i<o;++i)if(this.isValid_(a,r[i-1],r[i],s)){var l=De.translate(a,r[i-1],r[i],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},yu.prototype.drawPolygonCoordinates=function(t,e,n){var r,i;if(fu.lineStringIsClosed(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(r=0,i=e.length;r<i;++r)fu.lineStringIsClosed(e[r],0,e[r].length,n)||(e[r].push(e[r][0]),e[r].push(e[r][1])),this.drawCoordinates_(e[r],0,e[r].length,n)},yu.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},yu.prototype.getCurrentIndex=function(){return this.indices.length},yu.prototype.finish=function(t){this.verticesBuffer=new Ql(this.vertices),this.indicesBuffer=new Ql(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},yu.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},yu.prototype.setUpProgram=function(t,e,n,r){var i,o;i=pu.fragment,o=pu.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new du(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_lastPos),t.vertexAttribPointer(a.a_lastPos,2,xn.FLOAT,!1,28,0),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,xn.FLOAT,!1,28,8),t.enableVertexAttribArray(a.a_nextPos),t.vertexAttribPointer(a.a_nextPos,2,xn.FLOAT,!1,28,16),t.enableVertexAttribArray(a.a_direction),t.vertexAttribPointer(a.a_direction,1,xn.FLOAT,!1,28,24),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},yu.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},yu.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Vt.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},yu.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[Ut.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},yu.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setStrokeStyle_(t,l[0],l[1],l[2]),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[Ut.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||Re.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},yu.prototype.setStrokeStyle_=function(t,e,n,r){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,r)},yu.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:Kl.defaultLineCap;var r=e.getLineDash();this.state_.lineDash=r||Kl.defaultLineDash;var i=e.getLineDashOffset();this.state_.lineDashOffset=i||Kl.defaultLineDashOffset;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:Kl.defaultLineJoin;var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?Kl.defaultStrokeStyle:yn.asArray(a).map((function(t,e){return 3!=e?t/255:t}))||Kl.defaultStrokeStyle;var s=e.getWidth();s=void 0!==s?s:Kl.defaultLineWidth;var l=e.getMiterLimit();l=void 0!==l?l:Kl.defaultMiterLimit,this.state_.strokeColor&&lr.equals(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===l||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=l,this.styles_.push([a,s,l]))},yu.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};const gu=yu;var vu={};vu.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),vu.vertex=new zl(Ut.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");const mu=vu,_u=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"a")};var bu=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};bu.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var r=n.next;e.prev=n,e.next=r,n.next=e,r&&(r.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},bu.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},bu.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},bu.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},bu.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},bu.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},bu.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},bu.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},bu.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},bu.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},bu.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},bu.prototype.getLength=function(){return this.length_};const xu=bu;var Eu=function(t){this.rbush_=Vs()(t),this.items_={}};Eu.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Ut.getUid(e)]=n},Eu.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[Ut.getUid(a)]=s}this.rbush_.load(n)},Eu.prototype.remove=function(t){var e=Ut.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},Eu.prototype.update=function(t,e){var n=this.items_[Ut.getUid(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Re.equals(r,t)||(this.remove(e),this.insert(t,e))},Eu.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},Eu.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},Eu.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},Eu.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},Eu.prototype.forEach_=function(t,e,n){for(var r,i=0,o=t.length;i<o;i++)if(r=e.call(n,t[i]))return r;return r},Eu.prototype.isEmpty=function(){return Vt.isEmpty(this.items_)},Eu.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Eu.prototype.getExtent=function(t){var e=this.rbush_.data;return Re.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},Eu.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]};const wu=Eu;var Su=function(t,e){ql.call(this,t,e),this.lineStringReplay=new gu(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};Ut.inherits(Su,ql),Su.prototype.drawCoordinates_=function(t,e,n){var r=new xu,i=new wu;this.processFlatCoordinates_(t,n,r,i,!0);var o=this.getMaxCoords_(r);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new xu,maxCoords:void 0,rtree:new wu};l.push(u),this.processFlatCoordinates_(e[a],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort((function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]})),a=0;a<l.length;++a){var c,f=l[a].list,h=f.firstItem(),p=h;do{if(this.getIntersections_(p,i).length){c=!0;break}p=f.nextItem()}while(h!==p);c||this.bridgeHole_(f,l[a].maxCoords[0],r,o[0],i)&&(i.concat(l[a].rtree),this.classifyPoints_(r,i,!1))}}else this.classifyPoints_(r,i,!1);this.triangulate_(r,i)},Su.prototype.processFlatCoordinates_=function(t,e,n,r,i){var o,a,s,l,u,c=Yr.linearRingIsClockwise(t,0,t.length,e),f=this.vertices.length/2,h=[],p=[];if(i===c){for(l=s=this.createPoint_(t[0],t[1],f++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],f++),p.push(this.insertItem_(l,u,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var d=t.length-e;for(l=s=this.createPoint_(t[d],t[d+1],f++),o=d-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],f++),p.push(this.insertItem_(l,u,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),h.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}r.load(h,p)},Su.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,r=[n.p0.x,n.p0.y];do{(n=t.nextItem()).p0.x>r[0]&&(r=[n.p0.x,n.p0.y])}while(n!==e);return r},Su.prototype.classifyPoints_=function(t,e,n){var r=t.firstItem(),i=r,o=t.nextItem(),a=!1;do{var s=n?Kl.triangleIsCounterClockwise(o.p1.x,o.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):Kl.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(i,o,t,e),a=!0,o===r&&(r=t.getNextItem()),o=i,t.prevItem()):i.p1.reflex!==s&&(i.p1.reflex=s,a=!0),i=o,o=t.nextItem()}while(i!==r);return a},Su.prototype.bridgeHole_=function(t,e,n,r,i){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,f={x:r,y:c.y,i:-1},h=1/0,p=this.getIntersections_({p0:c,p1:f},i,!0);for(a=0,s=p.length;a<s;++a){var d=p[a],y=this.calculateIntersection_(c,f,d.p0,d.p1,!0),g=Math.abs(c.x-y[0]);g<h&&void 0!==Kl.triangleIsCounterClockwise(c.x,c.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(h=g,u={x:y[0],y:y[1],i:-1},o=d)}if(h===1/0)return!1;if(l=o.p1,h>0){var v=this.getPointsInTriangle_(c,u,o.p1,i);if(v.length){var m=1/0;for(a=0,s=v.length;a<s;++a){var _=v[a],b=Math.atan2(c.y-_.y,f.x-_.x);(b<m||b===m&&_.x<l.x)&&(m=b,l=_)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var x={x:c.x,y:c.y,i:c.i,reflex:void 0},E={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=x,this.insertItem_(c,o.p1,t,i),this.insertItem_(E,x,t,i),o.p1=E,t.setFirstItem(),n.concat(t),!0},Su.prototype.triangulate_=function(t,e){for(var n=!1,r=this.isSimple_(t,e);t.getLength()>3;)if(r){if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(r=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var i=this.indices.length;this.indices[i++]=t.getPrevItem().p0.i,this.indices[i++]=t.getCurrItem().p0.i,this.indices[i++]=t.getNextItem().p0.i}},Su.prototype.clipEars_=function(t,e,n,r){var i,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),c=l,f=t.nextItem(),h=t.getNextItem(),p=!1;do{var d;i=c.p0,o=c.p1,a=f.p1,!1===o.reflex&&(d=n?0===this.getPointsInTriangle_(i,o,a,e,!0).length:r?this.diagonalIsInside_(h.p1,a,o,i,u.p0):this.diagonalIsInside_(u.p0,i,o,a,h.p1),(n||0===this.getIntersections_({p0:i,p1:a},e).length)&&d&&(n||!1===i.reflex||!1===a.reflex||Yr.linearRingIsClockwise([u.p0.x,u.p0.y,i.x,i.y,o.x,o.y,a.x,a.y,h.p1.x,h.p1.y],0,10,2)===!r)&&(this.indices[s++]=i.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(c,f,t,e),f===l&&(l=h),p=!0)),u=t.getPrevItem(),c=t.getCurrItem(),f=t.nextItem(),h=t.getNextItem()}while(c!==l&&t.getLength()>3);return p},Su.prototype.resolveSelfIntersections_=function(t,e,n){var r=t.firstItem();t.nextItem();var i=r,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1,n);if(s){var l,u=!1,c=this.vertices.length,f=this.indices.length,h=c/2,p=t.prevItem();if(t.removeItem(),e.remove(p),u=p===r,n?(s[0]===i.p0.x&&s[1]===i.p0.y?(t.prevItem(),l=i.p0,o.p0=l,e.remove(i),u=u||i===r):(l=o.p1,i.p1=l,e.remove(o),u=u||o===r),t.removeItem()):(l=this.createPoint_(s[0],s[1],h),i.p1=l,o.p0=l,e.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[f++]=p.p0.i,this.indices[f++]=p.p1.i,this.indices[f++]=l.i,a=!0,u)break}i=t.getPrevItem(),o=t.nextItem()}while(i!==r);return a},Su.prototype.isSimple_=function(t,e){var n=t.firstItem(),r=n;do{if(this.getIntersections_(r,e).length)return!1;r=t.nextItem()}while(r!==n);return!0},Su.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),r=t.firstItem(),i=r,o=0;do{n[o++]=i.p0.x,n[o++]=i.p0.y,i=t.nextItem()}while(i!==r);return Yr.linearRingIsClockwise(n,0,e,2)},Su.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),r=n;do{var i=this.getIntersections_(r,e);if(i.length){var o=i[0],a=this.vertices.length/2,s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new xu,c=new wu;this.insertItem_(l,r.p1,u,c),r.p1=l,e.update([Math.min(r.p0.x,l.x),Math.min(r.p0.y,l.y),Math.max(r.p0.x,l.x),Math.max(r.p0.y,l.y)],r);for(var f=t.nextItem();f!==o;)this.insertItem_(f.p0,f.p1,u,c),e.remove(f),t.removeItem(),f=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}r=t.nextItem()}while(r!==n)},Su.prototype.createPoint_=function(t,e,n){var r=this.vertices.length;return this.vertices[r++]=t,this.vertices[r++]=e,{x:t,y:e,i:n,reflex:void 0}},Su.prototype.insertItem_=function(t,e,n,r){var i={p0:t,p1:e};return n.insertItem(i),r&&r.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i},Su.prototype.removeItem_=function(t,e,n,r){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,r.remove(e),r.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},Su.prototype.getPointsInTriangle_=function(t,e,n,r,i){var o,a,s,l,u=[],c=r.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,a=c.length;o<a;++o)for(s in c[o])"object"!=typeof(l=c[o][s])||i&&!l.reflex||l.x===t.x&&l.y===t.y||l.x===e.x&&l.y===e.y||l.x===n.x&&l.y===n.y||-1!==u.indexOf(l)||!Sr.linearRingContainsXY([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,l.x,l.y)||u.push(l);return u},Su.prototype.getIntersections_=function(t,e,n){var r,i,o=t.p0,a=t.p1,s=e.getInExtent([Math.min(o.x,a.x),Math.min(o.y,a.y),Math.max(o.x,a.x),Math.max(o.y,a.y)]),l=[];for(r=0,i=s.length;r<i;++r){var u=s[r];t!==u&&(n||u.p0!==a||u.p1!==o)&&this.calculateIntersection_(o,a,u.p0,u.p1,n)&&l.push(u)}return l},Su.prototype.calculateIntersection_=function(t,e,n,r,i){var o=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==o){var a=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!i&&a>Kl.EPSILON&&a<1-Kl.EPSILON&&s>Kl.EPSILON&&s<1-Kl.EPSILON||i&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},Su.prototype.diagonalIsInside_=function(t,e,n,r,i){if(void 0===e.reflex||void 0===r.reflex)return!1;var o=(n.x-r.x)*(e.y-r.y)>(n.y-r.y)*(e.x-r.x),a=(i.x-r.x)*(e.y-r.y)<(i.y-r.y)*(e.x-r.x),s=(t.x-e.x)*(r.y-e.y)>(t.y-e.y)*(r.x-e.x),l=(n.x-e.x)*(r.y-e.y)<(n.y-e.y)*(r.x-e.x),u=r.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},Su.prototype.drawMultiPolygon=function(t,e){var n,r,i,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),f=0;for(n=0,r=a.length;n<r;++n){var h=a[n];if(h.length>0){var p=De.translate(c,f,h[0],s,-this.origin[0],-this.origin[1]);if(p.length){var d,y=[];for(i=1,o=h.length;i<o;++i)h[i]!==h[i-1]&&(d=De.translate(c,h[i-1],h[i],s,-this.origin[0],-this.origin[1]),y.push(d));this.lineStringReplay.drawPolygonCoordinates(p,y,s),this.drawCoordinates_(p,y,s)}}f=h[h.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},Su.prototype.drawPolygon=function(t,e){var n=t.getEnds(),r=t.getStride();if(n.length>0){var i=t.getFlatCoordinates().map(Number),o=De.translate(i,0,n[0],r,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(l=De.translate(i,n[a-1],n[a],r,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,r),this.drawCoordinates_(o,u,r)}}},Su.prototype.finish=function(t){this.verticesBuffer=new Ql(this.vertices),this.indicesBuffer=new Ql(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Su.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),r()}},Su.prototype.setUpProgram=function(t,e,n,r){var i,o;i=mu.fragment,o=mu.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new _u(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,xn.FLOAT,!1,8,0),a},Su.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},Su.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Vt.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},Su.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){var o,a,s,l,u,c,f;for(f=this.startIndices.length-2,s=this.startIndices[f+1],o=this.styleIndices_.length-1;o>=0;--o)for(l=this.styles_[o],this.setFillStyle_(t,l),u=this.styleIndices_[o];f>=0&&this.startIndices[f]>=u;){if(a=this.startIndices[f],c=this.startIndicesFeature[f],void 0===n[Ut.getUid(c).toString()]&&c.getGeometry()&&(void 0===i||Re.intersects(i,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var h=r(c);if(h)return h}f--,s=a}},Su.prototype.drawReplaySkipping_=function(t,e,n){var r,i,o,a,s,l,u,c;for(u=this.startIndices.length-2,o=i=this.startIndices[u+1],r=this.styleIndices_.length-1;r>=0;--r){for(a=this.styles_[r],this.setFillStyle_(t,a),s=this.styleIndices_[r];u>=0&&this.startIndices[u]>=s;)c=this.startIndices[u],l=this.startIndicesFeature[u],n[Ut.getUid(l).toString()]&&(i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),o=c),u--,i=c;i!==o&&(this.drawElements(t,e,i,o),t.clear(t.DEPTH_BUFFER_BIT)),i=o=s}},Su.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},Su.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?Kl.defaultFillStyle:yn.asArray(n).map((function(t,e){return 3!=e?t/255:t}))||Kl.defaultFillStyle,this.state_.fillColor&&lr.equals(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var r=new Xn({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}};const Cu=Su;var Pu=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=_n.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};Pu.prototype.get=function(t){return this.entries_[t]||null},Pu.prototype.add=function(t,e,n,r,i){var o,a,s;for(a=0,s=this.emptyBlocks_.length;a<s;++a)if((o=this.emptyBlocks_[a]).width>=e+this.space_&&o.height>=n+this.space_){var l={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=l,r.call(i,this.context_,o.x+this.space_,o.y+this.space_),this.split_(a,o,e+this.space_,n+this.space_),l}return null},Pu.prototype.split_=function(t,e,n,r){var i,o;e.width-n>e.height-r?(i={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+r,width:n,height:e.height-r},this.updateBlocks_(t,i,o)):(i={x:e.x+n,y:e.y,width:e.width-n,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,i,o))},Pu.prototype.updateBlocks_=function(t,e,n){var r=[t,1];e.width>0&&e.height>0&&r.push(e),n.width>0&&n.height>0&&r.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};const Ou=Pu;var Tu=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:Ut.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=Ut.MAX_ATLAS_SIZE?Ut.MAX_ATLAS_SIZE:void 0!==Ut.WEBGL_MAX_TEXTURE_SIZE?Ut.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new Ou(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new Ou(this.currentHitSize_,this.space_)]};Tu.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},Tu.prototype.getInfo_=function(t,e){var n,r,i;for(r=0,i=t.length;r<i;++r)if(n=t[r].get(e))return n;return null},Tu.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},Tu.prototype.add=function(t,e,n,r,i,o){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var a=this.add_(!1,t,e,n,r,o);if(!a)return null;var s=void 0!==i?i:Ut.nullFunction,l=this.add_(!0,t,e,n,s,o);return this.mergeInfos_(a,l)},Tu.prototype.add_=function(t,e,n,r,i,o){var a,s,l,u,c=t?this.hitAtlases_:this.atlases_;for(l=0,u=c.length;l<u;++l){if(s=(a=c[l]).add(e,n,r,i,o))return s;var f;s||l!==u-1||(t?(f=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=f):(f=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=f),a=new Ou(f,this.space_),c.push(a),++u)}return null};const Ru=Tu;var ku=function(t,e){lu.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=_n.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};Ut.inherits(ku,lu),ku.prototype.drawText=function(t,e){if(this.text_){var n=null,r=2,i=2;switch(t.getType()){case Me:case Ne:r=(n=t.getFlatCoordinates()).length,i=t.getStride();break;case We:n=t.getCenter();break;case je:n=t.getFlatMidpoint();break;case Ue:r=(n=t.getFlatMidpoints()).length;break;case Fe:n=t.getFlatInteriorPoint();break;case Be:r=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var o,a,s,l,u,c,f,h,p=this.currAtlas_,d=this.text_.split("\n"),y=this.getTextSize_(d),g=Math.round(y[0]*this.textAlign_-this.offsetX_),v=Math.round(y[1]*this.textBaseline_-this.offsetY_),m=this.state_.lineWidth/2*this.state_.scale;for(o=0,a=d.length;o<a;++o)for(u=0,c=p.height*o,s=0,l=(f=d[o].split("")).length;s<l;++s){if(h=p.atlas.getInfo(f[s])){var _,b=h.image;this.anchorX=g-u,this.anchorY=v-c,this.originX=0===s?h.offsetX-m:h.offsetX,this.originY=h.offsetY,this.height=p.height,this.width=0===s||s===f.length-1?p.width[f[s]]+m:p.width[f[s]],this.imageHeight=b.height,this.imageWidth=b.width,0===this.images_.length?this.images_.push(b):(_=this.images_[this.images_.length-1],Ut.getUid(_)!=Ut.getUid(b)&&(this.groupIndices.push(this.indices.length),this.images_.push(b))),this.drawText_(n,0,r,i)}u+=this.width}}},ku.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,r=t.length*n.height;return[t.map((function(t){var r,i,o=0;for(r=0,i=t.length;r<i;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),o+=n.width[a]?n.width[a]:0}return o})).reduce((function(t,e){return Math.max(t,e)})),r]},ku.prototype.drawText_=function(t,e,n,r){var i,o;for(i=e,o=n;i<o;i+=r)this.drawCoordinates(t,e,n,r)},ku.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,r=this.measureCanvas_.getContext("2d");r.font=n.font;var i=Math.ceil(r.measureText(t).width*n.scale);e.atlas.add(t,i,e.height,(function(e,r,i){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",Sn.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,r,i),n.fillColor&&e.fillText(t,r,i)}))&&(e.width[t]=i)}},ku.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new Ql(this.vertices),this.indicesBuffer=new Ql(this.indices),this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,lu.prototype.finish.call(this,t)},ku.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),r=t.getStroke();if(t&&t.getText()&&(n||r)){if(n){var i=n.getColor();e.fillColor=vn.asColorLike(i||Kl.defaultFillStyle)}else e.fillColor=null;if(r){var o=r.getColor();e.strokeColor=vn.asColorLike(o||Kl.defaultStrokeStyle),e.lineWidth=r.getWidth()||Kl.defaultLineWidth,e.lineCap=r.getLineCap()||Kl.defaultLineCap,e.lineDashOffset=r.getLineDashOffset()||Kl.defaultLineDashOffset,e.lineJoin=r.getLineJoin()||Kl.defaultLineJoin,e.miterLimit=r.getMiterLimit()||Kl.defaultMiterLimit;var a=r.getLineDash();e.lineDash=a?a.slice():Kl.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||Kl.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var s=dl.TEXT_ALIGN[t.getTextAlign()],l=dl.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===s?Kl.defaultTextAlign:s,this.textBaseline_=void 0===l?Kl.defaultTextBaseline:l,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},ku.prototype.getAtlas_=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?n=n.concat(t[e]):n.push(t[e]));var r=this.calculateHash_(n);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=t.font;var o=Math.ceil((1.5*i.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[r]={atlas:new Ru({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[r]},ku.prototype.calculateHash_=function(t){var e,n,r="";for(e=0,n=t.length;e<n;++e)r+=t[e];return r},ku.prototype.getTextures=function(t){return this.textures_},ku.prototype.getHitDetectionTextures=function(){return this.textures_};const Du=ku;var Iu=function(t,e,n){Xs.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=n,this.replaysByZIndex_={}};Ut.inherits(Iu,Xs),Iu.prototype.addDeclutter=function(t,e){},Iu.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var r,i=this.replaysByZIndex_[e];for(r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=n.length,r=0;r<e;r++)t=n[r].apply(this,arguments);return t}},Iu.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n,r=this.replaysByZIndex_[e];for(n in r)r[n].finish(t)}},Iu.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,Iu.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),r[e]=i),i},Iu.prototype.isEmpty=function(){return Vt.isEmpty(this.replaysByZIndex_)},Iu.prototype.replay=function(t,e,n,r,i,o,a,s){var l,u,c,f,h,p,d=Object.keys(this.replaysByZIndex_).map(Number);for(d.sort(lr.numberSafeCompareFunction),l=0,u=d.length;l<u;++l)for(h=this.replaysByZIndex_[d[l].toString()],c=0,f=dl.ORDER.length;c<f;++c)void 0!==(p=h[dl.ORDER[c]])&&p.replay(t,e,n,r,i,o,a,s,void 0,!1)},Iu.prototype.replayHitDetection_=function(t,e,n,r,i,o,a,s,l,u,c){var f,h,p,d,y,g,v=Object.keys(this.replaysByZIndex_).map(Number);for(v.sort((function(t,e){return e-t})),f=0,h=v.length;f<h;++f)for(d=this.replaysByZIndex_[v[f].toString()],p=dl.ORDER.length-1;p>=0;--p)if(void 0!==(y=d[dl.ORDER[p]])&&(g=y.replay(t,e,n,r,i,o,a,s,l,u,c)))return g},Iu.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l,u){var c,f=e.getGL();return f.bindFramebuffer(f.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(c=Re.buffer(Re.createOrUpdateFromCoordinate(t),r*this.renderBuffer_)),this.replayHitDetection_(e,t,r,i,Iu.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);if(f.readPixels(0,0,1,1,f.RGBA,f.UNSIGNED_BYTE,e),e[3]>0){var n=u(t);if(n)return n}}),!0,c)},Iu.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,r,i,Iu.HIT_DETECTION_SIZE_,a,s,l,(function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0}),!1)},Iu.HIT_DETECTION_SIZE_=[1,1],Iu.BATCH_CONSTRUCTORS_={Circle:$l,Image:cu,LineString:gu,Polygon:Cu,Text:Du};const Lu=Iu;var Mu=function(t,e,n,r,i,o,a){Es.call(this),this.context_=t,this.center_=e,this.extent_=o,this.pixelRatio_=a,this.size_=i,this.rotation_=r,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};Ut.inherits(Mu,Es),Mu.prototype.drawText_=function(t,e){var n=this.context_,r=t.getReplay(0,Js);r.setTextStyle(this.textStyle_),r.drawText(e,null),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)()},Mu.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},Mu.prototype.drawGeometry=function(t){switch(t.getType()){case Me:this.drawPoint(t,null);break;case je:this.drawLineString(t,null);break;case Fe:this.drawPolygon(t,null);break;case Ne:this.drawMultiPoint(t,null);break;case Ue:this.drawMultiLineString(t,null);break;case Be:this.drawMultiPolygon(t,null);break;case ze:this.drawGeometryCollection(t,null);break;case We:this.drawCircle(t,null)}},Mu.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Re.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},Mu.prototype.drawGeometryCollection=function(t,e){var n,r,i=t.getGeometriesArray();for(n=0,r=i.length;n<r;++n)this.drawGeometry(i[n])},Mu.prototype.drawPoint=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Ks);i.setImageStyle(this.imageStyle_),i.drawPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawMultiPoint=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Ks);i.setImageStyle(this.imageStyle_),i.drawMultiPoint(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawLineString=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Zs);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawMultiLineString=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Zs);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawMultiLineString(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawPolygon=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Qs);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawMultiPolygon=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,Qs);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawMultiPolygon(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.drawCircle=function(t,e){var n=this.context_,r=new Lu(1,this.extent_),i=r.getReplay(0,qs);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawCircle(t,e),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mu.prototype.setImageStyle=function(t){this.imageStyle_=t},Mu.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},Mu.prototype.setTextStyle=function(t){this.textStyle_=t};const ju=Mu;var Au={};Au.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Au.vertex=new zl(Ut.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");const Fu=Au,Nu=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_texCoord":"c")};var Uu=function(t,e){Ps.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new Ql([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=un.create(),this.projectionMatrix=un.create(),this.tmpMat4_=Hl.create(),this.defaultLocations_=null};Ut.inherits(Uu,Ps),Uu.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var r=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(r);var i=au.createEmptyTexture(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(xn.FRAMEBUFFER,o),n.framebufferTexture2D(xn.FRAMEBUFFER,xn.COLOR_ATTACHMENT0,xn.TEXTURE_2D,i,0),this.texture=i,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(xn.FRAMEBUFFER,this.framebuffer)},Uu.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(gi,n,t),n.bindBuffer(xn.ARRAY_BUFFER,this.arrayBuffer_);var r,i=n.getGL(),o=Fu.fragment,a=Fu.vertex,s=n.getProgram(o,a);this.defaultLocations_?r=this.defaultLocations_:(r=new Nu(i,s),this.defaultLocations_=r),n.useProgram(s)&&(i.enableVertexAttribArray(r.a_position),i.vertexAttribPointer(r.a_position,2,xn.FLOAT,!1,16,0),i.enableVertexAttribArray(r.a_texCoord),i.vertexAttribPointer(r.a_texCoord,2,xn.FLOAT,!1,16,8),i.uniform1i(r.u_texture,0)),i.uniformMatrix4fv(r.u_texCoordMatrix,!1,Hl.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),i.uniformMatrix4fv(r.u_projectionMatrix,!1,Hl.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),i.uniform1f(r.u_opacity,e.opacity),i.bindTexture(xn.TEXTURE_2D,this.getTexture()),i.drawArrays(xn.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(yi,n,t)},Uu.prototype.dispatchComposeEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=n.viewState,o=i.resolution,a=n.pixelRatio,s=n.extent,l=i.center,u=i.rotation,c=n.size,f=new ju(e,l,o,u,c,s,a),h=new bs(t,f,n,null,e);r.dispatchEvent(h)}},Uu.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},Uu.prototype.getTexture=function(){return this.texture},Uu.prototype.getProjectionMatrix=function(){return this.projectionMatrix},Uu.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},Uu.prototype.prepareFrame=function(t,e,n){},Uu.prototype.forEachLayerAtPixel=function(t,e,n,r){};const Bu=Uu;var zu=function(t,e){Bu.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};Ut.inherits(zu,Bu),zu.handles=function(t,e){return t===ns&&e.getType()===ni},zu.create=function(t,e){return new zu(t,e)},zu.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return au.createTexture(n,e,xn.CLAMP_TO_EDGE,xn.CLAMP_TO_EDGE)},zu.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,l=e.viewState.rotation,u=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,l,n,u,(function(t){return r.call(i,t,o)}))},zu.prototype.prepareFrame=function(t,e,n){var r=this.mapRenderer.getGL(),i=t.pixelRatio,o=t.viewState,a=o.center,s=o.resolution,l=o.rotation,u=this.image_,c=this.texture,f=this.getLayer().getSource(),h=t.viewHints,p=t.extent;if(void 0!==e.extent&&(p=Re.getIntersection(p,e.extent)),!h[ho]&&!h[po]&&!Re.isEmpty(p)){var d=o.projection;if(!Ut.ENABLE_RASTER_REPROJECTION){var y=f.getProjection();y&&(d=y)}var g=f.getImage(p,s,i,d);if(g&&this.loadImage(g)&&(u=g,c=this.createTexture_(g),this.texture)){var v=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture);t.postRenderFunctions.push(v)}}if(u){var m=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(m.width,m.height,i,a,s,l,u.getExtent()),this.hitTransformationMatrix_=null;var _=this.texCoordMatrix;un.reset(_),un.scale(_,1,-1),un.translate(_,0,-1),this.image_=u,this.texture=c,this.updateLogos(t,f)}return!!u},zu.prototype.updateProjectionMatrix_=function(t,e,n,r,i,o,a){var s=t*i,l=e*i,u=this.projectionMatrix;un.reset(u),un.scale(u,2*n/s,2*n/l),un.rotate(u,-o),un.translate(u,a[0]-r[0],a[1]-r[1]),un.scale(u,(a[2]-a[0])/2,(a[3]-a[1])/2),un.translate(u,1,1)},zu.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,ke.TRUE,this)},zu.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==Ut.nullFunction){var i=un.apply(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(i,e,0,ke.TRUE,this)?n.call(r,this.getLayer(),null):void 0}var o=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,o));var a=un.apply(this.hitTransformationMatrix_,t.slice());if(!(a[0]<0||a[0]>o[0]||a[1]<0||a[1]>o[1])){this.hitCanvasContext_||(this.hitCanvasContext_=_n.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?n.call(r,this.getLayer(),s):void 0}}},zu.prototype.getHitTransformationMatrix_=function(t,e){var n=un.create();un.translate(n,-1,-1),un.scale(n,2/t[0],2/t[1]),un.translate(n,0,t[1]),un.scale(n,1,-1);var r=un.invert(this.projectionMatrix.slice()),i=un.create();return un.translate(i,0,e[1]),un.scale(i,1,-1),un.scale(i,e[0]/2,e[1]/2),un.translate(i,1,1),un.multiply(i,r),un.multiply(i,n),i};const Wu=zu;var Gu=function(t,e){Ns.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=kn.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=_n.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=xn.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new au(this.canvas_,this.gl_),Xt.listen(this.canvas_,ru,this.handleWebGLContextLost,this),Xt.listen(this.canvas_,iu,this.handleWebGLContextRestored,this),this.textureCache_=new In,this.focus_=null,this.tileTextureQueue_=new Na(function(t){var e=t[1],n=t[2],r=e[0]-this.focus_[0],i=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(r*r+i*i)/n}.bind(this),(function(t){return t[0].getKey()})),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),r=n[0],i=n[3],o=n[4];this.bindTileTexture(r,i,o,xn.LINEAR,xn.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};Ut.inherits(Gu,Ns),Gu.handles=function(t){return Sn.WEBGL&&t===ns},Gu.create=function(t,e){return new Gu(t,e)},Gu.prototype.bindTileTexture=function(t,e,n,r,i){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(xn.TEXTURE_2D,s.texture),s.magFilter!=r&&(o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_MAG_FILTER,r),s.magFilter=r),s.minFilter!=i&&(o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_MIN_FILTER,i),s.minFilter=i)}else{var l=o.createTexture();if(o.bindTexture(xn.TEXTURE_2D,l),n>0){var u=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):c.clearRect(0,0,e[0],e[1]),c.drawImage(t.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(xn.TEXTURE_2D,0,xn.RGBA,xn.RGBA,xn.UNSIGNED_BYTE,u)}else o.texImage2D(xn.TEXTURE_2D,0,xn.RGBA,xn.RGBA,xn.UNSIGNED_BYTE,t.getImage());o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_MAG_FILTER,r),o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_MIN_FILTER,i),o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_WRAP_S,xn.CLAMP_TO_EDGE),o.texParameteri(xn.TEXTURE_2D,xn.TEXTURE_WRAP_T,xn.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:r,minFilter:i})}},Gu.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=this.context_,i=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,c=a.rotation,f=new ju(r,u,l,c,o,i,s),h=new bs(t,f,e,null,r);n.dispatchEvent(h)}},Gu.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach((function(e){e&&t.deleteTexture(e.texture)})),this.context_.dispose(),Ns.prototype.disposeInternal.call(this)},Gu.prototype.expireCache_=function(t,e){for(var n,r=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>Ut.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(n=this.textureCache_.peekLast())r.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},Gu.prototype.getContext=function(){return this.context_},Gu.prototype.getGL=function(){return this.gl_},Gu.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},Gu.prototype.getType=function(){return ns},Gu.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},Gu.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},Gu.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(xn.TEXTURE0),t.blendFuncSeparate(xn.SRC_ALPHA,xn.ONE_MINUS_SRC_ALPHA,xn.ONE,xn.ONE_MINUS_SRC_ALPHA),t.disable(xn.CULL_FACE),t.disable(xn.DEPTH_TEST),t.disable(xn.SCISSOR_TEST),t.disable(xn.STENCIL_TEST)},Gu.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},Gu.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(gi,t);var r=[],i=t.layerStatesArray;lr.stableSort(i,Ns.sortByZIndex);var o,a,s,l=t.viewState.resolution;for(o=0,a=i.length;o<a;++o)s=i[o],xi.visibleAtResolution(s,l)&&s.sourceState==_i&&this.getLayerRenderer(s.layer).prepareFrame(t,s,e)&&r.push(s);var u=t.size[0]*t.pixelRatio,c=t.size[1]*t.pixelRatio;for(this.canvas_.width==u&&this.canvas_.height==c||(this.canvas_.width=u,this.canvas_.height=c),n.bindFramebuffer(xn.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(xn.COLOR_BUFFER_BIT),n.enable(xn.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,a=r.length;o<a;++o)s=r[o],this.getLayerRenderer(s.layer).composeFrame(t,s,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>Ut.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(yi,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},Gu.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,c=e.layerStatesArray;for(l=c.length-1;l>=0;--l){var f=c[l],h=f.layer;if(xi.visibleAtResolution(f,u.resolution)&&o.call(a,h)&&(s=this.getLayerRenderer(h).forEachFeatureAtCoordinate(t,e,n,r,i)))return s}},Gu.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],c=u.layer;if(xi.visibleAtResolution(u,s.resolution)&&r.call(i,c)&&(o=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e)))return!0}return o},Gu.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){if(this.getGL().isContextLost())return!1;var a,s,l=e.viewState,u=e.layerStatesArray;for(s=u.length-1;s>=0;--s){var c=u[s],f=c.layer;if(xi.visibleAtResolution(c,l.resolution)&&i.call(r,f)&&(a=this.getLayerRenderer(f).forEachLayerAtPixel(t,e,n,r)))return a}};const Vu=Gu;var Hu={};Hu.fragment=new Ul(Ut.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Hu.vertex=new zl(Ut.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");const Xu=Hu,qu=function(t,e){this.u_tileOffset=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,Ut.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,Ut.DEBUG_WEBGL?"a_texCoord":"c")};var Yu=function(t,e){Bu.call(this,t,e),this.fragmentShader_=Xu.fragment,this.vertexShader_=Xu.vertex,this.locations_=null,this.renderArrayBuffer_=new Ql([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};Ut.inherits(Yu,Bu),Yu.handles=function(t,e){return t===ns&&e.getType()===ri},Yu.create=function(t,e){return new Yu(t,e)},Yu.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),Bu.prototype.disposeInternal.call(this)},Yu.prototype.createLoadedTileFinder=function(t,e,n){var r=this.mapRenderer;return function(i,o){return t.forEachLoadedTile(e,i,o,(function(t){var e=r.isTileTextureLoaded(t);return e&&(n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t),e}))}},Yu.prototype.handleWebGLContextLost=function(){Bu.prototype.handleWebGLContextLost.call(this),this.locations_=null},Yu.prototype.prepareFrame=function(t,e,n){var r,i=this.mapRenderer,o=n.getGL(),a=t.viewState,s=a.projection,l=this.getLayer(),u=l.getSource(),c=u.getTileGridForProjection(s),f=c.getZForResolution(a.resolution),h=c.getResolution(f),p=u.getTilePixelSize(f,t.pixelRatio,s),d=p[0]/Fi.toSize(c.getTileSize(f),this.tmpSize_)[0],y=h/d,g=u.getTilePixelRatio(d)*u.getGutter(s),v=a.center,m=t.extent,_=c.getTileRangeForExtentAndZ(m,f);if(this.renderedTileRange_&&this.renderedTileRange_.equals(_)&&this.renderedRevision_==u.getRevision())r=this.renderedFramebufferExtent_;else{var b=_.getSize(),x=Math.max(b[0]*p[0],b[1]*p[1]),E=Le.roundUpToPowerOfTwo(x),w=y*E,S=c.getOrigin(f),C=S[0]+_.minX*p[0]*y,P=S[1]+_.minY*p[1]*y;r=[C,P,C+w,P+w],this.bindFramebuffer(t,E),o.viewport(0,0,E,E),o.clearColor(0,0,0,0),o.clear(xn.COLOR_BUFFER_BIT),o.disable(xn.BLEND);var O=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(O),this.locations_||(this.locations_=new qu(o,O)),n.bindBuffer(xn.ARRAY_BUFFER,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,xn.FLOAT,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,xn.FLOAT,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var T={};T[f]={};var R,k,D,I,L,M,j=this.createLoadedTileFinder(u,s,T),A=l.getUseInterimTilesOnError(),F=!0,N=Re.createEmpty(),U=new ji(0,0,0,0);for(I=_.minX;I<=_.maxX;++I)for(L=_.minY;L<=_.maxY;++L)if(k=u.getTile(f,I,L,d,s),void 0===e.extent||(M=c.getTileCoordExtent(k.tileCoord,N),Re.intersects(M,e.extent))){if((D=k.getState())==La||D==ja||D==Ma&&!A||(k=k.getInterimTile()),(D=k.getState())==La){if(i.isTileTextureLoaded(k)){T[f][k.tileCoord.toString()]=k;continue}}else if(D==ja||D==Ma&&!A)continue;F=!1,c.forEachTileCoordParentTileRange(k.tileCoord,j,null,U,N)||(R=c.getTileCoordChildTileRange(k.tileCoord,U,N))&&j(f+1,R)}var B=Object.keys(T).map(Number);B.sort(lr.numberSafeCompareFunction);var z,W,G,V,H=new Float32Array(4);for(z=0,W=B.length;z<W;++z)for(G in V=T[B[z]])k=V[G],M=c.getTileCoordExtent(k.tileCoord,N),H[0]=2*(M[2]-M[0])/w,H[1]=2*(M[3]-M[1])/w,H[2]=2*(M[0]-r[0])/w-1,H[3]=2*(M[1]-r[1])/w-1,o.uniform4fv(this.locations_.u_tileOffset,H),i.bindTileTexture(k,p,g*d,xn.LINEAR,xn.LINEAR),o.drawArrays(xn.TRIANGLE_STRIP,0,4);F?(this.renderedTileRange_=_,this.renderedFramebufferExtent_=r,this.renderedRevision_=u.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,u,f,_);var X=i.getTileTextureQueue();this.manageTilePyramid(t,u,c,d,s,m,f,l.getPreload(),(function(t){t.getState()!=La||i.isTileTextureLoaded(t)||X.isKeyQueued(t.getKey())||X.enqueue([t,c.getTileCoordCenter(t.tileCoord),c.getResolution(t.tileCoord[0]),p,g*d])}),this),this.scheduleExpireCache(t,u),this.updateLogos(t,u);var q=this.texCoordMatrix;return un.reset(q),un.translate(q,(Math.round(v[0]/h)*h-r[0])/(r[2]-r[0]),(Math.round(v[1]/h)*h-r[1])/(r[3]-r[1])),0!==a.rotation&&un.rotate(q,a.rotation),un.scale(q,t.size[0]*a.resolution/(r[2]-r[0]),t.size[1]*a.resolution/(r[3]-r[1])),un.translate(q,-.5,-.5),!0},Yu.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.framebuffer){var i=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=un.apply(this.texCoordMatrix,i.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?n.call(r,this.getLayer(),l):void 0}};const Ku=Yu;var Zu=function(t,e){Bu.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Re.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};Ut.inherits(Zu,Bu),Zu.handles=function(t,e){return t===ns&&e.getType()===oi},Zu.create=function(t,e){return new Zu(t,e)},Zu.prototype.composeFrame=function(t,e,n){this.layerState_=e;var r=t.viewState,i=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();i&&!i.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),i.replay(n,r.center,r.resolution,r.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},Zu.prototype.disposeInternal=function(){var t=this.replayGroup_;if(t){var e=this.mapRenderer.getContext();t.getDeleteResourcesFunction(e)(),this.replayGroup_=null}Bu.prototype.disposeInternal.call(this)},Zu.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),a=e.viewState,s=this.getLayer(),l=this.layerState_,u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a.center,a.resolution,a.rotation,e.size,e.pixelRatio,l.opacity,{},(function(t){var e=Ut.getUid(t).toString();if(!(e in u))return u[e]=!0,r.call(i,t,s)}))}},Zu.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),r=e.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,i.opacity,e.skippedFeatureUids)}return!1},Zu.prototype.forEachLayerAtPixel=function(t,e,n,r){var i=un.apply(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(i,e)?n.call(r,this.getLayer(),null):void 0},Zu.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Zu.prototype.prepareFrame=function(t,e,n){var r=this.getLayer(),i=r.getSource();this.updateLogos(t,i);var o=t.viewHints[ho],a=t.viewHints[po],s=r.getUpdateWhileAnimating(),l=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return!0;var u=t.extent,c=t.viewState,f=c.projection,h=c.resolution,p=t.pixelRatio,d=r.getRevision(),y=r.getRenderBuffer(),g=r.getRenderOrder();void 0===g&&(g=kl.defaultOrder);var v=Re.buffer(u,y*h);if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&Re.containsExtent(this.renderedExtent_,v))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var m=new Lu(kl.getTolerance(h,p),v,r.getRenderBuffer());i.loadFeatures(v,h,f);var _=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,h):(n=r.getStyleFunction())&&(e=n(t,h)),e){var i=this.renderFeature(t,h,p,e,m);this.dirty_=this.dirty_||i}};if(g){var b=[];i.forEachFeatureInExtent(v,(function(t){b.push(t)}),this),b.sort(g),b.forEach(_,this)}else i.forEachFeatureInExtent(v,_,this);return m.finish(n),this.renderedResolution_=h,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.replayGroup_=m,!0},Zu.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=r.length-1;a>=0;--a)o=kl.renderFeature(i,t,r[a],kl.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=kl.renderFeature(i,t,r,kl.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;return o};const Qu=Zu;Ut.ENABLE_CANVAS&&(ts.register(Qa,Bs),ts.registerMultiple(Ja,[Is,Ws,Il,jl])),Ut.ENABLE_WEBGL&&(ts.register(Qa,Vu),ts.registerMultiple(Ja,[Wu,Ku,Qu]));var Ju=function(t){(t=Vt.assign({},t)).controls||(t.controls=ds.defaults()),t.interactions||(t.interactions=ta.defaults()),is.call(this,t)};Ut.inherits(Ju,is);const $u=Ju;var tc=function(t){var e=t||{},n=Vt.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,xi.call(this,n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.renderMode_=e.renderMode||ms,this.type=oi};Ut.inherits(tc,xi),tc.prototype.getDeclutter=function(){return this.declutter_},tc.prototype.setDeclutter=function(t){this.declutter_=t},tc.prototype.getRenderBuffer=function(){return this.renderBuffer_},tc.prototype.getRenderOrder=function(){return this.get(tc.Property_.RENDER_ORDER)},tc.prototype.getSource,tc.prototype.getStyle=function(){return this.style_},tc.prototype.getStyleFunction=function(){return this.styleFunction_},tc.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},tc.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},tc.prototype.setRenderOrder=function(t){this.set(tc.Property_.RENDER_ORDER,t)},tc.prototype.setStyle=function(t){this.style_=void 0!==t?t:Yn.defaultFunction,this.styleFunction_=null===t?void 0:Yn.createFunction(this.style_),this.changed()},tc.prototype.getRenderMode=function(){return this.renderMode_},tc.Property_={RENDER_ORDER:"renderOrder"};const ec=tc;var nc={};nc.DOCUMENT=document.implementation.createDocument("","",null),nc.createElementNS=function(t,e){return nc.DOCUMENT.createElementNS(t,e)},nc.getAllTextContent=function(t,e){return nc.getAllTextContent_(t,e,[]).join("")},nc.getAllTextContent_=function(t,e,n){var r;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(r=t.firstChild;r;r=r.nextSibling)nc.getAllTextContent_(r,e,n);return n},nc.isDocument=function(t){return t instanceof Document},nc.isNode=function(t){return t instanceof Node},nc.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},nc.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},nc.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},nc.makeArrayExtender=function(t,e){return function(n,r){var i=t.call(e,n,r);if(void 0!==i){var o=r[r.length-1];lr.extend(o,i)}}},nc.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},nc.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},nc.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName;(s in a?a[s]:a[s]=[]).push(o)}}},nc.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},nc.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},nc.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=nc.makeSimpleNodeFactory(e.localName)}nc.serialize(n,r,i,o)}},nc.makeSimpleNodeFactory=function(t,e){var n=t;return function(t,r,i){var o=r[r.length-1].node,a=n;void 0===a&&(a=i);var s=e;return void 0===e&&(s=o.namespaceURI),nc.createElementNS(s,a)}},nc.OBJECT_PROPERTY_NODE_FACTORY=nc.makeSimpleNodeFactory(),nc.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},nc.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},nc.parseNode=function(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}},nc.pushParseAndPop=function(t,e,n,r,i){return r.push(t),nc.parseNode(e,n,r,i),r.pop()},nc.serialize=function(t,e,n,r,i,o){for(var a,s,l=(void 0!==i?i:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&void 0!==(s=e.call(o,a,r,void 0!==i?i[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)},nc.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),nc.serialize(e,n,r,i,o,a),i.pop()};const rc=nc;var ic={loadFeaturesXhr:function(t,e,n,r){return function(i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,o,a):t,!0),e.getType()==$n&&(s.responseType="arraybuffer"),s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var i,o=e.getType();o==tr||o==er?i=s.responseText:o==nr?(i=s.responseXML)||(i=rc.parse(s.responseText)):o==$n&&(i=s.response),i?n.call(this,e.readFeatures(i,{featureProjection:a}),e.readProjection(i),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),s.onerror=function(){r.call(this)}.bind(this),s.send()}},xhr:function(t,e){return ic.loadFeaturesXhr(t,e,(function(t,e){this.addFeatures(t)}),Ut.nullFunction)}};const oc=ic;const ac={all:function(t,e){return[[-1/0,-1/0,1/0,1/0]]},bbox:function(t,e){return[t]},tile:function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},sc="addfeature",lc="changefeature",uc="clear",cc="removefeature";var fc=function(t){var e=t||{};qi.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:_i,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=Ut.nullFunction,this.format_=e.format,this.overlaps_=null==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(Wt.assert(this.format_,7),this.loader_=oc.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:ac.all;var n,r,i=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=i?new wu:null,this.loadedExtentsRtree_=new wu,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,e.features instanceof eo?r=(n=e.features).getArray():Array.isArray(e.features)&&(r=e.features),i||void 0!==n||(n=new eo(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)};Ut.inherits(fc,qi),fc.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},fc.prototype.addFeatureInternal=function(t){var e=Ut.getUid(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new fc.Event(sc,t))}},fc.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Xt.listen(e,qt,this.handleFeatureChange_,this),Xt.listen(e,se,this.handleFeatureChange_,this)]},fc.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e:(Wt.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},fc.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},fc.prototype.addFeaturesInternal=function(t){var e,n,r,i,o=[],a=[],s=[];for(n=0,r=t.length;n<r;n++)i=t[n],e=Ut.getUid(i).toString(),this.addToIndex_(e,i)&&a.push(i);for(n=0,r=a.length;n<r;n++){i=a[n],e=Ut.getUid(i).toString(),this.setupChangeEvents_(e,i);var l=i.getGeometry();if(l){var u=l.getExtent();o.push(u),s.push(i)}else this.nullGeometryFeatures_[e]=i}for(this.featuresRtree_&&this.featuresRtree_.load(o,s),n=0,r=a.length;n<r;n++)this.dispatchEvent(new fc.Event(sc,a[n]))},fc.prototype.bindFeaturesCollection_=function(t){var e=!1;Xt.listen(this,sc,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),Xt.listen(this,cc,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),Xt.listen(t,Ji,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),Xt.listen(t,$i,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},fc.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Xt.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new fc.Event(uc);this.dispatchEvent(r),this.changed()},fc.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},fc.prototype.forEachFeatureAtCoordinateDirect=function(t,e,n){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(t)?e.call(n,r):void 0}))},fc.prototype.forEachFeatureInExtent=function(t,e,n){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,n):this.featuresCollection_?this.featuresCollection_.forEach(e,n):void 0},fc.prototype.forEachFeatureIntersectingExtent=function(t,e,n){return this.forEachFeatureInExtent(t,(function(r){if(r.getGeometry().intersectsExtent(t)){var i=e.call(n,r);if(i)return i}}))},fc.prototype.getFeaturesCollection=function(){return this.featuresCollection_},fc.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Vt.isEmpty(this.nullGeometryFeatures_)||lr.extend(t,Vt.getValues(this.nullGeometryFeatures_))),t},fc.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},fc.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},fc.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||ke.TRUE;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,r,o,a))<u){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},fc.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},fc.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},fc.prototype.getFormat=function(){return this.format_},fc.prototype.getOverlaps=function(){return this.overlaps_},fc.prototype.getResolutions=function(){},fc.prototype.getUrl=function(){return this.url_},fc.prototype.handleFeatureChange_=function(t){var e=t.target,n=Ut.getUid(e).toString(),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new fc.Event(lc,e))},fc.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Vt.isEmpty(this.nullGeometryFeatures_)},fc.prototype.loadFeatures=function(t,e,n){var r,i,o=this.loadedExtentsRtree_,a=this.strategy_(t,e);for(r=0,i=a.length;r<i;++r){var s=a[r],l=o.forEachInExtent(s,(function(t){return Re.containsExtent(t.extent,s)}));l||(this.loader_.call(this,s,e,n),o.insert(s,{extent:s.slice()}))}},fc.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Re.equals(n.extent,t))return e=n,!0})),e&&n.remove(e)},fc.prototype.removeFeature=function(t){var e=Ut.getUid(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},fc.prototype.removeFeatureInternal=function(t){var e=Ut.getUid(t).toString();this.featureChangeKeys_[e].forEach(Xt.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new fc.Event(cc,t))},fc.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},fc.prototype.setLoader=function(t){this.loader_=t},fc.Event=function(t,e){fe.call(this,t),this.feature=e},Ut.inherits(fc.Event,fe);const hc=fc;function pc(t){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(t)}function dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yc(t,e){return yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yc(t,e)}function gc(t,e){if(e&&("object"===pc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vc(t){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vc(t)}var mc=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yc(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vc(i);if(o){var n=vc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gc(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).map=void 0,e.mapId="image-player-"+Math.random().toString(16).slice(2),e}return n=s,r=[{key:"styleFunction",value:function(t){this.styles||(this.styles={Polygon:[new Yn({stroke:new Xn({color:"#ffffff",width:4}),fill:new Vn({color:"rgba(255,255,255,0)"})}),new Yn({stroke:new Xn({color:"#905050",width:2})})],Point:[new Yn({image:new Wn({radius:6,fill:null,stroke:new Xn({color:"#ffffff",width:4})})}),new Yn({image:new Wn({radius:6,fill:null,stroke:new Xn({color:"#905050",width:2})})})]});var e=t.getGeometry().getType();return this.styles[e]}},{key:"objectProportioned",value:function(){var t={w:180,h:90},e=this.props.width||180,n=this.props.height||90;return e/2>n?t.h=Math.ceil(180*n/e):t.w=Math.ceil(90*e/n),[-t.w,-t.h,t.w,t.h]}},{key:"zoomToExtent",value:function(t){this.map.getView().fit(t,this.map.getSize())}},{key:"center",value:function(t,e){this.map.getView().setCenter([t,e])}},{key:"zoom",value:function(t){this.map.getView().setZoom(t)}},{key:"hasFeature",value:function(t){return Object.prototype.hasOwnProperty.call(t,"feature")||Object.prototype.hasOwnProperty.call(t,"geometry")||Object.prototype.hasOwnProperty.call(t,"xywh")}},{key:"addVectorLayer",value:function(t,e,n){var r=new ei({dataProjection:e,featureProjection:e}).readFeature(n),i=new ec({title:"annotation",source:new hc({features:[r]}),style:this.styleFunction(r)});this.map.addLayer(i);var o=r.getGeometry().getExtent();if(n.zoom){var a=Re.getCenter(o);this.center(a[0],a[1]),this.zoom(n.zoom)}else this.zoomToExtent(e.getExtent())}},{key:"addImageLayer",value:function(t,e,n){var r=new wi({source:new Qi({url:this.props.url,projection:e,imageExtent:n})});this.map.addLayer(r)}},{key:"initializeMap",value:function(){var t=this.objectProportioned(),e=new Ze({units:"pixels",extent:t});this.map=new $u({interactions:ta.defaults({mouseWheelZoom:!1}),controls:[],target:this.mapId,view:new Ya({projection:e})}),this.addImageLayer(this.props,e,t);var n=null;if(this.props.annotationData){try{n=JSON.parse(this.props.annotationData)}catch(t){return void console.error("Can't parse image annotation JSON",t)}if(!n)return void console.error("Can't parse image annotation JSON");n.type="Feature"}n&&this.hasFeature(n)?this.addVectorLayer(this.props,e,n):n&&void 0!==n.x?(this.center(n.x,n.y),this.zoom(n.zoom-.5)):this.zoomToExtent(t)}},{key:"shouldComponentUpdate",value:function(t){return void 0===this.map&&!t.hidden||this.props.annotationData!==t.annotationData||this.props.hidden!==t.hidden}},{key:"render",value:function(){var e=this.props.hidden?"none":"block";return t.createElement("div",{id:this.mapId,className:"image-player",style:{display:e}})}},{key:"componentDidUpdate",value:function(){this.map&&(this.map.setTarget(null),delete this.map),this.props.hidden||this.initializeMap()}}],r&&dc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function _c(t){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xc(t,e){return xc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xc(t,e)}function Ec(t,e){if(e&&("object"===_c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wc(t)}mc.propTypes={annotationData:i().string,height:i().number,hidden:i().bool.isRequired,url:i().string.isRequired,width:i().number};var Sc=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xc(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wc(i);if(o){var n=wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ec(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).className="jux-media-video",e.players=[],e.mediaPlayerNodes=[],e}return n=s,(r=[{key:"componentDidUpdate",value:function(t){this.generatePlayers(t.data)}},{key:"isElementShowing",value:function(t){return this.props.time>=t.start_time&&this.props.time<=t.end_time}},{key:"generatePlayers",value:function(e){var n=this;this.players=[],this.mediaPlayerNodes=[];for(var r=0;r<e.length;r++){var i=e[r],o=this.isElementShowing(i);"img"===i.type?this.players.push(t.createElement(mc,{key:r,url:i.source,width:i.width,height:i.height,hidden:!o,annotationData:i.annotationData})):this.players.push(t.createElement(Ft,{ref:function(t){return n.mediaPlayerNodes.push(t)},key:r,data:i,sequenceDuration:this.props.duration,time:this.props.time,hidden:!o,playing:this.props.playing}))}}},{key:"render",value:function(){if(this.props.data.length<1){var e=F(this.props.instructions);return t.createElement("div",{className:"jux-media-display"},t.createElement("div",{className:"help-text"},t.createElement("h2",null,"Place secondary elements"),t.createElement("p",{className:"instructions"},"Click the tracks below to place",t.createElement("br",null),t.createElement("span",{className:"media-track-icon "}),"media and",t.createElement("span",{className:"text-track-icon"}),"text elements.",t.createElement("br",null),t.createElement("br",null),e)))}return t.createElement("div",{className:"jux-media-display"},this.players)}},{key:"seekTo",value:function(t){this.mediaPlayerNodes.forEach((function(e){e&&e.seekTo&&e.seekTo(t)}))}}])&&bc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Cc(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Pc(){return Pc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}Sc.propTypes={data:i().array.isRequired,duration:i().number,instructions:i().string.isRequired,playing:i().bool.isRequired,time:i().number};var Oc=n(4184),Tc=n.n(Oc);const Rc=!("undefined"==typeof window||!window.document||!window.document.createElement);var kc=!1,Dc=!1;try{var Ic={get passive(){return kc=!0},get once(){return Dc=kc=!0}};Rc&&(window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,!0))}catch(t){}const Lc=function(t,e,n,r){if(r&&"boolean"!=typeof r&&!Dc){var i=r.once,o=r.capture,a=n;!Dc&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,kc?r:o)}t.addEventListener(e,n,r)};function Mc(t){return t&&t.ownerDocument||document}const jc=function(t,e,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var Ac;function Fc(t){if((!Ac&&0!==Ac||t)&&Rc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ac=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ac}function Nc(e){var n=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function Uc(e){var n,r,i=(n=e,(r=(0,t.useRef)(n)).current=n,r);(0,t.useEffect)((function(){return function(){return i.current()}}),[])}var Bc=/([A-Z])/g,zc=/^ms-/;function Wc(t){return function(t){return t.replace(Bc,"-$1").toLowerCase()}(t).replace(zc,"-ms-")}var Gc=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Vc=function(t,e){var n="",r="";if("string"==typeof e)return t.style.getPropertyValue(Wc(e))||function(t,e){return function(t){var e=Mc(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}(t).getPropertyValue(Wc(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?function(t){return!(!t||!Gc.test(t))}(i)?r+=i+"("+o+") ":n+=Wc(i)+": "+o+";":t.style.removeProperty(Wc(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n},Hc=function(t,e,n,r){return Lc(t,e,n,r),function(){jc(t,e,n,r)}};function Xc(t,e,n,r){var i,o;null==n&&(o=-1===(i=Vc(t,"transitionDuration")||"").indexOf("ms")?1e3:1,n=parseFloat(i)*o||0);var a=function(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent("transitionend",n,r),t.dispatchEvent(i)}}(t,0,!0)}),e+n),o=Hc(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}(t,n,r),s=Hc(t,"transitionend",e);return function(){a(),s()}}function qc(t){void 0===t&&(t=Mc());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function Yc(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function Kc(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Zc(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Qc(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=Zc(t.className,e):t.setAttribute("class",Zc(t.className&&t.className.baseVal||"",e))}function Jc(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function $c(t){var e;return Jc(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=Jc(t)?Mc():Mc(t),n=Jc(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}(t):t.scrollHeight>t.clientHeight}var tf=["template","script","style"],ef=function(t,e,n){[].forEach.call(t.children,(function(t){var r,i,o;-1===e.indexOf(t)&&(i=(r=t).nodeType,o=r.tagName,1===i&&-1===tf.indexOf(o.toLowerCase()))&&n(t)}))};function nf(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}var rf=function(){function t(t){var e=void 0===t?{}:t,n=e.hideSiblingNodes,r=void 0===n||n,i=e.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=Fc()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(t,e){return!!n(t)&&(r=e,!0)})),r;var e,n,r},e.setContainerStyle=function(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt(Vc(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Vc(e,n)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,n){var r=this.modals.indexOf(t),i=this.containers.indexOf(e);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;ef(t,[n,r],(function(t){return nf(!0,t)}))}(e,t),-1!==i)return this.data[i].modals.push(t),r;var o={modals:[t],classes:n?n.split(/\s+/):[],overflowing:$c(e)};return this.handleContainerOverflow&&this.setContainerStyle(o,e),o.classes.forEach(Kc.bind(null,e)),this.containers.push(e),this.data.push(o),r},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=this.containerIndexFromModal(t),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.classes.forEach(Qc.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(t,e){var n=e.dialog,r=e.backdrop;ef(t,[n,r],(function(t){return nf(!1,t)}))}(i,t),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],a=o.backdrop;nf(!1,o.dialog),nf(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}();const of=rf;var af,sf=function(t){var e;return"undefined"==typeof document?null:null==t?Mc().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(e=t)&&e.nodeType&&t||null)};var lf=(0,t.forwardRef)((function(n,r){var i=n.show,o=void 0!==i&&i,a=n.role,s=void 0===a?"dialog":a,l=n.className,u=n.style,c=n.children,f=n.backdrop,h=void 0===f||f,p=n.keyboard,d=void 0===p||p,y=n.onBackdropClick,g=n.onEscapeKeyDown,v=n.transition,m=n.backdropTransition,_=n.autoFocus,b=void 0===_||_,x=n.enforceFocus,E=void 0===x||x,w=n.restoreFocus,S=void 0===w||w,C=n.restoreFocusOptions,P=n.renderDialog,O=n.renderBackdrop,T=void 0===O?function(e){return t.createElement("div",e)}:O,R=n.manager,k=n.container,D=n.containerClassName,I=n.onShow,L=n.onHide,M=void 0===L?function(){}:L,j=n.onExit,A=n.onExited,F=n.onExiting,N=n.onEnter,U=n.onEntering,B=n.onEntered,z=Cc(n,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),W=function(e,n){var r=(0,t.useState)((function(){return sf(e)})),i=r[0],o=r[1];if(!i){var a=sf(e);a&&o(a)}return(0,t.useEffect)((function(){}),[n,i]),(0,t.useEffect)((function(){var t=sf(e);t!==i&&o(t)}),[e,i]),i}(k),G=function(e){var n=e||(af||(af=new of),af),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(t,e){return n.add(r.current,t,e)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,t.useCallback)((function(t){r.current.dialog=t}),[]),setBackdropRef:(0,t.useCallback)((function(t){r.current.backdrop=t}),[])})}(R),V=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}(),H=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(o),X=(0,t.useState)(!o),q=X[0],Y=X[1],K=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,(function(){return G}),[G]),Rc&&!H&&o&&(K.current=qc()),v||o||q?o&&q&&Y(!1):Y(!0);var Z=Nc((function(){if(G.add(W,D),nt.current=Hc(document,"keydown",tt),et.current=Hc(document,"focus",(function(){return setTimeout(J)}),!0),I&&I(),b){var t=qc(document);G.dialog&&t&&!Yc(G.dialog,t)&&(K.current=t,G.dialog.focus())}})),Q=Nc((function(){var t;G.remove(),null==nt.current||nt.current(),null==et.current||et.current(),S&&(null==(t=K.current)||null==t.focus||t.focus(C),K.current=null)}));(0,t.useEffect)((function(){o&&W&&Z()}),[o,W,Z]),(0,t.useEffect)((function(){q&&Q()}),[q,Q]),Uc((function(){Q()}));var J=Nc((function(){if(E&&V()&&G.isTopModal()){var t=qc();G.dialog&&t&&!Yc(G.dialog,t)&&G.dialog.focus()}})),$=Nc((function(t){t.target===t.currentTarget&&(null==y||y(t),!0===h&&M())})),tt=Nc((function(t){d&&27===t.keyCode&&G.isTopModal()&&(null==g||g(t),t.defaultPrevented||M())})),et=(0,t.useRef)(),nt=(0,t.useRef)(),rt=v;if(!W||!(o||rt&&!q))return null;var it=Pc({role:s,ref:G.setDialogRef,"aria-modal":"dialog"===s||void 0},z,{style:u,className:l,tabIndex:-1}),ot=P?P(it):t.createElement("div",it,t.cloneElement(c,{role:"document"}));rt&&(ot=t.createElement(rt,{appear:!0,unmountOnExit:!0,in:!!o,onExit:j,onExiting:F,onExited:function(){Y(!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];null==A||A.apply(void 0,e)},onEnter:N,onEntering:U,onEntered:B},ot));var at=null;if(h){var st=m;at=T({ref:G.setBackdropRef,onClick:$}),st&&(at=t.createElement(st,{appear:!0,in:!!o},at))}return t.createElement(t.Fragment,null,e.createPortal(t.createElement(t.Fragment,null,at,ot),W))})),uf={show:i().bool,container:i().any,onShow:i().func,onHide:i().func,backdrop:i().oneOfType([i().bool,i().oneOf(["static"])]),renderDialog:i().func,renderBackdrop:i().func,onEscapeKeyDown:i().func,onBackdropClick:i().func,containerClassName:i().string,keyboard:i().bool,transition:i().elementType,backdropTransition:i().elementType,autoFocus:i().bool,enforceFocus:i().bool,restoreFocus:i().bool,restoreFocusOptions:i().shape({preventScroll:i().bool}),onEnter:i().func,onEntering:i().func,onEntered:i().func,onExit:i().func,onExiting:i().func,onExited:i().func,manager:i().instanceOf(of)};lf.displayName="Modal",lf.propTypes=uf;const cf=Object.assign(lf,{Manager:of});function ff(t,e){return ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ff(t,e)}function hf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ff(t,e)}n(2473);var pf=Function.prototype.bind.call(Function.prototype.call,[].slice);function df(t,e){return pf(t.querySelectorAll(e))}var yf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gf=".sticky-top",vf=".navbar-toggler",mf=function(t){function e(){return t.apply(this,arguments)||this}hf(e,t);var n=e.prototype;return n.adjustAndStore=function(t,e,n){var r,i=e.style[t];e.dataset[t]=i,Vc(e,((r={})[t]=parseFloat(Vc(e,t))+n+"px",r))},n.restore=function(t,e){var n,r=e.dataset[t];void 0!==r&&(delete e.dataset[t],Vc(e,((n={})[t]=r,n)))},n.setContainerStyle=function(e,n){var r=this;if(t.prototype.setContainerStyle.call(this,e,n),e.overflowing){var i=Fc();df(n,yf).forEach((function(t){return r.adjustAndStore("paddingRight",t,i)})),df(n,gf).forEach((function(t){return r.adjustAndStore("marginRight",t,-i)})),df(n,vf).forEach((function(t){return r.adjustAndStore("marginRight",t,i)}))}},n.removeContainerStyle=function(e,n){var r=this;t.prototype.removeContainerStyle.call(this,e,n),df(n,yf).forEach((function(t){return r.restore("paddingRight",t)})),df(n,gf).forEach((function(t){return r.restore("marginRight",t)})),df(n,vf).forEach((function(t){return r.restore("marginRight",t)}))},e}(of);const _f=t.createContext(null);var bf="unmounted",xf="exited",Ef="entering",wf="entered",Sf="exiting",Cf=function(n){function r(t,e){var r;r=n.call(this,t,e)||this;var i,o=e&&!e.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=xf,r.appearStatus=Ef):i=wf:i=t.unmountOnExit||t.mountOnEnter?bf:xf,r.state={status:i},r.nextCallback=null,r}hf(r,n),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===bf?{status:xf}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Ef&&n!==wf&&(e=Ef):n!==Ef&&n!==wf||(e=Sf)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===Ef?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===xf&&this.setState({status:bf})},i.performEnter=function(t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[e.findDOMNode(this),i],a=o[0],s=o[1],l=this.getTimeouts(),u=i?l.appear:l.enter;t||r?(this.props.onEnter(a,s),this.safeSetState({status:Ef},(function(){n.props.onEntering(a,s),n.onTransitionEnd(u,(function(){n.safeSetState({status:wf},(function(){n.props.onEntered(a,s)}))}))}))):this.safeSetState({status:wf},(function(){n.props.onEntered(a)}))},i.performExit=function(){var t=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:e.findDOMNode(this);n?(this.props.onExit(i),this.safeSetState({status:Sf},(function(){t.props.onExiting(i),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:xf},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:xf},(function(){t.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:e.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===bf)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Cc(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(_f.Provider,{value:null},"function"==typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},r}(t.Component);function Pf(){}Cf.contextType=_f,Cf.propTypes={},Cf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pf,onEntering:Pf,onEntered:Pf,onExit:Pf,onExiting:Pf,onExited:Pf},Cf.UNMOUNTED=bf,Cf.EXITED=xf,Cf.ENTERING=Ef,Cf.ENTERED=wf,Cf.EXITING=Sf;const Of=Cf;function Tf(t,e){var n=Vc(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Rf(t,e){var n=Tf(t,"transitionDuration"),r=Tf(t,"transitionDelay"),i=Xc(t,(function(n){n.target===t&&(i(),e(n))}),n+r)}var kf,Df=["className","children"],If=((kf={}).entering="show",kf.entered="show",kf),Lf=t.forwardRef((function(e,n){var r=e.className,i=e.children,o=Cc(e,Df),a=(0,t.useCallback)((function(t){!function(t){t.offsetHeight}(t),o.onEnter&&o.onEnter(t)}),[o]);return t.createElement(Of,Pc({ref:n,addEndListener:Rf},o,{onEnter:a}),(function(e,n){return t.cloneElement(i,Pc({},n,{className:Tc()("fade",r,i.props.className,If[e])}))}))}));Lf.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Lf.displayName="Fade";const Mf=Lf;var jf=/-(.)/g,Af=t.createContext({});function Ff(e,n){var r=(0,t.useContext)(Af);return e||r[n]||n}Af.Consumer,Af.Provider;var Nf=["className","bsPrefix","as"];function Uf(e,n){var r,i=void 0===n?{}:n,o=i.displayName,a=void 0===o?(r=e)[0].toUpperCase()+function(t){return t.replace(jf,(function(t,e){return e.toUpperCase()}))}(r).slice(1):o,s=i.Component,l=i.defaultProps,u=t.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,a=n.as,l=void 0===a?s||"div":a,u=Cc(n,Nf),c=Ff(o,e);return t.createElement(l,Pc({ref:r,className:Tc()(i,c)},u))}));return u.defaultProps=l,u.displayName=a,u}const Bf=Uf("modal-body"),zf=t.createContext({onHide:function(){}});var Wf=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],Gf=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.contentClassName,a=e.centered,s=e.size,l=e.children,u=e.scrollable,c=Cc(e,Wf),f=(r=Ff(r,"modal"))+"-dialog";return t.createElement("div",Pc({},c,{ref:n,className:Tc()(f,i,s&&r+"-"+s,a&&f+"-centered",u&&f+"-scrollable")}),t.createElement("div",{className:Tc()(r+"-content",o)},l))}));Gf.displayName="ModalDialog";const Vf=Gf,Hf=Uf("modal-footer");var Xf=["label","onClick","className"],qf={label:i().string.isRequired,onClick:i().func},Yf=t.forwardRef((function(e,n){var r=e.label,i=e.onClick,o=e.className,a=Cc(e,Xf);return t.createElement("button",Pc({ref:n,type:"button",className:Tc()("close",o),onClick:i},a),t.createElement("span",{"aria-hidden":"true"},"×"),t.createElement("span",{className:"sr-only"},r))}));Yf.displayName="CloseButton",Yf.propTypes=qf,Yf.defaultProps={label:"Close"};const Kf=Yf;var Zf=["bsPrefix","closeLabel","closeButton","onHide","className","children"],Qf=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.closeLabel,o=e.closeButton,a=e.onHide,s=e.className,l=e.children,u=Cc(e,Zf);r=Ff(r,"modal-header");var c=(0,t.useContext)(zf),f=Nc((function(){c&&c.onHide(),a&&a()}));return t.createElement("div",Pc({ref:n},u,{className:Tc()(s,r)}),l,o&&t.createElement(Kf,{label:i,onClick:f}))}));Qf.displayName="ModalHeader",Qf.defaultProps={closeLabel:"Close",closeButton:!1};const Jf=Qf;const $f=Uf("modal-title",{Component:("h4",t.forwardRef((function(e,n){return t.createElement("div",Pc({},e,{ref:n,className:Tc()(e.className,"h4")}))})))});var th,eh=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],nh={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Vf};function rh(e){return t.createElement(Mf,Pc({},e,{timeout:null}))}function ih(e){return t.createElement(Mf,Pc({},e,{timeout:null}))}var oh=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.style,a=e.dialogClassName,s=e.contentClassName,l=e.children,u=e.dialogAs,c=e["aria-labelledby"],f=e.show,h=e.animation,p=e.backdrop,d=e.keyboard,y=e.onEscapeKeyDown,g=e.onShow,v=e.onHide,m=e.container,_=e.autoFocus,b=e.enforceFocus,x=e.restoreFocus,E=e.restoreFocusOptions,w=e.onEntered,S=e.onExit,C=e.onExiting,P=e.onEnter,O=e.onEntering,T=e.onExited,R=e.backdropClassName,k=e.manager,D=Cc(e,eh),I=(0,t.useState)({}),L=I[0],M=I[1],j=(0,t.useState)(!1),A=j[0],F=j[1],N=(0,t.useRef)(!1),U=(0,t.useRef)(!1),B=(0,t.useRef)(null),z=(0,t.useState)(null),W=z[0],G=z[1],V=Nc(v);r=Ff(r,"modal"),(0,t.useImperativeHandle)(n,(function(){return{get _modal(){return W}}}),[W]);var H=(0,t.useMemo)((function(){return{onHide:V}}),[V]);function X(){return k||(th||(th=new mf),th)}function q(t){if(Rc){var e=X().isContainerOverflowing(W),n=t.scrollHeight>Mc(t).documentElement.clientHeight;M({paddingRight:e&&!n?Fc():void 0,paddingLeft:!e&&n?Fc():void 0})}}var Y=Nc((function(){W&&q(W.dialog)}));Uc((function(){jc(window,"resize",Y),B.current&&B.current()}));var K=function(){N.current=!0},Z=function(t){N.current&&W&&t.target===W.dialog&&(U.current=!0),N.current=!1},Q=function(){F(!0),B.current=Xc(W.dialog,(function(){F(!1)}))},J=function(t){"static"!==p?U.current||t.target!==t.currentTarget?U.current=!1:null==v||v():function(t){t.target===t.currentTarget&&Q()}(t)},$=(0,t.useCallback)((function(e){return t.createElement("div",Pc({},e,{className:Tc()(r+"-backdrop",R,!h&&"show")}))}),[h,R,r]),tt=Pc({},o,L);return h||(tt.display="block"),t.createElement(zf.Provider,{value:H},t.createElement(cf,{show:f,ref:G,backdrop:p,container:m,keyboard:!0,autoFocus:_,enforceFocus:b,restoreFocus:x,restoreFocusOptions:E,onEscapeKeyDown:function(t){d||"static"!==p?d&&y&&y(t):(t.preventDefault(),Q())},onShow:g,onHide:v,onEnter:function(t,e){t&&(t.style.display="block",q(t)),null==P||P(t,e)},onEntering:function(t,e){null==O||O(t,e),Lc(window,"resize",Y)},onEntered:w,onExit:function(t){null==B.current||B.current(),null==S||S(t)},onExiting:C,onExited:function(t){t&&(t.style.display=""),null==T||T(t),jc(window,"resize",Y)},manager:X(),containerClassName:r+"-open",transition:h?rh:void 0,backdropTransition:h?ih:void 0,renderBackdrop:$,renderDialog:function(e){return t.createElement("div",Pc({role:"dialog"},e,{style:tt,className:Tc()(i,r,A&&r+"-static"),onClick:p?J:void 0,onMouseUp:Z,"aria-labelledby":c}),t.createElement(u,Pc({},D,{onMouseDown:K,className:a,contentClassName:s}),l))}}))}));oh.displayName="Modal",oh.defaultProps=nh,oh.Body=Bf,oh.Header=Jf,oh.Title=$f,oh.Footer=Hf,oh.Dialog=Vf,oh.TRANSITION_DURATION=300,oh.BACKDROP_TRANSITION_DURATION=150;const ah=oh;function sh(t){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(t)}function lh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ch(t,e){return ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ch(t,e)}function fh(t,e){if(e&&("object"===sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hh(t)}var ph=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ch(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hh(i);if(o){var n=hh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fh(this,t)});function s(){return lh(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(ah,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(ah.Header,{closeButton:!0},t.createElement(ah.Title,null,"Warning")),t.createElement(ah.Body,null,"Using this selection as the primary video may cause some track elements to be removed."),t.createElement(ah.Footer,null,t.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Update sequence")))}}])&&uh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function dh(t){return dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(t)}function yh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vh(t,e){return vh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vh(t,e)}function mh(t,e){if(e&&("object"===dh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_h(t)}ph.propTypes={onCloseClick:i().func.isRequired,onConfirmClick:i().func.isRequired,showing:i().bool.isRequired};var bh=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vh(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_h(i);if(o){var n=_h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mh(this,t)});function s(){return yh(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(ah,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(ah.Header,{closeButton:!0},t.createElement(ah.Title,null,"Add Primary Media")),t.createElement(ah.Body,null,"You must add a primary video before adding secondary elements."),t.createElement(ah.Footer,null,t.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.onCloseClick},"Close")))}}])&&gh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function xh(t){return xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(t)}function Eh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return wh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wh(t,e)}function Sh(t,e){if(e&&("object"===xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ch(t)}bh.propTypes={onCloseClick:i().func.isRequired,showing:i().bool.isRequired};var Ph=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wh(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ch(i);if(o){var n=Ch(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Sh(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={value:""},e}return n=s,(r=[{key:"onSubmit",value:function(t){t.preventDefault(),this.props.onSubmit(this.state.value,this.props.timestamp),this.setState({value:""})}},{key:"onTextChange",value:function(t){this.setState({value:t.target.value})}},{key:"close",value:function(){this.props.onCloseClick()}},{key:"render",value:function(){return t.createElement(ah,{show:this.props.showing,autoFocus:!1,onHide:this.close.bind(this)},t.createElement(ah.Header,{closeButton:!0},t.createElement(ah.Title,null,"Add text annotation")),t.createElement(ah.Body,null,t.createElement("form",{onSubmit:this.onSubmit.bind(this)},t.createElement("textarea",{className:"form-control",maxLength:140,onChange:this.onTextChange.bind(this),value:this.state.value}),t.createElement("div",{className:"helptext"},"140 character limit"),t.createElement("br",null),t.createElement("button",{className:"btn btn-primary right",type:"submit"},"Submit"))))}}])&&Eh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Oh(t){return Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(t)}function Th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rh(t,e){return Rh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Rh(t,e)}function kh(t,e){if(e&&("object"===Oh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dh(t)}Ph.propTypes={onCloseClick:i().func.isRequired,onSubmit:i().func.isRequired,showing:i().bool.isRequired,timestamp:i().number};var Ih=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rh(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dh(i);if(o){var n=Dh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kh(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).type="txt",e.state={adding:!1,timecode:0},e.helpText="Click on this track to place text elements",e}return n=s,(r=[{key:"renderItemAdder",value:function(){return t.createElement(Ph,{showing:this.state.adding,onCloseClick:this.closeItemAdder.bind(this),onSubmit:this.onTrackElementAdd.bind(this)})}},{key:"onAddTrackElementClick",value:function(t,e){this.props.primaryVid?this.setState({adding:!0,timecode:e}):this.onAddWithoutPrimaryVid()}},{key:"onTrackElementAdd",value:function(t){this.closeItemAdder(),this.props.onTrackElementAdd(t,this.state.timecode)}}])&&Th(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(vt);function Lh(t){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(t)}function Mh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fh(t,e){return Fh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fh(t,e)}function Nh(t,e){if(e&&("object"===Lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uh(t)}var Bh=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fh(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Uh(i);if(o){var n=Uh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Nh(this,t)});function s(){return jh(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"shouldDisplay",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Mh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mh(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e>=i.start_time&&e<=i.end_time)return i.source}}catch(t){r.e(t)}finally{r.f()}return""}},{key:"render",value:function(){var e=this.shouldDisplay(this.props.data,this.props.time);return t.createElement("div",{className:"jux-text-display-container"},t.createElement("div",{className:"jux-text-display"},e))}}])&&Ah(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function zh(t){return zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(t)}function Wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vh(t,e){return Vh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vh(t,e)}function Hh(t,e){if(e&&("object"===zh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xh(t)}Bh.propTypes={data:i().array.isRequired,time:i().number};var qh=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vh(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xh(i);if(o){var n=Xh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Hh(this,t)});function s(){return Wh(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"generateTick",value:function(e,n,r){var i={left:e+"%"};return r&&(i={right:0}),[t.createElement("div",{key:n+"-label",className:"jux-timeline-ticklabel",style:i},T(n)),t.createElement("div",{key:n,className:"jux-timeline-tick",style:{left:e+"%"}})]}},{key:"generateTicks",value:function(t){var e=30;t>300&&t<=900?e=60:t>900&&t<=1800?e=120:t>1800&&(e=10*Math.round(.15*t/10));for(var n=[],r=0;r<t-.08*t;r+=e){var i=r/t*100;n.push([i,r])}return n.push([100,t]),n}},{key:"generateTicksElements",value:function(t){var e=this,n=this.generateTicks(t),r=[];return n.forEach((function(t,i){r.push(e.generateTick(t[0],t[1],i===n.length-1))})),r}},{key:"render",value:function(){var e=this.generateTicksElements(this.props.duration),n=this.props.hovering?"jux-timeline-ruler hover":"jux-timeline-ruler";return t.createElement("div",{className:n},t.createElement("div",{className:"jux-timeline-hline"}),e)}}])&&Gh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Yh(t){return Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(t)}function Kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qh(t,e){return Qh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Qh(t,e)}function Jh(t,e){if(e&&("object"===Yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$h(t)}qh.propTypes={duration:i().number,hovering:i().bool.isRequired};var tp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qh(t,e)}(l,e);var n,r,i,o,s=(i=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$h(i);if(o){var n=$h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jh(this,t)});function l(){return Kh(this,l),s.apply(this,arguments)}return n=l,(r=[{key:"render",value:function(){var e=this;return t.createElement("div",{className:"jux-timecode-editor"},t.createElement("input",{ref:function(t){return e._spinner=t},min:this.props.min,required:!0,defaultValue:T(this.props.timecode)}))}},{key:"componentDidUpdate",value:function(t){O(this._spinner.value)!==t.timecode&&(this._spinner.value=T(t.timecode))}},{key:"componentDidMount",value:function(){var t=this;jQuery(this._spinner).timecodespinner({change:function(e){var n=O(e.target.value);a()(n)&&t.props.onChange(n),t.props.timecode!==t._spinner.value&&(t._spinner.value=T(t.props.timecode))},spin:function(e,n){var r=n.value/100;if(a()(r)&&t.props.onChange(r),t.props.timecode!==t._spinner.value)return t._spinner.value=T(t.props.timecode),!1}})}},{key:"componentWillUnmount",value:function(){jQuery(this._spinner).timecodespinner("destroy")}}])&&Zh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t.Component);function ep(t){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(t)}function np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ip(t,e){return ip=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ip(t,e)}function op(t,e){if(e&&("object"===ep(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ap(t)}tp.propTypes={min:i().number.isRequired,onChange:i().func.isRequired,timecode:i().number.isRequired};var sp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ip(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ap(i);if(o){var n=ap(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return op(this,t)});function s(){return np(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"render",value:function(){return t.createElement(ah,{show:this.props.showing,onHide:this.props.onCloseClick},t.createElement(ah.Header,{closeButton:!0},t.createElement(ah.Title,null,"Confirm Delete")),t.createElement(ah.Body,null,"Are you sure you want to delete this element?"),t.createElement(ah.Footer,null,t.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.onCloseClick},"Cancel"),t.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.props.onConfirmClick},"Delete Element")))}}])&&rp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function lp(t){return lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(t)}function up(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cp(t,e){return cp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cp(t,e)}function fp(t,e){if(e&&("object"===lp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(t)}sp.propTypes={onCloseClick:i().func.isRequired,onConfirmClick:i().func.isRequired,showing:i().bool.isRequired};var pp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hp(i);if(o){var n=hp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fp(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).state={showDeleteElementModal:!1},e.debouncedDisplayUpdatedTextNotice=Pt()(e.displayUpdatedTextNotice,1e3),e}return n=s,r=[{key:"render",value:function(){var e=this.props.activeElement;if(e){var n="txt"===e.type,r=e.end_time-e.start_time,i="";return"vid"===e.type&&(i=t.createElement("div",{className:"form-group"},t.createElement("label",null,"Volume  ",e.volume,t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",value:e.volume,onChange:this.onVolumeChange.bind(this)})))),t.createElement("div",{className:"jux-track-container jux-track-element-manager"},t.createElement("div",{className:"row"},t.createElement("div",{className:"col-md-1 float-left"},t.createElement("svg",{width:"3em",height:"3em",viewBox:"0 0 16 16",className:"bi bi-arrows-move",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.5 8a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1H6a.5.5 0 0 0 .5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M3.854 5.646a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L2.207 8l1.647-1.646a.5.5 0 0 0 0-.708zM9.5 8a.5.5 0 0 1 .5-.5h4.5a.5.5 0 0 1 0 1H10a.5.5 0 0 1-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 5.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L13.793 8l-1.647-1.646a.5.5 0 0 1 0-.708zM8 9.5a.5.5 0 0 0-.5.5v4.5a.5.5 0 0 0 1 0V10a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 12.146a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8 13.793l-1.646-1.647a.5.5 0 0 0-.708 0zM8 6.5a.5.5 0 0 1-.5-.5V1.5a.5.5 0 0 1 1 0V6a.5.5 0 0 1-.5.5z"}),t.createElement("path",{fillRule:"evenodd",d:"M5.646 3.854a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8 2.207 6.354 3.854a.5.5 0 0 1-.708 0z"}))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Start ",t.createElement("br",null),T(e.start_time)),t.createElement("br",null),t.createElement(tp,{min:0,timecode:e.start_time,onChange:this.onStartTimeChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS"))),t.createElement("div",{className:"col-md-2"},t.createElement("div",{className:"form-group"},t.createElement("label",{className:"small"},"Duration  ",T(r)),t.createElement("br",null),t.createElement(tp,{min:100,timecode:e.end_time-e.start_time,onChange:this.onDurationChange.bind(this)}),t.createElement("div",{className:"helptext"},"MM:SS:CS")),i),t.createElement("div",{className:"col"},t.createElement("div",{className:"form-group"},t.createElement("label",{htmlFor:"content",className:"small"},"Content"),t.createElement("br",null),t.createElement("textarea",{style:{display:n?"block":"none"},className:"form-control",id:"content",value:e.source,maxLength:140,onChange:this.onTextChange.bind(this)}),t.createElement("div",{style:{display:n?"block":"none"},className:"helptext float-left"},"140 character limit"),t.createElement("div",{className:"float-right jux-updated-text small"},"Updated"),t.createElement("button",{style:{display:n?"none":"block"},className:"jux-edit-track-element btn btn-outline-secondary btn-sm",title:"Edit Element",onClick:this.onEditClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))," Edit Selection"))),t.createElement("div",{className:"col float-right"},t.createElement("button",{className:"jux-remove-track-element btn btn-secondary btn-danger float-right",title:"Delete element",onClick:this.onDeleteClick.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),t.createElement("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}))))),t.createElement(sp,{showing:this.state.showDeleteElementModal,onCloseClick:this.onDeleteCloseClick.bind(this),onConfirmClick:this.onDeleteConfirmClick.bind(this)}),t.createElement("div",{className:"clearfix"}))}return t.createElement("div",null)}},{key:"onVolumeChange",value:function(t){this.props.onChange(this.props.activeElement,{volume:parseInt(t.target.value,10)})}},{key:"displayUpdatedTextNotice",value:function(){jQuery(".jux-updated-text").show(0,(function(){setTimeout((function(){jQuery(".jux-updated-text").fadeOut("slow")}),1e3)}))}},{key:"onTextChange",value:function(t){this.props.onChange(this.props.activeElement,{source:t.target.value}),this.debouncedDisplayUpdatedTextNotice()}},{key:"onDeleteClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.setState({showDeleteElementModal:!0})}},{key:"onDeleteCloseClick",value:function(){this.setState({showDeleteElementModal:!1})}},{key:"onDeleteConfirmClick",value:function(){this.props.onDeleteClick(),this.setState({showDeleteElementModal:!1})}},{key:"onEditClick",value:function(t){t.stopPropagation(),t.preventDefault(),this.props.onEditClick()}},{key:"onStartTimeChange",value:function(t){var e=this.props.activeElement.end_time+(t-this.props.activeElement.start_time);this.props.onChange(this.props.activeElement,{start_time:t,end_time:e})}},{key:"onDurationChange",value:function(t){var e=this.props.activeElement.start_time+t;this.props.onChange(this.props.activeElement,{end_time:e})}}],r&&up(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function dp(t){return dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(t)}function yp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vp(t,e){return vp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vp(t,e)}function mp(t,e){if(e&&("object"===dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_p(t)}pp.propTypes={activeElement:i().object,onChange:i().func.isRequired,onDeleteClick:i().func.isRequired,onEditClick:i().func.isRequired};var bp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_p(i);if(o){var n=_p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mp(this,t)});function s(){return yp(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){return t.createElement("button",{className:"jux-play","aria-label":"play",onClick:this.onClick.bind(this)},this.props.playing?t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-pause-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"})):t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-play-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})))}}])&&gp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function xp(t){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(t)}function Ep(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sp(t,e){return Sp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sp(t,e)}function Cp(t,e){if(e&&("object"===xp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(t)}bp.propTypes={onClick:i().func.isRequired,playing:i().bool.isRequired};var Op=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pp(i);if(o){var n=Pp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Cp(this,t)});function s(){return Ep(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"onClick",value:function(t){this.props.onClick(t)}},{key:"render",value:function(){var e=!1;0===this.props.time&&(e=!0);var n=e?"jux-rewind disabled":"jux-rewind";return t.createElement("button",{className:n,disabled:e,"aria-label":"rewind",onClick:this.onClick.bind(this)},t.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-skip-start-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M4.5 3.5A.5.5 0 0 0 4 4v8a.5.5 0 0 0 1 0V4a.5.5 0 0 0-.5-.5z"}),t.createElement("path",{d:"M4.903 8.697l6.364 3.692c.54.313 1.232-.066 1.232-.697V4.308c0-.63-.692-1.01-1.232-.696L4.903 7.304a.802.802 0 0 0 0 1.393z"})))}}])&&wp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Tp(t){return Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(t)}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kp(t,e){return kp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kp(t,e)}function Dp(t,e){if(e&&("object"===Tp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ip(t)}Op.propTypes={onClick:i().func.isRequired,time:i().number.isRequired};var Lp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kp(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ip(i);if(o){var n=Ip(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Dp(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).trackWidth=915,e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.duration)return t.createElement("div",{className:"jux-playhead-container"},t.createElement("div",{className:"jux-playhead-line",style:{opacity:0}}));var n=0;0!==this.props.duration&&(n=this.props.currentTime/this.props.duration);var r={left:this.trackWidth*n+7+"px"};return t.createElement("div",{className:"jux-playhead-container"},t.createElement("input",{type:"range",min:"0",max:"1000","aria-label":"range",ref:function(t){return e.el=t},onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,value:1e3*n}),t.createElement("div",{className:"jux-playhead-line",style:r}))}}])&&Rp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component);function Mp(t){return Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(t)}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ap(t,e){return Ap=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ap(t,e)}function Fp(t,e){if(e&&("object"===Mp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Np(t)}Lp.propTypes={currentTime:i().number,duration:i().number,onChange:i().func.isRequired,onMouseDown:i().func.isRequired,onMouseUp:i().func.isRequired,onMouseEnter:i().func.isRequired,onMouseLeave:i().func.isRequired};var Up=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ap(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Np(i);if(o){var n=Np(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fp(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).id="jux-spine-video",e}return n=s,(r=[{key:"render",value:function(){var e=this;if(!this.props.spineVid){var n=F(this.props.instructions);return t.createElement("div",{className:"jux-spine-display"},t.createElement("div",{className:"help-text"},t.createElement("button",{className:"add-spine","aria-label":"add primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-plus-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4a.5.5 0 0 0-1 0v3.5H4a.5.5 0 0 0 0 1h3.5V12a.5.5 0 0 0 1 0V8.5H12a.5.5 0 0 0 0-1H8.5V4z"}))),t.createElement("h2",{onClick:this.onClickReviseSpine},"Add a primary video"),t.createElement("p",{className:"instructions"},n)))}var r;r="youtube"===this.props.spineVid.host?"https://www.youtube.com/watch?v="+this.props.spineVid.url:this.props.spineVid.url;var i=80;this.props.spineVid&&(i=this.props.spineVid.volume);var o="";if(!this.props.readOnly){var a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-up",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM6 5.04L4.312 6.39A.5.5 0 0 1 4 6.5H2v3h2a.5.5 0 0 1 .312.11L6 10.96V5.04z"}),t.createElement("path",{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}),t.createElement("path",{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}),t.createElement("path",{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707z"}));0===i?a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-off",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M10.717 3.55A.5.5 0 0 1 11 4v8a.5.5 0 0 1-.812.39L7.825 10.5H5.5A.5.5 0 0 1 5 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM10 5.04L8.312 6.39A.5.5 0 0 1 8 6.5H6v3h2a.5.5 0 0 1 .312.11L10 10.96V5.04z"})):i<=50&&(a=t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-volume-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M8.717 3.55A.5.5 0 0 1 9 4v8a.5.5 0 0 1-.812.39L5.825 10.5H3.5A.5.5 0 0 1 3 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zM8 5.04L6.312 6.39A.5.5 0 0 1 6 6.5H4v3h2a.5.5 0 0 1 .312.11L8 10.96V5.04z"}),t.createElement("path",{d:"M10.707 11.182A4.486 4.486 0 0 0 12.025 8a4.486 4.486 0 0 0-1.318-3.182L10 5.525A3.489 3.489 0 0 1 11.025 8c0 .966-.392 1.841-1.025 2.475l.707.707z"}))),o=t.createElement("div",{className:"jux-spine-controls"},t.createElement("button",{className:"btn btn-default jux-spine-revise",title:"Revise primary video",onClick:this.onClickReviseSpine},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-repeat",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"}),t.createElement("path",{fillRule:"evenodd",d:"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"}))),t.createElement("button",{className:"btn btn-default jux-spine-edit",title:"Edit primary video",onClick:this.onClickEditSpine.bind(this)},t.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-pencil",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-9 9a1 1 0 0 1-.39.242l-3 1a1 1 0 0 1-1.266-1.265l1-3a1 1 0 0 1 .242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z"}),t.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 0 0 .5.5H4v.5a.5.5 0 0 0 .5.5H5v.5a.5.5 0 0 0 .5.5H6v-1.5a.5.5 0 0 0-.5-.5H5v-.5a.5.5 0 0 0-.5-.5H3z"}))),t.createElement("button",{className:"btn btn-default jux-spine-vol-display",title:"Toggle volume",onClick:this.onVolumeToggle.bind(this)},a),t.createElement("input",{type:"range",min:"0",max:"100","aria-label":"range",className:"jux-spine-vol-input",value:i,onChange:this.onVolumeChange.bind(this)}))}var s=this.props.spineVid.volume/100;return t.createElement("div",{className:"jux-spine-display"},t.createElement(St.Z,{id:this.id,ref:function(t){return e.player=t},width:480,height:360,volume:s,playing:this.props.playing,onEnded:this.props.onEnded,url:r,onStart:this.onStart.bind(this),onDuration:this.props.onDuration,onProgress:this.props.onProgress,onPlay:this.props.onPlay,onPause:this.props.onPause,config:{youtube:this.youtubeConfig,vimeo:this.vimeoConfig}}),o)}},{key:"onStart",value:function(){if(this.props.spineVid.annotationStartTime&&this.props.duration){var t=this.props.spineVid.annotationStartTime/this.props.duration;this.player.seekTo(t)}}},{key:"onClickReviseSpine",value:function(){N("video",!0,{type:"spine",timecode:0})}},{key:"onClickEditSpine",value:function(){U(this.props.spineVid.assetId,this.props.spineVid.annotationId,void 0===this.props.spineVid.annotationDuration,{type:"spine"})}},{key:"onVolumeChange",value:function(t){var e=parseInt(t.target.value,10);this.props.onVolumeChange(e)}},{key:"onVolumeToggle",value:function(){this.props.onVolumeToggle()}}])&&jp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(Dt);function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}const zp=function t(e,n){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=Bp({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+o}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",Bp({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,Bp({},this.attributes,e))},withConverter:function(e){return t(Bp({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function Vp(t){return t.json()}var Hp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=zp.get("csrftoken");this.xhrOpts={method:"get",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":e},credentials:"same-origin"}}var e,n;return e=t,(n=[{key:"assetUrl",value:function(t){return"/api/asset/"+t+"/"}},{key:"projectSequenceAssetUrl",value:function(t){return"/project/api/projectsequenceassets/?project="+t}},{key:"sequenceAssetUrl",value:function(t){return"/sequence/api/assets/"+t+"/"}},{key:"sequenceAssetsUrl",value:function(){return"/sequence/api/assets/"}},{key:"getAsset",value:function(t){if(!t)throw"getAsset: assetId is required.";return fetch(this.assetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t}))}},{key:"getSequenceAsset",value:function(t){if(!t)throw"getSequenceAsset: projectId is required.";return fetch(this.projectSequenceAssetUrl(t),this.xhrOpts).then((function(t){return t.json()})).then((function(t){return t.length>0?t[0].sequence_asset:null}))}},{key:"createOrUpdateSequenceAsset",value:function(t,e,n,r,i,o){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===o)throw"createOrUpdateSequenceAsset: missing parameter";var s=80;a()(e)&&(s=e);var l=this;return fetch(this.projectSequenceAssetUrl(r),this.xhrOpts).then((function(t){return t.json()})).then((function(e){if(e.length>0){var a=e[0].sequence_asset.id;return l.updateSequenceAsset(a,t,s,n,r,i,o)}return l.createSequenceAsset(t,s,n,r,i,o)}))}},{key:"createSequenceAsset",value:function(t,e,n,r,i,o){if(void 0===t||void 0===n||void 0===r||void 0===i||void 0===o)throw"createSequenceAsset: missing parameter";var s=80;return a()(e)&&(s=e),this.xhrOpts.method="post",this.xhrOpts.body=JSON.stringify({spine:t,spine_volume:s,course:n,project:r,media_elements:k(i),text_elements:D(o)}),fetch(this.sequenceAssetsUrl(),this.xhrOpts)}},{key:"updateSequenceAsset",value:function(t,e,n,r,i,o,s){if(void 0===t||void 0===e||void 0===r||void 0===i||void 0===o||void 0===s)throw"updateSequenceAsset: missing parameter";var l=80;return a()(n)&&(l=n),this.xhrOpts.method="put",this.xhrOpts.body=JSON.stringify({id:t,spine:e,spine_volume:l,course:r,project:i,media_elements:k(o),text_elements:D(s)}),fetch(this.sequenceAssetUrl(t),this.xhrOpts).then(Gp).then(Vp)}}])&&Wp(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xp(t){return Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(t)}function qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yp(t,e){return Yp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yp(t,e)}function Kp(t,e){if(e&&("object"===Xp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zp(t)}function Zp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(t)}var Jp=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yp(t,e)}(u,e);var n,r,i,o,s=(i=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qp(i);if(o){var n=Qp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Kp(this,t)});function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var n=Zp(e=s.call(this,t));return e.state={spineVid:null,mediaTrack:[],textTrack:[],playing:!1,time:null,duration:null,activeElement:null,currentSecondaryElement:null,showOutOfBoundsModal:!1,showAddPrimaryMediaModal:!1,hoveringOnPlayhead:!1},document.addEventListener("asset.select",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.addMediaTrackElement(t.detail.assetId,t.detail.annotationId,t.detail.caller.timecode),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})})),document.addEventListener("asset.save",(function(t){"spine"===t.detail.caller.type?n.addOrEditSpineVideo(t.detail.assetId,t.detail.annotationId):n.editActiveMediaTrackElement(t.detail.assetId,t.detail.annotationId)})),document.addEventListener("sequence.save",(function(){n.onSaveClick()})),"undefined"!=typeof jQuery&&jQuery.widget("ui.timecodespinner",jQuery.ui.spinner,{options:{step:100,page:60},_parse:function(t){return"string"==typeof t?Number(t)==t?Number(t):100*O(t):t},_format:function(t){return T(t/100)}}),e}return n=u,r=[{key:"componentDidMount",value:function(){window.MediaThread&&window.MediaThread.current_project&&this.initializeSequenceAsset(window.MediaThread.current_project)}},{key:"initializeSequenceAsset",value:function(t){var e=this;(new Hp).getSequenceAsset(t).then((function(t){if(t&&t.spine){t.media_elements.forEach((function(t){var e=P(t.media);t.media=e.id,t.media_asset=e.assetId,t.host=e.host,t.source=e.url,t.type=e.type,t.annotationStartTime=e.startTime,t.annotationDuration=e.duration,t.annotationData=e.data,t.width=e.width,t.height=e.height})),e.setState({mediaTrack:I(t.media_elements),textTrack:L(t.text_elements)});var n=P(t.spine);e.updateSpineVid(n.url,n.host,n.assetId,n.id,n.startTime,n.duration,t.spine_volume),jQuery(window).trigger("sequence.set_submittable",{submittable:e.isBaselineWorkCompleted()})}})).then((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)})).catch((function(){jQuery("#sequence>.loader").hide(),jQuery("#jux-container").fadeTo("fast",1)}))}},{key:"render",value:function(){var e=this,n=this.getItem(this.state.activeElement),r="";this.props.readOnly||(r=t.createElement("div",null,t.createElement(wt,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onMediaDragStop.bind(this),onTrackEditButtonClick:this.onMediaTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.mediaTrack}),t.createElement(Ih,{duration:this.sequenceDuration(),primaryVid:this.state.spineVid,onAddWithoutPrimaryVid:this.onAddWithoutPrimaryVid.bind(this),onDragStop:this.onTextDragStop.bind(this),onTrackElementAdd:this.onTextTrackElementAdd.bind(this),onTrackEditButtonClick:this.onTextTrackEditButtonClick.bind(this),activeElement:this.state.activeElement,data:this.state.textTrack})));var i="",o=!(this.hasMediaElements()||!this.props.readOnly);return o||(i=t.createElement(Sc,{ref:function(t){return e._mediaDisplay=t},time:this.state.time,duration:this.sequenceDuration(),data:this.state.mediaTrack,playing:this.state.playing,currentElement:this.state.currentSecondaryElement,instructions:this.props.secondaryInstructions})),t.createElement("div",{className:"jux-container"},t.createElement("div",{className:"jux-vid-container"},t.createElement(Up,{spineVid:this.state.spineVid,ref:function(t){return e._primaryVid=t},readOnly:this.props.readOnly,duration:this.state.duration,onDuration:this.onSpineDuration.bind(this),onEnded:this.onSpineVideoEnded.bind(this),playing:this.state.playing,onProgress:this.onSpineProgress.bind(this),onPlay:this.onSpinePlay.bind(this),onPause:this.onSpinePause.bind(this),onVolumeChange:this.onSpineVolumeChange.bind(this),onVolumeToggle:this.onSpineVolumeToggle.bind(this),instructions:this.props.primaryInstructions}),t.createElement("div",{style:{display:o?"none":"block"},className:"jux-media-separator"}),i),t.createElement(Bh,{time:this.state.time,duration:this.sequenceDuration(),data:this.state.textTrack}),t.createElement("div",{className:"jux-flex-horiz"},t.createElement(Op,{time:this.state.time||0,onClick:this.onRewindClick.bind(this)}),t.createElement(bp,{playing:this.state.playing,onClick:this.onPlayClick.bind(this)}),t.createElement("div",{className:"jux-time-display"},t.createElement("div",null,T(this.state.time)," / ",T(this.sequenceDuration())))),t.createElement("div",{className:"jux-timeline"},t.createElement(qh,{hovering:this.state.hoveringOnPlayhead,duration:this.sequenceDuration()}),t.createElement(Lp,{currentTime:this.state.time,duration:this.sequenceDuration(),onMouseDown:this.onPlayheadMouseDown.bind(this),onMouseUp:this.onPlayheadMouseUp.bind(this),onMouseEnter:this.onPlayheadMouseEnter.bind(this),onMouseLeave:this.onPlayheadMouseLeave.bind(this),onChange:this.onPlayheadTimeChange.bind(this)}),r),t.createElement(pp,{activeElement:n,onChange:this.onTrackElementUpdate.bind(this),onEditClick:this.onTrackMediaElementEdit.bind(this),onDeleteClick:this.onTrackElementRemove.bind(this)}),t.createElement(ph,{showing:this.state.showOutOfBoundsModal,onCloseClick:this.onOutOfBoundsCloseClick.bind(this),onConfirmClick:this.onOutOfBoundsConfirmClick.bind(this)}),t.createElement(bh,{showing:this.state.showAddPrimaryMediaModal,onCloseClick:this.onAddPrimaryCloseClick.bind(this)}))}},{key:"isBaselineWorkCompleted",value:function(){return!!this.state.spineVid&&(this.state.mediaTrack.length>0||this.state.textTrack.length>0)}},{key:"onTrackElementUpdate",value:function(t,e){if(t){var n;n="txt"===t.type?this.state.textTrack:this.state.mediaTrack;var r=c()(n,["key",t.key,10]),i=h()(n,["key",r.key]);(function(t,e,n,r){if(r<=n)throw new Error("end_time must be greater than start_time.");if(!e)throw new Error("A sequence must have a duration.");if(r>e)return!0;if(0===t.length||!n&&!r)return!1;var i,o=_(t);try{for(o.s();!(i=o.n()).done;)if(x({start_time:n,end_time:r},i.value))return!0}catch(t){o.e(t)}finally{o.f()}return!1})(i,this.sequenceDuration(),a()(e.start_time)?e.start_time:r.start_time,a()(e.end_time)?e.end_time:r.end_time)||(l()(e.source)&&(r.source=e.source),a()(e.start_time)&&(r.start_time=e.start_time),a()(e.end_time)&&(r.end_time=e.end_time),a()(e.volume)&&(r.volume=e.volume),i.push(r),i=d()(i,"key"),"txt"===t.type?this.setState({textTrack:i}):this.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}}},{key:"onTextTrackElementAdd",value:function(t,e){var n=w(e,e+30,this.sequenceDuration(),this.state.textTrack);if(a()(n.start)||a()(n.end)){var r=this.state.textTrack.slice(),i=r.length;r.push({key:i,start_time:n.start,end_time:n.end,type:"txt",source:t}),this.setState({textTrack:r,activeElement:["txt",i]}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onMediaTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["media",e.props.data.key]})}},{key:"onTextTrackEditButtonClick",value:function(t,e){this.setState({activeElement:["txt",e.props.data.key]})}},{key:"onMediaDragStop",value:function(t,e,n){var r=A(this.state.mediaTrack,n,this.sequenceDuration());null!==r&&(this.setState({mediaTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onTextDragStop",value:function(t,e,n){var r=A(this.state.textTrack,n,this.sequenceDuration());null!==r&&(this.setState({textTrack:r}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0}))}},{key:"onPlayClick",value:function(){var t=!this.state.playing;this.setState({playing:t})}},{key:"onRewindClick",value:function(){this.setState({playing:!1,time:0}),this._primaryVid.player.seekTo(this.state.spineVid.annotationStartTime||0)}},{key:"onTrackElementRemove",value:function(){if(this.state.activeElement){var t=this.state.activeElement[0],e=this.state.activeElement[1];if("txt"===t){var n=this.state.textTrack.slice();n.splice(e,1),j(n),this.setState({textTrack:n,activeElement:null})}else{var r=this.state.mediaTrack.slice();r.splice(e,1),j(r),this.setState({mediaTrack:r,activeElement:null})}jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}}},{key:"onTrackMediaElementEdit",value:function(){var t=this.getItem(this.state.activeElement);U(t.media_asset,t.media,void 0===t.annotationDuration,{type:"track"})}},{key:"onPlayheadTimeChange",value:function(t){var e=t.target.value/1e3,n=this.sequenceDuration()*e;this.setState({time:n})}},{key:"onPlayheadMouseDown",value:function(){this.setState({playing:!1})}},{key:"onPlayheadMouseUp",value:function(){var t=(this.state.time+(this.state.spineVid.annotationStartTime||0))/this.state.duration;this._primaryVid.player.seekTo(t),this._mediaDisplay&&this._mediaDisplay.seekTo(t)}},{key:"onPlayheadMouseEnter",value:function(){this.setState({hoveringOnPlayhead:!0})}},{key:"onPlayheadMouseLeave",value:function(){this.setState({hoveringOnPlayhead:!1})}},{key:"onSpineVideoEnded",value:function(){this.setState({playing:!1,time:0})}},{key:"onSpineDuration",value:function(t){this.setState((function(e){return{duration:t,mediaTrack:S(t,e.mediaTrack),textTrack:S(t,e.textTrack)}}))}},{key:"onSpineProgress",value:function(t){if(void 0!==t.played){if(t.played>=1)return void this.setState({playing:!1,time:0});var e=t.playedSeconds-(this.state.spineVid.annotationStartTime||0),n=Math.max(0,e);n>=this.sequenceDuration()&&(this.setState({playing:!1}),n=Math.min(n,this.sequenceDuration())),this.setState((function(t){return{time:n,currentSecondaryElement:M(t.mediaTrack,n)}}))}}},{key:"onSpinePlay",value:function(){this.state.playing||this.setState({playing:!0})}},{key:"onSpinePause",value:function(){this.state.playing&&this.setState({playing:!1})}},{key:"onSaveClick",value:function(){if(this.state.spineVid){var t=new Hp,e=this;t.createOrUpdateSequenceAsset(this.state.spineVid.annotationId,this.state.spineVid.volume,window.MediaThread.current_course,window.MediaThread.current_project,this.state.mediaTrack,this.state.textTrack).then((function(){jQuery(window).trigger("sequence.on_save_success",{submittable:e.isBaselineWorkCompleted()})})).catch((function(t){jQuery(window).trigger("sequence.on_save_error",t)}))}else jQuery(window).trigger("sequence.on_save_success",{submittable:!1})}},{key:"onOutOfBoundsCloseClick",value:function(){this.setState({showOutOfBoundsModal:!1})}},{key:"onOutOfBoundsConfirmClick",value:function(){var t=this.state.tmpSpineVid;this.setState((function(e){return{showOutOfBoundsModal:!1,mediaTrack:S(t.annotationDuration,e.mediaTrack),textTrack:S(t.annotationDuration,e.textTrack)}})),this.updateSpineVid(t.url,t.host,t.assetId,t.annotationId,t.annotationStartTime,t.annotationDuration,t.volume),this.setState({tmpSpineVid:null}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onAddWithoutPrimaryVid",value:function(){this.setState({showAddPrimaryMediaModal:!0})}},{key:"onAddPrimaryCloseClick",value:function(){this.setState({showAddPrimaryMediaModal:!1})}},{key:"onSpineVolumeChange",value:function(t){var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"onSpineVolumeToggle",value:function(){var t=80;this.state.spineVid.volume&&(t=0);var e=this.state.spineVid;e.volume=t,this.setState({spineVid:e}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}},{key:"getItem",value:function(t){return t?"txt"===t[0]?this.state.textTrack[t[1]]:this.state.mediaTrack[t[1]]:null}},{key:"sequenceDuration",value:function(){return this.state.spineVid&&this.state.spineVid.annotationDuration?this.state.spineVid.annotationDuration:this.state.duration}},{key:"updateSpineVid",value:function(t,e,n,r,i,o,s){a()(s)||(s=80),this.state.spineVid&&this.state.spineVid.url!==t&&this.setState({duration:null}),this.setState({spineVid:{url:t,host:e,assetId:n,annotationId:r,annotationStartTime:i,annotationDuration:o,volume:s},playing:!1,time:0}),this._primaryVid.onStart()}},{key:"addOrEditSpineVideo",value:function(t,e){var n=this;(new Hp).getAsset(t).then((function(r){var i=C(r,t,e);i.duration&&!function(t,e,n){for(var r=0;r<e.length;r++)if(e[r].end_time>t)return!0;for(var i=0;i<n.length;i++)if(n[i].end_time>t)return!0;return!1}(i.duration,n.state.mediaTrack,n.state.textTrack)||!(n.state.mediaTrack.length>0||n.state.textTrack.length>0)?n.updateSpineVid(i.url,i.host,t,e,i.startTime,i.duration,i.volume):n.setState({showOutOfBoundsModal:!0,tmpSpineVid:{url:i.url,host:i.host,assetId:t,annotationId:e,annotationStartTime:i.startTime,annotationDuration:i.duration,volume:i.volume},playing:!1,time:0})}))}},{key:"addMediaTrackElement",value:function(t,e,n){var r=this;(new Hp).getAsset(t).then((function(i){var o=C(i,t,e),s=r.state.mediaTrack.slice(0),l=s.length,u=w(n,n+o.duration,r.sequenceDuration(),r.state.mediaTrack);(a()(u.start)||a()(u.end))&&(s.push({key:l,start_time:u.start,end_time:u.end,type:o.type,host:o.host,source:o.url,media_asset:t,media:e,annotationData:o.data,annotationStartTime:o.startTime,annotationDuration:o.duration,width:o.width,height:o.height,volume:80}),r.setState({mediaTrack:s,activeElement:["media",l]}))}))}},{key:"editActiveMediaTrackElement",value:function(t,e){var n=this;(new Hp).getAsset(t).then((function(r){var i=n.state.mediaTrack.slice(),o=C(r,t,e),a=n.state.activeElement[1],s=n.state.mediaTrack[a],l=s.start_time,u=o.duration||s.end_time-s.start_time;i[a].media=e,i[a].annotationData=o.data,i[a].annotationStartTime=o.startTime,i[a].annotationDuration=o.duration;var c=n.state.mediaTrack.slice();c.splice(a,1);var f=E(l,l+u,n.sequenceDuration(),c);i[a].end_time=f,n.setState({mediaTrack:i}),jQuery(window).trigger("sequence.set_dirty",{dirty:!0})}))}},{key:"hasMediaElements",value:function(){return this.state.mediaTrack.length>0}}],r&&qp(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(t.Component);Jp.propTypes={primaryInstructions:i().string.isRequired,secondaryInstructions:i().string.isRequired,readOnly:i().bool.isRequired},Jp.defaultProps={primaryInstructions:"",secondaryInstructions:"",readOnly:!1},document.getElementById("jux-container")&&e.render(t.createElement(Jp,{readOnly:view&&view.readOnly||!1,primaryInstructions:view&&view.primaryInstructions||"",secondaryInstructions:view&&view.secondaryInstructions||""}),document.getElementById("jux-container"))})()})();